var iP=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import"./tabler.esm-17eb6a54.js";import"./popper-528ebbd5.js";var $te=iP((Wte,Px)=>{var Ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Dx={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Dx.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",s="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",R=500,J="__lodash_placeholder__",k=1,z=2,q=4,L=1,O=2,G=1,M=2,S=4,P=8,H=16,U=32,E=64,ie=128,te=256,$=512,V=30,j="...",w=800,I=16,m=1,g=2,b=3,A=1/0,X=9007199254740991,Y=17976931348623157e292,K=0/0,le=4294967295,he=le-1,pe=le>>>1,F=[["ary",ie],["bind",G],["bindKey",M],["curry",P],["curryRight",H],["flip",$],["partial",U],["partialRight",E],["rearg",te]],Q="[object Arguments]",ce="[object Array]",ge="[object AsyncFunction]",ke="[object Boolean]",re="[object Date]",ve="[object DOMException]",_e="[object Error]",oe="[object Function]",ye="[object GeneratorFunction]",Se="[object Map]",Re="[object Number]",Oe="[object Null]",Ue="[object Object]",st="[object Promise]",Qe="[object Proxy]",qe="[object RegExp]",xe="[object Set]",Ie="[object String]",Be="[object Symbol]",Xe="[object Undefined]",Ke="[object WeakMap]",pt="[object WeakSet]",Tt="[object ArrayBuffer]",Lt="[object DataView]",gi="[object Float32Array]",Wt="[object Float64Array]",pi="[object Int8Array]",Gi="[object Int16Array]",ht="[object Int32Array]",It="[object Uint8Array]",ei="[object Uint8ClampedArray]",Pi="[object Uint16Array]",an="[object Uint32Array]",Gn=/\b__p \+= '';/g,Kr=/\b(__p \+=) '' \+/g,di=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$i=/&(?:amp|lt|gt|quot|#39);/g,Wi=/[&<>"']/g,Nr=RegExp($i.source),mo=RegExp(Wi.source),wn=/<%-([\s\S]+?)%>/g,ao=/<%([\s\S]+?)%>/g,Ln=/<%=([\s\S]+?)%>/g,ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,il=/^\w*$/,ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,He=RegExp(Ne.source),dt=/^\s+/,_t=/\s/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ut=/\{\n\/\* \[wrapped with (.+)\] \*/,Ht=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zt=/[()=,{}\[\]\/\s]/,xi=/\\(\\)?/g,Zi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Di=/\w*$/,Mn=/^[-+]0x[0-9a-f]+$/i,Cn=/^0b[01]+$/i,un=/^\[object .+?Constructor\]$/,Hi=/^0o[0-7]+$/i,lr=/^(?:0|[1-9]\d*)$/,kr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_n=/($^)/,Yr=/['\n\r\u2028\u2029\\]/g,Lr="\\ud800-\\udfff",Ua="\\u0300-\\u036f",$a="\\ufe20-\\ufe2f",go="\\u20d0-\\u20ff",fi=Ua+$a+go,ps="\\u2700-\\u27bf",Ls="a-z\\xdf-\\xf6\\xf8-\\xff",Os="\\xac\\xb1\\xd7\\xf7",bc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ao="\\u2000-\\u206f",Yc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",iu="A-Z\\xc0-\\xd6\\xd8-\\xde",lo="\\ufe0e\\ufe0f",Ki=Os+bc+Ao+Yc,tr="['’]",cr="["+Lr+"]",Jo="["+Ki+"]",Va="["+fi+"]",Nn="\\d+",wc="["+ps+"]",Ca="["+Ls+"]",nl="[^"+Lr+Ki+Nn+ps+Ls+iu+"]",Zs="\\ud83c[\\udffb-\\udfff]",Gr="(?:"+Va+"|"+Zs+")",co="[^"+Lr+"]",Uo="(?:\\ud83c[\\udde6-\\uddff]){2}",Gl="[\\ud800-\\udbff][\\udc00-\\udfff]",pa="["+iu+"]",yl="\\u200d",_l="(?:"+Ca+"|"+nl+")",rl="(?:"+pa+"|"+nl+")",vl="(?:"+tr+"(?:d|ll|m|re|s|t|ve))?",qc="(?:"+tr+"(?:D|LL|M|RE|S|T|VE))?",Xc=Gr+"?",Ro="["+lo+"]?",As="(?:"+yl+"(?:"+[co,Uo,Gl].join("|")+")"+Ro+Xc+")*",Hl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ks=Ro+Xc+As,fa="(?:"+[wc,Uo,Gl].join("|")+")"+Ks,Du="(?:"+[co+Va+"?",Va,Uo,Gl,cr].join("|")+")",Td=RegExp(tr,"g"),Hs=RegExp(Va,"g"),Wl=RegExp(Zs+"(?="+Zs+")|"+Du+Ks,"g"),Sd=RegExp([pa+"?"+Ca+"+"+vl+"(?="+[Jo,pa,"$"].join("|")+")",rl+"+"+qc+"(?="+[Jo,pa+_l,"$"].join("|")+")",pa+"?"+_l+"+"+vl,pa+"+"+qc,sl,Hl,Nn,fa].join("|"),"g"),Yl=RegExp("["+yl+Lr+fi+lo+"]"),Js=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cd=-1,Pr={};Pr[gi]=Pr[Wt]=Pr[pi]=Pr[Gi]=Pr[ht]=Pr[It]=Pr[ei]=Pr[Pi]=Pr[an]=!0,Pr[Q]=Pr[ce]=Pr[Tt]=Pr[ke]=Pr[Lt]=Pr[re]=Pr[_e]=Pr[oe]=Pr[Se]=Pr[Re]=Pr[Ue]=Pr[qe]=Pr[xe]=Pr[Ie]=Pr[Ke]=!1;var Fr={};Fr[Q]=Fr[ce]=Fr[Tt]=Fr[Lt]=Fr[ke]=Fr[re]=Fr[gi]=Fr[Wt]=Fr[pi]=Fr[Gi]=Fr[ht]=Fr[Se]=Fr[Re]=Fr[Ue]=Fr[qe]=Fr[xe]=Fr[Ie]=Fr[Be]=Fr[It]=Fr[ei]=Fr[Pi]=Fr[an]=!0,Fr[_e]=Fr[oe]=Fr[Ke]=!1;var Ed={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Iu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ma={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zc=parseFloat,Md=parseInt,ql=typeof Ra=="object"&&Ra&&Ra.Object===Object&&Ra,Qo=typeof self=="object"&&self&&self.Object===Object&&self,Ws=ql||Qo||Function("return this")(),Z=t&&!t.nodeType&&t,de=Z&&!0&&e&&!e.nodeType&&e,be=de&&de.exports===Z,Me=be&&ql.process,je=function(){try{var $t=de&&de.require&&de.require("util").types;return $t||Me&&Me.binding&&Me.binding("util")}catch{}}(),Ve=je&&je.isArrayBuffer,Je=je&&je.isDate,Rt=je&&je.isMap,Ct=je&&je.isRegExp,Kt=je&&je.isSet,mi=je&&je.isTypedArray;function ki($t,bi,hi){switch(hi.length){case 0:return $t.call(bi);case 1:return $t.call(bi,hi[0]);case 2:return $t.call(bi,hi[0],hi[1]);case 3:return $t.call(bi,hi[0],hi[1],hi[2])}return $t.apply(bi,hi)}function oi($t,bi,hi,fn){for(var Kn=-1,Or=$t==null?0:$t.length;++Kn<Or;){var zs=$t[Kn];bi(fn,zs,hi(zs),$t)}return fn}function ui($t,bi){for(var hi=-1,fn=$t==null?0:$t.length;++hi<fn&&bi($t[hi],hi,$t)!==!1;);return $t}function Xi($t,bi){for(var hi=$t==null?0:$t.length;hi--&&bi($t[hi],hi,$t)!==!1;);return $t}function qn($t,bi){for(var hi=-1,fn=$t==null?0:$t.length;++hi<fn;)if(!bi($t[hi],hi,$t))return!1;return!0}function pn($t,bi){for(var hi=-1,fn=$t==null?0:$t.length,Kn=0,Or=[];++hi<fn;){var zs=$t[hi];bi(zs,hi,$t)&&(Or[Kn++]=zs)}return Or}function fs($t,bi){var hi=$t==null?0:$t.length;return!!hi&&Zn($t,bi,0)>-1}function Jr($t,bi,hi){for(var fn=-1,Kn=$t==null?0:$t.length;++fn<Kn;)if(hi(bi,$t[fn]))return!0;return!1}function hr($t,bi){for(var hi=-1,fn=$t==null?0:$t.length,Kn=Array(fn);++hi<fn;)Kn[hi]=bi($t[hi],hi,$t);return Kn}function pr($t,bi){for(var hi=-1,fn=bi.length,Kn=$t.length;++hi<fn;)$t[Kn+hi]=bi[hi];return $t}function Hn($t,bi,hi,fn){var Kn=-1,Or=$t==null?0:$t.length;for(fn&&Or&&(hi=$t[++Kn]);++Kn<Or;)hi=bi(hi,$t[Kn],Kn,$t);return hi}function Qs($t,bi,hi,fn){var Kn=$t==null?0:$t.length;for(fn&&Kn&&(hi=$t[--Kn]);Kn--;)hi=bi(hi,$t[Kn],Kn,$t);return hi}function mr($t,bi){for(var hi=-1,fn=$t==null?0:$t.length;++hi<fn;)if(bi($t[hi],hi,$t))return!0;return!1}var Qr=ga("length");function Ga($t){return $t.split("")}function Xl($t){return $t.match(zt)||[]}function eo($t,bi,hi){var fn;return hi($t,function(Kn,Or,zs){if(bi(Kn,Or,zs))return fn=Or,!1}),fn}function ea($t,bi,hi,fn){for(var Kn=$t.length,Or=hi+(fn?1:-1);fn?Or--:++Or<Kn;)if(bi($t[Or],Or,$t))return Or;return-1}function Zn($t,bi,hi){return bi===bi?Cc($t,bi,hi):ea($t,ta,hi)}function yo($t,bi,hi,fn){for(var Kn=hi-1,Or=$t.length;++Kn<Or;)if(fn($t[Kn],bi))return Kn;return-1}function ta($t){return $t!==$t}function Bo($t,bi){var hi=$t==null?0:$t.length;return hi?jr($t,bi)/hi:K}function ga($t){return function(bi){return bi==null?n:bi[$t]}}function Zl($t){return function(bi){return $t==null?n:$t[bi]}}function ol($t,bi,hi,fn,Kn){return Kn($t,function(Or,zs,Ur){hi=fn?(fn=!1,Or):bi(hi,Or,zs,Ur)}),hi}function kd($t,bi){var hi=$t.length;for($t.sort(bi);hi--;)$t[hi]=$t[hi].value;return $t}function jr($t,bi){for(var hi,fn=-1,Kn=$t.length;++fn<Kn;){var Or=bi($t[fn]);Or!==n&&(hi=hi===n?Or:hi+Or)}return hi}function ya($t,bi){for(var hi=-1,fn=Array($t);++hi<$t;)fn[hi]=bi(hi);return fn}function Kc($t,bi){return hr(bi,function(hi){return[hi,$t[hi]]})}function Kl($t){return $t&&$t.slice(0,vo($t)+1).replace(dt,"")}function zo($t){return function(bi){return $t(bi)}}function Jl($t,bi){return hr(bi,function(hi){return $t[hi]})}function Tc($t,bi){return $t.has(bi)}function ru($t,bi){for(var hi=-1,fn=$t.length;++hi<fn&&Zn(bi,$t[hi],0)>-1;);return hi}function Ql($t,bi){for(var hi=$t.length;hi--&&Zn(bi,$t[hi],0)>-1;);return hi}function ec($t,bi){for(var hi=$t.length,fn=0;hi--;)$t[hi]===bi&&++fn;return fn}var Lu=Zl(Ed),tc=Zl(Iu);function su($t){return"\\"+ma[$t]}function Ea($t,bi){return $t==null?n:$t[bi]}function Ma($t){return Yl.test($t)}function ic($t){return Js.test($t)}function Ad($t){for(var bi,hi=[];!(bi=$t.next()).done;)hi.push(bi.value);return hi}function Sc($t){var bi=-1,hi=Array($t.size);return $t.forEach(function(fn,Kn){hi[++bi]=[Kn,fn]}),hi}function ia($t,bi){return function(hi){return $t(bi(hi))}}function _o($t,bi){for(var hi=-1,fn=$t.length,Kn=0,Or=[];++hi<fn;){var zs=$t[hi];(zs===bi||zs===J)&&($t[hi]=J,Or[Kn++]=hi)}return Or}function bl($t){var bi=-1,hi=Array($t.size);return $t.forEach(function(fn){hi[++bi]=fn}),hi}function nc($t){var bi=-1,hi=Array($t.size);return $t.forEach(function(fn){hi[++bi]=[fn,fn]}),hi}function Cc($t,bi,hi){for(var fn=hi-1,Kn=$t.length;++fn<Kn;)if($t[fn]===bi)return fn;return-1}function yh($t,bi,hi){for(var fn=hi+1;fn--;)if($t[fn]===bi)return fn;return fn}function vr($t){return Ma($t)?wl($t):Qr($t)}function $o($t){return Ma($t)?Ou($t):Ga($t)}function vo($t){for(var bi=$t.length;bi--&&_t.test($t.charAt(bi)););return bi}var na=Zl(nu);function wl($t){for(var bi=Wl.lastIndex=0;Wl.test($t);)++bi;return bi}function Ou($t){return $t.match(Wl)||[]}function Ru($t){return $t.match(Sd)||[]}var Bu=function $t(bi){bi=bi==null?Ws:Vo.defaults(Ws.Object(),bi,Vo.pick(Ws,xl));var hi=bi.Array,fn=bi.Date,Kn=bi.Error,Or=bi.Function,zs=bi.Math,Ur=bi.Object,Ec=bi.RegExp,Pd=bi.String,Go=bi.TypeError,rt=hi.prototype,Mt=Or.prototype,Ft=Ur.prototype,wi=bi["__core-js_shared__"],Vt=Mt.toString,li=Ft.hasOwnProperty,Ii=0,tn=function(){var y=/[^.]+$/.exec(wi&&wi.keys&&wi.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),zi=Ft.toString,Rn=Vt.call(Ur),Fn=Ws._,Un=Ec("^"+Vt.call(li).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ir=be?bi.Buffer:n,Cr=bi.Symbol,In=bi.Uint8Array,we=ir?ir.allocUnsafe:n,Ce=ia(Ur.getPrototypeOf,Ur),$e=Ur.create,vt=Ft.propertyIsEnumerable,Ei=rt.splice,Tn=Cr?Cr.isConcatSpreadable:n,xr=Cr?Cr.iterator:n,to=Cr?Cr.toStringTag:n,Ns=function(){try{var y=kh(Ur,"defineProperty");return y({},"",{}),y}catch{}}(),Tl=bi.clearTimeout!==Ws.clearTimeout&&bi.clearTimeout,nn=fn&&fn.now!==Ws.Date.now&&fn.now,Sl=bi.setTimeout!==Ws.setTimeout&&bi.setTimeout,Dd=zs.ceil,_h=zs.floor,pp=Ur.getOwnPropertySymbols,zu=ir?ir.isBuffer:n,Ef=bi.isFinite,fp=rt.join,Nu=ia(Ur.keys,Ur),Fs=zs.max,ms=zs.min,vh=fn.now,Fu=bi.parseInt,rm=zs.random,qg=rt.reverse,mp=kh(bi,"DataView"),Mc=kh(bi,"Map"),xh=kh(bi,"Promise"),Jc=kh(bi,"Set"),ju=kh(bi,"WeakMap"),Id=kh(Ur,"create"),Ld=ju&&new ju,ou={},Mf=od(mp),kf=od(Mc),sm=od(xh),gp=od(Jc),Qc=od(ju),Uu=Cr?Cr.prototype:n,$u=Uu?Uu.valueOf:n,Af=Uu?Uu.toString:n;function it(y){if(wo(y)&&!gr(y)&&!(y instanceof Jn)){if(y instanceof al)return y;if(li.call(y,"__wrapped__"))return Ap(y)}return new al(y)}var ed=function(){function y(){}return function(D){if(!ro(D))return{};if($e)return $e(D);y.prototype=D;var ae=new y;return y.prototype=n,ae}}();function bh(){}function al(y,D){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!D,this.__index__=0,this.__values__=n}it.templateSettings={escape:wn,evaluate:ao,interpolate:Ln,variable:"",imports:{_:it}},it.prototype=bh.prototype,it.prototype.constructor=it,al.prototype=ed(bh.prototype),al.prototype.constructor=al;function Jn(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function Xg(){var y=new Jn(this.__wrapped__);return y.__actions__=Po(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=Po(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=Po(this.__views__),y}function Pf(){if(this.__filtered__){var y=new Jn(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function Zg(){var y=this.__wrapped__.value(),D=this.__dir__,ae=gr(y),Pe=D<0,We=ae?y.length:0,ot=h1(0,We,this.__views__),Et=ot.start,Nt=ot.end,qt=Nt-Et,Ai=Pe?Nt:Et-1,Bi=this.__iteratees__,Vi=Bi.length,yn=0,Bn=ms(qt,this.__takeCount__);if(!ae||!Pe&&We==qt&&Bn==qt)return Sh(y,this.__actions__);var nr=[];e:for(;qt--&&yn<Bn;){Ai+=D;for(var Dr=-1,sr=y[Ai];++Dr<Vi;){var Vr=Bi[Dr],qr=Vr.iteratee,Pl=Vr.type,Ja=qr(sr);if(Pl==g)sr=Ja;else if(!Ja){if(Pl==m)continue e;break e}}nr[yn++]=sr}return nr}Jn.prototype=ed(bh.prototype),Jn.prototype.constructor=Jn;function au(y){var D=-1,ae=y==null?0:y.length;for(this.clear();++D<ae;){var Pe=y[D];this.set(Pe[0],Pe[1])}}function td(){this.__data__=Id?Id(null):{},this.size=0}function om(y){var D=this.has(y)&&delete this.__data__[y];return this.size-=D?1:0,D}function Vu(y){var D=this.__data__;if(Id){var ae=D[y];return ae===v?n:ae}return li.call(D,y)?D[y]:n}function kc(y){var D=this.__data__;return Id?D[y]!==n:li.call(D,y)}function yp(y,D){var ae=this.__data__;return this.size+=this.has(y)?0:1,ae[y]=Id&&D===n?v:D,this}au.prototype.clear=td,au.prototype.delete=om,au.prototype.get=Vu,au.prototype.has=kc,au.prototype.set=yp;function en(y){var D=-1,ae=y==null?0:y.length;for(this.clear();++D<ae;){var Pe=y[D];this.set(Pe[0],Pe[1])}}function am(){this.__data__=[],this.size=0}function lm(y){var D=this.__data__,ae=c(D,y);if(ae<0)return!1;var Pe=D.length-1;return ae==Pe?D.pop():Ei.call(D,ae,1),--this.size,!0}function Od(y){var D=this.__data__,ae=c(D,y);return ae<0?n:D[ae][1]}function wh(y){return c(this.__data__,y)>-1}function Df(y,D){var ae=this.__data__,Pe=c(ae,y);return Pe<0?(++this.size,ae.push([y,D])):ae[Pe][1]=D,this}en.prototype.clear=am,en.prototype.delete=lm,en.prototype.get=Od,en.prototype.has=wh,en.prototype.set=Df;function Ac(y){var D=-1,ae=y==null?0:y.length;for(this.clear();++D<ae;){var Pe=y[D];this.set(Pe[0],Pe[1])}}function If(){this.size=0,this.__data__={hash:new au,map:new(Mc||en),string:new au}}function Lf(y){var D=Tp(this,y).delete(y);return this.size-=D?1:0,D}function Of(y){return Tp(this,y).get(y)}function Rf(y){return Tp(this,y).has(y)}function Gu(y,D){var ae=Tp(this,y),Pe=ae.size;return ae.set(y,D),this.size+=ae.size==Pe?0:1,this}Ac.prototype.clear=If,Ac.prototype.delete=Lf,Ac.prototype.get=Of,Ac.prototype.has=Rf,Ac.prototype.set=Gu;function rc(y){var D=-1,ae=y==null?0:y.length;for(this.__data__=new Ac;++D<ae;)this.add(y[D])}function _p(y){return this.__data__.set(y,v),this}function cm(y){return this.__data__.has(y)}rc.prototype.add=rc.prototype.push=_p,rc.prototype.has=cm;function ll(y){var D=this.__data__=new en(y);this.size=D.size}function dm(){this.__data__=new en,this.size=0}function um(y){var D=this.__data__,ae=D.delete(y);return this.size=D.size,ae}function hm(y){return this.__data__.get(y)}function pm(y){return this.__data__.has(y)}function fm(y,D){var ae=this.__data__;if(ae instanceof en){var Pe=ae.__data__;if(!Mc||Pe.length<o-1)return Pe.push([y,D]),this.size=++ae.size,this;ae=this.__data__=new Ac(Pe)}return ae.set(y,D),this.size=ae.size,this}ll.prototype.clear=dm,ll.prototype.delete=um,ll.prototype.get=hm,ll.prototype.has=pm,ll.prototype.set=fm;function vp(y,D){var ae=gr(y),Pe=!ae&&Rh(y),We=!ae&&!Pe&&cd(y),ot=!ae&&!Pe&&!We&&dd(y),Et=ae||Pe||We||ot,Nt=Et?ya(y.length,Pd):[],qt=Nt.length;for(var Ai in y)(D||li.call(y,Ai))&&!(Et&&(Ai=="length"||We&&(Ai=="offset"||Ai=="parent")||ot&&(Ai=="buffer"||Ai=="byteLength"||Ai=="byteOffset")||Fd(Ai,qt)))&&Nt.push(Ai);return Nt}function Bf(y){var D=y.length;return D?y[Wa(0,D-1)]:n}function mm(y,D){return kp(Po(y),ue(D,0,y.length))}function zf(y){return kp(Po(y))}function lu(y,D,ae){(ae!==n&&!ld(y[D],ae)||ae===n&&!(D in y))&&W(y,D,ae)}function _(y,D,ae){var Pe=y[D];(!(li.call(y,D)&&ld(Pe,ae))||ae===n&&!(D in y))&&W(y,D,ae)}function c(y,D){for(var ae=y.length;ae--;)if(ld(y[ae][0],D))return ae;return-1}function p(y,D,ae,Pe){return at(y,function(We,ot,Et){D(Pe,We,ae(We),Et)}),Pe}function T(y,D){return y&&Ho(D,To(D),y)}function B(y,D){return y&&Ho(D,ul(D),y)}function W(y,D,ae){D=="__proto__"&&Ns?Ns(y,D,{configurable:!0,enumerable:!0,value:ae,writable:!0}):y[D]=ae}function se(y,D){for(var ae=-1,Pe=D.length,We=hi(Pe),ot=y==null;++ae<Pe;)We[ae]=ot?n:Wm(y,D[ae]);return We}function ue(y,D,ae){return y===y&&(ae!==n&&(y=y<=ae?y:ae),D!==n&&(y=y>=D?y:D)),y}function me(y,D,ae,Pe,We,ot){var Et,Nt=D&k,qt=D&z,Ai=D&q;if(ae&&(Et=We?ae(y,Pe,We,ot):ae(y)),Et!==n)return Et;if(!ro(y))return y;var Bi=gr(y);if(Bi){if(Et=Ah(y),!Nt)return Po(y,Et)}else{var Vi=Ya(y),yn=Vi==oe||Vi==ye;if(cd(y))return Bd(y,Nt);if(Vi==Ue||Vi==Q||yn&&!We){if(Et=qt||yn?{}:f1(y),!Nt)return qt?Yu(y,B(Et,y)):Wu(y,T(Et,y))}else{if(!Fr[Vi])return We?y:{};Et=p2(y,Vi,Nt)}}ot||(ot=new ll);var Bn=ot.get(y);if(Bn)return Bn;ot.set(y,Et),yv(y)?y.forEach(function(sr){Et.add(me(sr,D,ae,sr,y,ot))}):V1(y)&&y.forEach(function(sr,Vr){Et.set(Vr,me(sr,D,ae,Vr,y,ot))});var nr=Ai?qt?d1:bm:qt?ul:To,Dr=Bi?n:nr(y);return ui(Dr||y,function(sr,Vr){Dr&&(Vr=sr,sr=y[Vr]),_(Et,Vr,me(sr,D,ae,Vr,y,ot))}),Et}function De(y){var D=To(y);return function(ae){return Ae(ae,y,D)}}function Ae(y,D,ae){var Pe=ae.length;if(y==null)return!Pe;for(y=Ur(y);Pe--;){var We=ae[Pe],ot=D[We],Et=y[We];if(Et===n&&!(We in y)||!ot(Et))return!1}return!0}function Fe(y,D,ae){if(typeof y!="function")throw new Go(h);return Mp(function(){y.apply(n,ae)},D)}function Ze(y,D,ae,Pe){var We=-1,ot=fs,Et=!0,Nt=y.length,qt=[],Ai=D.length;if(!Nt)return qt;ae&&(D=hr(D,zo(ae))),Pe?(ot=Jr,Et=!1):D.length>=o&&(ot=Tc,Et=!1,D=new rc(D));e:for(;++We<Nt;){var Bi=y[We],Vi=ae==null?Bi:ae(Bi);if(Bi=Pe||Bi!==0?Bi:0,Et&&Vi===Vi){for(var yn=Ai;yn--;)if(D[yn]===Vi)continue e;qt.push(Bi)}else ot(D,Vi,Pe)||qt.push(Bi)}return qt}var at=L_(St),lt=L_(jt,!0);function ut(y,D){var ae=!0;return at(y,function(Pe,We,ot){return ae=!!D(Pe,We,ot),ae}),ae}function et(y,D,ae){for(var Pe=-1,We=y.length;++Pe<We;){var ot=y[Pe],Et=D(ot);if(Et!=null&&(Nt===n?Et===Et&&!Ka(Et):ae(Et,Nt)))var Nt=Et,qt=ot}return qt}function nt(y,D,ae,Pe){var We=y.length;for(ae=Qn(ae),ae<0&&(ae=-ae>We?0:We+ae),Pe=Pe===n||Pe>We?We:Qn(Pe),Pe<0&&(Pe+=We),Pe=ae>Pe?0:Bp(Pe);ae<Pe;)y[ae++]=D;return y}function mt(y,D){var ae=[];return at(y,function(Pe,We,ot){D(Pe,We,ot)&&ae.push(Pe)}),ae}function ct(y,D,ae,Pe,We){var ot=-1,Et=y.length;for(ae||(ae=Sm),We||(We=[]);++ot<Et;){var Nt=y[ot];D>0&&ae(Nt)?D>1?ct(Nt,D-1,ae,Pe,We):pr(We,Nt):Pe||(We[We.length]=Nt)}return We}var xt=O_(),Pt=O_(!0);function St(y,D){return y&&xt(y,D,To)}function jt(y,D){return y&&Pt(y,D,To)}function ii(y,D){return pn(D,function(ae){return Ud(y[ae])})}function Jt(y,D){D=id(D,y);for(var ae=0,Pe=D.length;y!=null&&ae<Pe;)y=y[kl(D[ae++])];return ae&&ae==Pe?y:n}function Gt(y,D,ae){var Pe=D(y);return gr(y)?Pe:pr(Pe,ae(y))}function Mi(y){return y==null?y===n?Xe:Oe:to&&to in Ur(y)?B_(y):g1(y)}function Xt(y,D){return y>D}function yi(y,D){return y!=null&&li.call(y,D)}function ri(y,D){return y!=null&&D in Ur(y)}function Ri(y,D,ae){return y>=ms(D,ae)&&y<Fs(D,ae)}function si(y,D,ae){for(var Pe=ae?Jr:fs,We=y[0].length,ot=y.length,Et=ot,Nt=hi(ot),qt=1/0,Ai=[];Et--;){var Bi=y[Et];Et&&D&&(Bi=hr(Bi,zo(D))),qt=ms(Bi.length,qt),Nt[Et]=!ae&&(D||We>=120&&Bi.length>=120)?new rc(Et&&Bi):n}Bi=y[0];var Vi=-1,yn=Nt[0];e:for(;++Vi<We&&Ai.length<qt;){var Bn=Bi[Vi],nr=D?D(Bn):Bn;if(Bn=ae||Bn!==0?Bn:0,!(yn?Tc(yn,nr):Pe(Ai,nr,ae))){for(Et=ot;--Et;){var Dr=Nt[Et];if(!(Dr?Tc(Dr,nr):Pe(y[Et],nr,ae)))continue e}yn&&yn.push(nr),Ai.push(Bn)}}return Ai}function Si(y,D,ae,Pe){return St(y,function(We,ot,Et){D(Pe,ae(We),ot,Et)}),Pe}function Ni(y,D,ae){D=id(D,y),y=y1(y,D);var Pe=y==null?y:y[kl(Oc(D))];return Pe==null?n:ki(Pe,y,ae)}function Yt(y){return wo(y)&&Mi(y)==Q}function ni(y){return wo(y)&&Mi(y)==Tt}function mn(y){return wo(y)&&Mi(y)==re}function Sn(y,D,ae,Pe,We){return y===D?!0:y==null||D==null||!wo(y)&&!wo(D)?y!==y&&D!==D:gn(y,D,ae,Pe,Sn,We)}function gn(y,D,ae,Pe,We,ot){var Et=gr(y),Nt=gr(D),qt=Et?ce:Ya(y),Ai=Nt?ce:Ya(D);qt=qt==Q?Ue:qt,Ai=Ai==Q?Ue:Ai;var Bi=qt==Ue,Vi=Ai==Ue,yn=qt==Ai;if(yn&&cd(y)){if(!cd(D))return!1;Et=!0,Bi=!1}if(yn&&!Bi)return ot||(ot=new ll),Et||dd(y)?l1(y,D,ae,Pe,We,ot):c1(y,D,qt,ae,Pe,We,ot);if(!(ae&L)){var Bn=Bi&&li.call(y,"__wrapped__"),nr=Vi&&li.call(D,"__wrapped__");if(Bn||nr){var Dr=Bn?y.value():y,sr=nr?D.value():D;return ot||(ot=new ll),We(Dr,sr,ae,Pe,ot)}}return yn?(ot||(ot=new ll),h2(y,D,ae,Pe,We,ot)):!1}function jn(y){return wo(y)&&Ya(y)==Se}function or(y,D,ae,Pe){var We=ae.length,ot=We,Et=!Pe;if(y==null)return!ot;for(y=Ur(y);We--;){var Nt=ae[We];if(Et&&Nt[2]?Nt[1]!==y[Nt[0]]:!(Nt[0]in y))return!1}for(;++We<ot;){Nt=ae[We];var qt=Nt[0],Ai=y[qt],Bi=Nt[1];if(Et&&Nt[2]){if(Ai===n&&!(qt in y))return!1}else{var Vi=new ll;if(Pe)var yn=Pe(Ai,Bi,qt,y,D,Vi);if(!(yn===n?Sn(Bi,Ai,L|O,Pe,Vi):yn))return!1}}return!0}function kn(y){if(!ro(y)||Ml(y))return!1;var D=Ud(y)?Un:un;return D.test(od(y))}function ln(y){return wo(y)&&Mi(y)==qe}function is(y){return wo(y)&&Ya(y)==xe}function Hr(y){return wo(y)&&ns(y.length)&&!!Pr[Mi(y)]}function rs(y){return typeof y=="function"?y:y==null?No:typeof y=="object"?gr(y)?gs(y[0],y[1]):sc(y):dy(y)}function es(y){if(!Ep(y))return Nu(y);var D=[];for(var ae in Ur(y))li.call(y,ae)&&ae!="constructor"&&D.push(ae);return D}function Ha(y){if(!ro(y))return Dh(y);var D=Ep(y),ae=[];for(var Pe in y)Pe=="constructor"&&(D||!li.call(y,Pe))||ae.push(Pe);return ae}function ka(y,D){return y<D}function _a(y,D){var ae=-1,Pe=_s(y)?hi(y.length):[];return at(y,function(We,ot,Et){Pe[++ae]=D(We,ot,Et)}),Pe}function sc(y){var D=wm(y);return D.length==1&&D[0][2]?Cm(D[0][0],D[0][1]):function(ae){return ae===y||or(ae,y,D)}}function gs(y,D){return m1(y)&&Ic(D)?Cm(kl(y),D):function(ae){var Pe=Wm(ae,y);return Pe===n&&Pe===D?Bh(ae,y):Sn(D,Pe,L|O)}}function ts(y,D,ae,Pe,We){y!==D&&xt(D,function(ot,Et){if(We||(We=new ll),ro(ot))$r(y,D,Et,ae,ts,Pe,We);else{var Nt=Pe?Pe(_1(y,Et),ot,Et+"",y,D,We):n;Nt===n&&(Nt=ot),lu(y,Et,Nt)}},ul)}function $r(y,D,ae,Pe,We,ot,Et){var Nt=_1(y,ae),qt=_1(D,ae),Ai=Et.get(qt);if(Ai){lu(y,ae,Ai);return}var Bi=ot?ot(Nt,qt,ae+"",y,D,Et):n,Vi=Bi===n;if(Vi){var yn=gr(qt),Bn=!yn&&cd(qt),nr=!yn&&!Bn&&dd(qt);Bi=qt,yn||Bn||nr?gr(Nt)?Bi=Nt:Cs(Nt)?Bi=Po(Nt):Bn?(Vi=!1,Bi=Bd(qt,!0)):nr?(Vi=!1,Bi=D_(qt,!0)):Bi=[]:i0(qt)||Rh(qt)?(Bi=Nt,Rh(Nt)?Bi=Vm(Nt):(!ro(Nt)||Ud(Nt))&&(Bi=f1(qt))):Vi=!1}Vi&&(Et.set(qt,Bi),We(Bi,qt,Pe,ot,Et),Et.delete(qt)),lu(y,ae,Bi)}function no(y,D){var ae=y.length;if(ae)return D+=D<0?ae:0,Fd(D,ae)?y[D]:n}function ra(y,D,ae){D.length?D=hr(D,function(ot){return gr(ot)?function(Et){return Jt(Et,ot.length===1?ot[0]:ot)}:ot}):D=[No];var Pe=-1;D=hr(D,zo(Xn()));var We=_a(y,function(ot,Et,Nt){var qt=hr(D,function(Ai){return Ai(ot)});return{criteria:qt,index:++Pe,value:ot}});return kd(We,function(ot,Et){return i1(ot,Et,ae)})}function ys(y,D){return va(y,D,function(ae,Pe){return Bh(y,Pe)})}function va(y,D,ae){for(var Pe=-1,We=D.length,ot={};++Pe<We;){var Et=D[Pe],Nt=Jt(y,Et);ae(Nt,Et)&&cu(ot,id(Et,y),Nt)}return ot}function Th(y){return function(D){return Jt(D,y)}}function oc(y,D,ae,Pe){var We=Pe?yo:Zn,ot=-1,Et=D.length,Nt=y;for(y===D&&(D=Po(D)),ae&&(Nt=hr(y,zo(ae)));++ot<Et;)for(var qt=0,Ai=D[ot],Bi=ae?ae(Ai):Ai;(qt=We(Nt,Bi,qt,Pe))>-1;)Nt!==y&&Ei.call(Nt,qt,1),Ei.call(y,qt,1);return y}function sa(y,D){for(var ae=y?D.length:0,Pe=ae-1;ae--;){var We=D[ae];if(ae==Pe||We!==ot){var ot=We;Fd(We)?Ei.call(y,We,1):ym(y,We)}}return y}function Wa(y,D){return y+_h(rm()*(D-y+1))}function Pc(y,D,ae,Pe){for(var We=-1,ot=Fs(Dd((D-y)/(ae||1)),0),Et=hi(ot);ot--;)Et[Pe?ot:++We]=y,y+=ae;return Et}function Cl(y,D){var ae="";if(!y||D<1||D>X)return ae;do D%2&&(ae+=y),D=_h(D/2),D&&(y+=y);while(D);return ae}function fr(y,D){return Ih(Vf(y,D,No),y+"")}function Hu(y){return Bf(zh(y))}function Dc(y,D){var ae=zh(y);return kp(ae,ue(D,0,ae.length))}function cu(y,D,ae,Pe){if(!ro(y))return y;D=id(D,y);for(var We=-1,ot=D.length,Et=ot-1,Nt=y;Nt!=null&&++We<ot;){var qt=kl(D[We]),Ai=ae;if(qt==="__proto__"||qt==="constructor"||qt==="prototype")return y;if(We!=Et){var Bi=Nt[qt];Ai=Pe?Pe(Bi,qt,Nt):n,Ai===n&&(Ai=ro(Bi)?Bi:Fd(D[We+1])?[]:{})}_(Nt,qt,Ai),Nt=Nt[qt]}return y}var Nf=Ld?function(y,D){return Ld.set(y,D),y}:No,C_=Ns?function(y,D){return Ns(y,"toString",{configurable:!0,enumerable:!1,value:ay(D),writable:!0})}:No;function Kg(y){return kp(zh(y))}function ac(y,D,ae){var Pe=-1,We=y.length;D<0&&(D=-D>We?0:We+D),ae=ae>We?We:ae,ae<0&&(ae+=We),We=D>ae?0:ae-D>>>0,D>>>=0;for(var ot=hi(We);++Pe<We;)ot[Pe]=y[Pe+D];return ot}function E_(y,D){var ae;return at(y,function(Pe,We,ot){return ae=D(Pe,We,ot),!ae}),!!ae}function Ff(y,D,ae){var Pe=0,We=y==null?Pe:y.length;if(typeof D=="number"&&D===D&&We<=pe){for(;Pe<We;){var ot=Pe+We>>>1,Et=y[ot];Et!==null&&!Ka(Et)&&(ae?Et<=D:Et<D)?Pe=ot+1:We=ot}return We}return gm(y,D,No,ae)}function gm(y,D,ae,Pe){var We=0,ot=y==null?0:y.length;if(ot===0)return 0;D=ae(D);for(var Et=D!==D,Nt=D===null,qt=Ka(D),Ai=D===n;We<ot;){var Bi=_h((We+ot)/2),Vi=ae(y[Bi]),yn=Vi!==n,Bn=Vi===null,nr=Vi===Vi,Dr=Ka(Vi);if(Et)var sr=Pe||nr;else Ai?sr=nr&&(Pe||yn):Nt?sr=nr&&yn&&(Pe||!Bn):qt?sr=nr&&yn&&!Bn&&(Pe||!Dr):Bn||Dr?sr=!1:sr=Pe?Vi<=D:Vi<D;sr?We=Bi+1:ot=Bi}return ms(ot,he)}function Jg(y,D){for(var ae=-1,Pe=y.length,We=0,ot=[];++ae<Pe;){var Et=y[ae],Nt=D?D(Et):Et;if(!ae||!ld(Nt,qt)){var qt=Nt;ot[We++]=Et===0?0:Et}}return ot}function Qg(y){return typeof y=="number"?y:Ka(y)?K:+y}function El(y){if(typeof y=="string")return y;if(gr(y))return hr(y,El)+"";if(Ka(y))return Af?Af.call(y):"";var D=y+"";return D=="0"&&1/y==-A?"-0":D}function du(y,D,ae){var Pe=-1,We=fs,ot=y.length,Et=!0,Nt=[],qt=Nt;if(ae)Et=!1,We=Jr;else if(ot>=o){var Ai=D?null:xa(y);if(Ai)return bl(Ai);Et=!1,We=Tc,qt=new rc}else qt=D?[]:Nt;e:for(;++Pe<ot;){var Bi=y[Pe],Vi=D?D(Bi):Bi;if(Bi=ae||Bi!==0?Bi:0,Et&&Vi===Vi){for(var yn=qt.length;yn--;)if(qt[yn]===Vi)continue e;D&&qt.push(Vi),Nt.push(Bi)}else We(qt,Vi,ae)||(qt!==Nt&&qt.push(Vi),Nt.push(Bi))}return Nt}function ym(y,D){return D=id(D,y),y=y1(y,D),y==null||delete y[kl(Oc(D))]}function M_(y,D,ae,Pe){return cu(y,D,ae(Jt(y,D)),Pe)}function _m(y,D,ae,Pe){for(var We=y.length,ot=Pe?We:-1;(Pe?ot--:++ot<We)&&D(y[ot],ot,y););return ae?ac(y,Pe?0:ot,Pe?ot+1:We):ac(y,Pe?ot+1:0,Pe?We:ot)}function Sh(y,D){var ae=y;return ae instanceof Jn&&(ae=ae.value()),Hn(D,function(Pe,We){return We.func.apply(We.thisArg,pr([Pe],We.args))},ae)}function vm(y,D,ae){var Pe=y.length;if(Pe<2)return Pe?du(y[0]):[];for(var We=-1,ot=hi(Pe);++We<Pe;)for(var Et=y[We],Nt=-1;++Nt<Pe;)Nt!=We&&(ot[We]=Ze(ot[We]||Et,y[Nt],D,ae));return du(ct(ot,1),D,ae)}function e1(y,D,ae){for(var Pe=-1,We=y.length,ot=D.length,Et={};++Pe<We;){var Nt=Pe<ot?D[Pe]:n;ae(Et,y[Pe],Nt)}return Et}function xm(y){return Cs(y)?y:[]}function t1(y){return typeof y=="function"?y:No}function id(y,D){return gr(y)?y:m1(y,D)?[y]:v1(Es(y))}var k_=fr;function Rd(y,D,ae){var Pe=y.length;return ae=ae===n?Pe:ae,!D&&ae>=Pe?y:ac(y,D,ae)}var jf=Tl||function(y){return Ws.clearTimeout(y)};function Bd(y,D){if(D)return y.slice();var ae=y.length,Pe=we?we(ae):new y.constructor(ae);return y.copy(Pe),Pe}function xp(y){var D=new y.constructor(y.byteLength);return new In(D).set(new In(y)),D}function A_(y,D){var ae=D?xp(y.buffer):y.buffer;return new y.constructor(ae,y.byteOffset,y.byteLength)}function P_(y){var D=new y.constructor(y.source,Di.exec(y));return D.lastIndex=y.lastIndex,D}function c2(y){return $u?Ur($u.call(y)):{}}function D_(y,D){var ae=D?xp(y.buffer):y.buffer;return new y.constructor(ae,y.byteOffset,y.length)}function I_(y,D){if(y!==D){var ae=y!==n,Pe=y===null,We=y===y,ot=Ka(y),Et=D!==n,Nt=D===null,qt=D===D,Ai=Ka(D);if(!Nt&&!Ai&&!ot&&y>D||ot&&Et&&qt&&!Nt&&!Ai||Pe&&Et&&qt||!ae&&qt||!We)return 1;if(!Pe&&!ot&&!Ai&&y<D||Ai&&ae&&We&&!Pe&&!ot||Nt&&ae&&We||!Et&&We||!qt)return-1}return 0}function i1(y,D,ae){for(var Pe=-1,We=y.criteria,ot=D.criteria,Et=We.length,Nt=ae.length;++Pe<Et;){var qt=I_(We[Pe],ot[Pe]);if(qt){if(Pe>=Nt)return qt;var Ai=ae[Pe];return qt*(Ai=="desc"?-1:1)}}return y.index-D.index}function bp(y,D,ae,Pe){for(var We=-1,ot=y.length,Et=ae.length,Nt=-1,qt=D.length,Ai=Fs(ot-Et,0),Bi=hi(qt+Ai),Vi=!Pe;++Nt<qt;)Bi[Nt]=D[Nt];for(;++We<Et;)(Vi||We<ot)&&(Bi[ae[We]]=y[We]);for(;Ai--;)Bi[Nt++]=y[We++];return Bi}function Ch(y,D,ae,Pe){for(var We=-1,ot=y.length,Et=-1,Nt=ae.length,qt=-1,Ai=D.length,Bi=Fs(ot-Nt,0),Vi=hi(Bi+Ai),yn=!Pe;++We<Bi;)Vi[We]=y[We];for(var Bn=We;++qt<Ai;)Vi[Bn+qt]=D[qt];for(;++Et<Nt;)(yn||We<ot)&&(Vi[Bn+ae[Et]]=y[We++]);return Vi}function Po(y,D){var ae=-1,Pe=y.length;for(D||(D=hi(Pe));++ae<Pe;)D[ae]=y[ae];return D}function Ho(y,D,ae,Pe){var We=!ae;ae||(ae={});for(var ot=-1,Et=D.length;++ot<Et;){var Nt=D[ot],qt=Pe?Pe(ae[Nt],y[Nt],Nt,ae,y):n;qt===n&&(qt=y[Nt]),We?W(ae,Nt,qt):_(ae,Nt,qt)}return ae}function Wu(y,D){return Ho(y,u1(y),D)}function Yu(y,D){return Ho(y,Tm(y),D)}function zd(y,D){return function(ae,Pe){var We=gr(ae)?oi:p,ot=D?D():{};return We(ae,y,Xn(Pe,2),ot)}}function wp(y){return fr(function(D,ae){var Pe=-1,We=ae.length,ot=We>1?ae[We-1]:n,Et=We>2?ae[2]:n;for(ot=y.length>3&&typeof ot=="function"?(We--,ot):n,Et&&qa(ae[0],ae[1],Et)&&(ot=We<3?n:ot,We=1),D=Ur(D);++Pe<We;){var Nt=ae[Pe];Nt&&y(D,Nt,Pe,ot)}return D})}function L_(y,D){return function(ae,Pe){if(ae==null)return ae;if(!_s(ae))return y(ae,Pe);for(var We=ae.length,ot=D?We:-1,Et=Ur(ae);(D?ot--:++ot<We)&&Pe(Et[ot],ot,Et)!==!1;);return ae}}function O_(y){return function(D,ae,Pe){for(var We=-1,ot=Ur(D),Et=Pe(D),Nt=Et.length;Nt--;){var qt=Et[y?Nt:++We];if(ae(ot[qt],qt,ot)===!1)break}return D}}function d2(y,D,ae){var Pe=D&G,We=cl(y);function ot(){var Et=this&&this!==Ws&&this instanceof ot?We:y;return Et.apply(Pe?ae:this,arguments)}return ot}function n1(y){return function(D){D=Es(D);var ae=Ma(D)?$o(D):n,Pe=ae?ae[0]:D.charAt(0),We=ae?Rd(ae,1).join(""):D.slice(1);return Pe[y]()+We}}function uu(y){return function(D){return Hn(Fh(ey(D).replace(Td,"")),y,"")}}function cl(y){return function(){var D=arguments;switch(D.length){case 0:return new y;case 1:return new y(D[0]);case 2:return new y(D[0],D[1]);case 3:return new y(D[0],D[1],D[2]);case 4:return new y(D[0],D[1],D[2],D[3]);case 5:return new y(D[0],D[1],D[2],D[3],D[4]);case 6:return new y(D[0],D[1],D[2],D[3],D[4],D[5]);case 7:return new y(D[0],D[1],D[2],D[3],D[4],D[5],D[6])}var ae=ed(y.prototype),Pe=y.apply(ae,D);return ro(Pe)?Pe:ae}}function u2(y,D,ae){var Pe=cl(y);function We(){for(var ot=arguments.length,Et=hi(ot),Nt=ot,qt=pu(We);Nt--;)Et[Nt]=arguments[Nt];var Ai=ot<3&&Et[0]!==qt&&Et[ot-1]!==qt?[]:_o(Et,qt);if(ot-=Ai.length,ot<ae)return cc(y,D,On,We.placeholder,n,Et,Ai,n,n,ae-ot);var Bi=this&&this!==Ws&&this instanceof We?Pe:y;return ki(Bi,this,Et)}return We}function R_(y){return function(D,ae,Pe){var We=Ur(D);if(!_s(D)){var ot=Xn(ae,3);D=To(D),ae=function(Nt){return ot(We[Nt],Nt,We)}}var Et=y(D,ae,Pe);return Et>-1?We[ot?D[Et]:Et]:n}}function xo(y){return rd(function(D){var ae=D.length,Pe=ae,We=al.prototype.thru;for(y&&D.reverse();Pe--;){var ot=D[Pe];if(typeof ot!="function")throw new Go(h);if(We&&!Et&&Nd(ot)=="wrapper")var Et=new al([],!0)}for(Pe=Et?Pe:ae;++Pe<ae;){ot=D[Pe];var Nt=Nd(ot),qt=Nt=="wrapper"?sd(ot):n;qt&&Cp(qt[0])&&qt[1]==(ie|P|U|te)&&!qt[4].length&&qt[9]==1?Et=Et[Nd(qt[0])].apply(Et,qt[3]):Et=ot.length==1&&Cp(ot)?Et[Nt]():Et.thru(ot)}return function(){var Ai=arguments,Bi=Ai[0];if(Et&&Ai.length==1&&gr(Bi))return Et.plant(Bi).value();for(var Vi=0,yn=ae?D[Vi].apply(this,Ai):Bi;++Vi<ae;)yn=D[Vi].call(this,yn);return yn}})}function On(y,D,ae,Pe,We,ot,Et,Nt,qt,Ai){var Bi=D&ie,Vi=D&G,yn=D&M,Bn=D&(P|H),nr=D&$,Dr=yn?n:cl(y);function sr(){for(var Vr=arguments.length,qr=hi(Vr),Pl=Vr;Pl--;)qr[Pl]=arguments[Pl];if(Bn)var Ja=pu(sr),Dl=ec(qr,Ja);if(Pe&&(qr=bp(qr,Pe,We,Bn)),ot&&(qr=Ch(qr,ot,Et,Bn)),Vr-=Dl,Bn&&Vr<Ai){var Do=_o(qr,Ja);return cc(y,D,On,sr.placeholder,ae,qr,Do,Nt,qt,Ai-Vr)}var wa=Vi?ae:this,Gd=yn?wa[y]:y;return Vr=qr.length,Nt?qr=F_(qr,Nt):nr&&Vr>1&&qr.reverse(),Bi&&qt<Vr&&(qr.length=qt),this&&this!==Ws&&this instanceof sr&&(Gd=Dr||cl(Gd)),Gd.apply(wa,qr)}return sr}function hu(y,D){return function(ae,Pe){return Si(ae,y,D(Pe),{})}}function Eh(y,D){return function(ae,Pe){var We;if(ae===n&&Pe===n)return D;if(ae!==n&&(We=ae),Pe!==n){if(We===n)return Pe;typeof ae=="string"||typeof Pe=="string"?(ae=El(ae),Pe=El(Pe)):(ae=Qg(ae),Pe=Qg(Pe)),We=y(ae,Pe)}return We}}function Ar(y){return rd(function(D){return D=hr(D,zo(Xn())),fr(function(ae){var Pe=this;return y(D,function(We){return ki(We,Pe,ae)})})})}function Uf(y,D){D=D===n?" ":El(D);var ae=D.length;if(ae<2)return ae?Cl(D,y):D;var Pe=Cl(D,Dd(y/vr(D)));return Ma(D)?Rd($o(Pe),0,y).join(""):Pe.slice(0,y)}function r1(y,D,ae,Pe){var We=D&G,ot=cl(y);function Et(){for(var Nt=-1,qt=arguments.length,Ai=-1,Bi=Pe.length,Vi=hi(Bi+qt),yn=this&&this!==Ws&&this instanceof Et?ot:y;++Ai<Bi;)Vi[Ai]=Pe[Ai];for(;qt--;)Vi[Ai++]=arguments[++Nt];return ki(yn,We?ae:this,Vi)}return Et}function nd(y){return function(D,ae,Pe){return Pe&&typeof Pe!="number"&&qa(D,ae,Pe)&&(ae=Pe=n),D=$d(D),ae===n?(ae=D,D=0):ae=$d(ae),Pe=Pe===n?D<ae?1:-1:$d(Pe),Pc(D,ae,Pe,y)}}function lc(y){return function(D,ae){return typeof D=="string"&&typeof ae=="string"||(D=Aa(D),ae=Aa(ae)),y(D,ae)}}function cc(y,D,ae,Pe,We,ot,Et,Nt,qt,Ai){var Bi=D&P,Vi=Bi?Et:n,yn=Bi?n:Et,Bn=Bi?ot:n,nr=Bi?n:ot;D|=Bi?U:E,D&=~(Bi?E:U),D&S||(D&=~(G|M));var Dr=[y,D,We,Bn,Vi,nr,yn,Nt,qt,Ai],sr=ae.apply(n,Dr);return Cp(y)&&Em(sr,Dr),sr.placeholder=Pe,Lh(sr,y,D)}function dl(y){var D=zs[y];return function(ae,Pe){if(ae=Aa(ae),Pe=Pe==null?0:ms(Qn(Pe),292),Pe&&Ef(ae)){var We=(Es(ae)+"e").split("e"),ot=D(We[0]+"e"+(+We[1]+Pe));return We=(Es(ot)+"e").split("e"),+(We[0]+"e"+(+We[1]-Pe))}return D(ae)}}var xa=Jc&&1/bl(new Jc([,-0]))[1]==A?function(y){return new Jc(y)}:cy;function s1(y){return function(D){var ae=Ya(D);return ae==Se?Sc(D):ae==xe?nc(D):Kc(D,y(D))}}function ba(y,D,ae,Pe,We,ot,Et,Nt){var qt=D&M;if(!qt&&typeof y!="function")throw new Go(h);var Ai=Pe?Pe.length:0;if(Ai||(D&=~(U|E),Pe=We=n),Et=Et===n?Et:Fs(Qn(Et),0),Nt=Nt===n?Nt:Qn(Nt),Ai-=We?We.length:0,D&E){var Bi=Pe,Vi=We;Pe=We=n}var yn=qt?n:sd(y),Bn=[y,D,ae,Pe,We,Bi,Vi,ot,Et,Nt];if(yn&&$f(Bn,yn),y=Bn[0],D=Bn[1],ae=Bn[2],Pe=Bn[3],We=Bn[4],Nt=Bn[9]=Bn[9]===n?qt?0:y.length:Fs(Bn[9]-Ai,0),!Nt&&D&(P|H)&&(D&=~(P|H)),!D||D==G)var nr=d2(y,D,ae);else D==P||D==H?nr=u2(y,D,Nt):(D==U||D==(G|U))&&!We.length?nr=r1(y,D,ae,Pe):nr=On.apply(n,Bn);var Dr=yn?Nf:Em;return Lh(Dr(nr,Bn),y,D)}function o1(y,D,ae,Pe){return y===n||ld(y,Ft[ae])&&!li.call(Pe,ae)?D:y}function Mh(y,D,ae,Pe,We,ot){return ro(y)&&ro(D)&&(ot.set(D,y),ts(y,D,n,Mh,ot),ot.delete(D)),y}function a1(y){return i0(y)?n:y}function l1(y,D,ae,Pe,We,ot){var Et=ae&L,Nt=y.length,qt=D.length;if(Nt!=qt&&!(Et&&qt>Nt))return!1;var Ai=ot.get(y),Bi=ot.get(D);if(Ai&&Bi)return Ai==D&&Bi==y;var Vi=-1,yn=!0,Bn=ae&O?new rc:n;for(ot.set(y,D),ot.set(D,y);++Vi<Nt;){var nr=y[Vi],Dr=D[Vi];if(Pe)var sr=Et?Pe(Dr,nr,Vi,D,y,ot):Pe(nr,Dr,Vi,y,D,ot);if(sr!==n){if(sr)continue;yn=!1;break}if(Bn){if(!mr(D,function(Vr,qr){if(!Tc(Bn,qr)&&(nr===Vr||We(nr,Vr,ae,Pe,ot)))return Bn.push(qr)})){yn=!1;break}}else if(!(nr===Dr||We(nr,Dr,ae,Pe,ot))){yn=!1;break}}return ot.delete(y),ot.delete(D),yn}function c1(y,D,ae,Pe,We,ot,Et){switch(ae){case Lt:if(y.byteLength!=D.byteLength||y.byteOffset!=D.byteOffset)return!1;y=y.buffer,D=D.buffer;case Tt:return!(y.byteLength!=D.byteLength||!ot(new In(y),new In(D)));case ke:case re:case Re:return ld(+y,+D);case _e:return y.name==D.name&&y.message==D.message;case qe:case Ie:return y==D+"";case Se:var Nt=Sc;case xe:var qt=Pe&L;if(Nt||(Nt=bl),y.size!=D.size&&!qt)return!1;var Ai=Et.get(y);if(Ai)return Ai==D;Pe|=O,Et.set(y,D);var Bi=l1(Nt(y),Nt(D),Pe,We,ot,Et);return Et.delete(y),Bi;case Be:if($u)return $u.call(y)==$u.call(D)}return!1}function h2(y,D,ae,Pe,We,ot){var Et=ae&L,Nt=bm(y),qt=Nt.length,Ai=bm(D),Bi=Ai.length;if(qt!=Bi&&!Et)return!1;for(var Vi=qt;Vi--;){var yn=Nt[Vi];if(!(Et?yn in D:li.call(D,yn)))return!1}var Bn=ot.get(y),nr=ot.get(D);if(Bn&&nr)return Bn==D&&nr==y;var Dr=!0;ot.set(y,D),ot.set(D,y);for(var sr=Et;++Vi<qt;){yn=Nt[Vi];var Vr=y[yn],qr=D[yn];if(Pe)var Pl=Et?Pe(qr,Vr,yn,D,y,ot):Pe(Vr,qr,yn,y,D,ot);if(!(Pl===n?Vr===qr||We(Vr,qr,ae,Pe,ot):Pl)){Dr=!1;break}sr||(sr=yn=="constructor")}if(Dr&&!sr){var Ja=y.constructor,Dl=D.constructor;Ja!=Dl&&"constructor"in y&&"constructor"in D&&!(typeof Ja=="function"&&Ja instanceof Ja&&typeof Dl=="function"&&Dl instanceof Dl)&&(Dr=!1)}return ot.delete(y),ot.delete(D),Dr}function rd(y){return Ih(Vf(y,n,w1),y+"")}function bm(y){return Gt(y,To,u1)}function d1(y){return Gt(y,ul,Tm)}var sd=Ld?function(y){return Ld.get(y)}:cy;function Nd(y){for(var D=y.name+"",ae=ou[D],Pe=li.call(ou,D)?ae.length:0;Pe--;){var We=ae[Pe],ot=We.func;if(ot==null||ot==y)return We.name}return D}function pu(y){var D=li.call(it,"placeholder")?it:y;return D.placeholder}function Xn(){var y=it.iteratee||ly;return y=y===ly?rs:y,arguments.length?y(arguments[0],arguments[1]):y}function Tp(y,D){var ae=y.__data__;return f2(D)?ae[typeof D=="string"?"string":"hash"]:ae.map}function wm(y){for(var D=To(y),ae=D.length;ae--;){var Pe=D[ae],We=y[Pe];D[ae]=[Pe,We,Ic(We)]}return D}function kh(y,D){var ae=Ea(y,D);return kn(ae)?ae:n}function B_(y){var D=li.call(y,to),ae=y[to];try{y[to]=n;var Pe=!0}catch{}var We=zi.call(y);return Pe&&(D?y[to]=ae:delete y[to]),We}var u1=pp?function(y){return y==null?[]:(y=Ur(y),pn(pp(y),function(D){return vt.call(y,D)}))}:eg,Tm=pp?function(y){for(var D=[];y;)pr(D,u1(y)),y=Ce(y);return D}:eg,Ya=Mi;(mp&&Ya(new mp(new ArrayBuffer(1)))!=Lt||Mc&&Ya(new Mc)!=Se||xh&&Ya(xh.resolve())!=st||Jc&&Ya(new Jc)!=xe||ju&&Ya(new ju)!=Ke)&&(Ya=function(y){var D=Mi(y),ae=D==Ue?y.constructor:n,Pe=ae?od(ae):"";if(Pe)switch(Pe){case Mf:return Lt;case kf:return Se;case sm:return st;case gp:return xe;case Qc:return Ke}return D});function h1(y,D,ae){for(var Pe=-1,We=ae.length;++Pe<We;){var ot=ae[Pe],Et=ot.size;switch(ot.type){case"drop":y+=Et;break;case"dropRight":D-=Et;break;case"take":D=ms(D,y+Et);break;case"takeRight":y=Fs(y,D-Et);break}}return{start:y,end:D}}function z_(y){var D=y.match(Ut);return D?D[1].split(Ht):[]}function p1(y,D,ae){D=id(D,y);for(var Pe=-1,We=D.length,ot=!1;++Pe<We;){var Et=kl(D[Pe]);if(!(ot=y!=null&&ae(y,Et)))break;y=y[Et]}return ot||++Pe!=We?ot:(We=y==null?0:y.length,!!We&&ns(We)&&Fd(Et,We)&&(gr(y)||Rh(y)))}function Ah(y){var D=y.length,ae=new y.constructor(D);return D&&typeof y[0]=="string"&&li.call(y,"index")&&(ae.index=y.index,ae.input=y.input),ae}function f1(y){return typeof y.constructor=="function"&&!Ep(y)?ed(Ce(y)):{}}function p2(y,D,ae){var Pe=y.constructor;switch(D){case Tt:return xp(y);case ke:case re:return new Pe(+y);case Lt:return A_(y,ae);case gi:case Wt:case pi:case Gi:case ht:case It:case ei:case Pi:case an:return D_(y,ae);case Se:return new Pe;case Re:case Ie:return new Pe(y);case qe:return P_(y);case xe:return new Pe;case Be:return c2(y)}}function Sp(y,D){var ae=D.length;if(!ae)return y;var Pe=ae-1;return D[Pe]=(ae>1?"& ":"")+D[Pe],D=D.join(ae>2?", ":" "),y.replace(Ot,`{
/* [wrapped with `+D+`] */
`)}function Sm(y){return gr(y)||Rh(y)||!!(Tn&&y&&y[Tn])}function Fd(y,D){var ae=typeof y;return D=D??X,!!D&&(ae=="number"||ae!="symbol"&&lr.test(y))&&y>-1&&y%1==0&&y<D}function qa(y,D,ae){if(!ro(ae))return!1;var Pe=typeof D;return(Pe=="number"?_s(ae)&&Fd(D,ae.length):Pe=="string"&&D in ae)?ld(ae[D],y):!1}function m1(y,D){if(gr(y))return!1;var ae=typeof y;return ae=="number"||ae=="symbol"||ae=="boolean"||y==null||Ka(y)?!0:il.test(y)||!ja.test(y)||D!=null&&y in Ur(D)}function f2(y){var D=typeof y;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?y!=="__proto__":y===null}function Cp(y){var D=Nd(y),ae=it[D];if(typeof ae!="function"||!(D in Jn.prototype))return!1;if(y===ae)return!0;var Pe=sd(ae);return!!Pe&&y===Pe[0]}function Ml(y){return!!tn&&tn in y}var N_=wi?Ud:uy;function Ep(y){var D=y&&y.constructor,ae=typeof D=="function"&&D.prototype||Ft;return y===ae}function Ic(y){return y===y&&!ro(y)}function Cm(y,D){return function(ae){return ae==null?!1:ae[y]===D&&(D!==n||y in Ur(ae))}}function Ph(y){var D=oa(y,function(Pe){return ae.size===R&&ae.clear(),Pe}),ae=D.cache;return D}function $f(y,D){var ae=y[1],Pe=D[1],We=ae|Pe,ot=We<(G|M|ie),Et=Pe==ie&&ae==P||Pe==ie&&ae==te&&y[7].length<=D[8]||Pe==(ie|te)&&D[7].length<=D[8]&&ae==P;if(!(ot||Et))return y;Pe&G&&(y[2]=D[2],We|=ae&G?0:S);var Nt=D[3];if(Nt){var qt=y[3];y[3]=qt?bp(qt,Nt,D[4]):Nt,y[4]=qt?_o(y[3],J):D[4]}return Nt=D[5],Nt&&(qt=y[5],y[5]=qt?Ch(qt,Nt,D[6]):Nt,y[6]=qt?_o(y[5],J):D[6]),Nt=D[7],Nt&&(y[7]=Nt),Pe&ie&&(y[8]=y[8]==null?D[8]:ms(y[8],D[8])),y[9]==null&&(y[9]=D[9]),y[0]=D[0],y[1]=We,y}function Dh(y){var D=[];if(y!=null)for(var ae in Ur(y))D.push(ae);return D}function g1(y){return zi.call(y)}function Vf(y,D,ae){return D=Fs(D===n?y.length-1:D,0),function(){for(var Pe=arguments,We=-1,ot=Fs(Pe.length-D,0),Et=hi(ot);++We<ot;)Et[We]=Pe[D+We];We=-1;for(var Nt=hi(D+1);++We<D;)Nt[We]=Pe[We];return Nt[D]=ae(Et),ki(y,this,Nt)}}function y1(y,D){return D.length<2?y:Jt(y,ac(D,0,-1))}function F_(y,D){for(var ae=y.length,Pe=ms(D.length,ae),We=Po(y);Pe--;){var ot=D[Pe];y[Pe]=Fd(ot,ae)?We[ot]:n}return y}function _1(y,D){if(!(D==="constructor"&&typeof y[D]=="function")&&D!="__proto__")return y[D]}var Em=jd(Nf),Mp=Sl||function(y,D){return Ws.setTimeout(y,D)},Ih=jd(C_);function Lh(y,D,ae){var Pe=D+"";return Ih(y,Sp(Pe,dc(z_(Pe),ae)))}function jd(y){var D=0,ae=0;return function(){var Pe=vh(),We=I-(Pe-ae);if(ae=Pe,We>0){if(++D>=w)return arguments[0]}else D=0;return y.apply(n,arguments)}}function kp(y,D){var ae=-1,Pe=y.length,We=Pe-1;for(D=D===n?Pe:D;++ae<D;){var ot=Wa(ae,We),Et=y[ot];y[ot]=y[ae],y[ae]=Et}return y.length=D,y}var v1=Ph(function(y){var D=[];return y.charCodeAt(0)===46&&D.push(""),y.replace(ft,function(ae,Pe,We,ot){D.push(We?ot.replace(xi,"$1"):Pe||ae)}),D});function kl(y){if(typeof y=="string"||Ka(y))return y;var D=y+"";return D=="0"&&1/y==-A?"-0":D}function od(y){if(y!=null){try{return Vt.call(y)}catch{}try{return y+""}catch{}}return""}function dc(y,D){return ui(F,function(ae){var Pe="_."+ae[0];D&ae[1]&&!fs(y,Pe)&&y.push(Pe)}),y.sort()}function Ap(y){if(y instanceof Jn)return y.clone();var D=new al(y.__wrapped__,y.__chain__);return D.__actions__=Po(y.__actions__),D.__index__=y.__index__,D.__values__=y.__values__,D}function Xa(y,D,ae){(ae?qa(y,D,ae):D===n)?D=1:D=Fs(Qn(D),0);var Pe=y==null?0:y.length;if(!Pe||D<1)return[];for(var We=0,ot=0,Et=hi(Dd(Pe/D));We<Pe;)Et[ot++]=ac(y,We,We+=D);return Et}function Lc(y){for(var D=-1,ae=y==null?0:y.length,Pe=0,We=[];++D<ae;){var ot=y[D];ot&&(We[Pe++]=ot)}return We}function x1(){var y=arguments.length;if(!y)return[];for(var D=hi(y-1),ae=arguments[0],Pe=y;Pe--;)D[Pe-1]=arguments[Pe];return pr(gr(ae)?Po(ae):[ae],ct(D,1))}var uo=fr(function(y,D){return Cs(y)?Ze(y,ct(D,1,Cs,!0)):[]}),j_=fr(function(y,D){var ae=Oc(D);return Cs(ae)&&(ae=n),Cs(y)?Ze(y,ct(D,1,Cs,!0),Xn(ae,2)):[]}),Gf=fr(function(y,D){var ae=Oc(D);return Cs(ae)&&(ae=n),Cs(y)?Ze(y,ct(D,1,Cs,!0),n,ae):[]});function ad(y,D,ae){var Pe=y==null?0:y.length;return Pe?(D=ae||D===n?1:Qn(D),ac(y,D<0?0:D,Pe)):[]}function m2(y,D,ae){var Pe=y==null?0:y.length;return Pe?(D=ae||D===n?1:Qn(D),D=Pe-D,ac(y,0,D<0?0:D)):[]}function g2(y,D){return y&&y.length?_m(y,Xn(D,3),!0,!0):[]}function U_(y,D){return y&&y.length?_m(y,Xn(D,3),!0):[]}function $_(y,D,ae,Pe){var We=y==null?0:y.length;return We?(ae&&typeof ae!="number"&&qa(y,D,ae)&&(ae=0,Pe=We),nt(y,D,ae,Pe)):[]}function qu(y,D,ae){var Pe=y==null?0:y.length;if(!Pe)return-1;var We=ae==null?0:Qn(ae);return We<0&&(We=Fs(Pe+We,0)),ea(y,Xn(D,3),We)}function b1(y,D,ae){var Pe=y==null?0:y.length;if(!Pe)return-1;var We=Pe-1;return ae!==n&&(We=Qn(ae),We=ae<0?Fs(Pe+We,0):ms(We,Pe-1)),ea(y,Xn(D,3),We,!0)}function w1(y){var D=y==null?0:y.length;return D?ct(y,1):[]}function V_(y){var D=y==null?0:y.length;return D?ct(y,A):[]}function G_(y,D){var ae=y==null?0:y.length;return ae?(D=D===n?1:Qn(D),ct(y,D)):[]}function y2(y){for(var D=-1,ae=y==null?0:y.length,Pe={};++D<ae;){var We=y[D];Pe[We[0]]=We[1]}return Pe}function Mm(y){return y&&y.length?y[0]:n}function T1(y,D,ae){var Pe=y==null?0:y.length;if(!Pe)return-1;var We=ae==null?0:Qn(ae);return We<0&&(We=Fs(Pe+We,0)),Zn(y,D,We)}function S1(y){var D=y==null?0:y.length;return D?ac(y,0,-1):[]}var Za=fr(function(y){var D=hr(y,xm);return D.length&&D[0]===y[0]?si(D):[]}),H_=fr(function(y){var D=Oc(y),ae=hr(y,xm);return D===Oc(ae)?D=n:ae.pop(),ae.length&&ae[0]===y[0]?si(ae,Xn(D,2)):[]}),_2=fr(function(y){var D=Oc(y),ae=hr(y,xm);return D=typeof D=="function"?D:n,D&&ae.pop(),ae.length&&ae[0]===y[0]?si(ae,n,D):[]});function W_(y,D){return y==null?"":fp.call(y,D)}function Oc(y){var D=y==null?0:y.length;return D?y[D-1]:n}function v2(y,D,ae){var Pe=y==null?0:y.length;if(!Pe)return-1;var We=Pe;return ae!==n&&(We=Qn(ae),We=We<0?Fs(Pe+We,0):ms(We,Pe-1)),D===D?yh(y,D,We):ea(y,ta,We,!0)}function Y_(y,D){return y&&y.length?no(y,Qn(D)):n}var q_=fr(C1);function C1(y,D){return y&&y.length&&D&&D.length?oc(y,D):y}function E1(y,D,ae){return y&&y.length&&D&&D.length?oc(y,D,Xn(ae,2)):y}function fu(y,D,ae){return y&&y.length&&D&&D.length?oc(y,D,n,ae):y}var Al=rd(function(y,D){var ae=y==null?0:y.length,Pe=se(y,D);return sa(y,hr(D,function(We){return Fd(We,ae)?+We:We}).sort(I_)),Pe});function x2(y,D){var ae=[];if(!(y&&y.length))return ae;var Pe=-1,We=[],ot=y.length;for(D=Xn(D,3);++Pe<ot;){var Et=y[Pe];D(Et,Pe,y)&&(ae.push(Et),We.push(Pe))}return sa(y,We),ae}function Hf(y){return y==null?y:qg.call(y)}function b2(y,D,ae){var Pe=y==null?0:y.length;return Pe?(ae&&typeof ae!="number"&&qa(y,D,ae)?(D=0,ae=Pe):(D=D==null?0:Qn(D),ae=ae===n?Pe:Qn(ae)),ac(y,D,ae)):[]}function w2(y,D){return Ff(y,D)}function T2(y,D,ae){return gm(y,D,Xn(ae,2))}function Wf(y,D){var ae=y==null?0:y.length;if(ae){var Pe=Ff(y,D);if(Pe<ae&&ld(y[Pe],D))return Pe}return-1}function km(y,D){return Ff(y,D,!0)}function X_(y,D,ae){return gm(y,D,Xn(ae,2),!0)}function Oh(y,D){var ae=y==null?0:y.length;if(ae){var Pe=Ff(y,D,!0)-1;if(ld(y[Pe],D))return Pe}return-1}function Yf(y){return y&&y.length?Jg(y):[]}function S2(y,D){return y&&y.length?Jg(y,Xn(D,2)):[]}function C2(y){var D=y==null?0:y.length;return D?ac(y,1,D):[]}function E2(y,D,ae){return y&&y.length?(D=ae||D===n?1:Qn(D),ac(y,0,D<0?0:D)):[]}function M2(y,D,ae){var Pe=y==null?0:y.length;return Pe?(D=ae||D===n?1:Qn(D),D=Pe-D,ac(y,D<0?0:D,Pe)):[]}function k2(y,D){return y&&y.length?_m(y,Xn(D,3),!1,!0):[]}function A2(y,D){return y&&y.length?_m(y,Xn(D,3)):[]}var P2=fr(function(y){return du(ct(y,1,Cs,!0))}),M1=fr(function(y){var D=Oc(y);return Cs(D)&&(D=n),du(ct(y,1,Cs,!0),Xn(D,2))}),D2=fr(function(y){var D=Oc(y);return D=typeof D=="function"?D:n,du(ct(y,1,Cs,!0),n,D)});function Pp(y){return y&&y.length?du(y):[]}function I2(y,D){return y&&y.length?du(y,Xn(D,2)):[]}function bo(y,D){return D=typeof D=="function"?D:n,y&&y.length?du(y,n,D):[]}function Dp(y){if(!(y&&y.length))return[];var D=0;return y=pn(y,function(ae){if(Cs(ae))return D=Fs(ae.length,D),!0}),ya(D,function(ae){return hr(y,ga(ae))})}function k1(y,D){if(!(y&&y.length))return[];var ae=Dp(y);return D==null?ae:hr(ae,function(Pe){return ki(D,n,Pe)})}var Am=fr(function(y,D){return Cs(y)?Ze(y,D):[]}),Pm=fr(function(y){return vm(pn(y,Cs))}),qf=fr(function(y){var D=Oc(y);return Cs(D)&&(D=n),vm(pn(y,Cs),Xn(D,2))}),Z_=fr(function(y){var D=Oc(y);return D=typeof D=="function"?D:n,vm(pn(y,Cs),n,D)}),K_=fr(Dp);function Xf(y,D){return e1(y||[],D||[],_)}function A1(y,D){return e1(y||[],D||[],cu)}var P1=fr(function(y){var D=y.length,ae=D>1?y[D-1]:n;return ae=typeof ae=="function"?(y.pop(),ae):n,k1(y,ae)});function J_(y){var D=it(y);return D.__chain__=!0,D}function Q_(y,D){return D(y),y}function Xu(y,D){return D(y)}var L2=rd(function(y){var D=y.length,ae=D?y[0]:0,Pe=this.__wrapped__,We=function(ot){return se(ot,y)};return D>1||this.__actions__.length||!(Pe instanceof Jn)||!Fd(ae)?this.thru(We):(Pe=Pe.slice(ae,+ae+(D?1:0)),Pe.__actions__.push({func:Xu,args:[We],thisArg:n}),new al(Pe,this.__chain__).thru(function(ot){return D&&!ot.length&&ot.push(n),ot}))});function D1(){return J_(this)}function O2(){return new al(this.value(),this.__chain__)}function I1(){this.__values__===n&&(this.__values__=$m(this.value()));var y=this.__index__>=this.__values__.length,D=y?n:this.__values__[this.__index__++];return{done:y,value:D}}function L1(){return this}function Dm(y){for(var D,ae=this;ae instanceof bh;){var Pe=Ap(ae);Pe.__index__=0,Pe.__values__=n,D?We.__wrapped__=Pe:D=Pe;var We=Pe;ae=ae.__wrapped__}return We.__wrapped__=y,D}function R2(){var y=this.__wrapped__;if(y instanceof Jn){var D=y;return this.__actions__.length&&(D=new Jn(this)),D=D.reverse(),D.__actions__.push({func:Xu,args:[Hf],thisArg:n}),new al(D,this.__chain__)}return this.thru(Hf)}function B2(){return Sh(this.__wrapped__,this.__actions__)}var z2=zd(function(y,D,ae){li.call(y,ae)?++y[ae]:W(y,ae,1)});function N2(y,D,ae){var Pe=gr(y)?qn:ut;return ae&&qa(y,D,ae)&&(D=n),Pe(y,Xn(D,3))}function F2(y,D){var ae=gr(y)?pn:mt;return ae(y,Xn(D,3))}var j2=R_(qu),Im=R_(b1);function U2(y,D){return ct(Lm(y,D),1)}function ev(y,D){return ct(Lm(y,D),A)}function Ip(y,D,ae){return ae=ae===n?1:Qn(ae),ct(Lm(y,D),ae)}function tv(y,D){var ae=gr(y)?ui:at;return ae(y,Xn(D,3))}function iv(y,D){var ae=gr(y)?Xi:lt;return ae(y,Xn(D,3))}var $2=zd(function(y,D,ae){li.call(y,ae)?y[ae].push(D):W(y,ae,[D])});function nv(y,D,ae,Pe){y=_s(y)?y:zh(y),ae=ae&&!Pe?Qn(ae):0;var We=y.length;return ae<0&&(ae=Fs(We+ae,0)),Um(y)?ae<=We&&y.indexOf(D,ae)>-1:!!We&&Zn(y,D,ae)>-1}var rv=fr(function(y,D,ae){var Pe=-1,We=typeof D=="function",ot=_s(y)?hi(y.length):[];return at(y,function(Et){ot[++Pe]=We?ki(D,Et,ae):Ni(Et,D,ae)}),ot}),V2=zd(function(y,D,ae){W(y,ae,D)});function Lm(y,D){var ae=gr(y)?hr:_a;return ae(y,Xn(D,3))}function G2(y,D,ae,Pe){return y==null?[]:(gr(D)||(D=D==null?[]:[D]),ae=Pe?n:ae,gr(ae)||(ae=ae==null?[]:[ae]),ra(y,D,ae))}var O1=zd(function(y,D,ae){y[ae?0:1].push(D)},function(){return[[],[]]});function Om(y,D,ae){var Pe=gr(y)?Hn:ol,We=arguments.length<3;return Pe(y,Xn(D,4),ae,We,at)}function Rm(y,D,ae){var Pe=gr(y)?Qs:ol,We=arguments.length<3;return Pe(y,Xn(D,4),ae,We,lt)}function H2(y,D){var ae=gr(y)?pn:mt;return ae(y,Zu(Xn(D,3)))}function W2(y){var D=gr(y)?Bf:Hu;return D(y)}function Zf(y,D,ae){(ae?qa(y,D,ae):D===n)?D=1:D=Qn(D);var Pe=gr(y)?mm:Dc;return Pe(y,D)}function Kf(y){var D=gr(y)?zf:Kg;return D(y)}function sv(y){if(y==null)return 0;if(_s(y))return Um(y)?vr(y):y.length;var D=Ya(y);return D==Se||D==xe?y.size:es(y).length}function Jf(y,D,ae){var Pe=gr(y)?mr:E_;return ae&&qa(y,D,ae)&&(D=n),Pe(y,Xn(D,3))}var ov=fr(function(y,D){if(y==null)return[];var ae=D.length;return ae>1&&qa(y,D[0],D[1])?D=[]:ae>2&&qa(D[0],D[1],D[2])&&(D=[D[0]]),ra(y,ct(D,1),[])}),Bm=nn||function(){return Ws.Date.now()};function av(y,D){if(typeof D!="function")throw new Go(h);return y=Qn(y),function(){if(--y<1)return D.apply(this,arguments)}}function R1(y,D,ae){return D=ae?n:D,D=y&&D==null?y.length:D,ba(y,ie,n,n,n,n,D)}function B1(y,D){var ae;if(typeof D!="function")throw new Go(h);return y=Qn(y),function(){return--y>0&&(ae=D.apply(this,arguments)),y<=1&&(D=n),ae}}var zm=fr(function(y,D,ae){var Pe=G;if(ae.length){var We=_o(ae,pu(zm));Pe|=U}return ba(y,Pe,D,ae,We)}),z1=fr(function(y,D,ae){var Pe=G|M;if(ae.length){var We=_o(ae,pu(z1));Pe|=U}return ba(D,Pe,y,ae,We)});function N1(y,D,ae){D=ae?n:D;var Pe=ba(y,P,n,n,n,n,n,D);return Pe.placeholder=N1.placeholder,Pe}function lv(y,D,ae){D=ae?n:D;var Pe=ba(y,H,n,n,n,n,n,D);return Pe.placeholder=lv.placeholder,Pe}function cv(y,D,ae){var Pe,We,ot,Et,Nt,qt,Ai=0,Bi=!1,Vi=!1,yn=!0;if(typeof y!="function")throw new Go(h);D=Aa(D)||0,ro(ae)&&(Bi=!!ae.leading,Vi="maxWait"in ae,ot=Vi?Fs(Aa(ae.maxWait)||0,D):ot,yn="trailing"in ae?!!ae.trailing:yn);function Bn(Do){var wa=Pe,Gd=We;return Pe=We=n,Ai=Do,Et=y.apply(Gd,wa),Et}function nr(Do){return Ai=Do,Nt=Mp(Vr,D),Bi?Bn(Do):Et}function Dr(Do){var wa=Do-qt,Gd=Do-Ai,p0=D-wa;return Vi?ms(p0,ot-Gd):p0}function sr(Do){var wa=Do-qt,Gd=Do-Ai;return qt===n||wa>=D||wa<0||Vi&&Gd>=ot}function Vr(){var Do=Bm();if(sr(Do))return qr(Do);Nt=Mp(Vr,Dr(Do))}function qr(Do){return Nt=n,yn&&Pe?Bn(Do):(Pe=We=n,Et)}function Pl(){Nt!==n&&jf(Nt),Ai=0,Pe=qt=We=Nt=n}function Ja(){return Nt===n?Et:qr(Bm())}function Dl(){var Do=Bm(),wa=sr(Do);if(Pe=arguments,We=this,qt=Do,wa){if(Nt===n)return nr(qt);if(Vi)return jf(Nt),Nt=Mp(Vr,D),Bn(qt)}return Nt===n&&(Nt=Mp(Vr,D)),Et}return Dl.cancel=Pl,Dl.flush=Ja,Dl}var dv=fr(function(y,D){return Fe(y,1,D)}),Nm=fr(function(y,D,ae){return Fe(y,Aa(D)||0,ae)});function uv(y){return ba(y,$)}function oa(y,D){if(typeof y!="function"||D!=null&&typeof D!="function")throw new Go(h);var ae=function(){var Pe=arguments,We=D?D.apply(this,Pe):Pe[0],ot=ae.cache;if(ot.has(We))return ot.get(We);var Et=y.apply(this,Pe);return ae.cache=ot.set(We,Et)||ot,Et};return ae.cache=new(oa.Cache||Ac),ae}oa.Cache=Ac;function Zu(y){if(typeof y!="function")throw new Go(h);return function(){var D=arguments;switch(D.length){case 0:return!y.call(this);case 1:return!y.call(this,D[0]);case 2:return!y.call(this,D[0],D[1]);case 3:return!y.call(this,D[0],D[1],D[2])}return!y.apply(this,D)}}function Lp(y){return B1(2,y)}var Qf=k_(function(y,D){D=D.length==1&&gr(D[0])?hr(D[0],zo(Xn())):hr(ct(D,1),zo(Xn()));var ae=D.length;return fr(function(Pe){for(var We=-1,ot=ms(Pe.length,ae);++We<ot;)Pe[We]=D[We].call(this,Pe[We]);return ki(y,this,Pe)})}),Fm=fr(function(y,D){var ae=_o(D,pu(Fm));return ba(y,U,n,D,ae)}),F1=fr(function(y,D){var ae=_o(D,pu(F1));return ba(y,E,n,D,ae)}),Y2=rd(function(y,D){return ba(y,te,n,n,n,D)});function q2(y,D){if(typeof y!="function")throw new Go(h);return D=D===n?D:Qn(D),fr(y,D)}function X2(y,D){if(typeof y!="function")throw new Go(h);return D=D==null?0:Fs(Qn(D),0),fr(function(ae){var Pe=ae[D],We=Rd(ae,0,D);return Pe&&pr(We,Pe),ki(y,this,We)})}function Z2(y,D,ae){var Pe=!0,We=!0;if(typeof y!="function")throw new Go(h);return ro(ae)&&(Pe="leading"in ae?!!ae.leading:Pe,We="trailing"in ae?!!ae.trailing:We),cv(y,D,{leading:Pe,maxWait:D,trailing:We})}function K2(y){return R1(y,1)}function J2(y,D){return Fm(t1(D),y)}function jm(){if(!arguments.length)return[];var y=arguments[0];return gr(y)?y:[y]}function Q2(y){return me(y,q)}function hv(y,D){return D=typeof D=="function"?D:n,me(y,q,D)}function pv(y){return me(y,k|q)}function fv(y,D){return D=typeof D=="function"?D:n,me(y,k|q,D)}function ew(y,D){return D==null||Ae(y,D,To(D))}function ld(y,D){return y===D||y!==y&&D!==D}var tw=lc(Xt),iw=lc(function(y,D){return y>=D}),Rh=Yt(function(){return arguments}())?Yt:function(y){return wo(y)&&li.call(y,"callee")&&!vt.call(y,"callee")},gr=hi.isArray,nw=Ve?zo(Ve):ni;function _s(y){return y!=null&&ns(y.length)&&!Ud(y)}function Cs(y){return wo(y)&&_s(y)}function j1(y){return y===!0||y===!1||wo(y)&&Mi(y)==ke}var cd=zu||uy,Op=Je?zo(Je):mn;function rw(y){return wo(y)&&y.nodeType===1&&!i0(y)}function sw(y){if(y==null)return!0;if(_s(y)&&(gr(y)||typeof y=="string"||typeof y.splice=="function"||cd(y)||dd(y)||Rh(y)))return!y.length;var D=Ya(y);if(D==Se||D==xe)return!y.size;if(Ep(y))return!es(y).length;for(var ae in y)if(li.call(y,ae))return!1;return!0}function e0(y,D){return Sn(y,D)}function ow(y,D,ae){ae=typeof ae=="function"?ae:n;var Pe=ae?ae(y,D):n;return Pe===n?Sn(y,D,n,ae):!!Pe}function U1(y){if(!wo(y))return!1;var D=Mi(y);return D==_e||D==ve||typeof y.message=="string"&&typeof y.name=="string"&&!i0(y)}function t0(y){return typeof y=="number"&&Ef(y)}function Ud(y){if(!ro(y))return!1;var D=Mi(y);return D==oe||D==ye||D==ge||D==Qe}function $1(y){return typeof y=="number"&&y==Qn(y)}function ns(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=X}function ro(y){var D=typeof y;return y!=null&&(D=="object"||D=="function")}function wo(y){return y!=null&&typeof y=="object"}var V1=Rt?zo(Rt):jn;function mu(y,D){return y===D||or(y,D,wm(D))}function Rp(y,D,ae){return ae=typeof ae=="function"?ae:n,or(y,D,wm(D),ae)}function mv(y){return gv(y)&&y!=+y}function aw(y){if(N_(y))throw new Kn(d);return kn(y)}function lw(y){return y===null}function cw(y){return y==null}function gv(y){return typeof y=="number"||wo(y)&&Mi(y)==Re}function i0(y){if(!wo(y)||Mi(y)!=Ue)return!1;var D=Ce(y);if(D===null)return!0;var ae=li.call(D,"constructor")&&D.constructor;return typeof ae=="function"&&ae instanceof ae&&Vt.call(ae)==Rn}var G1=Ct?zo(Ct):ln;function dw(y){return $1(y)&&y>=-X&&y<=X}var yv=Kt?zo(Kt):is;function Um(y){return typeof y=="string"||!gr(y)&&wo(y)&&Mi(y)==Ie}function Ka(y){return typeof y=="symbol"||wo(y)&&Mi(y)==Be}var dd=mi?zo(mi):Hr;function _v(y){return y===n}function uw(y){return wo(y)&&Ya(y)==Ke}function hw(y){return wo(y)&&Mi(y)==pt}var pw=lc(ka),H1=lc(function(y,D){return y<=D});function $m(y){if(!y)return[];if(_s(y))return Um(y)?$o(y):Po(y);if(xr&&y[xr])return Ad(y[xr]());var D=Ya(y),ae=D==Se?Sc:D==xe?bl:zh;return ae(y)}function $d(y){if(!y)return y===0?y:0;if(y=Aa(y),y===A||y===-A){var D=y<0?-1:1;return D*Y}return y===y?y:0}function Qn(y){var D=$d(y),ae=D%1;return D===D?ae?D-ae:D:0}function Bp(y){return y?ue(Qn(y),0,le):0}function Aa(y){if(typeof y=="number")return y;if(Ka(y))return K;if(ro(y)){var D=typeof y.valueOf=="function"?y.valueOf():y;y=ro(D)?D+"":D}if(typeof y!="string")return y===0?y:+y;y=Kl(y);var ae=Cn.test(y);return ae||Hi.test(y)?Md(y.slice(2),ae?2:8):Mn.test(y)?K:+y}function Vm(y){return Ho(y,ul(y))}function Gm(y){return y?ue(Qn(y),-X,X):y===0?y:0}function Es(y){return y==null?"":El(y)}var vv=wp(function(y,D){if(Ep(D)||_s(D)){Ho(D,To(D),y);return}for(var ae in D)li.call(D,ae)&&_(y,ae,D[ae])}),W1=wp(function(y,D){Ho(D,ul(D),y)}),Hm=wp(function(y,D,ae,Pe){Ho(D,ul(D),y,Pe)}),xv=wp(function(y,D,ae,Pe){Ho(D,To(D),y,Pe)}),bv=rd(se);function Y1(y,D){var ae=ed(y);return D==null?ae:T(ae,D)}var wv=fr(function(y,D){y=Ur(y);var ae=-1,Pe=D.length,We=Pe>2?D[2]:n;for(We&&qa(D[0],D[1],We)&&(Pe=1);++ae<Pe;)for(var ot=D[ae],Et=ul(ot),Nt=-1,qt=Et.length;++Nt<qt;){var Ai=Et[Nt],Bi=y[Ai];(Bi===n||ld(Bi,Ft[Ai])&&!li.call(y,Ai))&&(y[Ai]=ot[Ai])}return y}),fw=fr(function(y){return y.push(n,Mh),ki(n0,n,y)});function Tv(y,D){return eo(y,Xn(D,3),St)}function gu(y,D){return eo(y,Xn(D,3),jt)}function Sv(y,D){return y==null?y:xt(y,Xn(D,3),ul)}function Cv(y,D){return y==null?y:Pt(y,Xn(D,3),ul)}function Ev(y,D){return y&&St(y,Xn(D,3))}function Mv(y,D){return y&&jt(y,Xn(D,3))}function mw(y){return y==null?[]:ii(y,To(y))}function gw(y){return y==null?[]:ii(y,ul(y))}function Wm(y,D,ae){var Pe=y==null?n:Jt(y,D);return Pe===n?ae:Pe}function kv(y,D){return y!=null&&p1(y,D,yi)}function Bh(y,D){return y!=null&&p1(y,D,ri)}var Av=hu(function(y,D,ae){D!=null&&typeof D.toString!="function"&&(D=zi.call(D)),y[D]=ae},ay(No)),Pv=hu(function(y,D,ae){D!=null&&typeof D.toString!="function"&&(D=zi.call(D)),li.call(y,D)?y[D].push(ae):y[D]=[ae]},Xn),q1=fr(Ni);function To(y){return _s(y)?vp(y):es(y)}function ul(y){return _s(y)?vp(y,!0):Ha(y)}function Ym(y,D){var ae={};return D=Xn(D,3),St(y,function(Pe,We,ot){W(ae,D(Pe,We,ot),Pe)}),ae}function Dv(y,D){var ae={};return D=Xn(D,3),St(y,function(Pe,We,ot){W(ae,We,D(Pe,We,ot))}),ae}var qm=wp(function(y,D,ae){ts(y,D,ae)}),n0=wp(function(y,D,ae,Pe){ts(y,D,ae,Pe)}),yw=rd(function(y,D){var ae={};if(y==null)return ae;var Pe=!1;D=hr(D,function(ot){return ot=id(ot,y),Pe||(Pe=ot.length>1),ot}),Ho(y,d1(y),ae),Pe&&(ae=me(ae,k|z|q,a1));for(var We=D.length;We--;)ym(ae,D[We]);return ae});function _w(y,D){return Iv(y,Zu(Xn(D)))}var vw=rd(function(y,D){return y==null?{}:ys(y,D)});function Iv(y,D){if(y==null)return{};var ae=hr(d1(y),function(Pe){return[Pe]});return D=Xn(D),va(y,ae,function(Pe,We){return D(Pe,We[0])})}function xw(y,D,ae){D=id(D,y);var Pe=-1,We=D.length;for(We||(We=1,y=n);++Pe<We;){var ot=y==null?n:y[kl(D[Pe])];ot===n&&(Pe=We,ot=ae),y=Ud(ot)?ot.call(y):ot}return y}function zp(y,D,ae){return y==null?y:cu(y,D,ae)}function X1(y,D,ae,Pe){return Pe=typeof Pe=="function"?Pe:n,y==null?y:cu(y,D,ae,Pe)}var Lv=s1(To),Z1=s1(ul);function bw(y,D,ae){var Pe=gr(y),We=Pe||cd(y)||dd(y);if(D=Xn(D,4),ae==null){var ot=y&&y.constructor;We?ae=Pe?new ot:[]:ro(y)?ae=Ud(ot)?ed(Ce(y)):{}:ae={}}return(We?ui:St)(y,function(Et,Nt,qt){return D(ae,Et,Nt,qt)}),ae}function K1(y,D){return y==null?!0:ym(y,D)}function ww(y,D,ae){return y==null?y:M_(y,D,t1(ae))}function Ku(y,D,ae,Pe){return Pe=typeof Pe=="function"?Pe:n,y==null?y:M_(y,D,t1(ae),Pe)}function zh(y){return y==null?[]:Jl(y,To(y))}function Ov(y){return y==null?[]:Jl(y,ul(y))}function Xm(y,D,ae){return ae===n&&(ae=D,D=n),ae!==n&&(ae=Aa(ae),ae=ae===ae?ae:0),D!==n&&(D=Aa(D),D=D===D?D:0),ue(Aa(y),D,ae)}function J1(y,D,ae){return D=$d(D),ae===n?(ae=D,D=0):ae=$d(ae),y=Aa(y),Ri(y,D,ae)}function Tw(y,D,ae){if(ae&&typeof ae!="boolean"&&qa(y,D,ae)&&(D=ae=n),ae===n&&(typeof D=="boolean"?(ae=D,D=n):typeof y=="boolean"&&(ae=y,y=n)),y===n&&D===n?(y=0,D=1):(y=$d(y),D===n?(D=y,y=0):D=$d(D)),y>D){var Pe=y;y=D,D=Pe}if(ae||y%1||D%1){var We=rm();return ms(y+We*(D-y+Zc("1e-"+((We+"").length-1))),D)}return Wa(y,D)}var Sw=uu(function(y,D,ae){return D=D.toLowerCase(),y+(ae?Q1(D):D)});function Q1(y){return Jm(Es(y).toLowerCase())}function ey(y){return y=Es(y),y&&y.replace(kr,Lu).replace(Hs,"")}function r0(y,D,ae){y=Es(y),D=El(D);var Pe=y.length;ae=ae===n?Pe:ue(Qn(ae),0,Pe);var We=ae;return ae-=D.length,ae>=0&&y.slice(ae,We)==D}function yu(y){return y=Es(y),y&&mo.test(y)?y.replace(Wi,tc):y}function ty(y){return y=Es(y),y&&He.test(y)?y.replace(Ne,"\\$&"):y}var Np=uu(function(y,D,ae){return y+(ae?"-":"")+D.toLowerCase()}),Fp=uu(function(y,D,ae){return y+(ae?" ":"")+D.toLowerCase()}),Rc=n1("toLowerCase");function Bc(y,D,ae){y=Es(y),D=Qn(D);var Pe=D?vr(y):0;if(!D||Pe>=D)return y;var We=(D-Pe)/2;return Uf(_h(We),ae)+y+Uf(Dd(We),ae)}function Cw(y,D,ae){y=Es(y),D=Qn(D);var Pe=D?vr(y):0;return D&&Pe<D?y+Uf(D-Pe,ae):y}function Rv(y,D,ae){y=Es(y),D=Qn(D);var Pe=D?vr(y):0;return D&&Pe<D?Uf(D-Pe,ae)+y:y}function Ew(y,D,ae){return ae||D==null?D=0:D&&(D=+D),Fu(Es(y).replace(dt,""),D||0)}function iy(y,D,ae){return(ae?qa(y,D,ae):D===n)?D=1:D=Qn(D),Cl(Es(y),D)}function Vd(){var y=arguments,D=Es(y[0]);return y.length<3?D:D.replace(y[1],y[2])}var Nh=uu(function(y,D,ae){return y+(ae?"_":"")+D.toLowerCase()});function Bv(y,D,ae){return ae&&typeof ae!="number"&&qa(y,D,ae)&&(D=ae=n),ae=ae===n?le:ae>>>0,ae?(y=Es(y),y&&(typeof D=="string"||D!=null&&!G1(D))&&(D=El(D),!D&&Ma(y))?Rd($o(y),0,ae):y.split(D,ae)):[]}var zv=uu(function(y,D,ae){return y+(ae?" ":"")+Jm(D)});function Mw(y,D,ae){return y=Es(y),ae=ae==null?0:ue(Qn(ae),0,y.length),D=El(D),y.slice(ae,ae+D.length)==D}function Zm(y,D,ae){var Pe=it.templateSettings;ae&&qa(y,D,ae)&&(D=n),y=Es(y),D=Hm({},D,Pe,o1);var We=Hm({},D.imports,Pe.imports,o1),ot=To(We),Et=Jl(We,ot),Nt,qt,Ai=0,Bi=D.interpolate||_n,Vi="__p += '",yn=Ec((D.escape||_n).source+"|"+Bi.source+"|"+(Bi===Ln?Zi:_n).source+"|"+(D.evaluate||_n).source+"|$","g"),Bn="//# sourceURL="+(li.call(D,"sourceURL")?(D.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Cd+"]")+`
`;y.replace(yn,function(sr,Vr,qr,Pl,Ja,Dl){return qr||(qr=Pl),Vi+=y.slice(Ai,Dl).replace(Yr,su),Vr&&(Nt=!0,Vi+=`' +
__e(`+Vr+`) +
'`),Ja&&(qt=!0,Vi+=`';
`+Ja+`;
__p += '`),qr&&(Vi+=`' +
((__t = (`+qr+`)) == null ? '' : __t) +
'`),Ai=Dl+sr.length,sr}),Vi+=`';
`;var nr=li.call(D,"variable")&&D.variable;if(!nr)Vi=`with (obj) {
`+Vi+`
}
`;else if(Zt.test(nr))throw new Kn(s);Vi=(qt?Vi.replace(Gn,""):Vi).replace(Kr,"$1").replace(di,"$1;"),Vi="function("+(nr||"obj")+`) {
`+(nr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Nt?", __e = _.escape":"")+(qt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Vi+`return __p
}`;var Dr=sy(function(){return Or(ot,Bn+"return "+Vi).apply(n,Et)});if(Dr.source=Vi,U1(Dr))throw Dr;return Dr}function ny(y){return Es(y).toLowerCase()}function jp(y){return Es(y).toUpperCase()}function s0(y,D,ae){if(y=Es(y),y&&(ae||D===n))return Kl(y);if(!y||!(D=El(D)))return y;var Pe=$o(y),We=$o(D),ot=ru(Pe,We),Et=Ql(Pe,We)+1;return Rd(Pe,ot,Et).join("")}function o0(y,D,ae){if(y=Es(y),y&&(ae||D===n))return y.slice(0,vo(y)+1);if(!y||!(D=El(D)))return y;var Pe=$o(y),We=Ql(Pe,$o(D))+1;return Rd(Pe,0,We).join("")}function Km(y,D,ae){if(y=Es(y),y&&(ae||D===n))return y.replace(dt,"");if(!y||!(D=El(D)))return y;var Pe=$o(y),We=ru(Pe,$o(D));return Rd(Pe,We).join("")}function Nv(y,D){var ae=V,Pe=j;if(ro(D)){var We="separator"in D?D.separator:We;ae="length"in D?Qn(D.length):ae,Pe="omission"in D?El(D.omission):Pe}y=Es(y);var ot=y.length;if(Ma(y)){var Et=$o(y);ot=Et.length}if(ae>=ot)return y;var Nt=ae-vr(Pe);if(Nt<1)return Pe;var qt=Et?Rd(Et,0,Nt).join(""):y.slice(0,Nt);if(We===n)return qt+Pe;if(Et&&(Nt+=qt.length-Nt),G1(We)){if(y.slice(Nt).search(We)){var Ai,Bi=qt;for(We.global||(We=Ec(We.source,Es(Di.exec(We))+"g")),We.lastIndex=0;Ai=We.exec(Bi);)var Vi=Ai.index;qt=qt.slice(0,Vi===n?Nt:Vi)}}else if(y.indexOf(El(We),Nt)!=Nt){var yn=qt.lastIndexOf(We);yn>-1&&(qt=qt.slice(0,yn))}return qt+Pe}function a0(y){return y=Es(y),y&&Nr.test(y)?y.replace($i,na):y}var ry=uu(function(y,D,ae){return y+(ae?" ":"")+D.toUpperCase()}),Jm=n1("toUpperCase");function Fh(y,D,ae){return y=Es(y),D=ae?n:D,D===n?ic(y)?Ru(y):Xl(y):y.match(D)||[]}var sy=fr(function(y,D){try{return ki(y,n,D)}catch(ae){return U1(ae)?ae:new Kn(ae)}}),oy=rd(function(y,D){return ui(D,function(ae){ae=kl(ae),W(y,ae,zm(y[ae],y))}),y});function Fv(y){var D=y==null?0:y.length,ae=Xn();return y=D?hr(y,function(Pe){if(typeof Pe[1]!="function")throw new Go(h);return[ae(Pe[0]),Pe[1]]}):[],fr(function(Pe){for(var We=-1;++We<D;){var ot=y[We];if(ki(ot[0],this,Pe))return ki(ot[1],this,Pe)}})}function kw(y){return De(me(y,k))}function ay(y){return function(){return y}}function jv(y,D){return y==null||y!==y?D:y}var jh=xo(),Aw=xo(!0);function No(y){return y}function ly(y){return rs(typeof y=="function"?y:me(y,k))}function l0(y){return sc(me(y,k))}function c0(y,D){return gs(y,me(D,k))}var d0=fr(function(y,D){return function(ae){return Ni(ae,y,D)}}),u0=fr(function(y,D){return function(ae){return Ni(y,ae,D)}});function Up(y,D,ae){var Pe=To(D),We=ii(D,Pe);ae==null&&!(ro(D)&&(We.length||!Pe.length))&&(ae=D,D=y,y=this,We=ii(D,To(D)));var ot=!(ro(ae)&&"chain"in ae)||!!ae.chain,Et=Ud(y);return ui(We,function(Nt){var qt=D[Nt];y[Nt]=qt,Et&&(y.prototype[Nt]=function(){var Ai=this.__chain__;if(ot||Ai){var Bi=y(this.__wrapped__),Vi=Bi.__actions__=Po(this.__actions__);return Vi.push({func:qt,args:arguments,thisArg:y}),Bi.__chain__=Ai,Bi}return qt.apply(y,pr([this.value()],arguments))})}),y}function Pw(){return Ws._===this&&(Ws._=Fn),this}function cy(){}function $p(y){return y=Qn(y),fr(function(D){return no(D,y)})}var Qm=Ar(hr),Dw=Ar(qn),Uv=Ar(mr);function dy(y){return m1(y)?ga(kl(y)):Th(y)}function Iw(y){return function(D){return y==null?n:Jt(y,D)}}var $v=nd(),Lw=nd(!0);function eg(){return[]}function uy(){return!1}function Vv(){return{}}function Ow(){return""}function Rw(){return!0}function tg(y,D){if(y=Qn(y),y<1||y>X)return[];var ae=le,Pe=ms(y,le);D=Xn(D),y-=le;for(var We=ya(Pe,D);++ae<y;)D(ae);return We}function ig(y){return gr(y)?hr(y,kl):Ka(y)?[y]:Po(v1(Es(y)))}function ng(y){var D=++Ii;return Es(y)+D}var Bw=Eh(function(y,D){return y+D},0),hy=dl("ceil"),py=Eh(function(y,D){return y/D},1),Ju=dl("floor");function zw(y){return y&&y.length?et(y,No,Xt):n}function fy(y,D){return y&&y.length?et(y,Xn(D,2),Xt):n}function Gv(y){return Bo(y,No)}function rg(y,D){return Bo(y,Xn(D,2))}function Nw(y){return y&&y.length?et(y,No,ka):n}function Fw(y,D){return y&&y.length?et(y,Xn(D,2),ka):n}var jw=Eh(function(y,D){return y*D},1),Uw=dl("round"),my=Eh(function(y,D){return y-D},0);function $w(y){return y&&y.length?jr(y,No):0}function h0(y,D){return y&&y.length?jr(y,Xn(D,2)):0}return it.after=av,it.ary=R1,it.assign=vv,it.assignIn=W1,it.assignInWith=Hm,it.assignWith=xv,it.at=bv,it.before=B1,it.bind=zm,it.bindAll=oy,it.bindKey=z1,it.castArray=jm,it.chain=J_,it.chunk=Xa,it.compact=Lc,it.concat=x1,it.cond=Fv,it.conforms=kw,it.constant=ay,it.countBy=z2,it.create=Y1,it.curry=N1,it.curryRight=lv,it.debounce=cv,it.defaults=wv,it.defaultsDeep=fw,it.defer=dv,it.delay=Nm,it.difference=uo,it.differenceBy=j_,it.differenceWith=Gf,it.drop=ad,it.dropRight=m2,it.dropRightWhile=g2,it.dropWhile=U_,it.fill=$_,it.filter=F2,it.flatMap=U2,it.flatMapDeep=ev,it.flatMapDepth=Ip,it.flatten=w1,it.flattenDeep=V_,it.flattenDepth=G_,it.flip=uv,it.flow=jh,it.flowRight=Aw,it.fromPairs=y2,it.functions=mw,it.functionsIn=gw,it.groupBy=$2,it.initial=S1,it.intersection=Za,it.intersectionBy=H_,it.intersectionWith=_2,it.invert=Av,it.invertBy=Pv,it.invokeMap=rv,it.iteratee=ly,it.keyBy=V2,it.keys=To,it.keysIn=ul,it.map=Lm,it.mapKeys=Ym,it.mapValues=Dv,it.matches=l0,it.matchesProperty=c0,it.memoize=oa,it.merge=qm,it.mergeWith=n0,it.method=d0,it.methodOf=u0,it.mixin=Up,it.negate=Zu,it.nthArg=$p,it.omit=yw,it.omitBy=_w,it.once=Lp,it.orderBy=G2,it.over=Qm,it.overArgs=Qf,it.overEvery=Dw,it.overSome=Uv,it.partial=Fm,it.partialRight=F1,it.partition=O1,it.pick=vw,it.pickBy=Iv,it.property=dy,it.propertyOf=Iw,it.pull=q_,it.pullAll=C1,it.pullAllBy=E1,it.pullAllWith=fu,it.pullAt=Al,it.range=$v,it.rangeRight=Lw,it.rearg=Y2,it.reject=H2,it.remove=x2,it.rest=q2,it.reverse=Hf,it.sampleSize=Zf,it.set=zp,it.setWith=X1,it.shuffle=Kf,it.slice=b2,it.sortBy=ov,it.sortedUniq=Yf,it.sortedUniqBy=S2,it.split=Bv,it.spread=X2,it.tail=C2,it.take=E2,it.takeRight=M2,it.takeRightWhile=k2,it.takeWhile=A2,it.tap=Q_,it.throttle=Z2,it.thru=Xu,it.toArray=$m,it.toPairs=Lv,it.toPairsIn=Z1,it.toPath=ig,it.toPlainObject=Vm,it.transform=bw,it.unary=K2,it.union=P2,it.unionBy=M1,it.unionWith=D2,it.uniq=Pp,it.uniqBy=I2,it.uniqWith=bo,it.unset=K1,it.unzip=Dp,it.unzipWith=k1,it.update=ww,it.updateWith=Ku,it.values=zh,it.valuesIn=Ov,it.without=Am,it.words=Fh,it.wrap=J2,it.xor=Pm,it.xorBy=qf,it.xorWith=Z_,it.zip=K_,it.zipObject=Xf,it.zipObjectDeep=A1,it.zipWith=P1,it.entries=Lv,it.entriesIn=Z1,it.extend=W1,it.extendWith=Hm,Up(it,it),it.add=Bw,it.attempt=sy,it.camelCase=Sw,it.capitalize=Q1,it.ceil=hy,it.clamp=Xm,it.clone=Q2,it.cloneDeep=pv,it.cloneDeepWith=fv,it.cloneWith=hv,it.conformsTo=ew,it.deburr=ey,it.defaultTo=jv,it.divide=py,it.endsWith=r0,it.eq=ld,it.escape=yu,it.escapeRegExp=ty,it.every=N2,it.find=j2,it.findIndex=qu,it.findKey=Tv,it.findLast=Im,it.findLastIndex=b1,it.findLastKey=gu,it.floor=Ju,it.forEach=tv,it.forEachRight=iv,it.forIn=Sv,it.forInRight=Cv,it.forOwn=Ev,it.forOwnRight=Mv,it.get=Wm,it.gt=tw,it.gte=iw,it.has=kv,it.hasIn=Bh,it.head=Mm,it.identity=No,it.includes=nv,it.indexOf=T1,it.inRange=J1,it.invoke=q1,it.isArguments=Rh,it.isArray=gr,it.isArrayBuffer=nw,it.isArrayLike=_s,it.isArrayLikeObject=Cs,it.isBoolean=j1,it.isBuffer=cd,it.isDate=Op,it.isElement=rw,it.isEmpty=sw,it.isEqual=e0,it.isEqualWith=ow,it.isError=U1,it.isFinite=t0,it.isFunction=Ud,it.isInteger=$1,it.isLength=ns,it.isMap=V1,it.isMatch=mu,it.isMatchWith=Rp,it.isNaN=mv,it.isNative=aw,it.isNil=cw,it.isNull=lw,it.isNumber=gv,it.isObject=ro,it.isObjectLike=wo,it.isPlainObject=i0,it.isRegExp=G1,it.isSafeInteger=dw,it.isSet=yv,it.isString=Um,it.isSymbol=Ka,it.isTypedArray=dd,it.isUndefined=_v,it.isWeakMap=uw,it.isWeakSet=hw,it.join=W_,it.kebabCase=Np,it.last=Oc,it.lastIndexOf=v2,it.lowerCase=Fp,it.lowerFirst=Rc,it.lt=pw,it.lte=H1,it.max=zw,it.maxBy=fy,it.mean=Gv,it.meanBy=rg,it.min=Nw,it.minBy=Fw,it.stubArray=eg,it.stubFalse=uy,it.stubObject=Vv,it.stubString=Ow,it.stubTrue=Rw,it.multiply=jw,it.nth=Y_,it.noConflict=Pw,it.noop=cy,it.now=Bm,it.pad=Bc,it.padEnd=Cw,it.padStart=Rv,it.parseInt=Ew,it.random=Tw,it.reduce=Om,it.reduceRight=Rm,it.repeat=iy,it.replace=Vd,it.result=xw,it.round=Uw,it.runInContext=$t,it.sample=W2,it.size=sv,it.snakeCase=Nh,it.some=Jf,it.sortedIndex=w2,it.sortedIndexBy=T2,it.sortedIndexOf=Wf,it.sortedLastIndex=km,it.sortedLastIndexBy=X_,it.sortedLastIndexOf=Oh,it.startCase=zv,it.startsWith=Mw,it.subtract=my,it.sum=$w,it.sumBy=h0,it.template=Zm,it.times=tg,it.toFinite=$d,it.toInteger=Qn,it.toLength=Bp,it.toLower=ny,it.toNumber=Aa,it.toSafeInteger=Gm,it.toString=Es,it.toUpper=jp,it.trim=s0,it.trimEnd=o0,it.trimStart=Km,it.truncate=Nv,it.unescape=a0,it.uniqueId=ng,it.upperCase=ry,it.upperFirst=Jm,it.each=tv,it.eachRight=iv,it.first=Mm,Up(it,function(){var y={};return St(it,function(D,ae){li.call(it.prototype,ae)||(y[ae]=D)}),y}(),{chain:!1}),it.VERSION=r,ui(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){it[y].placeholder=it}),ui(["drop","take"],function(y,D){Jn.prototype[y]=function(ae){ae=ae===n?1:Fs(Qn(ae),0);var Pe=this.__filtered__&&!D?new Jn(this):this.clone();return Pe.__filtered__?Pe.__takeCount__=ms(ae,Pe.__takeCount__):Pe.__views__.push({size:ms(ae,le),type:y+(Pe.__dir__<0?"Right":"")}),Pe},Jn.prototype[y+"Right"]=function(ae){return this.reverse()[y](ae).reverse()}}),ui(["filter","map","takeWhile"],function(y,D){var ae=D+1,Pe=ae==m||ae==b;Jn.prototype[y]=function(We){var ot=this.clone();return ot.__iteratees__.push({iteratee:Xn(We,3),type:ae}),ot.__filtered__=ot.__filtered__||Pe,ot}}),ui(["head","last"],function(y,D){var ae="take"+(D?"Right":"");Jn.prototype[y]=function(){return this[ae](1).value()[0]}}),ui(["initial","tail"],function(y,D){var ae="drop"+(D?"":"Right");Jn.prototype[y]=function(){return this.__filtered__?new Jn(this):this[ae](1)}}),Jn.prototype.compact=function(){return this.filter(No)},Jn.prototype.find=function(y){return this.filter(y).head()},Jn.prototype.findLast=function(y){return this.reverse().find(y)},Jn.prototype.invokeMap=fr(function(y,D){return typeof y=="function"?new Jn(this):this.map(function(ae){return Ni(ae,y,D)})}),Jn.prototype.reject=function(y){return this.filter(Zu(Xn(y)))},Jn.prototype.slice=function(y,D){y=Qn(y);var ae=this;return ae.__filtered__&&(y>0||D<0)?new Jn(ae):(y<0?ae=ae.takeRight(-y):y&&(ae=ae.drop(y)),D!==n&&(D=Qn(D),ae=D<0?ae.dropRight(-D):ae.take(D-y)),ae)},Jn.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},Jn.prototype.toArray=function(){return this.take(le)},St(Jn.prototype,function(y,D){var ae=/^(?:filter|find|map|reject)|While$/.test(D),Pe=/^(?:head|last)$/.test(D),We=it[Pe?"take"+(D=="last"?"Right":""):D],ot=Pe||/^find/.test(D);We&&(it.prototype[D]=function(){var Et=this.__wrapped__,Nt=Pe?[1]:arguments,qt=Et instanceof Jn,Ai=Nt[0],Bi=qt||gr(Et),Vi=function(Vr){var qr=We.apply(it,pr([Vr],Nt));return Pe&&yn?qr[0]:qr};Bi&&ae&&typeof Ai=="function"&&Ai.length!=1&&(qt=Bi=!1);var yn=this.__chain__,Bn=!!this.__actions__.length,nr=ot&&!yn,Dr=qt&&!Bn;if(!ot&&Bi){Et=Dr?Et:new Jn(this);var sr=y.apply(Et,Nt);return sr.__actions__.push({func:Xu,args:[Vi],thisArg:n}),new al(sr,yn)}return nr&&Dr?y.apply(this,Nt):(sr=this.thru(Vi),nr?Pe?sr.value()[0]:sr.value():sr)})}),ui(["pop","push","shift","sort","splice","unshift"],function(y){var D=rt[y],ae=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",Pe=/^(?:pop|shift)$/.test(y);it.prototype[y]=function(){var We=arguments;if(Pe&&!this.__chain__){var ot=this.value();return D.apply(gr(ot)?ot:[],We)}return this[ae](function(Et){return D.apply(gr(Et)?Et:[],We)})}}),St(Jn.prototype,function(y,D){var ae=it[D];if(ae){var Pe=ae.name+"";li.call(ou,Pe)||(ou[Pe]=[]),ou[Pe].push({name:D,func:ae})}}),ou[On(n,M).name]=[{name:"wrapper",func:n}],Jn.prototype.clone=Xg,Jn.prototype.reverse=Pf,Jn.prototype.value=Zg,it.prototype.at=L2,it.prototype.chain=D1,it.prototype.commit=O2,it.prototype.next=I1,it.prototype.plant=Dm,it.prototype.reverse=R2,it.prototype.toJSON=it.prototype.valueOf=it.prototype.value=B2,it.prototype.first=it.prototype.head,xr&&(it.prototype[xr]=L1),it},Vo=Bu();de?((de.exports=Vo)._=Vo,Z._=Vo):Ws._=Vo}).call(Ra)})(Dx,Dx.exports);var nP=Dx.exports;const UT=Mu(nP);var yM={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,n){e.exports=t.document?n(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:Ra,function(t,n){var r=[],o=Object.getPrototypeOf,d=r.slice,h=r.flat?function(Z){return r.flat.call(Z)}:function(Z){return r.concat.apply([],Z)},s=r.push,v=r.indexOf,R={},J=R.toString,k=R.hasOwnProperty,z=k.toString,q=z.call(Object),L={},O=function(de){return typeof de=="function"&&typeof de.nodeType!="number"&&typeof de.item!="function"},G=function(de){return de!=null&&de===de.window},M=t.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function P(Z,de,be){be=be||M;var Me,je,Ve=be.createElement("script");if(Ve.text=Z,de)for(Me in S)je=de[Me]||de.getAttribute&&de.getAttribute(Me),je&&Ve.setAttribute(Me,je);be.head.appendChild(Ve).parentNode.removeChild(Ve)}function H(Z){return Z==null?Z+"":typeof Z=="object"||typeof Z=="function"?R[J.call(Z)]||"object":typeof Z}var U="3.6.3",E=function(Z,de){return new E.fn.init(Z,de)};E.fn=E.prototype={jquery:U,constructor:E,length:0,toArray:function(){return d.call(this)},get:function(Z){return Z==null?d.call(this):Z<0?this[Z+this.length]:this[Z]},pushStack:function(Z){var de=E.merge(this.constructor(),Z);return de.prevObject=this,de},each:function(Z){return E.each(this,Z)},map:function(Z){return this.pushStack(E.map(this,function(de,be){return Z.call(de,be,de)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(Z,de){return(de+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(Z,de){return de%2}))},eq:function(Z){var de=this.length,be=+Z+(Z<0?de:0);return this.pushStack(be>=0&&be<de?[this[be]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:r.sort,splice:r.splice},E.extend=E.fn.extend=function(){var Z,de,be,Me,je,Ve,Je=arguments[0]||{},Rt=1,Ct=arguments.length,Kt=!1;for(typeof Je=="boolean"&&(Kt=Je,Je=arguments[Rt]||{},Rt++),typeof Je!="object"&&!O(Je)&&(Je={}),Rt===Ct&&(Je=this,Rt--);Rt<Ct;Rt++)if((Z=arguments[Rt])!=null)for(de in Z)Me=Z[de],!(de==="__proto__"||Je===Me)&&(Kt&&Me&&(E.isPlainObject(Me)||(je=Array.isArray(Me)))?(be=Je[de],je&&!Array.isArray(be)?Ve=[]:!je&&!E.isPlainObject(be)?Ve={}:Ve=be,je=!1,Je[de]=E.extend(Kt,Ve,Me)):Me!==void 0&&(Je[de]=Me));return Je},E.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(Z){throw new Error(Z)},noop:function(){},isPlainObject:function(Z){var de,be;return!Z||J.call(Z)!=="[object Object]"?!1:(de=o(Z),de?(be=k.call(de,"constructor")&&de.constructor,typeof be=="function"&&z.call(be)===q):!0)},isEmptyObject:function(Z){var de;for(de in Z)return!1;return!0},globalEval:function(Z,de,be){P(Z,{nonce:de&&de.nonce},be)},each:function(Z,de){var be,Me=0;if(ie(Z))for(be=Z.length;Me<be&&de.call(Z[Me],Me,Z[Me])!==!1;Me++);else for(Me in Z)if(de.call(Z[Me],Me,Z[Me])===!1)break;return Z},makeArray:function(Z,de){var be=de||[];return Z!=null&&(ie(Object(Z))?E.merge(be,typeof Z=="string"?[Z]:Z):s.call(be,Z)),be},inArray:function(Z,de,be){return de==null?-1:v.call(de,Z,be)},merge:function(Z,de){for(var be=+de.length,Me=0,je=Z.length;Me<be;Me++)Z[je++]=de[Me];return Z.length=je,Z},grep:function(Z,de,be){for(var Me,je=[],Ve=0,Je=Z.length,Rt=!be;Ve<Je;Ve++)Me=!de(Z[Ve],Ve),Me!==Rt&&je.push(Z[Ve]);return je},map:function(Z,de,be){var Me,je,Ve=0,Je=[];if(ie(Z))for(Me=Z.length;Ve<Me;Ve++)je=de(Z[Ve],Ve,be),je!=null&&Je.push(je);else for(Ve in Z)je=de(Z[Ve],Ve,be),je!=null&&Je.push(je);return h(Je)},guid:1,support:L}),typeof Symbol=="function"&&(E.fn[Symbol.iterator]=r[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(Z,de){R["[object "+de+"]"]=de.toLowerCase()});function ie(Z){var de=!!Z&&"length"in Z&&Z.length,be=H(Z);return O(Z)||G(Z)?!1:be==="array"||de===0||typeof de=="number"&&de>0&&de-1 in Z}var te=function(Z){var de,be,Me,je,Ve,Je,Rt,Ct,Kt,mi,ki,oi,ui,Xi,qn,pn,fs,Jr,hr,pr="sizzle"+1*new Date,Hn=Z.document,Qs=0,mr=0,Qr=$o(),Ga=$o(),Xl=$o(),eo=$o(),ea=function(rt,Mt){return rt===Mt&&(ki=!0),0},Zn={}.hasOwnProperty,yo=[],ta=yo.pop,Bo=yo.push,ga=yo.push,Zl=yo.slice,ol=function(rt,Mt){for(var Ft=0,wi=rt.length;Ft<wi;Ft++)if(rt[Ft]===Mt)return Ft;return-1},kd="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",jr="[\\x20\\t\\r\\n\\f]",ya="(?:\\\\[\\da-fA-F]{1,6}"+jr+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Kc="\\["+jr+"*("+ya+")(?:"+jr+"*([*^$|!~]?=)"+jr+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ya+"))|)"+jr+"*\\]",Kl=":("+ya+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Kc+")*)|.*)\\)|)",zo=new RegExp(jr+"+","g"),Jl=new RegExp("^"+jr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+jr+"+$","g"),Tc=new RegExp("^"+jr+"*,"+jr+"*"),ru=new RegExp("^"+jr+"*([>+~]|"+jr+")"+jr+"*"),Ql=new RegExp(jr+"|>"),ec=new RegExp(Kl),Lu=new RegExp("^"+ya+"$"),tc={ID:new RegExp("^#("+ya+")"),CLASS:new RegExp("^\\.("+ya+")"),TAG:new RegExp("^("+ya+"|[*])"),ATTR:new RegExp("^"+Kc),PSEUDO:new RegExp("^"+Kl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+jr+"*(even|odd|(([+-]|)(\\d*)n|)"+jr+"*(?:([+-]|)"+jr+"*(\\d+)|))"+jr+"*\\)|)","i"),bool:new RegExp("^(?:"+kd+")$","i"),needsContext:new RegExp("^"+jr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+jr+"*((?:-\\d)?\\d*)"+jr+"*\\)|)(?=[^-]|$)","i")},su=/HTML$/i,Ea=/^(?:input|select|textarea|button)$/i,Ma=/^h\d$/i,ic=/^[^{]+\{\s*\[native \w/,Ad=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Sc=/[+~]/,ia=new RegExp("\\\\[\\da-fA-F]{1,6}"+jr+"?|\\\\([^\\r\\n\\f])","g"),_o=function(rt,Mt){var Ft="0x"+rt.slice(1)-65536;return Mt||(Ft<0?String.fromCharCode(Ft+65536):String.fromCharCode(Ft>>10|55296,Ft&1023|56320))},bl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nc=function(rt,Mt){return Mt?rt==="\0"?"�":rt.slice(0,-1)+"\\"+rt.charCodeAt(rt.length-1).toString(16)+" ":"\\"+rt},Cc=function(){oi()},yh=Kn(function(rt){return rt.disabled===!0&&rt.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{ga.apply(yo=Zl.call(Hn.childNodes),Hn.childNodes),yo[Hn.childNodes.length].nodeType}catch{ga={apply:yo.length?function(Mt,Ft){Bo.apply(Mt,Zl.call(Ft))}:function(Mt,Ft){for(var wi=Mt.length,Vt=0;Mt[wi++]=Ft[Vt++];);Mt.length=wi-1}}}function vr(rt,Mt,Ft,wi){var Vt,li,Ii,tn,zi,Rn,Fn,Un=Mt&&Mt.ownerDocument,ir=Mt?Mt.nodeType:9;if(Ft=Ft||[],typeof rt!="string"||!rt||ir!==1&&ir!==9&&ir!==11)return Ft;if(!wi&&(oi(Mt),Mt=Mt||ui,qn)){if(ir!==11&&(zi=Ad.exec(rt)))if(Vt=zi[1]){if(ir===9)if(Ii=Mt.getElementById(Vt)){if(Ii.id===Vt)return Ft.push(Ii),Ft}else return Ft;else if(Un&&(Ii=Un.getElementById(Vt))&&hr(Mt,Ii)&&Ii.id===Vt)return Ft.push(Ii),Ft}else{if(zi[2])return ga.apply(Ft,Mt.getElementsByTagName(rt)),Ft;if((Vt=zi[3])&&be.getElementsByClassName&&Mt.getElementsByClassName)return ga.apply(Ft,Mt.getElementsByClassName(Vt)),Ft}if(be.qsa&&!eo[rt+" "]&&(!pn||!pn.test(rt))&&(ir!==1||Mt.nodeName.toLowerCase()!=="object")){if(Fn=rt,Un=Mt,ir===1&&(Ql.test(rt)||ru.test(rt))){for(Un=Sc.test(rt)&&bi(Mt.parentNode)||Mt,(Un!==Mt||!be.scope)&&((tn=Mt.getAttribute("id"))?tn=tn.replace(bl,nc):Mt.setAttribute("id",tn=pr)),Rn=Je(rt),li=Rn.length;li--;)Rn[li]=(tn?"#"+tn:":scope")+" "+fn(Rn[li]);Fn=Rn.join(",")}try{if(be.cssSupportsSelector&&!CSS.supports("selector(:is("+Fn+"))"))throw new Error;return ga.apply(Ft,Un.querySelectorAll(Fn)),Ft}catch{eo(rt,!0)}finally{tn===pr&&Mt.removeAttribute("id")}}}return Ct(rt.replace(Jl,"$1"),Mt,Ft,wi)}function $o(){var rt=[];function Mt(Ft,wi){return rt.push(Ft+" ")>Me.cacheLength&&delete Mt[rt.shift()],Mt[Ft+" "]=wi}return Mt}function vo(rt){return rt[pr]=!0,rt}function na(rt){var Mt=ui.createElement("fieldset");try{return!!rt(Mt)}catch{return!1}finally{Mt.parentNode&&Mt.parentNode.removeChild(Mt),Mt=null}}function wl(rt,Mt){for(var Ft=rt.split("|"),wi=Ft.length;wi--;)Me.attrHandle[Ft[wi]]=Mt}function Ou(rt,Mt){var Ft=Mt&&rt,wi=Ft&&rt.nodeType===1&&Mt.nodeType===1&&rt.sourceIndex-Mt.sourceIndex;if(wi)return wi;if(Ft){for(;Ft=Ft.nextSibling;)if(Ft===Mt)return-1}return rt?1:-1}function Ru(rt){return function(Mt){var Ft=Mt.nodeName.toLowerCase();return Ft==="input"&&Mt.type===rt}}function Bu(rt){return function(Mt){var Ft=Mt.nodeName.toLowerCase();return(Ft==="input"||Ft==="button")&&Mt.type===rt}}function Vo(rt){return function(Mt){return"form"in Mt?Mt.parentNode&&Mt.disabled===!1?"label"in Mt?"label"in Mt.parentNode?Mt.parentNode.disabled===rt:Mt.disabled===rt:Mt.isDisabled===rt||Mt.isDisabled!==!rt&&yh(Mt)===rt:Mt.disabled===rt:"label"in Mt?Mt.disabled===rt:!1}}function $t(rt){return vo(function(Mt){return Mt=+Mt,vo(function(Ft,wi){for(var Vt,li=rt([],Ft.length,Mt),Ii=li.length;Ii--;)Ft[Vt=li[Ii]]&&(Ft[Vt]=!(wi[Vt]=Ft[Vt]))})})}function bi(rt){return rt&&typeof rt.getElementsByTagName<"u"&&rt}be=vr.support={},Ve=vr.isXML=function(rt){var Mt=rt&&rt.namespaceURI,Ft=rt&&(rt.ownerDocument||rt).documentElement;return!su.test(Mt||Ft&&Ft.nodeName||"HTML")},oi=vr.setDocument=function(rt){var Mt,Ft,wi=rt?rt.ownerDocument||rt:Hn;return wi==ui||wi.nodeType!==9||!wi.documentElement||(ui=wi,Xi=ui.documentElement,qn=!Ve(ui),Hn!=ui&&(Ft=ui.defaultView)&&Ft.top!==Ft&&(Ft.addEventListener?Ft.addEventListener("unload",Cc,!1):Ft.attachEvent&&Ft.attachEvent("onunload",Cc)),be.scope=na(function(Vt){return Xi.appendChild(Vt).appendChild(ui.createElement("div")),typeof Vt.querySelectorAll<"u"&&!Vt.querySelectorAll(":scope fieldset div").length}),be.cssSupportsSelector=na(function(){return CSS.supports("selector(*)")&&ui.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),be.attributes=na(function(Vt){return Vt.className="i",!Vt.getAttribute("className")}),be.getElementsByTagName=na(function(Vt){return Vt.appendChild(ui.createComment("")),!Vt.getElementsByTagName("*").length}),be.getElementsByClassName=ic.test(ui.getElementsByClassName),be.getById=na(function(Vt){return Xi.appendChild(Vt).id=pr,!ui.getElementsByName||!ui.getElementsByName(pr).length}),be.getById?(Me.filter.ID=function(Vt){var li=Vt.replace(ia,_o);return function(Ii){return Ii.getAttribute("id")===li}},Me.find.ID=function(Vt,li){if(typeof li.getElementById<"u"&&qn){var Ii=li.getElementById(Vt);return Ii?[Ii]:[]}}):(Me.filter.ID=function(Vt){var li=Vt.replace(ia,_o);return function(Ii){var tn=typeof Ii.getAttributeNode<"u"&&Ii.getAttributeNode("id");return tn&&tn.value===li}},Me.find.ID=function(Vt,li){if(typeof li.getElementById<"u"&&qn){var Ii,tn,zi,Rn=li.getElementById(Vt);if(Rn){if(Ii=Rn.getAttributeNode("id"),Ii&&Ii.value===Vt)return[Rn];for(zi=li.getElementsByName(Vt),tn=0;Rn=zi[tn++];)if(Ii=Rn.getAttributeNode("id"),Ii&&Ii.value===Vt)return[Rn]}return[]}}),Me.find.TAG=be.getElementsByTagName?function(Vt,li){if(typeof li.getElementsByTagName<"u")return li.getElementsByTagName(Vt);if(be.qsa)return li.querySelectorAll(Vt)}:function(Vt,li){var Ii,tn=[],zi=0,Rn=li.getElementsByTagName(Vt);if(Vt==="*"){for(;Ii=Rn[zi++];)Ii.nodeType===1&&tn.push(Ii);return tn}return Rn},Me.find.CLASS=be.getElementsByClassName&&function(Vt,li){if(typeof li.getElementsByClassName<"u"&&qn)return li.getElementsByClassName(Vt)},fs=[],pn=[],(be.qsa=ic.test(ui.querySelectorAll))&&(na(function(Vt){var li;Xi.appendChild(Vt).innerHTML="<a id='"+pr+"'></a><select id='"+pr+"-\r\\' msallowcapture=''><option selected=''></option></select>",Vt.querySelectorAll("[msallowcapture^='']").length&&pn.push("[*^$]="+jr+`*(?:''|"")`),Vt.querySelectorAll("[selected]").length||pn.push("\\["+jr+"*(?:value|"+kd+")"),Vt.querySelectorAll("[id~="+pr+"-]").length||pn.push("~="),li=ui.createElement("input"),li.setAttribute("name",""),Vt.appendChild(li),Vt.querySelectorAll("[name='']").length||pn.push("\\["+jr+"*name"+jr+"*="+jr+`*(?:''|"")`),Vt.querySelectorAll(":checked").length||pn.push(":checked"),Vt.querySelectorAll("a#"+pr+"+*").length||pn.push(".#.+[+~]"),Vt.querySelectorAll("\\\f"),pn.push("[\\r\\n\\f]")}),na(function(Vt){Vt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var li=ui.createElement("input");li.setAttribute("type","hidden"),Vt.appendChild(li).setAttribute("name","D"),Vt.querySelectorAll("[name=d]").length&&pn.push("name"+jr+"*[*^$|!~]?="),Vt.querySelectorAll(":enabled").length!==2&&pn.push(":enabled",":disabled"),Xi.appendChild(Vt).disabled=!0,Vt.querySelectorAll(":disabled").length!==2&&pn.push(":enabled",":disabled"),Vt.querySelectorAll("*,:x"),pn.push(",.*:")})),(be.matchesSelector=ic.test(Jr=Xi.matches||Xi.webkitMatchesSelector||Xi.mozMatchesSelector||Xi.oMatchesSelector||Xi.msMatchesSelector))&&na(function(Vt){be.disconnectedMatch=Jr.call(Vt,"*"),Jr.call(Vt,"[s!='']:x"),fs.push("!=",Kl)}),be.cssSupportsSelector||pn.push(":has"),pn=pn.length&&new RegExp(pn.join("|")),fs=fs.length&&new RegExp(fs.join("|")),Mt=ic.test(Xi.compareDocumentPosition),hr=Mt||ic.test(Xi.contains)?function(Vt,li){var Ii=Vt.nodeType===9&&Vt.documentElement||Vt,tn=li&&li.parentNode;return Vt===tn||!!(tn&&tn.nodeType===1&&(Ii.contains?Ii.contains(tn):Vt.compareDocumentPosition&&Vt.compareDocumentPosition(tn)&16))}:function(Vt,li){if(li){for(;li=li.parentNode;)if(li===Vt)return!0}return!1},ea=Mt?function(Vt,li){if(Vt===li)return ki=!0,0;var Ii=!Vt.compareDocumentPosition-!li.compareDocumentPosition;return Ii||(Ii=(Vt.ownerDocument||Vt)==(li.ownerDocument||li)?Vt.compareDocumentPosition(li):1,Ii&1||!be.sortDetached&&li.compareDocumentPosition(Vt)===Ii?Vt==ui||Vt.ownerDocument==Hn&&hr(Hn,Vt)?-1:li==ui||li.ownerDocument==Hn&&hr(Hn,li)?1:mi?ol(mi,Vt)-ol(mi,li):0:Ii&4?-1:1)}:function(Vt,li){if(Vt===li)return ki=!0,0;var Ii,tn=0,zi=Vt.parentNode,Rn=li.parentNode,Fn=[Vt],Un=[li];if(!zi||!Rn)return Vt==ui?-1:li==ui?1:zi?-1:Rn?1:mi?ol(mi,Vt)-ol(mi,li):0;if(zi===Rn)return Ou(Vt,li);for(Ii=Vt;Ii=Ii.parentNode;)Fn.unshift(Ii);for(Ii=li;Ii=Ii.parentNode;)Un.unshift(Ii);for(;Fn[tn]===Un[tn];)tn++;return tn?Ou(Fn[tn],Un[tn]):Fn[tn]==Hn?-1:Un[tn]==Hn?1:0}),ui},vr.matches=function(rt,Mt){return vr(rt,null,null,Mt)},vr.matchesSelector=function(rt,Mt){if(oi(rt),be.matchesSelector&&qn&&!eo[Mt+" "]&&(!fs||!fs.test(Mt))&&(!pn||!pn.test(Mt)))try{var Ft=Jr.call(rt,Mt);if(Ft||be.disconnectedMatch||rt.document&&rt.document.nodeType!==11)return Ft}catch{eo(Mt,!0)}return vr(Mt,ui,null,[rt]).length>0},vr.contains=function(rt,Mt){return(rt.ownerDocument||rt)!=ui&&oi(rt),hr(rt,Mt)},vr.attr=function(rt,Mt){(rt.ownerDocument||rt)!=ui&&oi(rt);var Ft=Me.attrHandle[Mt.toLowerCase()],wi=Ft&&Zn.call(Me.attrHandle,Mt.toLowerCase())?Ft(rt,Mt,!qn):void 0;return wi!==void 0?wi:be.attributes||!qn?rt.getAttribute(Mt):(wi=rt.getAttributeNode(Mt))&&wi.specified?wi.value:null},vr.escape=function(rt){return(rt+"").replace(bl,nc)},vr.error=function(rt){throw new Error("Syntax error, unrecognized expression: "+rt)},vr.uniqueSort=function(rt){var Mt,Ft=[],wi=0,Vt=0;if(ki=!be.detectDuplicates,mi=!be.sortStable&&rt.slice(0),rt.sort(ea),ki){for(;Mt=rt[Vt++];)Mt===rt[Vt]&&(wi=Ft.push(Vt));for(;wi--;)rt.splice(Ft[wi],1)}return mi=null,rt},je=vr.getText=function(rt){var Mt,Ft="",wi=0,Vt=rt.nodeType;if(Vt){if(Vt===1||Vt===9||Vt===11){if(typeof rt.textContent=="string")return rt.textContent;for(rt=rt.firstChild;rt;rt=rt.nextSibling)Ft+=je(rt)}else if(Vt===3||Vt===4)return rt.nodeValue}else for(;Mt=rt[wi++];)Ft+=je(Mt);return Ft},Me=vr.selectors={cacheLength:50,createPseudo:vo,match:tc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(rt){return rt[1]=rt[1].replace(ia,_o),rt[3]=(rt[3]||rt[4]||rt[5]||"").replace(ia,_o),rt[2]==="~="&&(rt[3]=" "+rt[3]+" "),rt.slice(0,4)},CHILD:function(rt){return rt[1]=rt[1].toLowerCase(),rt[1].slice(0,3)==="nth"?(rt[3]||vr.error(rt[0]),rt[4]=+(rt[4]?rt[5]+(rt[6]||1):2*(rt[3]==="even"||rt[3]==="odd")),rt[5]=+(rt[7]+rt[8]||rt[3]==="odd")):rt[3]&&vr.error(rt[0]),rt},PSEUDO:function(rt){var Mt,Ft=!rt[6]&&rt[2];return tc.CHILD.test(rt[0])?null:(rt[3]?rt[2]=rt[4]||rt[5]||"":Ft&&ec.test(Ft)&&(Mt=Je(Ft,!0))&&(Mt=Ft.indexOf(")",Ft.length-Mt)-Ft.length)&&(rt[0]=rt[0].slice(0,Mt),rt[2]=Ft.slice(0,Mt)),rt.slice(0,3))}},filter:{TAG:function(rt){var Mt=rt.replace(ia,_o).toLowerCase();return rt==="*"?function(){return!0}:function(Ft){return Ft.nodeName&&Ft.nodeName.toLowerCase()===Mt}},CLASS:function(rt){var Mt=Qr[rt+" "];return Mt||(Mt=new RegExp("(^|"+jr+")"+rt+"("+jr+"|$)"))&&Qr(rt,function(Ft){return Mt.test(typeof Ft.className=="string"&&Ft.className||typeof Ft.getAttribute<"u"&&Ft.getAttribute("class")||"")})},ATTR:function(rt,Mt,Ft){return function(wi){var Vt=vr.attr(wi,rt);return Vt==null?Mt==="!=":Mt?(Vt+="",Mt==="="?Vt===Ft:Mt==="!="?Vt!==Ft:Mt==="^="?Ft&&Vt.indexOf(Ft)===0:Mt==="*="?Ft&&Vt.indexOf(Ft)>-1:Mt==="$="?Ft&&Vt.slice(-Ft.length)===Ft:Mt==="~="?(" "+Vt.replace(zo," ")+" ").indexOf(Ft)>-1:Mt==="|="?Vt===Ft||Vt.slice(0,Ft.length+1)===Ft+"-":!1):!0}},CHILD:function(rt,Mt,Ft,wi,Vt){var li=rt.slice(0,3)!=="nth",Ii=rt.slice(-4)!=="last",tn=Mt==="of-type";return wi===1&&Vt===0?function(zi){return!!zi.parentNode}:function(zi,Rn,Fn){var Un,ir,Cr,In,we,Ce,$e=li!==Ii?"nextSibling":"previousSibling",vt=zi.parentNode,Ei=tn&&zi.nodeName.toLowerCase(),Tn=!Fn&&!tn,xr=!1;if(vt){if(li){for(;$e;){for(In=zi;In=In[$e];)if(tn?In.nodeName.toLowerCase()===Ei:In.nodeType===1)return!1;Ce=$e=rt==="only"&&!Ce&&"nextSibling"}return!0}if(Ce=[Ii?vt.firstChild:vt.lastChild],Ii&&Tn){for(In=vt,Cr=In[pr]||(In[pr]={}),ir=Cr[In.uniqueID]||(Cr[In.uniqueID]={}),Un=ir[rt]||[],we=Un[0]===Qs&&Un[1],xr=we&&Un[2],In=we&&vt.childNodes[we];In=++we&&In&&In[$e]||(xr=we=0)||Ce.pop();)if(In.nodeType===1&&++xr&&In===zi){ir[rt]=[Qs,we,xr];break}}else if(Tn&&(In=zi,Cr=In[pr]||(In[pr]={}),ir=Cr[In.uniqueID]||(Cr[In.uniqueID]={}),Un=ir[rt]||[],we=Un[0]===Qs&&Un[1],xr=we),xr===!1)for(;(In=++we&&In&&In[$e]||(xr=we=0)||Ce.pop())&&!((tn?In.nodeName.toLowerCase()===Ei:In.nodeType===1)&&++xr&&(Tn&&(Cr=In[pr]||(In[pr]={}),ir=Cr[In.uniqueID]||(Cr[In.uniqueID]={}),ir[rt]=[Qs,xr]),In===zi)););return xr-=Vt,xr===wi||xr%wi===0&&xr/wi>=0}}},PSEUDO:function(rt,Mt){var Ft,wi=Me.pseudos[rt]||Me.setFilters[rt.toLowerCase()]||vr.error("unsupported pseudo: "+rt);return wi[pr]?wi(Mt):wi.length>1?(Ft=[rt,rt,"",Mt],Me.setFilters.hasOwnProperty(rt.toLowerCase())?vo(function(Vt,li){for(var Ii,tn=wi(Vt,Mt),zi=tn.length;zi--;)Ii=ol(Vt,tn[zi]),Vt[Ii]=!(li[Ii]=tn[zi])}):function(Vt){return wi(Vt,0,Ft)}):wi}},pseudos:{not:vo(function(rt){var Mt=[],Ft=[],wi=Rt(rt.replace(Jl,"$1"));return wi[pr]?vo(function(Vt,li,Ii,tn){for(var zi,Rn=wi(Vt,null,tn,[]),Fn=Vt.length;Fn--;)(zi=Rn[Fn])&&(Vt[Fn]=!(li[Fn]=zi))}):function(Vt,li,Ii){return Mt[0]=Vt,wi(Mt,null,Ii,Ft),Mt[0]=null,!Ft.pop()}}),has:vo(function(rt){return function(Mt){return vr(rt,Mt).length>0}}),contains:vo(function(rt){return rt=rt.replace(ia,_o),function(Mt){return(Mt.textContent||je(Mt)).indexOf(rt)>-1}}),lang:vo(function(rt){return Lu.test(rt||"")||vr.error("unsupported lang: "+rt),rt=rt.replace(ia,_o).toLowerCase(),function(Mt){var Ft;do if(Ft=qn?Mt.lang:Mt.getAttribute("xml:lang")||Mt.getAttribute("lang"))return Ft=Ft.toLowerCase(),Ft===rt||Ft.indexOf(rt+"-")===0;while((Mt=Mt.parentNode)&&Mt.nodeType===1);return!1}}),target:function(rt){var Mt=Z.location&&Z.location.hash;return Mt&&Mt.slice(1)===rt.id},root:function(rt){return rt===Xi},focus:function(rt){return rt===ui.activeElement&&(!ui.hasFocus||ui.hasFocus())&&!!(rt.type||rt.href||~rt.tabIndex)},enabled:Vo(!1),disabled:Vo(!0),checked:function(rt){var Mt=rt.nodeName.toLowerCase();return Mt==="input"&&!!rt.checked||Mt==="option"&&!!rt.selected},selected:function(rt){return rt.parentNode&&rt.parentNode.selectedIndex,rt.selected===!0},empty:function(rt){for(rt=rt.firstChild;rt;rt=rt.nextSibling)if(rt.nodeType<6)return!1;return!0},parent:function(rt){return!Me.pseudos.empty(rt)},header:function(rt){return Ma.test(rt.nodeName)},input:function(rt){return Ea.test(rt.nodeName)},button:function(rt){var Mt=rt.nodeName.toLowerCase();return Mt==="input"&&rt.type==="button"||Mt==="button"},text:function(rt){var Mt;return rt.nodeName.toLowerCase()==="input"&&rt.type==="text"&&((Mt=rt.getAttribute("type"))==null||Mt.toLowerCase()==="text")},first:$t(function(){return[0]}),last:$t(function(rt,Mt){return[Mt-1]}),eq:$t(function(rt,Mt,Ft){return[Ft<0?Ft+Mt:Ft]}),even:$t(function(rt,Mt){for(var Ft=0;Ft<Mt;Ft+=2)rt.push(Ft);return rt}),odd:$t(function(rt,Mt){for(var Ft=1;Ft<Mt;Ft+=2)rt.push(Ft);return rt}),lt:$t(function(rt,Mt,Ft){for(var wi=Ft<0?Ft+Mt:Ft>Mt?Mt:Ft;--wi>=0;)rt.push(wi);return rt}),gt:$t(function(rt,Mt,Ft){for(var wi=Ft<0?Ft+Mt:Ft;++wi<Mt;)rt.push(wi);return rt})}},Me.pseudos.nth=Me.pseudos.eq;for(de in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Me.pseudos[de]=Ru(de);for(de in{submit:!0,reset:!0})Me.pseudos[de]=Bu(de);function hi(){}hi.prototype=Me.filters=Me.pseudos,Me.setFilters=new hi,Je=vr.tokenize=function(rt,Mt){var Ft,wi,Vt,li,Ii,tn,zi,Rn=Ga[rt+" "];if(Rn)return Mt?0:Rn.slice(0);for(Ii=rt,tn=[],zi=Me.preFilter;Ii;){(!Ft||(wi=Tc.exec(Ii)))&&(wi&&(Ii=Ii.slice(wi[0].length)||Ii),tn.push(Vt=[])),Ft=!1,(wi=ru.exec(Ii))&&(Ft=wi.shift(),Vt.push({value:Ft,type:wi[0].replace(Jl," ")}),Ii=Ii.slice(Ft.length));for(li in Me.filter)(wi=tc[li].exec(Ii))&&(!zi[li]||(wi=zi[li](wi)))&&(Ft=wi.shift(),Vt.push({value:Ft,type:li,matches:wi}),Ii=Ii.slice(Ft.length));if(!Ft)break}return Mt?Ii.length:Ii?vr.error(rt):Ga(rt,tn).slice(0)};function fn(rt){for(var Mt=0,Ft=rt.length,wi="";Mt<Ft;Mt++)wi+=rt[Mt].value;return wi}function Kn(rt,Mt,Ft){var wi=Mt.dir,Vt=Mt.next,li=Vt||wi,Ii=Ft&&li==="parentNode",tn=mr++;return Mt.first?function(zi,Rn,Fn){for(;zi=zi[wi];)if(zi.nodeType===1||Ii)return rt(zi,Rn,Fn);return!1}:function(zi,Rn,Fn){var Un,ir,Cr,In=[Qs,tn];if(Fn){for(;zi=zi[wi];)if((zi.nodeType===1||Ii)&&rt(zi,Rn,Fn))return!0}else for(;zi=zi[wi];)if(zi.nodeType===1||Ii)if(Cr=zi[pr]||(zi[pr]={}),ir=Cr[zi.uniqueID]||(Cr[zi.uniqueID]={}),Vt&&Vt===zi.nodeName.toLowerCase())zi=zi[wi]||zi;else{if((Un=ir[li])&&Un[0]===Qs&&Un[1]===tn)return In[2]=Un[2];if(ir[li]=In,In[2]=rt(zi,Rn,Fn))return!0}return!1}}function Or(rt){return rt.length>1?function(Mt,Ft,wi){for(var Vt=rt.length;Vt--;)if(!rt[Vt](Mt,Ft,wi))return!1;return!0}:rt[0]}function zs(rt,Mt,Ft){for(var wi=0,Vt=Mt.length;wi<Vt;wi++)vr(rt,Mt[wi],Ft);return Ft}function Ur(rt,Mt,Ft,wi,Vt){for(var li,Ii=[],tn=0,zi=rt.length,Rn=Mt!=null;tn<zi;tn++)(li=rt[tn])&&(!Ft||Ft(li,wi,Vt))&&(Ii.push(li),Rn&&Mt.push(tn));return Ii}function Ec(rt,Mt,Ft,wi,Vt,li){return wi&&!wi[pr]&&(wi=Ec(wi)),Vt&&!Vt[pr]&&(Vt=Ec(Vt,li)),vo(function(Ii,tn,zi,Rn){var Fn,Un,ir,Cr=[],In=[],we=tn.length,Ce=Ii||zs(Mt||"*",zi.nodeType?[zi]:zi,[]),$e=rt&&(Ii||!Mt)?Ur(Ce,Cr,rt,zi,Rn):Ce,vt=Ft?Vt||(Ii?rt:we||wi)?[]:tn:$e;if(Ft&&Ft($e,vt,zi,Rn),wi)for(Fn=Ur(vt,In),wi(Fn,[],zi,Rn),Un=Fn.length;Un--;)(ir=Fn[Un])&&(vt[In[Un]]=!($e[In[Un]]=ir));if(Ii){if(Vt||rt){if(Vt){for(Fn=[],Un=vt.length;Un--;)(ir=vt[Un])&&Fn.push($e[Un]=ir);Vt(null,vt=[],Fn,Rn)}for(Un=vt.length;Un--;)(ir=vt[Un])&&(Fn=Vt?ol(Ii,ir):Cr[Un])>-1&&(Ii[Fn]=!(tn[Fn]=ir))}}else vt=Ur(vt===tn?vt.splice(we,vt.length):vt),Vt?Vt(null,tn,vt,Rn):ga.apply(tn,vt)})}function Pd(rt){for(var Mt,Ft,wi,Vt=rt.length,li=Me.relative[rt[0].type],Ii=li||Me.relative[" "],tn=li?1:0,zi=Kn(function(Un){return Un===Mt},Ii,!0),Rn=Kn(function(Un){return ol(Mt,Un)>-1},Ii,!0),Fn=[function(Un,ir,Cr){var In=!li&&(Cr||ir!==Kt)||((Mt=ir).nodeType?zi(Un,ir,Cr):Rn(Un,ir,Cr));return Mt=null,In}];tn<Vt;tn++)if(Ft=Me.relative[rt[tn].type])Fn=[Kn(Or(Fn),Ft)];else{if(Ft=Me.filter[rt[tn].type].apply(null,rt[tn].matches),Ft[pr]){for(wi=++tn;wi<Vt&&!Me.relative[rt[wi].type];wi++);return Ec(tn>1&&Or(Fn),tn>1&&fn(rt.slice(0,tn-1).concat({value:rt[tn-2].type===" "?"*":""})).replace(Jl,"$1"),Ft,tn<wi&&Pd(rt.slice(tn,wi)),wi<Vt&&Pd(rt=rt.slice(wi)),wi<Vt&&fn(rt))}Fn.push(Ft)}return Or(Fn)}function Go(rt,Mt){var Ft=Mt.length>0,wi=rt.length>0,Vt=function(li,Ii,tn,zi,Rn){var Fn,Un,ir,Cr=0,In="0",we=li&&[],Ce=[],$e=Kt,vt=li||wi&&Me.find.TAG("*",Rn),Ei=Qs+=$e==null?1:Math.random()||.1,Tn=vt.length;for(Rn&&(Kt=Ii==ui||Ii||Rn);In!==Tn&&(Fn=vt[In])!=null;In++){if(wi&&Fn){for(Un=0,!Ii&&Fn.ownerDocument!=ui&&(oi(Fn),tn=!qn);ir=rt[Un++];)if(ir(Fn,Ii||ui,tn)){zi.push(Fn);break}Rn&&(Qs=Ei)}Ft&&((Fn=!ir&&Fn)&&Cr--,li&&we.push(Fn))}if(Cr+=In,Ft&&In!==Cr){for(Un=0;ir=Mt[Un++];)ir(we,Ce,Ii,tn);if(li){if(Cr>0)for(;In--;)we[In]||Ce[In]||(Ce[In]=ta.call(zi));Ce=Ur(Ce)}ga.apply(zi,Ce),Rn&&!li&&Ce.length>0&&Cr+Mt.length>1&&vr.uniqueSort(zi)}return Rn&&(Qs=Ei,Kt=$e),we};return Ft?vo(Vt):Vt}return Rt=vr.compile=function(rt,Mt){var Ft,wi=[],Vt=[],li=Xl[rt+" "];if(!li){for(Mt||(Mt=Je(rt)),Ft=Mt.length;Ft--;)li=Pd(Mt[Ft]),li[pr]?wi.push(li):Vt.push(li);li=Xl(rt,Go(Vt,wi)),li.selector=rt}return li},Ct=vr.select=function(rt,Mt,Ft,wi){var Vt,li,Ii,tn,zi,Rn=typeof rt=="function"&&rt,Fn=!wi&&Je(rt=Rn.selector||rt);if(Ft=Ft||[],Fn.length===1){if(li=Fn[0]=Fn[0].slice(0),li.length>2&&(Ii=li[0]).type==="ID"&&Mt.nodeType===9&&qn&&Me.relative[li[1].type]){if(Mt=(Me.find.ID(Ii.matches[0].replace(ia,_o),Mt)||[])[0],Mt)Rn&&(Mt=Mt.parentNode);else return Ft;rt=rt.slice(li.shift().value.length)}for(Vt=tc.needsContext.test(rt)?0:li.length;Vt--&&(Ii=li[Vt],!Me.relative[tn=Ii.type]);)if((zi=Me.find[tn])&&(wi=zi(Ii.matches[0].replace(ia,_o),Sc.test(li[0].type)&&bi(Mt.parentNode)||Mt))){if(li.splice(Vt,1),rt=wi.length&&fn(li),!rt)return ga.apply(Ft,wi),Ft;break}}return(Rn||Rt(rt,Fn))(wi,Mt,!qn,Ft,!Mt||Sc.test(rt)&&bi(Mt.parentNode)||Mt),Ft},be.sortStable=pr.split("").sort(ea).join("")===pr,be.detectDuplicates=!!ki,oi(),be.sortDetached=na(function(rt){return rt.compareDocumentPosition(ui.createElement("fieldset"))&1}),na(function(rt){return rt.innerHTML="<a href='#'></a>",rt.firstChild.getAttribute("href")==="#"})||wl("type|href|height|width",function(rt,Mt,Ft){if(!Ft)return rt.getAttribute(Mt,Mt.toLowerCase()==="type"?1:2)}),(!be.attributes||!na(function(rt){return rt.innerHTML="<input/>",rt.firstChild.setAttribute("value",""),rt.firstChild.getAttribute("value")===""}))&&wl("value",function(rt,Mt,Ft){if(!Ft&&rt.nodeName.toLowerCase()==="input")return rt.defaultValue}),na(function(rt){return rt.getAttribute("disabled")==null})||wl(kd,function(rt,Mt,Ft){var wi;if(!Ft)return rt[Mt]===!0?Mt.toLowerCase():(wi=rt.getAttributeNode(Mt))&&wi.specified?wi.value:null}),vr}(t);E.find=te,E.expr=te.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=te.uniqueSort,E.text=te.getText,E.isXMLDoc=te.isXML,E.contains=te.contains,E.escapeSelector=te.escape;var $=function(Z,de,be){for(var Me=[],je=be!==void 0;(Z=Z[de])&&Z.nodeType!==9;)if(Z.nodeType===1){if(je&&E(Z).is(be))break;Me.push(Z)}return Me},V=function(Z,de){for(var be=[];Z;Z=Z.nextSibling)Z.nodeType===1&&Z!==de&&be.push(Z);return be},j=E.expr.match.needsContext;function w(Z,de){return Z.nodeName&&Z.nodeName.toLowerCase()===de.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function m(Z,de,be){return O(de)?E.grep(Z,function(Me,je){return!!de.call(Me,je,Me)!==be}):de.nodeType?E.grep(Z,function(Me){return Me===de!==be}):typeof de!="string"?E.grep(Z,function(Me){return v.call(de,Me)>-1!==be}):E.filter(de,Z,be)}E.filter=function(Z,de,be){var Me=de[0];return be&&(Z=":not("+Z+")"),de.length===1&&Me.nodeType===1?E.find.matchesSelector(Me,Z)?[Me]:[]:E.find.matches(Z,E.grep(de,function(je){return je.nodeType===1}))},E.fn.extend({find:function(Z){var de,be,Me=this.length,je=this;if(typeof Z!="string")return this.pushStack(E(Z).filter(function(){for(de=0;de<Me;de++)if(E.contains(je[de],this))return!0}));for(be=this.pushStack([]),de=0;de<Me;de++)E.find(Z,je[de],be);return Me>1?E.uniqueSort(be):be},filter:function(Z){return this.pushStack(m(this,Z||[],!1))},not:function(Z){return this.pushStack(m(this,Z||[],!0))},is:function(Z){return!!m(this,typeof Z=="string"&&j.test(Z)?E(Z):Z||[],!1).length}});var g,b=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,A=E.fn.init=function(Z,de,be){var Me,je;if(!Z)return this;if(be=be||g,typeof Z=="string")if(Z[0]==="<"&&Z[Z.length-1]===">"&&Z.length>=3?Me=[null,Z,null]:Me=b.exec(Z),Me&&(Me[1]||!de))if(Me[1]){if(de=de instanceof E?de[0]:de,E.merge(this,E.parseHTML(Me[1],de&&de.nodeType?de.ownerDocument||de:M,!0)),I.test(Me[1])&&E.isPlainObject(de))for(Me in de)O(this[Me])?this[Me](de[Me]):this.attr(Me,de[Me]);return this}else return je=M.getElementById(Me[2]),je&&(this[0]=je,this.length=1),this;else return!de||de.jquery?(de||be).find(Z):this.constructor(de).find(Z);else{if(Z.nodeType)return this[0]=Z,this.length=1,this;if(O(Z))return be.ready!==void 0?be.ready(Z):Z(E)}return E.makeArray(Z,this)};A.prototype=E.fn,g=E(M);var X=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(Z){var de=E(Z,this),be=de.length;return this.filter(function(){for(var Me=0;Me<be;Me++)if(E.contains(this,de[Me]))return!0})},closest:function(Z,de){var be,Me=0,je=this.length,Ve=[],Je=typeof Z!="string"&&E(Z);if(!j.test(Z)){for(;Me<je;Me++)for(be=this[Me];be&&be!==de;be=be.parentNode)if(be.nodeType<11&&(Je?Je.index(be)>-1:be.nodeType===1&&E.find.matchesSelector(be,Z))){Ve.push(be);break}}return this.pushStack(Ve.length>1?E.uniqueSort(Ve):Ve)},index:function(Z){return Z?typeof Z=="string"?v.call(E(Z),this[0]):v.call(this,Z.jquery?Z[0]:Z):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(Z,de){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(Z,de))))},addBack:function(Z){return this.add(Z==null?this.prevObject:this.prevObject.filter(Z))}});function K(Z,de){for(;(Z=Z[de])&&Z.nodeType!==1;);return Z}E.each({parent:function(Z){var de=Z.parentNode;return de&&de.nodeType!==11?de:null},parents:function(Z){return $(Z,"parentNode")},parentsUntil:function(Z,de,be){return $(Z,"parentNode",be)},next:function(Z){return K(Z,"nextSibling")},prev:function(Z){return K(Z,"previousSibling")},nextAll:function(Z){return $(Z,"nextSibling")},prevAll:function(Z){return $(Z,"previousSibling")},nextUntil:function(Z,de,be){return $(Z,"nextSibling",be)},prevUntil:function(Z,de,be){return $(Z,"previousSibling",be)},siblings:function(Z){return V((Z.parentNode||{}).firstChild,Z)},children:function(Z){return V(Z.firstChild)},contents:function(Z){return Z.contentDocument!=null&&o(Z.contentDocument)?Z.contentDocument:(w(Z,"template")&&(Z=Z.content||Z),E.merge([],Z.childNodes))}},function(Z,de){E.fn[Z]=function(be,Me){var je=E.map(this,de,be);return Z.slice(-5)!=="Until"&&(Me=be),Me&&typeof Me=="string"&&(je=E.filter(Me,je)),this.length>1&&(Y[Z]||E.uniqueSort(je),X.test(Z)&&je.reverse()),this.pushStack(je)}});var le=/[^\x20\t\r\n\f]+/g;function he(Z){var de={};return E.each(Z.match(le)||[],function(be,Me){de[Me]=!0}),de}E.Callbacks=function(Z){Z=typeof Z=="string"?he(Z):E.extend({},Z);var de,be,Me,je,Ve=[],Je=[],Rt=-1,Ct=function(){for(je=je||Z.once,Me=de=!0;Je.length;Rt=-1)for(be=Je.shift();++Rt<Ve.length;)Ve[Rt].apply(be[0],be[1])===!1&&Z.stopOnFalse&&(Rt=Ve.length,be=!1);Z.memory||(be=!1),de=!1,je&&(be?Ve=[]:Ve="")},Kt={add:function(){return Ve&&(be&&!de&&(Rt=Ve.length-1,Je.push(be)),function mi(ki){E.each(ki,function(oi,ui){O(ui)?(!Z.unique||!Kt.has(ui))&&Ve.push(ui):ui&&ui.length&&H(ui)!=="string"&&mi(ui)})}(arguments),be&&!de&&Ct()),this},remove:function(){return E.each(arguments,function(mi,ki){for(var oi;(oi=E.inArray(ki,Ve,oi))>-1;)Ve.splice(oi,1),oi<=Rt&&Rt--}),this},has:function(mi){return mi?E.inArray(mi,Ve)>-1:Ve.length>0},empty:function(){return Ve&&(Ve=[]),this},disable:function(){return je=Je=[],Ve=be="",this},disabled:function(){return!Ve},lock:function(){return je=Je=[],!be&&!de&&(Ve=be=""),this},locked:function(){return!!je},fireWith:function(mi,ki){return je||(ki=ki||[],ki=[mi,ki.slice?ki.slice():ki],Je.push(ki),de||Ct()),this},fire:function(){return Kt.fireWith(this,arguments),this},fired:function(){return!!Me}};return Kt};function pe(Z){return Z}function F(Z){throw Z}function Q(Z,de,be,Me){var je;try{Z&&O(je=Z.promise)?je.call(Z).done(de).fail(be):Z&&O(je=Z.then)?je.call(Z,de,be):de.apply(void 0,[Z].slice(Me))}catch(Ve){be.apply(void 0,[Ve])}}E.extend({Deferred:function(Z){var de=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],be="pending",Me={state:function(){return be},always:function(){return je.done(arguments).fail(arguments),this},catch:function(Ve){return Me.then(null,Ve)},pipe:function(){var Ve=arguments;return E.Deferred(function(Je){E.each(de,function(Rt,Ct){var Kt=O(Ve[Ct[4]])&&Ve[Ct[4]];je[Ct[1]](function(){var mi=Kt&&Kt.apply(this,arguments);mi&&O(mi.promise)?mi.promise().progress(Je.notify).done(Je.resolve).fail(Je.reject):Je[Ct[0]+"With"](this,Kt?[mi]:arguments)})}),Ve=null}).promise()},then:function(Ve,Je,Rt){var Ct=0;function Kt(mi,ki,oi,ui){return function(){var Xi=this,qn=arguments,pn=function(){var Jr,hr;if(!(mi<Ct)){if(Jr=oi.apply(Xi,qn),Jr===ki.promise())throw new TypeError("Thenable self-resolution");hr=Jr&&(typeof Jr=="object"||typeof Jr=="function")&&Jr.then,O(hr)?ui?hr.call(Jr,Kt(Ct,ki,pe,ui),Kt(Ct,ki,F,ui)):(Ct++,hr.call(Jr,Kt(Ct,ki,pe,ui),Kt(Ct,ki,F,ui),Kt(Ct,ki,pe,ki.notifyWith))):(oi!==pe&&(Xi=void 0,qn=[Jr]),(ui||ki.resolveWith)(Xi,qn))}},fs=ui?pn:function(){try{pn()}catch(Jr){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(Jr,fs.stackTrace),mi+1>=Ct&&(oi!==F&&(Xi=void 0,qn=[Jr]),ki.rejectWith(Xi,qn))}};mi?fs():(E.Deferred.getStackHook&&(fs.stackTrace=E.Deferred.getStackHook()),t.setTimeout(fs))}}return E.Deferred(function(mi){de[0][3].add(Kt(0,mi,O(Rt)?Rt:pe,mi.notifyWith)),de[1][3].add(Kt(0,mi,O(Ve)?Ve:pe)),de[2][3].add(Kt(0,mi,O(Je)?Je:F))}).promise()},promise:function(Ve){return Ve!=null?E.extend(Ve,Me):Me}},je={};return E.each(de,function(Ve,Je){var Rt=Je[2],Ct=Je[5];Me[Je[1]]=Rt.add,Ct&&Rt.add(function(){be=Ct},de[3-Ve][2].disable,de[3-Ve][3].disable,de[0][2].lock,de[0][3].lock),Rt.add(Je[3].fire),je[Je[0]]=function(){return je[Je[0]+"With"](this===je?void 0:this,arguments),this},je[Je[0]+"With"]=Rt.fireWith}),Me.promise(je),Z&&Z.call(je,je),je},when:function(Z){var de=arguments.length,be=de,Me=Array(be),je=d.call(arguments),Ve=E.Deferred(),Je=function(Rt){return function(Ct){Me[Rt]=this,je[Rt]=arguments.length>1?d.call(arguments):Ct,--de||Ve.resolveWith(Me,je)}};if(de<=1&&(Q(Z,Ve.done(Je(be)).resolve,Ve.reject,!de),Ve.state()==="pending"||O(je[be]&&je[be].then)))return Ve.then();for(;be--;)Q(je[be],Je(be),Ve.reject);return Ve.promise()}});var ce=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(Z,de){t.console&&t.console.warn&&Z&&ce.test(Z.name)&&t.console.warn("jQuery.Deferred exception: "+Z.message,Z.stack,de)},E.readyException=function(Z){t.setTimeout(function(){throw Z})};var ge=E.Deferred();E.fn.ready=function(Z){return ge.then(Z).catch(function(de){E.readyException(de)}),this},E.extend({isReady:!1,readyWait:1,ready:function(Z){(Z===!0?--E.readyWait:E.isReady)||(E.isReady=!0,!(Z!==!0&&--E.readyWait>0)&&ge.resolveWith(M,[E]))}}),E.ready.then=ge.then;function ke(){M.removeEventListener("DOMContentLoaded",ke),t.removeEventListener("load",ke),E.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(E.ready):(M.addEventListener("DOMContentLoaded",ke),t.addEventListener("load",ke));var re=function(Z,de,be,Me,je,Ve,Je){var Rt=0,Ct=Z.length,Kt=be==null;if(H(be)==="object"){je=!0;for(Rt in be)re(Z,de,Rt,be[Rt],!0,Ve,Je)}else if(Me!==void 0&&(je=!0,O(Me)||(Je=!0),Kt&&(Je?(de.call(Z,Me),de=null):(Kt=de,de=function(mi,ki,oi){return Kt.call(E(mi),oi)})),de))for(;Rt<Ct;Rt++)de(Z[Rt],be,Je?Me:Me.call(Z[Rt],Rt,de(Z[Rt],be)));return je?Z:Kt?de.call(Z):Ct?de(Z[0],be):Ve},ve=/^-ms-/,_e=/-([a-z])/g;function oe(Z,de){return de.toUpperCase()}function ye(Z){return Z.replace(ve,"ms-").replace(_e,oe)}var Se=function(Z){return Z.nodeType===1||Z.nodeType===9||!+Z.nodeType};function Re(){this.expando=E.expando+Re.uid++}Re.uid=1,Re.prototype={cache:function(Z){var de=Z[this.expando];return de||(de={},Se(Z)&&(Z.nodeType?Z[this.expando]=de:Object.defineProperty(Z,this.expando,{value:de,configurable:!0}))),de},set:function(Z,de,be){var Me,je=this.cache(Z);if(typeof de=="string")je[ye(de)]=be;else for(Me in de)je[ye(Me)]=de[Me];return je},get:function(Z,de){return de===void 0?this.cache(Z):Z[this.expando]&&Z[this.expando][ye(de)]},access:function(Z,de,be){return de===void 0||de&&typeof de=="string"&&be===void 0?this.get(Z,de):(this.set(Z,de,be),be!==void 0?be:de)},remove:function(Z,de){var be,Me=Z[this.expando];if(Me!==void 0){if(de!==void 0)for(Array.isArray(de)?de=de.map(ye):(de=ye(de),de=de in Me?[de]:de.match(le)||[]),be=de.length;be--;)delete Me[de[be]];(de===void 0||E.isEmptyObject(Me))&&(Z.nodeType?Z[this.expando]=void 0:delete Z[this.expando])}},hasData:function(Z){var de=Z[this.expando];return de!==void 0&&!E.isEmptyObject(de)}};var Oe=new Re,Ue=new Re,st=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qe=/[A-Z]/g;function qe(Z){return Z==="true"?!0:Z==="false"?!1:Z==="null"?null:Z===+Z+""?+Z:st.test(Z)?JSON.parse(Z):Z}function xe(Z,de,be){var Me;if(be===void 0&&Z.nodeType===1)if(Me="data-"+de.replace(Qe,"-$&").toLowerCase(),be=Z.getAttribute(Me),typeof be=="string"){try{be=qe(be)}catch{}Ue.set(Z,de,be)}else be=void 0;return be}E.extend({hasData:function(Z){return Ue.hasData(Z)||Oe.hasData(Z)},data:function(Z,de,be){return Ue.access(Z,de,be)},removeData:function(Z,de){Ue.remove(Z,de)},_data:function(Z,de,be){return Oe.access(Z,de,be)},_removeData:function(Z,de){Oe.remove(Z,de)}}),E.fn.extend({data:function(Z,de){var be,Me,je,Ve=this[0],Je=Ve&&Ve.attributes;if(Z===void 0){if(this.length&&(je=Ue.get(Ve),Ve.nodeType===1&&!Oe.get(Ve,"hasDataAttrs"))){for(be=Je.length;be--;)Je[be]&&(Me=Je[be].name,Me.indexOf("data-")===0&&(Me=ye(Me.slice(5)),xe(Ve,Me,je[Me])));Oe.set(Ve,"hasDataAttrs",!0)}return je}return typeof Z=="object"?this.each(function(){Ue.set(this,Z)}):re(this,function(Rt){var Ct;if(Ve&&Rt===void 0)return Ct=Ue.get(Ve,Z),Ct!==void 0||(Ct=xe(Ve,Z),Ct!==void 0)?Ct:void 0;this.each(function(){Ue.set(this,Z,Rt)})},null,de,arguments.length>1,null,!0)},removeData:function(Z){return this.each(function(){Ue.remove(this,Z)})}}),E.extend({queue:function(Z,de,be){var Me;if(Z)return de=(de||"fx")+"queue",Me=Oe.get(Z,de),be&&(!Me||Array.isArray(be)?Me=Oe.access(Z,de,E.makeArray(be)):Me.push(be)),Me||[]},dequeue:function(Z,de){de=de||"fx";var be=E.queue(Z,de),Me=be.length,je=be.shift(),Ve=E._queueHooks(Z,de),Je=function(){E.dequeue(Z,de)};je==="inprogress"&&(je=be.shift(),Me--),je&&(de==="fx"&&be.unshift("inprogress"),delete Ve.stop,je.call(Z,Je,Ve)),!Me&&Ve&&Ve.empty.fire()},_queueHooks:function(Z,de){var be=de+"queueHooks";return Oe.get(Z,be)||Oe.access(Z,be,{empty:E.Callbacks("once memory").add(function(){Oe.remove(Z,[de+"queue",be])})})}}),E.fn.extend({queue:function(Z,de){var be=2;return typeof Z!="string"&&(de=Z,Z="fx",be--),arguments.length<be?E.queue(this[0],Z):de===void 0?this:this.each(function(){var Me=E.queue(this,Z,de);E._queueHooks(this,Z),Z==="fx"&&Me[0]!=="inprogress"&&E.dequeue(this,Z)})},dequeue:function(Z){return this.each(function(){E.dequeue(this,Z)})},clearQueue:function(Z){return this.queue(Z||"fx",[])},promise:function(Z,de){var be,Me=1,je=E.Deferred(),Ve=this,Je=this.length,Rt=function(){--Me||je.resolveWith(Ve,[Ve])};for(typeof Z!="string"&&(de=Z,Z=void 0),Z=Z||"fx";Je--;)be=Oe.get(Ve[Je],Z+"queueHooks"),be&&be.empty&&(Me++,be.empty.add(Rt));return Rt(),je.promise(de)}});var Ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+Ie+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Ke=M.documentElement,pt=function(Z){return E.contains(Z.ownerDocument,Z)},Tt={composed:!0};Ke.getRootNode&&(pt=function(Z){return E.contains(Z.ownerDocument,Z)||Z.getRootNode(Tt)===Z.ownerDocument});var Lt=function(Z,de){return Z=de||Z,Z.style.display==="none"||Z.style.display===""&&pt(Z)&&E.css(Z,"display")==="none"};function gi(Z,de,be,Me){var je,Ve,Je=20,Rt=Me?function(){return Me.cur()}:function(){return E.css(Z,de,"")},Ct=Rt(),Kt=be&&be[3]||(E.cssNumber[de]?"":"px"),mi=Z.nodeType&&(E.cssNumber[de]||Kt!=="px"&&+Ct)&&Be.exec(E.css(Z,de));if(mi&&mi[3]!==Kt){for(Ct=Ct/2,Kt=Kt||mi[3],mi=+Ct||1;Je--;)E.style(Z,de,mi+Kt),(1-Ve)*(1-(Ve=Rt()/Ct||.5))<=0&&(Je=0),mi=mi/Ve;mi=mi*2,E.style(Z,de,mi+Kt),be=be||[]}return be&&(mi=+mi||+Ct||0,je=be[1]?mi+(be[1]+1)*be[2]:+be[2],Me&&(Me.unit=Kt,Me.start=mi,Me.end=je)),je}var Wt={};function pi(Z){var de,be=Z.ownerDocument,Me=Z.nodeName,je=Wt[Me];return je||(de=be.body.appendChild(be.createElement(Me)),je=E.css(de,"display"),de.parentNode.removeChild(de),je==="none"&&(je="block"),Wt[Me]=je,je)}function Gi(Z,de){for(var be,Me,je=[],Ve=0,Je=Z.length;Ve<Je;Ve++)Me=Z[Ve],Me.style&&(be=Me.style.display,de?(be==="none"&&(je[Ve]=Oe.get(Me,"display")||null,je[Ve]||(Me.style.display="")),Me.style.display===""&&Lt(Me)&&(je[Ve]=pi(Me))):be!=="none"&&(je[Ve]="none",Oe.set(Me,"display",be)));for(Ve=0;Ve<Je;Ve++)je[Ve]!=null&&(Z[Ve].style.display=je[Ve]);return Z}E.fn.extend({show:function(){return Gi(this,!0)},hide:function(){return Gi(this)},toggle:function(Z){return typeof Z=="boolean"?Z?this.show():this.hide():this.each(function(){Lt(this)?E(this).show():E(this).hide()})}});var ht=/^(?:checkbox|radio)$/i,It=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ei=/^$|^module$|\/(?:java|ecma)script/i;(function(){var Z=M.createDocumentFragment(),de=Z.appendChild(M.createElement("div")),be=M.createElement("input");be.setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),de.appendChild(be),L.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",L.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",L.option=!!de.lastChild})();var Pi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pi.tbody=Pi.tfoot=Pi.colgroup=Pi.caption=Pi.thead,Pi.th=Pi.td,L.option||(Pi.optgroup=Pi.option=[1,"<select multiple='multiple'>","</select>"]);function an(Z,de){var be;return typeof Z.getElementsByTagName<"u"?be=Z.getElementsByTagName(de||"*"):typeof Z.querySelectorAll<"u"?be=Z.querySelectorAll(de||"*"):be=[],de===void 0||de&&w(Z,de)?E.merge([Z],be):be}function Gn(Z,de){for(var be=0,Me=Z.length;be<Me;be++)Oe.set(Z[be],"globalEval",!de||Oe.get(de[be],"globalEval"))}var Kr=/<|&#?\w+;/;function di(Z,de,be,Me,je){for(var Ve,Je,Rt,Ct,Kt,mi,ki=de.createDocumentFragment(),oi=[],ui=0,Xi=Z.length;ui<Xi;ui++)if(Ve=Z[ui],Ve||Ve===0)if(H(Ve)==="object")E.merge(oi,Ve.nodeType?[Ve]:Ve);else if(!Kr.test(Ve))oi.push(de.createTextNode(Ve));else{for(Je=Je||ki.appendChild(de.createElement("div")),Rt=(It.exec(Ve)||["",""])[1].toLowerCase(),Ct=Pi[Rt]||Pi._default,Je.innerHTML=Ct[1]+E.htmlPrefilter(Ve)+Ct[2],mi=Ct[0];mi--;)Je=Je.lastChild;E.merge(oi,Je.childNodes),Je=ki.firstChild,Je.textContent=""}for(ki.textContent="",ui=0;Ve=oi[ui++];){if(Me&&E.inArray(Ve,Me)>-1){je&&je.push(Ve);continue}if(Kt=pt(Ve),Je=an(ki.appendChild(Ve),"script"),Kt&&Gn(Je),be)for(mi=0;Ve=Je[mi++];)ei.test(Ve.type||"")&&be.push(Ve)}return ki}var $i=/^([^.]*)(?:\.(.+)|)/;function Wi(){return!0}function Nr(){return!1}function mo(Z,de){return Z===wn()==(de==="focus")}function wn(){try{return M.activeElement}catch{}}function ao(Z,de,be,Me,je,Ve){var Je,Rt;if(typeof de=="object"){typeof be!="string"&&(Me=Me||be,be=void 0);for(Rt in de)ao(Z,Rt,be,Me,de[Rt],Ve);return Z}if(Me==null&&je==null?(je=be,Me=be=void 0):je==null&&(typeof be=="string"?(je=Me,Me=void 0):(je=Me,Me=be,be=void 0)),je===!1)je=Nr;else if(!je)return Z;return Ve===1&&(Je=je,je=function(Ct){return E().off(Ct),Je.apply(this,arguments)},je.guid=Je.guid||(Je.guid=E.guid++)),Z.each(function(){E.event.add(this,de,je,Me,be)})}E.event={global:{},add:function(Z,de,be,Me,je){var Ve,Je,Rt,Ct,Kt,mi,ki,oi,ui,Xi,qn,pn=Oe.get(Z);if(Se(Z))for(be.handler&&(Ve=be,be=Ve.handler,je=Ve.selector),je&&E.find.matchesSelector(Ke,je),be.guid||(be.guid=E.guid++),(Ct=pn.events)||(Ct=pn.events=Object.create(null)),(Je=pn.handle)||(Je=pn.handle=function(fs){return typeof E<"u"&&E.event.triggered!==fs.type?E.event.dispatch.apply(Z,arguments):void 0}),de=(de||"").match(le)||[""],Kt=de.length;Kt--;)Rt=$i.exec(de[Kt])||[],ui=qn=Rt[1],Xi=(Rt[2]||"").split(".").sort(),ui&&(ki=E.event.special[ui]||{},ui=(je?ki.delegateType:ki.bindType)||ui,ki=E.event.special[ui]||{},mi=E.extend({type:ui,origType:qn,data:Me,handler:be,guid:be.guid,selector:je,needsContext:je&&E.expr.match.needsContext.test(je),namespace:Xi.join(".")},Ve),(oi=Ct[ui])||(oi=Ct[ui]=[],oi.delegateCount=0,(!ki.setup||ki.setup.call(Z,Me,Xi,Je)===!1)&&Z.addEventListener&&Z.addEventListener(ui,Je)),ki.add&&(ki.add.call(Z,mi),mi.handler.guid||(mi.handler.guid=be.guid)),je?oi.splice(oi.delegateCount++,0,mi):oi.push(mi),E.event.global[ui]=!0)},remove:function(Z,de,be,Me,je){var Ve,Je,Rt,Ct,Kt,mi,ki,oi,ui,Xi,qn,pn=Oe.hasData(Z)&&Oe.get(Z);if(!(!pn||!(Ct=pn.events))){for(de=(de||"").match(le)||[""],Kt=de.length;Kt--;){if(Rt=$i.exec(de[Kt])||[],ui=qn=Rt[1],Xi=(Rt[2]||"").split(".").sort(),!ui){for(ui in Ct)E.event.remove(Z,ui+de[Kt],be,Me,!0);continue}for(ki=E.event.special[ui]||{},ui=(Me?ki.delegateType:ki.bindType)||ui,oi=Ct[ui]||[],Rt=Rt[2]&&new RegExp("(^|\\.)"+Xi.join("\\.(?:.*\\.|)")+"(\\.|$)"),Je=Ve=oi.length;Ve--;)mi=oi[Ve],(je||qn===mi.origType)&&(!be||be.guid===mi.guid)&&(!Rt||Rt.test(mi.namespace))&&(!Me||Me===mi.selector||Me==="**"&&mi.selector)&&(oi.splice(Ve,1),mi.selector&&oi.delegateCount--,ki.remove&&ki.remove.call(Z,mi));Je&&!oi.length&&((!ki.teardown||ki.teardown.call(Z,Xi,pn.handle)===!1)&&E.removeEvent(Z,ui,pn.handle),delete Ct[ui])}E.isEmptyObject(Ct)&&Oe.remove(Z,"handle events")}},dispatch:function(Z){var de,be,Me,je,Ve,Je,Rt=new Array(arguments.length),Ct=E.event.fix(Z),Kt=(Oe.get(this,"events")||Object.create(null))[Ct.type]||[],mi=E.event.special[Ct.type]||{};for(Rt[0]=Ct,de=1;de<arguments.length;de++)Rt[de]=arguments[de];if(Ct.delegateTarget=this,!(mi.preDispatch&&mi.preDispatch.call(this,Ct)===!1)){for(Je=E.event.handlers.call(this,Ct,Kt),de=0;(je=Je[de++])&&!Ct.isPropagationStopped();)for(Ct.currentTarget=je.elem,be=0;(Ve=je.handlers[be++])&&!Ct.isImmediatePropagationStopped();)(!Ct.rnamespace||Ve.namespace===!1||Ct.rnamespace.test(Ve.namespace))&&(Ct.handleObj=Ve,Ct.data=Ve.data,Me=((E.event.special[Ve.origType]||{}).handle||Ve.handler).apply(je.elem,Rt),Me!==void 0&&(Ct.result=Me)===!1&&(Ct.preventDefault(),Ct.stopPropagation()));return mi.postDispatch&&mi.postDispatch.call(this,Ct),Ct.result}},handlers:function(Z,de){var be,Me,je,Ve,Je,Rt=[],Ct=de.delegateCount,Kt=Z.target;if(Ct&&Kt.nodeType&&!(Z.type==="click"&&Z.button>=1)){for(;Kt!==this;Kt=Kt.parentNode||this)if(Kt.nodeType===1&&!(Z.type==="click"&&Kt.disabled===!0)){for(Ve=[],Je={},be=0;be<Ct;be++)Me=de[be],je=Me.selector+" ",Je[je]===void 0&&(Je[je]=Me.needsContext?E(je,this).index(Kt)>-1:E.find(je,this,null,[Kt]).length),Je[je]&&Ve.push(Me);Ve.length&&Rt.push({elem:Kt,handlers:Ve})}}return Kt=this,Ct<de.length&&Rt.push({elem:Kt,handlers:de.slice(Ct)}),Rt},addProp:function(Z,de){Object.defineProperty(E.Event.prototype,Z,{enumerable:!0,configurable:!0,get:O(de)?function(){if(this.originalEvent)return de(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[Z]},set:function(be){Object.defineProperty(this,Z,{enumerable:!0,configurable:!0,writable:!0,value:be})}})},fix:function(Z){return Z[E.expando]?Z:new E.Event(Z)},special:{load:{noBubble:!0},click:{setup:function(Z){var de=this||Z;return ht.test(de.type)&&de.click&&w(de,"input")&&Ln(de,"click",Wi),!1},trigger:function(Z){var de=this||Z;return ht.test(de.type)&&de.click&&w(de,"input")&&Ln(de,"click"),!0},_default:function(Z){var de=Z.target;return ht.test(de.type)&&de.click&&w(de,"input")&&Oe.get(de,"click")||w(de,"a")}},beforeunload:{postDispatch:function(Z){Z.result!==void 0&&Z.originalEvent&&(Z.originalEvent.returnValue=Z.result)}}}};function Ln(Z,de,be){if(!be){Oe.get(Z,de)===void 0&&E.event.add(Z,de,Wi);return}Oe.set(Z,de,!1),E.event.add(Z,de,{namespace:!1,handler:function(Me){var je,Ve,Je=Oe.get(this,de);if(Me.isTrigger&1&&this[de]){if(Je.length)(E.event.special[de]||{}).delegateType&&Me.stopPropagation();else if(Je=d.call(arguments),Oe.set(this,de,Je),je=be(this,de),this[de](),Ve=Oe.get(this,de),Je!==Ve||je?Oe.set(this,de,!1):Ve={},Je!==Ve)return Me.stopImmediatePropagation(),Me.preventDefault(),Ve&&Ve.value}else Je.length&&(Oe.set(this,de,{value:E.event.trigger(E.extend(Je[0],E.Event.prototype),Je.slice(1),this)}),Me.stopImmediatePropagation())}})}E.removeEvent=function(Z,de,be){Z.removeEventListener&&Z.removeEventListener(de,be)},E.Event=function(Z,de){if(!(this instanceof E.Event))return new E.Event(Z,de);Z&&Z.type?(this.originalEvent=Z,this.type=Z.type,this.isDefaultPrevented=Z.defaultPrevented||Z.defaultPrevented===void 0&&Z.returnValue===!1?Wi:Nr,this.target=Z.target&&Z.target.nodeType===3?Z.target.parentNode:Z.target,this.currentTarget=Z.currentTarget,this.relatedTarget=Z.relatedTarget):this.type=Z,de&&E.extend(this,de),this.timeStamp=Z&&Z.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Nr,isPropagationStopped:Nr,isImmediatePropagationStopped:Nr,isSimulated:!1,preventDefault:function(){var Z=this.originalEvent;this.isDefaultPrevented=Wi,Z&&!this.isSimulated&&Z.preventDefault()},stopPropagation:function(){var Z=this.originalEvent;this.isPropagationStopped=Wi,Z&&!this.isSimulated&&Z.stopPropagation()},stopImmediatePropagation:function(){var Z=this.originalEvent;this.isImmediatePropagationStopped=Wi,Z&&!this.isSimulated&&Z.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(Z,de){E.event.special[Z]={setup:function(){return Ln(this,Z,mo),!1},trigger:function(){return Ln(this,Z),!0},_default:function(be){return Oe.get(be.target,Z)},delegateType:de}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(Z,de){E.event.special[Z]={delegateType:de,bindType:de,handle:function(be){var Me,je=this,Ve=be.relatedTarget,Je=be.handleObj;return(!Ve||Ve!==je&&!E.contains(je,Ve))&&(be.type=Je.origType,Me=Je.handler.apply(this,arguments),be.type=de),Me}}}),E.fn.extend({on:function(Z,de,be,Me){return ao(this,Z,de,be,Me)},one:function(Z,de,be,Me){return ao(this,Z,de,be,Me,1)},off:function(Z,de,be){var Me,je;if(Z&&Z.preventDefault&&Z.handleObj)return Me=Z.handleObj,E(Z.delegateTarget).off(Me.namespace?Me.origType+"."+Me.namespace:Me.origType,Me.selector,Me.handler),this;if(typeof Z=="object"){for(je in Z)this.off(je,de,Z[je]);return this}return(de===!1||typeof de=="function")&&(be=de,de=void 0),be===!1&&(be=Nr),this.each(function(){E.event.remove(this,Z,be,de)})}});var ja=/<script|<style|<link/i,il=/checked\s*(?:[^=]|=\s*.checked.)/i,ft=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ne(Z,de){return w(Z,"table")&&w(de.nodeType!==11?de:de.firstChild,"tr")&&E(Z).children("tbody")[0]||Z}function He(Z){return Z.type=(Z.getAttribute("type")!==null)+"/"+Z.type,Z}function dt(Z){return(Z.type||"").slice(0,5)==="true/"?Z.type=Z.type.slice(5):Z.removeAttribute("type"),Z}function _t(Z,de){var be,Me,je,Ve,Je,Rt,Ct;if(de.nodeType===1){if(Oe.hasData(Z)&&(Ve=Oe.get(Z),Ct=Ve.events,Ct)){Oe.remove(de,"handle events");for(je in Ct)for(be=0,Me=Ct[je].length;be<Me;be++)E.event.add(de,je,Ct[je][be])}Ue.hasData(Z)&&(Je=Ue.access(Z),Rt=E.extend({},Je),Ue.set(de,Rt))}}function Ot(Z,de){var be=de.nodeName.toLowerCase();be==="input"&&ht.test(Z.type)?de.checked=Z.checked:(be==="input"||be==="textarea")&&(de.defaultValue=Z.defaultValue)}function Ut(Z,de,be,Me){de=h(de);var je,Ve,Je,Rt,Ct,Kt,mi=0,ki=Z.length,oi=ki-1,ui=de[0],Xi=O(ui);if(Xi||ki>1&&typeof ui=="string"&&!L.checkClone&&il.test(ui))return Z.each(function(qn){var pn=Z.eq(qn);Xi&&(de[0]=ui.call(this,qn,pn.html())),Ut(pn,de,be,Me)});if(ki&&(je=di(de,Z[0].ownerDocument,!1,Z,Me),Ve=je.firstChild,je.childNodes.length===1&&(je=Ve),Ve||Me)){for(Je=E.map(an(je,"script"),He),Rt=Je.length;mi<ki;mi++)Ct=je,mi!==oi&&(Ct=E.clone(Ct,!0,!0),Rt&&E.merge(Je,an(Ct,"script"))),be.call(Z[mi],Ct,mi);if(Rt)for(Kt=Je[Je.length-1].ownerDocument,E.map(Je,dt),mi=0;mi<Rt;mi++)Ct=Je[mi],ei.test(Ct.type||"")&&!Oe.access(Ct,"globalEval")&&E.contains(Kt,Ct)&&(Ct.src&&(Ct.type||"").toLowerCase()!=="module"?E._evalUrl&&!Ct.noModule&&E._evalUrl(Ct.src,{nonce:Ct.nonce||Ct.getAttribute("nonce")},Kt):P(Ct.textContent.replace(ft,""),Ct,Kt))}return Z}function Ht(Z,de,be){for(var Me,je=de?E.filter(de,Z):Z,Ve=0;(Me=je[Ve])!=null;Ve++)!be&&Me.nodeType===1&&E.cleanData(an(Me)),Me.parentNode&&(be&&pt(Me)&&Gn(an(Me,"script")),Me.parentNode.removeChild(Me));return Z}E.extend({htmlPrefilter:function(Z){return Z},clone:function(Z,de,be){var Me,je,Ve,Je,Rt=Z.cloneNode(!0),Ct=pt(Z);if(!L.noCloneChecked&&(Z.nodeType===1||Z.nodeType===11)&&!E.isXMLDoc(Z))for(Je=an(Rt),Ve=an(Z),Me=0,je=Ve.length;Me<je;Me++)Ot(Ve[Me],Je[Me]);if(de)if(be)for(Ve=Ve||an(Z),Je=Je||an(Rt),Me=0,je=Ve.length;Me<je;Me++)_t(Ve[Me],Je[Me]);else _t(Z,Rt);return Je=an(Rt,"script"),Je.length>0&&Gn(Je,!Ct&&an(Z,"script")),Rt},cleanData:function(Z){for(var de,be,Me,je=E.event.special,Ve=0;(be=Z[Ve])!==void 0;Ve++)if(Se(be)){if(de=be[Oe.expando]){if(de.events)for(Me in de.events)je[Me]?E.event.remove(be,Me):E.removeEvent(be,Me,de.handle);be[Oe.expando]=void 0}be[Ue.expando]&&(be[Ue.expando]=void 0)}}}),E.fn.extend({detach:function(Z){return Ht(this,Z,!0)},remove:function(Z){return Ht(this,Z)},text:function(Z){return re(this,function(de){return de===void 0?E.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=de)})},null,Z,arguments.length)},append:function(){return Ut(this,arguments,function(Z){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var de=Ne(this,Z);de.appendChild(Z)}})},prepend:function(){return Ut(this,arguments,function(Z){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var de=Ne(this,Z);de.insertBefore(Z,de.firstChild)}})},before:function(){return Ut(this,arguments,function(Z){this.parentNode&&this.parentNode.insertBefore(Z,this)})},after:function(){return Ut(this,arguments,function(Z){this.parentNode&&this.parentNode.insertBefore(Z,this.nextSibling)})},empty:function(){for(var Z,de=0;(Z=this[de])!=null;de++)Z.nodeType===1&&(E.cleanData(an(Z,!1)),Z.textContent="");return this},clone:function(Z,de){return Z=Z??!1,de=de??Z,this.map(function(){return E.clone(this,Z,de)})},html:function(Z){return re(this,function(de){var be=this[0]||{},Me=0,je=this.length;if(de===void 0&&be.nodeType===1)return be.innerHTML;if(typeof de=="string"&&!ja.test(de)&&!Pi[(It.exec(de)||["",""])[1].toLowerCase()]){de=E.htmlPrefilter(de);try{for(;Me<je;Me++)be=this[Me]||{},be.nodeType===1&&(E.cleanData(an(be,!1)),be.innerHTML=de);be=0}catch{}}be&&this.empty().append(de)},null,Z,arguments.length)},replaceWith:function(){var Z=[];return Ut(this,arguments,function(de){var be=this.parentNode;E.inArray(this,Z)<0&&(E.cleanData(an(this)),be&&be.replaceChild(de,this))},Z)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(Z,de){E.fn[Z]=function(be){for(var Me,je=[],Ve=E(be),Je=Ve.length-1,Rt=0;Rt<=Je;Rt++)Me=Rt===Je?this:this.clone(!0),E(Ve[Rt])[de](Me),s.apply(je,Me.get());return this.pushStack(je)}});var zt=new RegExp("^("+Ie+")(?!px)[a-z%]+$","i"),Zt=/^--/,xi=function(Z){var de=Z.ownerDocument.defaultView;return(!de||!de.opener)&&(de=t),de.getComputedStyle(Z)},Zi=function(Z,de,be){var Me,je,Ve={};for(je in de)Ve[je]=Z.style[je],Z.style[je]=de[je];Me=be.call(Z);for(je in de)Z.style[je]=Ve[je];return Me},Di=new RegExp(Xe.join("|"),"i"),Mn="[\\x20\\t\\r\\n\\f]",Cn=new RegExp("^"+Mn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mn+"+$","g");(function(){function Z(){if(Kt){Ct.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Kt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ke.appendChild(Ct).appendChild(Kt);var mi=t.getComputedStyle(Kt);be=mi.top!=="1%",Rt=de(mi.marginLeft)===12,Kt.style.right="60%",Ve=de(mi.right)===36,Me=de(mi.width)===36,Kt.style.position="absolute",je=de(Kt.offsetWidth/3)===12,Ke.removeChild(Ct),Kt=null}}function de(mi){return Math.round(parseFloat(mi))}var be,Me,je,Ve,Je,Rt,Ct=M.createElement("div"),Kt=M.createElement("div");Kt.style&&(Kt.style.backgroundClip="content-box",Kt.cloneNode(!0).style.backgroundClip="",L.clearCloneStyle=Kt.style.backgroundClip==="content-box",E.extend(L,{boxSizingReliable:function(){return Z(),Me},pixelBoxStyles:function(){return Z(),Ve},pixelPosition:function(){return Z(),be},reliableMarginLeft:function(){return Z(),Rt},scrollboxSize:function(){return Z(),je},reliableTrDimensions:function(){var mi,ki,oi,ui;return Je==null&&(mi=M.createElement("table"),ki=M.createElement("tr"),oi=M.createElement("div"),mi.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ki.style.cssText="border:1px solid",ki.style.height="1px",oi.style.height="9px",oi.style.display="block",Ke.appendChild(mi).appendChild(ki).appendChild(oi),ui=t.getComputedStyle(ki),Je=parseInt(ui.height,10)+parseInt(ui.borderTopWidth,10)+parseInt(ui.borderBottomWidth,10)===ki.offsetHeight,Ke.removeChild(mi)),Je}}))})();function un(Z,de,be){var Me,je,Ve,Je,Rt=Zt.test(de),Ct=Z.style;return be=be||xi(Z),be&&(Je=be.getPropertyValue(de)||be[de],Rt&&Je&&(Je=Je.replace(Cn,"$1")||void 0),Je===""&&!pt(Z)&&(Je=E.style(Z,de)),!L.pixelBoxStyles()&&zt.test(Je)&&Di.test(de)&&(Me=Ct.width,je=Ct.minWidth,Ve=Ct.maxWidth,Ct.minWidth=Ct.maxWidth=Ct.width=Je,Je=be.width,Ct.width=Me,Ct.minWidth=je,Ct.maxWidth=Ve)),Je!==void 0?Je+"":Je}function Hi(Z,de){return{get:function(){if(Z()){delete this.get;return}return(this.get=de).apply(this,arguments)}}}var lr=["Webkit","Moz","ms"],kr=M.createElement("div").style,_n={};function Yr(Z){for(var de=Z[0].toUpperCase()+Z.slice(1),be=lr.length;be--;)if(Z=lr[be]+de,Z in kr)return Z}function Lr(Z){var de=E.cssProps[Z]||_n[Z];return de||(Z in kr?Z:_n[Z]=Yr(Z)||Z)}var Ua=/^(none|table(?!-c[ea]).+)/,$a={position:"absolute",visibility:"hidden",display:"block"},go={letterSpacing:"0",fontWeight:"400"};function fi(Z,de,be){var Me=Be.exec(de);return Me?Math.max(0,Me[2]-(be||0))+(Me[3]||"px"):de}function ps(Z,de,be,Me,je,Ve){var Je=de==="width"?1:0,Rt=0,Ct=0;if(be===(Me?"border":"content"))return 0;for(;Je<4;Je+=2)be==="margin"&&(Ct+=E.css(Z,be+Xe[Je],!0,je)),Me?(be==="content"&&(Ct-=E.css(Z,"padding"+Xe[Je],!0,je)),be!=="margin"&&(Ct-=E.css(Z,"border"+Xe[Je]+"Width",!0,je))):(Ct+=E.css(Z,"padding"+Xe[Je],!0,je),be!=="padding"?Ct+=E.css(Z,"border"+Xe[Je]+"Width",!0,je):Rt+=E.css(Z,"border"+Xe[Je]+"Width",!0,je));return!Me&&Ve>=0&&(Ct+=Math.max(0,Math.ceil(Z["offset"+de[0].toUpperCase()+de.slice(1)]-Ve-Ct-Rt-.5))||0),Ct}function Ls(Z,de,be){var Me=xi(Z),je=!L.boxSizingReliable()||be,Ve=je&&E.css(Z,"boxSizing",!1,Me)==="border-box",Je=Ve,Rt=un(Z,de,Me),Ct="offset"+de[0].toUpperCase()+de.slice(1);if(zt.test(Rt)){if(!be)return Rt;Rt="auto"}return(!L.boxSizingReliable()&&Ve||!L.reliableTrDimensions()&&w(Z,"tr")||Rt==="auto"||!parseFloat(Rt)&&E.css(Z,"display",!1,Me)==="inline")&&Z.getClientRects().length&&(Ve=E.css(Z,"boxSizing",!1,Me)==="border-box",Je=Ct in Z,Je&&(Rt=Z[Ct])),Rt=parseFloat(Rt)||0,Rt+ps(Z,de,be||(Ve?"border":"content"),Je,Me,Rt)+"px"}E.extend({cssHooks:{opacity:{get:function(Z,de){if(de){var be=un(Z,"opacity");return be===""?"1":be}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(Z,de,be,Me){if(!(!Z||Z.nodeType===3||Z.nodeType===8||!Z.style)){var je,Ve,Je,Rt=ye(de),Ct=Zt.test(de),Kt=Z.style;if(Ct||(de=Lr(Rt)),Je=E.cssHooks[de]||E.cssHooks[Rt],be!==void 0){if(Ve=typeof be,Ve==="string"&&(je=Be.exec(be))&&je[1]&&(be=gi(Z,de,je),Ve="number"),be==null||be!==be)return;Ve==="number"&&!Ct&&(be+=je&&je[3]||(E.cssNumber[Rt]?"":"px")),!L.clearCloneStyle&&be===""&&de.indexOf("background")===0&&(Kt[de]="inherit"),(!Je||!("set"in Je)||(be=Je.set(Z,be,Me))!==void 0)&&(Ct?Kt.setProperty(de,be):Kt[de]=be)}else return Je&&"get"in Je&&(je=Je.get(Z,!1,Me))!==void 0?je:Kt[de]}},css:function(Z,de,be,Me){var je,Ve,Je,Rt=ye(de),Ct=Zt.test(de);return Ct||(de=Lr(Rt)),Je=E.cssHooks[de]||E.cssHooks[Rt],Je&&"get"in Je&&(je=Je.get(Z,!0,be)),je===void 0&&(je=un(Z,de,Me)),je==="normal"&&de in go&&(je=go[de]),be===""||be?(Ve=parseFloat(je),be===!0||isFinite(Ve)?Ve||0:je):je}}),E.each(["height","width"],function(Z,de){E.cssHooks[de]={get:function(be,Me,je){if(Me)return Ua.test(E.css(be,"display"))&&(!be.getClientRects().length||!be.getBoundingClientRect().width)?Zi(be,$a,function(){return Ls(be,de,je)}):Ls(be,de,je)},set:function(be,Me,je){var Ve,Je=xi(be),Rt=!L.scrollboxSize()&&Je.position==="absolute",Ct=Rt||je,Kt=Ct&&E.css(be,"boxSizing",!1,Je)==="border-box",mi=je?ps(be,de,je,Kt,Je):0;return Kt&&Rt&&(mi-=Math.ceil(be["offset"+de[0].toUpperCase()+de.slice(1)]-parseFloat(Je[de])-ps(be,de,"border",!1,Je)-.5)),mi&&(Ve=Be.exec(Me))&&(Ve[3]||"px")!=="px"&&(be.style[de]=Me,Me=E.css(be,de)),fi(be,Me,mi)}}}),E.cssHooks.marginLeft=Hi(L.reliableMarginLeft,function(Z,de){if(de)return(parseFloat(un(Z,"marginLeft"))||Z.getBoundingClientRect().left-Zi(Z,{marginLeft:0},function(){return Z.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(Z,de){E.cssHooks[Z+de]={expand:function(be){for(var Me=0,je={},Ve=typeof be=="string"?be.split(" "):[be];Me<4;Me++)je[Z+Xe[Me]+de]=Ve[Me]||Ve[Me-2]||Ve[0];return je}},Z!=="margin"&&(E.cssHooks[Z+de].set=fi)}),E.fn.extend({css:function(Z,de){return re(this,function(be,Me,je){var Ve,Je,Rt={},Ct=0;if(Array.isArray(Me)){for(Ve=xi(be),Je=Me.length;Ct<Je;Ct++)Rt[Me[Ct]]=E.css(be,Me[Ct],!1,Ve);return Rt}return je!==void 0?E.style(be,Me,je):E.css(be,Me)},Z,de,arguments.length>1)}});function Os(Z,de,be,Me,je){return new Os.prototype.init(Z,de,be,Me,je)}E.Tween=Os,Os.prototype={constructor:Os,init:function(Z,de,be,Me,je,Ve){this.elem=Z,this.prop=be,this.easing=je||E.easing._default,this.options=de,this.start=this.now=this.cur(),this.end=Me,this.unit=Ve||(E.cssNumber[be]?"":"px")},cur:function(){var Z=Os.propHooks[this.prop];return Z&&Z.get?Z.get(this):Os.propHooks._default.get(this)},run:function(Z){var de,be=Os.propHooks[this.prop];return this.options.duration?this.pos=de=E.easing[this.easing](Z,this.options.duration*Z,0,1,this.options.duration):this.pos=de=Z,this.now=(this.end-this.start)*de+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),be&&be.set?be.set(this):Os.propHooks._default.set(this),this}},Os.prototype.init.prototype=Os.prototype,Os.propHooks={_default:{get:function(Z){var de;return Z.elem.nodeType!==1||Z.elem[Z.prop]!=null&&Z.elem.style[Z.prop]==null?Z.elem[Z.prop]:(de=E.css(Z.elem,Z.prop,""),!de||de==="auto"?0:de)},set:function(Z){E.fx.step[Z.prop]?E.fx.step[Z.prop](Z):Z.elem.nodeType===1&&(E.cssHooks[Z.prop]||Z.elem.style[Lr(Z.prop)]!=null)?E.style(Z.elem,Z.prop,Z.now+Z.unit):Z.elem[Z.prop]=Z.now}}},Os.propHooks.scrollTop=Os.propHooks.scrollLeft={set:function(Z){Z.elem.nodeType&&Z.elem.parentNode&&(Z.elem[Z.prop]=Z.now)}},E.easing={linear:function(Z){return Z},swing:function(Z){return .5-Math.cos(Z*Math.PI)/2},_default:"swing"},E.fx=Os.prototype.init,E.fx.step={};var bc,Ao,Yc=/^(?:toggle|show|hide)$/,iu=/queueHooks$/;function lo(){Ao&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(lo):t.setTimeout(lo,E.fx.interval),E.fx.tick())}function Ki(){return t.setTimeout(function(){bc=void 0}),bc=Date.now()}function tr(Z,de){var be,Me=0,je={height:Z};for(de=de?1:0;Me<4;Me+=2-de)be=Xe[Me],je["margin"+be]=je["padding"+be]=Z;return de&&(je.opacity=je.width=Z),je}function cr(Z,de,be){for(var Me,je=(Nn.tweeners[de]||[]).concat(Nn.tweeners["*"]),Ve=0,Je=je.length;Ve<Je;Ve++)if(Me=je[Ve].call(be,de,Z))return Me}function Jo(Z,de,be){var Me,je,Ve,Je,Rt,Ct,Kt,mi,ki="width"in de||"height"in de,oi=this,ui={},Xi=Z.style,qn=Z.nodeType&&Lt(Z),pn=Oe.get(Z,"fxshow");be.queue||(Je=E._queueHooks(Z,"fx"),Je.unqueued==null&&(Je.unqueued=0,Rt=Je.empty.fire,Je.empty.fire=function(){Je.unqueued||Rt()}),Je.unqueued++,oi.always(function(){oi.always(function(){Je.unqueued--,E.queue(Z,"fx").length||Je.empty.fire()})}));for(Me in de)if(je=de[Me],Yc.test(je)){if(delete de[Me],Ve=Ve||je==="toggle",je===(qn?"hide":"show"))if(je==="show"&&pn&&pn[Me]!==void 0)qn=!0;else continue;ui[Me]=pn&&pn[Me]||E.style(Z,Me)}if(Ct=!E.isEmptyObject(de),!(!Ct&&E.isEmptyObject(ui))){ki&&Z.nodeType===1&&(be.overflow=[Xi.overflow,Xi.overflowX,Xi.overflowY],Kt=pn&&pn.display,Kt==null&&(Kt=Oe.get(Z,"display")),mi=E.css(Z,"display"),mi==="none"&&(Kt?mi=Kt:(Gi([Z],!0),Kt=Z.style.display||Kt,mi=E.css(Z,"display"),Gi([Z]))),(mi==="inline"||mi==="inline-block"&&Kt!=null)&&E.css(Z,"float")==="none"&&(Ct||(oi.done(function(){Xi.display=Kt}),Kt==null&&(mi=Xi.display,Kt=mi==="none"?"":mi)),Xi.display="inline-block")),be.overflow&&(Xi.overflow="hidden",oi.always(function(){Xi.overflow=be.overflow[0],Xi.overflowX=be.overflow[1],Xi.overflowY=be.overflow[2]})),Ct=!1;for(Me in ui)Ct||(pn?"hidden"in pn&&(qn=pn.hidden):pn=Oe.access(Z,"fxshow",{display:Kt}),Ve&&(pn.hidden=!qn),qn&&Gi([Z],!0),oi.done(function(){qn||Gi([Z]),Oe.remove(Z,"fxshow");for(Me in ui)E.style(Z,Me,ui[Me])})),Ct=cr(qn?pn[Me]:0,Me,oi),Me in pn||(pn[Me]=Ct.start,qn&&(Ct.end=Ct.start,Ct.start=0))}}function Va(Z,de){var be,Me,je,Ve,Je;for(be in Z)if(Me=ye(be),je=de[Me],Ve=Z[be],Array.isArray(Ve)&&(je=Ve[1],Ve=Z[be]=Ve[0]),be!==Me&&(Z[Me]=Ve,delete Z[be]),Je=E.cssHooks[Me],Je&&"expand"in Je){Ve=Je.expand(Ve),delete Z[Me];for(be in Ve)be in Z||(Z[be]=Ve[be],de[be]=je)}else de[Me]=je}function Nn(Z,de,be){var Me,je,Ve=0,Je=Nn.prefilters.length,Rt=E.Deferred().always(function(){delete Ct.elem}),Ct=function(){if(je)return!1;for(var ki=bc||Ki(),oi=Math.max(0,Kt.startTime+Kt.duration-ki),ui=oi/Kt.duration||0,Xi=1-ui,qn=0,pn=Kt.tweens.length;qn<pn;qn++)Kt.tweens[qn].run(Xi);return Rt.notifyWith(Z,[Kt,Xi,oi]),Xi<1&&pn?oi:(pn||Rt.notifyWith(Z,[Kt,1,0]),Rt.resolveWith(Z,[Kt]),!1)},Kt=Rt.promise({elem:Z,props:E.extend({},de),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},be),originalProperties:de,originalOptions:be,startTime:bc||Ki(),duration:be.duration,tweens:[],createTween:function(ki,oi){var ui=E.Tween(Z,Kt.opts,ki,oi,Kt.opts.specialEasing[ki]||Kt.opts.easing);return Kt.tweens.push(ui),ui},stop:function(ki){var oi=0,ui=ki?Kt.tweens.length:0;if(je)return this;for(je=!0;oi<ui;oi++)Kt.tweens[oi].run(1);return ki?(Rt.notifyWith(Z,[Kt,1,0]),Rt.resolveWith(Z,[Kt,ki])):Rt.rejectWith(Z,[Kt,ki]),this}}),mi=Kt.props;for(Va(mi,Kt.opts.specialEasing);Ve<Je;Ve++)if(Me=Nn.prefilters[Ve].call(Kt,Z,mi,Kt.opts),Me)return O(Me.stop)&&(E._queueHooks(Kt.elem,Kt.opts.queue).stop=Me.stop.bind(Me)),Me;return E.map(mi,cr,Kt),O(Kt.opts.start)&&Kt.opts.start.call(Z,Kt),Kt.progress(Kt.opts.progress).done(Kt.opts.done,Kt.opts.complete).fail(Kt.opts.fail).always(Kt.opts.always),E.fx.timer(E.extend(Ct,{elem:Z,anim:Kt,queue:Kt.opts.queue})),Kt}E.Animation=E.extend(Nn,{tweeners:{"*":[function(Z,de){var be=this.createTween(Z,de);return gi(be.elem,Z,Be.exec(de),be),be}]},tweener:function(Z,de){O(Z)?(de=Z,Z=["*"]):Z=Z.match(le);for(var be,Me=0,je=Z.length;Me<je;Me++)be=Z[Me],Nn.tweeners[be]=Nn.tweeners[be]||[],Nn.tweeners[be].unshift(de)},prefilters:[Jo],prefilter:function(Z,de){de?Nn.prefilters.unshift(Z):Nn.prefilters.push(Z)}}),E.speed=function(Z,de,be){var Me=Z&&typeof Z=="object"?E.extend({},Z):{complete:be||!be&&de||O(Z)&&Z,duration:Z,easing:be&&de||de&&!O(de)&&de};return E.fx.off?Me.duration=0:typeof Me.duration!="number"&&(Me.duration in E.fx.speeds?Me.duration=E.fx.speeds[Me.duration]:Me.duration=E.fx.speeds._default),(Me.queue==null||Me.queue===!0)&&(Me.queue="fx"),Me.old=Me.complete,Me.complete=function(){O(Me.old)&&Me.old.call(this),Me.queue&&E.dequeue(this,Me.queue)},Me},E.fn.extend({fadeTo:function(Z,de,be,Me){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:de},Z,be,Me)},animate:function(Z,de,be,Me){var je=E.isEmptyObject(Z),Ve=E.speed(de,be,Me),Je=function(){var Rt=Nn(this,E.extend({},Z),Ve);(je||Oe.get(this,"finish"))&&Rt.stop(!0)};return Je.finish=Je,je||Ve.queue===!1?this.each(Je):this.queue(Ve.queue,Je)},stop:function(Z,de,be){var Me=function(je){var Ve=je.stop;delete je.stop,Ve(be)};return typeof Z!="string"&&(be=de,de=Z,Z=void 0),de&&this.queue(Z||"fx",[]),this.each(function(){var je=!0,Ve=Z!=null&&Z+"queueHooks",Je=E.timers,Rt=Oe.get(this);if(Ve)Rt[Ve]&&Rt[Ve].stop&&Me(Rt[Ve]);else for(Ve in Rt)Rt[Ve]&&Rt[Ve].stop&&iu.test(Ve)&&Me(Rt[Ve]);for(Ve=Je.length;Ve--;)Je[Ve].elem===this&&(Z==null||Je[Ve].queue===Z)&&(Je[Ve].anim.stop(be),je=!1,Je.splice(Ve,1));(je||!be)&&E.dequeue(this,Z)})},finish:function(Z){return Z!==!1&&(Z=Z||"fx"),this.each(function(){var de,be=Oe.get(this),Me=be[Z+"queue"],je=be[Z+"queueHooks"],Ve=E.timers,Je=Me?Me.length:0;for(be.finish=!0,E.queue(this,Z,[]),je&&je.stop&&je.stop.call(this,!0),de=Ve.length;de--;)Ve[de].elem===this&&Ve[de].queue===Z&&(Ve[de].anim.stop(!0),Ve.splice(de,1));for(de=0;de<Je;de++)Me[de]&&Me[de].finish&&Me[de].finish.call(this);delete be.finish})}}),E.each(["toggle","show","hide"],function(Z,de){var be=E.fn[de];E.fn[de]=function(Me,je,Ve){return Me==null||typeof Me=="boolean"?be.apply(this,arguments):this.animate(tr(de,!0),Me,je,Ve)}}),E.each({slideDown:tr("show"),slideUp:tr("hide"),slideToggle:tr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(Z,de){E.fn[Z]=function(be,Me,je){return this.animate(de,be,Me,je)}}),E.timers=[],E.fx.tick=function(){var Z,de=0,be=E.timers;for(bc=Date.now();de<be.length;de++)Z=be[de],!Z()&&be[de]===Z&&be.splice(de--,1);be.length||E.fx.stop(),bc=void 0},E.fx.timer=function(Z){E.timers.push(Z),E.fx.start()},E.fx.interval=13,E.fx.start=function(){Ao||(Ao=!0,lo())},E.fx.stop=function(){Ao=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(Z,de){return Z=E.fx&&E.fx.speeds[Z]||Z,de=de||"fx",this.queue(de,function(be,Me){var je=t.setTimeout(be,Z);Me.stop=function(){t.clearTimeout(je)}})},function(){var Z=M.createElement("input"),de=M.createElement("select"),be=de.appendChild(M.createElement("option"));Z.type="checkbox",L.checkOn=Z.value!=="",L.optSelected=be.selected,Z=M.createElement("input"),Z.value="t",Z.type="radio",L.radioValue=Z.value==="t"}();var wc,Ca=E.expr.attrHandle;E.fn.extend({attr:function(Z,de){return re(this,E.attr,Z,de,arguments.length>1)},removeAttr:function(Z){return this.each(function(){E.removeAttr(this,Z)})}}),E.extend({attr:function(Z,de,be){var Me,je,Ve=Z.nodeType;if(!(Ve===3||Ve===8||Ve===2)){if(typeof Z.getAttribute>"u")return E.prop(Z,de,be);if((Ve!==1||!E.isXMLDoc(Z))&&(je=E.attrHooks[de.toLowerCase()]||(E.expr.match.bool.test(de)?wc:void 0)),be!==void 0){if(be===null){E.removeAttr(Z,de);return}return je&&"set"in je&&(Me=je.set(Z,be,de))!==void 0?Me:(Z.setAttribute(de,be+""),be)}return je&&"get"in je&&(Me=je.get(Z,de))!==null?Me:(Me=E.find.attr(Z,de),Me??void 0)}},attrHooks:{type:{set:function(Z,de){if(!L.radioValue&&de==="radio"&&w(Z,"input")){var be=Z.value;return Z.setAttribute("type",de),be&&(Z.value=be),de}}}},removeAttr:function(Z,de){var be,Me=0,je=de&&de.match(le);if(je&&Z.nodeType===1)for(;be=je[Me++];)Z.removeAttribute(be)}}),wc={set:function(Z,de,be){return de===!1?E.removeAttr(Z,be):Z.setAttribute(be,be),be}},E.each(E.expr.match.bool.source.match(/\w+/g),function(Z,de){var be=Ca[de]||E.find.attr;Ca[de]=function(Me,je,Ve){var Je,Rt,Ct=je.toLowerCase();return Ve||(Rt=Ca[Ct],Ca[Ct]=Je,Je=be(Me,je,Ve)!=null?Ct:null,Ca[Ct]=Rt),Je}});var nl=/^(?:input|select|textarea|button)$/i,Zs=/^(?:a|area)$/i;E.fn.extend({prop:function(Z,de){return re(this,E.prop,Z,de,arguments.length>1)},removeProp:function(Z){return this.each(function(){delete this[E.propFix[Z]||Z]})}}),E.extend({prop:function(Z,de,be){var Me,je,Ve=Z.nodeType;if(!(Ve===3||Ve===8||Ve===2))return(Ve!==1||!E.isXMLDoc(Z))&&(de=E.propFix[de]||de,je=E.propHooks[de]),be!==void 0?je&&"set"in je&&(Me=je.set(Z,be,de))!==void 0?Me:Z[de]=be:je&&"get"in je&&(Me=je.get(Z,de))!==null?Me:Z[de]},propHooks:{tabIndex:{get:function(Z){var de=E.find.attr(Z,"tabindex");return de?parseInt(de,10):nl.test(Z.nodeName)||Zs.test(Z.nodeName)&&Z.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),L.optSelected||(E.propHooks.selected={get:function(Z){var de=Z.parentNode;return de&&de.parentNode&&de.parentNode.selectedIndex,null},set:function(Z){var de=Z.parentNode;de&&(de.selectedIndex,de.parentNode&&de.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function Gr(Z){var de=Z.match(le)||[];return de.join(" ")}function co(Z){return Z.getAttribute&&Z.getAttribute("class")||""}function Uo(Z){return Array.isArray(Z)?Z:typeof Z=="string"?Z.match(le)||[]:[]}E.fn.extend({addClass:function(Z){var de,be,Me,je,Ve,Je;return O(Z)?this.each(function(Rt){E(this).addClass(Z.call(this,Rt,co(this)))}):(de=Uo(Z),de.length?this.each(function(){if(Me=co(this),be=this.nodeType===1&&" "+Gr(Me)+" ",be){for(Ve=0;Ve<de.length;Ve++)je=de[Ve],be.indexOf(" "+je+" ")<0&&(be+=je+" ");Je=Gr(be),Me!==Je&&this.setAttribute("class",Je)}}):this)},removeClass:function(Z){var de,be,Me,je,Ve,Je;return O(Z)?this.each(function(Rt){E(this).removeClass(Z.call(this,Rt,co(this)))}):arguments.length?(de=Uo(Z),de.length?this.each(function(){if(Me=co(this),be=this.nodeType===1&&" "+Gr(Me)+" ",be){for(Ve=0;Ve<de.length;Ve++)for(je=de[Ve];be.indexOf(" "+je+" ")>-1;)be=be.replace(" "+je+" "," ");Je=Gr(be),Me!==Je&&this.setAttribute("class",Je)}}):this):this.attr("class","")},toggleClass:function(Z,de){var be,Me,je,Ve,Je=typeof Z,Rt=Je==="string"||Array.isArray(Z);return O(Z)?this.each(function(Ct){E(this).toggleClass(Z.call(this,Ct,co(this),de),de)}):typeof de=="boolean"&&Rt?de?this.addClass(Z):this.removeClass(Z):(be=Uo(Z),this.each(function(){if(Rt)for(Ve=E(this),je=0;je<be.length;je++)Me=be[je],Ve.hasClass(Me)?Ve.removeClass(Me):Ve.addClass(Me);else(Z===void 0||Je==="boolean")&&(Me=co(this),Me&&Oe.set(this,"__className__",Me),this.setAttribute&&this.setAttribute("class",Me||Z===!1?"":Oe.get(this,"__className__")||""))}))},hasClass:function(Z){var de,be,Me=0;for(de=" "+Z+" ";be=this[Me++];)if(be.nodeType===1&&(" "+Gr(co(be))+" ").indexOf(de)>-1)return!0;return!1}});var Gl=/\r/g;E.fn.extend({val:function(Z){var de,be,Me,je=this[0];return arguments.length?(Me=O(Z),this.each(function(Ve){var Je;this.nodeType===1&&(Me?Je=Z.call(this,Ve,E(this).val()):Je=Z,Je==null?Je="":typeof Je=="number"?Je+="":Array.isArray(Je)&&(Je=E.map(Je,function(Rt){return Rt==null?"":Rt+""})),de=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!de||!("set"in de)||de.set(this,Je,"value")===void 0)&&(this.value=Je))})):je?(de=E.valHooks[je.type]||E.valHooks[je.nodeName.toLowerCase()],de&&"get"in de&&(be=de.get(je,"value"))!==void 0?be:(be=je.value,typeof be=="string"?be.replace(Gl,""):be??"")):void 0}}),E.extend({valHooks:{option:{get:function(Z){var de=E.find.attr(Z,"value");return de??Gr(E.text(Z))}},select:{get:function(Z){var de,be,Me,je=Z.options,Ve=Z.selectedIndex,Je=Z.type==="select-one",Rt=Je?null:[],Ct=Je?Ve+1:je.length;for(Ve<0?Me=Ct:Me=Je?Ve:0;Me<Ct;Me++)if(be=je[Me],(be.selected||Me===Ve)&&!be.disabled&&(!be.parentNode.disabled||!w(be.parentNode,"optgroup"))){if(de=E(be).val(),Je)return de;Rt.push(de)}return Rt},set:function(Z,de){for(var be,Me,je=Z.options,Ve=E.makeArray(de),Je=je.length;Je--;)Me=je[Je],(Me.selected=E.inArray(E.valHooks.option.get(Me),Ve)>-1)&&(be=!0);return be||(Z.selectedIndex=-1),Ve}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(Z,de){if(Array.isArray(de))return Z.checked=E.inArray(E(Z).val(),de)>-1}},L.checkOn||(E.valHooks[this].get=function(Z){return Z.getAttribute("value")===null?"on":Z.value})}),L.focusin="onfocusin"in t;var pa=/^(?:focusinfocus|focusoutblur)$/,yl=function(Z){Z.stopPropagation()};E.extend(E.event,{trigger:function(Z,de,be,Me){var je,Ve,Je,Rt,Ct,Kt,mi,ki,oi=[be||M],ui=k.call(Z,"type")?Z.type:Z,Xi=k.call(Z,"namespace")?Z.namespace.split("."):[];if(Ve=ki=Je=be=be||M,!(be.nodeType===3||be.nodeType===8)&&!pa.test(ui+E.event.triggered)&&(ui.indexOf(".")>-1&&(Xi=ui.split("."),ui=Xi.shift(),Xi.sort()),Ct=ui.indexOf(":")<0&&"on"+ui,Z=Z[E.expando]?Z:new E.Event(ui,typeof Z=="object"&&Z),Z.isTrigger=Me?2:3,Z.namespace=Xi.join("."),Z.rnamespace=Z.namespace?new RegExp("(^|\\.)"+Xi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,Z.result=void 0,Z.target||(Z.target=be),de=de==null?[Z]:E.makeArray(de,[Z]),mi=E.event.special[ui]||{},!(!Me&&mi.trigger&&mi.trigger.apply(be,de)===!1))){if(!Me&&!mi.noBubble&&!G(be)){for(Rt=mi.delegateType||ui,pa.test(Rt+ui)||(Ve=Ve.parentNode);Ve;Ve=Ve.parentNode)oi.push(Ve),Je=Ve;Je===(be.ownerDocument||M)&&oi.push(Je.defaultView||Je.parentWindow||t)}for(je=0;(Ve=oi[je++])&&!Z.isPropagationStopped();)ki=Ve,Z.type=je>1?Rt:mi.bindType||ui,Kt=(Oe.get(Ve,"events")||Object.create(null))[Z.type]&&Oe.get(Ve,"handle"),Kt&&Kt.apply(Ve,de),Kt=Ct&&Ve[Ct],Kt&&Kt.apply&&Se(Ve)&&(Z.result=Kt.apply(Ve,de),Z.result===!1&&Z.preventDefault());return Z.type=ui,!Me&&!Z.isDefaultPrevented()&&(!mi._default||mi._default.apply(oi.pop(),de)===!1)&&Se(be)&&Ct&&O(be[ui])&&!G(be)&&(Je=be[Ct],Je&&(be[Ct]=null),E.event.triggered=ui,Z.isPropagationStopped()&&ki.addEventListener(ui,yl),be[ui](),Z.isPropagationStopped()&&ki.removeEventListener(ui,yl),E.event.triggered=void 0,Je&&(be[Ct]=Je)),Z.result}},simulate:function(Z,de,be){var Me=E.extend(new E.Event,be,{type:Z,isSimulated:!0});E.event.trigger(Me,null,de)}}),E.fn.extend({trigger:function(Z,de){return this.each(function(){E.event.trigger(Z,de,this)})},triggerHandler:function(Z,de){var be=this[0];if(be)return E.event.trigger(Z,de,be,!0)}}),L.focusin||E.each({focus:"focusin",blur:"focusout"},function(Z,de){var be=function(Me){E.event.simulate(de,Me.target,E.event.fix(Me))};E.event.special[de]={setup:function(){var Me=this.ownerDocument||this.document||this,je=Oe.access(Me,de);je||Me.addEventListener(Z,be,!0),Oe.access(Me,de,(je||0)+1)},teardown:function(){var Me=this.ownerDocument||this.document||this,je=Oe.access(Me,de)-1;je?Oe.access(Me,de,je):(Me.removeEventListener(Z,be,!0),Oe.remove(Me,de))}}});var _l=t.location,rl={guid:Date.now()},vl=/\?/;E.parseXML=function(Z){var de,be;if(!Z||typeof Z!="string")return null;try{de=new t.DOMParser().parseFromString(Z,"text/xml")}catch{}return be=de&&de.getElementsByTagName("parsererror")[0],(!de||be)&&E.error("Invalid XML: "+(be?E.map(be.childNodes,function(Me){return Me.textContent}).join(`
`):Z)),de};var qc=/\[\]$/,Xc=/\r?\n/g,Ro=/^(?:submit|button|image|reset|file)$/i,As=/^(?:input|select|textarea|keygen)/i;function Hl(Z,de,be,Me){var je;if(Array.isArray(de))E.each(de,function(Ve,Je){be||qc.test(Z)?Me(Z,Je):Hl(Z+"["+(typeof Je=="object"&&Je!=null?Ve:"")+"]",Je,be,Me)});else if(!be&&H(de)==="object")for(je in de)Hl(Z+"["+je+"]",de[je],be,Me);else Me(Z,de)}E.param=function(Z,de){var be,Me=[],je=function(Ve,Je){var Rt=O(Je)?Je():Je;Me[Me.length]=encodeURIComponent(Ve)+"="+encodeURIComponent(Rt??"")};if(Z==null)return"";if(Array.isArray(Z)||Z.jquery&&!E.isPlainObject(Z))E.each(Z,function(){je(this.name,this.value)});else for(be in Z)Hl(be,Z[be],de,je);return Me.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var Z=E.prop(this,"elements");return Z?E.makeArray(Z):this}).filter(function(){var Z=this.type;return this.name&&!E(this).is(":disabled")&&As.test(this.nodeName)&&!Ro.test(Z)&&(this.checked||!ht.test(Z))}).map(function(Z,de){var be=E(this).val();return be==null?null:Array.isArray(be)?E.map(be,function(Me){return{name:de.name,value:Me.replace(Xc,`\r
`)}}):{name:de.name,value:be.replace(Xc,`\r
`)}}).get()}});var sl=/%20/g,Ks=/#.*$/,fa=/([?&])_=[^&]*/,Du=/^(.*?):[ \t]*([^\r\n]*)$/mg,Td=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hs=/^(?:GET|HEAD)$/,Wl=/^\/\//,Sd={},Yl={},Js="*/".concat("*"),xl=M.createElement("a");xl.href=_l.href;function Cd(Z){return function(de,be){typeof de!="string"&&(be=de,de="*");var Me,je=0,Ve=de.toLowerCase().match(le)||[];if(O(be))for(;Me=Ve[je++];)Me[0]==="+"?(Me=Me.slice(1)||"*",(Z[Me]=Z[Me]||[]).unshift(be)):(Z[Me]=Z[Me]||[]).push(be)}}function Pr(Z,de,be,Me){var je={},Ve=Z===Yl;function Je(Rt){var Ct;return je[Rt]=!0,E.each(Z[Rt]||[],function(Kt,mi){var ki=mi(de,be,Me);if(typeof ki=="string"&&!Ve&&!je[ki])return de.dataTypes.unshift(ki),Je(ki),!1;if(Ve)return!(Ct=ki)}),Ct}return Je(de.dataTypes[0])||!je["*"]&&Je("*")}function Fr(Z,de){var be,Me,je=E.ajaxSettings.flatOptions||{};for(be in de)de[be]!==void 0&&((je[be]?Z:Me||(Me={}))[be]=de[be]);return Me&&E.extend(!0,Z,Me),Z}function Ed(Z,de,be){for(var Me,je,Ve,Je,Rt=Z.contents,Ct=Z.dataTypes;Ct[0]==="*";)Ct.shift(),Me===void 0&&(Me=Z.mimeType||de.getResponseHeader("Content-Type"));if(Me){for(je in Rt)if(Rt[je]&&Rt[je].test(Me)){Ct.unshift(je);break}}if(Ct[0]in be)Ve=Ct[0];else{for(je in be){if(!Ct[0]||Z.converters[je+" "+Ct[0]]){Ve=je;break}Je||(Je=je)}Ve=Ve||Je}if(Ve)return Ve!==Ct[0]&&Ct.unshift(Ve),be[Ve]}function Iu(Z,de,be,Me){var je,Ve,Je,Rt,Ct,Kt={},mi=Z.dataTypes.slice();if(mi[1])for(Je in Z.converters)Kt[Je.toLowerCase()]=Z.converters[Je];for(Ve=mi.shift();Ve;)if(Z.responseFields[Ve]&&(be[Z.responseFields[Ve]]=de),!Ct&&Me&&Z.dataFilter&&(de=Z.dataFilter(de,Z.dataType)),Ct=Ve,Ve=mi.shift(),Ve){if(Ve==="*")Ve=Ct;else if(Ct!=="*"&&Ct!==Ve){if(Je=Kt[Ct+" "+Ve]||Kt["* "+Ve],!Je){for(je in Kt)if(Rt=je.split(" "),Rt[1]===Ve&&(Je=Kt[Ct+" "+Rt[0]]||Kt["* "+Rt[0]],Je)){Je===!0?Je=Kt[je]:Kt[je]!==!0&&(Ve=Rt[0],mi.unshift(Rt[1]));break}}if(Je!==!0)if(Je&&Z.throws)de=Je(de);else try{de=Je(de)}catch(ki){return{state:"parsererror",error:Je?ki:"No conversion from "+Ct+" to "+Ve}}}}return{state:"success",data:de}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_l.href,type:"GET",isLocal:Td.test(_l.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Js,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(Z,de){return de?Fr(Fr(Z,E.ajaxSettings),de):Fr(E.ajaxSettings,Z)},ajaxPrefilter:Cd(Sd),ajaxTransport:Cd(Yl),ajax:function(Z,de){typeof Z=="object"&&(de=Z,Z=void 0),de=de||{};var be,Me,je,Ve,Je,Rt,Ct,Kt,mi,ki,oi=E.ajaxSetup({},de),ui=oi.context||oi,Xi=oi.context&&(ui.nodeType||ui.jquery)?E(ui):E.event,qn=E.Deferred(),pn=E.Callbacks("once memory"),fs=oi.statusCode||{},Jr={},hr={},pr="canceled",Hn={readyState:0,getResponseHeader:function(mr){var Qr;if(Ct){if(!Ve)for(Ve={};Qr=Du.exec(je);)Ve[Qr[1].toLowerCase()+" "]=(Ve[Qr[1].toLowerCase()+" "]||[]).concat(Qr[2]);Qr=Ve[mr.toLowerCase()+" "]}return Qr==null?null:Qr.join(", ")},getAllResponseHeaders:function(){return Ct?je:null},setRequestHeader:function(mr,Qr){return Ct==null&&(mr=hr[mr.toLowerCase()]=hr[mr.toLowerCase()]||mr,Jr[mr]=Qr),this},overrideMimeType:function(mr){return Ct==null&&(oi.mimeType=mr),this},statusCode:function(mr){var Qr;if(mr)if(Ct)Hn.always(mr[Hn.status]);else for(Qr in mr)fs[Qr]=[fs[Qr],mr[Qr]];return this},abort:function(mr){var Qr=mr||pr;return be&&be.abort(Qr),Qs(0,Qr),this}};if(qn.promise(Hn),oi.url=((Z||oi.url||_l.href)+"").replace(Wl,_l.protocol+"//"),oi.type=de.method||de.type||oi.method||oi.type,oi.dataTypes=(oi.dataType||"*").toLowerCase().match(le)||[""],oi.crossDomain==null){Rt=M.createElement("a");try{Rt.href=oi.url,Rt.href=Rt.href,oi.crossDomain=xl.protocol+"//"+xl.host!=Rt.protocol+"//"+Rt.host}catch{oi.crossDomain=!0}}if(oi.data&&oi.processData&&typeof oi.data!="string"&&(oi.data=E.param(oi.data,oi.traditional)),Pr(Sd,oi,de,Hn),Ct)return Hn;Kt=E.event&&oi.global,Kt&&E.active++===0&&E.event.trigger("ajaxStart"),oi.type=oi.type.toUpperCase(),oi.hasContent=!Hs.test(oi.type),Me=oi.url.replace(Ks,""),oi.hasContent?oi.data&&oi.processData&&(oi.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(oi.data=oi.data.replace(sl,"+")):(ki=oi.url.slice(Me.length),oi.data&&(oi.processData||typeof oi.data=="string")&&(Me+=(vl.test(Me)?"&":"?")+oi.data,delete oi.data),oi.cache===!1&&(Me=Me.replace(fa,"$1"),ki=(vl.test(Me)?"&":"?")+"_="+rl.guid+++ki),oi.url=Me+ki),oi.ifModified&&(E.lastModified[Me]&&Hn.setRequestHeader("If-Modified-Since",E.lastModified[Me]),E.etag[Me]&&Hn.setRequestHeader("If-None-Match",E.etag[Me])),(oi.data&&oi.hasContent&&oi.contentType!==!1||de.contentType)&&Hn.setRequestHeader("Content-Type",oi.contentType),Hn.setRequestHeader("Accept",oi.dataTypes[0]&&oi.accepts[oi.dataTypes[0]]?oi.accepts[oi.dataTypes[0]]+(oi.dataTypes[0]!=="*"?", "+Js+"; q=0.01":""):oi.accepts["*"]);for(mi in oi.headers)Hn.setRequestHeader(mi,oi.headers[mi]);if(oi.beforeSend&&(oi.beforeSend.call(ui,Hn,oi)===!1||Ct))return Hn.abort();if(pr="abort",pn.add(oi.complete),Hn.done(oi.success),Hn.fail(oi.error),be=Pr(Yl,oi,de,Hn),!be)Qs(-1,"No Transport");else{if(Hn.readyState=1,Kt&&Xi.trigger("ajaxSend",[Hn,oi]),Ct)return Hn;oi.async&&oi.timeout>0&&(Je=t.setTimeout(function(){Hn.abort("timeout")},oi.timeout));try{Ct=!1,be.send(Jr,Qs)}catch(mr){if(Ct)throw mr;Qs(-1,mr)}}function Qs(mr,Qr,Ga,Xl){var eo,ea,Zn,yo,ta,Bo=Qr;Ct||(Ct=!0,Je&&t.clearTimeout(Je),be=void 0,je=Xl||"",Hn.readyState=mr>0?4:0,eo=mr>=200&&mr<300||mr===304,Ga&&(yo=Ed(oi,Hn,Ga)),!eo&&E.inArray("script",oi.dataTypes)>-1&&E.inArray("json",oi.dataTypes)<0&&(oi.converters["text script"]=function(){}),yo=Iu(oi,yo,Hn,eo),eo?(oi.ifModified&&(ta=Hn.getResponseHeader("Last-Modified"),ta&&(E.lastModified[Me]=ta),ta=Hn.getResponseHeader("etag"),ta&&(E.etag[Me]=ta)),mr===204||oi.type==="HEAD"?Bo="nocontent":mr===304?Bo="notmodified":(Bo=yo.state,ea=yo.data,Zn=yo.error,eo=!Zn)):(Zn=Bo,(mr||!Bo)&&(Bo="error",mr<0&&(mr=0))),Hn.status=mr,Hn.statusText=(Qr||Bo)+"",eo?qn.resolveWith(ui,[ea,Bo,Hn]):qn.rejectWith(ui,[Hn,Bo,Zn]),Hn.statusCode(fs),fs=void 0,Kt&&Xi.trigger(eo?"ajaxSuccess":"ajaxError",[Hn,oi,eo?ea:Zn]),pn.fireWith(ui,[Hn,Bo]),Kt&&(Xi.trigger("ajaxComplete",[Hn,oi]),--E.active||E.event.trigger("ajaxStop")))}return Hn},getJSON:function(Z,de,be){return E.get(Z,de,be,"json")},getScript:function(Z,de){return E.get(Z,void 0,de,"script")}}),E.each(["get","post"],function(Z,de){E[de]=function(be,Me,je,Ve){return O(Me)&&(Ve=Ve||je,je=Me,Me=void 0),E.ajax(E.extend({url:be,type:de,dataType:Ve,data:Me,success:je},E.isPlainObject(be)&&be))}}),E.ajaxPrefilter(function(Z){var de;for(de in Z.headers)de.toLowerCase()==="content-type"&&(Z.contentType=Z.headers[de]||"")}),E._evalUrl=function(Z,de,be){return E.ajax({url:Z,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Me){E.globalEval(Me,de,be)}})},E.fn.extend({wrapAll:function(Z){var de;return this[0]&&(O(Z)&&(Z=Z.call(this[0])),de=E(Z,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&de.insertBefore(this[0]),de.map(function(){for(var be=this;be.firstElementChild;)be=be.firstElementChild;return be}).append(this)),this},wrapInner:function(Z){return O(Z)?this.each(function(de){E(this).wrapInner(Z.call(this,de))}):this.each(function(){var de=E(this),be=de.contents();be.length?be.wrapAll(Z):de.append(Z)})},wrap:function(Z){var de=O(Z);return this.each(function(be){E(this).wrapAll(de?Z.call(this,be):Z)})},unwrap:function(Z){return this.parent(Z).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(Z){return!E.expr.pseudos.visible(Z)},E.expr.pseudos.visible=function(Z){return!!(Z.offsetWidth||Z.offsetHeight||Z.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var nu={0:200,1223:204},ma=E.ajaxSettings.xhr();L.cors=!!ma&&"withCredentials"in ma,L.ajax=ma=!!ma,E.ajaxTransport(function(Z){var de,be;if(L.cors||ma&&!Z.crossDomain)return{send:function(Me,je){var Ve,Je=Z.xhr();if(Je.open(Z.type,Z.url,Z.async,Z.username,Z.password),Z.xhrFields)for(Ve in Z.xhrFields)Je[Ve]=Z.xhrFields[Ve];Z.mimeType&&Je.overrideMimeType&&Je.overrideMimeType(Z.mimeType),!Z.crossDomain&&!Me["X-Requested-With"]&&(Me["X-Requested-With"]="XMLHttpRequest");for(Ve in Me)Je.setRequestHeader(Ve,Me[Ve]);de=function(Rt){return function(){de&&(de=be=Je.onload=Je.onerror=Je.onabort=Je.ontimeout=Je.onreadystatechange=null,Rt==="abort"?Je.abort():Rt==="error"?typeof Je.status!="number"?je(0,"error"):je(Je.status,Je.statusText):je(nu[Je.status]||Je.status,Je.statusText,(Je.responseType||"text")!=="text"||typeof Je.responseText!="string"?{binary:Je.response}:{text:Je.responseText},Je.getAllResponseHeaders()))}},Je.onload=de(),be=Je.onerror=Je.ontimeout=de("error"),Je.onabort!==void 0?Je.onabort=be:Je.onreadystatechange=function(){Je.readyState===4&&t.setTimeout(function(){de&&be()})},de=de("abort");try{Je.send(Z.hasContent&&Z.data||null)}catch(Rt){if(de)throw Rt}},abort:function(){de&&de()}}}),E.ajaxPrefilter(function(Z){Z.crossDomain&&(Z.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(Z){return E.globalEval(Z),Z}}}),E.ajaxPrefilter("script",function(Z){Z.cache===void 0&&(Z.cache=!1),Z.crossDomain&&(Z.type="GET")}),E.ajaxTransport("script",function(Z){if(Z.crossDomain||Z.scriptAttrs){var de,be;return{send:function(Me,je){de=E("<script>").attr(Z.scriptAttrs||{}).prop({charset:Z.scriptCharset,src:Z.url}).on("load error",be=function(Ve){de.remove(),be=null,Ve&&je(Ve.type==="error"?404:200,Ve.type)}),M.head.appendChild(de[0])},abort:function(){be&&be()}}}});var Zc=[],Md=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var Z=Zc.pop()||E.expando+"_"+rl.guid++;return this[Z]=!0,Z}}),E.ajaxPrefilter("json jsonp",function(Z,de,be){var Me,je,Ve,Je=Z.jsonp!==!1&&(Md.test(Z.url)?"url":typeof Z.data=="string"&&(Z.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Md.test(Z.data)&&"data");if(Je||Z.dataTypes[0]==="jsonp")return Me=Z.jsonpCallback=O(Z.jsonpCallback)?Z.jsonpCallback():Z.jsonpCallback,Je?Z[Je]=Z[Je].replace(Md,"$1"+Me):Z.jsonp!==!1&&(Z.url+=(vl.test(Z.url)?"&":"?")+Z.jsonp+"="+Me),Z.converters["script json"]=function(){return Ve||E.error(Me+" was not called"),Ve[0]},Z.dataTypes[0]="json",je=t[Me],t[Me]=function(){Ve=arguments},be.always(function(){je===void 0?E(t).removeProp(Me):t[Me]=je,Z[Me]&&(Z.jsonpCallback=de.jsonpCallback,Zc.push(Me)),Ve&&O(je)&&je(Ve[0]),Ve=je=void 0}),"script"}),L.createHTMLDocument=function(){var Z=M.implementation.createHTMLDocument("").body;return Z.innerHTML="<form></form><form></form>",Z.childNodes.length===2}(),E.parseHTML=function(Z,de,be){if(typeof Z!="string")return[];typeof de=="boolean"&&(be=de,de=!1);var Me,je,Ve;return de||(L.createHTMLDocument?(de=M.implementation.createHTMLDocument(""),Me=de.createElement("base"),Me.href=M.location.href,de.head.appendChild(Me)):de=M),je=I.exec(Z),Ve=!be&&[],je?[de.createElement(je[1])]:(je=di([Z],de,Ve),Ve&&Ve.length&&E(Ve).remove(),E.merge([],je.childNodes))},E.fn.load=function(Z,de,be){var Me,je,Ve,Je=this,Rt=Z.indexOf(" ");return Rt>-1&&(Me=Gr(Z.slice(Rt)),Z=Z.slice(0,Rt)),O(de)?(be=de,de=void 0):de&&typeof de=="object"&&(je="POST"),Je.length>0&&E.ajax({url:Z,type:je||"GET",dataType:"html",data:de}).done(function(Ct){Ve=arguments,Je.html(Me?E("<div>").append(E.parseHTML(Ct)).find(Me):Ct)}).always(be&&function(Ct,Kt){Je.each(function(){be.apply(this,Ve||[Ct.responseText,Kt,Ct])})}),this},E.expr.pseudos.animated=function(Z){return E.grep(E.timers,function(de){return Z===de.elem}).length},E.offset={setOffset:function(Z,de,be){var Me,je,Ve,Je,Rt,Ct,Kt,mi=E.css(Z,"position"),ki=E(Z),oi={};mi==="static"&&(Z.style.position="relative"),Rt=ki.offset(),Ve=E.css(Z,"top"),Ct=E.css(Z,"left"),Kt=(mi==="absolute"||mi==="fixed")&&(Ve+Ct).indexOf("auto")>-1,Kt?(Me=ki.position(),Je=Me.top,je=Me.left):(Je=parseFloat(Ve)||0,je=parseFloat(Ct)||0),O(de)&&(de=de.call(Z,be,E.extend({},Rt))),de.top!=null&&(oi.top=de.top-Rt.top+Je),de.left!=null&&(oi.left=de.left-Rt.left+je),"using"in de?de.using.call(Z,oi):ki.css(oi)}},E.fn.extend({offset:function(Z){if(arguments.length)return Z===void 0?this:this.each(function(je){E.offset.setOffset(this,Z,je)});var de,be,Me=this[0];if(Me)return Me.getClientRects().length?(de=Me.getBoundingClientRect(),be=Me.ownerDocument.defaultView,{top:de.top+be.pageYOffset,left:de.left+be.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var Z,de,be,Me=this[0],je={top:0,left:0};if(E.css(Me,"position")==="fixed")de=Me.getBoundingClientRect();else{for(de=this.offset(),be=Me.ownerDocument,Z=Me.offsetParent||be.documentElement;Z&&(Z===be.body||Z===be.documentElement)&&E.css(Z,"position")==="static";)Z=Z.parentNode;Z&&Z!==Me&&Z.nodeType===1&&(je=E(Z).offset(),je.top+=E.css(Z,"borderTopWidth",!0),je.left+=E.css(Z,"borderLeftWidth",!0))}return{top:de.top-je.top-E.css(Me,"marginTop",!0),left:de.left-je.left-E.css(Me,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var Z=this.offsetParent;Z&&E.css(Z,"position")==="static";)Z=Z.offsetParent;return Z||Ke})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(Z,de){var be=de==="pageYOffset";E.fn[Z]=function(Me){return re(this,function(je,Ve,Je){var Rt;if(G(je)?Rt=je:je.nodeType===9&&(Rt=je.defaultView),Je===void 0)return Rt?Rt[de]:je[Ve];Rt?Rt.scrollTo(be?Rt.pageXOffset:Je,be?Je:Rt.pageYOffset):je[Ve]=Je},Z,Me,arguments.length)}}),E.each(["top","left"],function(Z,de){E.cssHooks[de]=Hi(L.pixelPosition,function(be,Me){if(Me)return Me=un(be,de),zt.test(Me)?E(be).position()[de]+"px":Me})}),E.each({Height:"height",Width:"width"},function(Z,de){E.each({padding:"inner"+Z,content:de,"":"outer"+Z},function(be,Me){E.fn[Me]=function(je,Ve){var Je=arguments.length&&(be||typeof je!="boolean"),Rt=be||(je===!0||Ve===!0?"margin":"border");return re(this,function(Ct,Kt,mi){var ki;return G(Ct)?Me.indexOf("outer")===0?Ct["inner"+Z]:Ct.document.documentElement["client"+Z]:Ct.nodeType===9?(ki=Ct.documentElement,Math.max(Ct.body["scroll"+Z],ki["scroll"+Z],Ct.body["offset"+Z],ki["offset"+Z],ki["client"+Z])):mi===void 0?E.css(Ct,Kt,Rt):E.style(Ct,Kt,mi,Rt)},de,Je?je:void 0,Je)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(Z,de){E.fn[de]=function(be){return this.on(de,be)}}),E.fn.extend({bind:function(Z,de,be){return this.on(Z,null,de,be)},unbind:function(Z,de){return this.off(Z,null,de)},delegate:function(Z,de,be,Me){return this.on(de,Z,be,Me)},undelegate:function(Z,de,be){return arguments.length===1?this.off(Z,"**"):this.off(de,Z||"**",be)},hover:function(Z,de){return this.mouseenter(Z).mouseleave(de||Z)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(Z,de){E.fn[de]=function(be,Me){return arguments.length>0?this.on(de,null,be,Me):this.trigger(de)}});var ql=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(Z,de){var be,Me,je;if(typeof de=="string"&&(be=Z[de],de=Z,Z=be),!!O(Z))return Me=d.call(arguments,2),je=function(){return Z.apply(de||this,Me.concat(d.call(arguments)))},je.guid=Z.guid=Z.guid||E.guid++,je},E.holdReady=function(Z){Z?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=w,E.isFunction=O,E.isWindow=G,E.camelCase=ye,E.type=H,E.now=Date.now,E.isNumeric=function(Z){var de=E.type(Z);return(de==="number"||de==="string")&&!isNaN(Z-parseFloat(Z))},E.trim=function(Z){return Z==null?"":(Z+"").replace(ql,"$1")};var Qo=t.jQuery,Ws=t.$;return E.noConflict=function(Z){return t.$===E&&(t.$=Ws),Z&&t.jQuery===E&&(t.jQuery=Qo),E},typeof n>"u"&&(t.jQuery=t.$=E),E})})(yM);var rP=yM.exports;const sP=Mu(rP);function _M(e,t){return function(){return e.apply(t,arguments)}}const{toString:vM}=Object.prototype,{getPrototypeOf:$T}=Object,VT=(e=>t=>{const n=vM.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),lp=e=>(e=e.toLowerCase(),t=>VT(t)===e),hb=e=>t=>typeof t===e,{isArray:Fg}=Array,Vy=hb("undefined");function oP(e){return e!==null&&!Vy(e)&&e.constructor!==null&&!Vy(e.constructor)&&$0(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xM=lp("ArrayBuffer");function aP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xM(e.buffer),t}const lP=hb("string"),$0=hb("function"),bM=hb("number"),GT=e=>e!==null&&typeof e=="object",cP=e=>e===!0||e===!1,mx=e=>{if(VT(e)!=="object")return!1;const t=$T(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dP=lp("Date"),uP=lp("File"),hP=lp("Blob"),pP=lp("FileList"),fP=e=>GT(e)&&$0(e.pipe),mP=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||vM.call(e)===t||$0(e.toString)&&e.toString()===t)},gP=lp("URLSearchParams"),yP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function a_(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Fg(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const d=n?Object.getOwnPropertyNames(e):Object.keys(e),h=d.length;let s;for(r=0;r<h;r++)s=d[r],t.call(null,e[s],s,e)}}function wM(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const TM=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),SM=e=>!Vy(e)&&e!==TM;function H3(){const{caseless:e}=SM(this)&&this||{},t={},n=(r,o)=>{const d=e&&wM(t,o)||o;mx(t[d])&&mx(r)?t[d]=H3(t[d],r):mx(r)?t[d]=H3({},r):Fg(r)?t[d]=r.slice():t[d]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&a_(arguments[r],n);return t}const _P=(e,t,n,{allOwnKeys:r}={})=>(a_(t,(o,d)=>{n&&$0(o)?e[d]=_M(o,n):e[d]=o},{allOwnKeys:r}),e),vP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xP=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},bP=(e,t,n,r)=>{let o,d,h;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),d=o.length;d-- >0;)h=o[d],(!r||r(h,e,t))&&!s[h]&&(t[h]=e[h],s[h]=!0);e=n!==!1&&$T(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},wP=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},TP=e=>{if(!e)return null;if(Fg(e))return e;let t=e.length;if(!bM(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},SP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$T(Uint8Array)),CP=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const d=o.value;t.call(e,d[0],d[1])}},EP=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},MP=lp("HTMLFormElement"),kP=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),rC=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),AP=lp("RegExp"),CM=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};a_(n,(o,d)=>{t(o,d,e)!==!1&&(r[d]=o)}),Object.defineProperties(e,r)},PP=e=>{CM(e,(t,n)=>{if($0(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if($0(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},DP=(e,t)=>{const n={},r=o=>{o.forEach(d=>{n[d]=!0})};return Fg(e)?r(e):r(String(e).split(t)),n},IP=()=>{},LP=(e,t)=>(e=+e,Number.isFinite(e)?e:t),OP=e=>{const t=new Array(10),n=(r,o)=>{if(GT(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const d=Fg(r)?[]:{};return a_(r,(h,s)=>{const v=n(h,o+1);!Vy(v)&&(d[s]=v)}),t[o]=void 0,d}}return r};return n(e,0)},Fi={isArray:Fg,isArrayBuffer:xM,isBuffer:oP,isFormData:mP,isArrayBufferView:aP,isString:lP,isNumber:bM,isBoolean:cP,isObject:GT,isPlainObject:mx,isUndefined:Vy,isDate:dP,isFile:uP,isBlob:hP,isRegExp:AP,isFunction:$0,isStream:fP,isURLSearchParams:gP,isTypedArray:SP,isFileList:pP,forEach:a_,merge:H3,extend:_P,trim:yP,stripBOM:vP,inherits:xP,toFlatObject:bP,kindOf:VT,kindOfTest:lp,endsWith:wP,toArray:TP,forEachEntry:CP,matchAll:EP,isHTMLForm:MP,hasOwnProperty:rC,hasOwnProp:rC,reduceDescriptors:CM,freezeMethods:PP,toObjectSet:DP,toCamelCase:kP,noop:IP,toFiniteNumber:LP,findKey:wM,global:TM,isContextDefined:SM,toJSONObject:OP};function ws(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}Fi.inherits(ws,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fi.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const EM=ws.prototype,MM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{MM[e]={value:e}});Object.defineProperties(ws,MM);Object.defineProperty(EM,"isAxiosError",{value:!0});ws.from=(e,t,n,r,o,d)=>{const h=Object.create(EM);return Fi.toFlatObject(e,h,function(v){return v!==Error.prototype},s=>s!=="isAxiosError"),ws.call(h,e.message,t,n,r,o),h.cause=e,h.name=e.name,d&&Object.assign(h,d),h};var RP=typeof self=="object"?self.FormData:window.FormData;const BP=Mu(RP);function W3(e){return Fi.isPlainObject(e)||Fi.isArray(e)}function kM(e){return Fi.endsWith(e,"[]")?e.slice(0,-2):e}function sC(e,t,n){return e?e.concat(t).map(function(o,d){return o=kM(o),!n&&d?"["+o+"]":o}).join(n?".":""):t}function zP(e){return Fi.isArray(e)&&!e.some(W3)}const NP=Fi.toFlatObject(Fi,{},null,function(t){return/^is[A-Z]/.test(t)});function FP(e){return e&&Fi.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function pb(e,t,n){if(!Fi.isObject(e))throw new TypeError("target must be an object");t=t||new(BP||FormData),n=Fi.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,G){return!Fi.isUndefined(G[O])});const r=n.metaTokens,o=n.visitor||J,d=n.dots,h=n.indexes,v=(n.Blob||typeof Blob<"u"&&Blob)&&FP(t);if(!Fi.isFunction(o))throw new TypeError("visitor must be a function");function R(L){if(L===null)return"";if(Fi.isDate(L))return L.toISOString();if(!v&&Fi.isBlob(L))throw new ws("Blob is not supported. Use a Buffer instead.");return Fi.isArrayBuffer(L)||Fi.isTypedArray(L)?v&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function J(L,O,G){let M=L;if(L&&!G&&typeof L=="object"){if(Fi.endsWith(O,"{}"))O=r?O:O.slice(0,-2),L=JSON.stringify(L);else if(Fi.isArray(L)&&zP(L)||Fi.isFileList(L)||Fi.endsWith(O,"[]")&&(M=Fi.toArray(L)))return O=kM(O),M.forEach(function(P,H){!(Fi.isUndefined(P)||P===null)&&t.append(h===!0?sC([O],H,d):h===null?O:O+"[]",R(P))}),!1}return W3(L)?!0:(t.append(sC(G,O,d),R(L)),!1)}const k=[],z=Object.assign(NP,{defaultVisitor:J,convertValue:R,isVisitable:W3});function q(L,O){if(!Fi.isUndefined(L)){if(k.indexOf(L)!==-1)throw Error("Circular reference detected in "+O.join("."));k.push(L),Fi.forEach(L,function(M,S){(!(Fi.isUndefined(M)||M===null)&&o.call(t,M,Fi.isString(S)?S.trim():S,O,z))===!0&&q(M,O?O.concat(S):[S])}),k.pop()}}if(!Fi.isObject(e))throw new TypeError("data must be an object");return q(e),t}function oC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function HT(e,t){this._pairs=[],e&&pb(e,this,t)}const AM=HT.prototype;AM.append=function(t,n){this._pairs.push([t,n])};AM.toString=function(t){const n=t?function(r){return t.call(this,r,oC)}:oC;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function jP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function PM(e,t,n){if(!t)return e;const r=n&&n.encode||jP,o=n&&n.serialize;let d;if(o?d=o(t,n):d=Fi.isURLSearchParams(t)?t.toString():new HT(t,n).toString(r),d){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class UP{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Fi.forEach(this.handlers,function(r){r!==null&&t(r)})}}const aC=UP,DM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$P=typeof URLSearchParams<"u"?URLSearchParams:HT,VP=FormData,GP=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),HP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ah={isBrowser:!0,classes:{URLSearchParams:$P,FormData:VP,Blob},isStandardBrowserEnv:GP,isStandardBrowserWebWorkerEnv:HP,protocols:["http","https","file","blob","url","data"]};function WP(e,t){return pb(e,new ah.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,d){return ah.isNode&&Fi.isBuffer(n)?(this.append(r,n.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},t))}function YP(e){return Fi.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qP(e){const t={},n=Object.keys(e);let r;const o=n.length;let d;for(r=0;r<o;r++)d=n[r],t[d]=e[d];return t}function IM(e){function t(n,r,o,d){let h=n[d++];const s=Number.isFinite(+h),v=d>=n.length;return h=!h&&Fi.isArray(o)?o.length:h,v?(Fi.hasOwnProp(o,h)?o[h]=[o[h],r]:o[h]=r,!s):((!o[h]||!Fi.isObject(o[h]))&&(o[h]=[]),t(n,r,o[h],d)&&Fi.isArray(o[h])&&(o[h]=qP(o[h])),!s)}if(Fi.isFormData(e)&&Fi.isFunction(e.entries)){const n={};return Fi.forEachEntry(e,(r,o)=>{t(YP(r),o,n,0)}),n}return null}const XP={"Content-Type":void 0};function ZP(e,t,n){if(Fi.isString(e))try{return(t||JSON.parse)(e),Fi.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const fb={transitional:DM,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,d=Fi.isObject(t);if(d&&Fi.isHTMLForm(t)&&(t=new FormData(t)),Fi.isFormData(t))return o&&o?JSON.stringify(IM(t)):t;if(Fi.isArrayBuffer(t)||Fi.isBuffer(t)||Fi.isStream(t)||Fi.isFile(t)||Fi.isBlob(t))return t;if(Fi.isArrayBufferView(t))return t.buffer;if(Fi.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(d){if(r.indexOf("application/x-www-form-urlencoded")>-1)return WP(t,this.formSerializer).toString();if((s=Fi.isFileList(t))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return pb(s?{"files[]":t}:t,v&&new v,this.formSerializer)}}return d||o?(n.setContentType("application/json",!1),ZP(t)):t}],transformResponse:[function(t){const n=this.transitional||fb.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&Fi.isString(t)&&(r&&!this.responseType||o)){const h=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(s){if(h)throw s.name==="SyntaxError"?ws.from(s,ws.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ah.classes.FormData,Blob:ah.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Fi.forEach(["delete","get","head"],function(t){fb.headers[t]={}});Fi.forEach(["post","put","patch"],function(t){fb.headers[t]=Fi.merge(XP)});const WT=fb,KP=Fi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JP=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(h){o=h.indexOf(":"),n=h.substring(0,o).trim().toLowerCase(),r=h.substring(o+1).trim(),!(!n||t[n]&&KP[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},lC=Symbol("internals");function xy(e){return e&&String(e).trim().toLowerCase()}function gx(e){return e===!1||e==null?e:Fi.isArray(e)?e.map(gx):String(e)}function QP(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}function eD(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function cC(e,t,n,r){if(Fi.isFunction(r))return r.call(this,t,n);if(Fi.isString(t)){if(Fi.isString(r))return t.indexOf(r)!==-1;if(Fi.isRegExp(r))return r.test(t)}}function tD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function iD(e,t){const n=Fi.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,d,h){return this[r].call(this,t,o,d,h)},configurable:!0})})}class mb{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function d(s,v,R){const J=xy(v);if(!J)throw new Error("header name must be a non-empty string");const k=Fi.findKey(o,J);(!k||o[k]===void 0||R===!0||R===void 0&&o[k]!==!1)&&(o[k||v]=gx(s))}const h=(s,v)=>Fi.forEach(s,(R,J)=>d(R,J,v));return Fi.isPlainObject(t)||t instanceof this.constructor?h(t,n):Fi.isString(t)&&(t=t.trim())&&!eD(t)?h(JP(t),n):t!=null&&d(n,t,r),this}get(t,n){if(t=xy(t),t){const r=Fi.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return QP(o);if(Fi.isFunction(n))return n.call(this,o,r);if(Fi.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=xy(t),t){const r=Fi.findKey(this,t);return!!(r&&(!n||cC(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function d(h){if(h=xy(h),h){const s=Fi.findKey(r,h);s&&(!n||cC(r,r[s],s,n))&&(delete r[s],o=!0)}}return Fi.isArray(t)?t.forEach(d):d(t),o}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const n=this,r={};return Fi.forEach(this,(o,d)=>{const h=Fi.findKey(r,d);if(h){n[h]=gx(o),delete n[d];return}const s=t?tD(d):String(d).trim();s!==d&&delete n[d],n[s]=gx(o),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Fi.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&Fi.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[lC]=this[lC]={accessors:{}}).accessors,o=this.prototype;function d(h){const s=xy(h);r[s]||(iD(o,h),r[s]=!0)}return Fi.isArray(t)?t.forEach(d):d(t),this}}mb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Fi.freezeMethods(mb.prototype);Fi.freezeMethods(mb);const tp=mb;function e3(e,t){const n=this||WT,r=t||n,o=tp.from(r.headers);let d=r.data;return Fi.forEach(e,function(s){d=s.call(n,d,o.normalize(),t?t.status:void 0)}),o.normalize(),d}function LM(e){return!!(e&&e.__CANCEL__)}function l_(e,t,n){ws.call(this,e??"canceled",ws.ERR_CANCELED,t,n),this.name="CanceledError"}Fi.inherits(l_,ws,{__CANCEL__:!0});const nD=null;function rD(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ws("Request failed with status code "+n.status,[ws.ERR_BAD_REQUEST,ws.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const sD=ah.isStandardBrowserEnv?function(){return{write:function(n,r,o,d,h,s){const v=[];v.push(n+"="+encodeURIComponent(r)),Fi.isNumber(o)&&v.push("expires="+new Date(o).toGMTString()),Fi.isString(d)&&v.push("path="+d),Fi.isString(h)&&v.push("domain="+h),s===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function oD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function aD(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function OM(e,t){return e&&!oD(t)?aD(e,t):t}const lD=ah.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(d){let h=d;return t&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(h){const s=Fi.isString(h)?o(h):h;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();function cD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function dD(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,d=0,h;return t=t!==void 0?t:1e3,function(v){const R=Date.now(),J=r[d];h||(h=R),n[o]=v,r[o]=R;let k=d,z=0;for(;k!==o;)z+=n[k++],k=k%e;if(o=(o+1)%e,o===d&&(d=(d+1)%e),R-h<t)return;const q=J&&R-J;return q?Math.round(z*1e3/q):void 0}}function dC(e,t){let n=0;const r=dD(50,250);return o=>{const d=o.loaded,h=o.lengthComputable?o.total:void 0,s=d-n,v=r(s),R=d<=h;n=d;const J={loaded:d,total:h,progress:h?d/h:void 0,bytes:s,rate:v||void 0,estimated:v&&h&&R?(h-d)/v:void 0,event:o};J[t?"download":"upload"]=!0,e(J)}}const uD=typeof XMLHttpRequest<"u",hD=uD&&function(e){return new Promise(function(n,r){let o=e.data;const d=tp.from(e.headers).normalize(),h=e.responseType;let s;function v(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}Fi.isFormData(o)&&(ah.isStandardBrowserEnv||ah.isStandardBrowserWebWorkerEnv)&&d.setContentType(!1);let R=new XMLHttpRequest;if(e.auth){const q=e.auth.username||"",L=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.set("Authorization","Basic "+btoa(q+":"+L))}const J=OM(e.baseURL,e.url);R.open(e.method.toUpperCase(),PM(J,e.params,e.paramsSerializer),!0),R.timeout=e.timeout;function k(){if(!R)return;const q=tp.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:q,config:e,request:R};rD(function(M){n(M),v()},function(M){r(M),v()},O),R=null}if("onloadend"in R?R.onloadend=k:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(k)},R.onabort=function(){R&&(r(new ws("Request aborted",ws.ECONNABORTED,e,R)),R=null)},R.onerror=function(){r(new ws("Network Error",ws.ERR_NETWORK,e,R)),R=null},R.ontimeout=function(){let L=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const O=e.transitional||DM;e.timeoutErrorMessage&&(L=e.timeoutErrorMessage),r(new ws(L,O.clarifyTimeoutError?ws.ETIMEDOUT:ws.ECONNABORTED,e,R)),R=null},ah.isStandardBrowserEnv){const q=(e.withCredentials||lD(J))&&e.xsrfCookieName&&sD.read(e.xsrfCookieName);q&&d.set(e.xsrfHeaderName,q)}o===void 0&&d.setContentType(null),"setRequestHeader"in R&&Fi.forEach(d.toJSON(),function(L,O){R.setRequestHeader(O,L)}),Fi.isUndefined(e.withCredentials)||(R.withCredentials=!!e.withCredentials),h&&h!=="json"&&(R.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&R.addEventListener("progress",dC(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&R.upload&&R.upload.addEventListener("progress",dC(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=q=>{R&&(r(!q||q.type?new l_(null,e,R):q),R.abort(),R=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const z=cD(J);if(z&&ah.protocols.indexOf(z)===-1){r(new ws("Unsupported protocol "+z+":",ws.ERR_BAD_REQUEST,e));return}R.send(o||null)})},yx={http:nD,xhr:hD};Fi.forEach(yx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pD={getAdapter:e=>{e=Fi.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let o=0;o<t&&(n=e[o],!(r=Fi.isString(n)?yx[n.toLowerCase()]:n));o++);if(!r)throw r===!1?new ws(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Fi.hasOwnProp(yx,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!Fi.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:yx};function t3(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new l_(null,e)}function uC(e){return t3(e),e.headers=tp.from(e.headers),e.data=e3.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pD.getAdapter(e.adapter||WT.adapter)(e).then(function(r){return t3(e),r.data=e3.call(e,e.transformResponse,r),r.headers=tp.from(r.headers),r},function(r){return LM(r)||(t3(e),r&&r.response&&(r.response.data=e3.call(e,e.transformResponse,r.response),r.response.headers=tp.from(r.response.headers))),Promise.reject(r)})}const hC=e=>e instanceof tp?e.toJSON():e;function Eg(e,t){t=t||{};const n={};function r(R,J,k){return Fi.isPlainObject(R)&&Fi.isPlainObject(J)?Fi.merge.call({caseless:k},R,J):Fi.isPlainObject(J)?Fi.merge({},J):Fi.isArray(J)?J.slice():J}function o(R,J,k){if(Fi.isUndefined(J)){if(!Fi.isUndefined(R))return r(void 0,R,k)}else return r(R,J,k)}function d(R,J){if(!Fi.isUndefined(J))return r(void 0,J)}function h(R,J){if(Fi.isUndefined(J)){if(!Fi.isUndefined(R))return r(void 0,R)}else return r(void 0,J)}function s(R,J,k){if(k in t)return r(R,J);if(k in e)return r(void 0,R)}const v={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:s,headers:(R,J)=>o(hC(R),hC(J),!0)};return Fi.forEach(Object.keys(e).concat(Object.keys(t)),function(J){const k=v[J]||o,z=k(e[J],t[J],J);Fi.isUndefined(z)&&k!==s||(n[J]=z)}),n}const RM="1.2.2",YT={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{YT[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const pC={};YT.transitional=function(t,n,r){function o(d,h){return"[Axios v"+RM+"] Transitional option '"+d+"'"+h+(r?". "+r:"")}return(d,h,s)=>{if(t===!1)throw new ws(o(h," has been removed"+(n?" in "+n:"")),ws.ERR_DEPRECATED);return n&&!pC[h]&&(pC[h]=!0,console.warn(o(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(d,h,s):!0}};function fD(e,t,n){if(typeof e!="object")throw new ws("options must be an object",ws.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const d=r[o],h=t[d];if(h){const s=e[d],v=s===void 0||h(s,d,e);if(v!==!0)throw new ws("option "+d+" must be "+v,ws.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ws("Unknown option "+d,ws.ERR_BAD_OPTION)}}const Y3={assertOptions:fD,validators:YT},Gp=Y3.validators;class Ix{constructor(t){this.defaults=t,this.interceptors={request:new aC,response:new aC}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Eg(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:d}=n;r!==void 0&&Y3.assertOptions(r,{silentJSONParsing:Gp.transitional(Gp.boolean),forcedJSONParsing:Gp.transitional(Gp.boolean),clarifyTimeoutError:Gp.transitional(Gp.boolean)},!1),o!==void 0&&Y3.assertOptions(o,{encode:Gp.function,serialize:Gp.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h;h=d&&Fi.merge(d.common,d[n.method]),h&&Fi.forEach(["delete","get","head","post","put","patch","common"],L=>{delete d[L]}),n.headers=tp.concat(h,d);const s=[];let v=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(v=v&&O.synchronous,s.unshift(O.fulfilled,O.rejected))});const R=[];this.interceptors.response.forEach(function(O){R.push(O.fulfilled,O.rejected)});let J,k=0,z;if(!v){const L=[uC.bind(this),void 0];for(L.unshift.apply(L,s),L.push.apply(L,R),z=L.length,J=Promise.resolve(n);k<z;)J=J.then(L[k++],L[k++]);return J}z=s.length;let q=n;for(k=0;k<z;){const L=s[k++],O=s[k++];try{q=L(q)}catch(G){O.call(this,G);break}}try{J=uC.call(this,q)}catch(L){return Promise.reject(L)}for(k=0,z=R.length;k<z;)J=J.then(R[k++],R[k++]);return J}getUri(t){t=Eg(this.defaults,t);const n=OM(t.baseURL,t.url);return PM(n,t.params,t.paramsSerializer)}}Fi.forEach(["delete","get","head","options"],function(t){Ix.prototype[t]=function(n,r){return this.request(Eg(r||{},{method:t,url:n,data:(r||{}).data}))}});Fi.forEach(["post","put","patch"],function(t){function n(r){return function(d,h,s){return this.request(Eg(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}Ix.prototype[t]=n(),Ix.prototype[t+"Form"]=n(!0)});const _x=Ix;class qT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(d){n=d});const r=this;this.promise.then(o=>{if(!r._listeners)return;let d=r._listeners.length;for(;d-- >0;)r._listeners[d](o);r._listeners=null}),this.promise.then=o=>{let d;const h=new Promise(s=>{r.subscribe(s),d=s}).then(o);return h.cancel=function(){r.unsubscribe(d)},h},t(function(d,h,s){r.reason||(r.reason=new l_(d,h,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new qT(function(o){t=o}),cancel:t}}}const mD=qT;function gD(e){return function(n){return e.apply(null,n)}}function yD(e){return Fi.isObject(e)&&e.isAxiosError===!0}const q3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(q3).forEach(([e,t])=>{q3[t]=e});const _D=q3;function BM(e){const t=new _x(e),n=_M(_x.prototype.request,t);return Fi.extend(n,_x.prototype,t,{allOwnKeys:!0}),Fi.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return BM(Eg(e,o))},n}const Fa=BM(WT);Fa.Axios=_x;Fa.CanceledError=l_;Fa.CancelToken=mD;Fa.isCancel=LM;Fa.VERSION=RM;Fa.toFormData=pb;Fa.AxiosError=ws;Fa.Cancel=Fa.CanceledError;Fa.all=function(t){return Promise.all(t)};Fa.spread=gD;Fa.isAxiosError=yD;Fa.mergeConfig=Eg;Fa.AxiosHeaders=tp;Fa.formToJSON=e=>IM(Fi.isHTMLForm(e)?new FormData(e):e);Fa.HttpStatusCode=_D;Fa.default=Fa;const vD=Fa;window._=UT;window.$=sP;window.axios=vD;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function Hc(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const xD="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",bD=Hc(xD);function el(e){if(An(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Br(r)?zM(r):el(r);if(o)for(const d in o)t[d]=o[d]}return t}else{if(Br(e))return e;if(Ys(e))return e}}const wD=/;(?![^(]*\))/g,TD=/:([^]+)/,SD=/\/\*.*?\*\//gs;function zM(e){const t={};return e.replace(SD,"").split(wD).forEach(n=>{if(n){const r=n.split(TD);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ar(e){let t="";if(Br(e))t=e;else if(An(e))for(let n=0;n<e.length;n++){const r=ar(e[n]);r&&(t+=r+" ")}else if(Ys(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ta(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Br(t)&&(e.class=ar(t)),n&&(e.style=el(n)),e}const CD="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",ED="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",MD="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",kD=Hc(CD),AD=Hc(ED),PD=Hc(MD),DD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ID=Hc(DD);function NM(e){return!!e||e===""}function LD(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=df(e[r],t[r]);return n}function df(e,t){if(e===t)return!0;let n=fC(e),r=fC(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=uf(e),r=uf(t),n||r)return e===t;if(n=An(e),r=An(t),n||r)return n&&r?LD(e,t):!1;if(n=Ys(e),r=Ys(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,d=Object.keys(t).length;if(o!==d)return!1;for(const h in e){const s=e.hasOwnProperty(h),v=t.hasOwnProperty(h);if(s&&!v||!s&&v||!df(e[h],t[h]))return!1}}return String(e)===String(t)}function gb(e,t){return e.findIndex(n=>df(n,t))}const Yi=e=>Br(e)?e:e==null?"":An(e)||Ys(e)&&(e.toString===jM||!Sr(e.toString))?JSON.stringify(e,FM,2):String(e),FM=(e,t)=>t&&t.__v_isRef?FM(e,t.value):gg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Z0(t)?{[`Set(${t.size})`]:[...t.values()]}:Ys(t)&&!An(t)&&!UM(t)?String(t):t,Gs={},mg=[],yc=()=>{},vx=()=>!1,OD=/^on[^a-z]/,X0=e=>OD.test(e),XT=e=>e.startsWith("onUpdate:"),Ds=Object.assign,ZT=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},RD=Object.prototype.hasOwnProperty,bs=(e,t)=>RD.call(e,t),An=Array.isArray,gg=e=>c_(e)==="[object Map]",Z0=e=>c_(e)==="[object Set]",fC=e=>c_(e)==="[object Date]",Sr=e=>typeof e=="function",Br=e=>typeof e=="string",uf=e=>typeof e=="symbol",Ys=e=>e!==null&&typeof e=="object",KT=e=>Ys(e)&&Sr(e.then)&&Sr(e.catch),jM=Object.prototype.toString,c_=e=>jM.call(e),BD=e=>c_(e).slice(8,-1),UM=e=>c_(e)==="[object Object]",JT=e=>Br(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,L0=Hc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zD=Hc("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),yb=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ND=/-(\w)/g,tl=yb(e=>e.replace(ND,(t,n)=>n?n.toUpperCase():"")),FD=/\B([A-Z])/g,md=yb(e=>e.replace(FD,"-$1").toLowerCase()),bf=yb(e=>e.charAt(0).toUpperCase()+e.slice(1)),O0=yb(e=>e?`on${bf(e)}`:""),Mg=(e,t)=>!Object.is(e,t),yg=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Lx=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},rp=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let mC;const jD=()=>mC||(mC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ud;class _b{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=ud,!t&&ud&&(this.index=(ud.scopes||(ud.scopes=[])).push(this)-1)}run(t){if(this.active){const n=ud;try{return ud=this,t()}finally{ud=n}}}on(){ud=this}off(){ud=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function $M(e){return new _b(e)}function VM(e,t=ud){t&&t.active&&t.effects.push(e)}function QT(){return ud}function eS(e){ud&&ud.cleanups.push(e)}const tS=e=>{const t=new Set(e);return t.w=0,t.n=0,t},GM=e=>(e.w&hf)>0,HM=e=>(e.n&hf)>0,UD=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=hf},$D=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];GM(o)&&!HM(o)?o.delete(e):t[n++]=o,o.w&=~hf,o.n&=~hf}t.length=n}},X3=new WeakMap;let Dy=0,hf=1;const Z3=30;let vu;const R0=Symbol(""),K3=Symbol("");class jg{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,VM(this,r)}run(){if(!this.active)return this.fn();let t=vu,n=rf;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=vu,vu=this,rf=!0,hf=1<<++Dy,Dy<=Z3?UD(this):gC(this),this.fn()}finally{Dy<=Z3&&$D(this),hf=1<<--Dy,vu=this.parent,rf=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){vu===this?this.deferStop=!0:this.active&&(gC(this),this.onStop&&this.onStop(),this.active=!1)}}function gC(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function WM(e,t){e.effect&&(e=e.effect.fn);const n=new jg(e);t&&(Ds(n,t),t.scope&&VM(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function YM(e){e.effect.stop()}let rf=!0;const qM=[];function Ug(){qM.push(rf),rf=!1}function $g(){const e=qM.pop();rf=e===void 0?!0:e}function yd(e,t,n){if(rf&&vu){let r=X3.get(e);r||X3.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=tS()),XM(o)}}function XM(e,t){let n=!1;Dy<=Z3?HM(e)||(e.n|=hf,n=!GM(e)):n=!e.has(vu),n&&(e.add(vu),vu.deps.push(e))}function sp(e,t,n,r,o,d){const h=X3.get(e);if(!h)return;let s=[];if(t==="clear")s=[...h.values()];else if(n==="length"&&An(e)){const v=rp(r);h.forEach((R,J)=>{(J==="length"||J>=v)&&s.push(R)})}else switch(n!==void 0&&s.push(h.get(n)),t){case"add":An(e)?JT(n)&&s.push(h.get("length")):(s.push(h.get(R0)),gg(e)&&s.push(h.get(K3)));break;case"delete":An(e)||(s.push(h.get(R0)),gg(e)&&s.push(h.get(K3)));break;case"set":gg(e)&&s.push(h.get(R0));break}if(s.length===1)s[0]&&J3(s[0]);else{const v=[];for(const R of s)R&&v.push(...R);J3(tS(v))}}function J3(e,t){const n=An(e)?e:[...e];for(const r of n)r.computed&&yC(r);for(const r of n)r.computed||yC(r)}function yC(e,t){(e!==vu||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const VD=Hc("__proto__,__v_isRef,__isVue"),ZM=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(uf)),GD=vb(),HD=vb(!1,!0),WD=vb(!0),YD=vb(!0,!0),_C=qD();function qD(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=us(this);for(let d=0,h=this.length;d<h;d++)yd(r,"get",d+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(us)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ug();const r=us(this)[t].apply(this,n);return $g(),r}}),e}function vb(e=!1,t=!1){return function(r,o,d){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&d===(e?t?nk:ik:t?tk:ek).get(r))return r;const h=An(r);if(!e&&h&&bs(_C,o))return Reflect.get(_C,o,d);const s=Reflect.get(r,o,d);return(uf(o)?ZM.has(o):VD(o))||(e||yd(r,"get",o),t)?s:ca(s)?h&&JT(o)?s:s.value:Ys(s)?e?wb(s):ku(s):s}}const XD=KM(),ZD=KM(!0);function KM(e=!1){return function(n,r,o,d){let h=n[r];if(pf(h)&&ca(h)&&!ca(o))return!1;if(!e&&(!kg(o)&&!pf(o)&&(h=us(h),o=us(o)),!An(n)&&ca(h)&&!ca(o)))return h.value=o,!0;const s=An(n)&&JT(r)?Number(r)<n.length:bs(n,r),v=Reflect.set(n,r,o,d);return n===us(d)&&(s?Mg(o,h)&&sp(n,"set",r,o):sp(n,"add",r,o)),v}}function KD(e,t){const n=bs(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&sp(e,"delete",t,void 0),r}function JD(e,t){const n=Reflect.has(e,t);return(!uf(t)||!ZM.has(t))&&yd(e,"has",t),n}function QD(e){return yd(e,"iterate",An(e)?"length":R0),Reflect.ownKeys(e)}const JM={get:GD,set:XD,deleteProperty:KD,has:JD,ownKeys:QD},QM={get:WD,set(e,t){return!0},deleteProperty(e,t){return!0}},eI=Ds({},JM,{get:HD,set:ZD}),tI=Ds({},QM,{get:YD}),iS=e=>e,xb=e=>Reflect.getPrototypeOf(e);function Wv(e,t,n=!1,r=!1){e=e.__v_raw;const o=us(e),d=us(t);n||(t!==d&&yd(o,"get",t),yd(o,"get",d));const{has:h}=xb(o),s=r?iS:n?rS:Gy;if(h.call(o,t))return s(e.get(t));if(h.call(o,d))return s(e.get(d));e!==o&&e.get(t)}function Yv(e,t=!1){const n=this.__v_raw,r=us(n),o=us(e);return t||(e!==o&&yd(r,"has",e),yd(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function qv(e,t=!1){return e=e.__v_raw,!t&&yd(us(e),"iterate",R0),Reflect.get(e,"size",e)}function vC(e){e=us(e);const t=us(this);return xb(t).has.call(t,e)||(t.add(e),sp(t,"add",e,e)),this}function xC(e,t){t=us(t);const n=us(this),{has:r,get:o}=xb(n);let d=r.call(n,e);d||(e=us(e),d=r.call(n,e));const h=o.call(n,e);return n.set(e,t),d?Mg(t,h)&&sp(n,"set",e,t):sp(n,"add",e,t),this}function bC(e){const t=us(this),{has:n,get:r}=xb(t);let o=n.call(t,e);o||(e=us(e),o=n.call(t,e)),r&&r.call(t,e);const d=t.delete(e);return o&&sp(t,"delete",e,void 0),d}function wC(){const e=us(this),t=e.size!==0,n=e.clear();return t&&sp(e,"clear",void 0,void 0),n}function Xv(e,t){return function(r,o){const d=this,h=d.__v_raw,s=us(h),v=t?iS:e?rS:Gy;return!e&&yd(s,"iterate",R0),h.forEach((R,J)=>r.call(o,v(R),v(J),d))}}function Zv(e,t,n){return function(...r){const o=this.__v_raw,d=us(o),h=gg(d),s=e==="entries"||e===Symbol.iterator&&h,v=e==="keys"&&h,R=o[e](...r),J=n?iS:t?rS:Gy;return!t&&yd(d,"iterate",v?K3:R0),{next(){const{value:k,done:z}=R.next();return z?{value:k,done:z}:{value:s?[J(k[0]),J(k[1])]:J(k),done:z}},[Symbol.iterator](){return this}}}}function Hp(e){return function(...t){return e==="delete"?!1:this}}function iI(){const e={get(d){return Wv(this,d)},get size(){return qv(this)},has:Yv,add:vC,set:xC,delete:bC,clear:wC,forEach:Xv(!1,!1)},t={get(d){return Wv(this,d,!1,!0)},get size(){return qv(this)},has:Yv,add:vC,set:xC,delete:bC,clear:wC,forEach:Xv(!1,!0)},n={get(d){return Wv(this,d,!0)},get size(){return qv(this,!0)},has(d){return Yv.call(this,d,!0)},add:Hp("add"),set:Hp("set"),delete:Hp("delete"),clear:Hp("clear"),forEach:Xv(!0,!1)},r={get(d){return Wv(this,d,!0,!0)},get size(){return qv(this,!0)},has(d){return Yv.call(this,d,!0)},add:Hp("add"),set:Hp("set"),delete:Hp("delete"),clear:Hp("clear"),forEach:Xv(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=Zv(d,!1,!1),n[d]=Zv(d,!0,!1),t[d]=Zv(d,!1,!0),r[d]=Zv(d,!0,!0)}),[e,n,t,r]}const[nI,rI,sI,oI]=iI();function bb(e,t){const n=t?e?oI:sI:e?rI:nI;return(r,o,d)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(bs(n,o)&&o in r?n:r,o,d)}const aI={get:bb(!1,!1)},lI={get:bb(!1,!0)},cI={get:bb(!0,!1)},dI={get:bb(!0,!0)},ek=new WeakMap,tk=new WeakMap,ik=new WeakMap,nk=new WeakMap;function uI(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hI(e){return e.__v_skip||!Object.isExtensible(e)?0:uI(BD(e))}function ku(e){return pf(e)?e:Tb(e,!1,JM,aI,ek)}function nS(e){return Tb(e,!1,eI,lI,tk)}function wb(e){return Tb(e,!0,QM,cI,ik)}function rk(e){return Tb(e,!0,tI,dI,nk)}function Tb(e,t,n,r,o){if(!Ys(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const d=o.get(e);if(d)return d;const h=hI(e);if(h===0)return e;const s=new Proxy(e,h===2?r:n);return o.set(e,s),s}function sf(e){return pf(e)?sf(e.__v_raw):!!(e&&e.__v_isReactive)}function pf(e){return!!(e&&e.__v_isReadonly)}function kg(e){return!!(e&&e.__v_isShallow)}function Sb(e){return sf(e)||pf(e)}function us(e){const t=e&&e.__v_raw;return t?us(t):e}function Cb(e){return Lx(e,"__v_skip",!0),e}const Gy=e=>Ys(e)?ku(e):e,rS=e=>Ys(e)?wb(e):e;function sS(e){rf&&vu&&(e=us(e),XM(e.dep||(e.dep=tS())))}function Eb(e,t){e=us(e),e.dep&&J3(e.dep)}function ca(e){return!!(e&&e.__v_isRef===!0)}function on(e){return ok(e,!1)}function sk(e){return ok(e,!0)}function ok(e,t){return ca(e)?e:new pI(e,t)}class pI{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:us(t),this._value=n?t:Gy(t)}get value(){return sS(this),this._value}set value(t){const n=this.__v_isShallow||kg(t)||pf(t);t=n?t:us(t),Mg(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Gy(t),Eb(this))}}function ak(e){Eb(e)}function Li(e){return ca(e)?e.value:e}const fI={get:(e,t,n)=>Li(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return ca(o)&&!ca(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Mb(e){return sf(e)?e:new Proxy(e,fI)}class mI{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>sS(this),()=>Eb(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function lk(e){return new mI(e)}function ck(e){const t=An(e)?new Array(e.length):{};for(const n in e)t[n]=ff(e,n);return t}class gI{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function ff(e,t,n){const r=e[t];return ca(r)?r:new gI(e,t,n)}var dk;class yI{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[dk]=!1,this._dirty=!0,this.effect=new jg(t,()=>{this._dirty||(this._dirty=!0,Eb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=us(this);return sS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}dk="__v_isReadonly";function _I(e,t,n=!1){let r,o;const d=Sr(e);return d?(r=e,o=yc):(r=e.get,o=e.set),new yI(r,o,d||!o,n)}function uk(e,...t){}function dh(e,t,n,r){let o;try{o=r?e(...r):e()}catch(d){wf(d,t,n)}return o}function Gc(e,t,n,r){if(Sr(e)){const d=dh(e,t,n,r);return d&&KT(d)&&d.catch(h=>{wf(h,t,n)}),d}const o=[];for(let d=0;d<e.length;d++)o.push(Gc(e[d],t,n,r));return o}function wf(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let d=t.parent;const h=t.proxy,s=n;for(;d;){const R=d.ec;if(R){for(let J=0;J<R.length;J++)if(R[J](e,h,s)===!1)return}d=d.parent}const v=t.appContext.config.errorHandler;if(v){dh(v,null,10,[e,h,s]);return}}vI(e,n,o,r)}function vI(e,t,n,r=!0){console.error(e)}let Hy=!1,Q3=!1;const Rl=[];let ih=0;const _g=[];let Wh=null,C0=0;const hk=Promise.resolve();let oS=null;function _c(e){const t=oS||hk;return e?t.then(this?e.bind(this):e):t}function xI(e){let t=ih+1,n=Rl.length;for(;t<n;){const r=t+n>>>1;Wy(Rl[r])<e?t=r+1:n=r}return t}function kb(e){(!Rl.length||!Rl.includes(e,Hy&&e.allowRecurse?ih+1:ih))&&(e.id==null?Rl.push(e):Rl.splice(xI(e.id),0,e),pk())}function pk(){!Hy&&!Q3&&(Q3=!0,oS=hk.then(fk))}function bI(e){const t=Rl.indexOf(e);t>ih&&Rl.splice(t,1)}function Ab(e){An(e)?_g.push(...e):(!Wh||!Wh.includes(e,e.allowRecurse?C0+1:C0))&&_g.push(e),pk()}function TC(e,t=Hy?ih+1:0){for(;t<Rl.length;t++){const n=Rl[t];n&&n.pre&&(Rl.splice(t,1),t--,n())}}function Ox(e){if(_g.length){const t=[...new Set(_g)];if(_g.length=0,Wh){Wh.push(...t);return}for(Wh=t,Wh.sort((n,r)=>Wy(n)-Wy(r)),C0=0;C0<Wh.length;C0++)Wh[C0]();Wh=null,C0=0}}const Wy=e=>e.id==null?1/0:e.id,wI=(e,t)=>{const n=Wy(e)-Wy(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function fk(e){Q3=!1,Hy=!0,Rl.sort(wI);const t=yc;try{for(ih=0;ih<Rl.length;ih++){const n=Rl[ih];n&&n.active!==!1&&dh(n,null,14)}}finally{ih=0,Rl.length=0,Ox(),Hy=!1,oS=null,(Rl.length||_g.length)&&fk()}}let E0,Kv=[];function aS(e,t){var n,r;E0=e,E0?(E0.enabled=!0,Kv.forEach(({event:o,args:d})=>E0.emit(o,...d)),Kv=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(d=>{aS(d,t)}),setTimeout(()=>{E0||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Kv=[])},3e3)):Kv=[]}function TI(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Gs;let o=n;const d=t.startsWith("update:"),h=d&&t.slice(7);if(h&&h in r){const J=`${h==="modelValue"?"model":h}Modifiers`,{number:k,trim:z}=r[J]||Gs;z&&(o=n.map(q=>Br(q)?q.trim():q)),k&&(o=n.map(rp))}let s,v=r[s=O0(t)]||r[s=O0(tl(t))];!v&&d&&(v=r[s=O0(md(t))]),v&&Gc(v,e,6,o);const R=r[s+"Once"];if(R){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Gc(R,e,6,o)}}function mk(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const d=e.emits;let h={},s=!1;if(!Sr(e)){const v=R=>{const J=mk(R,t,!0);J&&(s=!0,Ds(h,J))};!n&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}return!d&&!s?(Ys(e)&&r.set(e,null),null):(An(d)?d.forEach(v=>h[v]=null):Ds(h,d),Ys(e)&&r.set(e,h),h)}function Pb(e,t){return!e||!X0(t)?!1:(t=t.slice(2).replace(/Once$/,""),bs(e,t[0].toLowerCase()+t.slice(1))||bs(e,md(t))||bs(e,t))}let ml=null,Db=null;function Yy(e){const t=ml;return ml=e,Db=e&&e.type.__scopeId||null,t}function K0(e){Db=e}function J0(){Db=null}const gk=e=>Yn;function Yn(e,t=ml,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&zx(-1);const d=Yy(t);let h;try{h=e(...o)}finally{Yy(d),r._d&&zx(1)}return h};return r._n=!0,r._c=!0,r._d=!0,r}function xx(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:d,propsOptions:[h],slots:s,attrs:v,emit:R,render:J,renderCache:k,data:z,setupState:q,ctx:L,inheritAttrs:O}=e;let G,M;const S=Yy(e);try{if(n.shapeFlag&4){const H=o||r;G=pd(J.call(H,H,k,d,q,z,L)),M=v}else{const H=t;G=pd(H.length>1?H(d,{attrs:v,slots:s,emit:R}):H(d,null)),M=t.props?v:CI(v)}}catch(H){Ry.length=0,wf(H,e,1),G=dn(gl)}let P=G;if(M&&O!==!1){const H=Object.keys(M),{shapeFlag:U}=P;H.length&&U&7&&(h&&H.some(XT)&&(M=EI(M,h)),P=Tu(P,M))}return n.dirs&&(P=Tu(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),G=P,Yy(S),G}function SI(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(op(r)){if(r.type!==gl||r.children==="v-if"){if(t)return;t=r}}else return}return t}const CI=e=>{let t;for(const n in e)(n==="class"||n==="style"||X0(n))&&((t||(t={}))[n]=e[n]);return t},EI=(e,t)=>{const n={};for(const r in e)(!XT(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function MI(e,t,n){const{props:r,children:o,component:d}=e,{props:h,children:s,patchFlag:v}=t,R=d.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&v>=0){if(v&1024)return!0;if(v&16)return r?SC(r,h,R):!!h;if(v&8){const J=t.dynamicProps;for(let k=0;k<J.length;k++){const z=J[k];if(h[z]!==r[z]&&!Pb(R,z))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:r===h?!1:r?h?SC(r,h,R):!0:!!h;return!1}function SC(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const d=r[o];if(t[d]!==e[d]&&!Pb(n,d))return!0}return!1}function lS({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const yk=e=>e.__isSuspense,kI={name:"Suspense",__isSuspense:!0,process(e,t,n,r,o,d,h,s,v,R){e==null?AI(t,n,r,o,d,h,s,v,R):PI(e,t,n,r,o,h,s,v,R)},hydrate:DI,create:cS,normalize:II},_k=kI;function qy(e,t){const n=e.props&&e.props[t];Sr(n)&&n()}function AI(e,t,n,r,o,d,h,s,v){const{p:R,o:{createElement:J}}=v,k=J("div"),z=e.suspense=cS(e,o,r,t,k,n,d,h,s,v);R(null,z.pendingBranch=e.ssContent,k,null,r,z,d,h),z.deps>0?(qy(e,"onPending"),qy(e,"onFallback"),R(null,e.ssFallback,t,n,r,null,d,h),vg(z,e.ssFallback)):z.resolve()}function PI(e,t,n,r,o,d,h,s,{p:v,um:R,o:{createElement:J}}){const k=t.suspense=e.suspense;k.vnode=t,t.el=e.el;const z=t.ssContent,q=t.ssFallback,{activeBranch:L,pendingBranch:O,isInFallback:G,isHydrating:M}=k;if(O)k.pendingBranch=z,nh(z,O)?(v(O,z,k.hiddenContainer,null,o,k,d,h,s),k.deps<=0?k.resolve():G&&(v(L,q,n,r,o,null,d,h,s),vg(k,q))):(k.pendingId++,M?(k.isHydrating=!1,k.activeBranch=O):R(O,o,k),k.deps=0,k.effects.length=0,k.hiddenContainer=J("div"),G?(v(null,z,k.hiddenContainer,null,o,k,d,h,s),k.deps<=0?k.resolve():(v(L,q,n,r,o,null,d,h,s),vg(k,q))):L&&nh(z,L)?(v(L,z,n,r,o,k,d,h,s),k.resolve(!0)):(v(null,z,k.hiddenContainer,null,o,k,d,h,s),k.deps<=0&&k.resolve()));else if(L&&nh(z,L))v(L,z,n,r,o,k,d,h,s),vg(k,z);else if(qy(t,"onPending"),k.pendingBranch=z,k.pendingId++,v(null,z,k.hiddenContainer,null,o,k,d,h,s),k.deps<=0)k.resolve();else{const{timeout:S,pendingId:P}=k;S>0?setTimeout(()=>{k.pendingId===P&&k.fallback(q)},S):S===0&&k.fallback(q)}}function cS(e,t,n,r,o,d,h,s,v,R,J=!1){const{p:k,m:z,um:q,n:L,o:{parentNode:O,remove:G}}=R,M=rp(e.props&&e.props.timeout),S={vnode:e,parent:t,parentComponent:n,isSVG:h,container:r,hiddenContainer:o,anchor:d,deps:0,pendingId:0,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:J,isUnmounted:!1,effects:[],resolve(P=!1){const{vnode:H,activeBranch:U,pendingBranch:E,pendingId:ie,effects:te,parentComponent:$,container:V}=S;if(S.isHydrating)S.isHydrating=!1;else if(!P){const I=U&&E.transition&&E.transition.mode==="out-in";I&&(U.transition.afterLeave=()=>{ie===S.pendingId&&z(E,V,m,0)});let{anchor:m}=S;U&&(m=L(U),q(U,$,S,!0)),I||z(E,V,m,0)}vg(S,E),S.pendingBranch=null,S.isInFallback=!1;let j=S.parent,w=!1;for(;j;){if(j.pendingBranch){j.effects.push(...te),w=!0;break}j=j.parent}w||Ab(te),S.effects=[],qy(H,"onResolve")},fallback(P){if(!S.pendingBranch)return;const{vnode:H,activeBranch:U,parentComponent:E,container:ie,isSVG:te}=S;qy(H,"onFallback");const $=L(U),V=()=>{S.isInFallback&&(k(null,P,ie,$,E,null,te,s,v),vg(S,P))},j=P.transition&&P.transition.mode==="out-in";j&&(U.transition.afterLeave=V),S.isInFallback=!0,q(U,E,null,!0),j||V()},move(P,H,U){S.activeBranch&&z(S.activeBranch,P,H,U),S.container=P},next(){return S.activeBranch&&L(S.activeBranch)},registerDep(P,H){const U=!!S.pendingBranch;U&&S.deps++;const E=P.vnode.el;P.asyncDep.catch(ie=>{wf(ie,P,0)}).then(ie=>{if(P.isUnmounted||S.isUnmounted||S.pendingId!==P.suspenseId)return;P.asyncResolved=!0;const{vnode:te}=P;oT(P,ie,!1),E&&(te.el=E);const $=!E&&P.subTree.el;H(P,te,O(E||P.subTree.el),E?null:L(P.subTree),S,h,v),$&&G($),lS(P,te.el),U&&--S.deps===0&&S.resolve()})},unmount(P,H){S.isUnmounted=!0,S.activeBranch&&q(S.activeBranch,n,P,H),S.pendingBranch&&q(S.pendingBranch,n,P,H)}};return S}function DI(e,t,n,r,o,d,h,s,v){const R=t.suspense=cS(t,r,n,e.parentNode,document.createElement("div"),null,o,d,h,s,!0),J=v(e,R.pendingBranch=t.ssContent,n,R,d,h);return R.deps===0&&R.resolve(),J}function II(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=CC(r?n.default:n),e.ssFallback=r?CC(n.fallback):dn(gl)}function CC(e){let t;if(Sr(e)){const n=G0&&e._c;n&&(e._d=!1,bt()),e=e(),n&&(e._d=!0,t=$c,Fk())}return An(e)&&(e=SI(e)),e=pd(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function vk(e,t){t&&t.pendingBranch?An(e)?t.effects.push(...e):t.effects.push(e):Ab(e)}function vg(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,o=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=o,lS(r,o))}function Vg(e,t){if(Ba){let n=Ba.provides;const r=Ba.parent&&Ba.parent.provides;r===n&&(n=Ba.provides=Object.create(r)),n[e]=t}}function B0(e,t,n=!1){const r=Ba||ml;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Sr(t)?t.call(r.proxy):t}}function xk(e,t){return d_(e,null,t)}function dS(e,t){return d_(e,null,{flush:"post"})}function bk(e,t){return d_(e,null,{flush:"sync"})}const Jv={};function ha(e,t,n){return d_(e,t,n)}function d_(e,t,{immediate:n,deep:r,flush:o,onTrack:d,onTrigger:h}=Gs){const s=Ba;let v,R=!1,J=!1;if(ca(e)?(v=()=>e.value,R=kg(e)):sf(e)?(v=()=>e,r=!0):An(e)?(J=!0,R=e.some(P=>sf(P)||kg(P)),v=()=>e.map(P=>{if(ca(P))return P.value;if(sf(P))return k0(P);if(Sr(P))return dh(P,s,2)})):Sr(e)?t?v=()=>dh(e,s,2):v=()=>{if(!(s&&s.isUnmounted))return k&&k(),Gc(e,s,3,[z])}:v=yc,t&&r){const P=v;v=()=>k0(P())}let k,z=P=>{k=M.onStop=()=>{dh(P,s,4)}},q;if(Ag)if(z=yc,t?n&&Gc(t,s,3,[v(),J?[]:void 0,z]):v(),o==="sync"){const P=PS();q=P.__watcherHandles||(P.__watcherHandles=[])}else return yc;let L=J?new Array(e.length).fill(Jv):Jv;const O=()=>{if(M.active)if(t){const P=M.run();(r||R||(J?P.some((H,U)=>Mg(H,L[U])):Mg(P,L)))&&(k&&k(),Gc(t,s,3,[P,L===Jv?void 0:J&&L[0]===Jv?[]:L,z]),L=P)}else M.run()};O.allowRecurse=!!t;let G;o==="sync"?G=O:o==="post"?G=()=>fl(O,s&&s.suspense):(O.pre=!0,s&&(O.id=s.uid),G=()=>kb(O));const M=new jg(v,G);t?n?O():L=M.run():o==="post"?fl(M.run.bind(M),s&&s.suspense):M.run();const S=()=>{M.stop(),s&&s.scope&&ZT(s.scope.effects,M)};return q&&q.push(S),S}function LI(e,t,n){const r=this.proxy,o=Br(e)?e.includes(".")?wk(r,e):()=>r[e]:e.bind(r,r);let d;Sr(t)?d=t:(d=t.handler,n=t);const h=Ba;yf(this);const s=d_(o,d.bind(r),n);return h?yf(h):af(),s}function wk(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function k0(e,t){if(!Ys(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ca(e))k0(e.value,t);else if(An(e))for(let n=0;n<e.length;n++)k0(e[n],t);else if(Z0(e)||gg(e))e.forEach(n=>{k0(n,t)});else if(UM(e))for(const n in e)k0(e[n],t);return e}function Ib(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ko(()=>{e.isMounted=!0}),em(()=>{e.isUnmounting=!0}),e}const Hd=[Function,Array],OI={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hd,onEnter:Hd,onAfterEnter:Hd,onEnterCancelled:Hd,onBeforeLeave:Hd,onLeave:Hd,onAfterLeave:Hd,onLeaveCancelled:Hd,onBeforeAppear:Hd,onAppear:Hd,onAfterAppear:Hd,onAppearCancelled:Hd},setup(e,{slots:t}){const n=dp(),r=Ib();let o;return()=>{const d=t.default&&u_(t.default(),!0);if(!d||!d.length)return;let h=d[0];if(d.length>1){for(const O of d)if(O.type!==gl){h=O;break}}const s=us(e),{mode:v}=s;if(r.isLeaving)return i3(h);const R=EC(h);if(!R)return i3(h);const J=V0(R,s,r,n);mf(R,J);const k=n.subTree,z=k&&EC(k);let q=!1;const{getTransitionKey:L}=R.type;if(L){const O=L();o===void 0?o=O:O!==o&&(o=O,q=!0)}if(z&&z.type!==gl&&(!nh(R,z)||q)){const O=V0(z,s,r,n);if(mf(z,O),v==="out-in")return r.isLeaving=!0,O.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},i3(h);v==="in-out"&&R.type!==gl&&(O.delayLeave=(G,M,S)=>{const P=Tk(r,z);P[String(z.key)]=z,G._leaveCb=()=>{M(),G._leaveCb=void 0,delete J.delayedLeave},J.delayedLeave=S})}return h}}},Lb=OI;function Tk(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function V0(e,t,n,r){const{appear:o,mode:d,persisted:h=!1,onBeforeEnter:s,onEnter:v,onAfterEnter:R,onEnterCancelled:J,onBeforeLeave:k,onLeave:z,onAfterLeave:q,onLeaveCancelled:L,onBeforeAppear:O,onAppear:G,onAfterAppear:M,onAppearCancelled:S}=t,P=String(e.key),H=Tk(n,e),U=(te,$)=>{te&&Gc(te,r,9,$)},E=(te,$)=>{const V=$[1];U(te,$),An(te)?te.every(j=>j.length<=1)&&V():te.length<=1&&V()},ie={mode:d,persisted:h,beforeEnter(te){let $=s;if(!n.isMounted)if(o)$=O||s;else return;te._leaveCb&&te._leaveCb(!0);const V=H[P];V&&nh(e,V)&&V.el._leaveCb&&V.el._leaveCb(),U($,[te])},enter(te){let $=v,V=R,j=J;if(!n.isMounted)if(o)$=G||v,V=M||R,j=S||J;else return;let w=!1;const I=te._enterCb=m=>{w||(w=!0,m?U(j,[te]):U(V,[te]),ie.delayedLeave&&ie.delayedLeave(),te._enterCb=void 0)};$?E($,[te,I]):I()},leave(te,$){const V=String(e.key);if(te._enterCb&&te._enterCb(!0),n.isUnmounting)return $();U(k,[te]);let j=!1;const w=te._leaveCb=I=>{j||(j=!0,$(),I?U(L,[te]):U(q,[te]),te._leaveCb=void 0,H[V]===e&&delete H[V])};H[V]=e,z?E(z,[te,w]):w()},clone(te){return V0(te,t,n,r)}};return ie}function i3(e){if(h_(e))return e=Tu(e),e.children=null,e}function EC(e){return h_(e)?e.children?e.children[0]:void 0:e}function mf(e,t){e.shapeFlag&6&&e.component?mf(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function u_(e,t=!1,n){let r=[],o=0;for(let d=0;d<e.length;d++){let h=e[d];const s=n==null?h.key:String(n)+String(h.key!=null?h.key:d);h.type===cn?(h.patchFlag&128&&o++,r=r.concat(u_(h.children,t,s))):(t||h.type!==gl)&&r.push(s!=null?Tu(h,{key:s}):h)}if(o>1)for(let d=0;d<r.length;d++)r[d].patchFlag=-2;return r}function xc(e){return Sr(e)?{setup:e,name:e.name}:e}const z0=e=>!!e.type.__asyncLoader;function Sk(e){Sr(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:o=200,timeout:d,suspensible:h=!0,onError:s}=e;let v=null,R,J=0;const k=()=>(J++,v=null,z()),z=()=>{let q;return v||(q=v=t().catch(L=>{if(L=L instanceof Error?L:new Error(String(L)),s)return new Promise((O,G)=>{s(L,()=>O(k()),()=>G(L),J+1)});throw L}).then(L=>q!==v&&v?v:(L&&(L.__esModule||L[Symbol.toStringTag]==="Module")&&(L=L.default),R=L,L)))};return xc({name:"AsyncComponentWrapper",__asyncLoader:z,get __asyncResolved(){return R},setup(){const q=Ba;if(R)return()=>n3(R,q);const L=S=>{v=null,wf(S,q,13,!r)};if(h&&q.suspense||Ag)return z().then(S=>()=>n3(S,q)).catch(S=>(L(S),()=>r?dn(r,{error:S}):null));const O=on(!1),G=on(),M=on(!!o);return o&&setTimeout(()=>{M.value=!1},o),d!=null&&setTimeout(()=>{if(!O.value&&!G.value){const S=new Error(`Async component timed out after ${d}ms.`);L(S),G.value=S}},d),z().then(()=>{O.value=!0,q.parent&&h_(q.parent.vnode)&&kb(q.parent.update)}).catch(S=>{L(S),G.value=S}),()=>{if(O.value&&R)return n3(R,q);if(G.value&&r)return dn(r,{error:G.value});if(n&&!M.value)return dn(n)}}})}function n3(e,t){const{ref:n,props:r,children:o,ce:d}=t.vnode,h=dn(e,r,o);return h.ref=n,h.ce=d,delete t.vnode.ce,h}const h_=e=>e.type.__isKeepAlive,RI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=dp(),r=n.ctx;if(!r.renderer)return()=>{const S=t.default&&t.default();return S&&S.length===1?S[0]:S};const o=new Map,d=new Set;let h=null;const s=n.suspense,{renderer:{p:v,m:R,um:J,o:{createElement:k}}}=r,z=k("div");r.activate=(S,P,H,U,E)=>{const ie=S.component;R(S,P,H,0,s),v(ie.vnode,S,P,H,ie,s,U,S.slotScopeIds,E),fl(()=>{ie.isDeactivated=!1,ie.a&&yg(ie.a);const te=S.props&&S.props.onVnodeMounted;te&&jc(te,ie.parent,S)},s)},r.deactivate=S=>{const P=S.component;R(S,z,null,1,s),fl(()=>{P.da&&yg(P.da);const H=S.props&&S.props.onVnodeUnmounted;H&&jc(H,P.parent,S),P.isDeactivated=!0},s)};function q(S){r3(S),J(S,n,s,!0)}function L(S){o.forEach((P,H)=>{const U=lT(P.type);U&&(!S||!S(U))&&O(H)})}function O(S){const P=o.get(S);!h||P.type!==h.type?q(P):h&&r3(h),o.delete(S),d.delete(S)}ha(()=>[e.include,e.exclude],([S,P])=>{S&&L(H=>Iy(S,H)),P&&L(H=>!Iy(P,H))},{flush:"post",deep:!0});let G=null;const M=()=>{G!=null&&o.set(G,s3(n.subTree))};return Ko(M),Q0(M),em(()=>{o.forEach(S=>{const{subTree:P,suspense:H}=n,U=s3(P);if(S.type===U.type){r3(U);const E=U.component.da;E&&fl(E,H);return}q(S)})}),()=>{if(G=null,!t.default)return null;const S=t.default(),P=S[0];if(S.length>1)return h=null,S;if(!op(P)||!(P.shapeFlag&4)&&!(P.shapeFlag&128))return h=null,P;let H=s3(P);const U=H.type,E=lT(z0(H)?H.type.__asyncResolved||{}:U),{include:ie,exclude:te,max:$}=e;if(ie&&(!E||!Iy(ie,E))||te&&E&&Iy(te,E))return h=H,P;const V=H.key==null?U:H.key,j=o.get(V);return H.el&&(H=Tu(H),P.shapeFlag&128&&(P.ssContent=H)),G=V,j?(H.el=j.el,H.component=j.component,H.transition&&mf(H,H.transition),H.shapeFlag|=512,d.delete(V),d.add(V)):(d.add(V),$&&d.size>parseInt($,10)&&O(d.values().next().value)),H.shapeFlag|=256,h=H,yk(P.type)?P:H}}},Ck=RI;function Iy(e,t){return An(e)?e.some(n=>Iy(n,t)):Br(e)?e.split(",").includes(t):e.test?e.test(t):!1}function uS(e,t){Ek(e,"a",t)}function hS(e,t){Ek(e,"da",t)}function Ek(e,t,n=Ba){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ob(t,r,n),n){let o=n.parent;for(;o&&o.parent;)h_(o.parent.vnode)&&BI(r,t,n,o),o=o.parent}}function BI(e,t,n,r){const o=Ob(t,e,r,!0);hh(()=>{ZT(r[t],o)},n)}function r3(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function s3(e){return e.shapeFlag&128?e.ssContent:e}function Ob(e,t,n=Ba,r=!1){if(n){const o=n[e]||(n[e]=[]),d=t.__weh||(t.__weh=(...h)=>{if(n.isUnmounted)return;Ug(),yf(n);const s=Gc(t,n,e,h);return af(),$g(),s});return r?o.unshift(d):o.push(d),d}}const cp=e=>(t,n=Ba)=>(!Ag||e==="sp")&&Ob(e,(...r)=>t(...r),n),pS=cp("bm"),Ko=cp("m"),p_=cp("bu"),Q0=cp("u"),em=cp("bum"),hh=cp("um"),fS=cp("sp"),mS=cp("rtg"),gS=cp("rtc");function yS(e,t=Ba){Ob("ec",e,t)}function po(e,t){const n=ml;if(n===null)return e;const r=Nb(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let d=0;d<t.length;d++){let[h,s,v,R=Gs]=t[d];h&&(Sr(h)&&(h={mounted:h,updated:h}),h.deep&&k0(s),o.push({dir:h,instance:r,value:s,oldValue:void 0,arg:v,modifiers:R}))}return e}function th(e,t,n,r){const o=e.dirs,d=t&&t.dirs;for(let h=0;h<o.length;h++){const s=o[h];d&&(s.oldValue=d[h].value);let v=s.dir[r];v&&(Ug(),Gc(v,n,8,[e.el,s,e,t]),$g())}}const _S="components",zI="directives";function Tr(e,t){return vS(_S,e,!0,t)||e}const Mk=Symbol();function Rb(e){return Br(e)?vS(_S,e,!1)||e:e||Mk}function Bb(e){return vS(zI,e)}function vS(e,t,n=!0,r=!1){const o=ml||Ba;if(o){const d=o.type;if(e===_S){const s=lT(d,!1);if(s&&(s===t||s===tl(t)||s===bf(tl(t))))return d}const h=MC(o[e]||d[e],t)||MC(o.appContext[e],t);return!h&&r?d:h}}function MC(e,t){return e&&(e[t]||e[tl(t)]||e[bf(tl(t))])}function _r(e,t,n,r){let o;const d=n&&n[r];if(An(e)||Br(e)){o=new Array(e.length);for(let h=0,s=e.length;h<s;h++)o[h]=t(e[h],h,void 0,d&&d[h])}else if(typeof e=="number"){o=new Array(e);for(let h=0;h<e;h++)o[h]=t(h+1,h,void 0,d&&d[h])}else if(Ys(e))if(e[Symbol.iterator])o=Array.from(e,(h,s)=>t(h,s,void 0,d&&d[s]));else{const h=Object.keys(e);o=new Array(h.length);for(let s=0,v=h.length;s<v;s++){const R=h[s];o[s]=t(e[R],R,s,d&&d[s])}}else o=[];return n&&(n[r]=o),o}function Bl(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(An(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const d=r.fn(...o);return d&&(d.key=r.key),d}:r.fn)}return e}function xn(e,t,n={},r,o){if(ml.isCE||ml.parent&&z0(ml.parent)&&ml.parent.isCE)return t!=="default"&&(n.name=t),dn("slot",n,r&&r());let d=e[t];d&&d._c&&(d._d=!1),bt();const h=d&&kk(d(n)),s=Ir(cn,{key:n.key||h&&h.key||`_${t}`},h||(r?r():[]),h&&e._===1?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),d&&d._c&&(d._d=!0),s}function kk(e){return e.some(t=>op(t)?!(t.type===gl||t.type===cn&&!kk(t.children)):!0)?e:null}function Ak(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:O0(r)]=e[r];return n}const eT=e=>e?Gk(e)?Nb(e)||e.proxy:eT(e.parent):null,Ly=Ds(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>eT(e.parent),$root:e=>eT(e.root),$emit:e=>e.emit,$options:e=>xS(e),$forceUpdate:e=>e.f||(e.f=()=>kb(e.update)),$nextTick:e=>e.n||(e.n=_c.bind(e.proxy)),$watch:e=>LI.bind(e)}),o3=(e,t)=>e!==Gs&&!e.__isScriptSetup&&bs(e,t),tT={get({_:e},t){const{ctx:n,setupState:r,data:o,props:d,accessCache:h,type:s,appContext:v}=e;let R;if(t[0]!=="$"){const q=h[t];if(q!==void 0)switch(q){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return d[t]}else{if(o3(r,t))return h[t]=1,r[t];if(o!==Gs&&bs(o,t))return h[t]=2,o[t];if((R=e.propsOptions[0])&&bs(R,t))return h[t]=3,d[t];if(n!==Gs&&bs(n,t))return h[t]=4,n[t];iT&&(h[t]=0)}}const J=Ly[t];let k,z;if(J)return t==="$attrs"&&yd(e,"get",t),J(e);if((k=s.__cssModules)&&(k=k[t]))return k;if(n!==Gs&&bs(n,t))return h[t]=4,n[t];if(z=v.config.globalProperties,bs(z,t))return z[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:d}=e;return o3(o,t)?(o[t]=n,!0):r!==Gs&&bs(r,t)?(r[t]=n,!0):bs(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(d[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:d}},h){let s;return!!n[h]||e!==Gs&&bs(e,h)||o3(t,h)||(s=d[0])&&bs(s,h)||bs(r,h)||bs(Ly,h)||bs(o.config.globalProperties,h)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:bs(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},NI=Ds({},tT,{get(e,t){if(t!==Symbol.unscopables)return tT.get(e,t,e)},has(e,t){return t[0]!=="_"&&!bD(t)}});let iT=!0;function FI(e){const t=xS(e),n=e.proxy,r=e.ctx;iT=!1,t.beforeCreate&&kC(t.beforeCreate,e,"bc");const{data:o,computed:d,methods:h,watch:s,provide:v,inject:R,created:J,beforeMount:k,mounted:z,beforeUpdate:q,updated:L,activated:O,deactivated:G,beforeDestroy:M,beforeUnmount:S,destroyed:P,unmounted:H,render:U,renderTracked:E,renderTriggered:ie,errorCaptured:te,serverPrefetch:$,expose:V,inheritAttrs:j,components:w,directives:I,filters:m}=t;if(R&&jI(R,r,null,e.appContext.config.unwrapInjectedRef),h)for(const A in h){const X=h[A];Sr(X)&&(r[A]=X.bind(n))}if(o){const A=o.call(n,n);Ys(A)&&(e.data=ku(A))}if(iT=!0,d)for(const A in d){const X=d[A],Y=Sr(X)?X.bind(n,n):Sr(X.get)?X.get.bind(n,n):yc,K=!Sr(X)&&Sr(X.set)?X.set.bind(n):yc,le=hn({get:Y,set:K});Object.defineProperty(r,A,{enumerable:!0,configurable:!0,get:()=>le.value,set:he=>le.value=he})}if(s)for(const A in s)Pk(s[A],r,n,A);if(v){const A=Sr(v)?v.call(n):v;Reflect.ownKeys(A).forEach(X=>{Vg(X,A[X])})}J&&kC(J,e,"c");function b(A,X){An(X)?X.forEach(Y=>A(Y.bind(n))):X&&A(X.bind(n))}if(b(pS,k),b(Ko,z),b(p_,q),b(Q0,L),b(uS,O),b(hS,G),b(yS,te),b(gS,E),b(mS,ie),b(em,S),b(hh,H),b(fS,$),An(V))if(V.length){const A=e.exposed||(e.exposed={});V.forEach(X=>{Object.defineProperty(A,X,{get:()=>n[X],set:Y=>n[X]=Y})})}else e.exposed||(e.exposed={});U&&e.render===yc&&(e.render=U),j!=null&&(e.inheritAttrs=j),w&&(e.components=w),I&&(e.directives=I)}function jI(e,t,n=yc,r=!1){An(e)&&(e=nT(e));for(const o in e){const d=e[o];let h;Ys(d)?"default"in d?h=B0(d.from||o,d.default,!0):h=B0(d.from||o):h=B0(d),ca(h)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>h.value,set:s=>h.value=s}):t[o]=h}}function kC(e,t,n){Gc(An(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Pk(e,t,n,r){const o=r.includes(".")?wk(n,r):()=>n[r];if(Br(e)){const d=t[e];Sr(d)&&ha(o,d)}else if(Sr(e))ha(o,e.bind(n));else if(Ys(e))if(An(e))e.forEach(d=>Pk(d,t,n,r));else{const d=Sr(e.handler)?e.handler.bind(n):t[e.handler];Sr(d)&&ha(o,d,e)}}function xS(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:d,config:{optionMergeStrategies:h}}=e.appContext,s=d.get(t);let v;return s?v=s:!o.length&&!n&&!r?v=t:(v={},o.length&&o.forEach(R=>Rx(v,R,h,!0)),Rx(v,t,h)),Ys(t)&&d.set(t,v),v}function Rx(e,t,n,r=!1){const{mixins:o,extends:d}=t;d&&Rx(e,d,n,!0),o&&o.forEach(h=>Rx(e,h,n,!0));for(const h in t)if(!(r&&h==="expose")){const s=UI[h]||n&&n[h];e[h]=s?s(e[h],t[h]):t[h]}return e}const UI={data:AC,props:w0,emits:w0,methods:w0,computed:w0,beforeCreate:hc,created:hc,beforeMount:hc,mounted:hc,beforeUpdate:hc,updated:hc,beforeDestroy:hc,beforeUnmount:hc,destroyed:hc,unmounted:hc,activated:hc,deactivated:hc,errorCaptured:hc,serverPrefetch:hc,components:w0,directives:w0,watch:VI,provide:AC,inject:$I};function AC(e,t){return t?e?function(){return Ds(Sr(e)?e.call(this,this):e,Sr(t)?t.call(this,this):t)}:t:e}function $I(e,t){return w0(nT(e),nT(t))}function nT(e){if(An(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function hc(e,t){return e?[...new Set([].concat(e,t))]:t}function w0(e,t){return e?Ds(Ds(Object.create(null),e),t):t}function VI(e,t){if(!e)return t;if(!t)return e;const n=Ds(Object.create(null),e);for(const r in t)n[r]=hc(e[r],t[r]);return n}function GI(e,t,n,r=!1){const o={},d={};Lx(d,zb,1),e.propsDefaults=Object.create(null),Dk(e,t,o,d);for(const h in e.propsOptions[0])h in o||(o[h]=void 0);n?e.props=r?o:nS(o):e.type.props?e.props=o:e.props=d,e.attrs=d}function HI(e,t,n,r){const{props:o,attrs:d,vnode:{patchFlag:h}}=e,s=us(o),[v]=e.propsOptions;let R=!1;if((r||h>0)&&!(h&16)){if(h&8){const J=e.vnode.dynamicProps;for(let k=0;k<J.length;k++){let z=J[k];if(Pb(e.emitsOptions,z))continue;const q=t[z];if(v)if(bs(d,z))q!==d[z]&&(d[z]=q,R=!0);else{const L=tl(z);o[L]=rT(v,s,L,q,e,!1)}else q!==d[z]&&(d[z]=q,R=!0)}}}else{Dk(e,t,o,d)&&(R=!0);let J;for(const k in s)(!t||!bs(t,k)&&((J=md(k))===k||!bs(t,J)))&&(v?n&&(n[k]!==void 0||n[J]!==void 0)&&(o[k]=rT(v,s,k,void 0,e,!0)):delete o[k]);if(d!==s)for(const k in d)(!t||!bs(t,k))&&(delete d[k],R=!0)}R&&sp(e,"set","$attrs")}function Dk(e,t,n,r){const[o,d]=e.propsOptions;let h=!1,s;if(t)for(let v in t){if(L0(v))continue;const R=t[v];let J;o&&bs(o,J=tl(v))?!d||!d.includes(J)?n[J]=R:(s||(s={}))[J]=R:Pb(e.emitsOptions,v)||(!(v in r)||R!==r[v])&&(r[v]=R,h=!0)}if(d){const v=us(n),R=s||Gs;for(let J=0;J<d.length;J++){const k=d[J];n[k]=rT(o,v,k,R[k],e,!bs(R,k))}}return h}function rT(e,t,n,r,o,d){const h=e[n];if(h!=null){const s=bs(h,"default");if(s&&r===void 0){const v=h.default;if(h.type!==Function&&Sr(v)){const{propsDefaults:R}=o;n in R?r=R[n]:(yf(o),r=R[n]=v.call(null,t),af())}else r=v}h[0]&&(d&&!s?r=!1:h[1]&&(r===""||r===md(n))&&(r=!0))}return r}function Ik(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const d=e.props,h={},s=[];let v=!1;if(!Sr(e)){const J=k=>{v=!0;const[z,q]=Ik(k,t,!0);Ds(h,z),q&&s.push(...q)};!n&&t.mixins.length&&t.mixins.forEach(J),e.extends&&J(e.extends),e.mixins&&e.mixins.forEach(J)}if(!d&&!v)return Ys(e)&&r.set(e,mg),mg;if(An(d))for(let J=0;J<d.length;J++){const k=tl(d[J]);PC(k)&&(h[k]=Gs)}else if(d)for(const J in d){const k=tl(J);if(PC(k)){const z=d[J],q=h[k]=An(z)||Sr(z)?{type:z}:Object.assign({},z);if(q){const L=LC(Boolean,q.type),O=LC(String,q.type);q[0]=L>-1,q[1]=O<0||L<O,(L>-1||bs(q,"default"))&&s.push(k)}}}const R=[h,s];return Ys(e)&&r.set(e,R),R}function PC(e){return e[0]!=="$"}function DC(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function IC(e,t){return DC(e)===DC(t)}function LC(e,t){return An(t)?t.findIndex(n=>IC(n,e)):Sr(t)&&IC(t,e)?0:-1}const Lk=e=>e[0]==="_"||e==="$stable",bS=e=>An(e)?e.map(pd):[pd(e)],WI=(e,t,n)=>{if(t._n)return t;const r=Yn((...o)=>bS(t(...o)),n);return r._c=!1,r},Ok=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Lk(o))continue;const d=e[o];if(Sr(d))t[o]=WI(o,d,r);else if(d!=null){const h=bS(d);t[o]=()=>h}}},Rk=(e,t)=>{const n=bS(t);e.slots.default=()=>n},YI=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=us(t),Lx(t,"_",n)):Ok(t,e.slots={})}else e.slots={},t&&Rk(e,t);Lx(e.slots,zb,1)},qI=(e,t,n)=>{const{vnode:r,slots:o}=e;let d=!0,h=Gs;if(r.shapeFlag&32){const s=t._;s?n&&s===1?d=!1:(Ds(o,t),!n&&s===1&&delete o._):(d=!t.$stable,Ok(t,o)),h=t}else t&&(Rk(e,t),h={default:1});if(d)for(const s in o)!Lk(s)&&!(s in h)&&delete o[s]};function Bk(){return{app:null,config:{isNativeTag:vx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let XI=0;function ZI(e,t){return function(r,o=null){Sr(r)||(r=Object.assign({},r)),o!=null&&!Ys(o)&&(o=null);const d=Bk(),h=new Set;let s=!1;const v=d.app={_uid:XI++,_component:r,_props:o,_container:null,_context:d,_instance:null,version:IS,get config(){return d.config},set config(R){},use(R,...J){return h.has(R)||(R&&Sr(R.install)?(h.add(R),R.install(v,...J)):Sr(R)&&(h.add(R),R(v,...J))),v},mixin(R){return d.mixins.includes(R)||d.mixins.push(R),v},component(R,J){return J?(d.components[R]=J,v):d.components[R]},directive(R,J){return J?(d.directives[R]=J,v):d.directives[R]},mount(R,J,k){if(!s){const z=dn(r,o);return z.appContext=d,J&&t?t(z,R):e(z,R,k),s=!0,v._container=R,R.__vue_app__=v,Nb(z.component)||z.component.proxy}},unmount(){s&&(e(null,v._container),delete v._container.__vue_app__)},provide(R,J){return d.provides[R]=J,v}};return v}}function Bx(e,t,n,r,o=!1){if(An(e)){e.forEach((z,q)=>Bx(z,t&&(An(t)?t[q]:t),n,r,o));return}if(z0(r)&&!o)return;const d=r.shapeFlag&4?Nb(r.component)||r.component.proxy:r.el,h=o?null:d,{i:s,r:v}=e,R=t&&t.r,J=s.refs===Gs?s.refs={}:s.refs,k=s.setupState;if(R!=null&&R!==v&&(Br(R)?(J[R]=null,bs(k,R)&&(k[R]=null)):ca(R)&&(R.value=null)),Sr(v))dh(v,s,12,[h,J]);else{const z=Br(v),q=ca(v);if(z||q){const L=()=>{if(e.f){const O=z?bs(k,v)?k[v]:J[v]:v.value;o?An(O)&&ZT(O,d):An(O)?O.includes(d)||O.push(d):z?(J[v]=[d],bs(k,v)&&(k[v]=J[v])):(v.value=[d],e.k&&(J[e.k]=v.value))}else z?(J[v]=h,bs(k,v)&&(k[v]=h)):q&&(v.value=h,e.k&&(J[e.k]=h))};h?(L.id=-1,fl(L,n)):L()}}}let Wp=!1;const Qv=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",ex=e=>e.nodeType===8;function KI(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:d,parentNode:h,remove:s,insert:v,createComment:R}}=e,J=(M,S)=>{if(!S.hasChildNodes()){n(null,M,S),Ox(),S._vnode=M;return}Wp=!1,k(S.firstChild,M,null,null,null),Ox(),S._vnode=M,Wp&&console.error("Hydration completed but contains mismatches.")},k=(M,S,P,H,U,E=!1)=>{const ie=ex(M)&&M.data==="[",te=()=>O(M,S,P,H,U,ie),{type:$,ref:V,shapeFlag:j,patchFlag:w}=S;let I=M.nodeType;S.el=M,w===-2&&(E=!1,S.dynamicChildren=null);let m=null;switch($){case gf:I!==3?S.children===""?(v(S.el=o(""),h(M),M),m=M):m=te():(M.data!==S.children&&(Wp=!0,M.data=S.children),m=d(M));break;case gl:I!==8||ie?m=te():m=d(M);break;case of:if(ie&&(M=d(M),I=M.nodeType),I===1||I===3){m=M;const g=!S.children.length;for(let b=0;b<S.staticCount;b++)g&&(S.children+=m.nodeType===1?m.outerHTML:m.data),b===S.staticCount-1&&(S.anchor=m),m=d(m);return ie?d(m):m}else te();break;case cn:ie?m=L(M,S,P,H,U,E):m=te();break;default:if(j&1)I!==1||S.type.toLowerCase()!==M.tagName.toLowerCase()?m=te():m=z(M,S,P,H,U,E);else if(j&6){S.slotScopeIds=U;const g=h(M);if(t(S,g,null,P,H,Qv(g),E),m=ie?G(M):d(M),m&&ex(m)&&m.data==="teleport end"&&(m=d(m)),z0(S)){let b;ie?(b=dn(cn),b.anchor=m?m.previousSibling:g.lastChild):b=M.nodeType===3?ds(""):dn("div"),b.el=M,S.component.subTree=b}}else j&64?I!==8?m=te():m=S.type.hydrate(M,S,P,H,U,E,e,q):j&128&&(m=S.type.hydrate(M,S,P,H,Qv(h(M)),U,E,e,k))}return V!=null&&Bx(V,null,H,S),m},z=(M,S,P,H,U,E)=>{E=E||!!S.dynamicChildren;const{type:ie,props:te,patchFlag:$,shapeFlag:V,dirs:j}=S,w=ie==="input"&&j||ie==="option";if(w||$!==-1){if(j&&th(S,null,P,"created"),te)if(w||!E||$&48)for(const m in te)(w&&m.endsWith("value")||X0(m)&&!L0(m))&&r(M,m,null,te[m],!1,void 0,P);else te.onClick&&r(M,"onClick",null,te.onClick,!1,void 0,P);let I;if((I=te&&te.onVnodeBeforeMount)&&jc(I,P,S),j&&th(S,null,P,"beforeMount"),((I=te&&te.onVnodeMounted)||j)&&vk(()=>{I&&jc(I,P,S),j&&th(S,null,P,"mounted")},H),V&16&&!(te&&(te.innerHTML||te.textContent))){let m=q(M.firstChild,S,M,P,H,U,E);for(;m;){Wp=!0;const g=m;m=m.nextSibling,s(g)}}else V&8&&M.textContent!==S.children&&(Wp=!0,M.textContent=S.children)}return M.nextSibling},q=(M,S,P,H,U,E,ie)=>{ie=ie||!!S.dynamicChildren;const te=S.children,$=te.length;for(let V=0;V<$;V++){const j=ie?te[V]:te[V]=pd(te[V]);if(M)M=k(M,j,H,U,E,ie);else{if(j.type===gf&&!j.children)continue;Wp=!0,n(null,j,P,null,H,U,Qv(P),E)}}return M},L=(M,S,P,H,U,E)=>{const{slotScopeIds:ie}=S;ie&&(U=U?U.concat(ie):ie);const te=h(M),$=q(d(M),S,te,P,H,U,E);return $&&ex($)&&$.data==="]"?d(S.anchor=$):(Wp=!0,v(S.anchor=R("]"),te,$),$)},O=(M,S,P,H,U,E)=>{if(Wp=!0,S.el=null,E){const $=G(M);for(;;){const V=d(M);if(V&&V!==$)s(V);else break}}const ie=d(M),te=h(M);return s(M),n(null,S,te,ie,P,H,Qv(te),U),ie},G=M=>{let S=0;for(;M;)if(M=d(M),M&&ex(M)&&(M.data==="["&&S++,M.data==="]")){if(S===0)return d(M);S--}return M};return[J,k]}const fl=vk;function wS(e){return zk(e)}function TS(e){return zk(e,KI)}function zk(e,t){const n=jD();n.__VUE__=!0;const{insert:r,remove:o,patchProp:d,createElement:h,createText:s,createComment:v,setText:R,setElementText:J,parentNode:k,nextSibling:z,setScopeId:q=yc,insertStaticContent:L}=e,O=(oe,ye,Se,Re=null,Oe=null,Ue=null,st=!1,Qe=null,qe=!!ye.dynamicChildren)=>{if(oe===ye)return;oe&&!nh(oe,ye)&&(Re=ge(oe),he(oe,Oe,Ue,!0),oe=null),ye.patchFlag===-2&&(qe=!1,ye.dynamicChildren=null);const{type:xe,ref:Ie,shapeFlag:Be}=ye;switch(xe){case gf:G(oe,ye,Se,Re);break;case gl:M(oe,ye,Se,Re);break;case of:oe==null&&S(ye,Se,Re,st);break;case cn:w(oe,ye,Se,Re,Oe,Ue,st,Qe,qe);break;default:Be&1?U(oe,ye,Se,Re,Oe,Ue,st,Qe,qe):Be&6?I(oe,ye,Se,Re,Oe,Ue,st,Qe,qe):(Be&64||Be&128)&&xe.process(oe,ye,Se,Re,Oe,Ue,st,Qe,qe,re)}Ie!=null&&Oe&&Bx(Ie,oe&&oe.ref,Ue,ye||oe,!ye)},G=(oe,ye,Se,Re)=>{if(oe==null)r(ye.el=s(ye.children),Se,Re);else{const Oe=ye.el=oe.el;ye.children!==oe.children&&R(Oe,ye.children)}},M=(oe,ye,Se,Re)=>{oe==null?r(ye.el=v(ye.children||""),Se,Re):ye.el=oe.el},S=(oe,ye,Se,Re)=>{[oe.el,oe.anchor]=L(oe.children,ye,Se,Re,oe.el,oe.anchor)},P=({el:oe,anchor:ye},Se,Re)=>{let Oe;for(;oe&&oe!==ye;)Oe=z(oe),r(oe,Se,Re),oe=Oe;r(ye,Se,Re)},H=({el:oe,anchor:ye})=>{let Se;for(;oe&&oe!==ye;)Se=z(oe),o(oe),oe=Se;o(ye)},U=(oe,ye,Se,Re,Oe,Ue,st,Qe,qe)=>{st=st||ye.type==="svg",oe==null?E(ye,Se,Re,Oe,Ue,st,Qe,qe):$(oe,ye,Oe,Ue,st,Qe,qe)},E=(oe,ye,Se,Re,Oe,Ue,st,Qe)=>{let qe,xe;const{type:Ie,props:Be,shapeFlag:Xe,transition:Ke,dirs:pt}=oe;if(qe=oe.el=h(oe.type,Ue,Be&&Be.is,Be),Xe&8?J(qe,oe.children):Xe&16&&te(oe.children,qe,null,Re,Oe,Ue&&Ie!=="foreignObject",st,Qe),pt&&th(oe,null,Re,"created"),Be){for(const Lt in Be)Lt!=="value"&&!L0(Lt)&&d(qe,Lt,null,Be[Lt],Ue,oe.children,Re,Oe,ce);"value"in Be&&d(qe,"value",null,Be.value),(xe=Be.onVnodeBeforeMount)&&jc(xe,Re,oe)}ie(qe,oe,oe.scopeId,st,Re),pt&&th(oe,null,Re,"beforeMount");const Tt=(!Oe||Oe&&!Oe.pendingBranch)&&Ke&&!Ke.persisted;Tt&&Ke.beforeEnter(qe),r(qe,ye,Se),((xe=Be&&Be.onVnodeMounted)||Tt||pt)&&fl(()=>{xe&&jc(xe,Re,oe),Tt&&Ke.enter(qe),pt&&th(oe,null,Re,"mounted")},Oe)},ie=(oe,ye,Se,Re,Oe)=>{if(Se&&q(oe,Se),Re)for(let Ue=0;Ue<Re.length;Ue++)q(oe,Re[Ue]);if(Oe){let Ue=Oe.subTree;if(ye===Ue){const st=Oe.vnode;ie(oe,st,st.scopeId,st.slotScopeIds,Oe.parent)}}},te=(oe,ye,Se,Re,Oe,Ue,st,Qe,qe=0)=>{for(let xe=qe;xe<oe.length;xe++){const Ie=oe[xe]=Qe?Jp(oe[xe]):pd(oe[xe]);O(null,Ie,ye,Se,Re,Oe,Ue,st,Qe)}},$=(oe,ye,Se,Re,Oe,Ue,st)=>{const Qe=ye.el=oe.el;let{patchFlag:qe,dynamicChildren:xe,dirs:Ie}=ye;qe|=oe.patchFlag&16;const Be=oe.props||Gs,Xe=ye.props||Gs;let Ke;Se&&y0(Se,!1),(Ke=Xe.onVnodeBeforeUpdate)&&jc(Ke,Se,ye,oe),Ie&&th(ye,oe,Se,"beforeUpdate"),Se&&y0(Se,!0);const pt=Oe&&ye.type!=="foreignObject";if(xe?V(oe.dynamicChildren,xe,Qe,Se,Re,pt,Ue):st||X(oe,ye,Qe,null,Se,Re,pt,Ue,!1),qe>0){if(qe&16)j(Qe,ye,Be,Xe,Se,Re,Oe);else if(qe&2&&Be.class!==Xe.class&&d(Qe,"class",null,Xe.class,Oe),qe&4&&d(Qe,"style",Be.style,Xe.style,Oe),qe&8){const Tt=ye.dynamicProps;for(let Lt=0;Lt<Tt.length;Lt++){const gi=Tt[Lt],Wt=Be[gi],pi=Xe[gi];(pi!==Wt||gi==="value")&&d(Qe,gi,Wt,pi,Oe,oe.children,Se,Re,ce)}}qe&1&&oe.children!==ye.children&&J(Qe,ye.children)}else!st&&xe==null&&j(Qe,ye,Be,Xe,Se,Re,Oe);((Ke=Xe.onVnodeUpdated)||Ie)&&fl(()=>{Ke&&jc(Ke,Se,ye,oe),Ie&&th(ye,oe,Se,"updated")},Re)},V=(oe,ye,Se,Re,Oe,Ue,st)=>{for(let Qe=0;Qe<ye.length;Qe++){const qe=oe[Qe],xe=ye[Qe],Ie=qe.el&&(qe.type===cn||!nh(qe,xe)||qe.shapeFlag&70)?k(qe.el):Se;O(qe,xe,Ie,null,Re,Oe,Ue,st,!0)}},j=(oe,ye,Se,Re,Oe,Ue,st)=>{if(Se!==Re){if(Se!==Gs)for(const Qe in Se)!L0(Qe)&&!(Qe in Re)&&d(oe,Qe,Se[Qe],null,st,ye.children,Oe,Ue,ce);for(const Qe in Re){if(L0(Qe))continue;const qe=Re[Qe],xe=Se[Qe];qe!==xe&&Qe!=="value"&&d(oe,Qe,xe,qe,st,ye.children,Oe,Ue,ce)}"value"in Re&&d(oe,"value",Se.value,Re.value)}},w=(oe,ye,Se,Re,Oe,Ue,st,Qe,qe)=>{const xe=ye.el=oe?oe.el:s(""),Ie=ye.anchor=oe?oe.anchor:s("");let{patchFlag:Be,dynamicChildren:Xe,slotScopeIds:Ke}=ye;Ke&&(Qe=Qe?Qe.concat(Ke):Ke),oe==null?(r(xe,Se,Re),r(Ie,Se,Re),te(ye.children,Se,Ie,Oe,Ue,st,Qe,qe)):Be>0&&Be&64&&Xe&&oe.dynamicChildren?(V(oe.dynamicChildren,Xe,Se,Oe,Ue,st,Qe),(ye.key!=null||Oe&&ye===Oe.subTree)&&SS(oe,ye,!0)):X(oe,ye,Se,Ie,Oe,Ue,st,Qe,qe)},I=(oe,ye,Se,Re,Oe,Ue,st,Qe,qe)=>{ye.slotScopeIds=Qe,oe==null?ye.shapeFlag&512?Oe.ctx.activate(ye,Se,Re,st,qe):m(ye,Se,Re,Oe,Ue,st,qe):g(oe,ye,qe)},m=(oe,ye,Se,Re,Oe,Ue,st)=>{const Qe=oe.component=Vk(oe,Re,Oe);if(h_(oe)&&(Qe.ctx.renderer=re),Hk(Qe),Qe.asyncDep){if(Oe&&Oe.registerDep(Qe,b),!oe.el){const qe=Qe.subTree=dn(gl);M(null,qe,ye,Se)}return}b(Qe,oe,ye,Se,Oe,Ue,st)},g=(oe,ye,Se)=>{const Re=ye.component=oe.component;if(MI(oe,ye,Se))if(Re.asyncDep&&!Re.asyncResolved){A(Re,ye,Se);return}else Re.next=ye,bI(Re.update),Re.update();else ye.el=oe.el,Re.vnode=ye},b=(oe,ye,Se,Re,Oe,Ue,st)=>{const Qe=()=>{if(oe.isMounted){let{next:Ie,bu:Be,u:Xe,parent:Ke,vnode:pt}=oe,Tt=Ie,Lt;y0(oe,!1),Ie?(Ie.el=pt.el,A(oe,Ie,st)):Ie=pt,Be&&yg(Be),(Lt=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&jc(Lt,Ke,Ie,pt),y0(oe,!0);const gi=xx(oe),Wt=oe.subTree;oe.subTree=gi,O(Wt,gi,k(Wt.el),ge(Wt),oe,Oe,Ue),Ie.el=gi.el,Tt===null&&lS(oe,gi.el),Xe&&fl(Xe,Oe),(Lt=Ie.props&&Ie.props.onVnodeUpdated)&&fl(()=>jc(Lt,Ke,Ie,pt),Oe)}else{let Ie;const{el:Be,props:Xe}=ye,{bm:Ke,m:pt,parent:Tt}=oe,Lt=z0(ye);if(y0(oe,!1),Ke&&yg(Ke),!Lt&&(Ie=Xe&&Xe.onVnodeBeforeMount)&&jc(Ie,Tt,ye),y0(oe,!0),Be&&_e){const gi=()=>{oe.subTree=xx(oe),_e(Be,oe.subTree,oe,Oe,null)};Lt?ye.type.__asyncLoader().then(()=>!oe.isUnmounted&&gi()):gi()}else{const gi=oe.subTree=xx(oe);O(null,gi,Se,Re,oe,Oe,Ue),ye.el=gi.el}if(pt&&fl(pt,Oe),!Lt&&(Ie=Xe&&Xe.onVnodeMounted)){const gi=ye;fl(()=>jc(Ie,Tt,gi),Oe)}(ye.shapeFlag&256||Tt&&z0(Tt.vnode)&&Tt.vnode.shapeFlag&256)&&oe.a&&fl(oe.a,Oe),oe.isMounted=!0,ye=Se=Re=null}},qe=oe.effect=new jg(Qe,()=>kb(xe),oe.scope),xe=oe.update=()=>qe.run();xe.id=oe.uid,y0(oe,!0),xe()},A=(oe,ye,Se)=>{ye.component=oe;const Re=oe.vnode.props;oe.vnode=ye,oe.next=null,HI(oe,ye.props,Re,Se),qI(oe,ye.children,Se),Ug(),TC(),$g()},X=(oe,ye,Se,Re,Oe,Ue,st,Qe,qe=!1)=>{const xe=oe&&oe.children,Ie=oe?oe.shapeFlag:0,Be=ye.children,{patchFlag:Xe,shapeFlag:Ke}=ye;if(Xe>0){if(Xe&128){K(xe,Be,Se,Re,Oe,Ue,st,Qe,qe);return}else if(Xe&256){Y(xe,Be,Se,Re,Oe,Ue,st,Qe,qe);return}}Ke&8?(Ie&16&&ce(xe,Oe,Ue),Be!==xe&&J(Se,Be)):Ie&16?Ke&16?K(xe,Be,Se,Re,Oe,Ue,st,Qe,qe):ce(xe,Oe,Ue,!0):(Ie&8&&J(Se,""),Ke&16&&te(Be,Se,Re,Oe,Ue,st,Qe,qe))},Y=(oe,ye,Se,Re,Oe,Ue,st,Qe,qe)=>{oe=oe||mg,ye=ye||mg;const xe=oe.length,Ie=ye.length,Be=Math.min(xe,Ie);let Xe;for(Xe=0;Xe<Be;Xe++){const Ke=ye[Xe]=qe?Jp(ye[Xe]):pd(ye[Xe]);O(oe[Xe],Ke,Se,null,Oe,Ue,st,Qe,qe)}xe>Ie?ce(oe,Oe,Ue,!0,!1,Be):te(ye,Se,Re,Oe,Ue,st,Qe,qe,Be)},K=(oe,ye,Se,Re,Oe,Ue,st,Qe,qe)=>{let xe=0;const Ie=ye.length;let Be=oe.length-1,Xe=Ie-1;for(;xe<=Be&&xe<=Xe;){const Ke=oe[xe],pt=ye[xe]=qe?Jp(ye[xe]):pd(ye[xe]);if(nh(Ke,pt))O(Ke,pt,Se,null,Oe,Ue,st,Qe,qe);else break;xe++}for(;xe<=Be&&xe<=Xe;){const Ke=oe[Be],pt=ye[Xe]=qe?Jp(ye[Xe]):pd(ye[Xe]);if(nh(Ke,pt))O(Ke,pt,Se,null,Oe,Ue,st,Qe,qe);else break;Be--,Xe--}if(xe>Be){if(xe<=Xe){const Ke=Xe+1,pt=Ke<Ie?ye[Ke].el:Re;for(;xe<=Xe;)O(null,ye[xe]=qe?Jp(ye[xe]):pd(ye[xe]),Se,pt,Oe,Ue,st,Qe,qe),xe++}}else if(xe>Xe)for(;xe<=Be;)he(oe[xe],Oe,Ue,!0),xe++;else{const Ke=xe,pt=xe,Tt=new Map;for(xe=pt;xe<=Xe;xe++){const ei=ye[xe]=qe?Jp(ye[xe]):pd(ye[xe]);ei.key!=null&&Tt.set(ei.key,xe)}let Lt,gi=0;const Wt=Xe-pt+1;let pi=!1,Gi=0;const ht=new Array(Wt);for(xe=0;xe<Wt;xe++)ht[xe]=0;for(xe=Ke;xe<=Be;xe++){const ei=oe[xe];if(gi>=Wt){he(ei,Oe,Ue,!0);continue}let Pi;if(ei.key!=null)Pi=Tt.get(ei.key);else for(Lt=pt;Lt<=Xe;Lt++)if(ht[Lt-pt]===0&&nh(ei,ye[Lt])){Pi=Lt;break}Pi===void 0?he(ei,Oe,Ue,!0):(ht[Pi-pt]=xe+1,Pi>=Gi?Gi=Pi:pi=!0,O(ei,ye[Pi],Se,null,Oe,Ue,st,Qe,qe),gi++)}const It=pi?JI(ht):mg;for(Lt=It.length-1,xe=Wt-1;xe>=0;xe--){const ei=pt+xe,Pi=ye[ei],an=ei+1<Ie?ye[ei+1].el:Re;ht[xe]===0?O(null,Pi,Se,an,Oe,Ue,st,Qe,qe):pi&&(Lt<0||xe!==It[Lt]?le(Pi,Se,an,2):Lt--)}}},le=(oe,ye,Se,Re,Oe=null)=>{const{el:Ue,type:st,transition:Qe,children:qe,shapeFlag:xe}=oe;if(xe&6){le(oe.component.subTree,ye,Se,Re);return}if(xe&128){oe.suspense.move(ye,Se,Re);return}if(xe&64){st.move(oe,ye,Se,re);return}if(st===cn){r(Ue,ye,Se);for(let Be=0;Be<qe.length;Be++)le(qe[Be],ye,Se,Re);r(oe.anchor,ye,Se);return}if(st===of){P(oe,ye,Se);return}if(Re!==2&&xe&1&&Qe)if(Re===0)Qe.beforeEnter(Ue),r(Ue,ye,Se),fl(()=>Qe.enter(Ue),Oe);else{const{leave:Be,delayLeave:Xe,afterLeave:Ke}=Qe,pt=()=>r(Ue,ye,Se),Tt=()=>{Be(Ue,()=>{pt(),Ke&&Ke()})};Xe?Xe(Ue,pt,Tt):Tt()}else r(Ue,ye,Se)},he=(oe,ye,Se,Re=!1,Oe=!1)=>{const{type:Ue,props:st,ref:Qe,children:qe,dynamicChildren:xe,shapeFlag:Ie,patchFlag:Be,dirs:Xe}=oe;if(Qe!=null&&Bx(Qe,null,Se,oe,!0),Ie&256){ye.ctx.deactivate(oe);return}const Ke=Ie&1&&Xe,pt=!z0(oe);let Tt;if(pt&&(Tt=st&&st.onVnodeBeforeUnmount)&&jc(Tt,ye,oe),Ie&6)Q(oe.component,Se,Re);else{if(Ie&128){oe.suspense.unmount(Se,Re);return}Ke&&th(oe,null,ye,"beforeUnmount"),Ie&64?oe.type.remove(oe,ye,Se,Oe,re,Re):xe&&(Ue!==cn||Be>0&&Be&64)?ce(xe,ye,Se,!1,!0):(Ue===cn&&Be&384||!Oe&&Ie&16)&&ce(qe,ye,Se),Re&&pe(oe)}(pt&&(Tt=st&&st.onVnodeUnmounted)||Ke)&&fl(()=>{Tt&&jc(Tt,ye,oe),Ke&&th(oe,null,ye,"unmounted")},Se)},pe=oe=>{const{type:ye,el:Se,anchor:Re,transition:Oe}=oe;if(ye===cn){F(Se,Re);return}if(ye===of){H(oe);return}const Ue=()=>{o(Se),Oe&&!Oe.persisted&&Oe.afterLeave&&Oe.afterLeave()};if(oe.shapeFlag&1&&Oe&&!Oe.persisted){const{leave:st,delayLeave:Qe}=Oe,qe=()=>st(Se,Ue);Qe?Qe(oe.el,Ue,qe):qe()}else Ue()},F=(oe,ye)=>{let Se;for(;oe!==ye;)Se=z(oe),o(oe),oe=Se;o(ye)},Q=(oe,ye,Se)=>{const{bum:Re,scope:Oe,update:Ue,subTree:st,um:Qe}=oe;Re&&yg(Re),Oe.stop(),Ue&&(Ue.active=!1,he(st,oe,ye,Se)),Qe&&fl(Qe,ye),fl(()=>{oe.isUnmounted=!0},ye),ye&&ye.pendingBranch&&!ye.isUnmounted&&oe.asyncDep&&!oe.asyncResolved&&oe.suspenseId===ye.pendingId&&(ye.deps--,ye.deps===0&&ye.resolve())},ce=(oe,ye,Se,Re=!1,Oe=!1,Ue=0)=>{for(let st=Ue;st<oe.length;st++)he(oe[st],ye,Se,Re,Oe)},ge=oe=>oe.shapeFlag&6?ge(oe.component.subTree):oe.shapeFlag&128?oe.suspense.next():z(oe.anchor||oe.el),ke=(oe,ye,Se)=>{oe==null?ye._vnode&&he(ye._vnode,null,null,!0):O(ye._vnode||null,oe,ye,null,null,null,Se),TC(),Ox(),ye._vnode=oe},re={p:O,um:he,m:le,r:pe,mt:m,mc:te,pc:X,pbc:V,n:ge,o:e};let ve,_e;return t&&([ve,_e]=t(re)),{render:ke,hydrate:ve,createApp:ZI(ke,ve)}}function y0({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function SS(e,t,n=!1){const r=e.children,o=t.children;if(An(r)&&An(o))for(let d=0;d<r.length;d++){const h=r[d];let s=o[d];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[d]=Jp(o[d]),s.el=h.el),n||SS(h,s)),s.type===gf&&(s.el=h.el)}}function JI(e){const t=e.slice(),n=[0];let r,o,d,h,s;const v=e.length;for(r=0;r<v;r++){const R=e[r];if(R!==0){if(o=n[n.length-1],e[o]<R){t[r]=o,n.push(r);continue}for(d=0,h=n.length-1;d<h;)s=d+h>>1,e[n[s]]<R?d=s+1:h=s;R<e[n[d]]&&(d>0&&(t[r]=n[d-1]),n[d]=r)}}for(d=n.length,h=n[d-1];d-- >0;)n[d]=h,h=t[h];return n}const QI=e=>e.__isTeleport,Oy=e=>e&&(e.disabled||e.disabled===""),OC=e=>typeof SVGElement<"u"&&e instanceof SVGElement,sT=(e,t)=>{const n=e&&e.to;return Br(n)?t?t(n):null:n},eL={__isTeleport:!0,process(e,t,n,r,o,d,h,s,v,R){const{mc:J,pc:k,pbc:z,o:{insert:q,querySelector:L,createText:O,createComment:G}}=R,M=Oy(t.props);let{shapeFlag:S,children:P,dynamicChildren:H}=t;if(e==null){const U=t.el=O(""),E=t.anchor=O("");q(U,n,r),q(E,n,r);const ie=t.target=sT(t.props,L),te=t.targetAnchor=O("");ie&&(q(te,ie),h=h||OC(ie));const $=(V,j)=>{S&16&&J(P,V,j,o,d,h,s,v)};M?$(n,E):ie&&$(ie,te)}else{t.el=e.el;const U=t.anchor=e.anchor,E=t.target=e.target,ie=t.targetAnchor=e.targetAnchor,te=Oy(e.props),$=te?n:E,V=te?U:ie;if(h=h||OC(E),H?(z(e.dynamicChildren,H,$,o,d,h,s),SS(e,t,!0)):v||k(e,t,$,V,o,d,h,s,!1),M)te||tx(t,n,U,R,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=sT(t.props,L);j&&tx(t,j,null,R,0)}else te&&tx(t,E,ie,R,1)}Nk(t)},remove(e,t,n,r,{um:o,o:{remove:d}},h){const{shapeFlag:s,children:v,anchor:R,targetAnchor:J,target:k,props:z}=e;if(k&&d(J),(h||!Oy(z))&&(d(R),s&16))for(let q=0;q<v.length;q++){const L=v[q];o(L,t,n,!0,!!L.dynamicChildren)}},move:tx,hydrate:tL};function tx(e,t,n,{o:{insert:r},m:o},d=2){d===0&&r(e.targetAnchor,t,n);const{el:h,anchor:s,shapeFlag:v,children:R,props:J}=e,k=d===2;if(k&&r(h,t,n),(!k||Oy(J))&&v&16)for(let z=0;z<R.length;z++)o(R[z],t,n,2);k&&r(s,t,n)}function tL(e,t,n,r,o,d,{o:{nextSibling:h,parentNode:s,querySelector:v}},R){const J=t.target=sT(t.props,v);if(J){const k=J._lpa||J.firstChild;if(t.shapeFlag&16)if(Oy(t.props))t.anchor=R(h(e),t,s(e),n,r,o,d),t.targetAnchor=k;else{t.anchor=h(e);let z=k;for(;z;)if(z=h(z),z&&z.nodeType===8&&z.data==="teleport anchor"){t.targetAnchor=z,J._lpa=t.targetAnchor&&h(t.targetAnchor);break}R(k,t,J,n,r,o,d)}Nk(t)}return t.anchor&&h(t.anchor)}const CS=eL;function Nk(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const cn=Symbol(void 0),gf=Symbol(void 0),gl=Symbol(void 0),of=Symbol(void 0),Ry=[];let $c=null;function bt(e=!1){Ry.push($c=e?null:[])}function Fk(){Ry.pop(),$c=Ry[Ry.length-1]||null}let G0=1;function zx(e){G0+=e}function jk(e){return e.dynamicChildren=G0>0?$c||mg:null,Fk(),G0>0&&$c&&$c.push(e),e}function Bt(e,t,n,r,o,d){return jk(Ye(e,t,n,r,o,d,!0))}function Ir(e,t,n,r,o){return jk(dn(e,t,n,r,o,!0))}function op(e){return e?e.__v_isVNode===!0:!1}function nh(e,t){return e.type===t.type&&e.key===t.key}function Uk(e){}const zb="__vInternal",$k=({key:e})=>e??null,bx=({ref:e,ref_key:t,ref_for:n})=>e!=null?Br(e)||ca(e)||Sr(e)?{i:ml,r:e,k:t,f:!!n}:e:null;function Ye(e,t=null,n=null,r=0,o=null,d=e===cn?0:1,h=!1,s=!1){const v={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$k(t),ref:t&&bx(t),scopeId:Db,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ml};return s?(ES(v,n),d&128&&e.normalize(v)):n&&(v.shapeFlag|=Br(n)?8:16),G0>0&&!h&&$c&&(v.patchFlag>0||d&6)&&v.patchFlag!==32&&$c.push(v),v}const dn=iL;function iL(e,t=null,n=null,r=0,o=null,d=!1){if((!e||e===Mk)&&(e=gl),op(e)){const s=Tu(e,t,!0);return n&&ES(s,n),G0>0&&!d&&$c&&(s.shapeFlag&6?$c[$c.indexOf(e)]=s:$c.push(s)),s.patchFlag|=-2,s}if(aL(e)&&(e=e.__vccOpts),t){t=Ol(t);let{class:s,style:v}=t;s&&!Br(s)&&(t.class=ar(s)),Ys(v)&&(Sb(v)&&!An(v)&&(v=Ds({},v)),t.style=el(v))}const h=Br(e)?1:yk(e)?128:QI(e)?64:Ys(e)?4:Sr(e)?2:0;return Ye(e,t,n,r,o,h,d,!0)}function Ol(e){return e?Sb(e)||zb in e?Ds({},e):e:null}function Tu(e,t,n=!1){const{props:r,ref:o,patchFlag:d,children:h}=e,s=t?Yo(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&$k(s),ref:t&&t.ref?n&&o?An(o)?o.concat(bx(t)):[o,bx(t)]:bx(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==cn?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Tu(e.ssContent),ssFallback:e.ssFallback&&Tu(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function ds(e=" ",t=0){return dn(gf,null,e,t)}function _d(e,t){const n=dn(of,null,e);return n.staticCount=t,n}function vi(e="",t=!1){return t?(bt(),Ir(gl,null,e)):dn(gl,null,e)}function pd(e){return e==null||typeof e=="boolean"?dn(gl):An(e)?dn(cn,null,e.slice()):typeof e=="object"?Jp(e):dn(gf,null,String(e))}function Jp(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Tu(e)}function ES(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(An(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),ES(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(zb in t)?t._ctx=ml:o===3&&ml&&(ml.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Sr(t)?(t={default:t,_ctx:ml},n=32):(t=String(t),r&64?(n=16,t=[ds(t)]):n=8);e.children=t,e.shapeFlag|=n}function Yo(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=ar([t.class,r.class]));else if(o==="style")t.style=el([t.style,r.style]);else if(X0(o)){const d=t[o],h=r[o];h&&d!==h&&!(An(d)&&d.includes(h))&&(t[o]=d?[].concat(d,h):h)}else o!==""&&(t[o]=r[o])}return t}function jc(e,t,n,r=null){Gc(e,t,7,[n,r])}const nL=Bk();let rL=0;function Vk(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||nL,d={uid:rL++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new _b(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ik(r,o),emitsOptions:mk(r,o),emit:null,emitted:null,propsDefaults:Gs,inheritAttrs:r.inheritAttrs,ctx:Gs,data:Gs,props:Gs,attrs:Gs,slots:Gs,refs:Gs,setupState:Gs,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=TI.bind(null,d),e.ce&&e.ce(d),d}let Ba=null;const dp=()=>Ba||ml,yf=e=>{Ba=e,e.scope.on()},af=()=>{Ba&&Ba.scope.off(),Ba=null};function Gk(e){return e.vnode.shapeFlag&4}let Ag=!1;function Hk(e,t=!1){Ag=t;const{props:n,children:r}=e.vnode,o=Gk(e);GI(e,n,o,t),YI(e,r);const d=o?sL(e,t):void 0;return Ag=!1,d}function sL(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Cb(new Proxy(e.ctx,tT));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?qk(e):null;yf(e),Ug();const d=dh(r,e,0,[e.props,o]);if($g(),af(),KT(d)){if(d.then(af,af),t)return d.then(h=>{oT(e,h,t)}).catch(h=>{wf(h,e,0)});e.asyncDep=d}else oT(e,d,t)}else Yk(e,t)}function oT(e,t,n){Sr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ys(t)&&(e.setupState=Mb(t)),Yk(e,n)}let Nx,aT;function MS(e){Nx=e,aT=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,NI))}}const Wk=()=>!Nx;function Yk(e,t,n){const r=e.type;if(!e.render){if(!t&&Nx&&!r.render){const o=r.template||xS(e).template;if(o){const{isCustomElement:d,compilerOptions:h}=e.appContext.config,{delimiters:s,compilerOptions:v}=r,R=Ds(Ds({isCustomElement:d,delimiters:s},h),v);r.render=Nx(o,R)}}e.render=r.render||yc,aT&&aT(e)}yf(e),Ug(),FI(e),$g(),af()}function oL(e){return new Proxy(e.attrs,{get(t,n){return yd(e,"get","$attrs"),t[n]}})}function qk(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=oL(e))},slots:e.slots,emit:e.emit,expose:t}}function Nb(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Mb(Cb(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ly)return Ly[n](e)},has(t,n){return n in t||n in Ly}}))}function lT(e,t=!0){return Sr(e)?e.displayName||e.name:e.name||t&&e.__name}function aL(e){return Sr(e)&&"__vccOpts"in e}const hn=(e,t)=>_I(e,t,Ag);function Xk(){return null}function Zk(){return null}function Kk(e){}function Jk(e,t){return null}function f_(){return Qk().slots}function kS(){return Qk().attrs}function Qk(){const e=dp();return e.setupContext||(e.setupContext=qk(e))}function eA(e,t){const n=An(e)?e.reduce((r,o)=>(r[o]={},r),{}):e;for(const r in t){const o=n[r];o?An(o)||Sr(o)?n[r]={type:o,default:t[r]}:o.default=t[r]:o===null&&(n[r]={default:t[r]})}return n}function tA(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function iA(e){const t=dp();let n=e();return af(),KT(n)&&(n=n.catch(r=>{throw yf(t),r})),[n,()=>yf(t)]}function Uc(e,t,n){const r=arguments.length;return r===2?Ys(t)&&!An(t)?op(t)?dn(e,null,[t]):dn(e,t):dn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&op(n)&&(n=[n]),dn(e,t,n))}const AS=Symbol(""),PS=()=>B0(AS);function nA(){}function rA(e,t,n,r){const o=n[r];if(o&&DS(o,e))return o;const d=t();return d.memo=e.slice(),n[r]=d}function DS(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(Mg(n[r],t[r]))return!1;return G0>0&&$c&&$c.push(e),!0}const IS="3.2.45",lL={createComponentInstance:Vk,setupComponent:Hk,renderComponentRoot:xx,setCurrentRenderingInstance:Yy,isVNode:op,normalizeVNode:pd},sA=lL,oA=null,aA=null,cL="http://www.w3.org/2000/svg",M0=typeof document<"u"?document:null,RC=M0&&M0.createElement("template"),dL={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?M0.createElementNS(cL,e):M0.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>M0.createTextNode(e),createComment:e=>M0.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>M0.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,d){const h=n?n.previousSibling:t.lastChild;if(o&&(o===d||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===d||!(o=o.nextSibling)););else{RC.innerHTML=r?`<svg>${e}</svg>`:e;const s=RC.content;if(r){const v=s.firstChild;for(;v.firstChild;)s.appendChild(v.firstChild);s.removeChild(v)}t.insertBefore(s,n)}return[h?h.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function uL(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function hL(e,t,n){const r=e.style,o=Br(n);if(n&&!o){for(const d in n)cT(r,d,n[d]);if(t&&!Br(t))for(const d in t)n[d]==null&&cT(r,d,"")}else{const d=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=d)}}const BC=/\s*!important$/;function cT(e,t,n){if(An(n))n.forEach(r=>cT(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=pL(e,t);BC.test(n)?e.setProperty(md(r),n.replace(BC,""),"important"):e[r]=n}}const zC=["Webkit","Moz","ms"],a3={};function pL(e,t){const n=a3[t];if(n)return n;let r=tl(t);if(r!=="filter"&&r in e)return a3[t]=r;r=bf(r);for(let o=0;o<zC.length;o++){const d=zC[o]+r;if(d in e)return a3[t]=d}return t}const NC="http://www.w3.org/1999/xlink";function fL(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(NC,t.slice(6,t.length)):e.setAttributeNS(NC,t,n);else{const d=ID(t);n==null||d&&!NM(n)?e.removeAttribute(t):e.setAttribute(t,d?"":n)}}function mL(e,t,n,r,o,d,h){if(t==="innerHTML"||t==="textContent"){r&&h(r,o,d),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const v=n??"";(e.value!==v||e.tagName==="OPTION")&&(e.value=v),n==null&&e.removeAttribute(t);return}let s=!1;if(n===""||n==null){const v=typeof e[t];v==="boolean"?n=NM(n):n==null&&v==="string"?(n="",s=!0):v==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function qh(e,t,n,r){e.addEventListener(t,n,r)}function gL(e,t,n,r){e.removeEventListener(t,n,r)}function yL(e,t,n,r,o=null){const d=e._vei||(e._vei={}),h=d[t];if(r&&h)h.value=r;else{const[s,v]=_L(t);if(r){const R=d[t]=bL(r,o);qh(e,s,R,v)}else h&&(gL(e,s,h,v),d[t]=void 0)}}const FC=/(?:Once|Passive|Capture)$/;function _L(e){let t;if(FC.test(e)){t={};let r;for(;r=e.match(FC);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):md(e.slice(2)),t]}let l3=0;const vL=Promise.resolve(),xL=()=>l3||(vL.then(()=>l3=0),l3=Date.now());function bL(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Gc(wL(r,n.value),t,5,[r])};return n.value=e,n.attached=xL(),n}function wL(e,t){if(An(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const jC=/^on[a-z]/,TL=(e,t,n,r,o=!1,d,h,s,v)=>{t==="class"?uL(e,r,o):t==="style"?hL(e,n,r):X0(t)?XT(t)||yL(e,t,n,r,h):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):SL(e,t,r,o))?mL(e,t,r,d,h,s,v):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),fL(e,t,r,o))};function SL(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&jC.test(t)&&Sr(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||jC.test(t)&&Br(n)?!1:t in e}function LS(e,t){const n=xc(e);class r extends m_{constructor(d){super(n,d,t)}}return r.def=n,r}const lA=e=>LS(e,RS),CL=typeof HTMLElement<"u"?HTMLElement:class{};class m_ extends CL{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,_c(()=>{this._connected||(Fx(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const o of r)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=(r,o=!1)=>{const{props:d,styles:h}=r;let s;if(d&&!An(d))for(const v in d){const R=d[v];(R===Number||R&&R.type===Number)&&(v in this._props&&(this._props[v]=rp(this._props[v])),(s||(s=Object.create(null)))[tl(v)]=!0)}this._numberProps=s,o&&this._resolveProps(r),this._applyStyles(h),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=An(n)?n:Object.keys(n||{});for(const o of Object.keys(this))o[0]!=="_"&&r.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of r.map(tl))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(d){this._setProp(o,d)}})}_setAttr(t){let n=this.getAttribute(t);const r=tl(t);this._numberProps&&this._numberProps[r]&&(n=rp(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,o=!0){n!==this._props[t]&&(this._props[t]=n,o&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(md(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(md(t),n+""):n||this.removeAttribute(md(t))))}_update(){Fx(this._createVNode(),this.shadowRoot)}_createVNode(){const t=dn(this._def,Ds({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(d,h)=>{this.dispatchEvent(new CustomEvent(d,{detail:h}))};n.emit=(d,...h)=>{r(d,h),md(d)!==d&&r(md(d),h)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof m_){n.parent=o._instance,n.provides=o._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function cA(e="$style"){{const t=dp();if(!t)return Gs;const n=t.type.__cssModules;if(!n)return Gs;const r=n[e];return r||Gs}}function dA(e){const t=dp();if(!t)return;const n=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(d=>uT(d,o))},r=()=>{const o=e(t.proxy);dT(t.subTree,o),n(o)};dS(r),Ko(()=>{const o=new MutationObserver(r);o.observe(t.subTree.el.parentNode,{childList:!0}),hh(()=>o.disconnect())})}function dT(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{dT(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)uT(e.el,t);else if(e.type===cn)e.children.forEach(n=>dT(n,t));else if(e.type===of){let{el:n,anchor:r}=e;for(;n&&(uT(n,t),n!==r);)n=n.nextSibling}}function uT(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const Yp="transition",by="animation",Au=(e,{slots:t})=>Uc(Lb,hA(e),t);Au.displayName="Transition";const uA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},EL=Au.props=Ds({},Lb.props,uA),_0=(e,t=[])=>{An(e)?e.forEach(n=>n(...t)):e&&e(...t)},UC=e=>e?An(e)?e.some(t=>t.length>1):e.length>1:!1;function hA(e){const t={};for(const w in e)w in uA||(t[w]=e[w]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:d=`${n}-enter-from`,enterActiveClass:h=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:v=d,appearActiveClass:R=h,appearToClass:J=s,leaveFromClass:k=`${n}-leave-from`,leaveActiveClass:z=`${n}-leave-active`,leaveToClass:q=`${n}-leave-to`}=e,L=ML(o),O=L&&L[0],G=L&&L[1],{onBeforeEnter:M,onEnter:S,onEnterCancelled:P,onLeave:H,onLeaveCancelled:U,onBeforeAppear:E=M,onAppear:ie=S,onAppearCancelled:te=P}=t,$=(w,I,m)=>{Kp(w,I?J:s),Kp(w,I?R:h),m&&m()},V=(w,I)=>{w._isLeaving=!1,Kp(w,k),Kp(w,q),Kp(w,z),I&&I()},j=w=>(I,m)=>{const g=w?ie:S,b=()=>$(I,w,m);_0(g,[I,b]),$C(()=>{Kp(I,w?v:d),Gh(I,w?J:s),UC(g)||VC(I,r,O,b)})};return Ds(t,{onBeforeEnter(w){_0(M,[w]),Gh(w,d),Gh(w,h)},onBeforeAppear(w){_0(E,[w]),Gh(w,v),Gh(w,R)},onEnter:j(!1),onAppear:j(!0),onLeave(w,I){w._isLeaving=!0;const m=()=>V(w,I);Gh(w,k),fA(),Gh(w,z),$C(()=>{w._isLeaving&&(Kp(w,k),Gh(w,q),UC(H)||VC(w,r,G,m))}),_0(H,[w,m])},onEnterCancelled(w){$(w,!1),_0(P,[w])},onAppearCancelled(w){$(w,!0),_0(te,[w])},onLeaveCancelled(w){V(w),_0(U,[w])}})}function ML(e){if(e==null)return null;if(Ys(e))return[c3(e.enter),c3(e.leave)];{const t=c3(e);return[t,t]}}function c3(e){return rp(e)}function Gh(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Kp(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function $C(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let kL=0;function VC(e,t,n,r){const o=e._endId=++kL,d=()=>{o===e._endId&&r()};if(n)return setTimeout(d,n);const{type:h,timeout:s,propCount:v}=pA(e,t);if(!h)return r();const R=h+"end";let J=0;const k=()=>{e.removeEventListener(R,z),d()},z=q=>{q.target===e&&++J>=v&&k()};setTimeout(()=>{J<v&&k()},s+1),e.addEventListener(R,z)}function pA(e,t){const n=window.getComputedStyle(e),r=L=>(n[L]||"").split(", "),o=r(`${Yp}Delay`),d=r(`${Yp}Duration`),h=GC(o,d),s=r(`${by}Delay`),v=r(`${by}Duration`),R=GC(s,v);let J=null,k=0,z=0;t===Yp?h>0&&(J=Yp,k=h,z=d.length):t===by?R>0&&(J=by,k=R,z=v.length):(k=Math.max(h,R),J=k>0?h>R?Yp:by:null,z=J?J===Yp?d.length:v.length:0);const q=J===Yp&&/\b(transform|all)(,|$)/.test(r(`${Yp}Property`).toString());return{type:J,timeout:k,propCount:z,hasTransform:q}}function GC(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>HC(n)+HC(e[r])))}function HC(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function fA(){return document.body.offsetHeight}const mA=new WeakMap,gA=new WeakMap,AL={name:"TransitionGroup",props:Ds({},EL,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=dp(),r=Ib();let o,d;return Q0(()=>{if(!o.length)return;const h=e.moveClass||`${e.name||"v"}-move`;if(!LL(o[0].el,n.vnode.el,h))return;o.forEach(PL),o.forEach(DL);const s=o.filter(IL);fA(),s.forEach(v=>{const R=v.el,J=R.style;Gh(R,h),J.transform=J.webkitTransform=J.transitionDuration="";const k=R._moveCb=z=>{z&&z.target!==R||(!z||/transform$/.test(z.propertyName))&&(R.removeEventListener("transitionend",k),R._moveCb=null,Kp(R,h))};R.addEventListener("transitionend",k)})}),()=>{const h=us(e),s=hA(h);let v=h.tag||cn;o=d,d=t.default?u_(t.default()):[];for(let R=0;R<d.length;R++){const J=d[R];J.key!=null&&mf(J,V0(J,s,r,n))}if(o)for(let R=0;R<o.length;R++){const J=o[R];mf(J,V0(J,s,r,n)),mA.set(J,J.el.getBoundingClientRect())}return dn(v,null,d)}}},yA=AL;function PL(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function DL(e){gA.set(e,e.el.getBoundingClientRect())}function IL(e){const t=mA.get(e),n=gA.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const d=e.el.style;return d.transform=d.webkitTransform=`translate(${r}px,${o}px)`,d.transitionDuration="0s",e}}function LL(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(h=>{h.split(/\s+/).forEach(s=>s&&r.classList.remove(s))}),n.split(/\s+/).forEach(h=>h&&r.classList.add(h)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:d}=pA(r);return o.removeChild(r),d}const _f=e=>{const t=e.props["onUpdate:modelValue"]||!1;return An(t)?n=>yg(t,n):t};function OL(e){e.target.composing=!0}function WC(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Su={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=_f(o);const d=r||o.props&&o.props.type==="number";qh(e,t?"change":"input",h=>{if(h.target.composing)return;let s=e.value;n&&(s=s.trim()),d&&(s=rp(s)),e._assign(s)}),n&&qh(e,"change",()=>{e.value=e.value.trim()}),t||(qh(e,"compositionstart",OL),qh(e,"compositionend",WC),qh(e,"change",WC))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},d){if(e._assign=_f(d),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(o||e.type==="number")&&rp(e.value)===t))return;const h=t??"";e.value!==h&&(e.value=h)}},lf={deep:!0,created(e,t,n){e._assign=_f(n),qh(e,"change",()=>{const r=e._modelValue,o=Pg(e),d=e.checked,h=e._assign;if(An(r)){const s=gb(r,o),v=s!==-1;if(d&&!v)h(r.concat(o));else if(!d&&v){const R=[...r];R.splice(s,1),h(R)}}else if(Z0(r)){const s=new Set(r);d?s.add(o):s.delete(o),h(s)}else h(_A(e,d))})},mounted:YC,beforeUpdate(e,t,n){e._assign=_f(n),YC(e,t,n)}};function YC(e,{value:t,oldValue:n},r){e._modelValue=t,An(t)?e.checked=gb(t,r.props.value)>-1:Z0(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=df(t,_A(e,!0)))}const Fb={created(e,{value:t},n){e.checked=df(t,n.props.value),e._assign=_f(n),qh(e,"change",()=>{e._assign(Pg(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=_f(r),t!==n&&(e.checked=df(t,r.props.value))}},xu={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Z0(t);qh(e,"change",()=>{const d=Array.prototype.filter.call(e.options,h=>h.selected).map(h=>n?rp(Pg(h)):Pg(h));e._assign(e.multiple?o?new Set(d):d:d[0])}),e._assign=_f(r)},mounted(e,{value:t}){qC(e,t)},beforeUpdate(e,t,n){e._assign=_f(n)},updated(e,{value:t}){qC(e,t)}};function qC(e,t){const n=e.multiple;if(!(n&&!An(t)&&!Z0(t))){for(let r=0,o=e.options.length;r<o;r++){const d=e.options[r],h=Pg(d);if(n)An(t)?d.selected=gb(t,h)>-1:d.selected=t.has(h);else if(df(Pg(d),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Pg(e){return"_value"in e?e._value:e.value}function _A(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const OS={created(e,t,n){ix(e,t,n,null,"created")},mounted(e,t,n){ix(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){ix(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){ix(e,t,n,r,"updated")}};function vA(e,t){switch(e){case"SELECT":return xu;case"TEXTAREA":return Su;default:switch(t){case"checkbox":return lf;case"radio":return Fb;default:return Su}}}function ix(e,t,n,r,o){const h=vA(e.tagName,n.props&&n.props.type)[o];h&&h(e,t,n,r)}function RL(){Su.getSSRProps=({value:e})=>({value:e}),Fb.getSSRProps=({value:e},t)=>{if(t.props&&df(t.props.value,e))return{checked:!0}},lf.getSSRProps=({value:e},t)=>{if(An(e)){if(t.props&&gb(e,t.props.value)>-1)return{checked:!0}}else if(Z0(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},OS.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=vA(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const BL=["ctrl","shift","alt","meta"],zL={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>BL.some(n=>e[`${n}Key`]&&!t.includes(n))},mc=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const d=zL[t[o]];if(d&&d(n,t))return}return e(n,...r)},NL={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},wr=(e,t)=>n=>{if(!("key"in n))return;const r=md(n.key);if(t.some(o=>o===r||NL[o]===r))return e(n)},N0={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):wy(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),wy(e,!0),r.enter(e)):r.leave(e,()=>{wy(e,!1)}):wy(e,t))},beforeUnmount(e,{value:t}){wy(e,t)}};function wy(e,t){e.style.display=t?e._vod:"none"}function FL(){N0.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const xA=Ds({patchProp:TL},dL);let By,XC=!1;function bA(){return By||(By=wS(xA))}function wA(){return By=XC?By:TS(xA),XC=!0,By}const Fx=(...e)=>{bA().render(...e)},RS=(...e)=>{wA().hydrate(...e)},BS=(...e)=>{const t=bA().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=SA(r);if(!o)return;const d=t._component;!Sr(d)&&!d.render&&!d.template&&(d.template=o.innerHTML),o.innerHTML="";const h=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),h},t},TA=(...e)=>{const t=wA().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=SA(r);if(o)return n(o,!0,o instanceof SVGElement)},t};function SA(e){return Br(e)?document.querySelector(e):e}let ZC=!1;const CA=()=>{ZC||(ZC=!0,RL(),FL())},jL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Lb,Comment:gl,EffectScope:_b,Fragment:cn,KeepAlive:Ck,ReactiveEffect:jg,Static:of,Suspense:_k,Teleport:CS,Text:gf,Transition:Au,TransitionGroup:yA,VueElement:m_,callWithAsyncErrorHandling:Gc,callWithErrorHandling:dh,camelize:tl,capitalize:bf,cloneVNode:Tu,compatUtils:aA,computed:hn,createApp:BS,createBlock:Ir,createCommentVNode:vi,createElementBlock:Bt,createElementVNode:Ye,createHydrationRenderer:TS,createPropsRestProxy:tA,createRenderer:wS,createSSRApp:TA,createSlots:Bl,createStaticVNode:_d,createTextVNode:ds,createVNode:dn,customRef:lk,defineAsyncComponent:Sk,defineComponent:xc,defineCustomElement:LS,defineEmits:Zk,defineExpose:Kk,defineProps:Xk,defineSSRCustomElement:lA,get devtools(){return E0},effect:WM,effectScope:$M,getCurrentInstance:dp,getCurrentScope:QT,getTransitionRawChildren:u_,guardReactiveProps:Ol,h:Uc,handleError:wf,hydrate:RS,initCustomFormatter:nA,initDirectivesForSSR:CA,inject:B0,isMemoSame:DS,isProxy:Sb,isReactive:sf,isReadonly:pf,isRef:ca,isRuntimeOnly:Wk,isShallow:kg,isVNode:op,markRaw:Cb,mergeDefaults:eA,mergeProps:Yo,nextTick:_c,normalizeClass:ar,normalizeProps:Ta,normalizeStyle:el,onActivated:uS,onBeforeMount:pS,onBeforeUnmount:em,onBeforeUpdate:p_,onDeactivated:hS,onErrorCaptured:yS,onMounted:Ko,onRenderTracked:gS,onRenderTriggered:mS,onScopeDispose:eS,onServerPrefetch:fS,onUnmounted:hh,onUpdated:Q0,openBlock:bt,popScopeId:J0,provide:Vg,proxyRefs:Mb,pushScopeId:K0,queuePostFlushCb:Ab,reactive:ku,readonly:wb,ref:on,registerRuntimeCompiler:MS,render:Fx,renderList:_r,renderSlot:xn,resolveComponent:Tr,resolveDirective:Bb,resolveDynamicComponent:Rb,resolveFilter:oA,resolveTransitionHooks:V0,setBlockTracking:zx,setDevtoolsHook:aS,setTransitionHooks:mf,shallowReactive:nS,shallowReadonly:rk,shallowRef:sk,ssrContextKey:AS,ssrUtils:sA,stop:YM,toDisplayString:Yi,toHandlerKey:O0,toHandlers:Ak,toRaw:us,toRef:ff,toRefs:ck,transformVNodeArgs:Uk,triggerRef:ak,unref:Li,useAttrs:kS,useCssModule:cA,useCssVars:dA,useSSRContext:PS,useSlots:f_,useTransitionState:Ib,vModelCheckbox:lf,vModelDynamic:OS,vModelRadio:Fb,vModelSelect:xu,vModelText:Su,vShow:N0,version:IS,warn:uk,watch:ha,watchEffect:xk,watchPostEffect:dS,watchSyncEffect:bk,withAsyncContext:iA,withCtx:Yn,withDefaults:Jk,withDirectives:po,withKeys:wr,withMemo:rA,withModifiers:mc,withScopeId:gk},Symbol.toStringTag,{value:"Module"}));function zS(e){throw e}function EA(e){}function Oo(e,t,n,r){const o=e,d=new SyntaxError(String(o));return d.code=e,d.loc=t,d}const Xy=Symbol(""),zy=Symbol(""),NS=Symbol(""),jx=Symbol(""),MA=Symbol(""),H0=Symbol(""),kA=Symbol(""),AA=Symbol(""),FS=Symbol(""),jS=Symbol(""),g_=Symbol(""),US=Symbol(""),PA=Symbol(""),$S=Symbol(""),Ux=Symbol(""),VS=Symbol(""),GS=Symbol(""),HS=Symbol(""),WS=Symbol(""),DA=Symbol(""),IA=Symbol(""),jb=Symbol(""),$x=Symbol(""),YS=Symbol(""),qS=Symbol(""),Zy=Symbol(""),y_=Symbol(""),XS=Symbol(""),hT=Symbol(""),UL=Symbol(""),pT=Symbol(""),Vx=Symbol(""),$L=Symbol(""),VL=Symbol(""),ZS=Symbol(""),GL=Symbol(""),HL=Symbol(""),KS=Symbol(""),LA=Symbol(""),Dg={[Xy]:"Fragment",[zy]:"Teleport",[NS]:"Suspense",[jx]:"KeepAlive",[MA]:"BaseTransition",[H0]:"openBlock",[kA]:"createBlock",[AA]:"createElementBlock",[FS]:"createVNode",[jS]:"createElementVNode",[g_]:"createCommentVNode",[US]:"createTextVNode",[PA]:"createStaticVNode",[$S]:"resolveComponent",[Ux]:"resolveDynamicComponent",[VS]:"resolveDirective",[GS]:"resolveFilter",[HS]:"withDirectives",[WS]:"renderList",[DA]:"renderSlot",[IA]:"createSlots",[jb]:"toDisplayString",[$x]:"mergeProps",[YS]:"normalizeClass",[qS]:"normalizeStyle",[Zy]:"normalizeProps",[y_]:"guardReactiveProps",[XS]:"toHandlers",[hT]:"camelize",[UL]:"capitalize",[pT]:"toHandlerKey",[Vx]:"setBlockTracking",[$L]:"pushScopeId",[VL]:"popScopeId",[ZS]:"withCtx",[GL]:"unref",[HL]:"isRef",[KS]:"withMemo",[LA]:"isMemoSame"};function WL(e){Object.getOwnPropertySymbols(e).forEach(t=>{Dg[t]=e[t]})}const vd={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function YL(e,t=vd){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function Ky(e,t,n,r,o,d,h,s=!1,v=!1,R=!1,J=vd){return e&&(s?(e.helper(H0),e.helper(Og(e.inSSR,R))):e.helper(Lg(e.inSSR,R)),h&&e.helper(HS)),{type:13,tag:t,props:n,children:r,patchFlag:o,dynamicProps:d,directives:h,isBlock:s,disableTracking:v,isComponent:R,loc:J}}function __(e,t=vd){return{type:17,loc:t,elements:e}}function Xd(e,t=vd){return{type:15,loc:t,properties:e}}function Xo(e,t){return{type:16,loc:vd,key:Br(e)?Wr(e,!0):e,value:t}}function Wr(e,t=!1,n=vd,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function wu(e,t=vd){return{type:8,loc:t,children:e}}function Sa(e,t=[],n=vd){return{type:14,loc:n,callee:e,arguments:t}}function Ig(e,t=void 0,n=!1,r=!1,o=vd){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:o}}function fT(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:vd}}function qL(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:vd}}function XL(e){return{type:21,body:e,loc:vd}}const Vc=e=>e.type===4&&e.isStatic,hg=(e,t)=>e===t||e===md(t);function OA(e){if(hg(e,"Teleport"))return zy;if(hg(e,"Suspense"))return NS;if(hg(e,"KeepAlive"))return jx;if(hg(e,"BaseTransition"))return MA}const ZL=/^\d|[^\$\w]/,JS=e=>!ZL.test(e),KL=/[A-Za-z_$\xA0-\uFFFF]/,JL=/[\.\?\w$\xA0-\uFFFF]/,QL=/\s+[.[]\s*|\s*[.[]\s+/g,eO=e=>{e=e.trim().replace(QL,h=>h.trim());let t=0,n=[],r=0,o=0,d=null;for(let h=0;h<e.length;h++){const s=e.charAt(h);switch(t){case 0:if(s==="[")n.push(t),t=1,r++;else if(s==="(")n.push(t),t=2,o++;else if(!(h===0?KL:JL).test(s))return!1;break;case 1:s==="'"||s==='"'||s==="`"?(n.push(t),t=3,d=s):s==="["?r++:s==="]"&&(--r||(t=n.pop()));break;case 2:if(s==="'"||s==='"'||s==="`")n.push(t),t=3,d=s;else if(s==="(")o++;else if(s===")"){if(h===e.length-1)return!1;--o||(t=n.pop())}break;case 3:s===d&&(t=n.pop(),d=null);break}}return!r&&!o},RA=eO;function BA(e,t,n){const o={source:e.source.slice(t,t+n),start:Gx(e.start,e.source,t),end:e.end};return n!=null&&(o.end=Gx(e.start,e.source,t+n)),o}function Gx(e,t,n=t.length){return Hx(Ds({},e),t,n)}function Hx(e,t,n=t.length){let r=0,o=-1;for(let d=0;d<n;d++)t.charCodeAt(d)===10&&(r++,o=d);return e.offset+=n,e.line+=r,e.column=o===-1?e.column+n:n-o,e}function Yd(e,t,n=!1){for(let r=0;r<e.props.length;r++){const o=e.props[r];if(o.type===7&&(n||o.exp)&&(Br(t)?o.name===t:t.test(o.name)))return o}}function Ub(e,t,n=!1,r=!1){for(let o=0;o<e.props.length;o++){const d=e.props[o];if(d.type===6){if(n)continue;if(d.name===t&&(d.value||r))return d}else if(d.name==="bind"&&(d.exp||r)&&A0(d.arg,t))return d}}function A0(e,t){return!!(e&&Vc(e)&&e.content===t)}function tO(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function d3(e){return e.type===5||e.type===2}function iO(e){return e.type===7&&e.name==="slot"}function Wx(e){return e.type===1&&e.tagType===3}function Yx(e){return e.type===1&&e.tagType===2}function Lg(e,t){return e||t?FS:jS}function Og(e,t){return e||t?kA:AA}const nO=new Set([Zy,y_]);function zA(e,t=[]){if(e&&!Br(e)&&e.type===14){const n=e.callee;if(!Br(n)&&nO.has(n))return zA(e.arguments[0],t.concat(e))}return[e,t]}function qx(e,t,n){let r,o=e.type===13?e.props:e.arguments[2],d=[],h;if(o&&!Br(o)&&o.type===14){const s=zA(o);o=s[0],d=s[1],h=d[d.length-1]}if(o==null||Br(o))r=Xd([t]);else if(o.type===14){const s=o.arguments[0];!Br(s)&&s.type===15?KC(t,s)||s.properties.unshift(t):o.callee===XS?r=Sa(n.helper($x),[Xd([t]),o]):o.arguments.unshift(Xd([t])),!r&&(r=o)}else o.type===15?(KC(t,o)||o.properties.unshift(t),r=o):(r=Sa(n.helper($x),[Xd([t]),o]),h&&h.callee===y_&&(h=d[d.length-2]));e.type===13?h?h.arguments[0]=r:e.props=r:h?h.arguments[0]=r:e.arguments[2]=r}function KC(e,t){let n=!1;if(e.key.type===4){const r=e.key.content;n=t.properties.some(o=>o.key.type===4&&o.key.content===r)}return n}function Jy(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function rO(e){return e.type===14&&e.callee===KS?e.arguments[1].returns:e}function QS(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(Lg(r,e.isComponent)),t(H0),t(Og(r,e.isComponent)))}function JC(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,r=n&&n[e];return e==="MODE"?r||3:r}function F0(e,t){const n=JC("MODE",t),r=JC(e,t);return n===3?r===!0:r!==!1}function Qy(e,t,n,...r){return F0(e,t)}const sO=/&(gt|lt|amp|apos|quot);/g,oO={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},QC={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:vx,isPreTag:vx,isCustomElement:vx,decodeEntities:e=>e.replace(sO,(t,n)=>oO[n]),onError:zS,onWarn:EA,comments:!1};function aO(e,t={}){const n=lO(e,t),r=gd(n);return YL(e5(n,0,[]),Jd(n,r))}function lO(e,t){const n=Ds({},QC);let r;for(r in t)n[r]=t[r]===void 0?QC[r]:t[r];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function e5(e,t,n){const r=$b(n),o=r?r.ns:0,d=[];for(;!yO(e,t,n);){const s=e.source;let v;if(t===0||t===1){if(!e.inVPre&&Nl(s,e.options.delimiters[0]))v=mO(e,t);else if(t===0&&s[0]==="<")if(s.length===1)Vs(e,5,1);else if(s[1]==="!")Nl(s,"<!--")?v=dO(e):Nl(s,"<!DOCTYPE")?v=Ty(e):Nl(s,"<![CDATA[")?o!==0?v=cO(e,n):(Vs(e,1),v=Ty(e)):(Vs(e,11),v=Ty(e));else if(s[1]==="/")if(s.length===2)Vs(e,5,2);else if(s[2]===">"){Vs(e,14,2),Na(e,3);continue}else if(/[a-z]/i.test(s[2])){Vs(e,23),mT(e,1,r);continue}else Vs(e,12,2),v=Ty(e);else/[a-z]/i.test(s[1])?(v=uO(e,n),F0("COMPILER_NATIVE_TEMPLATE",e)&&v&&v.tag==="template"&&!v.props.some(R=>R.type===7&&NA(R.name))&&(v=v.children)):s[1]==="?"?(Vs(e,21,1),v=Ty(e)):Vs(e,12,1)}if(v||(v=gO(e,t)),An(v))for(let R=0;R<v.length;R++)eE(d,v[R]);else eE(d,v)}let h=!1;if(t!==2&&t!==1){const s=e.options.whitespace!=="preserve";for(let v=0;v<d.length;v++){const R=d[v];if(R.type===2)if(e.inPre)R.content=R.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(R.content))s&&(R.content=R.content.replace(/[\t\r\n\f ]+/g," "));else{const J=d[v-1],k=d[v+1];!J||!k||s&&(J.type===3&&k.type===3||J.type===3&&k.type===1||J.type===1&&k.type===3||J.type===1&&k.type===1&&/[\r\n]/.test(R.content))?(h=!0,d[v]=null):R.content=" "}else R.type===3&&!e.options.comments&&(h=!0,d[v]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const v=d[0];v&&v.type===2&&(v.content=v.content.replace(/^\r?\n/,""))}}return h?d.filter(Boolean):d}function eE(e,t){if(t.type===2){const n=$b(e);if(n&&n.type===2&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function cO(e,t){Na(e,9);const n=e5(e,3,t);return e.source.length===0?Vs(e,6):Na(e,3),n}function dO(e){const t=gd(e);let n;const r=/--(\!)?>/.exec(e.source);if(!r)n=e.source.slice(4),Na(e,e.source.length),Vs(e,7);else{r.index<=3&&Vs(e,0),r[1]&&Vs(e,10),n=e.source.slice(4,r.index);const o=e.source.slice(0,r.index);let d=1,h=0;for(;(h=o.indexOf("<!--",d))!==-1;)Na(e,h-d+1),h+4<o.length&&Vs(e,16),d=h+1;Na(e,r.index+r[0].length-d+1)}return{type:3,content:n,loc:Jd(e,t)}}function Ty(e){const t=gd(e),n=e.source[1]==="?"?1:2;let r;const o=e.source.indexOf(">");return o===-1?(r=e.source.slice(n),Na(e,e.source.length)):(r=e.source.slice(n,o),Na(e,o+1)),{type:3,content:r,loc:Jd(e,t)}}function uO(e,t){const n=e.inPre,r=e.inVPre,o=$b(t),d=mT(e,0,o),h=e.inPre&&!n,s=e.inVPre&&!r;if(d.isSelfClosing||e.options.isVoidTag(d.tag))return h&&(e.inPre=!1),s&&(e.inVPre=!1),d;t.push(d);const v=e.options.getTextMode(d,o),R=e5(e,v,t);t.pop();{const J=d.props.find(k=>k.type===6&&k.name==="inline-template");if(J&&Qy("COMPILER_INLINE_TEMPLATE",e,J.loc)){const k=Jd(e,d.loc.end);J.value={type:2,content:k.source,loc:k}}}if(d.children=R,gT(e.source,d.tag))mT(e,1,o);else if(Vs(e,24,0,d.loc.start),e.source.length===0&&d.tag.toLowerCase()==="script"){const J=R[0];J&&Nl(J.loc.source,"<!--")&&Vs(e,8)}return d.loc=Jd(e,d.loc.start),h&&(e.inPre=!1),s&&(e.inVPre=!1),d}const NA=Hc("if,else,else-if,for,slot");function mT(e,t,n){const r=gd(e),o=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),d=o[1],h=e.options.getNamespace(d,n);Na(e,o[0].length),e_(e);const s=gd(e),v=e.source;e.options.isPreTag(d)&&(e.inPre=!0);let R=tE(e,t);t===0&&!e.inVPre&&R.some(z=>z.type===7&&z.name==="pre")&&(e.inVPre=!0,Ds(e,s),e.source=v,R=tE(e,t).filter(z=>z.name!=="v-pre"));let J=!1;if(e.source.length===0?Vs(e,9):(J=Nl(e.source,"/>"),t===1&&J&&Vs(e,4),Na(e,J?2:1)),t===1)return;let k=0;return e.inVPre||(d==="slot"?k=2:d==="template"?R.some(z=>z.type===7&&NA(z.name))&&(k=3):hO(d,R,e)&&(k=1)),{type:1,ns:h,tag:d,tagType:k,props:R,isSelfClosing:J,children:[],loc:Jd(e,r),codegenNode:void 0}}function hO(e,t,n){const r=n.options;if(r.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||OA(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let o=0;o<t.length;o++){const d=t[o];if(d.type===6){if(d.name==="is"&&d.value){if(d.value.content.startsWith("vue:"))return!0;if(Qy("COMPILER_IS_ON_ELEMENT",n,d.loc))return!0}}else{if(d.name==="is")return!0;if(d.name==="bind"&&A0(d.arg,"is")&&Qy("COMPILER_IS_ON_ELEMENT",n,d.loc))return!0}}}function tE(e,t){const n=[],r=new Set;for(;e.source.length>0&&!Nl(e.source,">")&&!Nl(e.source,"/>");){if(Nl(e.source,"/")){Vs(e,22),Na(e,1),e_(e);continue}t===1&&Vs(e,3);const o=pO(e,r);o.type===6&&o.value&&o.name==="class"&&(o.value.content=o.value.content.replace(/\s+/g," ").trim()),t===0&&n.push(o),/^[^\t\r\n\f />]/.test(e.source)&&Vs(e,15),e_(e)}return n}function pO(e,t){const n=gd(e),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(o)&&Vs(e,2),t.add(o),o[0]==="="&&Vs(e,19);{const s=/["'<]/g;let v;for(;v=s.exec(o);)Vs(e,17,v.index)}Na(e,o.length);let d;/^[\t\r\n\f ]*=/.test(e.source)&&(e_(e),Na(e,1),e_(e),d=fO(e),d||Vs(e,13));const h=Jd(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const s=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let v=Nl(o,"."),R=s[1]||(v||Nl(o,":")?"bind":Nl(o,"@")?"on":"slot"),J;if(s[2]){const z=R==="slot",q=o.lastIndexOf(s[2]),L=Jd(e,iE(e,n,q),iE(e,n,q+s[2].length+(z&&s[3]||"").length));let O=s[2],G=!0;O.startsWith("[")?(G=!1,O.endsWith("]")?O=O.slice(1,O.length-1):(Vs(e,27),O=O.slice(1))):z&&(O+=s[3]||""),J={type:4,content:O,isStatic:G,constType:G?3:0,loc:L}}if(d&&d.isQuoted){const z=d.loc;z.start.offset++,z.start.column++,z.end=Gx(z.start,d.content),z.source=z.source.slice(1,-1)}const k=s[3]?s[3].slice(1).split("."):[];return v&&k.push("prop"),R==="bind"&&J&&k.includes("sync")&&Qy("COMPILER_V_BIND_SYNC",e,h,J.loc.source)&&(R="model",k.splice(k.indexOf("sync"),1)),{type:7,name:R,exp:d&&{type:4,content:d.content,isStatic:!1,constType:0,loc:d.loc},arg:J,modifiers:k,loc:h}}return!e.inVPre&&Nl(o,"v-")&&Vs(e,26),{type:6,name:o,value:d&&{type:2,content:d.content,loc:d.loc},loc:h}}function fO(e){const t=gd(e);let n;const r=e.source[0],o=r==='"'||r==="'";if(o){Na(e,1);const d=e.source.indexOf(r);d===-1?n=Ny(e,e.source.length,4):(n=Ny(e,d,4),Na(e,1))}else{const d=/^[^\t\r\n\f >]+/.exec(e.source);if(!d)return;const h=/["'<=`]/g;let s;for(;s=h.exec(d[0]);)Vs(e,18,s.index);n=Ny(e,d[0].length,4)}return{content:n,isQuoted:o,loc:Jd(e,t)}}function mO(e,t){const[n,r]=e.options.delimiters,o=e.source.indexOf(r,n.length);if(o===-1){Vs(e,25);return}const d=gd(e);Na(e,n.length);const h=gd(e),s=gd(e),v=o-n.length,R=e.source.slice(0,v),J=Ny(e,v,t),k=J.trim(),z=J.indexOf(k);z>0&&Hx(h,R,z);const q=v-(J.length-k.length-z);return Hx(s,R,q),Na(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:k,loc:Jd(e,h,s)},loc:Jd(e,d)}}function gO(e,t){const n=t===3?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let h=0;h<n.length;h++){const s=e.source.indexOf(n[h],1);s!==-1&&r>s&&(r=s)}const o=gd(e);return{type:2,content:Ny(e,r,t),loc:Jd(e,o)}}function Ny(e,t,n){const r=e.source.slice(0,t);return Na(e,t),n===2||n===3||!r.includes("&")?r:e.options.decodeEntities(r,n===4)}function gd(e){const{column:t,line:n,offset:r}=e;return{column:t,line:n,offset:r}}function Jd(e,t,n){return n=n||gd(e),{start:t,end:n,source:e.originalSource.slice(t.offset,n.offset)}}function $b(e){return e[e.length-1]}function Nl(e,t){return e.startsWith(t)}function Na(e,t){const{source:n}=e;Hx(e,n,t),e.source=n.slice(t)}function e_(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&Na(e,t[0].length)}function iE(e,t,n){return Gx(t,e.originalSource.slice(t.offset,n),n)}function Vs(e,t,n,r=gd(e)){n&&(r.offset+=n,r.column+=n),e.options.onError(Oo(t,{start:r,end:r,source:""}))}function yO(e,t,n){const r=e.source;switch(t){case 0:if(Nl(r,"</")){for(let o=n.length-1;o>=0;--o)if(gT(r,n[o].tag))return!0}break;case 1:case 2:{const o=$b(n);if(o&&gT(r,o.tag))return!0;break}case 3:if(Nl(r,"]]>"))return!0;break}return!r}function gT(e,t){return Nl(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function _O(e,t){wx(e,t,FA(e,e.children[0]))}function FA(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!Yx(t)}function wx(e,t,n=!1){const{children:r}=e,o=r.length;let d=0;for(let h=0;h<r.length;h++){const s=r[h];if(s.type===1&&s.tagType===0){const v=n?0:Zd(s,t);if(v>0){if(v>=2){s.codegenNode.patchFlag="-1",s.codegenNode=t.hoist(s.codegenNode),d++;continue}}else{const R=s.codegenNode;if(R.type===13){const J=VA(R);if((!J||J===512||J===1)&&UA(s,t)>=2){const k=$A(s);k&&(R.props=t.hoist(k))}R.dynamicProps&&(R.dynamicProps=t.hoist(R.dynamicProps))}}}if(s.type===1){const v=s.tagType===1;v&&t.scopes.vSlot++,wx(s,t),v&&t.scopes.vSlot--}else if(s.type===11)wx(s,t,s.children.length===1);else if(s.type===9)for(let v=0;v<s.branches.length;v++)wx(s.branches[v],t,s.branches[v].children.length===1)}d&&t.transformHoist&&t.transformHoist(r,t,e),d&&d===o&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&An(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(__(e.codegenNode.children)))}function Zd(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const o=e.codegenNode;if(o.type!==13||o.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(VA(o))return n.set(e,0),0;{let s=3;const v=UA(e,t);if(v===0)return n.set(e,0),0;v<s&&(s=v);for(let R=0;R<e.children.length;R++){const J=Zd(e.children[R],t);if(J===0)return n.set(e,0),0;J<s&&(s=J)}if(s>1)for(let R=0;R<e.props.length;R++){const J=e.props[R];if(J.type===7&&J.name==="bind"&&J.exp){const k=Zd(J.exp,t);if(k===0)return n.set(e,0),0;k<s&&(s=k)}}if(o.isBlock){for(let R=0;R<e.props.length;R++)if(e.props[R].type===7)return n.set(e,0),0;t.removeHelper(H0),t.removeHelper(Og(t.inSSR,o.isComponent)),o.isBlock=!1,t.helper(Lg(t.inSSR,o.isComponent))}return n.set(e,s),s}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Zd(e.content,t);case 4:return e.constType;case 8:let h=3;for(let s=0;s<e.children.length;s++){const v=e.children[s];if(Br(v)||uf(v))continue;const R=Zd(v,t);if(R===0)return 0;R<h&&(h=R)}return h;default:return 0}}const vO=new Set([YS,qS,Zy,y_]);function jA(e,t){if(e.type===14&&!Br(e.callee)&&vO.has(e.callee)){const n=e.arguments[0];if(n.type===4)return Zd(n,t);if(n.type===14)return jA(n,t)}return 0}function UA(e,t){let n=3;const r=$A(e);if(r&&r.type===15){const{properties:o}=r;for(let d=0;d<o.length;d++){const{key:h,value:s}=o[d],v=Zd(h,t);if(v===0)return v;v<n&&(n=v);let R;if(s.type===4?R=Zd(s,t):s.type===14?R=jA(s,t):R=0,R===0)return R;R<n&&(n=R)}}return n}function $A(e){const t=e.codegenNode;if(t.type===13)return t.props}function VA(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function xO(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,cacheHandlers:o=!1,nodeTransforms:d=[],directiveTransforms:h={},transformHoist:s=null,isBuiltInComponent:v=yc,isCustomElement:R=yc,expressionPlugins:J=[],scopeId:k=null,slotted:z=!0,ssr:q=!1,inSSR:L=!1,ssrCssVars:O="",bindingMetadata:G=Gs,inline:M=!1,isTS:S=!1,onError:P=zS,onWarn:H=EA,compatConfig:U}){const E=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),ie={selfName:E&&bf(tl(E[1])),prefixIdentifiers:n,hoistStatic:r,cacheHandlers:o,nodeTransforms:d,directiveTransforms:h,transformHoist:s,isBuiltInComponent:v,isCustomElement:R,expressionPlugins:J,scopeId:k,slotted:z,ssr:q,inSSR:L,ssrCssVars:O,bindingMetadata:G,inline:M,isTS:S,onError:P,onWarn:H,compatConfig:U,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(te){const $=ie.helpers.get(te)||0;return ie.helpers.set(te,$+1),te},removeHelper(te){const $=ie.helpers.get(te);if($){const V=$-1;V?ie.helpers.set(te,V):ie.helpers.delete(te)}},helperString(te){return`_${Dg[ie.helper(te)]}`},replaceNode(te){ie.parent.children[ie.childIndex]=ie.currentNode=te},removeNode(te){const $=ie.parent.children,V=te?$.indexOf(te):ie.currentNode?ie.childIndex:-1;!te||te===ie.currentNode?(ie.currentNode=null,ie.onNodeRemoved()):ie.childIndex>V&&(ie.childIndex--,ie.onNodeRemoved()),ie.parent.children.splice(V,1)},onNodeRemoved:()=>{},addIdentifiers(te){},removeIdentifiers(te){},hoist(te){Br(te)&&(te=Wr(te)),ie.hoists.push(te);const $=Wr(`_hoisted_${ie.hoists.length}`,!1,te.loc,2);return $.hoisted=te,$},cache(te,$=!1){return qL(ie.cached++,te,$)}};return ie.filters=new Set,ie}function bO(e,t){const n=xO(e,t);Vb(e,n),t.hoistStatic&&_O(e,n),t.ssr||wO(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function wO(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const o=r[0];if(FA(e,o)&&o.codegenNode){const d=o.codegenNode;d.type===13&&QS(d,t),e.codegenNode=d}else e.codegenNode=o}else if(r.length>1){let o=64;e.codegenNode=Ky(t,n(Xy),void 0,e.children,o+"",void 0,void 0,!0,void 0,!1)}}function TO(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const o=e.children[n];Br(o)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=r,Vb(o,t))}}function Vb(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let d=0;d<n.length;d++){const h=n[d](e,t);if(h&&(An(h)?r.push(...h):r.push(h)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(g_);break;case 5:t.ssr||t.helper(jb);break;case 9:for(let d=0;d<e.branches.length;d++)Vb(e.branches[d],t);break;case 10:case 11:case 1:case 0:TO(e,t);break}t.currentNode=e;let o=r.length;for(;o--;)r[o]()}function GA(e,t){const n=Br(e)?r=>r===e:r=>e.test(r);return(r,o)=>{if(r.type===1){const{props:d}=r;if(r.tagType===3&&d.some(iO))return;const h=[];for(let s=0;s<d.length;s++){const v=d[s];if(v.type===7&&n(v.name)){d.splice(s,1),s--;const R=t(r,v,o);R&&h.push(R)}}return h}}}const Gb="/*#__PURE__*/",HA=e=>`${Dg[e]}: _${Dg[e]}`;function SO(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:o="template.vue.html",scopeId:d=null,optimizeImports:h=!1,runtimeGlobalName:s="Vue",runtimeModuleName:v="vue",ssrRuntimeModuleName:R="vue/server-renderer",ssr:J=!1,isTS:k=!1,inSSR:z=!1}){const q={mode:t,prefixIdentifiers:n,sourceMap:r,filename:o,scopeId:d,optimizeImports:h,runtimeGlobalName:s,runtimeModuleName:v,ssrRuntimeModuleName:R,ssr:J,isTS:k,inSSR:z,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(O){return`_${Dg[O]}`},push(O,G){q.code+=O},indent(){L(++q.indentLevel)},deindent(O=!1){O?--q.indentLevel:L(--q.indentLevel)},newline(){L(q.indentLevel)}};function L(O){q.push(`
`+"  ".repeat(O))}return q}function CO(e,t={}){const n=SO(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:o,prefixIdentifiers:d,indent:h,deindent:s,newline:v,scopeId:R,ssr:J}=n,k=e.helpers.length>0,z=!d&&r!=="module";EO(e,n);const L=J?"ssrRender":"render",G=(J?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(o(`function ${L}(${G}) {`),h(),z&&(o("with (_ctx) {"),h(),k&&(o(`const { ${e.helpers.map(HA).join(", ")} } = _Vue`),o(`
`),v())),e.components.length&&(u3(e.components,"component",n),(e.directives.length||e.temps>0)&&v()),e.directives.length&&(u3(e.directives,"directive",n),e.temps>0&&v()),e.filters&&e.filters.length&&(v(),u3(e.filters,"filter",n),v()),e.temps>0){o("let ");for(let M=0;M<e.temps;M++)o(`${M>0?", ":""}_temp${M}`)}return(e.components.length||e.directives.length||e.temps)&&(o(`
`),v()),J||o("return "),e.codegenNode?Fl(e.codegenNode,n):o("null"),z&&(s(),o("}")),s(),o("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function EO(e,t){const{ssr:n,prefixIdentifiers:r,push:o,newline:d,runtimeModuleName:h,runtimeGlobalName:s,ssrRuntimeModuleName:v}=t,R=s;if(e.helpers.length>0&&(o(`const _Vue = ${R}
`),e.hoists.length)){const J=[FS,jS,g_,US,PA].filter(k=>e.helpers.includes(k)).map(HA).join(", ");o(`const { ${J} } = _Vue
`)}MO(e.hoists,t),d(),o("return ")}function u3(e,t,{helper:n,push:r,newline:o,isTS:d}){const h=n(t==="filter"?GS:t==="component"?$S:VS);for(let s=0;s<e.length;s++){let v=e[s];const R=v.endsWith("__self");R&&(v=v.slice(0,-6)),r(`const ${Jy(v,t)} = ${h}(${JSON.stringify(v)}${R?", true":""})${d?"!":""}`),s<e.length-1&&o()}}function MO(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r,helper:o,scopeId:d,mode:h}=t;r();for(let s=0;s<e.length;s++){const v=e[s];v&&(n(`const _hoisted_${s+1} = `),Fl(v,t),r())}t.pure=!1}function t5(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),v_(e,t,n),n&&t.deindent(),t.push("]")}function v_(e,t,n=!1,r=!0){const{push:o,newline:d}=t;for(let h=0;h<e.length;h++){const s=e[h];Br(s)?o(s):An(s)?t5(s,t):Fl(s,t),h<e.length-1&&(n?(r&&o(","),d()):r&&o(", "))}}function Fl(e,t){if(Br(e)){t.push(e);return}if(uf(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Fl(e.codegenNode,t);break;case 2:kO(e,t);break;case 4:WA(e,t);break;case 5:AO(e,t);break;case 12:Fl(e.codegenNode,t);break;case 8:YA(e,t);break;case 3:DO(e,t);break;case 13:IO(e,t);break;case 14:OO(e,t);break;case 15:RO(e,t);break;case 17:BO(e,t);break;case 18:zO(e,t);break;case 19:NO(e,t);break;case 20:FO(e,t);break;case 21:v_(e.body,t,!0,!1);break}}function kO(e,t){t.push(JSON.stringify(e.content),e)}function WA(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,e)}function AO(e,t){const{push:n,helper:r,pure:o}=t;o&&n(Gb),n(`${r(jb)}(`),Fl(e.content,t),n(")")}function YA(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];Br(r)?t.push(r):Fl(r,t)}}function PO(e,t){const{push:n}=t;if(e.type===8)n("["),YA(e,t),n("]");else if(e.isStatic){const r=JS(e.content)?e.content:JSON.stringify(e.content);n(r,e)}else n(`[${e.content}]`,e)}function DO(e,t){const{push:n,helper:r,pure:o}=t;o&&n(Gb),n(`${r(g_)}(${JSON.stringify(e.content)})`,e)}function IO(e,t){const{push:n,helper:r,pure:o}=t,{tag:d,props:h,children:s,patchFlag:v,dynamicProps:R,directives:J,isBlock:k,disableTracking:z,isComponent:q}=e;J&&n(r(HS)+"("),k&&n(`(${r(H0)}(${z?"true":""}), `),o&&n(Gb);const L=k?Og(t.inSSR,q):Lg(t.inSSR,q);n(r(L)+"(",e),v_(LO([d,h,s,v,R]),t),n(")"),k&&n(")"),J&&(n(", "),Fl(J,t),n(")"))}function LO(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function OO(e,t){const{push:n,helper:r,pure:o}=t,d=Br(e.callee)?e.callee:r(e.callee);o&&n(Gb),n(d+"(",e),v_(e.arguments,t),n(")")}function RO(e,t){const{push:n,indent:r,deindent:o,newline:d}=t,{properties:h}=e;if(!h.length){n("{}",e);return}const s=h.length>1||!1;n(s?"{":"{ "),s&&r();for(let v=0;v<h.length;v++){const{key:R,value:J}=h[v];PO(R,t),n(": "),Fl(J,t),v<h.length-1&&(n(","),d())}s&&o(),n(s?"}":" }")}function BO(e,t){t5(e.elements,t)}function zO(e,t){const{push:n,indent:r,deindent:o}=t,{params:d,returns:h,body:s,newline:v,isSlot:R}=e;R&&n(`_${Dg[ZS]}(`),n("(",e),An(d)?v_(d,t):d&&Fl(d,t),n(") => "),(v||s)&&(n("{"),r()),h?(v&&n("return "),An(h)?t5(h,t):Fl(h,t)):s&&Fl(s,t),(v||s)&&(o(),n("}")),R&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function NO(e,t){const{test:n,consequent:r,alternate:o,newline:d}=e,{push:h,indent:s,deindent:v,newline:R}=t;if(n.type===4){const k=!JS(n.content);k&&h("("),WA(n,t),k&&h(")")}else h("("),Fl(n,t),h(")");d&&s(),t.indentLevel++,d||h(" "),h("? "),Fl(r,t),t.indentLevel--,d&&R(),d||h(" "),h(": ");const J=o.type===19;J||t.indentLevel++,Fl(o,t),J||t.indentLevel--,d&&v(!0)}function FO(e,t){const{push:n,helper:r,indent:o,deindent:d,newline:h}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(o(),n(`${r(Vx)}(-1),`),h()),n(`_cache[${e.index}] = `),Fl(e.value,t),e.isVNode&&(n(","),h(),n(`${r(Vx)}(1),`),h(),n(`_cache[${e.index}]`),d()),n(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const jO=GA(/^(if|else|else-if)$/,(e,t,n)=>UO(e,t,n,(r,o,d)=>{const h=n.parent.children;let s=h.indexOf(r),v=0;for(;s-->=0;){const R=h[s];R&&R.type===9&&(v+=R.branches.length)}return()=>{if(d)r.codegenNode=rE(o,v,n);else{const R=$O(r.codegenNode);R.alternate=rE(o,v+r.branches.length-1,n)}}}));function UO(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const o=t.exp?t.exp.loc:e.loc;n.onError(Oo(28,t.loc)),t.exp=Wr("true",!1,o)}if(t.name==="if"){const o=nE(e,t),d={type:9,loc:e.loc,branches:[o]};if(n.replaceNode(d),r)return r(d,o,!0)}else{const o=n.parent.children;let d=o.indexOf(e);for(;d-->=-1;){const h=o[d];if(h&&h.type===3){n.removeNode(h);continue}if(h&&h.type===2&&!h.content.trim().length){n.removeNode(h);continue}if(h&&h.type===9){t.name==="else-if"&&h.branches[h.branches.length-1].condition===void 0&&n.onError(Oo(30,e.loc)),n.removeNode();const s=nE(e,t);h.branches.push(s);const v=r&&r(h,s,!1);Vb(s,n),v&&v(),n.currentNode=null}else n.onError(Oo(30,e.loc));break}}}function nE(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!Yd(e,"for")?e.children:[e],userKey:Ub(e,"key"),isTemplateIf:n}}function rE(e,t,n){return e.condition?fT(e.condition,sE(e,t,n),Sa(n.helper(g_),['""',"true"])):sE(e,t,n)}function sE(e,t,n){const{helper:r}=n,o=Xo("key",Wr(`${t}`,!1,vd,2)),{children:d}=e,h=d[0];if(d.length!==1||h.type!==1)if(d.length===1&&h.type===11){const v=h.codegenNode;return qx(v,o,n),v}else{let v=64;return Ky(n,r(Xy),Xd([o]),d,v+"",void 0,void 0,!0,!1,!1,e.loc)}else{const v=h.codegenNode,R=rO(v);return R.type===13&&QS(R,n),qx(R,o,n),v}}function $O(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const VO=GA("for",(e,t,n)=>{const{helper:r,removeHelper:o}=n;return GO(e,t,n,d=>{const h=Sa(r(WS),[d.source]),s=Wx(e),v=Yd(e,"memo"),R=Ub(e,"key"),J=R&&(R.type===6?Wr(R.value.content,!0):R.exp),k=R?Xo("key",J):null,z=d.source.type===4&&d.source.constType>0,q=z?64:R?128:256;return d.codegenNode=Ky(n,r(Xy),void 0,h,q+"",void 0,void 0,!0,!z,!1,e.loc),()=>{let L;const{children:O}=d,G=O.length!==1||O[0].type!==1,M=Yx(e)?e:s&&e.children.length===1&&Yx(e.children[0])?e.children[0]:null;if(M?(L=M.codegenNode,s&&k&&qx(L,k,n)):G?L=Ky(n,r(Xy),k?Xd([k]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(L=O[0].codegenNode,s&&k&&qx(L,k,n),L.isBlock!==!z&&(L.isBlock?(o(H0),o(Og(n.inSSR,L.isComponent))):o(Lg(n.inSSR,L.isComponent))),L.isBlock=!z,L.isBlock?(r(H0),r(Og(n.inSSR,L.isComponent))):r(Lg(n.inSSR,L.isComponent))),v){const S=Ig(yT(d.parseResult,[Wr("_cached")]));S.body=XL([wu(["const _memo = (",v.exp,")"]),wu(["if (_cached",...J?[" && _cached.key === ",J]:[],` && ${n.helperString(LA)}(_cached, _memo)) return _cached`]),wu(["const _item = ",L]),Wr("_item.memo = _memo"),Wr("return _item")]),h.arguments.push(S,Wr("_cache"),Wr(String(n.cached++)))}else h.arguments.push(Ig(yT(d.parseResult),L,!0))}})});function GO(e,t,n,r){if(!t.exp){n.onError(Oo(31,t.loc));return}const o=qA(t.exp);if(!o){n.onError(Oo(32,t.loc));return}const{addIdentifiers:d,removeIdentifiers:h,scopes:s}=n,{source:v,value:R,key:J,index:k}=o,z={type:11,loc:t.loc,source:v,valueAlias:R,keyAlias:J,objectIndexAlias:k,parseResult:o,children:Wx(e)?e.children:[e]};n.replaceNode(z),s.vFor++;const q=r&&r(z);return()=>{s.vFor--,q&&q()}}const HO=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,oE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,WO=/^\(|\)$/g;function qA(e,t){const n=e.loc,r=e.content,o=r.match(HO);if(!o)return;const[,d,h]=o,s={source:nx(n,h.trim(),r.indexOf(h,d.length)),value:void 0,key:void 0,index:void 0};let v=d.trim().replace(WO,"").trim();const R=d.indexOf(v),J=v.match(oE);if(J){v=v.replace(oE,"").trim();const k=J[1].trim();let z;if(k&&(z=r.indexOf(k,R+v.length),s.key=nx(n,k,z)),J[2]){const q=J[2].trim();q&&(s.index=nx(n,q,r.indexOf(q,s.key?z+k.length:R+v.length)))}}return v&&(s.value=nx(n,v,R)),s}function nx(e,t,n){return Wr(t,!1,BA(e,n,t.length))}function yT({value:e,key:t,index:n},r=[]){return YO([e,t,n,...r])}function YO(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||Wr("_".repeat(r+1),!1))}const aE=Wr("undefined",!1),qO=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=Yd(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},XO=(e,t,n)=>Ig(e,t,!1,!0,t.length?t[0].loc:n);function ZO(e,t,n=XO){t.helper(ZS);const{children:r,loc:o}=e,d=[],h=[];let s=t.scopes.vSlot>0||t.scopes.vFor>0;const v=Yd(e,"slot",!0);if(v){const{arg:G,exp:M}=v;G&&!Vc(G)&&(s=!0),d.push(Xo(G||Wr("default",!0),n(M,r,o)))}let R=!1,J=!1;const k=[],z=new Set;let q=0;for(let G=0;G<r.length;G++){const M=r[G];let S;if(!Wx(M)||!(S=Yd(M,"slot",!0))){M.type!==3&&k.push(M);continue}if(v){t.onError(Oo(37,S.loc));break}R=!0;const{children:P,loc:H}=M,{arg:U=Wr("default",!0),exp:E,loc:ie}=S;let te;Vc(U)?te=U?U.content:"default":s=!0;const $=n(E,P,H);let V,j,w;if(V=Yd(M,"if"))s=!0,h.push(fT(V.exp,rx(U,$,q++),aE));else if(j=Yd(M,/^else(-if)?$/,!0)){let I=G,m;for(;I--&&(m=r[I],m.type===3););if(m&&Wx(m)&&Yd(m,"if")){r.splice(G,1),G--;let g=h[h.length-1];for(;g.alternate.type===19;)g=g.alternate;g.alternate=j.exp?fT(j.exp,rx(U,$,q++),aE):rx(U,$,q++)}else t.onError(Oo(30,j.loc))}else if(w=Yd(M,"for")){s=!0;const I=w.parseResult||qA(w.exp);I?h.push(Sa(t.helper(WS),[I.source,Ig(yT(I),rx(U,$),!0)])):t.onError(Oo(32,w.loc))}else{if(te){if(z.has(te)){t.onError(Oo(38,ie));continue}z.add(te),te==="default"&&(J=!0)}d.push(Xo(U,$))}}if(!v){const G=(M,S)=>{const P=n(M,S,o);return t.compatConfig&&(P.isNonScopedSlot=!0),Xo("default",P)};R?k.length&&k.some(M=>XA(M))&&(J?t.onError(Oo(39,k[0].loc)):d.push(G(void 0,k))):d.push(G(void 0,r))}const L=s?2:Tx(e.children)?3:1;let O=Xd(d.concat(Xo("_",Wr(L+"",!1))),o);return h.length&&(O=Sa(t.helper(IA),[O,__(h)])),{slots:O,hasDynamicSlots:s}}function rx(e,t,n){const r=[Xo("name",e),Xo("fn",t)];return n!=null&&r.push(Xo("key",Wr(String(n),!0))),Xd(r)}function Tx(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||Tx(n.children))return!0;break;case 9:if(Tx(n.branches))return!0;break;case 10:case 11:if(Tx(n.children))return!0;break}}return!1}function XA(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():XA(e.content)}const ZA=new WeakMap,KO=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:o}=e,d=e.tagType===1;let h=d?JO(e,t):`"${r}"`;const s=Ys(h)&&h.callee===Ux;let v,R,J,k=0,z,q,L,O=s||h===zy||h===NS||!d&&(r==="svg"||r==="foreignObject");if(o.length>0){const G=KA(e,t,void 0,d,s);v=G.props,k=G.patchFlag,q=G.dynamicPropNames;const M=G.directives;L=M&&M.length?__(M.map(S=>e9(S,t))):void 0,G.shouldUseBlock&&(O=!0)}if(e.children.length>0)if(h===jx&&(O=!0,k|=1024),d&&h!==zy&&h!==jx){const{slots:M,hasDynamicSlots:S}=ZO(e,t);R=M,S&&(k|=1024)}else if(e.children.length===1&&h!==zy){const M=e.children[0],S=M.type,P=S===5||S===8;P&&Zd(M,t)===0&&(k|=1),P||S===2?R=M:R=e.children}else R=e.children;k!==0&&(J=String(k),q&&q.length&&(z=t9(q))),e.codegenNode=Ky(t,h,v,R,J,z,L,!!O,!1,d,e.loc)};function JO(e,t,n=!1){let{tag:r}=e;const o=_T(r),d=Ub(e,"is");if(d)if(o||F0("COMPILER_IS_ON_ELEMENT",t)){const v=d.type===6?d.value&&Wr(d.value.content,!0):d.exp;if(v)return Sa(t.helper(Ux),[v])}else d.type===6&&d.value.content.startsWith("vue:")&&(r=d.value.content.slice(4));const h=!o&&Yd(e,"is");if(h&&h.exp)return Sa(t.helper(Ux),[h.exp]);const s=OA(r)||t.isBuiltInComponent(r);return s?(n||t.helper(s),s):(t.helper($S),t.components.add(r),Jy(r,"component"))}function KA(e,t,n=e.props,r,o,d=!1){const{tag:h,loc:s,children:v}=e;let R=[];const J=[],k=[],z=v.length>0;let q=!1,L=0,O=!1,G=!1,M=!1,S=!1,P=!1,H=!1;const U=[],E=$=>{R.length&&(J.push(Xd(lE(R),s)),R=[]),$&&J.push($)},ie=({key:$,value:V})=>{if(Vc($)){const j=$.content,w=X0(j);if(w&&(!r||o)&&j.toLowerCase()!=="onclick"&&j!=="onUpdate:modelValue"&&!L0(j)&&(S=!0),w&&L0(j)&&(H=!0),V.type===20||(V.type===4||V.type===8)&&Zd(V,t)>0)return;j==="ref"?O=!0:j==="class"?G=!0:j==="style"?M=!0:j!=="key"&&!U.includes(j)&&U.push(j),r&&(j==="class"||j==="style")&&!U.includes(j)&&U.push(j)}else P=!0};for(let $=0;$<n.length;$++){const V=n[$];if(V.type===6){const{loc:j,name:w,value:I}=V;let m=!0;if(w==="ref"&&(O=!0,t.scopes.vFor>0&&R.push(Xo(Wr("ref_for",!0),Wr("true")))),w==="is"&&(_T(h)||I&&I.content.startsWith("vue:")||F0("COMPILER_IS_ON_ELEMENT",t)))continue;R.push(Xo(Wr(w,!0,BA(j,0,w.length)),Wr(I?I.content:"",m,I?I.loc:j)))}else{const{name:j,arg:w,exp:I,loc:m}=V,g=j==="bind",b=j==="on";if(j==="slot"){r||t.onError(Oo(40,m));continue}if(j==="once"||j==="memo"||j==="is"||g&&A0(w,"is")&&(_T(h)||F0("COMPILER_IS_ON_ELEMENT",t))||b&&d)continue;if((g&&A0(w,"key")||b&&z&&A0(w,"vue:before-update"))&&(q=!0),g&&A0(w,"ref")&&t.scopes.vFor>0&&R.push(Xo(Wr("ref_for",!0),Wr("true"))),!w&&(g||b)){if(P=!0,I)if(g){if(E(),F0("COMPILER_V_BIND_OBJECT_ORDER",t)){J.unshift(I);continue}J.push(I)}else E({type:14,loc:m,callee:t.helper(XS),arguments:r?[I]:[I,"true"]});else t.onError(Oo(g?34:35,m));continue}const A=t.directiveTransforms[j];if(A){const{props:X,needRuntime:Y}=A(V,e,t);!d&&X.forEach(ie),b&&w&&!Vc(w)?E(Xd(X,s)):R.push(...X),Y&&(k.push(V),uf(Y)&&ZA.set(V,Y))}else zD(j)||(k.push(V),z&&(q=!0))}}let te;if(J.length?(E(),J.length>1?te=Sa(t.helper($x),J,s):te=J[0]):R.length&&(te=Xd(lE(R),s)),P?L|=16:(G&&!r&&(L|=2),M&&!r&&(L|=4),U.length&&(L|=8),S&&(L|=32)),!q&&(L===0||L===32)&&(O||H||k.length>0)&&(L|=512),!t.inSSR&&te)switch(te.type){case 15:let $=-1,V=-1,j=!1;for(let m=0;m<te.properties.length;m++){const g=te.properties[m].key;Vc(g)?g.content==="class"?$=m:g.content==="style"&&(V=m):g.isHandlerKey||(j=!0)}const w=te.properties[$],I=te.properties[V];j?te=Sa(t.helper(Zy),[te]):(w&&!Vc(w.value)&&(w.value=Sa(t.helper(YS),[w.value])),I&&(M||I.value.type===4&&I.value.content.trim()[0]==="["||I.value.type===17)&&(I.value=Sa(t.helper(qS),[I.value])));break;case 14:break;default:te=Sa(t.helper(Zy),[Sa(t.helper(y_),[te])]);break}return{props:te,directives:k,patchFlag:L,dynamicPropNames:U,shouldUseBlock:q}}function lE(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const o=e[r];if(o.key.type===8||!o.key.isStatic){n.push(o);continue}const d=o.key.content,h=t.get(d);h?(d==="style"||d==="class"||X0(d))&&QO(h,o):(t.set(d,o),n.push(o))}return n}function QO(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=__([e.value,t.value],e.loc)}function e9(e,t){const n=[],r=ZA.get(e);r?n.push(t.helperString(r)):(t.helper(VS),t.directives.add(e.name),n.push(Jy(e.name,"directive")));const{loc:o}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const d=Wr("true",!1,o);n.push(Xd(e.modifiers.map(h=>Xo(h,d)),o))}return __(n,e.loc)}function t9(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function _T(e){return e==="component"||e==="Component"}const i9=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},n9=/-(\w)/g,cE=i9(e=>e.replace(n9,(t,n)=>n?n.toUpperCase():"")),r9=(e,t)=>{if(Yx(e)){const{children:n,loc:r}=e,{slotName:o,slotProps:d}=s9(e,t),h=[t.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let s=2;d&&(h[2]=d,s=3),n.length&&(h[3]=Ig([],n,!1,!1,r),s=4),t.scopeId&&!t.slotted&&(s=5),h.splice(s),e.codegenNode=Sa(t.helper(DA),h,r)}};function s9(e,t){let n='"default"',r;const o=[];for(let d=0;d<e.props.length;d++){const h=e.props[d];h.type===6?h.value&&(h.name==="name"?n=JSON.stringify(h.value.content):(h.name=cE(h.name),o.push(h))):h.name==="bind"&&A0(h.arg,"name")?h.exp&&(n=h.exp):(h.name==="bind"&&h.arg&&Vc(h.arg)&&(h.arg.content=cE(h.arg.content)),o.push(h))}if(o.length>0){const{props:d,directives:h}=KA(e,t,o,!1,!1);r=d,h.length&&t.onError(Oo(36,h[0].loc))}return{slotName:n,slotProps:r}}const o9=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,JA=(e,t,n,r)=>{const{loc:o,modifiers:d,arg:h}=e;!e.exp&&!d.length&&n.onError(Oo(35,o));let s;if(h.type===4)if(h.isStatic){let k=h.content;k.startsWith("vue:")&&(k=`vnode-${k.slice(4)}`);const z=t.tagType!==0||k.startsWith("vnode")||!/[A-Z]/.test(k)?O0(tl(k)):`on:${k}`;s=Wr(z,!0,h.loc)}else s=wu([`${n.helperString(pT)}(`,h,")"]);else s=h,s.children.unshift(`${n.helperString(pT)}(`),s.children.push(")");let v=e.exp;v&&!v.content.trim()&&(v=void 0);let R=n.cacheHandlers&&!v&&!n.inVOnce;if(v){const k=RA(v.content),z=!(k||o9.test(v.content)),q=v.content.includes(";");(z||R&&k)&&(v=wu([`${z?"$event":"(...args)"} => ${q?"{":"("}`,v,q?"}":")"]))}let J={props:[Xo(s,v||Wr("() => {}",!1,o))]};return r&&(J=r(J)),R&&(J.props[0].value=n.cache(J.props[0].value)),J.props.forEach(k=>k.key.isHandlerKey=!0),J},a9=(e,t,n)=>{const{exp:r,modifiers:o,loc:d}=e,h=e.arg;return h.type!==4?(h.children.unshift("("),h.children.push(') || ""')):h.isStatic||(h.content=`${h.content} || ""`),o.includes("camel")&&(h.type===4?h.isStatic?h.content=tl(h.content):h.content=`${n.helperString(hT)}(${h.content})`:(h.children.unshift(`${n.helperString(hT)}(`),h.children.push(")"))),n.inSSR||(o.includes("prop")&&dE(h,"."),o.includes("attr")&&dE(h,"^")),!r||r.type===4&&!r.content.trim()?(n.onError(Oo(34,d)),{props:[Xo(h,Wr("",!0,d))]}):{props:[Xo(h,r)]}},dE=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},l9=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,o=!1;for(let d=0;d<n.length;d++){const h=n[d];if(d3(h)){o=!0;for(let s=d+1;s<n.length;s++){const v=n[s];if(d3(v))r||(r=n[d]=wu([h],h.loc)),r.children.push(" + ",v),n.splice(s,1),s--;else{r=void 0;break}}}}if(!(!o||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(d=>d.type===7&&!t.directiveTransforms[d.name])&&e.tag!=="template")))for(let d=0;d<n.length;d++){const h=n[d];if(d3(h)||h.type===8){const s=[];(h.type!==2||h.content!==" ")&&s.push(h),!t.ssr&&Zd(h,t)===0&&s.push("1"),n[d]={type:12,content:h,loc:h.loc,codegenNode:Sa(t.helper(US),s)}}}}},uE=new WeakSet,c9=(e,t)=>{if(e.type===1&&Yd(e,"once",!0))return uE.has(e)||t.inVOnce?void 0:(uE.add(e),t.inVOnce=!0,t.helper(Vx),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},QA=(e,t,n)=>{const{exp:r,arg:o}=e;if(!r)return n.onError(Oo(41,e.loc)),sx();const d=r.loc.source,h=r.type===4?r.content:d,s=n.bindingMetadata[d];if(s==="props"||s==="props-aliased")return n.onError(Oo(44,r.loc)),sx();const v=!1;if(!h.trim()||!RA(h)&&!v)return n.onError(Oo(42,r.loc)),sx();const R=o||Wr("modelValue",!0),J=o?Vc(o)?`onUpdate:${o.content}`:wu(['"onUpdate:" + ',o]):"onUpdate:modelValue";let k;const z=n.isTS?"($event: any)":"$event";k=wu([`${z} => ((`,r,") = $event)"]);const q=[Xo(R,e.exp),Xo(J,k)];if(e.modifiers.length&&t.tagType===1){const L=e.modifiers.map(G=>(JS(G)?G:JSON.stringify(G))+": true").join(", "),O=o?Vc(o)?`${o.content}Modifiers`:wu([o,' + "Modifiers"']):"modelModifiers";q.push(Xo(O,Wr(`{ ${L} }`,!1,e.loc,2)))}return sx(q)};function sx(e=[]){return{props:e}}const d9=/[\w).+\-_$\]]/,u9=(e,t)=>{F0("COMPILER_FILTER",t)&&(e.type===5&&Xx(e.content,t),e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&Xx(n.exp,t)}))};function Xx(e,t){if(e.type===4)hE(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?hE(r,t):r.type===8?Xx(e,t):r.type===5&&Xx(r.content,t))}}function hE(e,t){const n=e.content;let r=!1,o=!1,d=!1,h=!1,s=0,v=0,R=0,J=0,k,z,q,L,O=[];for(q=0;q<n.length;q++)if(z=k,k=n.charCodeAt(q),r)k===39&&z!==92&&(r=!1);else if(o)k===34&&z!==92&&(o=!1);else if(d)k===96&&z!==92&&(d=!1);else if(h)k===47&&z!==92&&(h=!1);else if(k===124&&n.charCodeAt(q+1)!==124&&n.charCodeAt(q-1)!==124&&!s&&!v&&!R)L===void 0?(J=q+1,L=n.slice(0,q).trim()):G();else{switch(k){case 34:o=!0;break;case 39:r=!0;break;case 96:d=!0;break;case 40:R++;break;case 41:R--;break;case 91:v++;break;case 93:v--;break;case 123:s++;break;case 125:s--;break}if(k===47){let M=q-1,S;for(;M>=0&&(S=n.charAt(M),S===" ");M--);(!S||!d9.test(S))&&(h=!0)}}L===void 0?L=n.slice(0,q).trim():J!==0&&G();function G(){O.push(n.slice(J,q).trim()),J=q+1}if(O.length){for(q=0;q<O.length;q++)L=h9(L,O[q],t);e.content=L}}function h9(e,t,n){n.helper(GS);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${Jy(t,"filter")}(${e})`;{const o=t.slice(0,r),d=t.slice(r+1);return n.filters.add(o),`${Jy(o,"filter")}(${e}${d!==")"?","+d:d}`}}const pE=new WeakSet,p9=(e,t)=>{if(e.type===1){const n=Yd(e,"memo");return!n||pE.has(e)?void 0:(pE.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&QS(r,t),e.codegenNode=Sa(t.helper(KS),[n.exp,Ig(void 0,r),"_cache",String(t.cached++)]))})}};function f9(e){return[[c9,jO,p9,VO,u9,r9,KO,qO,l9],{on:JA,bind:a9,model:QA}]}function m9(e,t={}){const n=t.onError||zS,r=t.mode==="module";t.prefixIdentifiers===!0?n(Oo(47)):r&&n(Oo(48));const o=!1;t.cacheHandlers&&n(Oo(49)),t.scopeId&&!r&&n(Oo(50));const d=Br(e)?aO(e,t):e,[h,s]=f9();return bO(d,Ds({},t,{prefixIdentifiers:o,nodeTransforms:[...h,...t.nodeTransforms||[]],directiveTransforms:Ds({},s,t.directiveTransforms||{})})),CO(d,Ds({},t,{prefixIdentifiers:o}))}const g9=()=>({props:[]}),e8=Symbol(""),t8=Symbol(""),i8=Symbol(""),n8=Symbol(""),vT=Symbol(""),r8=Symbol(""),s8=Symbol(""),o8=Symbol(""),a8=Symbol(""),l8=Symbol("");WL({[e8]:"vModelRadio",[t8]:"vModelCheckbox",[i8]:"vModelText",[n8]:"vModelSelect",[vT]:"vModelDynamic",[r8]:"withModifiers",[s8]:"withKeys",[o8]:"vShow",[a8]:"Transition",[l8]:"TransitionGroup"});let ag;function y9(e,t=!1){return ag||(ag=document.createElement("div")),t?(ag.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,ag.children[0].getAttribute("foo")):(ag.innerHTML=e,ag.textContent)}const _9=Hc("style,iframe,script,noscript",!0),v9={isVoidTag:PD,isNativeTag:e=>kD(e)||AD(e),isPreTag:e=>e==="pre",decodeEntities:y9,isBuiltInComponent:e=>{if(hg(e,"Transition"))return a8;if(hg(e,"TransitionGroup"))return l8},getNamespace(e,t){let n=t?t.ns:0;if(t&&n===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(e==="svg")return 1;if(e==="math")return 2}return n},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(_9(e))return 2}return 0}},x9=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Wr("style",!0,t.loc),exp:b9(t.value.content,t.loc),modifiers:[],loc:t.loc})})},b9=(e,t)=>{const n=zM(e);return Wr(JSON.stringify(n),!1,t,3)};function ip(e,t){return Oo(e,t)}const w9=(e,t,n)=>{const{exp:r,loc:o}=e;return r||n.onError(ip(51,o)),t.children.length&&(n.onError(ip(52,o)),t.children.length=0),{props:[Xo(Wr("innerHTML",!0,o),r||Wr("",!0))]}},T9=(e,t,n)=>{const{exp:r,loc:o}=e;return r||n.onError(ip(53,o)),t.children.length&&(n.onError(ip(54,o)),t.children.length=0),{props:[Xo(Wr("textContent",!0),r?Zd(r,n)>0?r:Sa(n.helperString(jb),[r],o):Wr("",!0))]}},S9=(e,t,n)=>{const r=QA(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(ip(56,e.arg.loc));const{tag:o}=t,d=n.isCustomElement(o);if(o==="input"||o==="textarea"||o==="select"||d){let h=i8,s=!1;if(o==="input"||d){const v=Ub(t,"type");if(v){if(v.type===7)h=vT;else if(v.value)switch(v.value.content){case"radio":h=e8;break;case"checkbox":h=t8;break;case"file":s=!0,n.onError(ip(57,e.loc));break}}else tO(t)&&(h=vT)}else o==="select"&&(h=n8);s||(r.needRuntime=n.helper(h))}else n.onError(ip(55,e.loc));return r.props=r.props.filter(h=>!(h.key.type===4&&h.key.content==="modelValue")),r},C9=Hc("passive,once,capture"),E9=Hc("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),M9=Hc("left,right"),c8=Hc("onkeyup,onkeydown,onkeypress",!0),k9=(e,t,n,r)=>{const o=[],d=[],h=[];for(let s=0;s<t.length;s++){const v=t[s];v==="native"&&Qy("COMPILER_V_ON_NATIVE",n)||C9(v)?h.push(v):M9(v)?Vc(e)?c8(e.content)?o.push(v):d.push(v):(o.push(v),d.push(v)):E9(v)?d.push(v):o.push(v)}return{keyModifiers:o,nonKeyModifiers:d,eventOptionModifiers:h}},fE=(e,t)=>Vc(e)&&e.content.toLowerCase()==="onclick"?Wr(t,!0):e.type!==4?wu(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,A9=(e,t,n)=>JA(e,t,n,r=>{const{modifiers:o}=e;if(!o.length)return r;let{key:d,value:h}=r.props[0];const{keyModifiers:s,nonKeyModifiers:v,eventOptionModifiers:R}=k9(d,o,n,e.loc);if(v.includes("right")&&(d=fE(d,"onContextmenu")),v.includes("middle")&&(d=fE(d,"onMouseup")),v.length&&(h=Sa(n.helper(r8),[h,JSON.stringify(v)])),s.length&&(!Vc(d)||c8(d.content))&&(h=Sa(n.helper(s8),[h,JSON.stringify(s)])),R.length){const J=R.map(bf).join("");d=Vc(d)?Wr(`${d.content}${J}`,!0):wu(["(",d,`) + "${J}"`])}return{props:[Xo(d,h)]}}),P9=(e,t,n)=>{const{exp:r,loc:o}=e;return r||n.onError(ip(59,o)),{props:[],needRuntime:n.helper(o8)}},D9=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(ip(61,e.loc)),t.removeNode())},I9=[x9],L9={cloak:g9,html:w9,text:T9,model:S9,on:A9,show:P9};function O9(e,t={}){return m9(e,Ds({},v9,t,{nodeTransforms:[D9,...I9,...t.nodeTransforms||[]],directiveTransforms:Ds({},L9,t.directiveTransforms||{}),transformHoist:null}))}const mE=Object.create(null);function d8(e,t){if(!Br(e))if(e.nodeType)e=e.innerHTML;else return yc;const n=e,r=mE[n];if(r)return r;if(e[0]==="#"){const s=document.querySelector(e);e=s?s.innerHTML:""}const o=Ds({hoistStatic:!0,onError:void 0,onWarn:yc},t);!o.isCustomElement&&typeof customElements<"u"&&(o.isCustomElement=s=>!!customElements.get(s));const{code:d}=O9(e,o),h=new Function("Vue",d)(jL);return h._rc=!0,mE[n]=h}MS(d8);const R9=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Lb,Comment:gl,EffectScope:_b,Fragment:cn,KeepAlive:Ck,ReactiveEffect:jg,Static:of,Suspense:_k,Teleport:CS,Text:gf,Transition:Au,TransitionGroup:yA,VueElement:m_,callWithAsyncErrorHandling:Gc,callWithErrorHandling:dh,camelize:tl,capitalize:bf,cloneVNode:Tu,compatUtils:aA,compile:d8,computed:hn,createApp:BS,createBlock:Ir,createCommentVNode:vi,createElementBlock:Bt,createElementVNode:Ye,createHydrationRenderer:TS,createPropsRestProxy:tA,createRenderer:wS,createSSRApp:TA,createSlots:Bl,createStaticVNode:_d,createTextVNode:ds,createVNode:dn,customRef:lk,defineAsyncComponent:Sk,defineComponent:xc,defineCustomElement:LS,defineEmits:Zk,defineExpose:Kk,defineProps:Xk,defineSSRCustomElement:lA,get devtools(){return E0},effect:WM,effectScope:$M,getCurrentInstance:dp,getCurrentScope:QT,getTransitionRawChildren:u_,guardReactiveProps:Ol,h:Uc,handleError:wf,hydrate:RS,initCustomFormatter:nA,initDirectivesForSSR:CA,inject:B0,isMemoSame:DS,isProxy:Sb,isReactive:sf,isReadonly:pf,isRef:ca,isRuntimeOnly:Wk,isShallow:kg,isVNode:op,markRaw:Cb,mergeDefaults:eA,mergeProps:Yo,nextTick:_c,normalizeClass:ar,normalizeProps:Ta,normalizeStyle:el,onActivated:uS,onBeforeMount:pS,onBeforeUnmount:em,onBeforeUpdate:p_,onDeactivated:hS,onErrorCaptured:yS,onMounted:Ko,onRenderTracked:gS,onRenderTriggered:mS,onScopeDispose:eS,onServerPrefetch:fS,onUnmounted:hh,onUpdated:Q0,openBlock:bt,popScopeId:J0,provide:Vg,proxyRefs:Mb,pushScopeId:K0,queuePostFlushCb:Ab,reactive:ku,readonly:wb,ref:on,registerRuntimeCompiler:MS,render:Fx,renderList:_r,renderSlot:xn,resolveComponent:Tr,resolveDirective:Bb,resolveDynamicComponent:Rb,resolveFilter:oA,resolveTransitionHooks:V0,setBlockTracking:zx,setDevtoolsHook:aS,setTransitionHooks:mf,shallowReactive:nS,shallowReadonly:rk,shallowRef:sk,ssrContextKey:AS,ssrUtils:sA,stop:YM,toDisplayString:Yi,toHandlerKey:O0,toHandlers:Ak,toRaw:us,toRef:ff,toRefs:ck,transformVNodeArgs:Uk,triggerRef:ak,unref:Li,useAttrs:kS,useCssModule:cA,useCssVars:dA,useSSRContext:PS,useSlots:f_,useTransitionState:Ib,vModelCheckbox:lf,vModelDynamic:OS,vModelRadio:Fb,vModelSelect:xu,vModelText:Su,vShow:N0,version:IS,warn:uk,watch:ha,watchEffect:xk,watchPostEffect:dS,watchSyncEffect:bk,withAsyncContext:iA,withCtx:Yn,withDefaults:Jk,withDirectives:po,withKeys:wr,withMemo:rA,withModifiers:mc,withScopeId:gk},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var u8;function bn(){return u8.apply(null,arguments)}function B9(e){u8=e}function Cu(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function j0(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ms(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i5(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ms(e,t))return!1;return!0}function Fc(e){return e===void 0}function ap(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function x_(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function h8(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function Qp(e,t){for(var n in t)Ms(t,n)&&(e[n]=t[n]);return Ms(t,"toString")&&(e.toString=t.toString),Ms(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ph(e,t,n,r){return B8(e,t,n,r,!0).utc()}function z9(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Rr(e){return e._pf==null&&(e._pf=z9()),e._pf}var xT;Array.prototype.some?xT=Array.prototype.some:xT=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function n5(e){if(e._isValid==null){var t=Rr(e),n=xT.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Hb(e){var t=ph(NaN);return e!=null?Qp(Rr(t),e):Rr(t).userInvalidated=!0,t}var gE=bn.momentProperties=[],h3=!1;function r5(e,t){var n,r,o,d=gE.length;if(Fc(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Fc(t._i)||(e._i=t._i),Fc(t._f)||(e._f=t._f),Fc(t._l)||(e._l=t._l),Fc(t._strict)||(e._strict=t._strict),Fc(t._tzm)||(e._tzm=t._tzm),Fc(t._isUTC)||(e._isUTC=t._isUTC),Fc(t._offset)||(e._offset=t._offset),Fc(t._pf)||(e._pf=Rr(t)),Fc(t._locale)||(e._locale=t._locale),d>0)for(n=0;n<d;n++)r=gE[n],o=t[r],Fc(o)||(e[r]=o);return e}function b_(e){r5(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),h3===!1&&(h3=!0,bn.updateOffset(this),h3=!1)}function Eu(e){return e instanceof b_||e!=null&&e._isAMomentObject!=null}function p8(e){bn.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function eu(e,t){var n=!0;return Qp(function(){if(bn.deprecationHandler!=null&&bn.deprecationHandler(null,e),n){var r=[],o,d,h,s=arguments.length;for(d=0;d<s;d++){if(o="",typeof arguments[d]=="object"){o+=`
[`+d+"] ";for(h in arguments[0])Ms(arguments[0],h)&&(o+=h+": "+arguments[0][h]+", ");o=o.slice(0,-2)}else o=arguments[d];r.push(o)}p8(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var yE={};function f8(e,t){bn.deprecationHandler!=null&&bn.deprecationHandler(e,t),yE[e]||(p8(t),yE[e]=!0)}bn.suppressDeprecationWarnings=!1;bn.deprecationHandler=null;function fh(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function N9(e){var t,n;for(n in e)Ms(e,n)&&(t=e[n],fh(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function bT(e,t){var n=Qp({},e),r;for(r in t)Ms(t,r)&&(j0(e[r])&&j0(t[r])?(n[r]={},Qp(n[r],e[r]),Qp(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Ms(e,r)&&!Ms(t,r)&&j0(e[r])&&(n[r]=Qp({},n[r]));return n}function s5(e){e!=null&&this.set(e)}var wT;Object.keys?wT=Object.keys:wT=function(e){var t,n=[];for(t in e)Ms(e,t)&&n.push(t);return n};var F9={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function j9(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return fh(r)?r.call(t,n):r}function uh(e,t,n){var r=""+Math.abs(e),o=t-r.length,d=e>=0;return(d?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var o5=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ox=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,p3={},xg={};function er(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(xg[e]=o),t&&(xg[t[0]]=function(){return uh(o.apply(this,arguments),t[1],t[2])}),n&&(xg[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function U9(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function $9(e){var t=e.match(o5),n,r;for(n=0,r=t.length;n<r;n++)xg[t[n]]?t[n]=xg[t[n]]:t[n]=U9(t[n]);return function(o){var d="",h;for(h=0;h<r;h++)d+=fh(t[h])?t[h].call(o,e):t[h];return d}}function Sx(e,t){return e.isValid()?(t=m8(t,e.localeData()),p3[t]=p3[t]||$9(t),p3[t](e)):e.localeData().invalidDate()}function m8(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(ox.lastIndex=0;n>=0&&ox.test(e);)e=e.replace(ox,r),ox.lastIndex=0,n-=1;return e}var V9={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G9(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(o5).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var H9="Invalid date";function W9(){return this._invalidDate}var Y9="%d",q9=/\d{1,2}/;function X9(e){return this._ordinal.replace("%d",e)}var Z9={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function K9(e,t,n,r){var o=this._relativeTime[n];return fh(o)?o(e,t,n,r):o.replace(/%d/i,e)}function J9(e,t){var n=this._relativeTime[e>0?"future":"past"];return fh(n)?n(t):n.replace(/%s/i,t)}var Fy={};function Ul(e,t){var n=e.toLowerCase();Fy[n]=Fy[n+"s"]=Fy[t]=e}function tu(e){return typeof e=="string"?Fy[e]||Fy[e.toLowerCase()]:void 0}function a5(e){var t={},n,r;for(r in e)Ms(e,r)&&(n=tu(r),n&&(t[n]=e[r]));return t}var g8={};function $l(e,t){g8[e]=t}function Q9(e){var t=[],n;for(n in e)Ms(e,n)&&t.push({unit:n,priority:g8[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function Wb(e){return e%4===0&&e%100!==0||e%400===0}function qd(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Zr(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=qd(t)),n}function Gg(e,t){return function(n){return n!=null?(y8(this,e,n),bn.updateOffset(this,t),this):Zx(this,e)}}function Zx(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function y8(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Wb(e.year())&&e.month()===1&&e.date()===29?(n=Zr(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Jb(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function e7(e){return e=tu(e),fh(this[e])?this[e]():this}function t7(e,t){if(typeof e=="object"){e=a5(e);var n=Q9(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=tu(e),fh(this[e]))return this[e](t);return this}var _8=/\d/,xd=/\d\d/,v8=/\d{3}/,l5=/\d{4}/,Yb=/[+-]?\d{6}/,ko=/\d\d?/,x8=/\d\d\d\d?/,b8=/\d\d\d\d\d\d?/,qb=/\d{1,3}/,c5=/\d{1,4}/,Xb=/[+-]?\d{1,6}/,Hg=/\d+/,Zb=/[+-]?\d+/,i7=/Z|[+-]\d\d:?\d\d/gi,Kb=/Z|[+-]\d\d(?::?\d\d)?/gi,n7=/[+-]?\d+(\.\d{1,3})?/,w_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Kx;Kx={};function Dn(e,t,n){Kx[e]=fh(t)?t:function(r,o){return r&&n?n:t}}function r7(e,t){return Ms(Kx,e)?Kx[e](t._strict,t._locale):new RegExp(s7(e))}function s7(e){return fd(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,d){return n||r||o||d}))}function fd(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var TT={};function Xs(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),ap(t)&&(r=function(d,h){h[t]=Zr(d)}),o=e.length,n=0;n<o;n++)TT[e[n]]=r}function T_(e,t){Xs(e,function(n,r,o,d){o._w=o._w||{},t(n,o._w,o,d)})}function o7(e,t,n){t!=null&&Ms(TT,e)&&TT[e](t,n._a,n,e)}var jl=0,Kh=1,rh=2,za=3,bu=4,Jh=5,P0=6,a7=7,l7=8;function c7(e,t){return(e%t+t)%t}var la;Array.prototype.indexOf?la=Array.prototype.indexOf:la=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Jb(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=c7(t,12);return e+=(t-n)/12,n===1?Wb(e)?29:28:31-n%7%2}er("M",["MM",2],"Mo",function(){return this.month()+1});er("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});er("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ul("month","M");$l("month",8);Dn("M",ko);Dn("MM",ko,xd);Dn("MMM",function(e,t){return t.monthsShortRegex(e)});Dn("MMMM",function(e,t){return t.monthsRegex(e)});Xs(["M","MM"],function(e,t){t[Kh]=Zr(e)-1});Xs(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[Kh]=o:Rr(n).invalidMonth=e});var d7="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),w8="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),T8=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,u7=w_,h7=w_;function p7(e,t){return e?Cu(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||T8).test(t)?"format":"standalone"][e.month()]:Cu(this._months)?this._months:this._months.standalone}function f7(e,t){return e?Cu(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[T8.test(t)?"format":"standalone"][e.month()]:Cu(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function m7(e,t,n){var r,o,d,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)d=ph([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(d,"").toLocaleLowerCase();return n?t==="MMM"?(o=la.call(this._shortMonthsParse,h),o!==-1?o:null):(o=la.call(this._longMonthsParse,h),o!==-1?o:null):t==="MMM"?(o=la.call(this._shortMonthsParse,h),o!==-1?o:(o=la.call(this._longMonthsParse,h),o!==-1?o:null)):(o=la.call(this._longMonthsParse,h),o!==-1?o:(o=la.call(this._shortMonthsParse,h),o!==-1?o:null))}function g7(e,t,n){var r,o,d;if(this._monthsParseExact)return m7.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=ph([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(d="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(d.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function S8(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Zr(t);else if(t=e.localeData().monthsParse(t),!ap(t))return e}return n=Math.min(e.date(),Jb(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function C8(e){return e!=null?(S8(this,e),bn.updateOffset(this,!0),this):Zx(this,"Month")}function y7(){return Jb(this.year(),this.month())}function _7(e){return this._monthsParseExact?(Ms(this,"_monthsRegex")||E8.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ms(this,"_monthsShortRegex")||(this._monthsShortRegex=u7),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function v7(e){return this._monthsParseExact?(Ms(this,"_monthsRegex")||E8.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ms(this,"_monthsRegex")||(this._monthsRegex=h7),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function E8(){function e(h,s){return s.length-h.length}var t=[],n=[],r=[],o,d;for(o=0;o<12;o++)d=ph([2e3,o]),t.push(this.monthsShort(d,"")),n.push(this.months(d,"")),r.push(this.months(d,"")),r.push(this.monthsShort(d,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=fd(t[o]),n[o]=fd(n[o]);for(o=0;o<24;o++)r[o]=fd(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}er("Y",0,0,function(){var e=this.year();return e<=9999?uh(e,4):"+"+e});er(0,["YY",2],0,function(){return this.year()%100});er(0,["YYYY",4],0,"year");er(0,["YYYYY",5],0,"year");er(0,["YYYYYY",6,!0],0,"year");Ul("year","y");$l("year",1);Dn("Y",Zb);Dn("YY",ko,xd);Dn("YYYY",c5,l5);Dn("YYYYY",Xb,Yb);Dn("YYYYYY",Xb,Yb);Xs(["YYYYY","YYYYYY"],jl);Xs("YYYY",function(e,t){t[jl]=e.length===2?bn.parseTwoDigitYear(e):Zr(e)});Xs("YY",function(e,t){t[jl]=bn.parseTwoDigitYear(e)});Xs("Y",function(e,t){t[jl]=parseInt(e,10)});function jy(e){return Wb(e)?366:365}bn.parseTwoDigitYear=function(e){return Zr(e)+(Zr(e)>68?1900:2e3)};var M8=Gg("FullYear",!0);function x7(){return Wb(this.year())}function b7(e,t,n,r,o,d,h){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,o,d,h),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,o,d,h),s}function t_(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Jx(e,t,n){var r=7+t-n,o=(7+t_(e,0,r).getUTCDay()-t)%7;return-o+r-1}function k8(e,t,n,r,o){var d=(7+n-r)%7,h=Jx(e,r,o),s=1+7*(t-1)+d+h,v,R;return s<=0?(v=e-1,R=jy(v)+s):s>jy(e)?(v=e+1,R=s-jy(e)):(v=e,R=s),{year:v,dayOfYear:R}}function i_(e,t,n){var r=Jx(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,d,h;return o<1?(h=e.year()-1,d=o+np(h,t,n)):o>np(e.year(),t,n)?(d=o-np(e.year(),t,n),h=e.year()+1):(h=e.year(),d=o),{week:d,year:h}}function np(e,t,n){var r=Jx(e,t,n),o=Jx(e+1,t,n);return(jy(e)-r+o)/7}er("w",["ww",2],"wo","week");er("W",["WW",2],"Wo","isoWeek");Ul("week","w");Ul("isoWeek","W");$l("week",5);$l("isoWeek",5);Dn("w",ko);Dn("ww",ko,xd);Dn("W",ko);Dn("WW",ko,xd);T_(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Zr(e)});function w7(e){return i_(e,this._week.dow,this._week.doy).week}var T7={dow:0,doy:6};function S7(){return this._week.dow}function C7(){return this._week.doy}function E7(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function M7(e){var t=i_(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}er("d",0,"do","day");er("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});er("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});er("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});er("e",0,0,"weekday");er("E",0,0,"isoWeekday");Ul("day","d");Ul("weekday","e");Ul("isoWeekday","E");$l("day",11);$l("weekday",11);$l("isoWeekday",11);Dn("d",ko);Dn("e",ko);Dn("E",ko);Dn("dd",function(e,t){return t.weekdaysMinRegex(e)});Dn("ddd",function(e,t){return t.weekdaysShortRegex(e)});Dn("dddd",function(e,t){return t.weekdaysRegex(e)});T_(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:Rr(n).invalidWeekday=e});T_(["d","e","E"],function(e,t,n,r){t[r]=Zr(e)});function k7(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function A7(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function d5(e,t){return e.slice(t,7).concat(e.slice(0,t))}var P7="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),A8="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),D7="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),I7=w_,L7=w_,O7=w_;function R7(e,t){var n=Cu(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?d5(n,this._week.dow):e?n[e.day()]:n}function B7(e){return e===!0?d5(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function z7(e){return e===!0?d5(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function N7(e,t,n){var r,o,d,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)d=ph([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(d,"").toLocaleLowerCase();return n?t==="dddd"?(o=la.call(this._weekdaysParse,h),o!==-1?o:null):t==="ddd"?(o=la.call(this._shortWeekdaysParse,h),o!==-1?o:null):(o=la.call(this._minWeekdaysParse,h),o!==-1?o:null):t==="dddd"?(o=la.call(this._weekdaysParse,h),o!==-1||(o=la.call(this._shortWeekdaysParse,h),o!==-1)?o:(o=la.call(this._minWeekdaysParse,h),o!==-1?o:null)):t==="ddd"?(o=la.call(this._shortWeekdaysParse,h),o!==-1||(o=la.call(this._weekdaysParse,h),o!==-1)?o:(o=la.call(this._minWeekdaysParse,h),o!==-1?o:null)):(o=la.call(this._minWeekdaysParse,h),o!==-1||(o=la.call(this._weekdaysParse,h),o!==-1)?o:(o=la.call(this._shortWeekdaysParse,h),o!==-1?o:null))}function F7(e,t,n){var r,o,d;if(this._weekdaysParseExact)return N7.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=ph([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(d="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(d.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function j7(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=k7(e,this.localeData()),this.add(e-t,"d")):t}function U7(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function $7(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=A7(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function V7(e){return this._weekdaysParseExact?(Ms(this,"_weekdaysRegex")||u5.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ms(this,"_weekdaysRegex")||(this._weekdaysRegex=I7),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function G7(e){return this._weekdaysParseExact?(Ms(this,"_weekdaysRegex")||u5.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ms(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=L7),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function H7(e){return this._weekdaysParseExact?(Ms(this,"_weekdaysRegex")||u5.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ms(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=O7),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function u5(){function e(J,k){return k.length-J.length}var t=[],n=[],r=[],o=[],d,h,s,v,R;for(d=0;d<7;d++)h=ph([2e3,1]).day(d),s=fd(this.weekdaysMin(h,"")),v=fd(this.weekdaysShort(h,"")),R=fd(this.weekdays(h,"")),t.push(s),n.push(v),r.push(R),o.push(s),o.push(v),o.push(R);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function h5(){return this.hours()%12||12}function W7(){return this.hours()||24}er("H",["HH",2],0,"hour");er("h",["hh",2],0,h5);er("k",["kk",2],0,W7);er("hmm",0,0,function(){return""+h5.apply(this)+uh(this.minutes(),2)});er("hmmss",0,0,function(){return""+h5.apply(this)+uh(this.minutes(),2)+uh(this.seconds(),2)});er("Hmm",0,0,function(){return""+this.hours()+uh(this.minutes(),2)});er("Hmmss",0,0,function(){return""+this.hours()+uh(this.minutes(),2)+uh(this.seconds(),2)});function P8(e,t){er(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}P8("a",!0);P8("A",!1);Ul("hour","h");$l("hour",13);function D8(e,t){return t._meridiemParse}Dn("a",D8);Dn("A",D8);Dn("H",ko);Dn("h",ko);Dn("k",ko);Dn("HH",ko,xd);Dn("hh",ko,xd);Dn("kk",ko,xd);Dn("hmm",x8);Dn("hmmss",b8);Dn("Hmm",x8);Dn("Hmmss",b8);Xs(["H","HH"],za);Xs(["k","kk"],function(e,t,n){var r=Zr(e);t[za]=r===24?0:r});Xs(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Xs(["h","hh"],function(e,t,n){t[za]=Zr(e),Rr(n).bigHour=!0});Xs("hmm",function(e,t,n){var r=e.length-2;t[za]=Zr(e.substr(0,r)),t[bu]=Zr(e.substr(r)),Rr(n).bigHour=!0});Xs("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[za]=Zr(e.substr(0,r)),t[bu]=Zr(e.substr(r,2)),t[Jh]=Zr(e.substr(o)),Rr(n).bigHour=!0});Xs("Hmm",function(e,t,n){var r=e.length-2;t[za]=Zr(e.substr(0,r)),t[bu]=Zr(e.substr(r))});Xs("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[za]=Zr(e.substr(0,r)),t[bu]=Zr(e.substr(r,2)),t[Jh]=Zr(e.substr(o))});function Y7(e){return(e+"").toLowerCase().charAt(0)==="p"}var q7=/[ap]\.?m?\.?/i,X7=Gg("Hours",!0);function Z7(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var I8={calendar:F9,longDateFormat:V9,invalidDate:H9,ordinal:Y9,dayOfMonthOrdinalParse:q9,relativeTime:Z9,months:d7,monthsShort:w8,week:T7,weekdays:P7,weekdaysMin:D7,weekdaysShort:A8,meridiemParse:q7},Lo={},Sy={},n_;function K7(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function _E(e){return e&&e.toLowerCase().replace("_","-")}function J7(e){for(var t=0,n,r,o,d;t<e.length;){for(d=_E(e[t]).split("-"),n=d.length,r=_E(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=Qb(d.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&K7(d,r)>=n-1)break;n--}t++}return n_}function Q7(e){return e.match("^[^/\\\\]*$")!=null}function Qb(e){var t=null,n;if(Lo[e]===void 0&&typeof Px<"u"&&Px&&Px.exports&&Q7(e))try{t=n_._abbr,n=require,n("./locale/"+e),cf(t)}catch{Lo[e]=null}return Lo[e]}function cf(e,t){var n;return e&&(Fc(t)?n=up(e):n=p5(e,t),n?n_=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),n_._abbr}function p5(e,t){if(t!==null){var n,r=I8;if(t.abbr=e,Lo[e]!=null)f8("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Lo[e]._config;else if(t.parentLocale!=null)if(Lo[t.parentLocale]!=null)r=Lo[t.parentLocale]._config;else if(n=Qb(t.parentLocale),n!=null)r=n._config;else return Sy[t.parentLocale]||(Sy[t.parentLocale]=[]),Sy[t.parentLocale].push({name:e,config:t}),null;return Lo[e]=new s5(bT(r,t)),Sy[e]&&Sy[e].forEach(function(o){p5(o.name,o.config)}),cf(e),Lo[e]}else return delete Lo[e],null}function eR(e,t){if(t!=null){var n,r,o=I8;Lo[e]!=null&&Lo[e].parentLocale!=null?Lo[e].set(bT(Lo[e]._config,t)):(r=Qb(e),r!=null&&(o=r._config),t=bT(o,t),r==null&&(t.abbr=e),n=new s5(t),n.parentLocale=Lo[e],Lo[e]=n),cf(e)}else Lo[e]!=null&&(Lo[e].parentLocale!=null?(Lo[e]=Lo[e].parentLocale,e===cf()&&cf(e)):Lo[e]!=null&&delete Lo[e]);return Lo[e]}function up(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return n_;if(!Cu(e)){if(t=Qb(e),t)return t;e=[e]}return J7(e)}function tR(){return wT(Lo)}function f5(e){var t,n=e._a;return n&&Rr(e).overflow===-2&&(t=n[Kh]<0||n[Kh]>11?Kh:n[rh]<1||n[rh]>Jb(n[jl],n[Kh])?rh:n[za]<0||n[za]>24||n[za]===24&&(n[bu]!==0||n[Jh]!==0||n[P0]!==0)?za:n[bu]<0||n[bu]>59?bu:n[Jh]<0||n[Jh]>59?Jh:n[P0]<0||n[P0]>999?P0:-1,Rr(e)._overflowDayOfYear&&(t<jl||t>rh)&&(t=rh),Rr(e)._overflowWeeks&&t===-1&&(t=a7),Rr(e)._overflowWeekday&&t===-1&&(t=l7),Rr(e).overflow=t),e}var iR=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nR=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rR=/Z|[+-]\d\d(?::?\d\d)?/,ax=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],f3=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],sR=/^\/?Date\((-?\d+)/i,oR=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,aR={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function L8(e){var t,n,r=e._i,o=iR.exec(r)||nR.exec(r),d,h,s,v,R=ax.length,J=f3.length;if(o){for(Rr(e).iso=!0,t=0,n=R;t<n;t++)if(ax[t][1].exec(o[1])){h=ax[t][0],d=ax[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(o[3]){for(t=0,n=J;t<n;t++)if(f3[t][1].exec(o[3])){s=(o[2]||" ")+f3[t][0];break}if(s==null){e._isValid=!1;return}}if(!d&&s!=null){e._isValid=!1;return}if(o[4])if(rR.exec(o[4]))v="Z";else{e._isValid=!1;return}e._f=h+(s||"")+(v||""),g5(e)}else e._isValid=!1}function lR(e,t,n,r,o,d){var h=[cR(e),w8.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return d&&h.push(parseInt(d,10)),h}function cR(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function dR(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function uR(e,t,n){if(e){var r=A8.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return Rr(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function hR(e,t,n){if(e)return aR[e];if(t)return 0;var r=parseInt(n,10),o=r%100,d=(r-o)/100;return d*60+o}function O8(e){var t=oR.exec(dR(e._i)),n;if(t){if(n=lR(t[4],t[3],t[2],t[5],t[6],t[7]),!uR(t[1],n,e))return;e._a=n,e._tzm=hR(t[8],t[9],t[10]),e._d=t_.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Rr(e).rfc2822=!0}else e._isValid=!1}function pR(e){var t=sR.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(L8(e),e._isValid===!1)delete e._isValid;else return;if(O8(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:bn.createFromInputFallback(e)}bn.createFromInputFallback=eu("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function ug(e,t,n){return e??t??n}function fR(e){var t=new Date(bn.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function m5(e){var t,n,r=[],o,d,h;if(!e._d){for(o=fR(e),e._w&&e._a[rh]==null&&e._a[Kh]==null&&mR(e),e._dayOfYear!=null&&(h=ug(e._a[jl],o[jl]),(e._dayOfYear>jy(h)||e._dayOfYear===0)&&(Rr(e)._overflowDayOfYear=!0),n=t_(h,0,e._dayOfYear),e._a[Kh]=n.getUTCMonth(),e._a[rh]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[za]===24&&e._a[bu]===0&&e._a[Jh]===0&&e._a[P0]===0&&(e._nextDay=!0,e._a[za]=0),e._d=(e._useUTC?t_:b7).apply(null,r),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[za]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(Rr(e).weekdayMismatch=!0)}}function mR(e){var t,n,r,o,d,h,s,v,R;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,h=4,n=ug(t.GG,e._a[jl],i_(Mo(),1,4).year),r=ug(t.W,1),o=ug(t.E,1),(o<1||o>7)&&(v=!0)):(d=e._locale._week.dow,h=e._locale._week.doy,R=i_(Mo(),d,h),n=ug(t.gg,e._a[jl],R.year),r=ug(t.w,R.week),t.d!=null?(o=t.d,(o<0||o>6)&&(v=!0)):t.e!=null?(o=t.e+d,(t.e<0||t.e>6)&&(v=!0)):o=d),r<1||r>np(n,d,h)?Rr(e)._overflowWeeks=!0:v!=null?Rr(e)._overflowWeekday=!0:(s=k8(n,r,o,d,h),e._a[jl]=s.year,e._dayOfYear=s.dayOfYear)}bn.ISO_8601=function(){};bn.RFC_2822=function(){};function g5(e){if(e._f===bn.ISO_8601){L8(e);return}if(e._f===bn.RFC_2822){O8(e);return}e._a=[],Rr(e).empty=!0;var t=""+e._i,n,r,o,d,h,s=t.length,v=0,R,J;for(o=m8(e._f,e._locale).match(o5)||[],J=o.length,n=0;n<J;n++)d=o[n],r=(t.match(r7(d,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&Rr(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),v+=r.length),xg[d]?(r?Rr(e).empty=!1:Rr(e).unusedTokens.push(d),o7(d,r,e)):e._strict&&!r&&Rr(e).unusedTokens.push(d);Rr(e).charsLeftOver=s-v,t.length>0&&Rr(e).unusedInput.push(t),e._a[za]<=12&&Rr(e).bigHour===!0&&e._a[za]>0&&(Rr(e).bigHour=void 0),Rr(e).parsedDateParts=e._a.slice(0),Rr(e).meridiem=e._meridiem,e._a[za]=gR(e._locale,e._a[za],e._meridiem),R=Rr(e).era,R!==null&&(e._a[jl]=e._locale.erasConvertYear(R,e._a[jl])),m5(e),f5(e)}function gR(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function yR(e){var t,n,r,o,d,h,s=!1,v=e._f.length;if(v===0){Rr(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<v;o++)d=0,h=!1,t=r5({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],g5(t),n5(t)&&(h=!0),d+=Rr(t).charsLeftOver,d+=Rr(t).unusedTokens.length*10,Rr(t).score=d,s?d<r&&(r=d,n=t):(r==null||d<r||h)&&(r=d,n=t,h&&(s=!0));Qp(e,n||t)}function _R(e){if(!e._d){var t=a5(e._i),n=t.day===void 0?t.date:t.day;e._a=h8([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),m5(e)}}function vR(e){var t=new b_(f5(R8(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function R8(e){var t=e._i,n=e._f;return e._locale=e._locale||up(e._l),t===null||n===void 0&&t===""?Hb({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Eu(t)?new b_(f5(t)):(x_(t)?e._d=t:Cu(n)?yR(e):n?g5(e):xR(e),n5(e)||(e._d=null),e))}function xR(e){var t=e._i;Fc(t)?e._d=new Date(bn.now()):x_(t)?e._d=new Date(t.valueOf()):typeof t=="string"?pR(e):Cu(t)?(e._a=h8(t.slice(0),function(n){return parseInt(n,10)}),m5(e)):j0(t)?_R(e):ap(t)?e._d=new Date(t):bn.createFromInputFallback(e)}function B8(e,t,n,r,o){var d={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(j0(e)&&i5(e)||Cu(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=o,d._l=n,d._i=e,d._f=t,d._strict=r,vR(d)}function Mo(e,t,n,r){return B8(e,t,n,r,!1)}var bR=eu("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Mo.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Hb()}),wR=eu("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Mo.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Hb()});function z8(e,t){var n,r;if(t.length===1&&Cu(t[0])&&(t=t[0]),!t.length)return Mo();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function TR(){var e=[].slice.call(arguments,0);return z8("isBefore",e)}function SR(){var e=[].slice.call(arguments,0);return z8("isAfter",e)}var CR=function(){return Date.now?Date.now():+new Date},Cy=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ER(e){var t,n=!1,r,o=Cy.length;for(t in e)if(Ms(e,t)&&!(la.call(Cy,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[Cy[r]]){if(n)return!1;parseFloat(e[Cy[r]])!==Zr(e[Cy[r]])&&(n=!0)}return!0}function MR(){return this._isValid}function kR(){return Pu(NaN)}function e2(e){var t=a5(e),n=t.year||0,r=t.quarter||0,o=t.month||0,d=t.week||t.isoWeek||0,h=t.day||0,s=t.hour||0,v=t.minute||0,R=t.second||0,J=t.millisecond||0;this._isValid=ER(t),this._milliseconds=+J+R*1e3+v*6e4+s*1e3*60*60,this._days=+h+d*7,this._months=+o+r*3+n*12,this._data={},this._locale=up(),this._bubble()}function Cx(e){return e instanceof e2}function ST(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function AR(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),d=0,h;for(h=0;h<r;h++)(n&&e[h]!==t[h]||!n&&Zr(e[h])!==Zr(t[h]))&&d++;return d+o}function N8(e,t){er(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+uh(~~(n/60),2)+t+uh(~~n%60,2)})}N8("Z",":");N8("ZZ","");Dn("Z",Kb);Dn("ZZ",Kb);Xs(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=y5(Kb,e)});var PR=/([\+\-]|\d\d)/gi;function y5(e,t){var n=(t||"").match(e),r,o,d;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(PR)||["-",0,0],d=+(o[1]*60)+Zr(o[2]),d===0?0:o[0]==="+"?d:-d)}function _5(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Eu(e)||x_(e)?e.valueOf():Mo(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),bn.updateOffset(n,!1),n):Mo(e).local()}function CT(e){return-Math.round(e._d.getTimezoneOffset())}bn.updateOffset=function(){};function DR(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=y5(Kb,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=CT(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?U8(this,Pu(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,bn.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:CT(this)}function IR(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function LR(e){return this.utcOffset(0,e)}function OR(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(CT(this),"m")),this}function RR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=y5(i7,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function BR(e){return this.isValid()?(e=e?Mo(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function zR(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function NR(){if(!Fc(this._isDSTShifted))return this._isDSTShifted;var e={},t;return r5(e,this),e=R8(e),e._a?(t=e._isUTC?ph(e._a):Mo(e._a),this._isDSTShifted=this.isValid()&&AR(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function FR(){return this.isValid()?!this._isUTC:!1}function jR(){return this.isValid()?this._isUTC:!1}function F8(){return this.isValid()?this._isUTC&&this._offset===0:!1}var UR=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$R=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Pu(e,t){var n=e,r=null,o,d,h;return Cx(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:ap(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=UR.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Zr(r[rh])*o,h:Zr(r[za])*o,m:Zr(r[bu])*o,s:Zr(r[Jh])*o,ms:Zr(ST(r[P0]*1e3))*o}):(r=$R.exec(e))?(o=r[1]==="-"?-1:1,n={y:v0(r[2],o),M:v0(r[3],o),w:v0(r[4],o),d:v0(r[5],o),h:v0(r[6],o),m:v0(r[7],o),s:v0(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(h=VR(Mo(n.from),Mo(n.to)),n={},n.ms=h.milliseconds,n.M=h.months),d=new e2(n),Cx(e)&&Ms(e,"_locale")&&(d._locale=e._locale),Cx(e)&&Ms(e,"_isValid")&&(d._isValid=e._isValid),d}Pu.fn=e2.prototype;Pu.invalid=kR;function v0(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function vE(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function VR(e,t){var n;return e.isValid()&&t.isValid()?(t=_5(t,e),e.isBefore(t)?n=vE(e,t):(n=vE(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function j8(e,t){return function(n,r){var o,d;return r!==null&&!isNaN(+r)&&(f8(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=n,n=r,r=d),o=Pu(n,r),U8(this,o,e),this}}function U8(e,t,n,r){var o=t._milliseconds,d=ST(t._days),h=ST(t._months);e.isValid()&&(r=r??!0,h&&S8(e,Zx(e,"Month")+h*n),d&&y8(e,"Date",Zx(e,"Date")+d*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&bn.updateOffset(e,d||h))}var GR=j8(1,"add"),HR=j8(-1,"subtract");function $8(e){return typeof e=="string"||e instanceof String}function WR(e){return Eu(e)||x_(e)||$8(e)||ap(e)||qR(e)||YR(e)||e===null||e===void 0}function YR(e){var t=j0(e)&&!i5(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,d,h=r.length;for(o=0;o<h;o+=1)d=r[o],n=n||Ms(e,d);return t&&n}function qR(e){var t=Cu(e),n=!1;return t&&(n=e.filter(function(r){return!ap(r)&&$8(e)}).length===0),t&&n}function XR(e){var t=j0(e)&&!i5(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,d;for(o=0;o<r.length;o+=1)d=r[o],n=n||Ms(e,d);return t&&n}function ZR(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function KR(e,t){arguments.length===1&&(arguments[0]?WR(arguments[0])?(e=arguments[0],t=void 0):XR(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Mo(),r=_5(n,this).startOf("day"),o=bn.calendarFormat(this,r)||"sameElse",d=t&&(fh(t[o])?t[o].call(this,n):t[o]);return this.format(d||this.localeData().calendar(o,this,Mo(n)))}function JR(){return new b_(this)}function QR(e,t){var n=Eu(e)?e:Mo(e);return this.isValid()&&n.isValid()?(t=tu(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function eB(e,t){var n=Eu(e)?e:Mo(e);return this.isValid()&&n.isValid()?(t=tu(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function tB(e,t,n,r){var o=Eu(e)?e:Mo(e),d=Eu(t)?t:Mo(t);return this.isValid()&&o.isValid()&&d.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(d,n):!this.isAfter(d,n))):!1}function iB(e,t){var n=Eu(e)?e:Mo(e),r;return this.isValid()&&n.isValid()?(t=tu(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function nB(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function rB(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function sB(e,t,n){var r,o,d;if(!this.isValid())return NaN;if(r=_5(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=tu(t),t){case"year":d=Ex(this,r)/12;break;case"month":d=Ex(this,r);break;case"quarter":d=Ex(this,r)/3;break;case"second":d=(this-r)/1e3;break;case"minute":d=(this-r)/6e4;break;case"hour":d=(this-r)/36e5;break;case"day":d=(this-r-o)/864e5;break;case"week":d=(this-r-o)/6048e5;break;default:d=this-r}return n?d:qd(d)}function Ex(e,t){if(e.date()<t.date())return-Ex(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,d;return t-r<0?(o=e.clone().add(n-1,"months"),d=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),d=(t-r)/(o-r)),-(n+d)||0}bn.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";bn.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function oB(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function aB(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Sx(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):fh(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Sx(n,"Z")):Sx(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function lB(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(n+r+o+d)}function cB(e){e||(e=this.isUtc()?bn.defaultFormatUtc:bn.defaultFormat);var t=Sx(this,e);return this.localeData().postformat(t)}function dB(e,t){return this.isValid()&&(Eu(e)&&e.isValid()||Mo(e).isValid())?Pu({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function uB(e){return this.from(Mo(),e)}function hB(e,t){return this.isValid()&&(Eu(e)&&e.isValid()||Mo(e).isValid())?Pu({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pB(e){return this.to(Mo(),e)}function V8(e){var t;return e===void 0?this._locale._abbr:(t=up(e),t!=null&&(this._locale=t),this)}var G8=eu("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function H8(){return this._locale}var Qx=1e3,bg=60*Qx,eb=60*bg,W8=(365*400+97)*24*eb;function wg(e,t){return(e%t+t)%t}function Y8(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-W8:new Date(e,t,n).valueOf()}function q8(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-W8:Date.UTC(e,t,n)}function fB(e){var t,n;if(e=tu(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?q8:Y8,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=wg(t+(this._isUTC?0:this.utcOffset()*bg),eb);break;case"minute":t=this._d.valueOf(),t-=wg(t,bg);break;case"second":t=this._d.valueOf(),t-=wg(t,Qx);break}return this._d.setTime(t),bn.updateOffset(this,!0),this}function mB(e){var t,n;if(e=tu(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?q8:Y8,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=eb-wg(t+(this._isUTC?0:this.utcOffset()*bg),eb)-1;break;case"minute":t=this._d.valueOf(),t+=bg-wg(t,bg)-1;break;case"second":t=this._d.valueOf(),t+=Qx-wg(t,Qx)-1;break}return this._d.setTime(t),bn.updateOffset(this,!0),this}function gB(){return this._d.valueOf()-(this._offset||0)*6e4}function yB(){return Math.floor(this.valueOf()/1e3)}function _B(){return new Date(this.valueOf())}function vB(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xB(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function bB(){return this.isValid()?this.toISOString():null}function wB(){return n5(this)}function TB(){return Qp({},Rr(this))}function SB(){return Rr(this).overflow}function CB(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}er("N",0,0,"eraAbbr");er("NN",0,0,"eraAbbr");er("NNN",0,0,"eraAbbr");er("NNNN",0,0,"eraName");er("NNNNN",0,0,"eraNarrow");er("y",["y",1],"yo","eraYear");er("y",["yy",2],0,"eraYear");er("y",["yyy",3],0,"eraYear");er("y",["yyyy",4],0,"eraYear");Dn("N",v5);Dn("NN",v5);Dn("NNN",v5);Dn("NNNN",BB);Dn("NNNNN",zB);Xs(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?Rr(n).era=o:Rr(n).invalidEra=e});Dn("y",Hg);Dn("yy",Hg);Dn("yyy",Hg);Dn("yyyy",Hg);Dn("yo",NB);Xs(["y","yy","yyy","yyyy"],jl);Xs(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[jl]=n._locale.eraYearOrdinalParse(e,o):t[jl]=parseInt(e,10)});function EB(e,t){var n,r,o,d=this._eras||up("en")._eras;for(n=0,r=d.length;n<r;++n){switch(typeof d[n].since){case"string":o=bn(d[n].since).startOf("day"),d[n].since=o.valueOf();break}switch(typeof d[n].until){case"undefined":d[n].until=1/0;break;case"string":o=bn(d[n].until).startOf("day").valueOf(),d[n].until=o.valueOf();break}}return d}function MB(e,t,n){var r,o,d=this.eras(),h,s,v;for(e=e.toUpperCase(),r=0,o=d.length;r<o;++r)if(h=d[r].name.toUpperCase(),s=d[r].abbr.toUpperCase(),v=d[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return d[r];break;case"NNNN":if(h===e)return d[r];break;case"NNNNN":if(v===e)return d[r];break}else if([h,s,v].indexOf(e)>=0)return d[r]}function kB(e,t){var n=e.since<=e.until?1:-1;return t===void 0?bn(e.since).year():bn(e.since).year()+(t-e.offset)*n}function AB(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function PB(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function DB(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function IB(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-bn(o[e].since).year())*n+o[e].offset;return this.year()}function LB(e){return Ms(this,"_erasNameRegex")||x5.call(this),e?this._erasNameRegex:this._erasRegex}function OB(e){return Ms(this,"_erasAbbrRegex")||x5.call(this),e?this._erasAbbrRegex:this._erasRegex}function RB(e){return Ms(this,"_erasNarrowRegex")||x5.call(this),e?this._erasNarrowRegex:this._erasRegex}function v5(e,t){return t.erasAbbrRegex(e)}function BB(e,t){return t.erasNameRegex(e)}function zB(e,t){return t.erasNarrowRegex(e)}function NB(e,t){return t._eraYearOrdinalRegex||Hg}function x5(){var e=[],t=[],n=[],r=[],o,d,h=this.eras();for(o=0,d=h.length;o<d;++o)t.push(fd(h[o].name)),e.push(fd(h[o].abbr)),n.push(fd(h[o].narrow)),r.push(fd(h[o].name)),r.push(fd(h[o].abbr)),r.push(fd(h[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}er(0,["gg",2],0,function(){return this.weekYear()%100});er(0,["GG",2],0,function(){return this.isoWeekYear()%100});function t2(e,t){er(0,[e,e.length],0,t)}t2("gggg","weekYear");t2("ggggg","weekYear");t2("GGGG","isoWeekYear");t2("GGGGG","isoWeekYear");Ul("weekYear","gg");Ul("isoWeekYear","GG");$l("weekYear",1);$l("isoWeekYear",1);Dn("G",Zb);Dn("g",Zb);Dn("GG",ko,xd);Dn("gg",ko,xd);Dn("GGGG",c5,l5);Dn("gggg",c5,l5);Dn("GGGGG",Xb,Yb);Dn("ggggg",Xb,Yb);T_(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Zr(e)});T_(["gg","GG"],function(e,t,n,r){t[r]=bn.parseTwoDigitYear(e)});function FB(e){return X8.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function jB(e){return X8.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function UB(){return np(this.year(),1,4)}function $B(){return np(this.isoWeekYear(),1,4)}function VB(){var e=this.localeData()._week;return np(this.year(),e.dow,e.doy)}function GB(){var e=this.localeData()._week;return np(this.weekYear(),e.dow,e.doy)}function X8(e,t,n,r,o){var d;return e==null?i_(this,r,o).year:(d=np(e,r,o),t>d&&(t=d),HB.call(this,e,t,n,r,o))}function HB(e,t,n,r,o){var d=k8(e,t,n,r,o),h=t_(d.year,0,d.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}er("Q",0,"Qo","quarter");Ul("quarter","Q");$l("quarter",7);Dn("Q",_8);Xs("Q",function(e,t){t[Kh]=(Zr(e)-1)*3});function WB(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}er("D",["DD",2],"Do","date");Ul("date","D");$l("date",9);Dn("D",ko);Dn("DD",ko,xd);Dn("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Xs(["D","DD"],rh);Xs("Do",function(e,t){t[rh]=Zr(e.match(ko)[0])});var Z8=Gg("Date",!0);er("DDD",["DDDD",3],"DDDo","dayOfYear");Ul("dayOfYear","DDD");$l("dayOfYear",4);Dn("DDD",qb);Dn("DDDD",v8);Xs(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Zr(e)});function YB(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}er("m",["mm",2],0,"minute");Ul("minute","m");$l("minute",14);Dn("m",ko);Dn("mm",ko,xd);Xs(["m","mm"],bu);var qB=Gg("Minutes",!1);er("s",["ss",2],0,"second");Ul("second","s");$l("second",15);Dn("s",ko);Dn("ss",ko,xd);Xs(["s","ss"],Jh);var XB=Gg("Seconds",!1);er("S",0,0,function(){return~~(this.millisecond()/100)});er(0,["SS",2],0,function(){return~~(this.millisecond()/10)});er(0,["SSS",3],0,"millisecond");er(0,["SSSS",4],0,function(){return this.millisecond()*10});er(0,["SSSSS",5],0,function(){return this.millisecond()*100});er(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});er(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});er(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});er(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ul("millisecond","ms");$l("millisecond",16);Dn("S",qb,_8);Dn("SS",qb,xd);Dn("SSS",qb,v8);var ef,K8;for(ef="SSSS";ef.length<=9;ef+="S")Dn(ef,Hg);function ZB(e,t){t[P0]=Zr(("0."+e)*1e3)}for(ef="S";ef.length<=9;ef+="S")Xs(ef,ZB);K8=Gg("Milliseconds",!1);er("z",0,0,"zoneAbbr");er("zz",0,0,"zoneName");function KB(){return this._isUTC?"UTC":""}function JB(){return this._isUTC?"Coordinated Universal Time":""}var rn=b_.prototype;rn.add=GR;rn.calendar=KR;rn.clone=JR;rn.diff=sB;rn.endOf=mB;rn.format=cB;rn.from=dB;rn.fromNow=uB;rn.to=hB;rn.toNow=pB;rn.get=e7;rn.invalidAt=SB;rn.isAfter=QR;rn.isBefore=eB;rn.isBetween=tB;rn.isSame=iB;rn.isSameOrAfter=nB;rn.isSameOrBefore=rB;rn.isValid=wB;rn.lang=G8;rn.locale=V8;rn.localeData=H8;rn.max=wR;rn.min=bR;rn.parsingFlags=TB;rn.set=t7;rn.startOf=fB;rn.subtract=HR;rn.toArray=vB;rn.toObject=xB;rn.toDate=_B;rn.toISOString=aB;rn.inspect=lB;typeof Symbol<"u"&&Symbol.for!=null&&(rn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});rn.toJSON=bB;rn.toString=oB;rn.unix=yB;rn.valueOf=gB;rn.creationData=CB;rn.eraName=AB;rn.eraNarrow=PB;rn.eraAbbr=DB;rn.eraYear=IB;rn.year=M8;rn.isLeapYear=x7;rn.weekYear=FB;rn.isoWeekYear=jB;rn.quarter=rn.quarters=WB;rn.month=C8;rn.daysInMonth=y7;rn.week=rn.weeks=E7;rn.isoWeek=rn.isoWeeks=M7;rn.weeksInYear=VB;rn.weeksInWeekYear=GB;rn.isoWeeksInYear=UB;rn.isoWeeksInISOWeekYear=$B;rn.date=Z8;rn.day=rn.days=j7;rn.weekday=U7;rn.isoWeekday=$7;rn.dayOfYear=YB;rn.hour=rn.hours=X7;rn.minute=rn.minutes=qB;rn.second=rn.seconds=XB;rn.millisecond=rn.milliseconds=K8;rn.utcOffset=DR;rn.utc=LR;rn.local=OR;rn.parseZone=RR;rn.hasAlignedHourOffset=BR;rn.isDST=zR;rn.isLocal=FR;rn.isUtcOffset=jR;rn.isUtc=F8;rn.isUTC=F8;rn.zoneAbbr=KB;rn.zoneName=JB;rn.dates=eu("dates accessor is deprecated. Use date instead.",Z8);rn.months=eu("months accessor is deprecated. Use month instead",C8);rn.years=eu("years accessor is deprecated. Use year instead",M8);rn.zone=eu("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",IR);rn.isDSTShifted=eu("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",NR);function QB(e){return Mo(e*1e3)}function ez(){return Mo.apply(null,arguments).parseZone()}function J8(e){return e}var ks=s5.prototype;ks.calendar=j9;ks.longDateFormat=G9;ks.invalidDate=W9;ks.ordinal=X9;ks.preparse=J8;ks.postformat=J8;ks.relativeTime=K9;ks.pastFuture=J9;ks.set=N9;ks.eras=EB;ks.erasParse=MB;ks.erasConvertYear=kB;ks.erasAbbrRegex=OB;ks.erasNameRegex=LB;ks.erasNarrowRegex=RB;ks.months=p7;ks.monthsShort=f7;ks.monthsParse=g7;ks.monthsRegex=v7;ks.monthsShortRegex=_7;ks.week=w7;ks.firstDayOfYear=C7;ks.firstDayOfWeek=S7;ks.weekdays=R7;ks.weekdaysMin=z7;ks.weekdaysShort=B7;ks.weekdaysParse=F7;ks.weekdaysRegex=V7;ks.weekdaysShortRegex=G7;ks.weekdaysMinRegex=H7;ks.isPM=Y7;ks.meridiem=Z7;function tb(e,t,n,r){var o=up(),d=ph().set(r,t);return o[n](d,e)}function Q8(e,t,n){if(ap(e)&&(t=e,e=void 0),e=e||"",t!=null)return tb(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=tb(e,r,n,"month");return o}function b5(e,t,n,r){typeof e=="boolean"?(ap(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,ap(t)&&(n=t,t=void 0),t=t||"");var o=up(),d=e?o._week.dow:0,h,s=[];if(n!=null)return tb(t,(n+d)%7,r,"day");for(h=0;h<7;h++)s[h]=tb(t,(h+d)%7,r,"day");return s}function tz(e,t){return Q8(e,t,"months")}function iz(e,t){return Q8(e,t,"monthsShort")}function nz(e,t,n){return b5(e,t,n,"weekdays")}function rz(e,t,n){return b5(e,t,n,"weekdaysShort")}function sz(e,t,n){return b5(e,t,n,"weekdaysMin")}cf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Zr(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});bn.lang=eu("moment.lang is deprecated. Use moment.locale instead.",cf);bn.langData=eu("moment.langData is deprecated. Use moment.localeData instead.",up);var $h=Math.abs;function oz(){var e=this._data;return this._milliseconds=$h(this._milliseconds),this._days=$h(this._days),this._months=$h(this._months),e.milliseconds=$h(e.milliseconds),e.seconds=$h(e.seconds),e.minutes=$h(e.minutes),e.hours=$h(e.hours),e.months=$h(e.months),e.years=$h(e.years),this}function e4(e,t,n,r){var o=Pu(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function az(e,t){return e4(this,e,t,1)}function lz(e,t){return e4(this,e,t,-1)}function xE(e){return e<0?Math.floor(e):Math.ceil(e)}function cz(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,d,h,s,v;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=xE(ET(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=qd(e/1e3),r.seconds=o%60,d=qd(o/60),r.minutes=d%60,h=qd(d/60),r.hours=h%24,t+=qd(h/24),v=qd(t4(t)),n+=v,t-=xE(ET(v)),s=qd(n/12),n%=12,r.days=t,r.months=n,r.years=s,this}function t4(e){return e*4800/146097}function ET(e){return e*146097/4800}function dz(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=tu(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+t4(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ET(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function uz(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Zr(this._months/12)*31536e6:NaN}function hp(e){return function(){return this.as(e)}}var hz=hp("ms"),pz=hp("s"),fz=hp("m"),mz=hp("h"),gz=hp("d"),yz=hp("w"),_z=hp("M"),vz=hp("Q"),xz=hp("y");function bz(){return Pu(this)}function wz(e){return e=tu(e),this.isValid()?this[e+"s"]():NaN}function tm(e){return function(){return this.isValid()?this._data[e]:NaN}}var Tz=tm("milliseconds"),Sz=tm("seconds"),Cz=tm("minutes"),Ez=tm("hours"),Mz=tm("days"),kz=tm("months"),Az=tm("years");function Pz(){return qd(this.days()/7)}var Yh=Math.round,pg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Dz(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function Iz(e,t,n,r){var o=Pu(e).abs(),d=Yh(o.as("s")),h=Yh(o.as("m")),s=Yh(o.as("h")),v=Yh(o.as("d")),R=Yh(o.as("M")),J=Yh(o.as("w")),k=Yh(o.as("y")),z=d<=n.ss&&["s",d]||d<n.s&&["ss",d]||h<=1&&["m"]||h<n.m&&["mm",h]||s<=1&&["h"]||s<n.h&&["hh",s]||v<=1&&["d"]||v<n.d&&["dd",v];return n.w!=null&&(z=z||J<=1&&["w"]||J<n.w&&["ww",J]),z=z||R<=1&&["M"]||R<n.M&&["MM",R]||k<=1&&["y"]||["yy",k],z[2]=t,z[3]=+e>0,z[4]=r,Dz.apply(null,z)}function Lz(e){return e===void 0?Yh:typeof e=="function"?(Yh=e,!0):!1}function Oz(e,t){return pg[e]===void 0?!1:t===void 0?pg[e]:(pg[e]=t,e==="s"&&(pg.ss=t-1),!0)}function Rz(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=pg,o,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},pg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),d=Iz(this,!n,r,o),n&&(d=o.pastFuture(+this,d)),o.postformat(d)}var m3=Math.abs;function lg(e){return(e>0)-(e<0)||+e}function i2(){if(!this.isValid())return this.localeData().invalidDate();var e=m3(this._milliseconds)/1e3,t=m3(this._days),n=m3(this._months),r,o,d,h,s=this.asSeconds(),v,R,J,k;return s?(r=qd(e/60),o=qd(r/60),e%=60,r%=60,d=qd(n/12),n%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",v=s<0?"-":"",R=lg(this._months)!==lg(s)?"-":"",J=lg(this._days)!==lg(s)?"-":"",k=lg(this._milliseconds)!==lg(s)?"-":"",v+"P"+(d?R+d+"Y":"")+(n?R+n+"M":"")+(t?J+t+"D":"")+(o||r||e?"T":"")+(o?k+o+"H":"")+(r?k+r+"M":"")+(e?k+h+"S":"")):"P0D"}var hs=e2.prototype;hs.isValid=MR;hs.abs=oz;hs.add=az;hs.subtract=lz;hs.as=dz;hs.asMilliseconds=hz;hs.asSeconds=pz;hs.asMinutes=fz;hs.asHours=mz;hs.asDays=gz;hs.asWeeks=yz;hs.asMonths=_z;hs.asQuarters=vz;hs.asYears=xz;hs.valueOf=uz;hs._bubble=cz;hs.clone=bz;hs.get=wz;hs.milliseconds=Tz;hs.seconds=Sz;hs.minutes=Cz;hs.hours=Ez;hs.days=Mz;hs.weeks=Pz;hs.months=kz;hs.years=Az;hs.humanize=Rz;hs.toISOString=i2;hs.toString=i2;hs.toJSON=i2;hs.locale=V8;hs.localeData=H8;hs.toIsoString=eu("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",i2);hs.lang=G8;er("X",0,0,"unix");er("x",0,0,"valueOf");Dn("x",Zb);Dn("X",n7);Xs("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Xs("x",function(e,t,n){n._d=new Date(Zr(e))});//! moment.js
bn.version="2.29.4";B9(Mo);bn.fn=rn;bn.min=TR;bn.max=SR;bn.now=CR;bn.utc=ph;bn.unix=QB;bn.months=tz;bn.isDate=x_;bn.locale=cf;bn.invalid=Hb;bn.duration=Pu;bn.isMoment=Eu;bn.weekdays=nz;bn.parseZone=ez;bn.localeData=up;bn.isDuration=Cx;bn.monthsShort=iz;bn.weekdaysMin=sz;bn.defineLocale=p5;bn.updateLocale=eR;bn.locales=tR;bn.weekdaysShort=rz;bn.normalizeUnits=tu;bn.relativeTimeRounding=Lz;bn.relativeTimeThreshold=Oz;bn.calendarFormat=ZR;bn.prototype=rn;bn.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i4={exports:{}};/*!
* sweetalert2 v11.4.0
* Released under the MIT License.
*/(function(e,t){(function(n,r){e.exports=r()})(qp,function(){const n="SweetAlert2:",r=we=>{const Ce=[];for(let $e=0;$e<we.length;$e++)Ce.indexOf(we[$e])===-1&&Ce.push(we[$e]);return Ce},o=we=>we.charAt(0).toUpperCase()+we.slice(1),d=we=>Array.prototype.slice.call(we),h=we=>{console.warn("".concat(n," ").concat(typeof we=="object"?we.join(" "):we))},s=we=>{console.error("".concat(n," ").concat(we))},v=[],R=we=>{v.includes(we)||(v.push(we),h(we))},J=(we,Ce)=>{R('"'.concat(we,'" is deprecated and will be removed in the next major release. Please use "').concat(Ce,'" instead.'))},k=we=>typeof we=="function"?we():we,z=we=>we&&typeof we.toPromise=="function",q=we=>z(we)?we.toPromise():Promise.resolve(we),L=we=>we&&Promise.resolve(we)===we,O={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},G=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],M={},S=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],P=we=>Object.prototype.hasOwnProperty.call(O,we),H=we=>G.indexOf(we)!==-1,U=we=>M[we],E=we=>{P(we)||h('Unknown parameter "'.concat(we,'"'))},ie=we=>{S.includes(we)&&h('The parameter "'.concat(we,'" is incompatible with toasts'))},te=we=>{U(we)&&J(we,U(we))},$=we=>{!we.backdrop&&we.allowOutsideClick&&h('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Ce in we)E(Ce),we.toast&&ie(Ce),te(Ce)},V="swal2-",j=we=>{const Ce={};for(const $e in we)Ce[we[$e]]=V+we[$e];return Ce},w=j(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),I=j(["success","warning","info","question","error"]),m=()=>document.body.querySelector(".".concat(w.container)),g=we=>{const Ce=m();return Ce?Ce.querySelector(we):null},b=we=>g(".".concat(we)),A=()=>b(w.popup),X=()=>b(w.icon),Y=()=>b(w.title),K=()=>b(w["html-container"]),le=()=>b(w.image),he=()=>b(w["progress-steps"]),pe=()=>b(w["validation-message"]),F=()=>g(".".concat(w.actions," .").concat(w.confirm)),Q=()=>g(".".concat(w.actions," .").concat(w.deny)),ce=()=>b(w["input-label"]),ge=()=>g(".".concat(w.loader)),ke=()=>g(".".concat(w.actions," .").concat(w.cancel)),re=()=>b(w.actions),ve=()=>b(w.footer),_e=()=>b(w["timer-progress-bar"]),oe=()=>b(w.close),ye=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Se=()=>{const we=d(A().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(($e,vt)=>{const Ei=parseInt($e.getAttribute("tabindex")),Tn=parseInt(vt.getAttribute("tabindex"));return Ei>Tn?1:Ei<Tn?-1:0}),Ce=d(A().querySelectorAll(ye)).filter($e=>$e.getAttribute("tabindex")!=="-1");return r(we.concat(Ce)).filter($e=>It($e))},Re=()=>!qe(document.body,w["toast-shown"])&&!qe(document.body,w["no-backdrop"]),Oe=()=>A()&&qe(A(),w.toast),Ue=()=>A().hasAttribute("data-loading"),st={previousBodyPadding:null},Qe=(we,Ce)=>{if(we.textContent="",Ce){const vt=new DOMParser().parseFromString(Ce,"text/html");d(vt.querySelector("head").childNodes).forEach(Ei=>{we.appendChild(Ei)}),d(vt.querySelector("body").childNodes).forEach(Ei=>{we.appendChild(Ei)})}},qe=(we,Ce)=>{if(!Ce)return!1;const $e=Ce.split(/\s+/);for(let vt=0;vt<$e.length;vt++)if(!we.classList.contains($e[vt]))return!1;return!0},xe=(we,Ce)=>{d(we.classList).forEach($e=>{!Object.values(w).includes($e)&&!Object.values(I).includes($e)&&!Object.values(Ce.showClass).includes($e)&&we.classList.remove($e)})},Ie=(we,Ce,$e)=>{if(xe(we,Ce),Ce.customClass&&Ce.customClass[$e]){if(typeof Ce.customClass[$e]!="string"&&!Ce.customClass[$e].forEach)return h("Invalid type of customClass.".concat($e,'! Expected string or iterable object, got "').concat(typeof Ce.customClass[$e],'"'));pt(we,Ce.customClass[$e])}},Be=(we,Ce)=>{if(!Ce)return null;switch(Ce){case"select":case"textarea":case"file":return we.querySelector(".".concat(w.popup," > .").concat(w[Ce]));case"checkbox":return we.querySelector(".".concat(w.popup," > .").concat(w.checkbox," input"));case"radio":return we.querySelector(".".concat(w.popup," > .").concat(w.radio," input:checked"))||we.querySelector(".".concat(w.popup," > .").concat(w.radio," input:first-child"));case"range":return we.querySelector(".".concat(w.popup," > .").concat(w.range," input"));default:return we.querySelector(".".concat(w.popup," > .").concat(w.input))}},Xe=we=>{if(we.focus(),we.type!=="file"){const Ce=we.value;we.value="",we.value=Ce}},Ke=(we,Ce,$e)=>{!we||!Ce||(typeof Ce=="string"&&(Ce=Ce.split(/\s+/).filter(Boolean)),Ce.forEach(vt=>{Array.isArray(we)?we.forEach(Ei=>{$e?Ei.classList.add(vt):Ei.classList.remove(vt)}):$e?we.classList.add(vt):we.classList.remove(vt)}))},pt=(we,Ce)=>{Ke(we,Ce,!0)},Tt=(we,Ce)=>{Ke(we,Ce,!1)},Lt=(we,Ce)=>{const $e=d(we.childNodes);for(let vt=0;vt<$e.length;vt++)if(qe($e[vt],Ce))return $e[vt]},gi=(we,Ce,$e)=>{$e==="".concat(parseInt($e))&&($e=parseInt($e)),$e||parseInt($e)===0?we.style[Ce]=typeof $e=="number"?"".concat($e,"px"):$e:we.style.removeProperty(Ce)},Wt=function(we){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";we.style.display=Ce},pi=we=>{we.style.display="none"},Gi=(we,Ce,$e,vt)=>{const Ei=we.querySelector(Ce);Ei&&(Ei.style[$e]=vt)},ht=(we,Ce,$e)=>{Ce?Wt(we,$e):pi(we)},It=we=>!!(we&&(we.offsetWidth||we.offsetHeight||we.getClientRects().length)),ei=()=>!It(F())&&!It(Q())&&!It(ke()),Pi=we=>we.scrollHeight>we.clientHeight,an=we=>{const Ce=window.getComputedStyle(we),$e=parseFloat(Ce.getPropertyValue("animation-duration")||"0"),vt=parseFloat(Ce.getPropertyValue("transition-duration")||"0");return $e>0||vt>0},Gn=function(we){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const $e=_e();It($e)&&(Ce&&($e.style.transition="none",$e.style.width="100%"),setTimeout(()=>{$e.style.transition="width ".concat(we/1e3,"s linear"),$e.style.width="0%"},10))},Kr=()=>{const we=_e(),Ce=parseInt(window.getComputedStyle(we).width);we.style.removeProperty("transition"),we.style.width="100%";const $e=parseInt(window.getComputedStyle(we).width),vt=Ce/$e*100;we.style.removeProperty("transition"),we.style.width="".concat(vt,"%")},di=()=>typeof window>"u"||typeof document>"u",$i=100,Wi={},Nr=()=>{Wi.previousActiveElement&&Wi.previousActiveElement.focus?(Wi.previousActiveElement.focus(),Wi.previousActiveElement=null):document.body&&document.body.focus()},mo=we=>new Promise(Ce=>{if(!we)return Ce();const $e=window.scrollX,vt=window.scrollY;Wi.restoreFocusTimeout=setTimeout(()=>{Nr(),Ce()},$i),window.scrollTo($e,vt)}),wn=`
 <div aria-labelledby="`.concat(w.title,'" aria-describedby="').concat(w["html-container"],'" class="').concat(w.popup,`" tabindex="-1">
   <button type="button" class="`).concat(w.close,`"></button>
   <ul class="`).concat(w["progress-steps"],`"></ul>
   <div class="`).concat(w.icon,`"></div>
   <img class="`).concat(w.image,`" />
   <h2 class="`).concat(w.title,'" id="').concat(w.title,`"></h2>
   <div class="`).concat(w["html-container"],'" id="').concat(w["html-container"],`"></div>
   <input class="`).concat(w.input,`" />
   <input type="file" class="`).concat(w.file,`" />
   <div class="`).concat(w.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(w.select,`"></select>
   <div class="`).concat(w.radio,`"></div>
   <label for="`).concat(w.checkbox,'" class="').concat(w.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(w.label,`"></span>
   </label>
   <textarea class="`).concat(w.textarea,`"></textarea>
   <div class="`).concat(w["validation-message"],'" id="').concat(w["validation-message"],`"></div>
   <div class="`).concat(w.actions,`">
     <div class="`).concat(w.loader,`"></div>
     <button type="button" class="`).concat(w.confirm,`"></button>
     <button type="button" class="`).concat(w.deny,`"></button>
     <button type="button" class="`).concat(w.cancel,`"></button>
   </div>
   <div class="`).concat(w.footer,`"></div>
   <div class="`).concat(w["timer-progress-bar-container"],`">
     <div class="`).concat(w["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),ao=()=>{const we=m();return we?(we.remove(),Tt([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]]),!0):!1},Ln=()=>{Wi.currentInstance.resetValidationMessage()},ja=()=>{const we=A(),Ce=Lt(we,w.input),$e=Lt(we,w.file),vt=we.querySelector(".".concat(w.range," input")),Ei=we.querySelector(".".concat(w.range," output")),Tn=Lt(we,w.select),xr=we.querySelector(".".concat(w.checkbox," input")),to=Lt(we,w.textarea);Ce.oninput=Ln,$e.onchange=Ln,Tn.onchange=Ln,xr.onchange=Ln,to.oninput=Ln,vt.oninput=()=>{Ln(),Ei.value=vt.value},vt.onchange=()=>{Ln(),vt.nextSibling.value=vt.value}},il=we=>typeof we=="string"?document.querySelector(we):we,ft=we=>{const Ce=A();Ce.setAttribute("role",we.toast?"alert":"dialog"),Ce.setAttribute("aria-live",we.toast?"polite":"assertive"),we.toast||Ce.setAttribute("aria-modal","true")},Ne=we=>{window.getComputedStyle(we).direction==="rtl"&&pt(m(),w.rtl)},He=we=>{const Ce=ao();if(di()){s("SweetAlert2 requires document to initialize");return}const $e=document.createElement("div");$e.className=w.container,Ce&&pt($e,w["no-transition"]),Qe($e,wn);const vt=il(we.target);vt.appendChild($e),ft(we),Ne(vt),ja()},dt=(we,Ce)=>{we instanceof HTMLElement?Ce.appendChild(we):typeof we=="object"?_t(we,Ce):we&&Qe(Ce,we)},_t=(we,Ce)=>{we.jquery?Ot(Ce,we):Qe(Ce,we.toString())},Ot=(we,Ce)=>{if(we.textContent="",0 in Ce)for(let $e=0;$e in Ce;$e++)we.appendChild(Ce[$e].cloneNode(!0));else we.appendChild(Ce.cloneNode(!0))},Ut=(()=>{if(di())return!1;const we=document.createElement("div"),Ce={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const $e in Ce)if(Object.prototype.hasOwnProperty.call(Ce,$e)&&typeof we.style[$e]<"u")return Ce[$e];return!1})(),Ht=()=>{const we=document.createElement("div");we.className=w["scrollbar-measure"],document.body.appendChild(we);const Ce=we.getBoundingClientRect().width-we.clientWidth;return document.body.removeChild(we),Ce},zt=(we,Ce)=>{const $e=re(),vt=ge();!Ce.showConfirmButton&&!Ce.showDenyButton&&!Ce.showCancelButton?pi($e):Wt($e),Ie($e,Ce,"actions"),Zt($e,vt,Ce),Qe(vt,Ce.loaderHtml),Ie(vt,Ce,"loader")};function Zt(we,Ce,$e){const vt=F(),Ei=Q(),Tn=ke();Zi(vt,"confirm",$e),Zi(Ei,"deny",$e),Zi(Tn,"cancel",$e),xi(vt,Ei,Tn,$e),$e.reverseButtons&&($e.toast?(we.insertBefore(Tn,vt),we.insertBefore(Ei,vt)):(we.insertBefore(Tn,Ce),we.insertBefore(Ei,Ce),we.insertBefore(vt,Ce)))}function xi(we,Ce,$e,vt){if(!vt.buttonsStyling)return Tt([we,Ce,$e],w.styled);pt([we,Ce,$e],w.styled),vt.confirmButtonColor&&(we.style.backgroundColor=vt.confirmButtonColor,pt(we,w["default-outline"])),vt.denyButtonColor&&(Ce.style.backgroundColor=vt.denyButtonColor,pt(Ce,w["default-outline"])),vt.cancelButtonColor&&($e.style.backgroundColor=vt.cancelButtonColor,pt($e,w["default-outline"]))}function Zi(we,Ce,$e){ht(we,$e["show".concat(o(Ce),"Button")],"inline-block"),Qe(we,$e["".concat(Ce,"ButtonText")]),we.setAttribute("aria-label",$e["".concat(Ce,"ButtonAriaLabel")]),we.className=w[Ce],Ie(we,$e,"".concat(Ce,"Button")),pt(we,$e["".concat(Ce,"ButtonClass")])}function Di(we,Ce){typeof Ce=="string"?we.style.background=Ce:Ce||pt([document.documentElement,document.body],w["no-backdrop"])}function Mn(we,Ce){Ce in w?pt(we,w[Ce]):(h('The "position" parameter is not valid, defaulting to "center"'),pt(we,w.center))}function Cn(we,Ce){if(Ce&&typeof Ce=="string"){const $e="grow-".concat(Ce);$e in w&&pt(we,w[$e])}}const un=(we,Ce)=>{const $e=m();$e&&(Di($e,Ce.backdrop),Mn($e,Ce.position),Cn($e,Ce.grow),Ie($e,Ce,"container"))};var Hi={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const lr=["input","file","range","select","radio","checkbox","textarea"],kr=(we,Ce)=>{const $e=A(),vt=Hi.innerParams.get(we),Ei=!vt||Ce.input!==vt.input;lr.forEach(Tn=>{const xr=w[Tn],to=Lt($e,xr);Lr(Tn,Ce.inputAttributes),to.className=xr,Ei&&pi(to)}),Ce.input&&(Ei&&_n(Ce),Ua(Ce))},_n=we=>{if(!ps[we.input])return s('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(we.input,'"'));const Ce=fi(we.input),$e=ps[we.input](Ce,we);Wt($e),setTimeout(()=>{Xe($e)})},Yr=we=>{for(let Ce=0;Ce<we.attributes.length;Ce++){const $e=we.attributes[Ce].name;["type","value","style"].includes($e)||we.removeAttribute($e)}},Lr=(we,Ce)=>{const $e=Be(A(),we);if($e){Yr($e);for(const vt in Ce)$e.setAttribute(vt,Ce[vt])}},Ua=we=>{const Ce=fi(we.input);we.customClass&&pt(Ce,we.customClass.input)},$a=(we,Ce)=>{(!we.placeholder||Ce.inputPlaceholder)&&(we.placeholder=Ce.inputPlaceholder)},go=(we,Ce,$e)=>{if($e.inputLabel){we.id=w.input;const vt=document.createElement("label"),Ei=w["input-label"];vt.setAttribute("for",we.id),vt.className=Ei,pt(vt,$e.customClass.inputLabel),vt.innerText=$e.inputLabel,Ce.insertAdjacentElement("beforebegin",vt)}},fi=we=>{const Ce=w[we]?w[we]:w.input;return Lt(A(),Ce)},ps={};ps.text=ps.email=ps.password=ps.number=ps.tel=ps.url=(we,Ce)=>(typeof Ce.inputValue=="string"||typeof Ce.inputValue=="number"?we.value=Ce.inputValue:L(Ce.inputValue)||h('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof Ce.inputValue,'"')),go(we,we,Ce),$a(we,Ce),we.type=Ce.input,we),ps.file=(we,Ce)=>(go(we,we,Ce),$a(we,Ce),we),ps.range=(we,Ce)=>{const $e=we.querySelector("input"),vt=we.querySelector("output");return $e.value=Ce.inputValue,$e.type=Ce.input,vt.value=Ce.inputValue,go($e,we,Ce),we},ps.select=(we,Ce)=>{if(we.textContent="",Ce.inputPlaceholder){const $e=document.createElement("option");Qe($e,Ce.inputPlaceholder),$e.value="",$e.disabled=!0,$e.selected=!0,we.appendChild($e)}return go(we,we,Ce),we},ps.radio=we=>(we.textContent="",we),ps.checkbox=(we,Ce)=>{const $e=Be(A(),"checkbox");$e.value="1",$e.id=w.checkbox,$e.checked=!!Ce.inputValue;const vt=we.querySelector("span");return Qe(vt,Ce.inputPlaceholder),we},ps.textarea=(we,Ce)=>{we.value=Ce.inputValue,$a(we,Ce),go(we,we,Ce);const $e=vt=>parseInt(window.getComputedStyle(vt).marginLeft)+parseInt(window.getComputedStyle(vt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const vt=parseInt(window.getComputedStyle(A()).width),Ei=()=>{const Tn=we.offsetWidth+$e(we);Tn>vt?A().style.width="".concat(Tn,"px"):A().style.width=null};new MutationObserver(Ei).observe(we,{attributes:!0,attributeFilter:["style"]})}}),we};const Ls=(we,Ce)=>{const $e=K();Ie($e,Ce,"htmlContainer"),Ce.html?(dt(Ce.html,$e),Wt($e,"block")):Ce.text?($e.textContent=Ce.text,Wt($e,"block")):pi($e),kr(we,Ce)},Os=(we,Ce)=>{const $e=ve();ht($e,Ce.footer),Ce.footer&&dt(Ce.footer,$e),Ie($e,Ce,"footer")},bc=(we,Ce)=>{const $e=oe();Qe($e,Ce.closeButtonHtml),Ie($e,Ce,"closeButton"),ht($e,Ce.showCloseButton),$e.setAttribute("aria-label",Ce.closeButtonAriaLabel)},Ao=(we,Ce)=>{const $e=Hi.innerParams.get(we),vt=X();if($e&&Ce.icon===$e.icon){tr(vt,Ce),Yc(vt,Ce);return}if(!Ce.icon&&!Ce.iconHtml)return pi(vt);if(Ce.icon&&Object.keys(I).indexOf(Ce.icon)===-1)return s('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(Ce.icon,'"')),pi(vt);Wt(vt),tr(vt,Ce),Yc(vt,Ce),pt(vt,Ce.showClass.icon)},Yc=(we,Ce)=>{for(const $e in I)Ce.icon!==$e&&Tt(we,I[$e]);pt(we,I[Ce.icon]),cr(we,Ce),iu(),Ie(we,Ce,"icon")},iu=()=>{const we=A(),Ce=window.getComputedStyle(we).getPropertyValue("background-color"),$e=we.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let vt=0;vt<$e.length;vt++)$e[vt].style.backgroundColor=Ce},lo=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Ki=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,tr=(we,Ce)=>{we.textContent="",Ce.iconHtml?Qe(we,Jo(Ce.iconHtml)):Ce.icon==="success"?Qe(we,lo):Ce.icon==="error"?Qe(we,Ki):Qe(we,Jo({question:"?",warning:"!",info:"i"}[Ce.icon]))},cr=(we,Ce)=>{if(Ce.iconColor){we.style.color=Ce.iconColor,we.style.borderColor=Ce.iconColor;for(const $e of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Gi(we,$e,"backgroundColor",Ce.iconColor);Gi(we,".swal2-success-ring","borderColor",Ce.iconColor)}},Jo=we=>'<div class="'.concat(w["icon-content"],'">').concat(we,"</div>"),Va=(we,Ce)=>{const $e=le();if(!Ce.imageUrl)return pi($e);Wt($e,""),$e.setAttribute("src",Ce.imageUrl),$e.setAttribute("alt",Ce.imageAlt),gi($e,"width",Ce.imageWidth),gi($e,"height",Ce.imageHeight),$e.className=w.image,Ie($e,Ce,"image")},Nn=we=>{const Ce=document.createElement("li");return pt(Ce,w["progress-step"]),Qe(Ce,we),Ce},wc=we=>{const Ce=document.createElement("li");return pt(Ce,w["progress-step-line"]),we.progressStepsDistance&&(Ce.style.width=we.progressStepsDistance),Ce},Ca=(we,Ce)=>{const $e=he();if(!Ce.progressSteps||Ce.progressSteps.length===0)return pi($e);Wt($e),$e.textContent="",Ce.currentProgressStep>=Ce.progressSteps.length&&h("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Ce.progressSteps.forEach((vt,Ei)=>{const Tn=Nn(vt);if($e.appendChild(Tn),Ei===Ce.currentProgressStep&&pt(Tn,w["active-progress-step"]),Ei!==Ce.progressSteps.length-1){const xr=wc(Ce);$e.appendChild(xr)}})},nl=(we,Ce)=>{const $e=Y();ht($e,Ce.title||Ce.titleText,"block"),Ce.title&&dt(Ce.title,$e),Ce.titleText&&($e.innerText=Ce.titleText),Ie($e,Ce,"title")},Zs=(we,Ce)=>{const $e=m(),vt=A();Ce.toast?(gi($e,"width",Ce.width),vt.style.width="100%",vt.insertBefore(ge(),X())):gi(vt,"width",Ce.width),gi(vt,"padding",Ce.padding),Ce.color&&(vt.style.color=Ce.color),Ce.background&&(vt.style.background=Ce.background),pi(pe()),Gr(vt,Ce)},Gr=(we,Ce)=>{we.className="".concat(w.popup," ").concat(It(we)?Ce.showClass.popup:""),Ce.toast?(pt([document.documentElement,document.body],w["toast-shown"]),pt(we,w.toast)):pt(we,w.modal),Ie(we,Ce,"popup"),typeof Ce.customClass=="string"&&pt(we,Ce.customClass),Ce.icon&&pt(we,w["icon-".concat(Ce.icon)])},co=(we,Ce)=>{Zs(we,Ce),un(we,Ce),Ca(we,Ce),Ao(we,Ce),Va(we,Ce),nl(we,Ce),bc(we,Ce),Ls(we,Ce),zt(we,Ce),Os(we,Ce),typeof Ce.didRender=="function"&&Ce.didRender(A())},Uo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Gl=()=>{d(document.body.children).forEach(Ce=>{Ce===m()||Ce.contains(m())||(Ce.hasAttribute("aria-hidden")&&Ce.setAttribute("data-previous-aria-hidden",Ce.getAttribute("aria-hidden")),Ce.setAttribute("aria-hidden","true"))})},pa=()=>{d(document.body.children).forEach(Ce=>{Ce.hasAttribute("data-previous-aria-hidden")?(Ce.setAttribute("aria-hidden",Ce.getAttribute("data-previous-aria-hidden")),Ce.removeAttribute("data-previous-aria-hidden")):Ce.removeAttribute("aria-hidden")})},yl=["swal-title","swal-html","swal-footer"],_l=we=>{const Ce=typeof we.template=="string"?document.querySelector(we.template):we.template;if(!Ce)return{};const $e=Ce.content;return Hl($e),Object.assign(rl($e),vl($e),qc($e),Xc($e),Ro($e),As($e,yl))},rl=we=>{const Ce={};return d(we.querySelectorAll("swal-param")).forEach($e=>{sl($e,["name","value"]);const vt=$e.getAttribute("name"),Ei=$e.getAttribute("value");typeof O[vt]=="boolean"&&Ei==="false"&&(Ce[vt]=!1),typeof O[vt]=="object"&&(Ce[vt]=JSON.parse(Ei))}),Ce},vl=we=>{const Ce={};return d(we.querySelectorAll("swal-button")).forEach($e=>{sl($e,["type","color","aria-label"]);const vt=$e.getAttribute("type");Ce["".concat(vt,"ButtonText")]=$e.innerHTML,Ce["show".concat(o(vt),"Button")]=!0,$e.hasAttribute("color")&&(Ce["".concat(vt,"ButtonColor")]=$e.getAttribute("color")),$e.hasAttribute("aria-label")&&(Ce["".concat(vt,"ButtonAriaLabel")]=$e.getAttribute("aria-label"))}),Ce},qc=we=>{const Ce={},$e=we.querySelector("swal-image");return $e&&(sl($e,["src","width","height","alt"]),$e.hasAttribute("src")&&(Ce.imageUrl=$e.getAttribute("src")),$e.hasAttribute("width")&&(Ce.imageWidth=$e.getAttribute("width")),$e.hasAttribute("height")&&(Ce.imageHeight=$e.getAttribute("height")),$e.hasAttribute("alt")&&(Ce.imageAlt=$e.getAttribute("alt"))),Ce},Xc=we=>{const Ce={},$e=we.querySelector("swal-icon");return $e&&(sl($e,["type","color"]),$e.hasAttribute("type")&&(Ce.icon=$e.getAttribute("type")),$e.hasAttribute("color")&&(Ce.iconColor=$e.getAttribute("color")),Ce.iconHtml=$e.innerHTML),Ce},Ro=we=>{const Ce={},$e=we.querySelector("swal-input");$e&&(sl($e,["type","label","placeholder","value"]),Ce.input=$e.getAttribute("type")||"text",$e.hasAttribute("label")&&(Ce.inputLabel=$e.getAttribute("label")),$e.hasAttribute("placeholder")&&(Ce.inputPlaceholder=$e.getAttribute("placeholder")),$e.hasAttribute("value")&&(Ce.inputValue=$e.getAttribute("value")));const vt=we.querySelectorAll("swal-input-option");return vt.length&&(Ce.inputOptions={},d(vt).forEach(Ei=>{sl(Ei,["value"]);const Tn=Ei.getAttribute("value"),xr=Ei.innerHTML;Ce.inputOptions[Tn]=xr})),Ce},As=(we,Ce)=>{const $e={};for(const vt in Ce){const Ei=Ce[vt],Tn=we.querySelector(Ei);Tn&&(sl(Tn,[]),$e[Ei.replace(/^swal-/,"")]=Tn.innerHTML.trim())}return $e},Hl=we=>{const Ce=yl.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);d(we.children).forEach($e=>{const vt=$e.tagName.toLowerCase();Ce.indexOf(vt)===-1&&h("Unrecognized element <".concat(vt,">"))})},sl=(we,Ce)=>{d(we.attributes).forEach($e=>{Ce.indexOf($e.name)===-1&&h(['Unrecognized attribute "'.concat($e.name,'" on <').concat(we.tagName.toLowerCase(),">."),"".concat(Ce.length?"Allowed attributes are: ".concat(Ce.join(", ")):"To set the value, use HTML within the element.")])})};var Ks={email:(we,Ce)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(we)?Promise.resolve():Promise.resolve(Ce||"Invalid email address"),url:(we,Ce)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(we)?Promise.resolve():Promise.resolve(Ce||"Invalid URL")};function fa(we){we.inputValidator||Object.keys(Ks).forEach(Ce=>{we.input===Ce&&(we.inputValidator=Ks[Ce])})}function Du(we){(!we.target||typeof we.target=="string"&&!document.querySelector(we.target)||typeof we.target!="string"&&!we.target.appendChild)&&(h('Target parameter is not valid, defaulting to "body"'),we.target="body")}function Td(we){fa(we),we.showLoaderOnConfirm&&!we.preConfirm&&h(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Du(we),typeof we.title=="string"&&(we.title=we.title.split(`
`).join("<br />")),He(we)}class Hs{constructor(Ce,$e){this.callback=Ce,this.remaining=$e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Ce){const $e=this.running;return $e&&this.stop(),this.remaining+=Ce,$e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Wl=()=>{st.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(st.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(st.previousBodyPadding+Ht(),"px"))},Sd=()=>{st.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(st.previousBodyPadding,"px"),st.previousBodyPadding=null)},Yl=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!qe(document.body,w.iosfix)){const Ce=document.body.scrollTop;document.body.style.top="".concat(Ce*-1,"px"),pt(document.body,w.iosfix),xl(),Js()}},Js=()=>{const we=navigator.userAgent,Ce=!!we.match(/iPad/i)||!!we.match(/iPhone/i),$e=!!we.match(/WebKit/i);Ce&&$e&&!we.match(/CriOS/i)&&A().scrollHeight>window.innerHeight-44&&(m().style.paddingBottom="".concat(44,"px"))},xl=()=>{const we=m();let Ce;we.ontouchstart=$e=>{Ce=Cd($e)},we.ontouchmove=$e=>{Ce&&($e.preventDefault(),$e.stopPropagation())}},Cd=we=>{const Ce=we.target,$e=m();return Pr(we)||Fr(we)?!1:Ce===$e||!Pi($e)&&Ce.tagName!=="INPUT"&&Ce.tagName!=="TEXTAREA"&&!(Pi(K())&&K().contains(Ce))},Pr=we=>we.touches&&we.touches.length&&we.touches[0].touchType==="stylus",Fr=we=>we.touches&&we.touches.length>1,Ed=()=>{if(qe(document.body,w.iosfix)){const we=parseInt(document.body.style.top,10);Tt(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=we*-1}},Iu=10,nu=we=>{const Ce=m(),$e=A();typeof we.willOpen=="function"&&we.willOpen($e);const Ei=window.getComputedStyle(document.body).overflowY;ql(Ce,$e,we),setTimeout(()=>{Zc(Ce,$e)},Iu),Re()&&(Md(Ce,we.scrollbarPadding,Ei),Gl()),!Oe()&&!Wi.previousActiveElement&&(Wi.previousActiveElement=document.activeElement),typeof we.didOpen=="function"&&setTimeout(()=>we.didOpen($e)),Tt(Ce,w["no-transition"])},ma=we=>{const Ce=A();if(we.target!==Ce)return;const $e=m();Ce.removeEventListener(Ut,ma),$e.style.overflowY="auto"},Zc=(we,Ce)=>{Ut&&an(Ce)?(we.style.overflowY="hidden",Ce.addEventListener(Ut,ma)):we.style.overflowY="auto"},Md=(we,Ce,$e)=>{Yl(),Ce&&$e!=="hidden"&&Wl(),setTimeout(()=>{we.scrollTop=0})},ql=(we,Ce,$e)=>{pt(we,$e.showClass.backdrop),Ce.style.setProperty("opacity","0","important"),Wt(Ce,"grid"),setTimeout(()=>{pt(Ce,$e.showClass.popup),Ce.style.removeProperty("opacity")},Iu),pt([document.documentElement,document.body],w.shown),$e.heightAuto&&$e.backdrop&&!$e.toast&&pt([document.documentElement,document.body],w["height-auto"])},Qo=we=>{let Ce=A();Ce||new In,Ce=A();const $e=ge();Oe()?pi(X()):Ws(Ce,we),Wt($e),Ce.setAttribute("data-loading",!0),Ce.setAttribute("aria-busy",!0),Ce.focus()},Ws=(we,Ce)=>{const $e=re(),vt=ge();!Ce&&It(F())&&(Ce=F()),Wt($e),Ce&&(pi(Ce),vt.setAttribute("data-button-to-replace",Ce.className)),vt.parentNode.insertBefore(vt,Ce),pt([we,$e],w.loading)},Z=(we,Ce)=>{Ce.input==="select"||Ce.input==="radio"?Ve(we,Ce):["text","email","number","tel","textarea"].includes(Ce.input)&&(z(Ce.inputValue)||L(Ce.inputValue))&&(Qo(F()),Je(we,Ce))},de=(we,Ce)=>{const $e=we.getInput();if(!$e)return null;switch(Ce.input){case"checkbox":return be($e);case"radio":return Me($e);case"file":return je($e);default:return Ce.inputAutoTrim?$e.value.trim():$e.value}},be=we=>we.checked?1:0,Me=we=>we.checked?we.value:null,je=we=>we.files.length?we.getAttribute("multiple")!==null?we.files:we.files[0]:null,Ve=(we,Ce)=>{const $e=A(),vt=Ei=>Rt[Ce.input]($e,Ct(Ei),Ce);z(Ce.inputOptions)||L(Ce.inputOptions)?(Qo(F()),q(Ce.inputOptions).then(Ei=>{we.hideLoading(),vt(Ei)})):typeof Ce.inputOptions=="object"?vt(Ce.inputOptions):s("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof Ce.inputOptions))},Je=(we,Ce)=>{const $e=we.getInput();pi($e),q(Ce.inputValue).then(vt=>{$e.value=Ce.input==="number"?parseFloat(vt)||0:"".concat(vt),Wt($e),$e.focus(),we.hideLoading()}).catch(vt=>{s("Error in inputValue promise: ".concat(vt)),$e.value="",Wt($e),$e.focus(),we.hideLoading()})},Rt={select:(we,Ce,$e)=>{const vt=Lt(we,w.select),Ei=(Tn,xr,to)=>{const Ns=document.createElement("option");Ns.value=to,Qe(Ns,xr),Ns.selected=Kt(to,$e.inputValue),Tn.appendChild(Ns)};Ce.forEach(Tn=>{const xr=Tn[0],to=Tn[1];if(Array.isArray(to)){const Ns=document.createElement("optgroup");Ns.label=xr,Ns.disabled=!1,vt.appendChild(Ns),to.forEach(Tl=>Ei(Ns,Tl[1],Tl[0]))}else Ei(vt,to,xr)}),vt.focus()},radio:(we,Ce,$e)=>{const vt=Lt(we,w.radio);Ce.forEach(Tn=>{const xr=Tn[0],to=Tn[1],Ns=document.createElement("input"),Tl=document.createElement("label");Ns.type="radio",Ns.name=w.radio,Ns.value=xr,Kt(xr,$e.inputValue)&&(Ns.checked=!0);const nn=document.createElement("span");Qe(nn,to),nn.className=w.label,Tl.appendChild(Ns),Tl.appendChild(nn),vt.appendChild(Tl)});const Ei=vt.querySelectorAll("input");Ei.length&&Ei[0].focus()}},Ct=we=>{const Ce=[];return typeof Map<"u"&&we instanceof Map?we.forEach(($e,vt)=>{let Ei=$e;typeof Ei=="object"&&(Ei=Ct(Ei)),Ce.push([vt,Ei])}):Object.keys(we).forEach($e=>{let vt=we[$e];typeof vt=="object"&&(vt=Ct(vt)),Ce.push([$e,vt])}),Ce},Kt=(we,Ce)=>Ce&&Ce.toString()===we.toString(),mi=we=>{const Ce=Hi.innerParams.get(we);we.disableButtons(),Ce.input?ui(we,"confirm"):Jr(we,!0)},ki=we=>{const Ce=Hi.innerParams.get(we);we.disableButtons(),Ce.returnInputValueOnDeny?ui(we,"deny"):qn(we,!1)},oi=(we,Ce)=>{we.disableButtons(),Ce(Uo.cancel)},ui=(we,Ce)=>{const $e=Hi.innerParams.get(we);if(!$e.input)return s('The "input" parameter is needed to be set when using returnInputValueOn'.concat(o(Ce)));const vt=de(we,$e);$e.inputValidator?Xi(we,vt,Ce):we.getInput().checkValidity()?Ce==="deny"?qn(we,vt):Jr(we,vt):(we.enableButtons(),we.showValidationMessage($e.validationMessage))},Xi=(we,Ce,$e)=>{const vt=Hi.innerParams.get(we);we.disableInput(),Promise.resolve().then(()=>q(vt.inputValidator(Ce,vt.validationMessage))).then(Tn=>{we.enableButtons(),we.enableInput(),Tn?we.showValidationMessage(Tn):$e==="deny"?qn(we,Ce):Jr(we,Ce)})},qn=(we,Ce)=>{const $e=Hi.innerParams.get(we||void 0);$e.showLoaderOnDeny&&Qo(Q()),$e.preDeny?(Hi.awaitingPromise.set(we||void 0,!0),Promise.resolve().then(()=>q($e.preDeny(Ce,$e.validationMessage))).then(Ei=>{Ei===!1?we.hideLoading():we.closePopup({isDenied:!0,value:typeof Ei>"u"?Ce:Ei})}).catch(Ei=>fs(we||void 0,Ei))):we.closePopup({isDenied:!0,value:Ce})},pn=(we,Ce)=>{we.closePopup({isConfirmed:!0,value:Ce})},fs=(we,Ce)=>{we.rejectPromise(Ce)},Jr=(we,Ce)=>{const $e=Hi.innerParams.get(we||void 0);$e.showLoaderOnConfirm&&Qo(),$e.preConfirm?(we.resetValidationMessage(),Hi.awaitingPromise.set(we||void 0,!0),Promise.resolve().then(()=>q($e.preConfirm(Ce,$e.validationMessage))).then(Ei=>{It(pe())||Ei===!1?we.hideLoading():pn(we,typeof Ei>"u"?Ce:Ei)}).catch(Ei=>fs(we||void 0,Ei))):pn(we,Ce)},hr=(we,Ce,$e)=>{Hi.innerParams.get(we).toast?pr(we,Ce,$e):(mr(Ce),Qr(Ce),Ga(we,Ce,$e))},pr=(we,Ce,$e)=>{Ce.popup.onclick=()=>{const vt=Hi.innerParams.get(we);vt&&(Hn(vt)||vt.timer||vt.input)||$e(Uo.close)}},Hn=we=>we.showConfirmButton||we.showDenyButton||we.showCancelButton||we.showCloseButton;let Qs=!1;const mr=we=>{we.popup.onmousedown=()=>{we.container.onmouseup=function(Ce){we.container.onmouseup=void 0,Ce.target===we.container&&(Qs=!0)}}},Qr=we=>{we.container.onmousedown=()=>{we.popup.onmouseup=function(Ce){we.popup.onmouseup=void 0,(Ce.target===we.popup||we.popup.contains(Ce.target))&&(Qs=!0)}}},Ga=(we,Ce,$e)=>{Ce.container.onclick=vt=>{const Ei=Hi.innerParams.get(we);if(Qs){Qs=!1;return}vt.target===Ce.container&&k(Ei.allowOutsideClick)&&$e(Uo.backdrop)}},Xl=()=>It(A()),eo=()=>F()&&F().click(),ea=()=>Q()&&Q().click(),Zn=()=>ke()&&ke().click(),yo=(we,Ce,$e,vt)=>{Ce.keydownTarget&&Ce.keydownHandlerAdded&&(Ce.keydownTarget.removeEventListener("keydown",Ce.keydownHandler,{capture:Ce.keydownListenerCapture}),Ce.keydownHandlerAdded=!1),$e.toast||(Ce.keydownHandler=Ei=>Zl(we,Ei,vt),Ce.keydownTarget=$e.keydownListenerCapture?window:A(),Ce.keydownListenerCapture=$e.keydownListenerCapture,Ce.keydownTarget.addEventListener("keydown",Ce.keydownHandler,{capture:Ce.keydownListenerCapture}),Ce.keydownHandlerAdded=!0)},ta=(we,Ce,$e)=>{const vt=Se();if(vt.length)return Ce=Ce+$e,Ce===vt.length?Ce=0:Ce===-1&&(Ce=vt.length-1),vt[Ce].focus();A().focus()},Bo=["ArrowRight","ArrowDown"],ga=["ArrowLeft","ArrowUp"],Zl=(we,Ce,$e)=>{const vt=Hi.innerParams.get(we);vt&&(vt.stopKeydownPropagation&&Ce.stopPropagation(),Ce.key==="Enter"?ol(we,Ce,vt):Ce.key==="Tab"?kd(Ce,vt):[...Bo,...ga].includes(Ce.key)?jr(Ce.key):Ce.key==="Escape"&&ya(Ce,vt,$e))},ol=(we,Ce,$e)=>{if(!(!k($e.allowEnterKey)||Ce.isComposing)&&Ce.target&&we.getInput()&&Ce.target.outerHTML===we.getInput().outerHTML){if(["textarea","file"].includes($e.input))return;eo(),Ce.preventDefault()}},kd=(we,Ce)=>{const $e=we.target,vt=Se();let Ei=-1;for(let Tn=0;Tn<vt.length;Tn++)if($e===vt[Tn]){Ei=Tn;break}we.shiftKey?ta(Ce,Ei,-1):ta(Ce,Ei,1),we.stopPropagation(),we.preventDefault()},jr=we=>{const Ce=F(),$e=Q(),vt=ke();if(![Ce,$e,vt].includes(document.activeElement))return;const Ei=Bo.includes(we)?"nextElementSibling":"previousElementSibling",Tn=document.activeElement[Ei];Tn instanceof HTMLElement&&Tn.focus()},ya=(we,Ce,$e)=>{k(Ce.allowEscapeKey)&&(we.preventDefault(),$e(Uo.esc))},Kc=we=>typeof we=="object"&&we.jquery,Kl=we=>we instanceof Element||Kc(we),zo=we=>{const Ce={};return typeof we[0]=="object"&&!Kl(we[0])?Object.assign(Ce,we[0]):["title","html","icon"].forEach(($e,vt)=>{const Ei=we[vt];typeof Ei=="string"||Kl(Ei)?Ce[$e]=Ei:Ei!==void 0&&s("Unexpected type of ".concat($e,'! Expected "string" or "Element", got ').concat(typeof Ei))}),Ce};function Jl(){const we=this;for(var Ce=arguments.length,$e=new Array(Ce),vt=0;vt<Ce;vt++)$e[vt]=arguments[vt];return new we(...$e)}function Tc(we){class Ce extends this{_main(vt,Ei){return super._main(vt,Object.assign({},we,Ei))}}return Ce}const ru=()=>Wi.timeout&&Wi.timeout.getTimerLeft(),Ql=()=>{if(Wi.timeout)return Kr(),Wi.timeout.stop()},ec=()=>{if(Wi.timeout){const we=Wi.timeout.start();return Gn(we),we}},Lu=()=>{const we=Wi.timeout;return we&&(we.running?Ql():ec())},tc=we=>{if(Wi.timeout){const Ce=Wi.timeout.increase(we);return Gn(Ce,!0),Ce}},su=()=>Wi.timeout&&Wi.timeout.isRunning();let Ea=!1;const Ma={};function ic(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Ma[we]=this,Ea||(document.body.addEventListener("click",Ad),Ea=!0)}const Ad=we=>{for(let Ce=we.target;Ce&&Ce!==document;Ce=Ce.parentNode)for(const $e in Ma){const vt=Ce.getAttribute($e);if(vt){Ma[$e].fire({template:vt});return}}};var Sc=Object.freeze({isValidParameter:P,isUpdatableParameter:H,isDeprecatedParameter:U,argsToParams:zo,isVisible:Xl,clickConfirm:eo,clickDeny:ea,clickCancel:Zn,getContainer:m,getPopup:A,getTitle:Y,getHtmlContainer:K,getImage:le,getIcon:X,getInputLabel:ce,getCloseButton:oe,getActions:re,getConfirmButton:F,getDenyButton:Q,getCancelButton:ke,getLoader:ge,getFooter:ve,getTimerProgressBar:_e,getFocusableElements:Se,getValidationMessage:pe,isLoading:Ue,fire:Jl,mixin:Tc,showLoading:Qo,enableLoading:Qo,getTimerLeft:ru,stopTimer:Ql,resumeTimer:ec,toggleTimer:Lu,increaseTimer:tc,isTimerRunning:su,bindClickHandler:ic});function ia(){const we=Hi.innerParams.get(this);if(!we)return;const Ce=Hi.domCache.get(this);pi(Ce.loader),Oe()?we.icon&&Wt(X()):_o(Ce),Tt([Ce.popup,Ce.actions],w.loading),Ce.popup.removeAttribute("aria-busy"),Ce.popup.removeAttribute("data-loading"),Ce.confirmButton.disabled=!1,Ce.denyButton.disabled=!1,Ce.cancelButton.disabled=!1}const _o=we=>{const Ce=we.popup.getElementsByClassName(we.loader.getAttribute("data-button-to-replace"));Ce.length?Wt(Ce[0],"inline-block"):ei()&&pi(we.actions)};function bl(we){const Ce=Hi.innerParams.get(we||this),$e=Hi.domCache.get(we||this);return $e?Be($e.popup,Ce.input):null}var nc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Cc(we,Ce,$e,vt){Oe()?Vo(we,vt):(mo($e).then(()=>Vo(we,vt)),Wi.keydownTarget.removeEventListener("keydown",Wi.keydownHandler,{capture:Wi.keydownListenerCapture}),Wi.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(Ce.setAttribute("style","display:none !important"),Ce.removeAttribute("class"),Ce.innerHTML=""):Ce.remove(),Re()&&(Sd(),Ed(),pa()),yh()}function yh(){Tt([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"]])}function vr(we){we=Ou(we);const Ce=nc.swalPromiseResolve.get(this),$e=vo(this);this.isAwaitingPromise()?we.isDismissed||(wl(this),Ce(we)):$e&&Ce(we)}function $o(){return!!Hi.awaitingPromise.get(this)}const vo=we=>{const Ce=A();if(!Ce)return!1;const $e=Hi.innerParams.get(we);if(!$e||qe(Ce,$e.hideClass.popup))return!1;Tt(Ce,$e.showClass.popup),pt(Ce,$e.hideClass.popup);const vt=m();return Tt(vt,$e.showClass.backdrop),pt(vt,$e.hideClass.backdrop),Ru(we,Ce,$e),!0};function na(we){const Ce=nc.swalPromiseReject.get(this);wl(this),Ce&&Ce(we)}const wl=we=>{we.isAwaitingPromise()&&(Hi.awaitingPromise.delete(we),Hi.innerParams.get(we)||we._destroy())},Ou=we=>typeof we>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},we),Ru=(we,Ce,$e)=>{const vt=m(),Ei=Ut&&an(Ce);typeof $e.willClose=="function"&&$e.willClose(Ce),Ei?Bu(we,Ce,vt,$e.returnFocus,$e.didClose):Cc(we,vt,$e.returnFocus,$e.didClose)},Bu=(we,Ce,$e,vt,Ei)=>{Wi.swalCloseEventFinishedCallback=Cc.bind(null,we,$e,vt,Ei),Ce.addEventListener(Ut,function(Tn){Tn.target===Ce&&(Wi.swalCloseEventFinishedCallback(),delete Wi.swalCloseEventFinishedCallback)})},Vo=(we,Ce)=>{setTimeout(()=>{typeof Ce=="function"&&Ce.bind(we.params)(),we._destroy()})};function $t(we,Ce,$e){const vt=Hi.domCache.get(we);Ce.forEach(Ei=>{vt[Ei].disabled=$e})}function bi(we,Ce){if(!we)return!1;if(we.type==="radio"){const vt=we.parentNode.parentNode.querySelectorAll("input");for(let Ei=0;Ei<vt.length;Ei++)vt[Ei].disabled=Ce}else we.disabled=Ce}function hi(){$t(this,["confirmButton","denyButton","cancelButton"],!1)}function fn(){$t(this,["confirmButton","denyButton","cancelButton"],!0)}function Kn(){return bi(this.getInput(),!1)}function Or(){return bi(this.getInput(),!0)}function zs(we){const Ce=Hi.domCache.get(this),$e=Hi.innerParams.get(this);Qe(Ce.validationMessage,we),Ce.validationMessage.className=w["validation-message"],$e.customClass&&$e.customClass.validationMessage&&pt(Ce.validationMessage,$e.customClass.validationMessage),Wt(Ce.validationMessage);const vt=this.getInput();vt&&(vt.setAttribute("aria-invalid",!0),vt.setAttribute("aria-describedby",w["validation-message"]),Xe(vt),pt(vt,w.inputerror))}function Ur(){const we=Hi.domCache.get(this);we.validationMessage&&pi(we.validationMessage);const Ce=this.getInput();Ce&&(Ce.removeAttribute("aria-invalid"),Ce.removeAttribute("aria-describedby"),Tt(Ce,w.inputerror))}function Ec(){return Hi.domCache.get(this).progressSteps}function Pd(we){const Ce=A(),$e=Hi.innerParams.get(this);if(!Ce||qe(Ce,$e.hideClass.popup))return h("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const vt=Go(we),Ei=Object.assign({},$e,vt);co(this,Ei),Hi.innerParams.set(this,Ei),Object.defineProperties(this,{params:{value:Object.assign({},this.params,we),writable:!1,enumerable:!0}})}const Go=we=>{const Ce={};return Object.keys(we).forEach($e=>{H($e)?Ce[$e]=we[$e]:h('Invalid parameter to update: "'.concat($e,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),Ce};function rt(){const we=Hi.domCache.get(this),Ce=Hi.innerParams.get(this);if(!Ce){Ft(this);return}we.popup&&Wi.swalCloseEventFinishedCallback&&(Wi.swalCloseEventFinishedCallback(),delete Wi.swalCloseEventFinishedCallback),Wi.deferDisposalTimer&&(clearTimeout(Wi.deferDisposalTimer),delete Wi.deferDisposalTimer),typeof Ce.didDestroy=="function"&&Ce.didDestroy(),Mt(this)}const Mt=we=>{Ft(we),delete we.params,delete Wi.keydownHandler,delete Wi.keydownTarget,delete Wi.currentInstance},Ft=we=>{we.isAwaitingPromise()?(wi(Hi,we),Hi.awaitingPromise.set(we,!0)):(wi(nc,we),wi(Hi,we))},wi=(we,Ce)=>{for(const $e in we)we[$e].delete(Ce)};var Vt=Object.freeze({hideLoading:ia,disableLoading:ia,getInput:bl,close:vr,isAwaitingPromise:$o,rejectPromise:na,closePopup:vr,closeModal:vr,closeToast:vr,enableButtons:hi,disableButtons:fn,enableInput:Kn,disableInput:Or,showValidationMessage:zs,resetValidationMessage:Ur,getProgressSteps:Ec,update:Pd,_destroy:rt});let li;class Ii{constructor(){if(typeof window>"u")return;li=this;for(var Ce=arguments.length,$e=new Array(Ce),vt=0;vt<Ce;vt++)$e[vt]=arguments[vt];const Ei=Object.freeze(this.constructor.argsToParams($e));Object.defineProperties(this,{params:{value:Ei,writable:!1,enumerable:!0,configurable:!0}});const Tn=this._main(this.params);Hi.promise.set(this,Tn)}_main(Ce){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(Object.assign({},$e,Ce)),Wi.currentInstance&&(Wi.currentInstance._destroy(),Re()&&pa()),Wi.currentInstance=this;const vt=zi(Ce,$e);Td(vt),Object.freeze(vt),Wi.timeout&&(Wi.timeout.stop(),delete Wi.timeout),clearTimeout(Wi.restoreFocusTimeout);const Ei=Rn(this);return co(this,vt),Hi.innerParams.set(this,vt),tn(this,Ei,vt)}then(Ce){return Hi.promise.get(this).then(Ce)}finally(Ce){return Hi.promise.get(this).finally(Ce)}}const tn=(we,Ce,$e)=>new Promise((vt,Ei)=>{const Tn=xr=>{we.closePopup({isDismissed:!0,dismiss:xr})};nc.swalPromiseResolve.set(we,vt),nc.swalPromiseReject.set(we,Ei),Ce.confirmButton.onclick=()=>mi(we),Ce.denyButton.onclick=()=>ki(we),Ce.cancelButton.onclick=()=>oi(we,Tn),Ce.closeButton.onclick=()=>Tn(Uo.close),hr(we,Ce,Tn),yo(we,Wi,$e,Tn),Z(we,$e),nu($e),Fn(Wi,$e,Tn),Un(Ce,$e),setTimeout(()=>{Ce.container.scrollTop=0})}),zi=(we,Ce)=>{const $e=_l(we),vt=Object.assign({},O,Ce,$e,we);return vt.showClass=Object.assign({},O.showClass,vt.showClass),vt.hideClass=Object.assign({},O.hideClass,vt.hideClass),vt},Rn=we=>{const Ce={popup:A(),container:m(),actions:re(),confirmButton:F(),denyButton:Q(),cancelButton:ke(),loader:ge(),closeButton:oe(),validationMessage:pe(),progressSteps:he()};return Hi.domCache.set(we,Ce),Ce},Fn=(we,Ce,$e)=>{const vt=_e();pi(vt),Ce.timer&&(we.timeout=new Hs(()=>{$e("timer"),delete we.timeout},Ce.timer),Ce.timerProgressBar&&(Wt(vt),Ie(vt,Ce,"timerProgressBar"),setTimeout(()=>{we.timeout&&we.timeout.running&&Gn(Ce.timer)})))},Un=(we,Ce)=>{if(!Ce.toast){if(!k(Ce.allowEnterKey))return Cr();ir(we,Ce)||ta(Ce,-1,1)}},ir=(we,Ce)=>Ce.focusDeny&&It(we.denyButton)?(we.denyButton.focus(),!0):Ce.focusCancel&&It(we.cancelButton)?(we.cancelButton.focus(),!0):Ce.focusConfirm&&It(we.confirmButton)?(we.confirmButton.focus(),!0):!1,Cr=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(Ii.prototype,Vt),Object.assign(Ii,Sc),Object.keys(Vt).forEach(we=>{Ii[we]=function(){if(li)return li[we](...arguments)}}),Ii.DismissReason=Uo,Ii.version="11.4.0";const In=Ii;return In.default=In,In}),typeof qp<"u"&&qp.Sweetalert2&&(qp.swal=qp.sweetAlert=qp.Swal=qp.SweetAlert=qp.Sweetalert2)})(i4);var lx=i4.exports;class Bz{static install(t,n={}){var r;const o=lx.mixin(n),d=function(...h){return o.fire.call(o,...h)};Object.assign(d,lx),Object.keys(lx).filter(h=>typeof lx[h]=="function").forEach(h=>{d[h]=o[h].bind(o)}),(r=t.config)!=null&&r.globalProperties&&!t.config.globalProperties.$swal?(t.config.globalProperties.$swal=d,t.provide("$swal",d)):Object.prototype.hasOwnProperty.call(t,"$swal")||(t.prototype.$swal=d,t.swal=d)}}function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function dr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Wn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ur(e){Wn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Qd(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Qh(e,t){Wn(2,arguments);var n=ur(e),r=dr(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function lh(e,t){Wn(2,arguments);var n=ur(e),r=dr(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),d=new Date(n.getTime());d.setMonth(n.getMonth()+r+1,0);var h=d.getDate();return o>=h?d:(n.setFullYear(d.getFullYear(),d.getMonth(),o),n)}function n4(e,t){if(Wn(2,arguments),!t||Qd(t)!=="object")return new Date(NaN);var n=t.years?dr(t.years):0,r=t.months?dr(t.months):0,o=t.weeks?dr(t.weeks):0,d=t.days?dr(t.days):0,h=t.hours?dr(t.hours):0,s=t.minutes?dr(t.minutes):0,v=t.seconds?dr(t.seconds):0,R=ur(e),J=r||n?lh(R,r+n*12):R,k=d||o?Qh(J,d+o*7):J,z=s+h*60,q=v+z*60,L=q*1e3,O=new Date(k.getTime()+L);return O}function zz(e,t){Wn(2,arguments);var n=ur(e).getTime(),r=dr(t);return new Date(n+r)}var Nz={};function mh(){return Nz}function W0(e,t){var n,r,o,d,h,s,v,R;Wn(1,arguments);var J=mh(),k=dr((n=(r=(o=(d=t==null?void 0:t.weekStartsOn)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:J.weekStartsOn)!==null&&r!==void 0?r:(v=J.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&n!==void 0?n:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var z=ur(e),q=z.getDay(),L=(q<k?7:0)+q-k;return z.setDate(z.getDate()-L),z.setHours(0,0,0,0),z}function ib(e){return Wn(1,arguments),W0(e,{weekStartsOn:1})}function Fz(e){Wn(1,arguments);var t=ur(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var o=ib(r),d=new Date(0);d.setFullYear(n,0,4),d.setHours(0,0,0,0);var h=ib(d);return t.getTime()>=o.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function jz(e){Wn(1,arguments);var t=Fz(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=ib(n);return r}function nb(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function bE(e){Wn(1,arguments);var t=ur(e);return t.setHours(0,0,0,0),t}var Uz=864e5;function $z(e,t){Wn(2,arguments);var n=bE(e),r=bE(t),o=n.getTime()-nb(n),d=r.getTime()-nb(r);return Math.round((o-d)/Uz)}function r4(e,t){Wn(2,arguments);var n=dr(t);return lh(e,n*12)}var w5=6e4,T5=36e5,Vz=1e3;function s4(e){return Wn(1,arguments),e instanceof Date||Qd(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Uy(e){if(Wn(1,arguments),!s4(e)&&typeof e!="number")return!1;var t=ur(e);return!isNaN(Number(t))}function wE(e,t){var n;Wn(1,arguments);var r=e||{},o=ur(r.start),d=ur(r.end),h=d.getTime();if(!(o.getTime()<=h))throw new RangeError("Invalid interval");var s=[],v=o;v.setHours(0,0,0,0);var R=Number((n=t==null?void 0:t.step)!==null&&n!==void 0?n:1);if(R<1||isNaN(R))throw new RangeError("`options.step` must be a number greater than 1");for(;v.getTime()<=h;)s.push(ur(v)),v.setDate(v.getDate()+R),v.setHours(0,0,0,0);return s}function Gz(e,t){var n,r,o,d,h,s,v,R;Wn(1,arguments);var J=mh(),k=dr((n=(r=(o=(d=t==null?void 0:t.weekStartsOn)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:J.weekStartsOn)!==null&&r!==void 0?r:(v=J.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&n!==void 0?n:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var z=ur(e),q=z.getDay(),L=(q<k?-7:0)+6-(q-k);return z.setDate(z.getDate()+L),z.setHours(23,59,59,999),z}function o4(e,t){Wn(2,arguments);var n=dr(t);return zz(e,-n)}var Hz=864e5;function Wz(e){Wn(1,arguments);var t=ur(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/Hz)+1}function Rg(e){Wn(1,arguments);var t=1,n=ur(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function a4(e){Wn(1,arguments);var t=ur(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=Rg(r),d=new Date(0);d.setUTCFullYear(n,0,4),d.setUTCHours(0,0,0,0);var h=Rg(d);return t.getTime()>=o.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function Yz(e){Wn(1,arguments);var t=a4(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Rg(n);return r}var qz=6048e5;function l4(e){Wn(1,arguments);var t=ur(e),n=Rg(t).getTime()-Yz(t).getTime();return Math.round(n/qz)+1}function Y0(e,t){var n,r,o,d,h,s,v,R;Wn(1,arguments);var J=mh(),k=dr((n=(r=(o=(d=t==null?void 0:t.weekStartsOn)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:J.weekStartsOn)!==null&&r!==void 0?r:(v=J.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&n!==void 0?n:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var z=ur(e),q=z.getUTCDay(),L=(q<k?7:0)+q-k;return z.setUTCDate(z.getUTCDate()-L),z.setUTCHours(0,0,0,0),z}function S5(e,t){var n,r,o,d,h,s,v,R;Wn(1,arguments);var J=ur(e),k=J.getUTCFullYear(),z=mh(),q=dr((n=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:z.firstWeekContainsDate)!==null&&r!==void 0?r:(v=z.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=new Date(0);L.setUTCFullYear(k+1,0,q),L.setUTCHours(0,0,0,0);var O=Y0(L,t),G=new Date(0);G.setUTCFullYear(k,0,q),G.setUTCHours(0,0,0,0);var M=Y0(G,t);return J.getTime()>=O.getTime()?k+1:J.getTime()>=M.getTime()?k:k-1}function Xz(e,t){var n,r,o,d,h,s,v,R;Wn(1,arguments);var J=mh(),k=dr((n=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:J.firstWeekContainsDate)!==null&&r!==void 0?r:(v=J.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&n!==void 0?n:1),z=S5(e,t),q=new Date(0);q.setUTCFullYear(z,0,k),q.setUTCHours(0,0,0,0);var L=Y0(q,t);return L}var Zz=6048e5;function c4(e,t){Wn(1,arguments);var n=ur(e),r=Y0(n,t).getTime()-Xz(n,t).getTime();return Math.round(r/Zz)+1}function Us(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Kz={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return Us(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Us(r+1,2)},d:function(t,n){return Us(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Us(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Us(t.getUTCHours(),n.length)},m:function(t,n){return Us(t.getUTCMinutes(),n.length)},s:function(t,n){return Us(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),d=Math.floor(o*Math.pow(10,r-3));return Us(d,n.length)}};const Xp=Kz;var cg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jz={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),d=o>0?o:1-o;return r.ordinalNumber(d,{unit:"year"})}return Xp.y(t,n)},Y:function(t,n,r,o){var d=S5(t,o),h=d>0?d:1-d;if(n==="YY"){var s=h%100;return Us(s,2)}return n==="Yo"?r.ordinalNumber(h,{unit:"year"}):Us(h,n.length)},R:function(t,n){var r=a4(t);return Us(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Us(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return Us(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return Us(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return Xp.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return Us(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var d=c4(t,o);return n==="wo"?r.ordinalNumber(d,{unit:"week"}):Us(d,n.length)},I:function(t,n,r){var o=l4(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):Us(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Xp.d(t,n)},D:function(t,n,r){var o=Wz(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):Us(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var d=t.getUTCDay(),h=(d-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(h);case"ee":return Us(h,2);case"eo":return r.ordinalNumber(h,{unit:"day"});case"eee":return r.day(d,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(d,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(d,{width:"short",context:"formatting"});case"eeee":default:return r.day(d,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var d=t.getUTCDay(),h=(d-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(h);case"cc":return Us(h,n.length);case"co":return r.ordinalNumber(h,{unit:"day"});case"ccc":return r.day(d,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(d,{width:"narrow",context:"standalone"});case"cccccc":return r.day(d,{width:"short",context:"standalone"});case"cccc":default:return r.day(d,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),d=o===0?7:o;switch(n){case"i":return String(d);case"ii":return Us(d,n.length);case"io":return r.ordinalNumber(d,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),d=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(d,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(d,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),d;switch(o===12?d=cg.noon:o===0?d=cg.midnight:d=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(d,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(d,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),d;switch(o>=17?d=cg.evening:o>=12?d=cg.afternoon:o>=4?d=cg.morning:d=cg.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(d,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(d,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Xp.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Xp.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):Us(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):Us(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Xp.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Xp.s(t,n)},S:function(t,n){return Xp.S(t,n)},X:function(t,n,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();if(h===0)return"Z";switch(n){case"X":return SE(h);case"XXXX":case"XX":return T0(h);case"XXXXX":case"XXX":default:return T0(h,":")}},x:function(t,n,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();switch(n){case"x":return SE(h);case"xxxx":case"xx":return T0(h);case"xxxxx":case"xxx":default:return T0(h,":")}},O:function(t,n,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+TE(h,":");case"OOOO":default:return"GMT"+T0(h,":")}},z:function(t,n,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+TE(h,":");case"zzzz":default:return"GMT"+T0(h,":")}},t:function(t,n,r,o){var d=o._originalDate||t,h=Math.floor(d.getTime()/1e3);return Us(h,n.length)},T:function(t,n,r,o){var d=o._originalDate||t,h=d.getTime();return Us(h,n.length)}};function TE(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),d=r%60;if(d===0)return n+String(o);var h=t||"";return n+String(o)+h+Us(d,2)}function SE(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Us(Math.abs(e)/60,2)}return T0(e,t)}function T0(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),d=Us(Math.floor(o/60),2),h=Us(o%60,2);return r+d+n+h}const Qz=Jz;var CE=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},d4=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},eN=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],d=r[2];if(!d)return CE(t,n);var h;switch(o){case"P":h=n.dateTime({width:"short"});break;case"PP":h=n.dateTime({width:"medium"});break;case"PPP":h=n.dateTime({width:"long"});break;case"PPPP":default:h=n.dateTime({width:"full"});break}return h.replace("{{date}}",CE(o,n)).replace("{{time}}",d4(d,n))},tN={p:d4,P:eN};const MT=tN;var iN=["D","DD"],nN=["YY","YYYY"];function u4(e){return iN.indexOf(e)!==-1}function h4(e){return nN.indexOf(e)!==-1}function rb(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var rN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sN=function(t,n,r){var o,d=rN[t];return typeof d=="string"?o=d:n===1?o=d.one:o=d.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const oN=sN;function g3(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var aN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dN={date:g3({formats:aN,defaultWidth:"full"}),time:g3({formats:lN,defaultWidth:"full"}),dateTime:g3({formats:cN,defaultWidth:"full"})};const uN=dN;var hN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pN=function(t,n,r,o){return hN[t]};const fN=pN;function Ey(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var d=e.defaultFormattingWidth||e.defaultWidth,h=n!=null&&n.width?String(n.width):d;o=e.formattingValues[h]||e.formattingValues[d]}else{var s=e.defaultWidth,v=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[v]||e.values[s]}var R=e.argumentCallback?e.argumentCallback(t):t;return o[R]}}var mN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_N={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bN=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wN={ordinalNumber:bN,era:Ey({values:mN,defaultWidth:"wide"}),quarter:Ey({values:gN,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ey({values:yN,defaultWidth:"wide"}),day:Ey({values:_N,defaultWidth:"wide"}),dayPeriod:Ey({values:vN,defaultWidth:"wide",formattingValues:xN,defaultFormattingWidth:"wide"})};const TN=wN;function My(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],d=t.match(o);if(!d)return null;var h=d[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(s)?CN(s,function(k){return k.test(h)}):SN(s,function(k){return k.test(h)}),R;R=e.valueCallback?e.valueCallback(v):v,R=n.valueCallback?n.valueCallback(R):R;var J=t.slice(h.length);return{value:R,rest:J}}}function SN(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function CN(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function EN(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],d=t.match(e.parsePattern);if(!d)return null;var h=e.valueCallback?e.valueCallback(d[0]):d[0];h=n.valueCallback?n.valueCallback(h):h;var s=t.slice(o.length);return{value:h,rest:s}}}var MN=/^(\d+)(th|st|nd|rd)?/i,kN=/\d+/i,AN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PN={any:[/^b/i,/^(a|c)/i]},DN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IN={any:[/1/i,/2/i,/3/i,/4/i]},LN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ON={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FN={ordinalNumber:EN({matchPattern:MN,parsePattern:kN,valueCallback:function(t){return parseInt(t,10)}}),era:My({matchPatterns:AN,defaultMatchWidth:"wide",parsePatterns:PN,defaultParseWidth:"any"}),quarter:My({matchPatterns:DN,defaultMatchWidth:"wide",parsePatterns:IN,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:My({matchPatterns:LN,defaultMatchWidth:"wide",parsePatterns:ON,defaultParseWidth:"any"}),day:My({matchPatterns:RN,defaultMatchWidth:"wide",parsePatterns:BN,defaultParseWidth:"any"}),dayPeriod:My({matchPatterns:zN,defaultMatchWidth:"any",parsePatterns:NN,defaultParseWidth:"any"})};const jN=FN;var UN={code:"en-US",formatDistance:oN,formatLong:uN,formatRelative:fN,localize:TN,match:jN,options:{weekStartsOn:0,firstWeekContainsDate:1}};const p4=UN;var $N=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GN=/^'([^]*?)'?$/,HN=/''/g,WN=/[a-zA-Z]/;function U0(e,t,n){var r,o,d,h,s,v,R,J,k,z,q,L,O,G,M,S,P,H;Wn(2,arguments);var U=String(t),E=mh(),ie=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:E.locale)!==null&&r!==void 0?r:p4,te=dr((d=(h=(s=(v=n==null?void 0:n.firstWeekContainsDate)!==null&&v!==void 0?v:n==null||(R=n.locale)===null||R===void 0||(J=R.options)===null||J===void 0?void 0:J.firstWeekContainsDate)!==null&&s!==void 0?s:E.firstWeekContainsDate)!==null&&h!==void 0?h:(k=E.locale)===null||k===void 0||(z=k.options)===null||z===void 0?void 0:z.firstWeekContainsDate)!==null&&d!==void 0?d:1);if(!(te>=1&&te<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=dr((q=(L=(O=(G=n==null?void 0:n.weekStartsOn)!==null&&G!==void 0?G:n==null||(M=n.locale)===null||M===void 0||(S=M.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&O!==void 0?O:E.weekStartsOn)!==null&&L!==void 0?L:(P=E.locale)===null||P===void 0||(H=P.options)===null||H===void 0?void 0:H.weekStartsOn)!==null&&q!==void 0?q:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ie.localize)throw new RangeError("locale must contain localize property");if(!ie.formatLong)throw new RangeError("locale must contain formatLong property");var V=ur(e);if(!Uy(V))throw new RangeError("Invalid time value");var j=nb(V),w=o4(V,j),I={firstWeekContainsDate:te,weekStartsOn:$,locale:ie,_originalDate:V},m=U.match(VN).map(function(g){var b=g[0];if(b==="p"||b==="P"){var A=MT[b];return A(g,ie.formatLong)}return g}).join("").match($N).map(function(g){if(g==="''")return"'";var b=g[0];if(b==="'")return YN(g);var A=Qz[b];if(A)return!(n!=null&&n.useAdditionalWeekYearTokens)&&h4(g)&&rb(g,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&u4(g)&&rb(g,t,String(e)),A(w,g,ie.localize,I);if(b.match(WN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return g}).join("");return m}function YN(e){var t=e.match(GN);return t?t[1].replace(HN,"'"):e}function qN(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function XN(e){Wn(1,arguments);var t=ur(e),n=t.getDay();return n}function ZN(e){Wn(1,arguments);var t=ur(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function Xh(e){Wn(1,arguments);var t=ur(e),n=t.getHours();return n}var KN=6048e5;function JN(e){Wn(1,arguments);var t=ur(e),n=ib(t).getTime()-jz(t).getTime();return Math.round(n/KN)+1}function Zh(e){Wn(1,arguments);var t=ur(e),n=t.getMinutes();return n}function ho(e){Wn(1,arguments);var t=ur(e),n=t.getMonth();return n}function Bg(e){Wn(1,arguments);var t=ur(e),n=t.getSeconds();return n}function QN(e,t){var n,r,o,d,h,s,v,R;Wn(1,arguments);var J=ur(e),k=J.getFullYear(),z=mh(),q=dr((n=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:z.firstWeekContainsDate)!==null&&r!==void 0?r:(v=z.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=new Date(0);L.setFullYear(k+1,0,q),L.setHours(0,0,0,0);var O=W0(L,t),G=new Date(0);G.setFullYear(k,0,q),G.setHours(0,0,0,0);var M=W0(G,t);return J.getTime()>=O.getTime()?k+1:J.getTime()>=M.getTime()?k:k-1}function eF(e,t){var n,r,o,d,h,s,v,R;Wn(1,arguments);var J=mh(),k=dr((n=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:J.firstWeekContainsDate)!==null&&r!==void 0?r:(v=J.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&n!==void 0?n:1),z=QN(e,t),q=new Date(0);q.setFullYear(z,0,k),q.setHours(0,0,0,0);var L=W0(q,t);return L}var tF=6048e5;function iF(e,t){Wn(1,arguments);var n=ur(e),r=W0(n,t).getTime()-eF(n,t).getTime();return Math.round(r/tF)+1}function Eo(e){return Wn(1,arguments),ur(e).getFullYear()}function r_(e,t){Wn(2,arguments);var n=ur(e),r=ur(t);return n.getTime()>r.getTime()}function s_(e,t){Wn(2,arguments);var n=ur(e),r=ur(t);return n.getTime()<r.getTime()}function D0(e,t){Wn(2,arguments);var n=ur(e),r=ur(t);return n.getTime()===r.getTime()}function EE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nF(e,t){if(e){if(typeof e=="string")return EE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EE(e,t)}}function ME(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=nF(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(R){throw R},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=!0,h=!1,s;return{s:function(){n=n.call(e)},n:function(){var R=n.next();return d=R.done,R},e:function(R){h=!0,s=R},f:function(){try{!d&&n.return!=null&&n.return()}finally{if(h)throw s}}}}function Pn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kT(e,t){return kT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},kT(e,t)}function Ts(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kT(e,t)}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sb(e)}function rF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sF(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pn(e)}function Ss(e){var t=rF();return function(){var r=sb(e),o;if(t){var d=sb(this).constructor;o=Reflect.construct(r,arguments,d)}else o=r.apply(this,arguments);return sF(this,o)}}function os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oF(e,t){if(Qd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f4(e){var t=oF(e,"string");return Qd(t)==="symbol"?t:String(t)}function kE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f4(r.key),r)}}function as(e,t,n){return t&&kE(e.prototype,t),n&&kE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function En(e,t,n){return t=f4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aF=10,m4=function(){function e(){os(this,e),En(this,"priority",void 0),En(this,"subPriority",0)}return as(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),lF=function(e){Ts(n,e);var t=Ss(n);function n(r,o,d,h,s){var v;return os(this,n),v=t.call(this),v.value=r,v.validateValue=o,v.setValue=d,v.priority=h,s&&(v.subPriority=s),v}return as(n,[{key:"validate",value:function(o,d){return this.validateValue(o,this.value,d)}},{key:"set",value:function(o,d,h){return this.setValue(o,d,this.value,h)}}]),n}(m4),cF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",aF),En(Pn(r),"subPriority",-1),r}return as(n,[{key:"set",value:function(o,d){if(d.timestampIsSet)return o;var h=new Date(0);return h.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),h.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),h}}]),n}(m4),Is=function(){function e(){os(this,e),En(this,"incompatibleTokens",void 0),En(this,"priority",void 0),En(this,"subPriority",void 0)}return as(e,[{key:"run",value:function(n,r,o,d){var h=this.parse(n,r,o,d);return h?{setter:new lF(h.value,this.validate,this.set,this.priority,this.subPriority),rest:h.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),dF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",140),En(Pn(r),"incompatibleTokens",["R","u","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"G":case"GG":case"GGG":return h.era(o,{width:"abbreviated"})||h.era(o,{width:"narrow"});case"GGGGG":return h.era(o,{width:"narrow"});case"GGGG":default:return h.era(o,{width:"wide"})||h.era(o,{width:"abbreviated"})||h.era(o,{width:"narrow"})}}},{key:"set",value:function(o,d,h){return d.era=h,o.setUTCFullYear(h,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),da={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},sh={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ua(e,t){return e&&{value:t(e.value),rest:e.rest}}function jo(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function oh(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,d=n[3]?parseInt(n[3],10):0,h=n[5]?parseInt(n[5],10):0;return{value:r*(o*T5+d*w5+h*Vz),rest:t.slice(n[0].length)}}function g4(e){return jo(da.anyDigitsSigned,e)}function Zo(e,t){switch(e){case 1:return jo(da.singleDigit,t);case 2:return jo(da.twoDigits,t);case 3:return jo(da.threeDigits,t);case 4:return jo(da.fourDigits,t);default:return jo(new RegExp("^\\d{1,"+e+"}"),t)}}function ob(e,t){switch(e){case 1:return jo(da.singleDigitSigned,t);case 2:return jo(da.twoDigitsSigned,t);case 3:return jo(da.threeDigitsSigned,t);case 4:return jo(da.fourDigitsSigned,t);default:return jo(new RegExp("^-?\\d{1,"+e+"}"),t)}}function C5(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function y4(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var d=r+50,h=Math.floor(d/100)*100,s=e>=d%100;o=e+h-(s?100:0)}return n?o:1-o}function _4(e){return e%400===0||e%4===0&&e%100!==0}var uF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){var s=function(R){return{year:R,isTwoDigitYear:d==="yy"}};switch(d){case"y":return ua(Zo(4,o),s);case"yo":return ua(h.ordinalNumber(o,{unit:"year"}),s);default:return ua(Zo(d.length,o),s)}}},{key:"validate",value:function(o,d){return d.isTwoDigitYear||d.year>0}},{key:"set",value:function(o,d,h){var s=o.getUTCFullYear();if(h.isTwoDigitYear){var v=y4(h.year,s);return o.setUTCFullYear(v,0,1),o.setUTCHours(0,0,0,0),o}var R=!("era"in d)||d.era===1?h.year:1-h.year;return o.setUTCFullYear(R,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),hF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){var s=function(R){return{year:R,isTwoDigitYear:d==="YY"}};switch(d){case"Y":return ua(Zo(4,o),s);case"Yo":return ua(h.ordinalNumber(o,{unit:"year"}),s);default:return ua(Zo(d.length,o),s)}}},{key:"validate",value:function(o,d){return d.isTwoDigitYear||d.year>0}},{key:"set",value:function(o,d,h,s){var v=S5(o,s);if(h.isTwoDigitYear){var R=y4(h.year,v);return o.setUTCFullYear(R,0,s.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Y0(o,s)}var J=!("era"in d)||d.era===1?h.year:1-h.year;return o.setUTCFullYear(J,0,s.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Y0(o,s)}}]),n}(Is),pF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d){return ob(d==="R"?4:d.length,o)}},{key:"set",value:function(o,d,h){var s=new Date(0);return s.setUTCFullYear(h,0,4),s.setUTCHours(0,0,0,0),Rg(s)}}]),n}(Is),fF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d){return ob(d==="u"?4:d.length,o)}},{key:"set",value:function(o,d,h){return o.setUTCFullYear(h,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),mF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",120),En(Pn(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"Q":case"QQ":return Zo(d.length,o);case"Qo":return h.ordinalNumber(o,{unit:"quarter"});case"QQQ":return h.quarter(o,{width:"abbreviated",context:"formatting"})||h.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return h.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(o,{width:"wide",context:"formatting"})||h.quarter(o,{width:"abbreviated",context:"formatting"})||h.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=1&&d<=4}},{key:"set",value:function(o,d,h){return o.setUTCMonth((h-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),gF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",120),En(Pn(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"q":case"qq":return Zo(d.length,o);case"qo":return h.ordinalNumber(o,{unit:"quarter"});case"qqq":return h.quarter(o,{width:"abbreviated",context:"standalone"})||h.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return h.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(o,{width:"wide",context:"standalone"})||h.quarter(o,{width:"abbreviated",context:"standalone"})||h.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,d){return d>=1&&d<=4}},{key:"set",value:function(o,d,h){return o.setUTCMonth((h-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),yF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),En(Pn(r),"priority",110),r}return as(n,[{key:"parse",value:function(o,d,h){var s=function(R){return R-1};switch(d){case"M":return ua(jo(da.month,o),s);case"MM":return ua(Zo(2,o),s);case"Mo":return ua(h.ordinalNumber(o,{unit:"month"}),s);case"MMM":return h.month(o,{width:"abbreviated",context:"formatting"})||h.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return h.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(o,{width:"wide",context:"formatting"})||h.month(o,{width:"abbreviated",context:"formatting"})||h.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=11}},{key:"set",value:function(o,d,h){return o.setUTCMonth(h,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),_F=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",110),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){var s=function(R){return R-1};switch(d){case"L":return ua(jo(da.month,o),s);case"LL":return ua(Zo(2,o),s);case"Lo":return ua(h.ordinalNumber(o,{unit:"month"}),s);case"LLL":return h.month(o,{width:"abbreviated",context:"standalone"})||h.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return h.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(o,{width:"wide",context:"standalone"})||h.month(o,{width:"abbreviated",context:"standalone"})||h.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=11}},{key:"set",value:function(o,d,h){return o.setUTCMonth(h,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is);function vF(e,t,n){Wn(2,arguments);var r=ur(e),o=dr(t),d=c4(r,n)-o;return r.setUTCDate(r.getUTCDate()-d*7),r}var xF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",100),En(Pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"w":return jo(da.week,o);case"wo":return h.ordinalNumber(o,{unit:"week"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=53}},{key:"set",value:function(o,d,h,s){return Y0(vF(o,h,s),s)}}]),n}(Is);function bF(e,t){Wn(2,arguments);var n=ur(e),r=dr(t),o=l4(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var wF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",100),En(Pn(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"I":return jo(da.week,o);case"Io":return h.ordinalNumber(o,{unit:"week"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=53}},{key:"set",value:function(o,d,h){return Rg(bF(o,h))}}]),n}(Is),TF=[31,28,31,30,31,30,31,31,30,31,30,31],SF=[31,29,31,30,31,30,31,31,30,31,30,31],CF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"subPriority",1),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"d":return jo(da.date,o);case"do":return h.ordinalNumber(o,{unit:"date"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){var h=o.getUTCFullYear(),s=_4(h),v=o.getUTCMonth();return s?d>=1&&d<=SF[v]:d>=1&&d<=TF[v]}},{key:"set",value:function(o,d,h){return o.setUTCDate(h),o.setUTCHours(0,0,0,0),o}}]),n}(Is),EF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"subpriority",1),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"D":case"DD":return jo(da.dayOfYear,o);case"Do":return h.ordinalNumber(o,{unit:"date"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){var h=o.getUTCFullYear(),s=_4(h);return s?d>=1&&d<=366:d>=1&&d<=365}},{key:"set",value:function(o,d,h){return o.setUTCMonth(0,h),o.setUTCHours(0,0,0,0),o}}]),n}(Is);function E5(e,t,n){var r,o,d,h,s,v,R,J;Wn(2,arguments);var k=mh(),z=dr((r=(o=(d=(h=n==null?void 0:n.weekStartsOn)!==null&&h!==void 0?h:n==null||(s=n.locale)===null||s===void 0||(v=s.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&d!==void 0?d:k.weekStartsOn)!==null&&o!==void 0?o:(R=k.locale)===null||R===void 0||(J=R.options)===null||J===void 0?void 0:J.weekStartsOn)!==null&&r!==void 0?r:0);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var q=ur(e),L=dr(t),O=q.getUTCDay(),G=L%7,M=(G+7)%7,S=(M<z?7:0)+L-O;return q.setUTCDate(q.getUTCDate()+S),q}var MF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"E":case"EE":case"EEE":return h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return h.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=6}},{key:"set",value:function(o,d,h,s){return o=E5(o,h,s),o.setUTCHours(0,0,0,0),o}}]),n}(Is),kF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h,s){var v=function(J){var k=Math.floor((J-1)/7)*7;return(J+s.weekStartsOn+6)%7+k};switch(d){case"e":case"ee":return ua(Zo(d.length,o),v);case"eo":return ua(h.ordinalNumber(o,{unit:"day"}),v);case"eee":return h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"eeeee":return h.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=6}},{key:"set",value:function(o,d,h,s){return o=E5(o,h,s),o.setUTCHours(0,0,0,0),o}}]),n}(Is),AF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h,s){var v=function(J){var k=Math.floor((J-1)/7)*7;return(J+s.weekStartsOn+6)%7+k};switch(d){case"c":case"cc":return ua(Zo(d.length,o),v);case"co":return ua(h.ordinalNumber(o,{unit:"day"}),v);case"ccc":return h.day(o,{width:"abbreviated",context:"standalone"})||h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"});case"ccccc":return h.day(o,{width:"narrow",context:"standalone"});case"cccccc":return h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return h.day(o,{width:"wide",context:"standalone"})||h.day(o,{width:"abbreviated",context:"standalone"})||h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=6}},{key:"set",value:function(o,d,h,s){return o=E5(o,h,s),o.setUTCHours(0,0,0,0),o}}]),n}(Is);function PF(e,t){Wn(2,arguments);var n=dr(t);n%7===0&&(n=n-7);var r=1,o=ur(e),d=o.getUTCDay(),h=n%7,s=(h+7)%7,v=(s<r?7:0)+n-d;return o.setUTCDate(o.getUTCDate()+v),o}var DF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){var s=function(R){return R===0?7:R};switch(d){case"i":case"ii":return Zo(d.length,o);case"io":return h.ordinalNumber(o,{unit:"day"});case"iii":return ua(h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s);case"iiiii":return ua(h.day(o,{width:"narrow",context:"formatting"}),s);case"iiiiii":return ua(h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s);case"iiii":default:return ua(h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(o,d){return d>=1&&d<=7}},{key:"set",value:function(o,d,h){return o=PF(o,h),o.setUTCHours(0,0,0,0),o}}]),n}(Is),IF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",80),En(Pn(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"a":case"aa":case"aaa":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,d,h){return o.setUTCHours(C5(h),0,0,0),o}}]),n}(Is),LF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",80),En(Pn(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"b":case"bb":case"bbb":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,d,h){return o.setUTCHours(C5(h),0,0,0),o}}]),n}(Is),OF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",80),En(Pn(r),"incompatibleTokens",["a","b","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"B":case"BB":case"BBB":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,d,h){return o.setUTCHours(C5(h),0,0,0),o}}]),n}(Is),RF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["H","K","k","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"h":return jo(da.hour12h,o);case"ho":return h.ordinalNumber(o,{unit:"hour"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=12}},{key:"set",value:function(o,d,h){var s=o.getUTCHours()>=12;return s&&h<12?o.setUTCHours(h+12,0,0,0):!s&&h===12?o.setUTCHours(0,0,0,0):o.setUTCHours(h,0,0,0),o}}]),n}(Is),BF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"H":return jo(da.hour23h,o);case"Ho":return h.ordinalNumber(o,{unit:"hour"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=23}},{key:"set",value:function(o,d,h){return o.setUTCHours(h,0,0,0),o}}]),n}(Is),zF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["h","H","k","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"K":return jo(da.hour11h,o);case"Ko":return h.ordinalNumber(o,{unit:"hour"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=11}},{key:"set",value:function(o,d,h){var s=o.getUTCHours()>=12;return s&&h<12?o.setUTCHours(h+12,0,0,0):o.setUTCHours(h,0,0,0),o}}]),n}(Is),NF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"k":return jo(da.hour24h,o);case"ko":return h.ordinalNumber(o,{unit:"hour"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=24}},{key:"set",value:function(o,d,h){var s=h<=24?h%24:h;return o.setUTCHours(s,0,0,0),o}}]),n}(Is),FF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",60),En(Pn(r),"incompatibleTokens",["t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"m":return jo(da.minute,o);case"mo":return h.ordinalNumber(o,{unit:"minute"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=59}},{key:"set",value:function(o,d,h){return o.setUTCMinutes(h,0,0),o}}]),n}(Is),jF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",50),En(Pn(r),"incompatibleTokens",["t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"s":return jo(da.second,o);case"so":return h.ordinalNumber(o,{unit:"second"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=59}},{key:"set",value:function(o,d,h){return o.setUTCSeconds(h,0),o}}]),n}(Is),UF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",30),En(Pn(r),"incompatibleTokens",["t","T"]),r}return as(n,[{key:"parse",value:function(o,d){var h=function(v){return Math.floor(v*Math.pow(10,-d.length+3))};return ua(Zo(d.length,o),h)}},{key:"set",value:function(o,d,h){return o.setUTCMilliseconds(h),o}}]),n}(Is),$F=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",10),En(Pn(r),"incompatibleTokens",["t","T","x"]),r}return as(n,[{key:"parse",value:function(o,d){switch(d){case"X":return oh(sh.basicOptionalMinutes,o);case"XX":return oh(sh.basic,o);case"XXXX":return oh(sh.basicOptionalSeconds,o);case"XXXXX":return oh(sh.extendedOptionalSeconds,o);case"XXX":default:return oh(sh.extended,o)}}},{key:"set",value:function(o,d,h){return d.timestampIsSet?o:new Date(o.getTime()-h)}}]),n}(Is),VF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",10),En(Pn(r),"incompatibleTokens",["t","T","X"]),r}return as(n,[{key:"parse",value:function(o,d){switch(d){case"x":return oh(sh.basicOptionalMinutes,o);case"xx":return oh(sh.basic,o);case"xxxx":return oh(sh.basicOptionalSeconds,o);case"xxxxx":return oh(sh.extendedOptionalSeconds,o);case"xxx":default:return oh(sh.extended,o)}}},{key:"set",value:function(o,d,h){return d.timestampIsSet?o:new Date(o.getTime()-h)}}]),n}(Is),GF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",40),En(Pn(r),"incompatibleTokens","*"),r}return as(n,[{key:"parse",value:function(o){return g4(o)}},{key:"set",value:function(o,d,h){return[new Date(h*1e3),{timestampIsSet:!0}]}}]),n}(Is),HF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",20),En(Pn(r),"incompatibleTokens","*"),r}return as(n,[{key:"parse",value:function(o){return g4(o)}},{key:"set",value:function(o,d,h){return[new Date(h),{timestampIsSet:!0}]}}]),n}(Is),WF={G:new dF,y:new uF,Y:new hF,R:new pF,u:new fF,Q:new mF,q:new gF,M:new yF,L:new _F,w:new xF,I:new wF,d:new CF,D:new EF,E:new MF,e:new kF,c:new AF,i:new DF,a:new IF,b:new LF,B:new OF,h:new RF,H:new BF,K:new zF,k:new NF,m:new FF,s:new jF,S:new UF,X:new $F,x:new VF,t:new GF,T:new HF},YF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XF=/^'([^]*?)'?$/,ZF=/''/g,KF=/\S/,JF=/[a-zA-Z]/;function AT(e,t,n,r){var o,d,h,s,v,R,J,k,z,q,L,O,G,M,S,P,H,U;Wn(3,arguments);var E=String(e),ie=String(t),te=mh(),$=(o=(d=r==null?void 0:r.locale)!==null&&d!==void 0?d:te.locale)!==null&&o!==void 0?o:p4;if(!$.match)throw new RangeError("locale must contain match property");var V=dr((h=(s=(v=(R=r==null?void 0:r.firstWeekContainsDate)!==null&&R!==void 0?R:r==null||(J=r.locale)===null||J===void 0||(k=J.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&v!==void 0?v:te.firstWeekContainsDate)!==null&&s!==void 0?s:(z=te.locale)===null||z===void 0||(q=z.options)===null||q===void 0?void 0:q.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=dr((L=(O=(G=(M=r==null?void 0:r.weekStartsOn)!==null&&M!==void 0?M:r==null||(S=r.locale)===null||S===void 0||(P=S.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&G!==void 0?G:te.weekStartsOn)!==null&&O!==void 0?O:(H=te.locale)===null||H===void 0||(U=H.options)===null||U===void 0?void 0:U.weekStartsOn)!==null&&L!==void 0?L:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(ie==="")return E===""?ur(n):new Date(NaN);var w={firstWeekContainsDate:V,weekStartsOn:j,locale:$},I=[new cF],m=ie.match(qF).map(function(ke){var re=ke[0];if(re in MT){var ve=MT[re];return ve(ke,$.formatLong)}return ke}).join("").match(YF),g=[],b=ME(m),A;try{var X=function(){var re=A.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&h4(re)&&rb(re,ie,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&u4(re)&&rb(re,ie,e);var ve=re[0],_e=WF[ve];if(_e){var oe=_e.incompatibleTokens;if(Array.isArray(oe)){var ye=g.find(function(Re){return oe.includes(Re.token)||Re.token===ve});if(ye)throw new RangeError("The format string mustn't contain `".concat(ye.fullToken,"` and `").concat(re,"` at the same time"))}else if(_e.incompatibleTokens==="*"&&g.length>0)throw new RangeError("The format string mustn't contain `".concat(re,"` and any other token at the same time"));g.push({token:ve,fullToken:re});var Se=_e.run(E,re,$.match,w);if(!Se)return{v:new Date(NaN)};I.push(Se.setter),E=Se.rest}else{if(ve.match(JF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ve+"`");if(re==="''"?re="'":ve==="'"&&(re=QF(re)),E.indexOf(re)===0)E=E.slice(re.length);else return{v:new Date(NaN)}}};for(b.s();!(A=b.n()).done;){var Y=X();if(Qd(Y)==="object")return Y.v}}catch(ke){b.e(ke)}finally{b.f()}if(E.length>0&&KF.test(E))return new Date(NaN);var K=I.map(function(ke){return ke.priority}).sort(function(ke,re){return re-ke}).filter(function(ke,re,ve){return ve.indexOf(ke)===re}).map(function(ke){return I.filter(function(re){return re.priority===ke}).sort(function(re,ve){return ve.subPriority-re.subPriority})}).map(function(ke){return ke[0]}),le=ur(n);if(isNaN(le.getTime()))return new Date(NaN);var he=o4(le,nb(le)),pe={},F=ME(K),Q;try{for(F.s();!(Q=F.n()).done;){var ce=Q.value;if(!ce.validate(he,w))return new Date(NaN);var ge=ce.set(he,pe,w);Array.isArray(ge)?(he=ge[0],qN(pe,ge[1])):he=ge}}catch(ke){F.e(ke)}finally{F.f()}return he}function QF(e){return e.match(XF)[1].replace(ZF,"'")}function ej(e,t){Wn(2,arguments);var n=dr(t);return Qh(e,-n)}function tj(e,t){var n;Wn(1,arguments);var r=dr((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=sj(e),d;if(o.date){var h=oj(o.date,r);d=aj(h.restDateString,h.year)}if(!d||isNaN(d.getTime()))return new Date(NaN);var s=d.getTime(),v=0,R;if(o.time&&(v=lj(o.time),isNaN(v)))return new Date(NaN);if(o.timezone){if(R=cj(o.timezone),isNaN(R))return new Date(NaN)}else{var J=new Date(s+v),k=new Date(0);return k.setFullYear(J.getUTCFullYear(),J.getUTCMonth(),J.getUTCDate()),k.setHours(J.getUTCHours(),J.getUTCMinutes(),J.getUTCSeconds(),J.getUTCMilliseconds()),k}return new Date(s+v+R)}var cx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ij=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function sj(e){var t={},n=e.split(cx.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],cx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(cx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=cx.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function oj(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,d=r[2]?parseInt(r[2]):null;return{year:d===null?o:d*100,restDateString:e.slice((r[1]||r[2]).length)}}function aj(e,t){if(t===null)return new Date(NaN);var n=e.match(ij);if(!n)return new Date(NaN);var r=!!n[4],o=ky(n[1]),d=ky(n[2])-1,h=ky(n[3]),s=ky(n[4]),v=ky(n[5])-1;if(r)return fj(t,s,v)?dj(t,s,v):new Date(NaN);var R=new Date(0);return!hj(t,d,h)||!pj(t,o)?new Date(NaN):(R.setUTCFullYear(t,d,Math.max(o,h)),R)}function ky(e){return e?parseInt(e):1}function lj(e){var t=e.match(nj);if(!t)return NaN;var n=y3(t[1]),r=y3(t[2]),o=y3(t[3]);return mj(n,r,o)?n*T5+r*w5+o*1e3:NaN}function y3(e){return e&&parseFloat(e.replace(",","."))||0}function cj(e){if(e==="Z")return 0;var t=e.match(rj);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return gj(r,o)?n*(r*T5+o*w5):NaN}function dj(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,d=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+d),r}var uj=[31,null,31,30,31,30,31,31,30,31,30,31];function v4(e){return e%400===0||e%4===0&&e%100!==0}function hj(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(uj[t]||(v4(e)?29:28))}function pj(e,t){return t>=1&&t<=(v4(e)?366:365)}function fj(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function mj(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function gj(e,t){return t>=0&&t<=59}function fg(e,t){Wn(2,arguments);var n=ur(e),r=dr(t),o=n.getFullYear(),d=n.getDate(),h=new Date(0);h.setFullYear(o,r,15),h.setHours(0,0,0,0);var s=ZN(h);return n.setMonth(r,Math.min(d,s)),n}function Qa(e,t){if(Wn(2,arguments),Qd(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=ur(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=fg(n,t.month)),t.date!=null&&n.setDate(dr(t.date)),t.hours!=null&&n.setHours(dr(t.hours)),t.minutes!=null&&n.setMinutes(dr(t.minutes)),t.seconds!=null&&n.setSeconds(dr(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(dr(t.milliseconds)),n)}function x4(e,t){Wn(2,arguments);var n=ur(e),r=dr(t);return n.setHours(r),n}function M5(e,t){Wn(2,arguments);var n=ur(e),r=dr(t);return n.setMilliseconds(r),n}function b4(e,t){Wn(2,arguments);var n=ur(e),r=dr(t);return n.setMinutes(r),n}function w4(e,t){Wn(2,arguments);var n=ur(e),r=dr(t);return n.setSeconds(r),n}function ep(e,t){Wn(2,arguments);var n=ur(e),r=dr(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Tg(e,t){Wn(2,arguments);var n=dr(t);return lh(e,-n)}function yj(e,t){if(Wn(2,arguments),!t||Qd(t)!=="object")return new Date(NaN);var n=t.years?dr(t.years):0,r=t.months?dr(t.months):0,o=t.weeks?dr(t.weeks):0,d=t.days?dr(t.days):0,h=t.hours?dr(t.hours):0,s=t.minutes?dr(t.minutes):0,v=t.seconds?dr(t.seconds):0,R=Tg(e,r+n*12),J=ej(R,d+o*7),k=s+h*60,z=v+k*60,q=z*1e3,L=new Date(J.getTime()-q);return L}function _j(e,t){Wn(2,arguments);var n=dr(t);return r4(e,-n)}function n2(){return bt(),Bt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ye("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ye("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ye("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function vj(){return bt(),Bt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ye("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function AE(){return bt(),Bt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function PE(){return bt(),Bt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function T4(){return bt(),Bt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ye("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function S4(){return bt(),Bt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function C4(){return bt(),Bt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const DE=(e,t,n,r,o)=>{const d=AT(e,t.slice(0,e.length),new Date);return Uy(d)&&s4(d)?r||o?d:Qa(d,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},xj=(e,t,n,r,o)=>{const d=Array.isArray(n)?n[0]:n;if(typeof t=="string")return DE(e,t,d,r,o);if(Array.isArray(t)){let h=null;for(const s of t)if(h=DE(e,s,d,r,o),h)break;return h}return typeof t=="function"?t(e):null},qi=e=>e?new Date(e):new Date,bj=(e,t,n)=>{if(t){const o=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getDate().toString().padStart(2,"0"),h=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),v=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${o}-${d}T${h}:${s}:${v}.000Z`}const r=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(r).toISOString()},Kd=e=>{let t=qi(JSON.parse(JSON.stringify(e)));return t=x4(t,0),t=b4(t,0),t=w4(t,0),t=M5(t,0),t},Wd=(e,t,n,r)=>{let o=e?qi(e):qi();return(t||t===0)&&(o=x4(o,+t)),(n||n===0)&&(o=b4(o,+n)),(r||r===0)&&(o=w4(o,+r)),M5(o,0)},zl=(e,t)=>!e||!t?!1:s_(Kd(e),Kd(t)),$s=(e,t)=>!e||!t?!1:D0(Kd(e),Kd(t)),gc=(e,t)=>!e||!t?!1:r_(Kd(e),Kd(t)),E4=(e,t,n)=>e&&e[0]&&e[1]?gc(n,e[0])&&zl(n,e[1]):e&&e[0]&&t?gc(n,e[0])&&zl(n,t)||zl(n,e[0])&&gc(n,t):!1,Ay=e=>{const t=Qa(new Date(e),{date:1});return Kd(t)},_3=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===t?[r,n]:[r,isNaN(+e[r])?void 0:+e[r]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},dx=e=>({hours:Xh(e),minutes:Zh(e),seconds:Bg(e)}),Py=ku({menuFocused:!1,shiftKeyInMenu:!1}),M4=()=>{const e=n=>{Py.menuFocused=n},t=n=>{Py.shiftKeyInMenu!==n&&(Py.shiftKeyInMenu=n)};return{control:hn(()=>({shiftKeyInMenu:Py.shiftKeyInMenu,menuFocused:Py.menuFocused})),setMenuFocused:e,setShiftKey:t}};function k5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k4={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(k4);var wj=k4.exports,PT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var o=Number(r);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}e.exports=t.default})(PT,PT.exports);var Tj=PT.exports;const Sj=k5(Tj);var DT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var o=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return o.setUTCFullYear(r.getFullYear()),r.getTime()-o.getTime()}e.exports=t.default})(DT,DT.exports);var Cj=DT.exports;const IE=k5(Cj);function Ej(e,t){var n=Pj(t);return n.formatToParts?kj(n,e):Aj(n,e)}var Mj={year:0,month:1,day:2,hour:3,minute:4,second:5};function kj(e,t){try{for(var n=e.formatToParts(t),r=[],o=0;o<n.length;o++){var d=Mj[n[o].type];d>=0&&(r[d]=parseInt(n[o].value,10))}return r}catch(h){if(h instanceof RangeError)return[NaN];throw h}}function Aj(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var v3={};function Pj(e){if(!v3[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";v3[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return v3[e]}function A5(e,t,n,r,o,d,h){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(r,o,d,h),s}var LE=36e5,Dj=6e4,x3={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function P5(e,t,n){var r,o;if(!e||(r=x3.timezoneZ.exec(e),r))return 0;var d;if(r=x3.timezoneHH.exec(e),r)return d=parseInt(r[1],10),OE(d)?-(d*LE):NaN;if(r=x3.timezoneHHMM.exec(e),r){d=parseInt(r[1],10);var h=parseInt(r[2],10);return OE(d,h)?(o=Math.abs(d)*LE+h*Dj,d>0?-o:o):NaN}if(Oj(e)){t=new Date(t||Date.now());var s=n?t:Ij(t),v=IT(s,e),R=n?v:Lj(t,v,e);return-R}return NaN}function Ij(e){return A5(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function IT(e,t){var n=Ej(e,t),r=A5(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),o=e.getTime(),d=o%1e3;return o-=d>=0?d:1e3+d,r-o}function Lj(e,t,n){var r=e.getTime(),o=r-t,d=IT(new Date(o),n);if(t===d)return t;o-=d-t;var h=IT(new Date(o),n);return d===h?d:Math.max(d,h)}function OE(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var RE={};function Oj(e){if(RE[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),RE[e]=!0,!0}catch{return!1}}var Rj=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const A4=Rj;var b3=36e5,BE=6e4,Bj=2,fc={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:A4};function LT(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},r=n.additionalDigits==null?Bj:Sj(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=zj(e),d=Nj(o.date,r),h=d.year,s=d.restDateString,v=Fj(s,h);if(isNaN(v))return new Date(NaN);if(v){var R=v.getTime(),J=0,k;if(o.time&&(J=jj(o.time),isNaN(J)))return new Date(NaN);if(o.timeZone||n.timeZone){if(k=P5(o.timeZone||n.timeZone,new Date(R+J)),isNaN(k))return new Date(NaN)}else k=IE(new Date(R+J)),k=IE(new Date(R+J+k));return new Date(R+J+k)}else return new Date(NaN)}function zj(e){var t={},n=fc.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=fc.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var o=fc.timeZone.exec(r);o?(t.time=r.replace(o[1],""),t.timeZone=o[1].trim()):t.time=r}return t}function Nj(e,t){var n=fc.YYY[t],r=fc.YYYYY[t],o;if(o=fc.YYYY.exec(e)||r.exec(e),o){var d=o[1];return{year:parseInt(d,10),restDateString:e.slice(d.length)}}if(o=fc.YY.exec(e)||n.exec(e),o){var h=o[1];return{year:parseInt(h,10)*100,restDateString:e.slice(h.length)}}return{year:null}}function Fj(e,t){if(t===null)return null;var n,r,o,d;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=fc.MM.exec(e),n)return r=new Date(0),o=parseInt(n[1],10)-1,NE(t,o)?(r.setUTCFullYear(t,o),r):new Date(NaN);if(n=fc.DDD.exec(e),n){r=new Date(0);var h=parseInt(n[1],10);return Vj(t,h)?(r.setUTCFullYear(t,0,h),r):new Date(NaN)}if(n=fc.MMDD.exec(e),n){r=new Date(0),o=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return NE(t,o,s)?(r.setUTCFullYear(t,o,s),r):new Date(NaN)}if(n=fc.Www.exec(e),n)return d=parseInt(n[1],10)-1,FE(t,d)?zE(t,d):new Date(NaN);if(n=fc.WwwD.exec(e),n){d=parseInt(n[1],10)-1;var v=parseInt(n[2],10)-1;return FE(t,d,v)?zE(t,d,v):new Date(NaN)}return null}function jj(e){var t,n,r;if(t=fc.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),w3(n)?n%24*b3:NaN;if(t=fc.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),w3(n,r)?n%24*b3+r*BE:NaN;if(t=fc.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return w3(n,r,o)?n%24*b3+r*BE+o*1e3:NaN}return null}function zE(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,d=t*7+n+1-o;return r.setUTCDate(r.getUTCDate()+d),r}var Uj=[31,28,31,30,31,30,31,31,30,31,30,31],$j=[31,29,31,30,31,30,31,31,30,31,30,31];function P4(e){return e%400===0||e%4===0&&e%100!==0}function NE(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=P4(e);if(r&&n>$j[t]||!r&&n>Uj[t])return!1}return!0}function Vj(e,t){if(t<1)return!1;var n=P4(e);return!(n&&t>366||!n&&t>365)}function FE(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function w3(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}var OT={exports:{}},RT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,o){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d]);return r}e.exports=t.default})(RT,RT.exports);var Gj=RT.exports;(function(e,t){var n=wj.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(Gj);function o(d){return(0,r.default)({},d)}e.exports=t.default})(OT,OT.exports);var Hj=OT.exports;const Wj=k5(Hj);function Yj(e,t,n){var r=LT(e,n),o=P5(t,r,!0),d=new Date(r.getTime()-o),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}function qj(e,t,n){if(typeof e=="string"&&!e.match(A4)){var r=Wj(n);return r.timeZone=t,LT(e,r)}var o=LT(e,n),d=A5(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()).getTime(),h=P5(t,new Date(d));return new Date(d+h)}const Xj=(e,t=3)=>{const n=[];for(let r=0;r<e.length;r+=t)n.push([e[r],e[r+1],e[r+2]]);return n};function jE(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function Zj(e){return t=>U0(new Date(`2017-01-0${t}T00:00:00+00:00`),"EEEEEE",{locale:e})}const Kj=(e,t,n)=>{const r=[1,2,3,4,5,6,7];let o;if(e!==null)try{o=r.map(Zj(e))}catch{o=r.map(jE(t))}else o=r.map(jE(t));const d=o.slice(0,n),h=o.slice(n+1,o.length);return[o[n]].concat(...h).concat(...d)},Jj=(e,t)=>{const n=[];for(let r=+e[0];r<=+e[1];r++)n.push({value:+r,text:`${r}`});return t?n.reverse():n},Qj=(e,t,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(d=>{const h=d<10?`0${d}`:d;return new Date(`2017-${h}-01T00:00:00+00:00`)});if(e!==null)try{const d=n==="long"?"MMMM":"MMM";return r.map((h,s)=>{const v=U0(h,d,{locale:e});return{text:v.charAt(0).toUpperCase()+v.substring(1),value:s}})}catch{}const o=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return r.map((d,h)=>{const s=o.format(d);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:h}})},eU=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],qo=e=>{const t=Li(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},tU=e=>Object.assign({type:"dot"},e),D4=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,ab={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Ll=e=>e,UE=e=>e===0?e:!e||isNaN(+e)?null:+e,iU=e=>e===0?!0:!!e,$E=e=>e===null,nU=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},VE=e=>Object.assign({menuAppear:"",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},e),rU=e=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},e),sU=e=>e===null?0:typeof e=="boolean"?e?2:0:+e>=2?+e:2,oU=(e,t,n)=>e||(typeof n=="string"?n:t),aU=e=>typeof e=="boolean"?e?VE({}):!1:VE(e),lU=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),cU=e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e),dU=e=>Object.assign({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0},e),bd=e=>{const t=()=>{if(e.partialRange)return null;throw new Error(ab.prop("partial-range"))},n=hn(()=>({ariaLabels:rU(e.ariaLabels),textInputOptions:Object.assign(lU(),e.textInputOptions),multiCalendars:sU(e.multiCalendars),previewFormat:oU(e.previewFormat,e.format,d()),filters:cU(e.filters),transitions:aU(e.transitions),startTime:q(),actionRow:dU(e.actionRow)})),r=pe=>{if(e.range)return pe();throw new Error(ab.prop("range"))},o=()=>{const pe=e.enableSeconds?":ss":"";return e.is24?`HH:mm${pe}`:`hh:mm${pe} aa`},d=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?o():e.weekPicker?"MM/dd/yyyy":e.yearPicker?"yyyy":e.enableTimePicker?`MM/dd/yyyy, ${o()}`:"MM/dd/yyyy",h=(pe,F)=>{if(typeof e.format=="function")return e.format(pe);const Q=F||d(),ce=e.formatLocale?{locale:e.formatLocale}:void 0;return Array.isArray(pe)?`${U0(pe[0],Q,ce)}${e.modelAuto&&!pe[1]?"":n.value.textInputOptions.rangeSeparator||"-"}${pe[1]?U0(pe[1],Q,ce):""}`:U0(pe,Q,ce)},s=pe=>e.timezone?Yj(pe,e.timezone):pe,v=pe=>e.timezone?qj(pe,e.timezone):pe,R=hn(()=>pe=>{var F;return(F=e.hideNavigation)==null?void 0:F.includes(pe)}),J=pe=>{var F,Q,ce,ge;return Array.isArray(e.allowedDates)&&!((F=e.allowedDates)!=null&&F.length)?!0:(Q=e.arrMapValues)!=null&&Q.allowedDates?!S(pe,e.arrMapValues.allowedDates):(ce=e.allowedDates)!=null&&ce.length?!((ge=e.allowedDates)!=null&&ge.some(ke=>$s(s(qi(ke)),s(pe)))):!1},k=pe=>{var F;const Q=e.maxDate?gc(s(pe),s(qi(e.maxDate))):!1,ce=e.minDate?zl(s(pe),s(qi(e.minDate))):!1,ge=S(pe,(F=e.arrMapValues)!=null&&F.disabledDates?e.arrMapValues.disabledDates:e.disabledDates),ke=n.value.filters.months.map(ye=>+ye).includes(ho(pe)),re=e.disabledWeekDays.length?e.disabledWeekDays.some(ye=>+ye===XN(pe)):!1,ve=J(pe),_e=Eo(pe),oe=_e<+e.yearRange[0]||_e>+e.yearRange[1];return!(Q||ce||ge||ke||oe||re||ve)},z=pe=>{const F={hours:Xh(qi()),minutes:Zh(qi()),seconds:e.enableSeconds?Bg(qi()):0};return Object.assign(F,pe)},q=()=>e.range?e.startTime&&Array.isArray(e.startTime)?[z(e.startTime[0]),z(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?z(e.startTime):null,L=pe=>!k(pe),O=pe=>Array.isArray(pe)?Uy(pe[0])&&(pe[1]?Uy(pe[1]):!0):pe?Uy(pe):!1,G=pe=>pe instanceof Date?pe:tj(pe),M=pe=>{const F=W0(s(pe),{weekStartsOn:+e.weekStart}),Q=Gz(s(pe),{weekStartsOn:+e.weekStart});return[F,Q]},S=(pe,F)=>pe?F instanceof Map?!!F.get(K(pe)):Array.isArray(F)?F.some(Q=>$s(s(qi(Q)),s(pe))):F(qi(JSON.parse(JSON.stringify(pe)))):!0,P=(pe,F,Q)=>{let ce=pe?qi(pe):qi();return(F||F===0)&&(ce=fg(ce,F)),Q&&(ce=ep(ce,Q)),ce},H=pe=>Qa(qi(),dx(pe)),U=pe=>Qa(qi(),{hours:+pe.hours||0,minutes:+pe.minutes||0,seconds:+pe.seconds||0}),E=(pe,F,Q,ce)=>{if(!pe)return!0;if(ce){const ge=Q==="max"?s_(pe,F):r_(pe,F),ke={seconds:0,milliseconds:0};return ge||D0(Qa(pe,ke),Qa(F,ke))}return Q==="max"?pe.getTime()<=F.getTime():pe.getTime()>=F.getTime()},ie=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,te=pe=>Array.isArray(pe)?[pe[0]?H(pe[0]):null,pe[1]?H(pe[1]):null]:H(pe),$=pe=>{const F=e.maxTime?U(e.maxTime):qi(e.maxDate);return Array.isArray(pe)?E(pe[0],F,"max",!!e.maxDate)&&E(pe[1],F,"max",!!e.maxDate):E(pe,F,"max",!!e.maxDate)},V=(pe,F)=>{const Q=e.minTime?U(e.minTime):qi(e.minDate);return Array.isArray(pe)?E(pe[0],Q,"min",!!e.minDate)&&E(pe[1],Q,"min",!!e.minDate)&&F:E(pe,Q,"min",!!e.minDate)&&F},j=pe=>{let F=!0;if(!pe||ie())return!0;const Q=!e.minDate&&!e.maxDate?te(pe):pe;if((e.maxTime||e.maxDate)&&(F=$(Ll(Q))),(e.minTime||e.minDate)&&(F=V(Ll(Q),F)),e.disabledTimes){const ce=Array.isArray(pe)?[dx(pe[0]),pe[1]?dx(pe[1]):void 0]:dx(pe);F=!e.disabledTimes(ce)}return F},w=(pe,F)=>{const Q=qi(JSON.parse(JSON.stringify(pe))),ce=[];for(let ge=0;ge<7;ge++){const ke=Qh(Q,ge),re=ho(ke)!==F;ce.push({text:e.hideOffsetDates&&re?"":ke.getDate(),value:ke,current:!re,classData:{}})}return ce},I=(pe,F)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[pe==0,!0];case"fair":return[pe==0||F>pe,!0];case"append":return[!1,!1];default:return[!1,!1]}},m=(pe,F)=>{const Q=[],ce=qi(s(new Date(F,pe))),ge=qi(s(new Date(F,pe+1,0))),ke=e.weekStart,re=W0(ce,{weekStartsOn:ke}),ve=_e=>{const oe=w(_e,pe);if(Q.push({days:oe}),!Q[Q.length-1].days.some(ye=>$s(Kd(ye.value),Kd(ge)))){const ye=Qh(_e,7);ve(ye)}};if(ve(re),e.sixWeeks&&Q.length<6){const _e=6-Q.length,oe=(ce.getDay()+7-ke)%7,ye=6-(ge.getDay()+7-ke)%7,[Se,Re]=I(oe,ye);for(let Oe=1;Oe<=_e;Oe++)if(Re?!!(Oe%2)==Se:Se){const Ue=Q[0].days[0],st=w(Qh(Ue.value,-7),ho(ce));Q.unshift({days:st})}else{const Ue=Q[Q.length-1],st=Ue.days[Ue.days.length-1],Qe=w(Qh(st.value,1),ho(ce));Q.push({days:Qe})}}return Q},g=(pe,F,Q)=>[Qa(qi(pe),{date:1}),Qa(qi(),{month:F,year:Q,date:1})],b=(pe,F)=>zl(...g(e.minDate,pe,F))||$s(...g(e.minDate,pe,F)),A=(pe,F)=>gc(...g(e.maxDate,pe,F))||$s(...g(e.maxDate,pe,F)),X=(pe,F,Q)=>{let ce=!1;return e.maxDate&&Q&&A(pe,F)&&(ce=!0),e.minDate&&!Q&&b(pe,F)&&(ce=!0),ce},Y=(pe,F,Q,ce)=>{let ge=!1;return ce?e.minDate&&e.maxDate?ge=X(pe,F,Q):(e.minDate&&b(pe,F)||e.maxDate&&A(pe,F))&&(ge=!0):ge=!0,ge},K=pe=>{const F=Kd(s(qi(pe))).toISOString(),[Q]=F.split("T");return Q},le=pe=>new Map(pe.map(F=>[K(F),!0])),he=pe=>Array.isArray(pe)&&pe.length>0;return{checkPartialRangeValue:t,checkRangeEnabled:r,getZonedDate:s,getZonedToUtc:v,formatDate:h,getDefaultPattern:d,validateDate:k,getDefaultStartTime:q,isDisabled:L,isValidDate:O,sanitizeDate:G,getWeekFromDate:M,matchDate:S,setDateMonthOrYear:P,isValidTime:j,getCalendarDays:m,validateMonthYearInRange:Y,validateMaxDate:A,validateMinDate:b,assignDefaultTime:z,mapDatesArrToMap:pe=>{he(e.allowedDates)&&(pe.allowedDates=le(e.allowedDates)),he(e.highlight)&&(pe.highlightedDates=le(e.highlight)),he(e.disabledDates)&&(pe.disabledDates=le(e.disabledDates))},defaults:n,hideNavigationButtons:R}},Co=ku({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),T3=on(null),ux=on(!1),S3=on(!1),C3=on(!1),E3=on(!1),uc=on(0),pl=on(0),Tf=()=>{const e=hn(()=>ux.value?[...Co.selectionGrid,Co.actionRow].filter(k=>k.length):S3.value?[...Co.timePicker[0],...Co.timePicker[1],E3.value?[]:[T3.value],Co.actionRow].filter(k=>k.length):C3.value?[...Co.monthPicker,Co.actionRow]:[Co.monthYear,...Co.calendar,Co.time,Co.actionRow].filter(k=>k.length)),t=k=>{uc.value=k?uc.value+1:uc.value-1;let z=null;e.value[pl.value]&&(z=e.value[pl.value][uc.value]),z||(uc.value=k?uc.value-1:uc.value+1)},n=k=>{pl.value===0&&!k||pl.value===e.value.length&&k||(pl.value=k?pl.value+1:pl.value-1,e.value[pl.value]?e.value[pl.value]&&!e.value[pl.value][uc.value]&&uc.value!==0&&(uc.value=e.value[pl.value].length-1):pl.value=k?pl.value-1:pl.value+1)},r=k=>{let z=null;e.value[pl.value]&&(z=e.value[pl.value][uc.value]),z?z.focus({preventScroll:!ux.value}):uc.value=k?uc.value-1:uc.value+1},o=()=>{t(!0),r(!0)},d=()=>{t(!1),r(!1)},h=()=>{n(!1),r(!0)},s=()=>{n(!0),r(!0)},v=(k,z)=>{Co[z]=k},R=(k,z)=>{Co[z]=k},J=()=>{uc.value=0,pl.value=0};return{buildMatrix:v,buildMultiLevelMatrix:R,setTimePickerBackRef:k=>{T3.value=k},setSelectionGrid:k=>{ux.value=k,J(),k||(Co.selectionGrid=[])},setTimePicker:(k,z=!1)=>{S3.value=k,E3.value=z,J(),k||(Co.timePicker[0]=[],Co.timePicker[1]=[])},setTimePickerElements:(k,z=0)=>{Co.timePicker[z]=k},arrowRight:o,arrowLeft:d,arrowUp:h,arrowDown:s,clearArrowNav:()=>{Co.monthYear=[],Co.calendar=[],Co.time=[],Co.actionRow=[],Co.selectionGrid=[],Co.timePicker[0]=[],Co.timePicker[1]=[],ux.value=!1,S3.value=!1,E3.value=!1,C3.value=!1,J(),T3.value=null},setMonthPicker:k=>{C3.value=k,J()},refSets:Co}},GE=e=>Array.isArray(e),x0=e=>Array.isArray(e),HE=e=>Array.isArray(e)&&e.length===2,uU=(e,t,n,r,o)=>{const{getDefaultStartTime:d,isDisabled:h,sanitizeDate:s,getWeekFromDate:v,setDateMonthOrYear:R,validateMonthYearInRange:J,defaults:k}=bd(e),z=hn({get:()=>e.internalModelValue,set:ht=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",ht)}}),q=on([]);ha(z,(ht,It)=>{e.range?ie():D0(ht,It)||ie()});const L=ff(e,"multiCalendars");ha(L,()=>{xe(0)});const O=on([{month:ho(qi()),year:Eo(qi())}]);ha(O,()=>{O.value.forEach((ht,It)=>{t("update-month-year",{instance:It,month:ht.month,year:ht.year})})},{deep:!0});const G=ku({hours:e.range?[Xh(qi()),Xh(qi())]:Xh(qi()),minutes:e.range?[Zh(qi()),Zh(qi())]:Zh(qi()),seconds:e.range?[0,0]:0}),M=hn(()=>ht=>O.value[ht]?O.value[ht].month:0),S=hn(()=>ht=>O.value[ht]?O.value[ht].year:0),P=hn(()=>{var ht;return(ht=e.flow)!=null&&ht.length&&!e.partialFlow?o.value===e.flow.length:!0}),H=(ht,It,ei)=>{var Pi,an;O.value[ht]||(O.value[ht]={month:0,year:0}),O.value[ht].month=$E(It)?(Pi=O.value[ht])==null?void 0:Pi.month:It,O.value[ht].year=$E(ei)?(an=O.value[ht])==null?void 0:an.year:ei},U=(ht,It)=>{G[ht]=It},E=()=>{e.startDate&&(H(0,ho(qi(e.startDate)),Eo(qi(e.startDate))),k.value.multiCalendars&&xe(0))};Ko(()=>{z.value||(E(),k.value.startTime&&A()),ie(!0),e.focusStartDate&&e.startDate&&E()});const ie=(ht=!1)=>{if(z.value)return Array.isArray(z.value)?(q.value=z.value,w(ht)):$(z.value,ht);if(e.timePicker)return I();if(e.monthPicker&&!e.range)return m();if(e.yearPicker&&!e.range)return g();if(k.value.multiCalendars&&ht&&!e.startDate)return te(qi(),ht)},te=(ht,It=!1)=>{if((!k.value.multiCalendars||!e.multiStatic||It)&&H(0,ho(ht),Eo(ht)),k.value.multiCalendars)for(let ei=1;ei<k.value.multiCalendars;ei++){const Pi=Qa(qi(),{month:M.value(ei-1),year:S.value(ei-1)}),an=n4(Pi,{months:1});O.value[ei]={month:ho(an),year:Eo(an)}}},$=(ht,It)=>{te(ht),U("hours",Xh(ht)),U("minutes",Zh(ht)),U("seconds",Bg(ht)),k.value.multiCalendars&&It&&Y()},V=(ht,It)=>{ht[1]&&e.showLastInRange?te(ht[1],It):te(ht[0],It);const ei=(Pi,an)=>[Pi(ht[0]),ht[1]?Pi(ht[1]):G[an][1]];U("hours",ei(Xh,"hours")),U("minutes",ei(Zh,"minutes")),U("seconds",ei(Bg,"seconds"))},j=(ht,It)=>{if((e.range||e.weekPicker)&&!e.multiDates)return V(ht,It);if(e.multiDates){const ei=ht[ht.length-1];return $(ei,It)}},w=ht=>{const It=z.value;j(It,ht),k.value.multiCalendars&&e.multiCalendarsSolo&&Y()},I=()=>{if(A(),!e.range)z.value=Wd(qi(),G.hours,G.minutes,b());else{const ht=G.hours,It=G.minutes;z.value=[Wd(qi(),ht[0],It[0],b()),Wd(qi(),ht[1],It[1],b(!1))]}},m=()=>{e.multiDates?z.value=[R(qi(),M.value(0),S.value(0))]:z.value=R(qi(),M.value(0),S.value(0))},g=()=>{z.value=qi()},b=(ht=!0)=>e.enableSeconds?Array.isArray(G.seconds)?ht?G.seconds[0]:G.seconds[1]:G.seconds:0,A=()=>{const ht=d();if(ht){const It=Array.isArray(ht),ei=It?[+ht[0].hours,+ht[1].hours]:+ht.hours,Pi=It?[+ht[0].minutes,+ht[1].minutes]:+ht.minutes,an=It?[+ht[0].seconds,+ht[1].seconds]:+ht.seconds;U("hours",ei),U("minutes",Pi),e.enableSeconds&&U("seconds",an)}},X=()=>Array.isArray(z.value)&&z.value.length?z.value[z.value.length-1]:null,Y=()=>{if(Array.isArray(z.value)&&z.value.length===2){const ht=qi(qi(z.value[1]?z.value[1]:lh(z.value[0],1))),[It,ei]=[ho(z.value[0]),Eo(z.value[0])],[Pi,an]=[ho(z.value[1]),Eo(z.value[1])];(It!==Pi||It===Pi&&ei!==an)&&e.multiCalendarsSolo&&H(1,ho(ht),Eo(ht))}else z.value&&!Array.isArray(z.value)&&H(0,ho(z.value),Eo(z.value))},K=ht=>{const It=lh(ht,1);return{month:ho(It),year:Eo(It)}},le=ht=>{const It=ho(qi(ht)),ei=Eo(qi(ht));if(H(0,It,ei),k.value.multiCalendars>0)for(let Pi=1;Pi<k.value.multiCalendars;Pi++){const an=K(Qa(qi(ht),{year:M.value(Pi-1),month:S.value(Pi-1)}));H(Pi,an.month,an.year)}},he=ht=>{if(z.value&&Array.isArray(z.value))if(z.value.some(It=>$s(ht,It))){const It=z.value.filter(ei=>!$s(ei,ht));z.value=It.length?It:null}else(e.multiDatesLimit&&+e.multiDatesLimit>z.value.length||!e.multiDatesLimit)&&z.value.push(ht);else z.value=[ht]},pe=(ht,It)=>{const ei=gc(ht,It)?It:ht,Pi=gc(It,ht)?It:ht;return wE({start:ei,end:Pi})},F=(ht,It=0)=>{if(Array.isArray(z.value)&&z.value[It]){const ei=$z(ht,z.value[It]),Pi=pe(z.value[It],ht),an=Pi.length===1?0:Pi.filter(Kr=>h(Kr)).length,Gn=Math.abs(ei)-an;if(e.minRange&&e.maxRange)return Gn>=+e.minRange&&Gn<=+e.maxRange;if(e.minRange)return Gn>=+e.minRange;if(e.maxRange)return Gn<=+e.maxRange}return!0},Q=ht=>Array.isArray(z.value)&&z.value.length===2?e.fixedStart&&(gc(ht,z.value[0])||$s(ht,z.value[0]))?[z.value[0],ht]:e.fixedEnd&&(zl(ht,z.value[1])||$s(ht,z.value[1]))?[ht,z.value[1]]:(t("invalid-fixed-range",ht),z.value):[],ce=()=>{e.autoApply&&P.value&&t("auto-apply",e.partialFlow)},ge=()=>{e.autoApply&&t("select-date")},ke=ht=>!wE({start:ht[0],end:ht[1]}).some(It=>h(It)),re=ht=>(z.value=v(qi(ht.value)),ce()),ve=ht=>{const It=Wd(qi(ht.value),G.hours,G.minutes,b());e.multiDates?he(It):z.value=It,n(),ce()},_e=()=>{q.value=z.value?z.value.slice():[],q.value.length===2&&!(e.fixedStart||e.fixedEnd)&&(q.value=[])},oe=(ht,It)=>{const ei=[qi(ht.value),Qh(qi(ht.value),+e.autoRange)];ke(ei)&&(It&&le(ht.value),q.value=ei)},ye=ht=>{Se(ht.value)||!F(ht.value,e.fixedStart?0:1)||(q.value=Q(qi(ht.value)))},Se=ht=>e.noDisabledRange?pe(q.value[0],ht).some(It=>h(It)):!1,Re=(ht,It)=>{if(_e(),e.autoRange)return oe(ht,It);if(e.fixedStart||e.fixedEnd)return ye(ht);q.value[0]?F(qi(ht.value))&&!Se(ht.value)&&(zl(qi(ht.value),qi(q.value[0]))?(q.value.unshift(qi(ht.value)),t("range-end",q.value[0])):(q.value[1]=qi(ht.value),t("range-end",q.value[1]))):(q.value[0]=qi(ht.value),t("range-start",q.value[0]))},Oe=ht=>{q.value[ht]=Wd(q.value[ht],G.hours[ht],G.minutes[ht],b(ht!==1))},Ue=()=>{var ht,It;q.value[0]&&q.value[1]&&+((ht=q.value)==null?void 0:ht[0])>+((It=q.value)==null?void 0:It[1])&&(q.value.reverse(),t("range-start",q.value[0]),t("range-end",q.value[1]))},st=()=>{q.value.length&&(q.value[0]&&!q.value[1]?Oe(0):(Oe(0),Oe(1),n()),Ue(),z.value=q.value.slice(),q.value[0]&&q.value[1]&&e.autoApply&&t("auto-apply"),q.value[0]&&!q.value[1]&&e.modelAuto&&e.autoApply&&t("auto-apply"))},Qe=(ht,It=!1)=>{if(!(h(ht.value)||!ht.current&&e.hideOffsetDates)){if(e.weekPicker)return re(ht);if(!e.range)return ve(ht);x0(G.hours)&&x0(G.minutes)&&!e.multiDates&&(Re(ht,It),st())}},qe=ht=>{const It=ht[0];return e.weekNumbers==="local"?iF(It.value,{weekStartsOn:+e.weekStart}):e.weekNumbers==="iso"?JN(It.value):typeof e.weekNumbers=="function"?e.weekNumbers(It.value):""},xe=ht=>{for(let It=ht-1;It>=0;It--){const ei=Tg(Qa(qi(),{month:M.value(It+1),year:S.value(It+1)}),1);H(It,ho(ei),Eo(ei))}for(let It=ht+1;It<=k.value.multiCalendars-1;It++){const ei=lh(Qa(qi(),{month:M.value(It-1),year:S.value(It-1)}),1);H(It,ho(ei),Eo(ei))}},Ie=ht=>R(qi(),M.value(ht),S.value(ht)),Be=ht=>Wd(ht,G.hours,G.minutes,b()),Xe=ht=>{he(Ie(ht))},Ke=(ht,It)=>{const ei=e.monthPicker?M.value(ht)!==It.month||!It.fromNav:S.value(ht)!==It.year||!It.fromNav;if(H(ht,It.month,It.year),k.value.multiCalendars&&!e.multiCalendarsSolo&&xe(ht),e.monthPicker||e.yearPicker)if(e.multiDates)ei&&Xe(ht);else if(e.range){if(ei&&F(Ie(ht))){let Pi=z.value?z.value.slice():[];Pi.length===2&&Pi[1]!==null&&(Pi=[]),Pi.length?zl(Ie(ht),Pi[0])?Pi.unshift(Ie(ht)):Pi[1]=Ie(ht):Pi=[Ie(ht)],z.value=Pi}}else(e.autoApplyMonth||ei)&&(z.value=Ie(ht));r(e.multiCalendarsSolo?ht:void 0)},pt=async(ht=!1)=>{if(e.autoApply&&(e.monthPicker||e.yearPicker)){await _c();const It=e.monthPicker?ht:!1;e.range?t("auto-apply",It||!z.value||z.value.length===1):t("auto-apply",It)}n()},Tt=(ht,It)=>{const ei=Qa(qi(),{month:M.value(It),year:S.value(It)}),Pi=ht<0?lh(ei,1):Tg(ei,1);J(ho(Pi),Eo(Pi),ht<0,e.preventMinMaxNavigation)&&(H(It,ho(Pi),Eo(Pi)),k.value.multiCalendars&&!e.multiCalendarsSolo&&xe(It),r())},Lt=ht=>{GE(ht)&&GE(z.value)&&x0(G.hours)&&x0(G.minutes)?(ht[0]&&z.value[0]&&(z.value[0]=Wd(ht[0],G.hours[0],G.minutes[0],b())),ht[1]&&z.value[1]&&(z.value[1]=Wd(ht[1],G.hours[1],G.minutes[1],b(!1)))):e.multiDates&&Array.isArray(z.value)?z.value[z.value.length-1]=Be(ht):!e.range&&!HE(ht)&&(z.value=Be(ht)),t("time-update")},gi=(ht,It=!0,ei=!1)=>{const Pi=It?ht:G.hours,an=!It&&!ei?ht:G.minutes,Gn=ei?ht:G.seconds;if(e.range&&HE(z.value)&&x0(Pi)&&x0(an)&&x0(Gn)&&!e.disableTimeRangeValidation){const Kr=$i=>Wd(z.value[$i],Pi[$i],an[$i],Gn[$i]),di=$i=>M5(z.value[$i],0);if($s(z.value[0],z.value[1])&&(r_(Kr(0),di(1))||s_(Kr(1),di(0))))return}if(U("hours",Pi),U("minutes",an),U("seconds",Gn),z.value)if(e.multiDates){const Kr=X();Kr&&Lt(Kr)}else Lt(z.value);else e.timePicker&&Lt(e.range?[qi(),qi()]:qi());n()},Wt=(ht,It)=>{e.monthChangeOnScroll&&Tt(e.monthChangeOnScroll!=="inverse"?-ht.deltaY:ht.deltaY,It)},pi=(ht,It,ei=!1)=>{e.monthChangeOnArrows&&e.vertical===ei&&Gi(ht,It)},Gi=(ht,It)=>{Tt(ht==="right"?-1:1,It)};return{time:G,month:M,year:S,modelValue:z,calendars:O,monthYearSelect:pt,isDisabled:h,updateTime:gi,getWeekNum:qe,selectDate:Qe,updateMonthYear:Ke,handleScroll:Wt,getMarker:ht=>e.markers.find(It=>$s(s(ht.value),s(It.date))),handleArrow:pi,handleSwipe:Gi,selectCurrentDate:()=>{e.range?z.value&&Array.isArray(z.value)&&z.value[0]?z.value=zl(qi(),z.value[0])?[qi(),z.value[0]]:[z.value[0],qi()]:z.value=[qi()]:z.value=qi(),ge()},presetDateRange:(ht,It)=>{It||ht.length&&ht.length<=2&&e.range&&(z.value=ht.map(ei=>qi(ei)),ge(),e.multiCalendars&&_c().then(()=>ie(!0)))}}},hU=(e,t,n)=>{const r=on(),{getZonedToUtc:o,getZonedDate:d,formatDate:h,getDefaultPattern:s,checkRangeEnabled:v,checkPartialRangeValue:R,isValidDate:J,setDateMonthOrYear:k,defaults:z}=bd(t),q=on(""),L=ff(t,"format");ha(r,()=>{e("internal-model-change",r.value)}),ha(L,()=>{X()});const O=F=>{const Q=F||qi();return t.modelType?K(Q):{hours:Xh(Q),minutes:Zh(Q),seconds:t.enableSeconds?Bg(Q):0}},G=F=>t.modelType?K(F):{month:ho(F),year:Eo(F)},M=F=>Array.isArray(F)?v(()=>[ep(qi(),F[0]),F[1]?ep(qi(),F[1]):R()]):ep(qi(),+F),S=(F,Q)=>(typeof F=="string"||typeof F=="number")&&t.modelType?Y(F):Q,P=F=>Array.isArray(F)?[S(F[0],Wd(null,+F[0].hours,+F[0].minutes,F[0].seconds)),S(F[1],Wd(null,+F[1].hours,+F[1].minutes,F[1].seconds))]:S(F,Wd(null,F.hours,F.minutes,F.seconds)),H=F=>Array.isArray(F)?t.multiDates?F.map(Q=>S(Q,k(null,+Q.month,+Q.year))):v(()=>[S(F[0],k(null,+F[0].month,+F[0].year)),S(F[1],F[1]?k(null,+F[1].month,+F[1].year):R())]):S(F,k(null,+F.month,+F.year)),U=F=>{if(Array.isArray(F))return F.map(Q=>Y(Q));throw new Error(ab.dateArr("multi-dates"))},E=F=>{if(Array.isArray(F))return[qi(F[0]),qi(F[1])];throw new Error(ab.dateArr("week-picker"))},ie=F=>t.modelAuto?Array.isArray(F)?[Y(F[0]),Y(F[1])]:t.autoApply?[Y(F)]:[Y(F),null]:Array.isArray(F)?v(()=>[Y(F[0]),F[1]?Y(F[1]):R()]):Y(F),te=()=>{Array.isArray(r.value)&&t.range&&r.value.length===1&&r.value.push(R())},$=()=>{const F=r.value;return[K(F[0]),F[1]?K(F[1]):R()]},V=()=>r.value[1]?$():K(Ll(r.value[0])),j=()=>(r.value||[]).map(F=>K(F)),w=()=>(te(),t.modelAuto?V():t.multiDates?j():Array.isArray(r.value)?v(()=>$()):K(Ll(r.value))),I=F=>F?t.timePicker?P(Ll(F)):t.monthPicker?H(Ll(F)):t.yearPicker?M(Ll(F)):t.multiDates?U(Ll(F)):t.weekPicker?E(Ll(F)):ie(Ll(F)):null,m=F=>{const Q=I(F);J(Ll(Q))?(r.value=Ll(Q),X()):(r.value=null,q.value="")},g=()=>{var F;const Q=ce=>{var ge;return U0(ce,(ge=z.value.textInputOptions)==null?void 0:ge.format)};return`${Q(r.value[0])} ${(F=z.value.textInputOptions)==null?void 0:F.rangeSeparator} ${r.value[1]?Q(r.value[1]):""}`},b=()=>{var F;return n.value&&r.value?Array.isArray(r.value)?g():U0(r.value,(F=z.value.textInputOptions)==null?void 0:F.format):h(r.value)},A=()=>{var F;return r.value?t.multiDates?r.value.map(Q=>h(Q)).join("; "):t.textInput&&typeof((F=z.value.textInputOptions)==null?void 0:F.format)=="string"?b():h(r.value):""},X=()=>{!t.format||typeof t.format=="string"||t.textInput&&typeof t.textInputOptions.format=="string"?q.value=A():q.value=t.format(r.value)},Y=F=>{if(t.utc){const Q=new Date(F);return t.utc==="preserve"?new Date(Q.getTime()+Q.getTimezoneOffset()*6e4):Q}return t.modelType?t.modelType==="date"||t.modelType==="timestamp"?d(new Date(F)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?AT(F,s(),new Date):d(AT(F,t.modelType,new Date)):d(new Date(F))},K=F=>F?t.utc?bj(F,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+o(F):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?h(o(F)):h(o(F),t.modelType):o(F):"",le=F=>{e("update:model-value",F)},he=F=>Array.isArray(r.value)?t.multiDates?r.value.map(Q=>F(Q)):[F(r.value[0]),r.value[1]?F(r.value[1]):R()]:F(Ll(r.value)),pe=F=>le(Ll(he(F)));return{inputValue:q,internalModelValue:r,checkBeforeEmit:()=>r.value?t.range?t.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:m,formatInputValue:X,emitModelValue:()=>(X(),t.monthPicker?pe(G):t.timePicker?pe(O):t.yearPicker?pe(Eo):t.weekPicker?le(r.value):le(w()))}},pU=(e,t)=>{const{validateMonthYearInRange:n,validateMaxDate:r,validateMinDate:o,defaults:d}=bd(e),h=(k,z)=>{let q=k;return d.value.filters.months.includes(ho(q))?(q=z?lh(k,1):Tg(k,1),h(q,z)):q},s=(k,z)=>{let q=k;return d.value.filters.years.includes(Eo(q))?(q=z?r4(k,1):_j(k,1),s(q,z)):q},v=k=>{const z=Qa(new Date,{month:e.month,year:e.year});let q=k?lh(z,1):Tg(z,1);e.disableYearSelect&&(q=ep(q,e.year));let L=ho(q),O=Eo(q);d.value.filters.months.includes(L)&&(q=h(q,k),L=ho(q),O=Eo(q)),d.value.filters.years.includes(O)&&(q=s(q,k),O=Eo(q)),n(L,O,k,e.preventMinMaxNavigation)&&R(L,O)},R=(k,z)=>{t("update-month-year",{month:k,year:z})},J=hn(()=>k=>{if(!e.preventMinMaxNavigation||k&&!e.maxDate||!k&&!e.minDate)return!1;const z=Qa(new Date,{month:e.month,year:e.year}),q=k?lh(z,1):Tg(z,1),L=[ho(q),Eo(q)];return k?!r(...L):!o(...L)});return{handleMonthYearChange:v,isDisabled:J,updateMonthYear:R}};var Mx=(e=>(e.center="center",e.left="left",e.right="right",e))(Mx||{});const fU=(e,t,n,r)=>{const o=on({top:"0",left:"0",transform:"none",opacity:"0"}),d=on(!1),h=ff(r,"teleportCenter"),s=hn(()=>d.value?"-100%":"0"),v=()=>{R(),o.value.opacity="0"};ha(h,()=>{S()}),Ko(()=>{R()});const R=()=>{const w=qo(t);if(w){const{top:I,left:m,width:g,height:b}=L(w);o.value.top=`${I+b/2}px`,q(m,g,50)}},J=w=>{if(r.teleport){const I=w.getBoundingClientRect();return{left:I.left+window.scrollX,top:I.top+window.scrollY}}return{top:0,left:0}},k=(w,I)=>{o.value.left=`${w+I}px`,o.value.transform=`translate(-100%, ${s.value})`},z=w=>{o.value.left=`${w}px`,o.value.transform=`translate(0, ${s.value})`},q=(w,I,m)=>{r.position===Mx.left&&z(w),r.position===Mx.right&&k(w,I),r.position===Mx.center&&(o.value.left=`${w+I/2}px`,o.value.transform=m?`translate(-50%, -${m}%)`:`translate(-50%, ${s.value})`)},L=w=>{const{width:I,height:m}=w.getBoundingClientRect(),{top:g,left:b}=r.altPosition?r.altPosition(w):J(w);return{top:+g,left:+b,width:I,height:m}},O=()=>{const w=qo(t);if(w){const{top:I,left:m,width:g,height:b}=L(w),A=ie();o.value.top=`${I+b/2}px`,q(m,g,A==="top"?100:0)}},G=()=>{o.value.left="50%",o.value.top="50%",o.value.transform="translate(-50%, -50%)",o.value.position="fixed",delete o.value.opacity},M=()=>{const w=qo(t),{top:I,left:m,transform:g}=r.altPosition(w);o.value={top:`${I}px`,left:`${m}px`,transform:g||""}},S=(w=!0)=>{if(!r.inline)return h.value?G():r.altPosition!==null?M():(w&&n("recalculate-position"),$())},P=({inputEl:w,menuEl:I,left:m,width:g})=>{window.screen.width>768&&q(m,g),E(w,I)},H=(w,I)=>{const{top:m,left:g,height:b,width:A}=L(w);o.value.top=`${b+m+ +r.offset}px`,d.value=!1,P({inputEl:w,menuEl:I,left:g,width:A})},U=(w,I)=>{const{top:m,left:g,width:b}=L(w);o.value.top=`${m-+r.offset}px`,d.value=!0,P({inputEl:w,menuEl:I,left:g,width:b})},E=(w,I)=>{if(r.autoPosition){const{left:m,width:g}=L(w),{left:b,right:A}=I.getBoundingClientRect();return b<=0?z(m):A>=document.documentElement.clientWidth?k(m,g):q(m,g)}},ie=()=>{const w=qo(e),I=qo(t);if(w&&I){const{height:m}=w.getBoundingClientRect(),{top:g,height:b}=I.getBoundingClientRect(),A=window.innerHeight-g-b,X=g;return m<=A?"bottom":m>A&&m<=X?"top":A>=X?"bottom":"top"}return"bottom"},te=(w,I)=>ie()==="bottom"?H(w,I):U(w,I),$=()=>{const w=qo(t),I=qo(e);if(w&&I)return r.autoPosition?te(w,I):H(w,I)},V=function(w){if(w){const I=w.scrollHeight>w.clientHeight,m=window.getComputedStyle(w).overflowY.indexOf("hidden")!==-1;return I&&!m}return!0},j=function(w){return!w||w===document.body||w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:V(w)?w:j(w.parentNode)};return{openOnTop:d,menuStyle:o,resetPosition:v,setMenuPosition:S,setInitialPosition:O,getScrollableParent:j}},dg=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar","month-year"]},{name:"arrow-down",use:["time","calendar","month-year"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar"]}],mU=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],gU={all:()=>dg,monthYear:()=>dg.filter(e=>e.use.includes("month-year")),input:()=>mU,timePicker:()=>dg.filter(e=>e.use.includes("time")),action:()=>dg.filter(e=>e.use.includes("action")),calendar:()=>dg.filter(e=>e.use.includes("calendar")),menu:()=>dg.filter(e=>e.use.includes("menu"))},I0=(e,t,n)=>{const r=[];return gU[t]().forEach(o=>{e[o.name]&&r.push(o.name)}),n&&n.length&&n.forEach(o=>{o.slot&&r.push(o.slot)}),r},r2=e=>({transitionName:hn(()=>t=>e&&typeof e!="boolean"?t?e.open:e.close:""),showTransition:!!e}),Sf={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:Function,default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},autoApplyMonth:{type:Boolean,default:!0}},yU={key:1,class:"dp__input_wrap"},_U=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],vU={key:2,class:"dp__clear_icon"},xU=xc({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Sf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:t,emit:n}){const r=e,{getDefaultPattern:o,isValidDate:d,defaults:h,getDefaultStartTime:s,assignDefaultTime:v}=bd(r),R=on(),J=on(null),k=on(!1),z=on(!1),q=hn(()=>({dp__pointer:!r.disabled&&!r.readonly&&!r.textInput,dp__disabled:r.disabled,dp__input_readonly:!r.textInput,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:r.state,dp__input_invalid:r.state===!1,dp__input_focus:k.value||r.isMenuOpen,dp__input_reg:!r.textInput,[r.inputClassName]:!!r.inputClassName})),L=()=>{n("set-input-date",null),r.autoApply&&(n("set-empty-date"),R.value=null)},O=j=>{var w;const I=s();return xj(j,((w=h.value.textInputOptions)==null?void 0:w.format)||o(),I||v({}),r.inputValue,z.value)},G=j=>{const{rangeSeparator:w}=h.value.textInputOptions,[I,m]=j.split(`${w}`);if(I){const g=O(I.trim()),b=m?O(m.trim()):null,A=g&&b?[g,b]:[g];R.value=g?A:null}},M=()=>{z.value=!0},S=j=>{if(r.range)G(j);else if(r.multiDates){const w=j.split(";");R.value=w.map(I=>O(I.trim())).filter(I=>I)}else R.value=O(j)},P=j=>{var w,I;const m=typeof j=="string"?j:(w=j.target)==null?void 0:w.value;m!==""?((I=h.value.textInputOptions)!=null&&I.openMenu&&!r.isMenuOpen&&n("open"),S(m),n("set-input-date",R.value)):L(),z.value=!1,n("update:input-value",m)},H=j=>{var w,I;r.textInput?(S(j.target.value),(w=h.value.textInputOptions)!=null&&w.enterSubmit&&d(R.value)&&r.inputValue!==""?(n("set-input-date",R.value,!0),R.value=null):(I=h.value.textInputOptions)!=null&&I.enterSubmit&&r.inputValue===""&&(R.value=null,n("clear"))):ie(j)},U=j=>{var w,I,m;r.textInput&&(w=h.value.textInputOptions)!=null&&w.tabSubmit&&S(j.target.value),(I=h.value.textInputOptions)!=null&&I.tabSubmit&&d(R.value)&&r.inputValue!==""?(n("set-input-date",R.value,!0),R.value=null):(m=h.value.textInputOptions)!=null&&m.tabSubmit&&r.inputValue===""&&(R.value=null,n("clear"))},E=()=>{k.value=!0,n("focus")},ie=j=>{var w;j.preventDefault(),j.stopImmediatePropagation(),j.stopPropagation(),r.textInput&&(w=h.value.textInputOptions)!=null&&w.openMenu&&!r.inlineWithInput?(n("toggle"),h.value.textInputOptions.enterSubmit&&n("select-date")):r.textInput||n("toggle")},te=()=>{n("real-blur"),k.value=!1,(!r.isMenuOpen||r.inline&&r.inlineWithInput)&&n("blur"),r.autoApply&&r.textInput&&R.value&&!r.isMenuOpen&&(n("set-input-date",R.value),n("select-date"),R.value=null)},$=()=>{n("clear")},V=j=>{if(!r.textInput){if(j.code==="Tab")return;j.preventDefault()}};return t({focusInput:()=>{var j;(j=J.value)==null||j.focus({preventScroll:!0})},setParsedDate:j=>{R.value=j}}),(j,w)=>{var I;return bt(),Bt("div",{onClick:ie},[j.$slots.trigger&&!j.$slots["dp-input"]&&!j.inline?xn(j.$slots,"trigger",{key:0}):vi("",!0),!j.$slots.trigger&&(!j.inline||j.inlineWithInput)?(bt(),Bt("div",yU,[j.$slots["dp-input"]&&!j.$slots.trigger&&!j.inline?xn(j.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:P,onEnter:H,onTab:U,onClear:$,onBlur:te,onKeypress:V,onPaste:M}):vi("",!0),j.$slots["dp-input"]?vi("",!0):(bt(),Bt("input",{key:1,ref_key:"inputRef",ref:J,id:j.uid?`dp-input-${j.uid}`:void 0,name:j.name,class:ar(q.value),inputmode:j.textInput?"text":"none",placeholder:j.placeholder,disabled:j.disabled,readonly:j.readonly,required:j.required,value:e.inputValue,autocomplete:j.autocomplete,"aria-label":(I=Li(h).ariaLabels)==null?void 0:I.input,onInput:P,onKeydown:[wr(H,["enter"]),wr(U,["tab"]),V],onBlur:te,onFocus:E,onKeypress:V,onPaste:M},null,42,_U)),Ye("div",{onClick:w[2]||(w[2]=m=>n("toggle"))},[j.$slots["input-icon"]&&!j.hideInputIcon?(bt(),Bt("span",{key:0,class:"dp__input_icon",onClick:w[0]||(w[0]=m=>n("toggle"))},[xn(j.$slots,"input-icon")])):vi("",!0),!j.$slots["input-icon"]&&!j.hideInputIcon&&!j.$slots["dp-input"]?(bt(),Ir(Li(n2),{key:1,onClick:w[1]||(w[1]=m=>n("toggle")),class:"dp__input_icon dp__input_icons"})):vi("",!0)]),j.$slots["clear-icon"]&&e.inputValue&&j.clearable&&!j.disabled&&!j.readonly?(bt(),Bt("span",vU,[xn(j.$slots,"clear-icon",{clear:$})])):vi("",!0),j.clearable&&!j.$slots["clear-icon"]&&e.inputValue&&!j.disabled&&!j.readonly?(bt(),Ir(Li(vj),{key:3,class:"dp__clear_icon dp__input_icons",onClick:mc($,["stop","prevent"])},null,8,["onClick"])):vi("",!0)])):vi("",!0)])}}}),bU=["title"],wU={class:"dp__action_buttons"},TU=["onKeydown","disabled"],SU=xc({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},calendarWidth:{type:Number,default:0},...Sf},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=e,{formatDate:r,isValidTime:o,defaults:d}=bd(n),{buildMatrix:h}=Tf(),s=on(null),v=on(null);Ko(()=>{n.arrowNavigation&&h([qo(s),qo(v)],"actionRow")});const R=hn(()=>n.range&&!n.partialRange&&n.internalModelValue?n.internalModelValue.length===2:!0),J=hn(()=>!k.value||!z.value||!R.value),k=hn(()=>!n.enableTimePicker||n.ignoreTimeValidation?!0:o(n.internalModelValue)),z=hn(()=>n.monthPicker?n.range&&Array.isArray(n.internalModelValue)?!n.internalModelValue.filter(U=>!P(U)).length:P(n.internalModelValue):!0),q=()=>{const U=d.value.previewFormat;return n.timePicker||n.monthPicker,U(Ll(n.internalModelValue))},L=()=>{const U=n.internalModelValue;return d.value.multiCalendars>0?`${O(U[0])} - ${O(U[1])}`:[O(U[0]),O(U[1])]},O=U=>r(U,d.value.previewFormat),G=hn(()=>!n.internalModelValue||!n.menuMount?"":typeof d.value.previewFormat=="string"?Array.isArray(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?L():n.multiDates?n.internalModelValue.map(U=>`${O(U)}`):n.modelAuto?`${O(n.internalModelValue[0])}`:`${O(n.internalModelValue[0])} -`:O(n.internalModelValue):q()),M=()=>n.multiDates?"; ":" - ",S=hn(()=>Array.isArray(G.value)?G.value.join(M()):G.value),P=U=>{if(!n.monthPicker)return!0;let E=!0;const ie=qi(Ay(U));if(n.minDate&&n.maxDate){const te=qi(Ay(n.minDate)),$=qi(Ay(n.maxDate));return gc(ie,te)&&zl(ie,$)||$s(ie,te)||$s(ie,$)}if(n.minDate){const te=qi(Ay(n.minDate));E=gc(ie,te)||$s(ie,te)}if(n.maxDate){const te=qi(Ay(n.maxDate));E=zl(ie,te)||$s(ie,te)}return E},H=()=>{k.value&&z.value&&R.value?t("select-date"):t("invalid-select")};return(U,E)=>(bt(),Bt("div",{class:"dp__action_row",style:el(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[U.$slots["action-row"]?xn(U.$slots,"action-row",Ta(Yo({key:0},{internalModelValue:e.internalModelValue,disabled:J.value,selectDate:()=>U.$emit("select-date"),closePicker:()=>U.$emit("close-picker")}))):(bt(),Bt(cn,{key:1},[Li(d).actionRow.showPreview?(bt(),Bt("div",{key:0,class:"dp__selection_preview",title:S.value},[U.$slots["action-preview"]?xn(U.$slots,"action-preview",{key:0,value:e.internalModelValue}):vi("",!0),U.$slots["action-preview"]?vi("",!0):(bt(),Bt(cn,{key:1},[ds(Yi(S.value),1)],64))],8,bU)):vi("",!0),Ye("div",wU,[U.$slots["action-buttons"]?xn(U.$slots,"action-buttons",{key:0,value:e.internalModelValue}):vi("",!0),U.$slots["action-buttons"]?vi("",!0):(bt(),Bt(cn,{key:1},[!U.inline&&Li(d).actionRow.showCancel?(bt(),Bt("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:E[0]||(E[0]=ie=>U.$emit("close-picker")),onKeydown:[E[1]||(E[1]=wr(ie=>U.$emit("close-picker"),["enter"])),E[2]||(E[2]=wr(ie=>U.$emit("close-picker"),["space"]))]},Yi(U.cancelText),545)):vi("",!0),U.showNowButton||Li(d).actionRow.showNow?(bt(),Bt("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:E[3]||(E[3]=ie=>U.$emit("select-now")),onKeydown:[E[4]||(E[4]=wr(ie=>U.$emit("select-now"),["enter"])),E[5]||(E[5]=wr(ie=>U.$emit("select-now"),["space"]))]},Yi(U.nowButtonLabel),545)):vi("",!0),Li(d).actionRow.showSelect?(bt(),Bt("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[wr(H,["enter"]),wr(H,["space"])],onClick:H,disabled:J.value,ref_key:"selectButtonRef",ref:v},Yi(U.selectText),41,TU)):vi("",!0)],64))])],64))],4))}}),CU=["aria-label"],EU={class:"dp__calendar_header",role:"row"},MU={key:0,class:"dp__calendar_header_item",role:"gridcell"},kU=Ye("div",{class:"dp__calendar_header_separator"},null,-1),AU=["aria-label"],PU={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},DU={class:"dp__cell_inner"},IU=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],LU=xc({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Sf},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const r=e,{buildMultiLevelMatrix:o}=Tf(),{setDateMonthOrYear:d,defaults:h}=bd(r),s=on(null),v=on({bottom:"",left:"",transform:""}),R=on([]),J=on(null),k=on(!0),z=on(""),q=on({startX:0,endX:0,startY:0,endY:0}),L=on([]),O=on({left:"50%"}),G=hn(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),M=hn(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):Kj(r.formatLocale,r.locale,+r.weekStart));Ko(()=>{n("mount",{cmp:"calendar",refs:R}),r.noSwipe||J.value&&(J.value.addEventListener("touchstart",w,{passive:!1}),J.value.addEventListener("touchend",I,{passive:!1}),J.value.addEventListener("touchmove",m,{passive:!1})),r.monthChangeOnScroll&&J.value&&J.value.addEventListener("wheel",A,{passive:!1})});const S=X=>X?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",P=(X,Y)=>{if(r.transitions){const K=Kd(d(qi(),r.month,r.year));z.value=gc(Kd(d(qi(),X,Y)),K)?h.value.transitions[S(!0)]:h.value.transitions[S(!1)],k.value=!1,_c(()=>{k.value=!0})}},H=hn(()=>({[r.calendarClassName]:!!r.calendarClassName})),U=hn(()=>X=>{const Y=tU(X);return{dp__marker_dot:Y.type==="dot",dp__marker_line:Y.type==="line"}}),E=hn(()=>X=>$s(X,s.value)),ie=hn(()=>({dp__calendar:!0,dp__calendar_next:h.value.multiCalendars>0&&r.instance!==0})),te=hn(()=>X=>r.hideOffsetDates?X.current:!0),$=hn(()=>r.specificMode?{height:`${r.modeHeight}px`}:void 0),V=async(X,Y,K)=>{var le,he;if(n("set-hover-date",X),(he=(le=X.marker)==null?void 0:le.tooltip)!=null&&he.length){const pe=qo(R.value[Y][K]);if(pe){const{width:F,height:Q}=pe.getBoundingClientRect();s.value=X.value;let ce={left:`${F/2}px`},ge=-50;if(await _c(),L.value[0]){const{left:ke,width:re}=L.value[0].getBoundingClientRect();ke<0&&(ce={left:"0"},ge=0,O.value.left=`${F/2}px`),window.innerWidth<ke+re&&(ce={right:"0"},ge=0,O.value.left=`${re-F/2}px`)}v.value={bottom:`${Q}px`,...ce,transform:`translateX(${ge}%)`},n("tooltip-open",X.marker)}}},j=X=>{s.value&&(s.value=null,v.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),n("tooltip-close",X.marker))},w=X=>{q.value.startX=X.changedTouches[0].screenX,q.value.startY=X.changedTouches[0].screenY},I=X=>{q.value.endX=X.changedTouches[0].screenX,q.value.endY=X.changedTouches[0].screenY,g()},m=X=>{r.vertical&&!r.inline&&X.preventDefault()},g=()=>{const X=r.vertical?"Y":"X";Math.abs(q.value[`start${X}`]-q.value[`end${X}`])>10&&n("handle-swipe",q.value[`start${X}`]>q.value[`end${X}`]?"right":"left")},b=(X,Y,K)=>{X&&(Array.isArray(R.value[Y])?R.value[Y][K]=X:R.value[Y]=[X]),r.arrowNavigation&&o(R.value,"calendar")},A=X=>{r.monthChangeOnScroll&&(X.preventDefault(),n("handle-scroll",X))};return t({triggerTransition:P}),(X,Y)=>{var K;return bt(),Bt("div",{class:ar(ie.value)},[Ye("div",{style:el($.value),ref_key:"calendarWrapRef",ref:J,role:"grid",class:ar(H.value),"aria-label":(K=Li(h).ariaLabels)==null?void 0:K.calendarWrap},[e.specificMode?vi("",!0):(bt(),Bt(cn,{key:0},[Ye("div",EU,[X.weekNumbers?(bt(),Bt("div",MU,Yi(X.weekNumName),1)):vi("",!0),(bt(!0),Bt(cn,null,_r(M.value,(le,he)=>(bt(),Bt("div",{class:"dp__calendar_header_item",role:"gridcell",key:he},[X.$slots["calendar-header"]?xn(X.$slots,"calendar-header",{key:0,day:le,index:he}):vi("",!0),X.$slots["calendar-header"]?vi("",!0):(bt(),Bt(cn,{key:1},[ds(Yi(le),1)],64))]))),128))]),kU,dn(Au,{name:z.value,css:!!X.transitions},{default:Yn(()=>{var le;return[k.value?(bt(),Bt("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(le=Li(h).ariaLabels)==null?void 0:le.calendarDays},[(bt(!0),Bt(cn,null,_r(G.value,(he,pe)=>(bt(),Bt("div",{class:"dp__calendar_row",role:"row",key:pe},[X.weekNumbers?(bt(),Bt("div",PU,[Ye("div",DU,Yi(e.getWeekNum(he.days)),1)])):vi("",!0),(bt(!0),Bt(cn,null,_r(he.days,(F,Q)=>{var ce,ge,ke;return bt(),Bt("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:re=>b(re,pe,Q),key:Q+pe,"aria-selected":F.classData.dp__active_date||F.classData.dp__range_start||F.classData.dp__range_start,"aria-disabled":F.classData.dp__cell_disabled,"aria-label":(ge=(ce=Li(h).ariaLabels)==null?void 0:ce.day)==null?void 0:ge.call(ce,F),tabindex:"0",onClick:mc(re=>X.$emit("select-date",F),["stop","prevent"]),onKeydown:[wr(re=>X.$emit("select-date",F),["enter"]),wr(re=>X.$emit("handle-space",F),["space"])],onMouseenter:re=>V(F,pe,Q),onMouseleave:re=>j(F)},[Ye("div",{class:ar(["dp__cell_inner",F.classData])},[X.$slots.day&&te.value(F)?xn(X.$slots,"day",{key:0,day:+F.text,date:F.value}):vi("",!0),X.$slots.day?vi("",!0):(bt(),Bt(cn,{key:1},[ds(Yi(F.text),1)],64)),F.marker&&te.value(F)?(bt(),Bt(cn,{key:2},[X.$slots.marker?xn(X.$slots,"marker",{key:0,marker:F.marker,day:+F.text,date:F.value}):(bt(),Bt("div",{key:1,class:ar(U.value(F.marker)),style:el(F.marker.color?{backgroundColor:F.marker.color}:{})},null,6))],64)):vi("",!0),E.value(F.value)?(bt(),Bt("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:L,style:el(v.value)},[(ke=F.marker)!=null&&ke.tooltip?(bt(),Bt("div",{key:0,class:"dp__tooltip_content",onClick:Y[0]||(Y[0]=mc(()=>{},["stop"]))},[(bt(!0),Bt(cn,null,_r(F.marker.tooltip,(re,ve)=>(bt(),Bt("div",{key:ve,class:"dp__tooltip_text"},[X.$slots["marker-tooltip"]?xn(X.$slots,"marker-tooltip",{key:0,tooltip:re,day:F.value}):vi("",!0),X.$slots["marker-tooltip"]?vi("",!0):(bt(),Bt(cn,{key:1},[Ye("div",{class:"dp__tooltip_mark",style:el(re.color?{backgroundColor:re.color}:{})},null,4),Ye("div",null,Yi(re.text),1)],64))]))),128)),Ye("div",{class:"dp__arrow_bottom_tp",style:el(O.value)},null,4)])):vi("",!0)],4)):vi("",!0)],2)],40,IU)}),128))]))),128))],8,AU)):vi("",!0)]}),_:3},8,["name","css"])],64))],14,CU)],2)}}}),OU=["aria-label","aria-disabled"],M3=xc({__name:"ActionIcon",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=on(null);return Ko(()=>t("set-ref",n)),(r,o)=>(bt(),Bt("button",{type:"button",class:"dp__btn dp__month_year_col_nav",onClick:o[0]||(o[0]=d=>r.$emit("activate")),onKeydown:[o[1]||(o[1]=wr(mc(d=>r.$emit("activate"),["prevent"]),["enter"])),o[2]||(o[2]=wr(mc(d=>r.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled,ref_key:"elRef",ref:n},[Ye("span",{class:ar(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[xn(r.$slots,"default")],2)],40,OU))}}),RU=["onKeydown"],BU={class:"dp__selection_grid_header"},zU=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],NU=["aria-label","onKeydown"],$y=xc({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},autoApplyMonth:{type:Boolean,default:!1}},emits:["update:model-value","selected","toggle","reset-flow"],setup(e,{expose:t,emit:n}){const r=e,{setSelectionGrid:o,buildMultiLevelMatrix:d,setMonthPicker:h}=Tf(),{hideNavigationButtons:s}=bd(r),v=on(!1),R=on(null),J=on(null),k=on([]),z=on(),q=on(null),L=on(0),O=on(null);p_(()=>{R.value=null}),Ko(()=>{var A;_c().then(()=>$()),M(),G(!0),(A=R.value)==null||A.focus({preventScroll:!0})}),hh(()=>G(!1));const G=A=>{var X;r.arrowNavigation&&((X=r.headerRefs)!=null&&X.length?h(A):o(A))},M=()=>{const A=qo(J);A&&(r.textInput||A.focus({preventScroll:!0}),v.value=A.clientHeight<A.scrollHeight)},S=hn(()=>({dp__overlay:!0})),P=hn(()=>({dp__overlay_col:!0})),H=A=>r.monthPicker&&!r.autoApplyMonth?$s(r.internalModelValue,ep(fg(new Date,A.value),r.year)):r.skipActive?!1:A.value===r.modelValue,U=hn(()=>r.items.map(A=>A.filter(X=>X).map(X=>{var Y,K,le;const he=r.disabledValues.some(F=>F===X.value)||te(X.value),pe=(Y=r.multiModelValue)!=null&&Y.length?(K=r.multiModelValue)==null?void 0:K.some(F=>$s(F,ep(r.monthPicker?fg(new Date,X.value):new Date,r.monthPicker?r.year:X.value))):H(X);return{...X,className:{dp__overlay_cell_active:pe,dp__overlay_cell:!pe,dp__overlay_cell_disabled:he,dp__overlay_cell_active_disabled:he&&pe,dp__overlay_cell_pad:!0,dp__cell_in_between:(le=r.multiModelValue)!=null&&le.length&&r.skipActive?j(X.value):!1}}}))),E=hn(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:v.value,dp__button_bottom:r.autoApply})),ie=hn(()=>{var A,X;return{dp__overlay_container:!0,dp__container_flex:((A=r.items)==null?void 0:A.length)<=6,dp__container_block:((X=r.items)==null?void 0:X.length)>6}}),te=A=>{const X=r.maxValue||r.maxValue===0,Y=r.minValue||r.minValue===0;return!X&&!Y?!1:X&&Y?+A>+r.maxValue||+A<+r.minValue:X?+A>+r.maxValue:Y?+A<+r.minValue:!1},$=()=>{const A=qo(R),X=qo(J),Y=qo(q),K=qo(O),le=Y?Y.getBoundingClientRect().height:0;X&&(L.value=X.getBoundingClientRect().height-le),A&&K&&(K.scrollTop=A.offsetTop-K.offsetTop-(L.value/2-A.getBoundingClientRect().height)-le)},V=A=>{!r.disabledValues.some(X=>X===A)&&!te(A)&&(n("update:model-value",A),n("selected"))},j=A=>{const X=r.monthPicker?r.year:A;return E4(r.multiModelValue,ep(r.monthPicker?fg(new Date,z.value||0):new Date,r.monthPicker?X:z.value||X),ep(r.monthPicker?fg(new Date,A):new Date,X))},w=()=>{n("toggle"),n("reset-flow")},I=()=>{r.escClose&&w()},m=(A,X,Y,K)=>{A&&(X.value===+r.modelValue&&!r.disabledValues.includes(X.value)&&(R.value=A),r.arrowNavigation&&(Array.isArray(k.value[Y])?k.value[Y][K]=A:k.value[Y]=[A],g()))},g=()=>{var A,X;const Y=(A=r.headerRefs)!=null&&A.length?[r.headerRefs].concat(k.value):k.value.concat([r.skipButtonRef?[]:[q.value]]);d(Ll(Y),(X=r.headerRefs)!=null&&X.length?"monthPicker":"selectionGrid")},b=A=>{r.arrowNavigation||A.stopImmediatePropagation()};return t({focusGrid:M}),(A,X)=>{var Y;return bt(),Bt("div",{ref_key:"gridWrapRef",ref:J,class:ar(S.value),role:"dialog",tabindex:"0",onKeydown:[wr(I,["esc"]),X[0]||(X[0]=wr(K=>b(K),["left"])),X[1]||(X[1]=wr(K=>b(K),["up"])),X[2]||(X[2]=wr(K=>b(K),["down"])),X[3]||(X[3]=wr(K=>b(K),["right"]))]},[Ye("div",{class:ar(ie.value),ref_key:"containerRef",ref:O,role:"grid",style:el({height:`${L.value}px`})},[Ye("div",BU,[xn(A.$slots,"header")]),A.$slots.overlay?xn(A.$slots,"overlay",{key:0}):(bt(!0),Bt(cn,{key:1},_r(U.value,(K,le)=>(bt(),Bt("div",{class:ar(["dp__overlay_row",{dp__flex_row:U.value.length>=3}]),key:le,role:"row"},[(bt(!0),Bt(cn,null,_r(K,(he,pe)=>(bt(),Bt("div",{role:"gridcell",class:ar(P.value),key:he.value,"aria-selected":he.value===e.modelValue&&!e.disabledValues.includes(he.value),"aria-disabled":he.className.dp__overlay_cell_disabled,ref_for:!0,ref:F=>m(F,he,le,pe),tabindex:"0",onClick:F=>V(he.value),onKeydown:[wr(F=>V(he.value),["enter"]),wr(F=>V(he.value),["space"])],onMouseover:F=>z.value=he.value},[Ye("div",{class:ar(he.className)},[A.$slots.item?xn(A.$slots,"item",{key:0,item:he}):vi("",!0),A.$slots.item?vi("",!0):(bt(),Bt(cn,{key:1},[ds(Yi(he.text),1)],64))],2)],42,zU))),128))],2))),128))],6),A.$slots["button-icon"]?po((bt(),Bt("div",{key:0,role:"button","aria-label":(Y=e.ariaLabels)==null?void 0:Y.toggleOverlay,class:ar(E.value),tabindex:"0",ref_key:"toggleButton",ref:q,onClick:w,onKeydown:[wr(w,["enter"]),wr(w,["tab"])]},[xn(A.$slots,"button-icon")],42,NU)),[[N0,!Li(s)(e.type)]]):vi("",!0)],42,RU)}}}),FU=["aria-label"],WE=xc({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(e,{emit:t}){const n=e,{transitionName:r,showTransition:o}=r2(n.transitions),d=on(null);return Ko(()=>t("set-ref",d)),(h,s)=>(bt(),Bt(cn,null,[Ye("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:s[0]||(s[0]=v=>h.$emit("toggle")),onKeydown:[s[1]||(s[1]=wr(mc(v=>h.$emit("toggle"),["prevent"]),["enter"])),s[2]||(s[2]=wr(mc(v=>h.$emit("toggle"),["prevent"]),["space"]))],"aria-label":e.ariaLabel,tabindex:"0",ref_key:"elRef",ref:d},[xn(h.$slots,"default")],40,FU),dn(Au,{name:Li(r)(e.showSelectionGrid),css:Li(o)},{default:Yn(()=>[e.showSelectionGrid?(bt(),Ir($y,Yo({key:0},{modelValue:e.modelValue,items:e.items,disabledValues:e.disabledValues,minValue:e.minValue,maxValue:e.maxValue,escClose:e.escClose,type:e.type,arrowNavigation:e.arrowNavigation,textInput:e.textInput,autoApply:e.autoApply,ariaLabels:e.ariaLabels,hideNavigation:e.hideNavigation},{"header-refs":[],"onUpdate:modelValue":s[3]||(s[3]=v=>h.$emit("update:model-value",v)),onToggle:s[4]||(s[4]=v=>h.$emit("toggle"))}),Bl({"button-icon":Yn(()=>[h.$slots["calendar-icon"]?xn(h.$slots,"calendar-icon",{key:0}):vi("",!0),h.$slots["calendar-icon"]?vi("",!0):(bt(),Ir(Li(n2),{key:1}))]),_:2},[h.$slots[e.slotName]?{name:"item",fn:Yn(({item:v})=>[xn(h.$slots,e.slotName,{item:v})]),key:"0"}:void 0,h.$slots[e.overlaySlot]?{name:"overlay",fn:Yn(()=>[xn(h.$slots,e.overlaySlot)]),key:"1"}:void 0,h.$slots[`${e.overlaySlot}-header`]?{name:"header",fn:Yn(()=>[xn(h.$slots,`${e.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):vi("",!0)]),_:3},8,["name","css"])],64))}}),jU={class:"dp__month_year_row"},UU={class:"dp__month_picker_header"},$U=["aria-label"],VU=["aria-label"],GU=["aria-label"],HU=xc({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Sf},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:n}){const r=e,{defaults:o}=bd(r),{transitionName:d,showTransition:h}=r2(o.value.transitions),{buildMatrix:s}=Tf(),{handleMonthYearChange:v,isDisabled:R,updateMonthYear:J}=pU(r,n),k=on(!1),z=on(!1),q=on([null,null,null,null]),L=on(null),O=on(null),G=on(null);Ko(()=>{n("mount")});const M=Q=>({get:()=>r[Q],set:ce=>{const ge=Q==="month"?"year":"month";n("update-month-year",{[Q]:ce,[ge]:r[ge]}),n("month-year-select",Q==="year"),Q==="month"?K(!0):le(!0)}}),S=hn(M("month")),P=hn(M("year")),H=Q=>{const ce=Eo(qi(Q));return r.year===ce},U=hn(()=>r.monthPicker?Array.isArray(r.disabledDates)?r.disabledDates.map(Q=>qi(Q)).filter(Q=>H(Q)).map(Q=>ho(Q)):[]:[]),E=hn(()=>Q=>{const ce=Q==="month";return{showSelectionGrid:(ce?k:z).value,items:(ce?g:b).value,disabledValues:o.value.filters[ce?"months":"years"].concat(U.value),minValue:(ce?V:te).value,maxValue:(ce?j:$).value,headerRefs:ce&&r.monthPicker?[L.value,O.value,G.value]:[],escClose:r.escClose,transitions:o.value.transitions,ariaLabels:o.value.ariaLabels,textInput:r.textInput,autoApply:r.autoApply,arrowNavigation:r.arrowNavigation,hideNavigation:r.hideNavigation}}),ie=hn(()=>Q=>({month:r.month,year:r.year,items:Q==="month"?r.months:r.years,instance:r.instance,updateMonthYear:J,toggle:Q==="month"?K:le})),te=hn(()=>r.minDate?Eo(qi(r.minDate)):null),$=hn(()=>r.maxDate?Eo(qi(r.maxDate)):null),V=hn(()=>{if(r.minDate&&te.value){if(te.value>r.year)return 12;if(te.value===r.year)return ho(qi(r.minDate))}return null}),j=hn(()=>r.maxDate&&$.value?$.value<r.year?-1:$.value===r.year?ho(qi(r.maxDate)):null:null),w=hn(()=>(r.range||r.multiDates)&&r.internalModelValue&&(r.monthPicker||r.yearPicker)?r.internalModelValue:[]),I=Q=>{const ce=[],ge=ke=>ke;for(let ke=0;ke<Q.length;ke+=3){const re=[Q[ke],Q[ke+1],Q[ke+2]];ce.push(ge(re))}return ce},m=hn(()=>r.months.find(ce=>ce.value===r.month)||{text:"",value:0}),g=hn(()=>I(r.months)),b=hn(()=>I(r.years)),A=hn(()=>o.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===0:!0),X=hn(()=>o.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===o.value.multiCalendars-1:!0),Y=(Q,ce)=>{ce!==void 0?Q.value=ce:Q.value=!Q.value},K=(Q=!1,ce)=>{he(Q),Y(k,ce),k.value||n("overlay-closed")},le=(Q=!1,ce)=>{he(Q),Y(z,ce),z.value||n("overlay-closed")},he=Q=>{Q||n("reset-flow")},pe=(Q=!1)=>{R.value(Q)||n("update-month-year",{year:Q?r.year+1:r.year-1,month:r.month,fromNav:!0})},F=(Q,ce)=>{r.arrowNavigation&&(q.value[ce]=qo(Q),s(q.value,"monthYear"))};return t({toggleMonthPicker:K,toggleYearPicker:le,handleMonthYearChange:v}),(Q,ce)=>{var ge,ke,re,ve,_e;return bt(),Bt("div",jU,[Q.$slots["month-year"]?xn(Q.$slots,"month-year",Ta(Yo({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:Li(J),handleMonthYearChange:Li(v),instance:e.instance}))):(bt(),Bt(cn,{key:1},[!Q.monthPicker&&!Q.yearPicker?(bt(),Bt(cn,{key:0},[A.value&&!Q.vertical?(bt(),Ir(M3,{key:0,"aria-label":(ge=Li(o).ariaLabels)==null?void 0:ge.prevMonth,disabled:Li(R)(!1),onActivate:ce[0]||(ce[0]=oe=>Li(v)(!1)),onSetRef:ce[1]||(ce[1]=oe=>F(oe,0))},{default:Yn(()=>[Q.$slots["arrow-left"]?xn(Q.$slots,"arrow-left",{key:0}):vi("",!0),Q.$slots["arrow-left"]?vi("",!0):(bt(),Ir(Li(AE),{key:1}))]),_:3},8,["aria-label","disabled"])):vi("",!0),Ye("div",{class:ar(["dp__month_year_wrap",{dp__year_disable_select:r.disableYearSelect}])},[dn(WE,Yo({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(ke=Li(o).ariaLabels)==null?void 0:ke.openMonthsOverlay,modelValue:S.value,"onUpdate:modelValue":ce[2]||(ce[2]=oe=>S.value=oe)},E.value("month"),{onToggle:K,onSetRef:ce[3]||(ce[3]=oe=>F(oe,1))}),Bl({default:Yn(()=>[Q.$slots.month?xn(Q.$slots,"month",Ta(Yo({key:0},m.value))):vi("",!0),Q.$slots.month?vi("",!0):(bt(),Bt(cn,{key:1},[ds(Yi(m.value.text),1)],64))]),_:2},[Q.$slots["calendar-icon"]?{name:"calendar-icon",fn:Yn(()=>[xn(Q.$slots,"calendar-icon")]),key:"0"}:void 0,Q.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:Yn(({item:oe})=>[xn(Q.$slots,"month-overlay-value",{text:oe.text,value:oe.value})]),key:"1"}:void 0,Q.$slots["month-overlay"]?{name:"overlay-month",fn:Yn(()=>[xn(Q.$slots,"month-overlay",Ta(Ol(ie.value("month"))))]),key:"2"}:void 0,Q.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:Yn(()=>[xn(Q.$slots,"month-overlay-header",{toggle:K})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),r.disableYearSelect?vi("",!0):(bt(),Ir(WE,Yo({key:0,type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(re=Li(o).ariaLabels)==null?void 0:re.openYearsOverlay,modelValue:P.value,"onUpdate:modelValue":ce[4]||(ce[4]=oe=>P.value=oe)},E.value("year"),{onToggle:le,onSetRef:ce[5]||(ce[5]=oe=>F(oe,2))}),Bl({default:Yn(()=>[Q.$slots.year?xn(Q.$slots,"year",{key:0,year:e.year}):vi("",!0),Q.$slots.year?vi("",!0):(bt(),Bt(cn,{key:1},[ds(Yi(e.year),1)],64))]),_:2},[Q.$slots["calendar-icon"]?{name:"calendar-icon",fn:Yn(()=>[xn(Q.$slots,"calendar-icon")]),key:"0"}:void 0,Q.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:Yn(({item:oe})=>[xn(Q.$slots,"year-overlay-value",{text:oe.text,value:oe.value})]),key:"1"}:void 0,Q.$slots["year-overlay"]?{name:"overlay-year",fn:Yn(()=>[xn(Q.$slots,"year-overlay",Ta(Ol(ie.value("year"))))]),key:"2"}:void 0,Q.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:Yn(()=>[xn(Q.$slots,"year-overlay-header",{toggle:le})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]))],2),A.value&&Q.vertical?(bt(),Ir(M3,{key:1,"aria-label":(ve=Li(o).ariaLabels)==null?void 0:ve.prevMonth,disabled:Li(R)(!1),onActivate:ce[6]||(ce[6]=oe=>Li(v)(!1))},{default:Yn(()=>[Q.$slots["arrow-up"]?xn(Q.$slots,"arrow-up",{key:0}):vi("",!0),Q.$slots["arrow-up"]?vi("",!0):(bt(),Ir(Li(S4),{key:1}))]),_:3},8,["aria-label","disabled"])):vi("",!0),X.value?(bt(),Ir(M3,{key:2,ref:"rightIcon",disabled:Li(R)(!0),"aria-label":(_e=Li(o).ariaLabels)==null?void 0:_e.nextMonth,onActivate:ce[7]||(ce[7]=oe=>Li(v)(!0)),onSetRef:ce[8]||(ce[8]=oe=>F(oe,3))},{default:Yn(()=>[Q.$slots[Q.vertical?"arrow-down":"arrow-right"]?xn(Q.$slots,Q.vertical?"arrow-down":"arrow-right",{key:0}):vi("",!0),Q.$slots[Q.vertical?"arrow-down":"arrow-right"]?vi("",!0):(bt(),Ir(Rb(Q.vertical?Li(C4):Li(PE)),{key:1}))]),_:3},8,["disabled","aria-label"])):vi("",!0)],64)):vi("",!0),Q.monthPicker?(bt(),Ir($y,Yo({key:1},E.value("month"),{"skip-active":Q.range,"internal-model-value":e.internalModelValue,year:e.year,"auto-apply-month":Q.autoApplyMonth,"multi-model-value":w.value,"month-picker":"",modelValue:S.value,"onUpdate:modelValue":ce[17]||(ce[17]=oe=>S.value=oe),onToggle:K,onSelected:ce[18]||(ce[18]=oe=>Q.$emit("overlay-closed"))}),Bl({header:Yn(()=>{var oe,ye,Se;return[Ye("div",UU,[Ye("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:L,onClick:ce[9]||(ce[9]=Re=>pe(!1)),onKeydown:ce[10]||(ce[10]=wr(Re=>pe(!1),["enter"]))},[Ye("div",{class:ar(["dp__inner_nav",{dp__inner_nav_disabled:Li(R)(!1)}]),role:"button","aria-label":(oe=Li(o).ariaLabels)==null?void 0:oe.prevMonth},[Q.$slots["arrow-left"]?xn(Q.$slots,"arrow-left",{key:0}):vi("",!0),Q.$slots["arrow-left"]?vi("",!0):(bt(),Ir(Li(AE),{key:1}))],10,$U)],544),Ye("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:O,"aria-label":(ye=Li(o).ariaLabels)==null?void 0:ye.openYearsOverlay,tabindex:"0",onClick:ce[11]||(ce[11]=()=>le(!1)),onKeydown:ce[12]||(ce[12]=wr(()=>le(!1),["enter"]))},[Q.$slots.year?xn(Q.$slots,"year",{key:0,year:e.year}):vi("",!0),Q.$slots.year?vi("",!0):(bt(),Bt(cn,{key:1},[ds(Yi(e.year),1)],64))],40,VU),Ye("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:G,onClick:ce[13]||(ce[13]=Re=>pe(!0)),onKeydown:ce[14]||(ce[14]=wr(Re=>pe(!0),["enter"]))},[Ye("div",{class:ar(["dp__inner_nav",{dp__inner_nav_disabled:Li(R)(!0)}]),role:"button","aria-label":(Se=Li(o).ariaLabels)==null?void 0:Se.nextMonth},[Q.$slots["arrow-right"]?xn(Q.$slots,"arrow-right",{key:0}):vi("",!0),Q.$slots["arrow-right"]?vi("",!0):(bt(),Ir(Li(PE),{key:1}))],10,GU)],544)]),dn(Au,{name:Li(d)(z.value),css:Li(h)},{default:Yn(()=>[z.value?(bt(),Ir($y,Yo({key:0},E.value("year"),{modelValue:P.value,"onUpdate:modelValue":ce[15]||(ce[15]=Re=>P.value=Re),onToggle:le,onSelected:ce[16]||(ce[16]=Re=>Q.$emit("overlay-closed"))}),Bl({"button-icon":Yn(()=>[Q.$slots["calendar-icon"]?xn(Q.$slots,"calendar-icon",{key:0}):vi("",!0),Q.$slots["calendar-icon"]?vi("",!0):(bt(),Ir(Li(n2),{key:1}))]),_:2},[Q.$slots["year-overlay-value"]?{name:"item",fn:Yn(({item:Re})=>[xn(Q.$slots,"year-overlay-value",{text:Re.text,value:Re.value})]),key:"0"}:void 0]),1040,["modelValue"])):vi("",!0)]),_:3},8,["name","css"])]}),_:2},[Q.$slots["month-overlay-value"]?{name:"item",fn:Yn(({item:oe})=>[xn(Q.$slots,"month-overlay-value",{text:oe.text,value:oe.value})]),key:"0"}:void 0]),1040,["skip-active","internal-model-value","year","auto-apply-month","multi-model-value","modelValue"])):vi("",!0),Q.yearPicker?(bt(),Ir($y,Yo({key:2},E.value("year"),{modelValue:P.value,"onUpdate:modelValue":ce[19]||(ce[19]=oe=>P.value=oe),"multi-model-value":w.value,"skip-active":Q.range,"skip-button-ref":"","year-picker":"",onToggle:le,onSelected:ce[20]||(ce[20]=oe=>Q.$emit("overlay-closed"))}),Bl({_:2},[Q.$slots["year-overlay-value"]?{name:"item",fn:Yn(({item:oe})=>[xn(Q.$slots,"year-overlay-value",{text:oe.text,value:oe.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):vi("",!0)],64))])}}}),WU={key:0,class:"dp__time_input"},YU=["aria-label","onKeydown","onClick"],qU=Ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),XU=Ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),ZU=["aria-label","onKeydown","onClick"],KU=["aria-label","onKeydown","onClick"],JU=Ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),QU=Ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),e$={key:0},t$=["aria-label","onKeydown"],i$=xc({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Sf},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const r=e,{setTimePickerElements:o,setTimePickerBackRef:d}=Tf(),{defaults:h}=bd(r),{transitionName:s,showTransition:v}=r2(h.value.transitions),R=ku({hours:!1,minutes:!1,seconds:!1}),J=on("AM"),k=on(null),z=on([]);Ko(()=>{n("mounted")});const q=Y=>Qa(new Date,{hours:Y.hours,minutes:Y.minutes,seconds:r.enableSeconds?Y.seconds:0,milliseconds:0}),L=hn(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),O=hn(()=>Y=>!te(+r[Y]+ +r[`${Y}Increment`],Y)),G=hn(()=>Y=>!te(+r[Y]-+r[`${Y}Increment`],Y)),M=(Y,K)=>n4(Qa(qi(),Y),K),S=(Y,K)=>yj(Qa(qi(),Y),K),P=hn(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),H=hn(()=>{const Y=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return r.enableSeconds?Y.concat([{type:"",separator:!0},{type:"seconds"}]):Y}),U=hn(()=>H.value.filter(Y=>!Y.separator)),E=hn(()=>Y=>{if(Y==="hours"){const K=m(+r.hours);return{text:K<10?`0${K}`:`${K}`,value:K}}return{text:r[Y]<10?`0${r[Y]}`:`${r[Y]}`,value:r[Y]}}),ie=Y=>{const K=r.is24?24:12,le=Y==="hours"?K:60,he=+r[`${Y}GridIncrement`],pe=Y==="hours"&&!r.is24?he:0,F=[];for(let Q=pe;Q<le;Q+=he)F.push({value:Q,text:Q<10?`0${Q}`:`${Q}`});return Y==="hours"&&!r.is24&&F.push({value:0,text:"12"}),Xj(F)},te=(Y,K)=>{const le=r.minTime?q(_3(r.minTime)):null,he=r.maxTime?q(_3(r.maxTime)):null,pe=q(_3(L.value,K,Y));return le&&he?(s_(pe,he)||D0(pe,he))&&(r_(pe,le)||D0(pe,le)):le?r_(pe,le)||D0(pe,le):he?s_(pe,he)||D0(pe,he):!0},$=hn(()=>Y=>ie(Y).flat().filter(K=>iU(K.value)).map(K=>K.value).filter(K=>!te(K,Y))),V=Y=>r[`no${Y[0].toUpperCase()+Y.slice(1)}Overlay`],j=Y=>{V(Y)||(R[Y]=!R[Y],R[Y]||n("overlay-closed"))},w=Y=>Y==="hours"?Xh:Y==="minutes"?Zh:Bg,I=(Y,K=!0)=>{const le=K?M:S,he=K?+r[`${Y}Increment`]:-+r[`${Y}Increment`];te(+r[Y]+he,Y)&&n(`update:${Y}`,w(Y)(le({[Y]:+r[Y]},{[Y]:+r[`${Y}Increment`]})))},m=Y=>r.is24?Y:(Y>=12?J.value="PM":J.value="AM",eU(Y)),g=()=>{J.value==="PM"?(J.value="AM",n("update:hours",r.hours-12)):(J.value="PM",n("update:hours",r.hours+12)),n("am-pm-change",J.value)},b=Y=>{R[Y]=!0},A=(Y,K,le)=>{if(Y&&r.arrowNavigation){Array.isArray(z.value[K])?z.value[K][le]=Y:z.value[K]=[Y];const he=z.value.reduce((pe,F)=>F.map((Q,ce)=>[...pe[ce]||[],F[ce]]),[]);d(r.closeTimePickerBtn),k.value&&(he[1]=he[1].concat(k.value)),o(he,r.order)}},X=(Y,K)=>Y==="hours"&&!r.is24?n(`update:${Y}`,J.value==="PM"?K+12:K):n(`update:${Y}`,K);return t({openChildCmp:b}),(Y,K)=>{var le;return Y.disabled?vi("",!0):(bt(),Bt("div",WU,[(bt(!0),Bt(cn,null,_r(H.value,(he,pe)=>{var F,Q,ce;return bt(),Bt("div",{key:pe,class:ar(P.value)},[he.separator?(bt(),Bt(cn,{key:0},[ds(" : ")],64)):(bt(),Bt(cn,{key:1},[Ye("button",{type:"button",class:ar({dp__btn:!0,dp__inc_dec_button:!r.timePickerInline,dp__inc_dec_button_inline:r.timePickerInline,dp__tp_inline_btn_top:r.timePickerInline,dp__inc_dec_button_disabled:O.value(he.type)}),"aria-label":(F=Li(h).ariaLabels)==null?void 0:F.incrementValue(he.type),tabindex:"0",onKeydown:[wr(ge=>I(he.type),["enter"]),wr(ge=>I(he.type),["space"])],onClick:ge=>I(he.type),ref_for:!0,ref:ge=>A(ge,pe,0)},[r.timePickerInline?(bt(),Bt(cn,{key:1},[qU,XU],64)):(bt(),Bt(cn,{key:0},[Y.$slots["arrow-up"]?xn(Y.$slots,"arrow-up",{key:0}):vi("",!0),Y.$slots["arrow-up"]?vi("",!0):(bt(),Ir(Li(S4),{key:1}))],64))],42,YU),Ye("button",{type:"button","aria-label":(Q=Li(h).ariaLabels)==null?void 0:Q.openTpOverlay(he.type),class:ar(["dp__btn",V(he.type)?void 0:{dp__time_display:!0,dp__time_display_block:!r.timePickerInline,dp__time_display_inline:r.timePickerInline}]),tabindex:"0",onKeydown:[wr(ge=>j(he.type),["enter"]),wr(ge=>j(he.type),["space"])],onClick:ge=>j(he.type),ref_for:!0,ref:ge=>A(ge,pe,1)},[Y.$slots[he.type]?xn(Y.$slots,he.type,{key:0,text:E.value(he.type).text,value:E.value(he.type).value}):vi("",!0),Y.$slots[he.type]?vi("",!0):(bt(),Bt(cn,{key:1},[ds(Yi(E.value(he.type).text),1)],64))],42,ZU),Ye("button",{type:"button",class:ar({dp__btn:!0,dp__inc_dec_button:!r.timePickerInline,dp__inc_dec_button_inline:r.timePickerInline,dp__tp_inline_btn_bottom:r.timePickerInline,dp__inc_dec_button_disabled:G.value(he.type)}),"aria-label":(ce=Li(h).ariaLabels)==null?void 0:ce.decrementValue(he.type),tabindex:"0",onKeydown:[wr(ge=>I(he.type,!1),["enter"]),wr(ge=>I(he.type,!1),["space"])],onClick:ge=>I(he.type,!1),ref_for:!0,ref:ge=>A(ge,pe,2)},[r.timePickerInline?(bt(),Bt(cn,{key:1},[JU,QU],64)):(bt(),Bt(cn,{key:0},[Y.$slots["arrow-down"]?xn(Y.$slots,"arrow-down",{key:0}):vi("",!0),Y.$slots["arrow-down"]?vi("",!0):(bt(),Ir(Li(C4),{key:1}))],64))],42,KU)],64))],2)}),128)),Y.is24?vi("",!0):(bt(),Bt("div",e$,[Y.$slots["am-pm-button"]?xn(Y.$slots,"am-pm-button",{key:0,toggle:g,value:J.value}):vi("",!0),Y.$slots["am-pm-button"]?vi("",!0):(bt(),Bt("button",{key:1,ref_key:"amPmButton",ref:k,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(le=Li(h).ariaLabels)==null?void 0:le.amPmButton,tabindex:"0",onClick:g,onKeydown:[wr(mc(g,["prevent"]),["enter"]),wr(mc(g,["prevent"]),["space"])]},Yi(J.value),41,t$))])),(bt(!0),Bt(cn,null,_r(U.value,(he,pe)=>(bt(),Ir(Au,{key:pe,name:Li(s)(R[he.type]),css:Li(v)},{default:Yn(()=>[R[he.type]?(bt(),Ir($y,{key:0,items:ie(he.type),"disabled-values":Li(h).filters.times[he.type].concat($.value(he.type)),"esc-close":Y.escClose,"aria-labels":Li(h).ariaLabels,"hide-navigation":Y.hideNavigation,"onUpdate:modelValue":F=>X(he.type,F),onSelected:F=>j(he.type),onToggle:F=>j(he.type),onResetFlow:K[0]||(K[0]=F=>Y.$emit("reset-flow")),type:he.type},Bl({"button-icon":Yn(()=>[Y.$slots["clock-icon"]?xn(Y.$slots,"clock-icon",{key:0}):vi("",!0),Y.$slots["clock-icon"]?vi("",!0):(bt(),Ir(Li(T4),{key:1}))]),_:2},[Y.$slots[`${he.type}-overlay-value`]?{name:"item",fn:Yn(({item:F})=>[xn(Y.$slots,`${he.type}-overlay-value`,{text:F.text,value:F.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):vi("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),n$=["aria-label"],r$=["tabindex"],s$=["aria-label"],o$=xc({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Sf},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const r=e,{buildMatrix:o,setTimePicker:d}=Tf(),h=f_(),{hideNavigationButtons:s,defaults:v}=bd(r),{transitionName:R,showTransition:J}=r2(v.value.transitions),k=on(null),z=on(null),q=on([]),L=on(null);Ko(()=>{n("mount"),!r.timePicker&&r.arrowNavigation?o([qo(k.value)],"time"):d(!0,r.timePicker)});const O=hn(()=>r.range&&r.modelAuto?D4(r.internalModelValue):!0),G=on(!1),M=j=>({hours:Array.isArray(r.hours)?r.hours[j]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[j]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[j]:r.seconds}),S=hn(()=>{const j=[];if(r.range)for(let w=0;w<2;w++)j.push(M(w));else j.push(M(0));return j}),P=(j,w=!1,I="")=>{w||n("reset-flow"),G.value=j,n(j?"overlay-opened":"overlay-closed"),r.arrowNavigation&&d(j),_c(()=>{I!==""&&q.value[0]&&q.value[0].openChildCmp(I)})},H=hn(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!r.keepActionRow})),U=I0(h,"timePicker"),E=(j,w,I)=>r.range?w===0?[j,S.value[1][I]]:[S.value[0][I],j]:j,ie=j=>{n("update:hours",j)},te=j=>{n("update:minutes",j)},$=j=>{n("update:seconds",j)},V=()=>{if(L.value){const j=nU(L.value);j&&j.focus({preventScroll:!0})}};return t({toggleTimePicker:P}),(j,w)=>{var I;return bt(),Bt("div",null,[!j.timePicker&&!j.timePickerInline?po((bt(),Bt("button",{key:0,type:"button",class:ar(H.value),"aria-label":(I=Li(v).ariaLabels)==null?void 0:I.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:k,onKeydown:[w[0]||(w[0]=wr(m=>P(!0),["enter"])),w[1]||(w[1]=wr(m=>P(!0),["space"]))],onClick:w[2]||(w[2]=m=>P(!0))},[j.$slots["clock-icon"]?xn(j.$slots,"clock-icon",{key:0}):vi("",!0),j.$slots["clock-icon"]?vi("",!0):(bt(),Ir(Li(T4),{key:1}))],42,n$)),[[N0,!Li(s)("time")]]):vi("",!0),dn(Au,{name:Li(R)(G.value),css:Li(J)&&!j.timePickerInline},{default:Yn(()=>{var m;return[G.value||j.timePicker||j.timePickerInline?(bt(),Bt("div",{key:0,class:ar({dp__overlay:!j.timePickerInline}),ref_key:"overlayRef",ref:L,tabindex:j.timePickerInline?void 0:0},[Ye("div",{class:ar(j.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[j.$slots["time-picker-overlay"]?xn(j.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:ie,setMinutes:te,setSeconds:$}):vi("",!0),j.$slots["time-picker-overlay"]?vi("",!0):(bt(),Bt("div",{key:1,class:ar(j.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(bt(!0),Bt(cn,null,_r(S.value,(g,b)=>po((bt(),Ir(i$,Yo({key:b},{...j.$props,order:b,hours:g.hours,minutes:g.minutes,seconds:g.seconds,closeTimePickerBtn:z.value,disabled:b===0?j.fixedStart:j.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:q,"onUpdate:hours":A=>ie(E(A,b,"hours")),"onUpdate:minutes":A=>te(E(A,b,"minutes")),"onUpdate:seconds":A=>$(E(A,b,"seconds")),onMounted:V,onOverlayClosed:V,onAmPmChange:w[3]||(w[3]=A=>j.$emit("am-pm-change",A))}),Bl({_:2},[_r(Li(U),(A,X)=>({name:A,fn:Yn(Y=>[xn(j.$slots,A,Ta(Ol(Y)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[N0,b===0?!0:O.value]])),128))],2)),!j.timePicker&&!j.timePickerInline?po((bt(),Bt("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:z,class:ar(H.value),"aria-label":(m=Li(v).ariaLabels)==null?void 0:m.closeTimePicker,tabindex:"0",onKeydown:[w[4]||(w[4]=wr(g=>P(!1),["enter"])),w[5]||(w[5]=wr(g=>P(!1),["space"]))],onClick:w[6]||(w[6]=g=>P(!1))},[j.$slots["calendar-icon"]?xn(j.$slots,"calendar-icon",{key:0}):vi("",!0),j.$slots["calendar-icon"]?vi("",!0):(bt(),Ir(Li(n2),{key:1}))],42,s$)),[[N0,!Li(s)("time")]]):vi("",!0)],2)],10,r$)):vi("",!0)]}),_:3},8,["name","css"])])}}}),a$=(e,t)=>{const{isDisabled:n,matchDate:r,getWeekFromDate:o,defaults:d}=bd(t),h=on(null),s=on(qi()),v=Y=>{!Y.current&&t.hideOffsetDates||(h.value=Y.value)},R=()=>{h.value=null},J=Y=>Array.isArray(e.value)&&t.range&&e.value[0]&&h.value?Y?gc(h.value,e.value[0]):zl(h.value,e.value[0]):!0,k=(Y,K)=>{const le=()=>e.value?K?e.value[0]||null:e.value[1]:null,he=e.value&&Array.isArray(e.value)?le():null;return $s(qi(Y.value),he)},z=Y=>{const K=Array.isArray(e.value)?e.value[0]:null;return Y?!zl(h.value||null,K):!0},q=(Y,K=!0)=>(t.range||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!Y.current?!1:$s(qi(Y.value),e.value[K?0:1]):t.range?k(Y,K)&&z(K)||$s(Y.value,Array.isArray(e.value)?e.value[0]:null)&&J(K):!1,L=(Y,K,le)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?Y?!1:le?gc(e.value[0],K.value):zl(e.value[0],K.value):!1,O=Y=>!e.value||t.hideOffsetDates&&!Y.current?!1:t.range?t.modelAuto&&Array.isArray(e.value)?$s(Y.value,e.value[0]?e.value[0]:s.value):!1:t.multiDates&&Array.isArray(e.value)?e.value.some(K=>$s(K,Y.value)):$s(Y.value,e.value?e.value:s.value),G=Y=>{if(t.autoRange||t.weekPicker){if(h.value){if(t.hideOffsetDates&&!Y.current)return!1;const K=Qh(h.value,+t.autoRange),le=o(qi(h.value));return t.weekPicker?$s(le[1],qi(Y.value)):$s(K,qi(Y.value))}return!1}return!1},M=Y=>{if(t.autoRange||t.weekPicker){if(h.value){const K=Qh(h.value,+t.autoRange);if(t.hideOffsetDates&&!Y.current)return!1;const le=o(qi(h.value));return t.weekPicker?gc(Y.value,le[0])&&zl(Y.value,le[1]):gc(Y.value,h.value)&&zl(Y.value,K)}return!1}return!1},S=Y=>{if(t.autoRange||t.weekPicker){if(h.value){if(t.hideOffsetDates&&!Y.current)return!1;const K=o(qi(h.value));return t.weekPicker?$s(K[0],Y.value):$s(h.value,Y.value)}return!1}return!1},P=Y=>E4(e.value,h.value,Y.value),H=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,U=()=>t.modelAuto?D4(t.internalModelValue):!0,E=Y=>{if(Array.isArray(e.value)&&e.value.length||t.weekPicker)return!1;const K=t.range?!q(Y)&&!q(Y,!1):!0;return!n(Y.value)&&!O(Y)&&!(!Y.current&&t.hideOffsetDates)&&K},ie=Y=>t.range?t.modelAuto?H()&&O(Y):!1:O(Y),te=Y=>{var K;return t.highlight?r(Y.value,(K=t.arrMapValues)!=null&&K.highlightedDates?t.arrMapValues.highlightedDates:t.highlight):!1},$=Y=>n(Y.value)&&t.highlightDisabledDays===!1,V=Y=>t.highlightWeekDays&&t.highlightWeekDays.includes(Y.value.getDay()),j=Y=>(t.range||t.weekPicker)&&(!(d.value.multiCalendars>0)||Y.current)&&U()&&!(!Y.current&&t.hideOffsetDates)&&!O(Y)?P(Y):!1,w=Y=>{const{isRangeStart:K,isRangeEnd:le}=g(Y),he=t.range?K||le:!1;return{dp__cell_offset:!Y.current,dp__pointer:!t.disabled&&!(!Y.current&&t.hideOffsetDates)&&!n(Y.value),dp__cell_disabled:n(Y.value),dp__cell_highlight:!$(Y)&&(te(Y)||V(Y))&&!ie(Y)&&!he,dp__cell_highlight_active:!$(Y)&&(te(Y)||V(Y))&&ie(Y),dp__today:!t.noToday&&$s(Y.value,s.value)&&Y.current}},I=Y=>({dp__active_date:ie(Y),dp__date_hover:E(Y)}),m=Y=>({...b(Y),...A(Y),dp__range_between_week:j(Y)&&t.weekPicker}),g=Y=>{const K=d.value.multiCalendars>0?Y.current&&q(Y)&&U():q(Y)&&U(),le=d.value.multiCalendars>0?Y.current&&q(Y,!1)&&U():q(Y,!1)&&U();return{isRangeStart:K,isRangeEnd:le}},b=Y=>{const{isRangeStart:K,isRangeEnd:le}=g(Y);return{dp__range_start:K,dp__range_end:le,dp__range_between:j(Y)&&!t.weekPicker,dp__date_hover_start:L(E(Y),Y,!0),dp__date_hover_end:L(E(Y),Y,!1)}},A=Y=>({...b(Y),dp__cell_auto_range:M(Y),dp__cell_auto_range_start:S(Y),dp__cell_auto_range_end:G(Y)}),X=Y=>t.range?t.autoRange?A(Y):t.modelAuto?{...I(Y),...b(Y)}:b(Y):t.weekPicker?m(Y):I(Y);return{setHoverDate:v,clearHoverDate:R,getDayClassData:Y=>t.hideOffsetDates&&!Y.current?{}:{...w(Y),...X(Y),[t.dayClass?t.dayClass(Y.value):""]:!0,[t.calendarCellClassName]:!!t.calendarCellClassName}}},l$=["id","onKeydown"],c$={key:0,class:"dp__sidebar_left"},d$={key:1,class:"dp__preset_ranges"},u$=["onClick"],h$={key:2,class:"dp__sidebar_right"},p$={key:3,class:"dp__action_extra"},f$=xc({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},...Sf},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:n}){const r=e,o=hn(()=>{const{openOnTop:di,internalModelValue:$i,arrMapValues:Wi,...Nr}=r;return Nr}),{setMenuFocused:d,setShiftKey:h,control:s}=M4(),{getCalendarDays:v,defaults:R}=bd(r),J=f_(),k=on(null),z=ku({timePicker:!!(!r.enableTimePicker||r.timePicker||r.monthPicker),monthYearInput:!!r.timePicker,calendar:!1}),q=on([]),L=on([]),O=on(null),G=on(null),M=on(0),S=on(!1),P=on(0);Ko(()=>{var di;S.value=!0,!((di=r.presetRanges)!=null&&di.length)&&!J["left-sidebar"]&&!J["right-sidebar"]&&(Qe(),window.addEventListener("resize",Qe));const $i=qo(G);if($i&&!r.textInput&&!r.inline&&(d(!0),$()),$i){const Wi=Nr=>{r.allowPreventDefault&&Nr.preventDefault(),Nr.stopImmediatePropagation(),Nr.stopPropagation()};$i.addEventListener("pointerdown",Wi),$i.addEventListener("mousedown",Wi)}}),hh(()=>{window.removeEventListener("resize",Qe)});const{arrowRight:H,arrowLeft:U,arrowDown:E,arrowUp:ie}=Tf(),te=di=>{di||di===0?L.value[di].triggerTransition(m.value(di),g.value(di)):L.value.forEach(($i,Wi)=>$i.triggerTransition(m.value(Wi),g.value(Wi)))},$=()=>{const di=qo(G);di&&di.focus({preventScroll:!0})},V=()=>{var di;(di=r.flow)!=null&&di.length&&P.value!==-1&&(P.value+=1,n("flow-step",P.value),ei())},j=()=>{P.value=-1},{calendars:w,modelValue:I,month:m,year:g,time:b,updateTime:A,updateMonthYear:X,selectDate:Y,getWeekNum:K,monthYearSelect:le,handleScroll:he,handleArrow:pe,handleSwipe:F,getMarker:Q,selectCurrentDate:ce,presetDateRange:ge}=uU(r,n,V,te,P),{setHoverDate:ke,clearHoverDate:re,getDayClassData:ve}=a$(I,r),_e={modelValue:I,month:m,year:g,time:b,updateTime:A,updateMonthYear:X,selectDate:Y,presetDateRange:ge,handleMonthYearChange:di=>{q.value[0]&&q.value[0].handleMonthYearChange(di)}};ha(w,()=>{r.openOnTop&&setTimeout(()=>{n("recalculate-position")},0)},{deep:!0});const oe=I0(J,"calendar"),ye=I0(J,"action"),Se=I0(J,"timePicker"),Re=I0(J,"monthYear"),Oe=hn(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ue=hn(()=>Jj(r.yearRange,r.reverseYears)),st=hn(()=>Qj(r.formatLocale,r.locale,r.monthNameFormat)),Qe=()=>{const di=qo(k);di&&(M.value=di.getBoundingClientRect().width)},qe=hn(()=>di=>v(m.value(di),g.value(di))),xe=hn(()=>R.value.multiCalendars>0?[...Array(R.value.multiCalendars).keys()]:[0]),Ie=hn(()=>di=>di===1),Be=hn(()=>r.monthPicker||r.timePicker||r.yearPicker),Xe=hn(()=>({dp__menu_inner:!0,dp__flex_display:R.value.multiCalendars>0})),Ke=hn(()=>({dp__instance_calendar:R.value.multiCalendars>0})),pt=hn(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly})),Tt=hn(()=>di=>gi(qe,di)),Lt=hn(()=>({dp__menu:!0,dp__menu_index:!r.inline,dp__relative:r.inline,[r.menuClassName]:!!r.menuClassName})),gi=(di,$i)=>di.value($i).map(Wi=>({...Wi,days:Wi.days.map(Nr=>(Nr.marker=Q(Nr),Nr.classData=ve(Nr),Nr))})),Wt=di=>{di.stopPropagation(),di.stopImmediatePropagation()},pi=()=>{r.escClose&&n("close-picker")},Gi=(di,$i=!1)=>{Y(di,$i),r.spaceConfirm&&n("select-date")},ht=di=>{var $i;($i=r.flow)!=null&&$i.length&&(z[di]=!0,Object.keys(z).filter(Wi=>!z[Wi]).length||ei())},It=(di,$i,Wi,Nr,...mo)=>{if(r.flow[P.value]===di){const wn=Nr?$i.value[0]:$i.value;wn&&wn[Wi](...mo)}},ei=()=>{It("month",q,"toggleMonthPicker",!0,!0),It("year",q,"toggleYearPicker",!0,!0),It("calendar",O,"toggleTimePicker",!1,!1,!0),It("time",O,"toggleTimePicker",!1,!0,!0);const di=r.flow[P.value];(di==="hours"||di==="minutes"||di==="seconds")&&It(di,O,"toggleTimePicker",!1,!0,!0,di)},Pi=di=>{if(r.arrowNavigation){if(di==="up")return ie();if(di==="down")return E();if(di==="left")return U();if(di==="right")return H()}else di==="left"||di==="up"?pe("left",0,di==="up"):pe("right",0,di==="down")},an=di=>{h(di.shiftKey),!r.disableMonthYearSelect&&di.code==="Tab"&&di.target.classList.contains("dp__menu")&&s.value.shiftKeyInMenu&&(di.preventDefault(),di.stopImmediatePropagation(),n("close-picker"))},Gn=()=>{$(),n("time-picker-close")},Kr=di=>{var $i,Wi,Nr,mo,wn;($i=O.value)==null||$i.toggleTimePicker(!1,!1),(Nr=(Wi=q.value)==null?void 0:Wi[di])==null||Nr.toggleMonthPicker(!1,!1),(wn=(mo=q.value)==null?void 0:mo[di])==null||wn.toggleYearPicker(!1,!1)};return t({updateMonthYear:X,switchView:(di,$i=0)=>{var Wi,Nr,mo,wn,ao;return di==="month"?(Nr=(Wi=q.value)==null?void 0:Wi[$i])==null?void 0:Nr.toggleMonthPicker(!1,!0):di==="year"?(wn=(mo=q.value)==null?void 0:mo[$i])==null?void 0:wn.toggleYearPicker(!1,!0):di==="time"?(ao=O.value)==null?void 0:ao.toggleTimePicker(!0,!1):Kr($i)}}),(di,$i)=>{var Wi;return bt(),Ir(Au,{appear:"",name:(Wi=Li(R).transitions)==null?void 0:Wi.menuAppear,css:!!di.transitions},{default:Yn(()=>{var Nr,mo;return[Ye("div",{id:di.uid?`dp-menu-${di.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:G,role:"dialog",class:ar(Lt.value),onMouseleave:$i[14]||($i[14]=(...wn)=>Li(re)&&Li(re)(...wn)),onClick:Wt,onKeydown:[wr(pi,["esc"]),$i[15]||($i[15]=wr(mc(wn=>Pi("left"),["prevent"]),["left"])),$i[16]||($i[16]=wr(mc(wn=>Pi("up"),["prevent"]),["up"])),$i[17]||($i[17]=wr(mc(wn=>Pi("down"),["prevent"]),["down"])),$i[18]||($i[18]=wr(mc(wn=>Pi("right"),["prevent"]),["right"])),an]},[(di.disabled||di.readonly)&&di.inline?(bt(),Bt("div",{key:0,class:ar(pt.value)},null,2)):vi("",!0),!di.inline&&!di.teleportCenter?(bt(),Bt("div",{key:1,class:ar(Oe.value)},null,2)):vi("",!0),Ye("div",{class:ar({dp__menu_content_wrapper:((Nr=di.presetRanges)==null?void 0:Nr.length)||!!di.$slots["left-sidebar"]||!!di.$slots["right-sidebar"]})},[di.$slots["left-sidebar"]?(bt(),Bt("div",c$,[xn(di.$slots,"left-sidebar",Ta(Ol(_e)))])):vi("",!0),(mo=di.presetRanges)!=null&&mo.length?(bt(),Bt("div",d$,[(bt(!0),Bt(cn,null,_r(di.presetRanges,(wn,ao)=>(bt(),Bt("div",{key:ao,style:el(wn.style||{}),class:"dp__preset_range",onClick:Ln=>Li(ge)(wn.range,!!wn.slot)},[wn.slot?xn(di.$slots,wn.slot,{key:0,presetDateRange:Li(ge),label:wn.label,range:wn.range}):(bt(),Bt(cn,{key:1},[ds(Yi(wn.label),1)],64))],12,u$))),128))])):vi("",!0),Ye("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:k,role:"document"},[Ye("div",{class:ar(Xe.value)},[(bt(!0),Bt(cn,null,_r(xe.value,(wn,ao)=>(bt(),Bt("div",{key:wn,class:ar(Ke.value)},[!di.disableMonthYearSelect&&!di.timePicker?(bt(),Ir(HU,Yo({key:0,ref_for:!0,ref:Ln=>{Ln&&(q.value[ao]=Ln)},months:st.value,years:Ue.value,month:Li(m)(wn),year:Li(g)(wn),instance:wn,"internal-model-value":e.internalModelValue},o.value,{onMount:$i[0]||($i[0]=Ln=>ht("monthYearInput")),onResetFlow:j,onUpdateMonthYear:Ln=>Li(X)(wn,Ln),onMonthYearSelect:Li(le),onOverlayClosed:$}),Bl({_:2},[_r(Li(Re),(Ln,ja)=>({name:Ln,fn:Yn(il=>[xn(di.$slots,Ln,Ta(Ol(il)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):vi("",!0),dn(LU,Yo({ref_for:!0,ref:Ln=>{Ln&&(L.value[ao]=Ln)},"specific-mode":Be.value,"get-week-num":Li(K),instance:wn,"mapped-dates":Tt.value(wn),month:Li(m)(wn),year:Li(g)(wn)},o.value,{onSelectDate:Ln=>Li(Y)(Ln,!Ie.value(wn)),onHandleSpace:Ln=>Gi(Ln,!Ie.value(wn)),onSetHoverDate:$i[1]||($i[1]=Ln=>Li(ke)(Ln)),onHandleScroll:Ln=>Li(he)(Ln,wn),onHandleSwipe:Ln=>Li(F)(Ln,wn),onMount:$i[2]||($i[2]=Ln=>ht("calendar")),onResetFlow:j,onTooltipOpen:$i[3]||($i[3]=Ln=>di.$emit("tooltip-open",Ln)),onTooltipClose:$i[4]||($i[4]=Ln=>di.$emit("tooltip-close",Ln))}),Bl({_:2},[_r(Li(oe),(Ln,ja)=>({name:Ln,fn:Yn(il=>[xn(di.$slots,Ln,Ta(Ol({...il})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),Ye("div",null,[di.$slots["time-picker"]?xn(di.$slots,"time-picker",Ta(Yo({key:0},{time:Li(b),updateTime:Li(A)}))):(bt(),Bt(cn,{key:1},[di.enableTimePicker&&!di.monthPicker&&!di.weekPicker?(bt(),Ir(o$,Yo({key:0,ref_key:"timePickerRef",ref:O,hours:Li(b).hours,minutes:Li(b).minutes,seconds:Li(b).seconds,"internal-model-value":e.internalModelValue},o.value,{onMount:$i[5]||($i[5]=wn=>ht("timePicker")),"onUpdate:hours":$i[6]||($i[6]=wn=>Li(A)(wn)),"onUpdate:minutes":$i[7]||($i[7]=wn=>Li(A)(wn,!1)),"onUpdate:seconds":$i[8]||($i[8]=wn=>Li(A)(wn,!1,!0)),onResetFlow:j,onOverlayClosed:Gn,onOverlayOpened:$i[9]||($i[9]=wn=>di.$emit("time-picker-open",wn)),onAmPmChange:$i[10]||($i[10]=wn=>di.$emit("am-pm-change",wn))}),Bl({_:2},[_r(Li(Se),(wn,ao)=>({name:wn,fn:Yn(Ln=>[xn(di.$slots,wn,Ta(Ol(Ln)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):vi("",!0)],64))])],512),di.$slots["right-sidebar"]?(bt(),Bt("div",h$,[xn(di.$slots,"right-sidebar",Ta(Ol(_e)))])):vi("",!0),di.$slots["action-extra"]?(bt(),Bt("div",p$,[di.$slots["action-extra"]?xn(di.$slots,"action-extra",{key:0,selectCurrentDate:Li(ce)}):vi("",!0)])):vi("",!0)],2),!di.autoApply||di.keepActionRow?(bt(),Ir(SU,Yo({key:2,"menu-mount":S.value,"calendar-width":M.value,"internal-model-value":e.internalModelValue},o.value,{onClosePicker:$i[11]||($i[11]=wn=>di.$emit("close-picker")),onSelectDate:$i[12]||($i[12]=wn=>di.$emit("select-date")),onInvalidSelect:$i[13]||($i[13]=wn=>di.$emit("invalid-select")),onSelectNow:Li(ce)}),Bl({_:2},[_r(Li(ye),(wn,ao)=>({name:wn,fn:Yn(Ln=>[xn(di.$slots,wn,Ta(Ol({...Ln})))])}))]),1040,["menu-mount","calendar-width","internal-model-value","onSelectNow"])):vi("",!0)],42,l$)]}),_:3},8,["name","css"])}}}),m$=typeof window<"u"?window:void 0,k3=()=>{},g$=e=>QT()?(eS(e),!0):!1,y$=(e,t,n,r)=>{if(!e)return k3;let o=k3;const d=ha(()=>Li(e),s=>{o(),s&&(s.addEventListener(t,n,r),o=()=>{s.removeEventListener(t,n,r),o=k3})},{immediate:!0,flush:"post"}),h=()=>{d(),o()};return g$(h),h},_$=(e,t,n,r={})=>{const{window:o=m$,event:d="pointerdown"}=r;return o?y$(o,d,h=>{const s=qo(e),v=qo(t);!s||!v||s===h.target||h.composedPath().includes(s)||h.composedPath().includes(v)||n(h)},{passive:!0}):void 0},v$=xc({__name:"VueDatePicker",props:{...Sf},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:n}){const r=e,o=f_(),d=on(!1),h=ff(r,"modelValue"),s=ff(r,"timezone"),v=on(null),R=on(null),J=on(!1),k=on(null),z=ku({disabledDates:null,allowedDates:null,highlightedDates:null}),{setMenuFocused:q,setShiftKey:L}=M4(),{clearArrowNav:O}=Tf(),{validateDate:G,isValidTime:M,defaults:S,mapDatesArrToMap:P}=bd(r);Ko(()=>{m(r.modelValue),r.inline||(j(k.value).addEventListener("scroll",le),window.addEventListener("resize",he)),r.inline&&(d.value=!0),P(z)}),hh(()=>{if(!r.inline){const xe=j(k.value);xe&&xe.removeEventListener("scroll",le),window.removeEventListener("resize",he)}});const H=I0(o,"all",r.presetRanges),U=I0(o,"input");ha([h,s],()=>{m(h.value)},{deep:!0});const{openOnTop:E,menuStyle:ie,resetPosition:te,setMenuPosition:$,setInitialPosition:V,getScrollableParent:j}=fU(v,R,n,r),{inputValue:w,internalModelValue:I,parseExternalModelValue:m,emitModelValue:g,formatInputValue:b,checkBeforeEmit:A}=hU(n,r,J),X=hn(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:r.inline,dp__flex_display_with_input:r.inlineWithInput})),Y=hn(()=>r.dark?"dp__theme_dark":"dp__theme_light"),K=hn(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:r.inline}:{class:"dp__outer_menu_wrap"}),le=()=>{d.value&&(r.closeOnScroll?_e():$())},he=()=>{d.value&&$()},pe=async()=>{var xe,Ie,Be;!r.disabled&&!r.readonly&&(te(),await _c(),d.value=!0,await _c(),V(),await _c(),$(),delete ie.value.opacity,!((xe=S.value.transitions)!=null&&xe.menuAppear)&&r.transitions&&((Be=(Ie=v.value)==null?void 0:Ie.$el)==null||Be.classList.add("dp__menu_transitioned")),d.value&&n("open"),d.value||ve(),m(r.modelValue))},F=()=>{w.value="",ve(),n("update:model-value",null),n("cleared"),r.closeOnClearValue&&_e()},Q=()=>{const xe=I.value;return!xe||!Array.isArray(xe)&&G(xe)?!0:Array.isArray(xe)?xe.length===2&&G(xe[0])&&G(xe[1])?!0:G(xe[0]):!1},ce=()=>{A()&&Q()?(g(),_e()):n("invalid-select",I.value)},ge=xe=>{ke(),g(),r.closeOnAutoApply&&!xe&&_e()},ke=()=>{R.value&&r.textInput&&R.value.setParsedDate(I.value)},re=(xe=!1)=>{r.autoApply&&M(I.value)&&Q()&&(r.range&&Array.isArray(I.value)?(r.partialRange||I.value.length===2)&&ge(xe):ge(xe))},ve=()=>{r.textInput||(I.value=null)},_e=()=>{r.inline||(d.value&&(d.value=!1,q(!1),L(!1),O(),n("closed"),V(),w.value&&m(h.value)),ve())},oe=(xe,Ie)=>{if(!xe){I.value=null;return}I.value=xe,Ie&&(ce(),n("text-submit"))},ye=()=>{r.autoApply&&M(I.value)&&g(),ke()},Se=()=>d.value?_e():pe(),Re=xe=>{I.value=xe},Oe=()=>{r.textInput&&(J.value=!0,b()),n("focus")},Ue=()=>{r.textInput&&(J.value=!1,m(r.modelValue)),n("blur")},st=xe=>{v.value&&v.value.updateMonthYear(0,{month:UE(xe.month),year:UE(xe.year)})},Qe=xe=>{m(xe||r.modelValue)},qe=(xe,Ie)=>{var Be;(Be=v.value)==null||Be.switchView(xe,Ie)};return _$(v,R,r.onClickOutside?()=>r.onClickOutside(Q):_e),t({closeMenu:_e,selectDate:ce,clearValue:F,openMenu:pe,onScroll:le,formatInputValue:b,updateInternalModelValue:Re,setMonthYear:st,parseModel:Qe,switchView:qe}),(xe,Ie)=>(bt(),Bt("div",{class:ar(X.value),ref_key:"pickerWrapperRef",ref:k},[dn(xU,Yo({ref_key:"inputRef",ref:R,"is-menu-open":d.value,"input-value":Li(w),"onUpdate:inputValue":Ie[0]||(Ie[0]=Be=>ca(w)?w.value=Be:null)},xe.$props,{onClear:F,onOpen:pe,onSetInputDate:oe,onSetEmptyDate:Li(g),onSelectDate:ce,onToggle:Se,onClose:_e,onFocus:Oe,onBlur:Ue,onRealBlur:Ie[1]||(Ie[1]=Be=>J.value=!1)}),Bl({_:2},[_r(Li(U),(Be,Xe)=>({name:Be,fn:Yn(Ke=>[xn(xe.$slots,Be,Ta(Ol(Ke)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),d.value?(bt(),Ir(Rb(xe.teleport?CS:"div"),Ta(Yo({key:0},K.value)),{default:Yn(()=>[d.value?(bt(),Ir(f$,Yo({key:0,ref_key:"dpMenuRef",ref:v,class:Y.value,style:xe.inline?void 0:Li(ie),"open-on-top":Li(E),"arr-map-values":z},xe.$props,{"internal-model-value":Li(I),"onUpdate:internalModelValue":Ie[2]||(Ie[2]=Be=>ca(I)?I.value=Be:null),onClosePicker:_e,onSelectDate:ce,onAutoApply:re,onTimeUpdate:ye,onFlowStep:Ie[3]||(Ie[3]=Be=>xe.$emit("flow-step",Be)),onUpdateMonthYear:Ie[4]||(Ie[4]=Be=>xe.$emit("update-month-year",Be)),onInvalidSelect:Ie[5]||(Ie[5]=Be=>xe.$emit("invalid-select",Li(I))),onInvalidFixedRange:Ie[6]||(Ie[6]=Be=>xe.$emit("invalid-fixed-range",Be)),onRecalculatePosition:Li($),onTooltipOpen:Ie[7]||(Ie[7]=Be=>xe.$emit("tooltip-open",Be)),onTooltipClose:Ie[8]||(Ie[8]=Be=>xe.$emit("tooltip-close",Be)),onTimePickerOpen:Ie[9]||(Ie[9]=Be=>xe.$emit("time-picker-open",Be)),onTimePickerClose:Ie[10]||(Ie[10]=Be=>xe.$emit("time-picker-close",Be)),onAmPmChange:Ie[11]||(Ie[11]=Be=>xe.$emit("am-pm-change",Be)),onRangeStart:Ie[12]||(Ie[12]=Be=>xe.$emit("range-start",Be)),onRangeEnd:Ie[13]||(Ie[13]=Be=>xe.$emit("range-end",Be))}),Bl({_:2},[_r(Li(H),(Be,Xe)=>({name:Be,fn:Yn(Ke=>[xn(xe.$slots,Be,Ta(Ol({...Ke})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])):vi("",!0)]),_:3},16)):vi("",!0)],2))}}),D5=(()=>{const e=v$;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),x$=Object.freeze(Object.defineProperty({__proto__:null,default:D5},Symbol.toStringTag,{value:"Module"}));Object.entries(x$).forEach(([e,t])=>{e!=="default"&&(D5[e]=t)});var I4={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ra,function(){var n,r,o;function d(s,v){if(!n)n=v;else if(!r)r=v;else{var R="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk); self.onerror = null;",J={};n(J),o=v(J),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(o.workerUrl=window.URL.createObjectURL(new Blob([R],{type:"text/javascript"})))}}d(["exports"],function(s){var v=typeof self<"u"?self:{},R="2.12.0";let J;const k={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(J==null){const a=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{J={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):a}catch{J=a}}return J},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},z={supported:!1,testSupport:function(a){!O&&L&&(G?M(a):q=a)}};let q,L,O=!1,G=!1;function M(a){const i=a.createTexture();a.bindTexture(a.TEXTURE_2D,i);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,L),a.isContextLost())return;z.supported=!0}catch{}a.deleteTexture(i),O=!0}v.document&&(L=v.document.createElement("img"),L.onload=function(){q&&M(q),q=null,G=!0},L.onerror=function(){O=!0,q=null},L.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const S="01";var P=H;function H(a,i,l,u){this.cx=3*a,this.bx=3*(l-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(u-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=i,this.p2x=l,this.p2y=u}H.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,i){if(i===void 0&&(i=1e-6),a<0)return 0;if(a>1)return 1;for(var l=a,u=0;u<8;u++){var f=this.sampleCurveX(l)-a;if(Math.abs(f)<i)return l;var x=this.sampleCurveDerivativeX(l);if(Math.abs(x)<1e-6)break;l-=f/x}var C=0,N=1;for(l=a,u=0;u<20&&(f=this.sampleCurveX(l),!(Math.abs(f-a)<i));u++)a>f?C=l:N=l,l=.5*(N-C)+C;return l},solve:function(a,i){return this.sampleCurveY(this.solveCurveX(a,i))}};var U=E;function E(a,i){this.x=a,this.y=i}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,i){return this.clone()._rotateAround(a,i)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var i=a.x-this.x,l=a.y-this.y;return i*i+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,i){return Math.atan2(this.x*i-this.y*a,this.x*a+this.y*i)},_matMult:function(a){var i=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=i,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var i=Math.cos(a),l=Math.sin(a),u=l*this.x+i*this.y;return this.x=i*this.x-l*this.y,this.y=u,this},_rotateAround:function(a,i){var l=Math.cos(a),u=Math.sin(a),f=i.y+u*(this.x-i.x)+l*(this.y-i.y);return this.x=i.x+l*(this.x-i.x)-u*(this.y-i.y),this.y=f,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},E.convert=function(a){return a instanceof E?a:Array.isArray(a)?new E(a[0],a[1]):a};const ie=Math.PI/180,te=180/Math.PI;function $(a){return a*ie}function V(a){return a*te}const j=[[0,0],[1,0],[1,1],[0,1]];function w(a){if(a<=0)return 0;if(a>=1)return 1;const i=a*a,l=i*a;return 4*(a<.5?l:3*(a-i)+l-.75)}function I(a,i,l,u){const f=new P(a,i,l,u);return function(x){return f.solve(x)}}const m=I(.25,.1,.25,1);function g(a,i,l){return Math.min(l,Math.max(i,a))}function b(a,i,l){return(l=g((l-a)/(i-a),0,1))*l*(3-2*l)}function A(a,i,l){const u=l-i,f=((a-i)%u+u)%u+i;return f===i?l:f}function X(a,i,l){if(!a.length)return l(null,[]);let u=a.length;const f=new Array(a.length);let x=null;a.forEach((C,N)=>{i(C,(ee,ne)=>{ee&&(x=ee),f[N]=ne,--u==0&&l(x,f)})})}function Y(a){const i=[];for(const l in a)i.push(a[l]);return i}function K(a,...i){for(const l of i)for(const u in l)a[u]=l[u];return a}let le=1;function he(){return le++}function pe(){return function a(i){return i?(i^Math.random()*(16>>i/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,a)}()}function F(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Q(a){return!!a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}function ce(a,i){a.forEach(l=>{i[l]&&(i[l]=i[l].bind(i))})}function ge(a,i){return a.indexOf(i,a.length-i.length)!==-1}function ke(a,i,l){const u={};for(const f in a)u[f]=i.call(l||this,a[f],f,a);return u}function re(a,i,l){const u={};for(const f in a)i.call(l||this,a[f],f,a)&&(u[f]=a[f]);return u}function ve(a){return Array.isArray(a)?a.map(ve):typeof a=="object"&&a?ke(a,ve):a}const _e={};function oe(a){_e[a]||(typeof console<"u"&&console.warn(a),_e[a]=!0)}function ye(a,i,l){return(l.y-a.y)*(i.x-a.x)>(i.y-a.y)*(l.x-a.x)}function Se(a){let i=0;for(let l,u,f=0,x=a.length,C=x-1;f<x;C=f++)l=a[f],u=a[C],i+=(u.x-l.x)*(l.y+u.y);return i}function Re(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Oe(a){const i={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,u,f,x)=>{const C=f||x;return i[u]=!C||C.toLowerCase(),""}),i["max-age"]){const l=parseInt(i["max-age"],10);isNaN(l)?delete i["max-age"]:i["max-age"]=l}return i}let Ue=null;function st(a){if(Ue==null){const i=a.navigator?a.navigator.userAgent:null;Ue=!!a.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return Ue}function Qe(a){try{const i=v[a];return i.setItem("_mapbox_test_",1),i.removeItem("_mapbox_test_"),!0}catch{return!1}}function qe(a,i){return[a[4*i],a[4*i+1],a[4*i+2],a[4*i+3]]}const xe="mapbox-tiles";let Ie,Be,Xe=500,Ke=50;function pt(){try{return v.caches}catch{}}function Tt(){pt()&&!Ie&&(Ie=v.caches.open(xe))}function Lt(a){const i=a.indexOf("?");if(i<0)return a;const l=function(f){const x=f.indexOf("?");return x>0?f.slice(x+1).split("&"):[]}(a),u=l.filter(f=>{const x=f.split("=");return x[0]==="language"||x[0]==="worldview"});return u.length?`${a.slice(0,i)}?${u.join("&")}`:a.slice(0,i)}let gi=1/0;const Wt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Wt);class pi extends Error{constructor(i,l,u){l===401&&Wi(u)&&(i+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(i),this.status=l,this.url=u}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Gi=Re()?()=>self.worker&&self.worker.referrer:()=>(v.location.protocol==="blob:"?v.parent:v).location.href,ht=function(a,i){if(!(/^file:/.test(l=a.url)||/^file:/.test(Gi())&&!/^\w+:/.test(l))){if(v.fetch&&v.Request&&v.AbortController&&v.Request.prototype.hasOwnProperty("signal"))return function(u,f){const x=new v.AbortController,C=new v.Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,referrer:Gi(),signal:x.signal});let N=!1,ee=!1;const ne=(fe=C.url).indexOf("sku=")>0&&Wi(fe);var fe;u.type==="json"&&C.headers.set("Accept","application/json");const Te=(Le,ze,Ge)=>{if(ee)return;if(Le&&Le.message!=="SecurityError"&&oe(Le),ze&&Ge)return Ee(ze);const tt=Date.now();v.fetch(C).then(yt=>{if(yt.ok){const kt=ne?yt.clone():null;return Ee(yt,kt,tt)}return f(new pi(yt.statusText,yt.status,u.url))}).catch(yt=>{yt.code!==20&&f(new Error(yt.message))})},Ee=(Le,ze,Ge)=>{(u.type==="arrayBuffer"?Le.arrayBuffer():u.type==="json"?Le.json():Le.text()).then(tt=>{ee||(ze&&Ge&&function(yt,kt,gt){if(Tt(),!Ie)return;const wt={status:kt.status,statusText:kt.statusText,headers:new v.Headers};kt.headers.forEach((ti,Qt)=>wt.headers.set(Qt,ti));const Dt=Oe(kt.headers.get("Cache-Control")||"");if(Dt["no-store"])return;Dt["max-age"]&&wt.headers.set("Expires",new Date(gt+1e3*Dt["max-age"]).toUTCString());const At=wt.headers.get("Expires");At&&(new Date(At).getTime()-gt<42e4||function(ti,Qt){if(Be===void 0)try{new Response(new ReadableStream),Be=!0}catch{Be=!1}Be?Qt(ti.body):ti.blob().then(Qt)}(kt,ti=>{const Qt=new v.Response(ti,wt);Tt(),Ie&&Ie.then(_i=>_i.put(Lt(yt.url),Qt)).catch(_i=>oe(_i.message))}))}(C,ze,Ge),N=!0,f(null,tt,Le.headers.get("Cache-Control"),Le.headers.get("Expires")))}).catch(tt=>{ee||f(new Error(tt.message))})};return ne?function(Le,ze){if(Tt(),!Ie)return ze(null);const Ge=Lt(Le.url);Ie.then(tt=>{tt.match(Ge).then(yt=>{const kt=function(gt){if(!gt)return!1;const wt=new Date(gt.headers.get("Expires")||0),Dt=Oe(gt.headers.get("Cache-Control")||"");return wt>Date.now()&&!Dt["no-cache"]}(yt);tt.delete(Ge),kt&&tt.put(Ge,yt.clone()),ze(null,yt,kt)}).catch(ze)}).catch(ze)}(C,Te):Te(null,null),{cancel:()=>{ee=!0,N||x.abort()}}}(a,i);if(Re()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,i,void 0,!0)}var l;return function(u,f){const x=new v.XMLHttpRequest;x.open(u.method||"GET",u.url,!0),u.type==="arrayBuffer"&&(x.responseType="arraybuffer");for(const C in u.headers)x.setRequestHeader(C,u.headers[C]);return u.type==="json"&&(x.responseType="text",x.setRequestHeader("Accept","application/json")),x.withCredentials=u.credentials==="include",x.onerror=()=>{f(new Error(x.statusText))},x.onload=()=>{if((x.status>=200&&x.status<300||x.status===0)&&x.response!==null){let C=x.response;if(u.type==="json")try{C=JSON.parse(x.response)}catch(N){return f(N)}f(null,C,x.getResponseHeader("Cache-Control"),x.getResponseHeader("Expires"))}else f(new pi(x.statusText,x.status,u.url))},x.send(u.body),{cancel:()=>x.abort()}}(a,i)},It=function(a,i){return ht(K(a,{type:"arrayBuffer"}),i)};function ei(a){const i=v.document.createElement("a");return i.href=a,i.protocol===v.document.location.protocol&&i.host===v.document.location.host}const Pi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let an,Gn;an=[],Gn=0;const Kr=function(a,i){if(z.supported&&(a.headers||(a.headers={}),a.headers.accept="image/webp,*/*"),Gn>=k.MAX_PARALLEL_IMAGE_REQUESTS){const x={requestParameters:a,callback:i,cancelled:!1,cancel(){this.cancelled=!0}};return an.push(x),x}Gn++;let l=!1;const u=()=>{if(!l)for(l=!0,Gn--;an.length&&Gn<k.MAX_PARALLEL_IMAGE_REQUESTS;){const x=an.shift(),{requestParameters:C,callback:N,cancelled:ee}=x;ee||(x.cancel=Kr(C,N).cancel)}},f=It(a,(x,C,N,ee)=>{u(),x?i(x):C&&(v.createImageBitmap?function(ne,fe){const Te=new v.Blob([new Uint8Array(ne)],{type:"image/png"});v.createImageBitmap(Te).then(Ee=>{fe(null,Ee)}).catch(Ee=>{fe(new Error(`Could not load image because of ${Ee.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(C,(ne,fe)=>i(ne,fe,N,ee)):function(ne,fe){const Te=new v.Image,Ee=v.URL;Te.onload=()=>{fe(null,Te),Ee.revokeObjectURL(Te.src),Te.onload=null,v.requestAnimationFrame(()=>{Te.src=Pi})},Te.onerror=()=>fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Le=new v.Blob([new Uint8Array(ne)],{type:"image/png"});Te.src=ne.byteLength?Ee.createObjectURL(Le):Pi}(C,(ne,fe)=>i(ne,fe,N,ee)))});return{cancel:()=>{f.cancel(),u()}}},di="NO_ACCESS_TOKEN";function $i(a){return a.indexOf("mapbox:")===0}function Wi(a){return k.API_URL_REGEX.test(a)}function Nr(a){return k.API_CDN_URL_REGEX.test(a)}function mo(a){return k.API_STYLE_REGEX.test(a)&&!wn(a)}function wn(a){return k.API_SPRITE_REGEX.test(a)}const ao=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ln(a){const i=a.match(ao);if(!i)throw new Error("Unable to parse URL object");return{protocol:i[1],authority:i[2],path:i[3]||"/",params:i[4]?i[4].split("&"):[]}}function ja(a){const i=a.params.length?`?${a.params.join("&")}`:"";return`${a.protocol}://${a.authority}${a.path}${i}`}function il(a){if(!a)return null;const i=a.split(".");if(!i||i.length!==3)return null;try{return JSON.parse(decodeURIComponent(v.atob(i[1]).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class ft{constructor(i){this.type=i,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(i){const l=il(k.ACCESS_TOKEN);let u="";return u=l&&l.u?v.btoa(encodeURIComponent(l.u).replace(/%([0-9A-F]{2})/g,(f,x)=>String.fromCharCode(+("0x"+x)))):k.ACCESS_TOKEN||"",i?`mapbox.eventData.${i}:${u}`:`mapbox.eventData:${u}`}fetchEventData(){const i=Qe("localStorage"),l=this.getStorageKey(),u=this.getStorageKey("uuid");if(i)try{const f=v.localStorage.getItem(l);f&&(this.eventData=JSON.parse(f));const x=v.localStorage.getItem(u);x&&(this.anonId=x)}catch{oe("Unable to read from LocalStorage")}}saveEventData(){const i=Qe("localStorage"),l=this.getStorageKey(),u=this.getStorageKey("uuid");if(i)try{v.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&v.localStorage.setItem(l,JSON.stringify(this.eventData))}catch{oe("Unable to write to LocalStorage")}}processRequests(i){}postEvent(i,l,u,f){if(!k.EVENTS_URL)return;const x=Ln(k.EVENTS_URL);x.params.push(`access_token=${f||k.ACCESS_TOKEN||""}`);const C={event:this.type,created:new Date(i).toISOString()},N=l?K(C,l):C,ee={url:ja(x),headers:{"Content-Type":"text/plain"},body:JSON.stringify([N])};this.pendingRequest=function(ne,fe){return ht(K(ne,{method:"POST"}),fe)}(ee,ne=>{this.pendingRequest=null,u(ne),this.saveEventData(),this.processRequests(f)})}queueRequest(i,l){this.queue.push(i),this.processRequests(l)}}const Ne=new class extends ft{constructor(a){super("appUserTurnstile"),this._customAccessToken=a}postTurnstileEvent(a,i){k.EVENTS_URL&&k.ACCESS_TOKEN&&Array.isArray(a)&&a.some(l=>$i(l)||Wi(l))&&this.queueRequest(Date.now(),i)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const i=il(k.ACCESS_TOKEN),l=i?i.u:k.ACCESS_TOKEN;let u=l!==this.eventData.tokenU;Q(this.anonId)||(this.anonId=pe(),u=!0);const f=this.queue.shift();if(this.eventData.lastSuccess){const x=new Date(this.eventData.lastSuccess),C=new Date(f),N=(f-this.eventData.lastSuccess)/864e5;u=u||N>=1||N<-1||x.getDate()!==C.getDate()}else u=!0;u?this.postEvent(f,{sdkIdentifier:"mapbox-gl-js",sdkVersion:R,skuId:S,"enabled.telemetry":!1,userId:this.anonId},x=>{x||(this.eventData.lastSuccess=f,this.eventData.tokenU=l)},a):this.processRequests()}},He=Ne.postTurnstileEvent.bind(Ne),dt=new class extends ft{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(a,i,l,u){this.skuToken=i,this.errorCb=u,k.EVENTS_URL&&(l||k.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(di)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:l}=this.queue.shift();i&&this.success[i]||(this.anonId||this.fetchEventData(),Q(this.anonId)||(this.anonId=pe()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:R,skuId:S,skuToken:this.skuToken,userId:this.anonId},u=>{u?this.errorCb(u):i&&(this.success[i]=!0)},a))}},_t=dt.postMapLoadEvent.bind(dt),Ot=new class extends ft{constructor(){super("gljs.performance")}postPerformanceEvent(a,i){k.EVENTS_URL&&(a||k.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:i},a)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:i,performanceData:l}=this.queue.shift(),u=function(f){const x=v.performance.getEntriesByType("resource"),C=v.performance.getEntriesByType("mark"),N=function(Ee){const Le={};if(Ee){for(const ze in Ee)if(ze!=="other")for(const Ge of Ee[ze]){const tt=`${ze}ResolveRangeMin`,yt=`${ze}ResolveRangeMax`,kt=`${ze}RequestCount`,gt=`${ze}RequestCachedCount`;Le[tt]=Math.min(Le[tt]||1/0,Ge.startTime),Le[yt]=Math.max(Le[yt]||-1/0,Ge.responseEnd);const wt=Dt=>{Le[Dt]===void 0&&(Le[Dt]=0),++Le[Dt]};Ge.transferSize!==void 0&&Ge.transferSize===0&&wt(gt),wt(kt)}}return Le}(function(Ee,Le){const ze={};if(Ee)for(const Ge of Ee){const tt=Le(Ge);ze[tt]===void 0&&(ze[tt]=[]),ze[tt].push(Ge)}return ze}(x,Di)),ee=v.devicePixelRatio,ne=v.navigator.connection||v.navigator.mozConnection||v.navigator.webkitConnection,fe={counters:[],metadata:[],attributes:[]},Te=(Ee,Le,ze)=>{ze!=null&&Ee.push({name:Le,value:ze.toString()})};for(const Ee in N)Te(fe.counters,Ee,N[Ee]);if(f.interactionRange[0]!==1/0&&f.interactionRange[1]!==-1/0&&(Te(fe.counters,"interactionRangeMin",f.interactionRange[0]),Te(fe.counters,"interactionRangeMax",f.interactionRange[1])),C)for(const Ee of Object.keys(xi)){const Le=xi[Ee],ze=C.find(Ge=>Ge.name===Le);ze&&Te(fe.counters,Le,ze.startTime)}return Te(fe.counters,"visibilityHidden",f.visibilityHidden),Te(fe.attributes,"style",function(Ee){if(Ee)for(const Le of Ee){const ze=Le.name.split("?")[0];if(mo(ze)){const Ge=ze.split("/").slice(-2);if(Ge.length===2)return`mapbox://styles/${Ge[0]}/${Ge[1]}`}}}(x)),Te(fe.attributes,"terrainEnabled",f.terrainEnabled?"true":"false"),Te(fe.attributes,"fogEnabled",f.fogEnabled?"true":"false"),Te(fe.attributes,"projection",f.projection),Te(fe.attributes,"zoom",f.zoom),Te(fe.metadata,"devicePixelRatio",ee),Te(fe.metadata,"connectionEffectiveType",ne?ne.effectiveType:void 0),Te(fe.metadata,"navigatorUserAgent",v.navigator.userAgent),Te(fe.metadata,"screenWidth",v.screen.width),Te(fe.metadata,"screenHeight",v.screen.height),Te(fe.metadata,"windowWidth",v.innerWidth),Te(fe.metadata,"windowHeight",v.innerHeight),Te(fe.metadata,"mapWidth",f.width/ee),Te(fe.metadata,"mapHeight",f.height/ee),Te(fe.metadata,"webglRenderer",f.renderer),Te(fe.metadata,"webglVendor",f.vendor),Te(fe.metadata,"sdkVersion",R),Te(fe.metadata,"sdkIdentifier","mapbox-gl-js"),fe}(l);for(const f of u.metadata);for(const f of u.counters);for(const f of u.attributes);this.postEvent(i,u,()=>{},a)}},Ut=Ot.postPerformanceEvent.bind(Ot),Ht=new class extends ft{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(a,i,l,u){if(!k.API_URL||!k.SESSION_PATH)return;const f=Ln(k.API_URL+k.SESSION_PATH);f.params.push(`sku=${i||""}`),f.params.push(`access_token=${u||k.ACCESS_TOKEN||""}`);const x={url:ja(f),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(C,N){return ht(K(C,{method:"GET"}),N)}(x,C=>{this.pendingRequest=null,l(C),this.saveEventData(),this.processRequests(u)})}getSessionAPI(a,i,l,u){this.skuToken=i,this.errorCb=u,k.SESSION_PATH&&k.API_URL&&(l||k.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(di)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:l}=this.queue.shift();i&&this.success[i]||this.getSession(l,this.skuToken,u=>{u?this.errorCb(u):i&&(this.success[i]=!0)},a)}},zt=Ht.getSessionAPI.bind(Ht),Zt=new Set,xi={create:"create",load:"load",fullLoad:"fullLoad"},Zi={mark(a){v.performance.mark(a)},measure(a,i,l){v.performance.measure(a,i,l)}};function Di(a){const i=a.name.split("?")[0];return Nr(i)&&i.includes("mapbox-gl.js")?"javascript":Nr(i)&&i.includes("mapbox-gl.css")?"css":function(l){return k.API_FONTS_REGEX.test(l)}(i)?"fontRange":wn(i)?"sprite":mo(i)?"style":function(l){return k.API_TILEJSON_REGEX.test(l)}(i)?"tilejson":"other"}const Mn=v.performance;function Cn(a){const i=a?a.url.toString():void 0;return Mn.getEntriesByName(i)}let un,Hi,lr,kr;const _n={now:()=>lr!==void 0?lr:v.performance.now(),setNow(a){lr=a},restoreNow(){lr=void 0},frame(a){const i=v.requestAnimationFrame(a);return{cancel:()=>v.cancelAnimationFrame(i)}},getImageData(a,i=0){const{width:l,height:u}=a;kr||(kr=v.document.createElement("canvas"));const f=kr.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return(l>kr.width||u>kr.height)&&(kr.width=l,kr.height=u),f.clearRect(-i,-i,l+2*i,u+2*i),f.drawImage(a,0,0,l,u),f.getImageData(-i,-i,l+2*i,u+2*i)},resolveURL:a=>(un||(un=v.document.createElement("a")),un.href=a,un.href),get devicePixelRatio(){return v.devicePixelRatio},get prefersReducedMotion(){return!!v.matchMedia&&(Hi==null&&(Hi=v.matchMedia("(prefers-reduced-motion: reduce)")),Hi.matches)}};function Yr(a,i,l){l[a]&&l[a].indexOf(i)!==-1||(l[a]=l[a]||[],l[a].push(i))}function Lr(a,i,l){if(l&&l[a]){const u=l[a].indexOf(i);u!==-1&&l[a].splice(u,1)}}class Ua{constructor(i,l={}){K(this,l),this.type=i}}class $a extends Ua{constructor(i,l={}){super("error",K({error:i},l))}}class go{on(i,l){return this._listeners=this._listeners||{},Yr(i,l,this._listeners),this}off(i,l){return Lr(i,l,this._listeners),Lr(i,l,this._oneTimeListeners),this}once(i,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},Yr(i,l,this._oneTimeListeners),this):new Promise(u=>this.once(i,u))}fire(i,l){typeof i=="string"&&(i=new Ua(i,l||{}));const u=i.type;if(this.listens(u)){i.target=this;const f=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];for(const N of f)N.call(this,i);const x=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];for(const N of x)Lr(u,N,this._oneTimeListeners),N.call(this,i);const C=this._eventedParent;C&&(K(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),C.fire(i))}else i instanceof $a&&console.error(i.error);return this}listens(i){return!!(this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i))}setEventedParent(i,l){return this._eventedParent=i,this._eventedParentData=l,this}}var fi=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function ps(a,...i){for(const l of i)for(const u in l)a[u]=l[u];return a}function Ls(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function Os(a){if(Array.isArray(a))return a.map(Os);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){const i={};for(const l in a)i[l]=Os(a[l]);return i}return Ls(a)}class bc extends Error{constructor(i,l){super(l),this.message=l,this.key=i}}var Ao=bc;class Yc{constructor(i,l=[]){this.parent=i,this.bindings={};for(const[u,f]of l)this.bindings[u]=f}concat(i){return new Yc(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}var iu=Yc;const lo={kind:"null"},Ki={kind:"number"},tr={kind:"string"},cr={kind:"boolean"},Jo={kind:"color"},Va={kind:"object"},Nn={kind:"value"},wc={kind:"collator"},Ca={kind:"formatted"},nl={kind:"resolvedImage"};function Zs(a,i){return{kind:"array",itemType:a,N:i}}function Gr(a){if(a.kind==="array"){const i=Gr(a.itemType);return typeof a.N=="number"?`array<${i}, ${a.N}>`:a.itemType.kind==="value"?"array":`array<${i}>`}return a.kind}const co=[lo,Ki,tr,cr,Jo,Ca,Va,Zs(Nn),nl];function Uo(a,i){if(i.kind==="error")return null;if(a.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!Uo(a.itemType,i.itemType))&&(typeof a.N!="number"||a.N===i.N))return null}else{if(a.kind===i.kind)return null;if(a.kind==="value"){for(const l of co)if(!Uo(l,i))return null}}return`Expected ${Gr(a)} but found ${Gr(i)} instead.`}function Gl(a,i){return i.some(l=>l.kind===a.kind)}function pa(a,i){return i.some(l=>l==="null"?a===null:l==="array"?Array.isArray(a):l==="object"?a&&!Array.isArray(a)&&typeof a=="object":l===typeof a)}var yl,_l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function rl(a){return(a=Math.round(a))<0?0:a>255?255:a}function vl(a){return rl(a[a.length-1]==="%"?parseFloat(a)/100*255:parseInt(a))}function qc(a){return(i=a[a.length-1]==="%"?parseFloat(a)/100:parseFloat(a))<0?0:i>1?1:i;var i}function Xc(a,i,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?a+(i-a)*l*6:2*l<1?i:3*l<2?a+(i-a)*(2/3-l)*6:a}try{yl={}.parseCSSColor=function(a){var i,l=a.replace(/ /g,"").toLowerCase();if(l in _l)return _l[l].slice();if(l[0]==="#")return l.length===4?(i=parseInt(l.substr(1),16))>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null:l.length===7&&(i=parseInt(l.substr(1),16))>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null;var u=l.indexOf("("),f=l.indexOf(")");if(u!==-1&&f+1===l.length){var x=l.substr(0,u),C=l.substr(u+1,f-(u+1)).split(","),N=1;switch(x){case"rgba":if(C.length!==4)return null;N=qc(C.pop());case"rgb":return C.length!==3?null:[vl(C[0]),vl(C[1]),vl(C[2]),N];case"hsla":if(C.length!==4)return null;N=qc(C.pop());case"hsl":if(C.length!==3)return null;var ee=(parseFloat(C[0])%360+360)%360/360,ne=qc(C[1]),fe=qc(C[2]),Te=fe<=.5?fe*(ne+1):fe+ne-fe*ne,Ee=2*fe-Te;return[rl(255*Xc(Ee,Te,ee+1/3)),rl(255*Xc(Ee,Te,ee)),rl(255*Xc(Ee,Te,ee-1/3)),N];default:return null}}return null}}catch{}class Ro{constructor(i,l,u,f=1){this.r=i,this.g=l,this.b=u,this.a=f}static parse(i){if(!i)return;if(i instanceof Ro)return i;if(typeof i!="string")return;const l=yl(i);return l?new Ro(l[0]/255*l[3],l[1]/255*l[3],l[2]/255*l[3],l[3]):void 0}toString(){const[i,l,u,f]=this.toArray();return`rgba(${Math.round(i)},${Math.round(l)},${Math.round(u)},${f})`}toArray(){const{r:i,g:l,b:u,a:f}=this;return f===0?[0,0,0,0]:[255*i/f,255*l/f,255*u/f,f]}toArray01(){const{r:i,g:l,b:u,a:f}=this;return f===0?[0,0,0,0]:[i/f,l/f,u/f,f]}toArray01PremultipliedAlpha(){const{r:i,g:l,b:u,a:f}=this;return[i,l,u,f]}}Ro.black=new Ro(0,0,0,1),Ro.white=new Ro(1,1,1,1),Ro.transparent=new Ro(0,0,0,0),Ro.red=new Ro(1,0,0,1),Ro.blue=new Ro(0,0,1,1);var As=Ro;class Hl{constructor(i,l,u){this.sensitivity=i?l?"variant":"case":l?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,l){return this.collator.compare(i,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class sl{constructor(i,l,u,f,x){this.text=i.normalize?i.normalize():i,this.image=l,this.scale=u,this.fontStack=f,this.textColor=x}}class Ks{constructor(i){this.sections=i}static fromString(i){return new Ks([new sl(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Ks?i:Ks.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}serialize(){const i=["format"];for(const l of this.sections){if(l.image){i.push(["image",l.image.name]);continue}i.push(l.text);const u={};l.fontStack&&(u["text-font"]=["literal",l.fontStack.split(",")]),l.scale&&(u["font-scale"]=l.scale),l.textColor&&(u["text-color"]=["rgba"].concat(l.textColor.toArray())),i.push(u)}return i}}class fa{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new fa({name:i,available:!1}):null}serialize(){return["image",this.name]}}function Du(a,i,l,u){return typeof a=="number"&&a>=0&&a<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof l=="number"&&l>=0&&l<=255?u===void 0||typeof u=="number"&&u>=0&&u<=1?null:`Invalid rgba value [${[a,i,l,u].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof u=="number"?[a,i,l,u]:[a,i,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Td(a){if(a===null||typeof a=="string"||typeof a=="boolean"||typeof a=="number"||a instanceof As||a instanceof Hl||a instanceof Ks||a instanceof fa)return!0;if(Array.isArray(a)){for(const i of a)if(!Td(i))return!1;return!0}if(typeof a=="object"){for(const i in a)if(!Td(a[i]))return!1;return!0}return!1}function Hs(a){if(a===null)return lo;if(typeof a=="string")return tr;if(typeof a=="boolean")return cr;if(typeof a=="number")return Ki;if(a instanceof As)return Jo;if(a instanceof Hl)return wc;if(a instanceof Ks)return Ca;if(a instanceof fa)return nl;if(Array.isArray(a)){const i=a.length;let l;for(const u of a){const f=Hs(u);if(l){if(l===f)continue;l=Nn;break}l=f}return Zs(l||Nn,i)}return Va}function Wl(a){const i=typeof a;return a===null?"":i==="string"||i==="number"||i==="boolean"?String(a):a instanceof As||a instanceof Ks||a instanceof fa?a.toString():JSON.stringify(a)}class Sd{constructor(i,l){this.type=i,this.value=l}static parse(i,l){if(i.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Td(i[1]))return l.error("invalid value");const u=i[1];let f=Hs(u);const x=l.expectedType;return f.kind!=="array"||f.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(f=x),new Sd(f,u)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof As?["rgba"].concat(this.value.toArray()):this.value instanceof Ks?this.value.serialize():this.value}}var Yl=Sd,Js=class{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}};const xl={string:tr,number:Ki,boolean:cr,object:Va};class Cd{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");let u,f=1;const x=i[0];if(x==="array"){let N,ee;if(i.length>2){const ne=i[1];if(typeof ne!="string"||!(ne in xl)||ne==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);N=xl[ne],f++}else N=Nn;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return l.error('The length argument to "array" must be a positive integer literal',2);ee=i[2],f++}u=Zs(N,ee)}else u=xl[x];const C=[];for(;f<i.length;f++){const N=l.parse(i[f],f,Nn);if(!N)return null;C.push(N)}return new Cd(u,C)}evaluate(i){for(let l=0;l<this.args.length;l++){const u=this.args[l].evaluate(i);if(!Uo(this.type,Hs(u)))return u;if(l===this.args.length-1)throw new Js(`Expected value to be of type ${Gr(this.type)}, but found ${Gr(Hs(u))} instead.`)}return null}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=this.type,l=[i.kind];if(i.kind==="array"){const u=i.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){l.push(u.kind);const f=i.N;(typeof f=="number"||this.args.length>1)&&l.push(f)}}return l.concat(this.args.map(u=>u.serialize()))}}var Pr=Cd;class Fr{constructor(i){this.type=Ca,this.sections=i}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");const u=i[1];if(!Array.isArray(u)&&typeof u=="object")return l.error("First argument must be an image or text section.");const f=[];let x=!1;for(let C=1;C<=i.length-1;++C){const N=i[C];if(x&&typeof N=="object"&&!Array.isArray(N)){x=!1;let ee=null;if(N["font-scale"]&&(ee=l.parse(N["font-scale"],1,Ki),!ee))return null;let ne=null;if(N["text-font"]&&(ne=l.parse(N["text-font"],1,Zs(tr)),!ne))return null;let fe=null;if(N["text-color"]&&(fe=l.parse(N["text-color"],1,Jo),!fe))return null;const Te=f[f.length-1];Te.scale=ee,Te.font=ne,Te.textColor=fe}else{const ee=l.parse(i[C],1,Nn);if(!ee)return null;const ne=ee.type.kind;if(ne!=="string"&&ne!=="value"&&ne!=="null"&&ne!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,f.push({content:ee,scale:null,font:null,textColor:null})}}return new Fr(f)}evaluate(i){return new Ks(this.sections.map(l=>{const u=l.content.evaluate(i);return Hs(u)===nl?new sl("",u,null,null,null):new sl(Wl(u),null,l.scale?l.scale.evaluate(i):null,l.font?l.font.evaluate(i).join(","):null,l.textColor?l.textColor.evaluate(i):null)}))}eachChild(i){for(const l of this.sections)i(l.content),l.scale&&i(l.scale),l.font&&i(l.font),l.textColor&&i(l.textColor)}outputDefined(){return!1}serialize(){const i=["format"];for(const l of this.sections){i.push(l.content.serialize());const u={};l.scale&&(u["font-scale"]=l.scale.serialize()),l.font&&(u["text-font"]=l.font.serialize()),l.textColor&&(u["text-color"]=l.textColor.serialize()),i.push(u)}return i}}class Ed{constructor(i){this.type=nl,this.input=i}static parse(i,l){if(i.length!==2)return l.error("Expected two arguments.");const u=l.parse(i[1],1,tr);return u?new Ed(u):l.error("No image name provided.")}evaluate(i){const l=this.input.evaluate(i),u=fa.fromString(l);return u&&i.availableImages&&(u.available=i.availableImages.indexOf(l)>-1),u}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Iu={"to-boolean":cr,"to-color":Jo,"to-number":Ki,"to-string":tr};class nu{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");const u=i[0];if((u==="to-boolean"||u==="to-string")&&i.length!==2)return l.error("Expected one argument.");const f=Iu[u],x=[];for(let C=1;C<i.length;C++){const N=l.parse(i[C],C,Nn);if(!N)return null;x.push(N)}return new nu(f,x)}evaluate(i){if(this.type.kind==="boolean")return!!this.args[0].evaluate(i);if(this.type.kind==="color"){let l,u;for(const f of this.args){if(l=f.evaluate(i),u=null,l instanceof As)return l;if(typeof l=="string"){const x=i.parseColor(l);if(x)return x}else if(Array.isArray(l)&&(u=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Du(l[0],l[1],l[2],l[3]),!u))return new As(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new Js(u||`Could not parse color from value '${typeof l=="string"?l:String(JSON.stringify(l))}'`)}if(this.type.kind==="number"){let l=null;for(const u of this.args){if(l=u.evaluate(i),l===null)return 0;const f=Number(l);if(!isNaN(f))return f}throw new Js(`Could not convert ${JSON.stringify(l)} to number.`)}return this.type.kind==="formatted"?Ks.fromString(Wl(this.args[0].evaluate(i))):this.type.kind==="resolvedImage"?fa.fromString(Wl(this.args[0].evaluate(i))):Wl(this.args[0].evaluate(i))}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Fr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Ed(this.args[0]).serialize();const i=[`to-${this.type.kind}`];return this.eachChild(l=>{i.push(l.serialize())}),i}}var ma=nu;const Zc=["Unknown","Point","LineString","Polygon"];var Md=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Zc[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const a=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:l,y:u}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(l*i-a[0])+this.featureDistanceData.bearing[1]*(u*i-a[1])}return 0}parseColor(a){let i=this._parseColorCache[a];return i||(i=this._parseColorCache[a]=As.parse(a)),i}};class ql{constructor(i,l,u,f){this.name=i,this.type=l,this._evaluate=u,this.args=f}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(i=>i.serialize()))}static parse(i,l){const u=i[0],f=ql.definitions[u];if(!f)return l.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0);const x=Array.isArray(f)?f[0]:f.type,C=Array.isArray(f)?[[f[1],f[2]]]:f.overloads,N=C.filter(([ne])=>!Array.isArray(ne)||ne.length===i.length-1);let ee=null;for(const[ne,fe]of N){ee=new Qr(l.registry,l.path,null,l.scope);const Te=[];let Ee=!1;for(let Le=1;Le<i.length;Le++){const ze=i[Le],Ge=Array.isArray(ne)?ne[Le-1]:ne.type,tt=ee.parse(ze,1+Te.length,Ge);if(!tt){Ee=!0;break}Te.push(tt)}if(!Ee)if(Array.isArray(ne)&&ne.length!==Te.length)ee.error(`Expected ${ne.length} arguments, but found ${Te.length} instead.`);else{for(let Le=0;Le<Te.length;Le++){const ze=Array.isArray(ne)?ne[Le]:ne.type,Ge=Te[Le];ee.concat(Le+1).checkSubtype(ze,Ge.type)}if(ee.errors.length===0)return new ql(u,x,fe,Te)}}if(N.length===1)l.errors.push(...ee.errors);else{const ne=(N.length?N:C).map(([Te])=>{return Ee=Te,Array.isArray(Ee)?`(${Ee.map(Gr).join(", ")})`:`(${Gr(Ee.type)}...)`;var Ee}).join(" | "),fe=[];for(let Te=1;Te<i.length;Te++){const Ee=l.parse(i[Te],1+fe.length);if(!Ee)return null;fe.push(Gr(Ee.type))}l.error(`Expected arguments of type ${ne}, but found (${fe.join(", ")}) instead.`)}return null}static register(i,l){ql.definitions=l;for(const u in l)i[u]=ql}}var Qo=ql;class Ws{constructor(i,l,u){this.type=wc,this.locale=u,this.caseSensitive=i,this.diacriticSensitive=l}static parse(i,l){if(i.length!==2)return l.error("Expected one argument.");const u=i[1];if(typeof u!="object"||Array.isArray(u))return l.error("Collator options argument must be an object.");const f=l.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,cr);if(!f)return null;const x=l.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,cr);if(!x)return null;let C=null;return u.locale&&(C=l.parse(u.locale,1,tr),!C)?null:new Ws(f,x,C)}evaluate(i){return new Hl(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}serialize(){const i={};return i["case-sensitive"]=this.caseSensitive.serialize(),i["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(i.locale=this.locale.serialize()),["collator",i]}}const Z=8192;function de(a,i){a[0]=Math.min(a[0],i[0]),a[1]=Math.min(a[1],i[1]),a[2]=Math.max(a[2],i[0]),a[3]=Math.max(a[3],i[1])}function be(a,i){return!(a[0]<=i[0]||a[2]>=i[2]||a[1]<=i[1]||a[3]>=i[3])}function Me(a,i){const l=(180+a[0])/360,u=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,f=Math.pow(2,i.z);return[Math.round(l*f*Z),Math.round(u*f*Z)]}function je(a,i,l){const u=a[0]-i[0],f=a[1]-i[1],x=a[0]-l[0],C=a[1]-l[1];return u*C-x*f==0&&u*x<=0&&f*C<=0}function Ve(a,i){let l=!1;for(let C=0,N=i.length;C<N;C++){const ee=i[C];for(let ne=0,fe=ee.length;ne<fe-1;ne++){if(je(a,ee[ne],ee[ne+1]))return!1;(f=ee[ne])[1]>(u=a)[1]!=(x=ee[ne+1])[1]>u[1]&&u[0]<(x[0]-f[0])*(u[1]-f[1])/(x[1]-f[1])+f[0]&&(l=!l)}}var u,f,x;return l}function Je(a,i){for(let l=0;l<i.length;l++)if(Ve(a,i[l]))return!0;return!1}function Rt(a,i,l,u){const f=u[0]-l[0],x=u[1]-l[1],C=(a[0]-l[0])*x-f*(a[1]-l[1]),N=(i[0]-l[0])*x-f*(i[1]-l[1]);return C>0&&N<0||C<0&&N>0}function Ct(a,i,l){for(const ne of l)for(let fe=0;fe<ne.length-1;++fe)if((N=[(C=ne[fe+1])[0]-(x=ne[fe])[0],C[1]-x[1]])[0]*(ee=[(f=i)[0]-(u=a)[0],f[1]-u[1]])[1]-N[1]*ee[0]!=0&&Rt(u,f,x,C)&&Rt(x,C,u,f))return!0;var u,f,x,C,N,ee;return!1}function Kt(a,i){for(let l=0;l<a.length;++l)if(!Ve(a[l],i))return!1;for(let l=0;l<a.length-1;++l)if(Ct(a[l],a[l+1],i))return!1;return!0}function mi(a,i){for(let l=0;l<i.length;l++)if(Kt(a,i[l]))return!0;return!1}function ki(a,i,l){const u=[];for(let f=0;f<a.length;f++){const x=[];for(let C=0;C<a[f].length;C++){const N=Me(a[f][C],l);de(i,N),x.push(N)}u.push(x)}return u}function oi(a,i,l){const u=[];for(let f=0;f<a.length;f++){const x=ki(a[f],i,l);u.push(x)}return u}function ui(a,i,l,u){if(a[0]<l[0]||a[0]>l[2]){const f=.5*u;let x=a[0]-l[0]>f?-u:l[0]-a[0]>f?u:0;x===0&&(x=a[0]-l[2]>f?-u:l[2]-a[0]>f?u:0),a[0]+=x}de(i,a)}function Xi(a,i,l,u){const f=Math.pow(2,u.z)*Z,x=[u.x*Z,u.y*Z],C=[];if(!a)return C;for(const N of a)for(const ee of N){const ne=[ee.x+x[0],ee.y+x[1]];ui(ne,i,l,f),C.push(ne)}return C}function qn(a,i,l,u){const f=Math.pow(2,u.z)*Z,x=[u.x*Z,u.y*Z],C=[];if(!a)return C;for(const ee of a){const ne=[];for(const fe of ee){const Te=[fe.x+x[0],fe.y+x[1]];de(i,Te),ne.push(Te)}C.push(ne)}if(i[2]-i[0]<=f/2){(N=i)[0]=N[1]=1/0,N[2]=N[3]=-1/0;for(const ee of C)for(const ne of ee)ui(ne,i,l,f)}var N;return C}class pn{constructor(i,l){this.type=cr,this.geojson=i,this.geometries=l}static parse(i,l){if(i.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Td(i[1])){const u=i[1];if(u.type==="FeatureCollection")for(let f=0;f<u.features.length;++f){const x=u.features[f].geometry.type;if(x==="Polygon"||x==="MultiPolygon")return new pn(u,u.features[f].geometry)}else if(u.type==="Feature"){const f=u.geometry.type;if(f==="Polygon"||f==="MultiPolygon")return new pn(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new pn(u,u)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(l,u){const f=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],C=l.canonicalID();if(!C)return!1;if(u.type==="Polygon"){const N=ki(u.coordinates,x,C),ee=Xi(l.geometry(),f,x,C);if(!be(f,x))return!1;for(const ne of ee)if(!Ve(ne,N))return!1}if(u.type==="MultiPolygon"){const N=oi(u.coordinates,x,C),ee=Xi(l.geometry(),f,x,C);if(!be(f,x))return!1;for(const ne of ee)if(!Je(ne,N))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(l,u){const f=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],C=l.canonicalID();if(!C)return!1;if(u.type==="Polygon"){const N=ki(u.coordinates,x,C),ee=qn(l.geometry(),f,x,C);if(!be(f,x))return!1;for(const ne of ee)if(!Kt(ne,N))return!1}if(u.type==="MultiPolygon"){const N=oi(u.coordinates,x,C),ee=qn(l.geometry(),f,x,C);if(!be(f,x))return!1;for(const ne of ee)if(!mi(ne,N))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var fs=pn;function Jr(a){if(a instanceof Qo&&(a.name==="get"&&a.args.length===1||a.name==="feature-state"||a.name==="has"&&a.args.length===1||a.name==="properties"||a.name==="geometry-type"||a.name==="id"||/^filter-/.test(a.name))||a instanceof fs)return!1;let i=!0;return a.eachChild(l=>{i&&!Jr(l)&&(i=!1)}),i}function hr(a){if(a instanceof Qo&&a.name==="feature-state")return!1;let i=!0;return a.eachChild(l=>{i&&!hr(l)&&(i=!1)}),i}function pr(a,i){if(a instanceof Qo&&i.indexOf(a.name)>=0)return!1;let l=!0;return a.eachChild(u=>{l&&!pr(u,i)&&(l=!1)}),l}class Hn{constructor(i,l){this.type=l.type,this.name=i,this.boundExpression=l}static parse(i,l){if(i.length!==2||typeof i[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const u=i[1];return l.scope.has(u)?new Hn(u,l.scope.get(u)):l.error(`Unknown variable "${u}". Make sure "${u}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Qs=Hn;class mr{constructor(i,l=[],u,f=new iu,x=[]){this.registry=i,this.path=l,this.key=l.map(C=>`[${C}]`).join(""),this.scope=f,this.errors=x,this.expectedType=u}parse(i,l,u,f,x={}){return l?this.concat(l,u,f)._parse(i,x):this._parse(i,x)}_parse(i,l){function u(f,x,C){return C==="assert"?new Pr(x,[f]):C==="coerce"?new ma(x,[f]):f}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const f=i[0];if(typeof f!="string")return this.error(`Expression name must be a string, but found ${typeof f} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const x=this.registry[f];if(x){let C=x.parse(i,this);if(!C)return null;if(this.expectedType){const N=this.expectedType,ee=C.type;if(N.kind!=="string"&&N.kind!=="number"&&N.kind!=="boolean"&&N.kind!=="object"&&N.kind!=="array"||ee.kind!=="value")if(N.kind!=="color"&&N.kind!=="formatted"&&N.kind!=="resolvedImage"||ee.kind!=="value"&&ee.kind!=="string"){if(this.checkSubtype(N,ee))return null}else C=u(C,N,l.typeAnnotation||"coerce");else C=u(C,N,l.typeAnnotation||"assert")}if(!(C instanceof Yl)&&C.type.kind!=="resolvedImage"&&Ga(C)){const N=new Md;try{C=new Yl(C.type,C.evaluate(N))}catch(ee){return this.error(ee.message),null}}return C}return this.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,l,u){const f=typeof i=="number"?this.path.concat(i):this.path,x=u?this.scope.concat(u):this.scope;return new mr(this.registry,f,l||null,x,this.errors)}error(i,...l){const u=`${this.key}${l.map(f=>`[${f}]`).join("")}`;this.errors.push(new Ao(u,i))}checkSubtype(i,l){const u=Uo(i,l);return u&&this.error(u),u}}var Qr=mr;function Ga(a){if(a instanceof Qs)return Ga(a.boundExpression);if(a instanceof Qo&&a.name==="error"||a instanceof Ws||a instanceof fs)return!1;const i=a instanceof ma||a instanceof Pr;let l=!0;return a.eachChild(u=>{l=i?l&&Ga(u):l&&u instanceof Yl}),!!l&&Jr(a)&&pr(a,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Xl(a,i){const l=a.length-1;let u,f,x=0,C=l,N=0;for(;x<=C;)if(N=Math.floor((x+C)/2),u=a[N],f=a[N+1],u<=i){if(N===l||i<f)return N;x=N+1}else{if(!(u>i))throw new Js("Input is not a number.");C=N-1}return 0}class eo{constructor(i,l,u){this.type=i,this.input=l,this.labels=[],this.outputs=[];for(const[f,x]of u)this.labels.push(f),this.outputs.push(x)}static parse(i,l){if(i.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return l.error("Expected an even number of arguments.");const u=l.parse(i[1],1,Ki);if(!u)return null;const f=[];let x=null;l.expectedType&&l.expectedType.kind!=="value"&&(x=l.expectedType);for(let C=1;C<i.length;C+=2){const N=C===1?-1/0:i[C],ee=i[C+1],ne=C,fe=C+1;if(typeof N!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ne);if(f.length&&f[f.length-1][0]>=N)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ne);const Te=l.parse(ee,fe,x);if(!Te)return null;x=x||Te.type,f.push([N,Te])}return new eo(x,u,f)}evaluate(i){const l=this.labels,u=this.outputs;if(l.length===1)return u[0].evaluate(i);const f=this.input.evaluate(i);if(f<=l[0])return u[0].evaluate(i);const x=l.length;return f>=l[x-1]?u[x-1].evaluate(i):u[Xl(l,f)].evaluate(i)}eachChild(i){i(this.input);for(const l of this.outputs)i(l)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){const i=["step",this.input.serialize()];for(let l=0;l<this.labels.length;l++)l>0&&i.push(this.labels[l]),i.push(this.outputs[l].serialize());return i}}var ea=eo;function Zn(a,i,l){return a*(1-l)+i*l}var yo=Object.freeze({__proto__:null,number:Zn,color:function(a,i,l){return new As(Zn(a.r,i.r,l),Zn(a.g,i.g,l),Zn(a.b,i.b,l),Zn(a.a,i.a,l))},array:function(a,i,l){return a.map((u,f)=>Zn(u,i[f],l))}});const ta=.95047,Bo=1.08883,ga=4/29,Zl=6/29,ol=3*Zl*Zl,kd=Math.PI/180,jr=180/Math.PI;function ya(a){return a>.008856451679035631?Math.pow(a,1/3):a/ol+ga}function Kc(a){return a>Zl?a*a*a:ol*(a-ga)}function Kl(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function zo(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Jl(a){const i=zo(a.r),l=zo(a.g),u=zo(a.b),f=ya((.4124564*i+.3575761*l+.1804375*u)/ta),x=ya((.2126729*i+.7151522*l+.072175*u)/1);return{l:116*x-16,a:500*(f-x),b:200*(x-ya((.0193339*i+.119192*l+.9503041*u)/Bo)),alpha:a.a}}function Tc(a){let i=(a.l+16)/116,l=isNaN(a.a)?i:i+a.a/500,u=isNaN(a.b)?i:i-a.b/200;return i=1*Kc(i),l=ta*Kc(l),u=Bo*Kc(u),new As(Kl(3.2404542*l-1.5371385*i-.4985314*u),Kl(-.969266*l+1.8760108*i+.041556*u),Kl(.0556434*l-.2040259*i+1.0572252*u),a.alpha)}function ru(a,i,l){const u=i-a;return a+l*(u>180||u<-180?u-360*Math.round(u/360):u)}const Ql={forward:Jl,reverse:Tc,interpolate:function(a,i,l){return{l:Zn(a.l,i.l,l),a:Zn(a.a,i.a,l),b:Zn(a.b,i.b,l),alpha:Zn(a.alpha,i.alpha,l)}}},ec={forward:function(a){const{l:i,a:l,b:u}=Jl(a),f=Math.atan2(u,l)*jr;return{h:f<0?f+360:f,c:Math.sqrt(l*l+u*u),l:i,alpha:a.a}},reverse:function(a){const i=a.h*kd,l=a.c;return Tc({l:a.l,a:Math.cos(i)*l,b:Math.sin(i)*l,alpha:a.alpha})},interpolate:function(a,i,l){return{h:ru(a.h,i.h,l),c:Zn(a.c,i.c,l),l:Zn(a.l,i.l,l),alpha:Zn(a.alpha,i.alpha,l)}}};var Lu=Object.freeze({__proto__:null,lab:Ql,hcl:ec});class tc{constructor(i,l,u,f,x){this.type=i,this.operator=l,this.interpolation=u,this.input=f,this.labels=[],this.outputs=[];for(const[C,N]of x)this.labels.push(C),this.outputs.push(N)}static interpolationFactor(i,l,u,f){let x=0;if(i.name==="exponential")x=su(l,i.base,u,f);else if(i.name==="linear")x=su(l,1,u,f);else if(i.name==="cubic-bezier"){const C=i.controlPoints;x=new P(C[0],C[1],C[2],C[3]).solve(su(l,1,u,f))}return x}static parse(i,l){let[u,f,x,...C]=i;if(!Array.isArray(f)||f.length===0)return l.error("Expected an interpolation type expression.",1);if(f[0]==="linear")f={name:"linear"};else if(f[0]==="exponential"){const ne=f[1];if(typeof ne!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);f={name:"exponential",base:ne}}else{if(f[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(f[0])}`,1,0);{const ne=f.slice(1);if(ne.length!==4||ne.some(fe=>typeof fe!="number"||fe<0||fe>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);f={name:"cubic-bezier",controlPoints:ne}}}if(i.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(x=l.parse(x,2,Ki),!x)return null;const N=[];let ee=null;u==="interpolate-hcl"||u==="interpolate-lab"?ee=Jo:l.expectedType&&l.expectedType.kind!=="value"&&(ee=l.expectedType);for(let ne=0;ne<C.length;ne+=2){const fe=C[ne],Te=C[ne+1],Ee=ne+3,Le=ne+4;if(typeof fe!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ee);if(N.length&&N[N.length-1][0]>=fe)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ee);const ze=l.parse(Te,Le,ee);if(!ze)return null;ee=ee||ze.type,N.push([fe,ze])}return ee.kind==="number"||ee.kind==="color"||ee.kind==="array"&&ee.itemType.kind==="number"&&typeof ee.N=="number"?new tc(ee,u,f,x,N):l.error(`Type ${Gr(ee)} is not interpolatable.`)}evaluate(i){const l=this.labels,u=this.outputs;if(l.length===1)return u[0].evaluate(i);const f=this.input.evaluate(i);if(f<=l[0])return u[0].evaluate(i);const x=l.length;if(f>=l[x-1])return u[x-1].evaluate(i);const C=Xl(l,f),N=tc.interpolationFactor(this.interpolation,f,l[C],l[C+1]),ee=u[C].evaluate(i),ne=u[C+1].evaluate(i);return this.operator==="interpolate"?yo[this.type.kind.toLowerCase()](ee,ne,N):this.operator==="interpolate-hcl"?ec.reverse(ec.interpolate(ec.forward(ee),ec.forward(ne),N)):Ql.reverse(Ql.interpolate(Ql.forward(ee),Ql.forward(ne),N))}eachChild(i){i(this.input);for(const l of this.outputs)i(l)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){let i;i=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const l=[this.operator,i,this.input.serialize()];for(let u=0;u<this.labels.length;u++)l.push(this.labels[u],this.outputs[u].serialize());return l}}function su(a,i,l,u){const f=u-l,x=a-l;return f===0?0:i===1?x/f:(Math.pow(i,x)-1)/(Math.pow(i,f)-1)}var Ea=tc;class Ma{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expectected at least one argument.");let u=null;const f=l.expectedType;f&&f.kind!=="value"&&(u=f);const x=[];for(const N of i.slice(1)){const ee=l.parse(N,1+x.length,u,void 0,{typeAnnotation:"omit"});if(!ee)return null;u=u||ee.type,x.push(ee)}const C=f&&x.some(N=>Uo(f,N.type));return new Ma(C?Nn:u,x)}evaluate(i){let l,u=null,f=0;for(const x of this.args){if(f++,u=x.evaluate(i),u&&u instanceof fa&&!u.available&&(l||(l=u),u=null,f===this.args.length))return l;if(u!==null)break}return u}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=["coalesce"];return this.eachChild(l=>{i.push(l.serialize())}),i}}var ic=Ma;class Ad{constructor(i,l){this.type=l.type,this.bindings=[].concat(i),this.result=l}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const l of this.bindings)i(l[1]);i(this.result)}static parse(i,l){if(i.length<4)return l.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const u=[];for(let x=1;x<i.length-1;x+=2){const C=i[x];if(typeof C!="string")return l.error(`Expected string, but found ${typeof C} instead.`,x);if(/[^a-zA-Z0-9_]/.test(C))return l.error("Variable names must contain only alphanumeric characters or '_'.",x);const N=l.parse(i[x+1],x+1);if(!N)return null;u.push([C,N])}const f=l.parse(i[i.length-1],i.length-1,l.expectedType,u);return f?new Ad(u,f):null}outputDefined(){return this.result.outputDefined()}serialize(){const i=["let"];for(const[l,u]of this.bindings)i.push(l,u.serialize());return i.push(this.result.serialize()),i}}var Sc=Ad;class ia{constructor(i,l,u){this.type=i,this.index=l,this.input=u}static parse(i,l){if(i.length!==3)return l.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const u=l.parse(i[1],1,Ki),f=l.parse(i[2],2,Zs(l.expectedType||Nn));return u&&f?new ia(f.type.itemType,u,f):null}evaluate(i){const l=this.index.evaluate(i),u=this.input.evaluate(i);if(l<0)throw new Js(`Array index out of bounds: ${l} < 0.`);if(l>=u.length)throw new Js(`Array index out of bounds: ${l} > ${u.length-1}.`);if(l!==Math.floor(l))throw new Js(`Array index must be an integer, but found ${l} instead.`);return u[l]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var _o=ia;class bl{constructor(i,l){this.type=cr,this.needle=i,this.haystack=l}static parse(i,l){if(i.length!==3)return l.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const u=l.parse(i[1],1,Nn),f=l.parse(i[2],2,Nn);return u&&f?Gl(u.type,[cr,tr,Ki,lo,Nn])?new bl(u,f):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(u.type)} instead`):null}evaluate(i){const l=this.needle.evaluate(i),u=this.haystack.evaluate(i);if(u==null)return!1;if(!pa(l,["boolean","string","number","null"]))throw new Js(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(Hs(l))} instead.`);if(!pa(u,["string","array"]))throw new Js(`Expected second argument to be of type array or string, but found ${Gr(Hs(u))} instead.`);return u.indexOf(l)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var nc=bl;class Cc{constructor(i,l,u){this.type=Ki,this.needle=i,this.haystack=l,this.fromIndex=u}static parse(i,l){if(i.length<=2||i.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const u=l.parse(i[1],1,Nn),f=l.parse(i[2],2,Nn);if(!u||!f)return null;if(!Gl(u.type,[cr,tr,Ki,lo,Nn]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(u.type)} instead`);if(i.length===4){const x=l.parse(i[3],3,Ki);return x?new Cc(u,f,x):null}return new Cc(u,f)}evaluate(i){const l=this.needle.evaluate(i),u=this.haystack.evaluate(i);if(!pa(l,["boolean","string","number","null"]))throw new Js(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(Hs(l))} instead.`);if(!pa(u,["string","array"]))throw new Js(`Expected second argument to be of type array or string, but found ${Gr(Hs(u))} instead.`);if(this.fromIndex){const f=this.fromIndex.evaluate(i);return u.indexOf(l,f)}return u.indexOf(l)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const i=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),i]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var yh=Cc;class vr{constructor(i,l,u,f,x,C){this.inputType=i,this.type=l,this.input=u,this.cases=f,this.outputs=x,this.otherwise=C}static parse(i,l){if(i.length<5)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return l.error("Expected an even number of arguments.");let u,f;l.expectedType&&l.expectedType.kind!=="value"&&(f=l.expectedType);const x={},C=[];for(let ne=2;ne<i.length-1;ne+=2){let fe=i[ne];const Te=i[ne+1];Array.isArray(fe)||(fe=[fe]);const Ee=l.concat(ne);if(fe.length===0)return Ee.error("Expected at least one branch label.");for(const ze of fe){if(typeof ze!="number"&&typeof ze!="string")return Ee.error("Branch labels must be numbers or strings.");if(typeof ze=="number"&&Math.abs(ze)>Number.MAX_SAFE_INTEGER)return Ee.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ze=="number"&&Math.floor(ze)!==ze)return Ee.error("Numeric branch labels must be integer values.");if(u){if(Ee.checkSubtype(u,Hs(ze)))return null}else u=Hs(ze);if(x[String(ze)]!==void 0)return Ee.error("Branch labels must be unique.");x[String(ze)]=C.length}const Le=l.parse(Te,ne,f);if(!Le)return null;f=f||Le.type,C.push(Le)}const N=l.parse(i[1],1,Nn);if(!N)return null;const ee=l.parse(i[i.length-1],i.length-1,f);return ee?N.type.kind!=="value"&&l.concat(1).checkSubtype(u,N.type)?null:new vr(u,f,N,x,C,ee):null}evaluate(i){const l=this.input.evaluate(i);return(Hs(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["match",this.input.serialize()],l=Object.keys(this.cases).sort(),u=[],f={};for(const C of l){const N=f[this.cases[C]];N===void 0?(f[this.cases[C]]=u.length,u.push([this.cases[C],[C]])):u[N][1].push(C)}const x=C=>this.inputType.kind==="number"?Number(C):C;for(const[C,N]of u)i.push(N.length===1?x(N[0]):N.map(x)),i.push(this.outputs[C].serialize());return i.push(this.otherwise.serialize()),i}}var $o=vr;class vo{constructor(i,l,u){this.type=i,this.branches=l,this.otherwise=u}static parse(i,l){if(i.length<4)return l.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return l.error("Expected an odd number of arguments.");let u;l.expectedType&&l.expectedType.kind!=="value"&&(u=l.expectedType);const f=[];for(let C=1;C<i.length-1;C+=2){const N=l.parse(i[C],C,cr);if(!N)return null;const ee=l.parse(i[C+1],C+1,u);if(!ee)return null;f.push([N,ee]),u=u||ee.type}const x=l.parse(i[i.length-1],i.length-1,u);return x?new vo(u,f,x):null}evaluate(i){for(const[l,u]of this.branches)if(l.evaluate(i))return u.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[l,u]of this.branches)i(l),i(u);i(this.otherwise)}outputDefined(){return this.branches.every(([i,l])=>l.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["case"];return this.eachChild(l=>{i.push(l.serialize())}),i}}var na=vo;class wl{constructor(i,l,u,f){this.type=i,this.input=l,this.beginIndex=u,this.endIndex=f}static parse(i,l){if(i.length<=2||i.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const u=l.parse(i[1],1,Nn),f=l.parse(i[2],2,Ki);if(!u||!f)return null;if(!Gl(u.type,[Zs(Nn),tr,Nn]))return l.error(`Expected first argument to be of type array or string, but found ${Gr(u.type)} instead`);if(i.length===4){const x=l.parse(i[3],3,Ki);return x?new wl(u.type,u,f,x):null}return new wl(u.type,u,f)}evaluate(i){const l=this.input.evaluate(i),u=this.beginIndex.evaluate(i);if(!pa(l,["string","array"]))throw new Js(`Expected first argument to be of type array or string, but found ${Gr(Hs(l))} instead.`);if(this.endIndex){const f=this.endIndex.evaluate(i);return l.slice(u,f)}return l.slice(u)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const i=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),i]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Ou=wl;function Ru(a,i){return a==="=="||a==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function Bu(a,i,l,u){return u.compare(i,l)===0}function Vo(a,i,l){const u=a!=="=="&&a!=="!=";return class L4{constructor(x,C,N){this.type=cr,this.lhs=x,this.rhs=C,this.collator=N,this.hasUntypedArgument=x.type.kind==="value"||C.type.kind==="value"}static parse(x,C){if(x.length!==3&&x.length!==4)return C.error("Expected two or three arguments.");const N=x[0];let ee=C.parse(x[1],1,Nn);if(!ee)return null;if(!Ru(N,ee.type))return C.concat(1).error(`"${N}" comparisons are not supported for type '${Gr(ee.type)}'.`);let ne=C.parse(x[2],2,Nn);if(!ne)return null;if(!Ru(N,ne.type))return C.concat(2).error(`"${N}" comparisons are not supported for type '${Gr(ne.type)}'.`);if(ee.type.kind!==ne.type.kind&&ee.type.kind!=="value"&&ne.type.kind!=="value")return C.error(`Cannot compare types '${Gr(ee.type)}' and '${Gr(ne.type)}'.`);u&&(ee.type.kind==="value"&&ne.type.kind!=="value"?ee=new Pr(ne.type,[ee]):ee.type.kind!=="value"&&ne.type.kind==="value"&&(ne=new Pr(ee.type,[ne])));let fe=null;if(x.length===4){if(ee.type.kind!=="string"&&ne.type.kind!=="string"&&ee.type.kind!=="value"&&ne.type.kind!=="value")return C.error("Cannot use collator to compare non-string types.");if(fe=C.parse(x[3],3,wc),!fe)return null}return new L4(ee,ne,fe)}evaluate(x){const C=this.lhs.evaluate(x),N=this.rhs.evaluate(x);if(u&&this.hasUntypedArgument){const ee=Hs(C),ne=Hs(N);if(ee.kind!==ne.kind||ee.kind!=="string"&&ee.kind!=="number")throw new Js(`Expected arguments for "${a}" to be (string, string) or (number, number), but found (${ee.kind}, ${ne.kind}) instead.`)}if(this.collator&&!u&&this.hasUntypedArgument){const ee=Hs(C),ne=Hs(N);if(ee.kind!=="string"||ne.kind!=="string")return i(x,C,N)}return this.collator?l(x,C,N,this.collator.evaluate(x)):i(x,C,N)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}serialize(){const x=[a];return this.eachChild(C=>{x.push(C.serialize())}),x}}}const $t=Vo("==",function(a,i,l){return i===l},Bu),bi=Vo("!=",function(a,i,l){return i!==l},function(a,i,l,u){return!Bu(0,i,l,u)}),hi=Vo("<",function(a,i,l){return i<l},function(a,i,l,u){return u.compare(i,l)<0}),fn=Vo(">",function(a,i,l){return i>l},function(a,i,l,u){return u.compare(i,l)>0}),Kn=Vo("<=",function(a,i,l){return i<=l},function(a,i,l,u){return u.compare(i,l)<=0}),Or=Vo(">=",function(a,i,l){return i>=l},function(a,i,l,u){return u.compare(i,l)>=0});class zs{constructor(i,l,u,f,x,C){this.type=tr,this.number=i,this.locale=l,this.currency=u,this.unit=f,this.minFractionDigits=x,this.maxFractionDigits=C}static parse(i,l){if(i.length!==3)return l.error("Expected two arguments.");const u=l.parse(i[1],1,Ki);if(!u)return null;const f=i[2];if(typeof f!="object"||Array.isArray(f))return l.error("NumberFormat options argument must be an object.");let x=null;if(f.locale&&(x=l.parse(f.locale,1,tr),!x))return null;let C=null;if(f.currency&&(C=l.parse(f.currency,1,tr),!C))return null;let N=null;if(f.unit&&(N=l.parse(f.unit,1,tr),!N))return null;let ee=null;if(f["min-fraction-digits"]&&(ee=l.parse(f["min-fraction-digits"],1,Ki),!ee))return null;let ne=null;return f["max-fraction-digits"]&&(ne=l.parse(f["max-fraction-digits"],1,Ki),!ne)?null:new zs(u,x,C,N,ee,ne)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(i):void 0,unit:this.unit?this.unit.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.unit&&i(this.unit),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const i={};return this.locale&&(i.locale=this.locale.serialize()),this.currency&&(i.currency=this.currency.serialize()),this.unit&&(i.unit=this.unit.serialize()),this.minFractionDigits&&(i["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(i["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),i]}}class Ur{constructor(i){this.type=Ki,this.input=i}static parse(i,l){if(i.length!==2)return l.error(`Expected 1 argument, but found ${i.length-1} instead.`);const u=l.parse(i[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${Gr(u.type)} instead.`):new Ur(u):null}evaluate(i){const l=this.input.evaluate(i);if(typeof l=="string"||Array.isArray(l))return l.length;throw new Js(`Expected value to be of type string or array, but found ${Gr(Hs(l))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){const i=["length"];return this.eachChild(l=>{i.push(l.serialize())}),i}}const Ec={"==":$t,"!=":bi,">":fn,"<":hi,">=":Or,"<=":Kn,array:Pr,at:_o,boolean:Pr,case:na,coalesce:ic,collator:Ws,format:Fr,image:Ed,in:nc,"index-of":yh,interpolate:Ea,"interpolate-hcl":Ea,"interpolate-lab":Ea,length:Ur,let:Sc,literal:Yl,match:$o,number:Pr,"number-format":zs,object:Pr,slice:Ou,step:ea,string:Pr,"to-boolean":ma,"to-color":ma,"to-number":ma,"to-string":ma,var:Qs,within:fs};function Pd(a,[i,l,u,f]){i=i.evaluate(a),l=l.evaluate(a),u=u.evaluate(a);const x=f?f.evaluate(a):1,C=Du(i,l,u,x);if(C)throw new Js(C);return new As(i/255*x,l/255*x,u/255*x,x)}function Go(a,i){return a in i}function rt(a,i){const l=i[a];return l===void 0?null:l}function Mt(a){return{type:a}}Qo.register(Ec,{error:[{kind:"error"},[tr],(a,[i])=>{throw new Js(i.evaluate(a))}],typeof:[tr,[Nn],(a,[i])=>Gr(Hs(i.evaluate(a)))],"to-rgba":[Zs(Ki,4),[Jo],(a,[i])=>i.evaluate(a).toArray()],rgb:[Jo,[Ki,Ki,Ki],Pd],rgba:[Jo,[Ki,Ki,Ki,Ki],Pd],has:{type:cr,overloads:[[[tr],(a,[i])=>Go(i.evaluate(a),a.properties())],[[tr,Va],(a,[i,l])=>Go(i.evaluate(a),l.evaluate(a))]]},get:{type:Nn,overloads:[[[tr],(a,[i])=>rt(i.evaluate(a),a.properties())],[[tr,Va],(a,[i,l])=>rt(i.evaluate(a),l.evaluate(a))]]},"feature-state":[Nn,[tr],(a,[i])=>rt(i.evaluate(a),a.featureState||{})],properties:[Va,[],a=>a.properties()],"geometry-type":[tr,[],a=>a.geometryType()],id:[Nn,[],a=>a.id()],zoom:[Ki,[],a=>a.globals.zoom],pitch:[Ki,[],a=>a.globals.pitch||0],"distance-from-center":[Ki,[],a=>a.distanceFromCenter()],"heatmap-density":[Ki,[],a=>a.globals.heatmapDensity||0],"line-progress":[Ki,[],a=>a.globals.lineProgress||0],"sky-radial-progress":[Ki,[],a=>a.globals.skyRadialProgress||0],accumulated:[Nn,[],a=>a.globals.accumulated===void 0?null:a.globals.accumulated],"+":[Ki,Mt(Ki),(a,i)=>{let l=0;for(const u of i)l+=u.evaluate(a);return l}],"*":[Ki,Mt(Ki),(a,i)=>{let l=1;for(const u of i)l*=u.evaluate(a);return l}],"-":{type:Ki,overloads:[[[Ki,Ki],(a,[i,l])=>i.evaluate(a)-l.evaluate(a)],[[Ki],(a,[i])=>-i.evaluate(a)]]},"/":[Ki,[Ki,Ki],(a,[i,l])=>i.evaluate(a)/l.evaluate(a)],"%":[Ki,[Ki,Ki],(a,[i,l])=>i.evaluate(a)%l.evaluate(a)],ln2:[Ki,[],()=>Math.LN2],pi:[Ki,[],()=>Math.PI],e:[Ki,[],()=>Math.E],"^":[Ki,[Ki,Ki],(a,[i,l])=>Math.pow(i.evaluate(a),l.evaluate(a))],sqrt:[Ki,[Ki],(a,[i])=>Math.sqrt(i.evaluate(a))],log10:[Ki,[Ki],(a,[i])=>Math.log(i.evaluate(a))/Math.LN10],ln:[Ki,[Ki],(a,[i])=>Math.log(i.evaluate(a))],log2:[Ki,[Ki],(a,[i])=>Math.log(i.evaluate(a))/Math.LN2],sin:[Ki,[Ki],(a,[i])=>Math.sin(i.evaluate(a))],cos:[Ki,[Ki],(a,[i])=>Math.cos(i.evaluate(a))],tan:[Ki,[Ki],(a,[i])=>Math.tan(i.evaluate(a))],asin:[Ki,[Ki],(a,[i])=>Math.asin(i.evaluate(a))],acos:[Ki,[Ki],(a,[i])=>Math.acos(i.evaluate(a))],atan:[Ki,[Ki],(a,[i])=>Math.atan(i.evaluate(a))],min:[Ki,Mt(Ki),(a,i)=>Math.min(...i.map(l=>l.evaluate(a)))],max:[Ki,Mt(Ki),(a,i)=>Math.max(...i.map(l=>l.evaluate(a)))],abs:[Ki,[Ki],(a,[i])=>Math.abs(i.evaluate(a))],round:[Ki,[Ki],(a,[i])=>{const l=i.evaluate(a);return l<0?-Math.round(-l):Math.round(l)}],floor:[Ki,[Ki],(a,[i])=>Math.floor(i.evaluate(a))],ceil:[Ki,[Ki],(a,[i])=>Math.ceil(i.evaluate(a))],"filter-==":[cr,[tr,Nn],(a,[i,l])=>a.properties()[i.value]===l.value],"filter-id-==":[cr,[Nn],(a,[i])=>a.id()===i.value],"filter-type-==":[cr,[tr],(a,[i])=>a.geometryType()===i.value],"filter-<":[cr,[tr,Nn],(a,[i,l])=>{const u=a.properties()[i.value],f=l.value;return typeof u==typeof f&&u<f}],"filter-id-<":[cr,[Nn],(a,[i])=>{const l=a.id(),u=i.value;return typeof l==typeof u&&l<u}],"filter->":[cr,[tr,Nn],(a,[i,l])=>{const u=a.properties()[i.value],f=l.value;return typeof u==typeof f&&u>f}],"filter-id->":[cr,[Nn],(a,[i])=>{const l=a.id(),u=i.value;return typeof l==typeof u&&l>u}],"filter-<=":[cr,[tr,Nn],(a,[i,l])=>{const u=a.properties()[i.value],f=l.value;return typeof u==typeof f&&u<=f}],"filter-id-<=":[cr,[Nn],(a,[i])=>{const l=a.id(),u=i.value;return typeof l==typeof u&&l<=u}],"filter->=":[cr,[tr,Nn],(a,[i,l])=>{const u=a.properties()[i.value],f=l.value;return typeof u==typeof f&&u>=f}],"filter-id->=":[cr,[Nn],(a,[i])=>{const l=a.id(),u=i.value;return typeof l==typeof u&&l>=u}],"filter-has":[cr,[Nn],(a,[i])=>i.value in a.properties()],"filter-has-id":[cr,[],a=>a.id()!==null&&a.id()!==void 0],"filter-type-in":[cr,[Zs(tr)],(a,[i])=>i.value.indexOf(a.geometryType())>=0],"filter-id-in":[cr,[Zs(Nn)],(a,[i])=>i.value.indexOf(a.id())>=0],"filter-in-small":[cr,[tr,Zs(Nn)],(a,[i,l])=>l.value.indexOf(a.properties()[i.value])>=0],"filter-in-large":[cr,[tr,Zs(Nn)],(a,[i,l])=>function(u,f,x,C){for(;x<=C;){const N=x+C>>1;if(f[N]===u)return!0;f[N]>u?C=N-1:x=N+1}return!1}(a.properties()[i.value],l.value,0,l.value.length-1)],all:{type:cr,overloads:[[[cr,cr],(a,[i,l])=>i.evaluate(a)&&l.evaluate(a)],[Mt(cr),(a,i)=>{for(const l of i)if(!l.evaluate(a))return!1;return!0}]]},any:{type:cr,overloads:[[[cr,cr],(a,[i,l])=>i.evaluate(a)||l.evaluate(a)],[Mt(cr),(a,i)=>{for(const l of i)if(l.evaluate(a))return!0;return!1}]]},"!":[cr,[cr],(a,[i])=>!i.evaluate(a)],"is-supported-script":[cr,[tr],(a,[i])=>{const l=a.globals&&a.globals.isSupportedScript;return!l||l(i.evaluate(a))}],upcase:[tr,[tr],(a,[i])=>i.evaluate(a).toUpperCase()],downcase:[tr,[tr],(a,[i])=>i.evaluate(a).toLowerCase()],concat:[tr,Mt(Nn),(a,i)=>i.map(l=>Wl(l.evaluate(a))).join("")],"resolved-locale":[tr,[wc],(a,[i])=>i.evaluate(a).resolvedLocale()]});var Ft=Ec;function wi(a){return{result:"success",value:a}}function Vt(a){return{result:"error",value:a}}function li(a){return a["property-type"]==="data-driven"}function Ii(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function tn(a){return!!a.expression&&a.expression.interpolated}function zi(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":a===null?"null":typeof a}function Rn(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}function Fn(a){return a}function Un(a,i){const l=i.type==="color",u=a.stops&&typeof a.stops[0][0]=="object",f=u||!(u||a.property!==void 0),x=a.type||(tn(i)?"exponential":"interval");if(l&&((a=ps({},a)).stops&&(a.stops=a.stops.map(ne=>[ne[0],As.parse(ne[1])])),a.default=As.parse(a.default?a.default:i.default)),a.colorSpace&&a.colorSpace!=="rgb"&&!Lu[a.colorSpace])throw new Error(`Unknown color space: ${a.colorSpace}`);let C,N,ee;if(x==="exponential")C=we;else if(x==="interval")C=In;else if(x==="categorical"){C=Cr,N=Object.create(null);for(const ne of a.stops)N[ne[0]]=ne[1];ee=typeof a.stops[0][0]}else{if(x!=="identity")throw new Error(`Unknown function type "${x}"`);C=Ce}if(u){const ne={},fe=[];for(let Le=0;Le<a.stops.length;Le++){const ze=a.stops[Le],Ge=ze[0].zoom;ne[Ge]===void 0&&(ne[Ge]={zoom:Ge,type:a.type,property:a.property,default:a.default,stops:[]},fe.push(Ge)),ne[Ge].stops.push([ze[0].value,ze[1]])}const Te=[];for(const Le of fe)Te.push([ne[Le].zoom,Un(ne[Le],i)]);const Ee={name:"linear"};return{kind:"composite",interpolationType:Ee,interpolationFactor:Ea.interpolationFactor.bind(void 0,Ee),zoomStops:Te.map(Le=>Le[0]),evaluate:({zoom:Le},ze)=>we({stops:Te,base:a.base},i,Le).evaluate(Le,ze)}}if(f){const ne=x==="exponential"?{name:"exponential",base:a.base!==void 0?a.base:1}:null;return{kind:"camera",interpolationType:ne,interpolationFactor:Ea.interpolationFactor.bind(void 0,ne),zoomStops:a.stops.map(fe=>fe[0]),evaluate:({zoom:fe})=>C(a,i,fe,N,ee)}}return{kind:"source",evaluate(ne,fe){const Te=fe&&fe.properties?fe.properties[a.property]:void 0;return Te===void 0?ir(a.default,i.default):C(a,i,Te,N,ee)}}}function ir(a,i,l){return a!==void 0?a:i!==void 0?i:l!==void 0?l:void 0}function Cr(a,i,l,u,f){return ir(typeof l===f?u[l]:void 0,a.default,i.default)}function In(a,i,l){if(zi(l)!=="number")return ir(a.default,i.default);const u=a.stops.length;if(u===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[u-1][0])return a.stops[u-1][1];const f=Xl(a.stops.map(x=>x[0]),l);return a.stops[f][1]}function we(a,i,l){const u=a.base!==void 0?a.base:1;if(zi(l)!=="number")return ir(a.default,i.default);const f=a.stops.length;if(f===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[f-1][0])return a.stops[f-1][1];const x=Xl(a.stops.map(fe=>fe[0]),l),C=function(fe,Te,Ee,Le){const ze=Le-Ee,Ge=fe-Ee;return ze===0?0:Te===1?Ge/ze:(Math.pow(Te,Ge)-1)/(Math.pow(Te,ze)-1)}(l,u,a.stops[x][0],a.stops[x+1][0]),N=a.stops[x][1],ee=a.stops[x+1][1];let ne=yo[i.type]||Fn;if(a.colorSpace&&a.colorSpace!=="rgb"){const fe=Lu[a.colorSpace];ne=(Te,Ee)=>fe.reverse(fe.interpolate(fe.forward(Te),fe.forward(Ee),C))}return typeof N.evaluate=="function"?{evaluate(...fe){const Te=N.evaluate.apply(void 0,fe),Ee=ee.evaluate.apply(void 0,fe);if(Te!==void 0&&Ee!==void 0)return ne(Te,Ee,C)}}:ne(N,ee,C)}function Ce(a,i,l){return i.type==="color"?l=As.parse(l):i.type==="formatted"?l=Ks.fromString(l.toString()):i.type==="resolvedImage"?l=fa.fromString(l.toString()):zi(l)===i.type||i.type==="enum"&&i.values[l]||(l=void 0),ir(l,a.default,i.default)}class $e{constructor(i,l){this.expression=i,this._warningHistory={},this._evaluator=new Md,this._defaultValue=l?function(u){return u.type==="color"&&(Rn(u.default)||Array.isArray(u.default))?new As(0,0,0,0):u.type==="color"?As.parse(u.default)||null:u.default===void 0?null:u.default}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(i,l,u,f,x,C,N,ee){return this._evaluator.globals=i,this._evaluator.feature=l,this._evaluator.featureState=u,this._evaluator.canonical=f||null,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=C,this._evaluator.featureTileCoord=N||null,this._evaluator.featureDistanceData=ee||null,this.expression.evaluate(this._evaluator)}evaluate(i,l,u,f,x,C,N,ee){this._evaluator.globals=i,this._evaluator.feature=l||null,this._evaluator.featureState=u||null,this._evaluator.canonical=f||null,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=C||null,this._evaluator.featureTileCoord=N||null,this._evaluator.featureDistanceData=ee||null;try{const ne=this.expression.evaluate(this._evaluator);if(ne==null||typeof ne=="number"&&ne!=ne)return this._defaultValue;if(this._enumValues&&!(ne in this._enumValues))throw new Js(`Expected value to be one of ${Object.keys(this._enumValues).map(fe=>JSON.stringify(fe)).join(", ")}, but found ${JSON.stringify(ne)} instead.`);return ne}catch(ne){return this._warningHistory[ne.message]||(this._warningHistory[ne.message]=!0,typeof console<"u"&&console.warn(ne.message)),this._defaultValue}}}function vt(a){return Array.isArray(a)&&a.length>0&&typeof a[0]=="string"&&a[0]in Ft}function Ei(a,i){const l=new Qr(Ft,[],i?function(f){const x={color:Jo,string:tr,number:Ki,enum:tr,boolean:cr,formatted:Ca,resolvedImage:nl};return f.type==="array"?Zs(x[f.value]||Nn,f.length):x[f.type]}(i):void 0),u=l.parse(a,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return u?wi(new $e(u,i)):Vt(l.errors)}class Tn{constructor(i,l){this.kind=i,this._styleExpression=l,this.isStateDependent=i!=="constant"&&!hr(l.expression)}evaluateWithoutErrorHandling(i,l,u,f,x,C){return this._styleExpression.evaluateWithoutErrorHandling(i,l,u,f,x,C)}evaluate(i,l,u,f,x,C){return this._styleExpression.evaluate(i,l,u,f,x,C)}}class xr{constructor(i,l,u,f){this.kind=i,this.zoomStops=u,this._styleExpression=l,this.isStateDependent=i!=="camera"&&!hr(l.expression),this.interpolationType=f}evaluateWithoutErrorHandling(i,l,u,f,x,C){return this._styleExpression.evaluateWithoutErrorHandling(i,l,u,f,x,C)}evaluate(i,l,u,f,x,C){return this._styleExpression.evaluate(i,l,u,f,x,C)}interpolationFactor(i,l,u){return this.interpolationType?Ea.interpolationFactor(this.interpolationType,i,l,u):0}}function to(a,i){if((a=Ei(a,i)).result==="error")return a;const l=a.value.expression,u=Jr(l);if(!u&&!li(i))return Vt([new Ao("","data expressions not supported")]);const f=pr(l,["zoom","pitch","distance-from-center"]);if(!f&&!Ii(i))return Vt([new Ao("","zoom expressions not supported")]);const x=Tl(l);return x||f?x instanceof Ao?Vt([x]):x instanceof Ea&&!tn(i)?Vt([new Ao("",'"interpolate" expressions cannot be used with this property')]):wi(x?new xr(u?"camera":"composite",a.value,x.labels,x instanceof Ea?x.interpolation:void 0):new Tn(u?"constant":"source",a.value)):Vt([new Ao("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ns{constructor(i,l){this._parameters=i,this._specification=l,ps(this,Un(this._parameters,this._specification))}static deserialize(i){return new Ns(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function Tl(a){let i=null;if(a instanceof Sc)i=Tl(a.result);else if(a instanceof ic){for(const l of a.args)if(i=Tl(l),i)break}else(a instanceof ea||a instanceof Ea)&&a.input instanceof Qo&&a.input.name==="zoom"&&(i=a);return i instanceof Ao||a.eachChild(l=>{const u=Tl(l);u instanceof Ao?i=u:!i&&u?i=new Ao("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&u&&i!==u&&(i=new Ao("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}class nn{constructor(i,l,u,f){this.message=(i?`${i}: `:"")+u,f&&(this.identifier=f),l!=null&&l.__line__&&(this.line=l.__line__)}}function Sl(a){const i=a.key,l=a.value,u=a.valueSpec||{},f=a.objectElementValidators||{},x=a.style,C=a.styleSpec;let N=[];const ee=zi(l);if(ee!=="object")return[new nn(i,l,`object expected, ${ee} found`)];for(const ne in l){const fe=ne.split(".")[0],Te=u[fe]||u["*"];let Ee;f[fe]?Ee=f[fe]:u[fe]?Ee=Jn:f["*"]?Ee=f["*"]:u["*"]&&(Ee=Jn),Ee?N=N.concat(Ee({key:(i&&`${i}.`)+ne,value:l[ne],valueSpec:Te,style:x,styleSpec:C,object:l,objectKey:ne},l)):N.push(new nn(i,l[ne],`unknown property "${ne}"`))}for(const ne in u)f[ne]||u[ne].required&&u[ne].default===void 0&&l[ne]===void 0&&N.push(new nn(i,l,`missing required property "${ne}"`));return N}function Dd(a){const i=a.value,l=a.valueSpec,u=a.style,f=a.styleSpec,x=a.key,C=a.arrayElementValidator||Jn;if(zi(i)!=="array")return[new nn(x,i,`array expected, ${zi(i)} found`)];if(l.length&&i.length!==l.length)return[new nn(x,i,`array length ${l.length} expected, length ${i.length} found`)];if(l["min-length"]&&i.length<l["min-length"])return[new nn(x,i,`array length at least ${l["min-length"]} expected, length ${i.length} found`)];let N={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};f.$version<7&&(N.function=l.function),zi(l.value)==="object"&&(N=l.value);let ee=[];for(let ne=0;ne<i.length;ne++)ee=ee.concat(C({array:i,arrayIndex:ne,value:i[ne],valueSpec:N,style:u,styleSpec:f,key:`${x}[${ne}]`}));return ee}function _h(a){const i=a.key,l=a.value,u=a.valueSpec;let f=zi(l);if(f==="number"&&l!=l&&(f="NaN"),f!=="number")return[new nn(i,l,`number expected, ${f} found`)];if("minimum"in u){let x=u.minimum;if(zi(u.minimum)==="array"&&(x=u.minimum[a.arrayIndex]),l<x)return[new nn(i,l,`${l} is less than the minimum value ${x}`)]}if("maximum"in u){let x=u.maximum;if(zi(u.maximum)==="array"&&(x=u.maximum[a.arrayIndex]),l>x)return[new nn(i,l,`${l} is greater than the maximum value ${x}`)]}return[]}function pp(a){const i=a.valueSpec,l=Ls(a.value.type);let u,f,x,C={};const N=l!=="categorical"&&a.value.property===void 0,ee=!N,ne=zi(a.value.stops)==="array"&&zi(a.value.stops[0])==="array"&&zi(a.value.stops[0][0])==="object",fe=Sl({key:a.key,value:a.value,valueSpec:a.styleSpec.function,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(Le){if(l==="identity")return[new nn(Le.key,Le.value,'identity function may not have a "stops" property')];let ze=[];const Ge=Le.value;return ze=ze.concat(Dd({key:Le.key,value:Ge,valueSpec:Le.valueSpec,style:Le.style,styleSpec:Le.styleSpec,arrayElementValidator:Te})),zi(Ge)==="array"&&Ge.length===0&&ze.push(new nn(Le.key,Ge,"array must have at least one stop")),ze},default:function(Le){return Jn({key:Le.key,value:Le.value,valueSpec:i,style:Le.style,styleSpec:Le.styleSpec})}}});return l==="identity"&&N&&fe.push(new nn(a.key,a.value,'missing required property "property"')),l==="identity"||a.value.stops||fe.push(new nn(a.key,a.value,'missing required property "stops"')),l==="exponential"&&a.valueSpec.expression&&!tn(a.valueSpec)&&fe.push(new nn(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(ee&&!li(a.valueSpec)?fe.push(new nn(a.key,a.value,"property functions not supported")):N&&!Ii(a.valueSpec)&&fe.push(new nn(a.key,a.value,"zoom functions not supported"))),l!=="categorical"&&!ne||a.value.property!==void 0||fe.push(new nn(a.key,a.value,'"property" property is required')),fe;function Te(Le){let ze=[];const Ge=Le.value,tt=Le.key;if(zi(Ge)!=="array")return[new nn(tt,Ge,`array expected, ${zi(Ge)} found`)];if(Ge.length!==2)return[new nn(tt,Ge,`array length 2 expected, length ${Ge.length} found`)];if(ne){if(zi(Ge[0])!=="object")return[new nn(tt,Ge,`object expected, ${zi(Ge[0])} found`)];if(Ge[0].zoom===void 0)return[new nn(tt,Ge,"object stop key must have zoom")];if(Ge[0].value===void 0)return[new nn(tt,Ge,"object stop key must have value")];const yt=Ls(Ge[0].zoom);if(typeof yt!="number")return[new nn(tt,Ge[0].zoom,"stop zoom values must be numbers")];if(x&&x>yt)return[new nn(tt,Ge[0].zoom,"stop zoom values must appear in ascending order")];yt!==x&&(x=yt,f=void 0,C={}),ze=ze.concat(Sl({key:`${tt}[0]`,value:Ge[0],valueSpec:{zoom:{}},style:Le.style,styleSpec:Le.styleSpec,objectElementValidators:{zoom:_h,value:Ee}}))}else ze=ze.concat(Ee({key:`${tt}[0]`,value:Ge[0],valueSpec:{},style:Le.style,styleSpec:Le.styleSpec},Ge));return vt(Os(Ge[1]))?ze.concat([new nn(`${tt}[1]`,Ge[1],"expressions are not allowed in function stops.")]):ze.concat(Jn({key:`${tt}[1]`,value:Ge[1],valueSpec:i,style:Le.style,styleSpec:Le.styleSpec}))}function Ee(Le,ze){const Ge=zi(Le.value),tt=Ls(Le.value),yt=Le.value!==null?Le.value:ze;if(u){if(Ge!==u)return[new nn(Le.key,yt,`${Ge} stop domain type must match previous stop domain type ${u}`)]}else u=Ge;if(Ge!=="number"&&Ge!=="string"&&Ge!=="boolean"&&typeof tt!="number"&&typeof tt!="string"&&typeof tt!="boolean")return[new nn(Le.key,yt,"stop domain value must be a number, string, or boolean")];if(Ge!=="number"&&l!=="categorical"){let kt=`number expected, ${Ge} found`;return li(i)&&l===void 0&&(kt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new nn(Le.key,yt,kt)]}return l!=="categorical"||Ge!=="number"||typeof tt=="number"&&isFinite(tt)&&Math.floor(tt)===tt?l!=="categorical"&&Ge==="number"&&typeof tt=="number"&&typeof f=="number"&&f!==void 0&&tt<f?[new nn(Le.key,yt,"stop domain values must appear in ascending order")]:(f=tt,l==="categorical"&&tt in C?[new nn(Le.key,yt,"stop domain values must be unique")]:(C[tt]=!0,[])):[new nn(Le.key,yt,`integer expected, found ${String(tt)}`)]}}function zu(a){const i=(a.expressionContext==="property"?to:Ei)(Os(a.value),a.valueSpec);if(i.result==="error")return i.value.map(u=>new nn(`${a.key}${u.key}`,a.value,u.message));const l=i.value.expression||i.value._styleExpression.expression;if(a.expressionContext==="property"&&a.propertyKey==="text-font"&&!l.outputDefined())return[new nn(a.key,a.value,`Invalid data expression for "${a.propertyKey}". Output values must be contained as literals within the expression.`)];if(a.expressionContext==="property"&&a.propertyType==="layout"&&!hr(l))return[new nn(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if(a.expressionContext==="filter")return Ef(l,a);if(a.expressionContext&&a.expressionContext.indexOf("cluster")===0){if(!pr(l,["zoom","feature-state"]))return[new nn(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(a.expressionContext==="cluster-initial"&&!Jr(l))return[new nn(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ef(a,i){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(i.valueSpec&&i.valueSpec.expression)for(const f of i.valueSpec.expression.parameters)l.delete(f);if(l.size===0)return[];const u=[];return a instanceof Qo&&l.has(a.name)?[new nn(i.key,i.value,`["${a.name}"] expression is not supported in a filter for a ${i.object.type} layer with id: ${i.object.id}`)]:(a.eachChild(f=>{u.push(...Ef(f,i))}),u)}function fp(a){const i=a.key,l=a.value,u=a.valueSpec,f=[];return Array.isArray(u.values)?u.values.indexOf(Ls(l))===-1&&f.push(new nn(i,l,`expected one of [${u.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(u.values).indexOf(Ls(l))===-1&&f.push(new nn(i,l,`expected one of [${Object.keys(u.values).join(", ")}], ${JSON.stringify(l)} found`)),f}function Nu(a){if(a===!0||a===!1)return!0;if(!Array.isArray(a)||a.length===0)return!1;switch(a[0]){case"has":return a.length>=2&&a[1]!=="$id"&&a[1]!=="$type";case"in":return a.length>=3&&(typeof a[1]!="string"||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return a.length!==3||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(const i of a.slice(1))if(!Nu(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}function Fs(a,i="fill"){if(a==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Nu(a)||(a=Mc(a));const l=a;let u=!0;try{u=function(ne){if(!Fu(ne))return ne;let fe=Os(ne);return vh(fe),fe=ms(fe),fe}(l)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(l,null,2)}
        `)}const f=fi[`filter_${i}`],x=Ei(u,f);let C=null;if(x.result==="error")throw new Error(x.value.map(ne=>`${ne.key}: ${ne.message}`).join(", "));C=(ne,fe,Te)=>x.value.evaluate(ne,fe,{},Te);let N=null,ee=null;if(u!==l){const ne=Ei(l,f);if(ne.result==="error")throw new Error(ne.value.map(fe=>`${fe.key}: ${fe.message}`).join(", "));N=(fe,Te,Ee,Le,ze)=>ne.value.evaluate(fe,Te,{},Ee,void 0,void 0,Le,ze),ee=!Jr(ne.value.expression)}return{filter:C,dynamicFilter:N||void 0,needGeometry:mp(u),needFeature:!!ee}}function ms(a){if(!Array.isArray(a))return a;const i=function(l){if(rm.has(l[0])){for(let u=1;u<l.length;u++)if(Fu(l[u]))return!0}return l}(a);return i===!0?i:i.map(l=>ms(l))}function vh(a){let i=!1;const l=[];if(a[0]==="case"){for(let u=1;u<a.length-1;u+=2)i=i||Fu(a[u]),l.push(a[u+1]);l.push(a[a.length-1])}else if(a[0]==="match"){i=i||Fu(a[1]);for(let u=2;u<a.length-1;u+=2)l.push(a[u+1]);l.push(a[a.length-1])}else if(a[0]==="step"){i=i||Fu(a[1]);for(let u=1;u<a.length-1;u+=2)l.push(a[u+1])}i&&(a.length=0,a.push("any",...l));for(let u=1;u<a.length;u++)vh(a[u])}function Fu(a){if(!Array.isArray(a))return!1;if((i=a[0])==="pitch"||i==="distance-from-center")return!0;var i;for(let l=1;l<a.length;l++)if(Fu(a[l]))return!0;return!1}const rm=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function qg(a,i){return a<i?-1:a>i?1:0}function mp(a){if(!Array.isArray(a))return!1;if(a[0]==="within")return!0;for(let i=1;i<a.length;i++)if(mp(a[i]))return!0;return!1}function Mc(a){if(!a)return!0;const i=a[0];return a.length<=1?i!=="any":i==="=="?xh(a[1],a[2],"=="):i==="!="?Id(xh(a[1],a[2],"==")):i==="<"||i===">"||i==="<="||i===">="?xh(a[1],a[2],i):i==="any"?(l=a.slice(1),["any"].concat(l.map(Mc))):i==="all"?["all"].concat(a.slice(1).map(Mc)):i==="none"?["all"].concat(a.slice(1).map(Mc).map(Id)):i==="in"?Jc(a[1],a.slice(2)):i==="!in"?Id(Jc(a[1],a.slice(2))):i==="has"?ju(a[1]):i==="!has"?Id(ju(a[1])):i!=="within"||a;var l}function xh(a,i,l){switch(a){case"$type":return[`filter-type-${l}`,i];case"$id":return[`filter-id-${l}`,i];default:return[`filter-${l}`,a,i]}}function Jc(a,i){if(i.length===0)return!1;switch(a){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(l=>typeof l!=typeof i[0])?["filter-in-large",a,["literal",i.sort(qg)]]:["filter-in-small",a,["literal",i]]}}function ju(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function Id(a){return["!",a]}function Ld(a){return Nu(Os(a.value))?zu(ps({},a,{expressionContext:"filter",valueSpec:a.styleSpec[`filter_${a.layerType||"fill"}`]})):ou(a)}function ou(a){const i=a.value,l=a.key;if(zi(i)!=="array")return[new nn(l,i,`array expected, ${zi(i)} found`)];const u=a.styleSpec;let f,x=[];if(i.length<1)return[new nn(l,i,"filter array must have at least 1 element")];switch(x=x.concat(fp({key:`${l}[0]`,value:i[0],valueSpec:u.filter_operator,style:a.style,styleSpec:a.styleSpec})),Ls(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&Ls(i[1])==="$type"&&x.push(new nn(l,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&x.push(new nn(l,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(f=zi(i[1]),f!=="string"&&x.push(new nn(`${l}[1]`,i[1],`string expected, ${f} found`)));for(let C=2;C<i.length;C++)f=zi(i[C]),Ls(i[1])==="$type"?x=x.concat(fp({key:`${l}[${C}]`,value:i[C],valueSpec:u.geometry_type,style:a.style,styleSpec:a.styleSpec})):f!=="string"&&f!=="number"&&f!=="boolean"&&x.push(new nn(`${l}[${C}]`,i[C],`string, number, or boolean expected, ${f} found`));break;case"any":case"all":case"none":for(let C=1;C<i.length;C++)x=x.concat(ou({key:`${l}[${C}]`,value:i[C],style:a.style,styleSpec:a.styleSpec}));break;case"has":case"!has":f=zi(i[1]),i.length!==2?x.push(new nn(l,i,`filter array for "${i[0]}" operator must have 2 elements`)):f!=="string"&&x.push(new nn(`${l}[1]`,i[1],`string expected, ${f} found`));break;case"within":f=zi(i[1]),i.length!==2?x.push(new nn(l,i,`filter array for "${i[0]}" operator must have 2 elements`)):f!=="object"&&x.push(new nn(`${l}[1]`,i[1],`object expected, ${f} found`))}return x}function Mf(a,i){const l=a.key,u=a.style,f=a.styleSpec,x=a.value,C=a.objectKey,N=f[`${i}_${a.layerType}`];if(!N)return[];const ee=C.match(/^(.*)-transition$/);if(i==="paint"&&ee&&N[ee[1]]&&N[ee[1]].transition)return Jn({key:l,value:x,valueSpec:f.transition,style:u,styleSpec:f});const ne=a.valueSpec||N[C];if(!ne)return[new nn(l,x,`unknown property "${C}"`)];let fe;if(zi(x)==="string"&&li(ne)&&!ne.tokens&&(fe=/^{([^}]+)}$/.exec(x)))return[new nn(l,x,`"${C}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(fe[1])} }\`.`)];const Te=[];return a.layerType==="symbol"&&(C==="text-field"&&u&&!u.glyphs&&Te.push(new nn(l,x,'use of "text-field" requires a style "glyphs" property')),C==="text-font"&&Rn(Os(x))&&Ls(x.type)==="identity"&&Te.push(new nn(l,x,'"text-font" does not support identity functions'))),Te.concat(Jn({key:a.key,value:x,valueSpec:ne,style:u,styleSpec:f,expressionContext:"property",propertyType:i,propertyKey:C}))}function kf(a){return Mf(a,"paint")}function sm(a){return Mf(a,"layout")}function gp(a){let i=[];const l=a.value,u=a.key,f=a.style,x=a.styleSpec;l.type||l.ref||i.push(new nn(u,l,'either "type" or "ref" is required'));let C=Ls(l.type);const N=Ls(l.ref);if(l.id){const ee=Ls(l.id);for(let ne=0;ne<a.arrayIndex;ne++){const fe=f.layers[ne];Ls(fe.id)===ee&&i.push(new nn(u,l.id,`duplicate layer id "${l.id}", previously used at line ${fe.id.__line__}`))}}if("ref"in l){let ee;["type","source","source-layer","filter","layout"].forEach(ne=>{ne in l&&i.push(new nn(u,l[ne],`"${ne}" is prohibited for ref layers`))}),f.layers.forEach(ne=>{Ls(ne.id)===N&&(ee=ne)}),ee?ee.ref?i.push(new nn(u,l.ref,"ref cannot reference another ref layer")):C=Ls(ee.type):typeof N=="string"&&i.push(new nn(u,l.ref,`ref layer "${N}" not found`))}else if(C!=="background"&&C!=="sky")if(l.source){const ee=f.sources&&f.sources[l.source],ne=ee&&Ls(ee.type);ee?ne==="vector"&&C==="raster"?i.push(new nn(u,l.source,`layer "${l.id}" requires a raster source`)):ne==="raster"&&C!=="raster"?i.push(new nn(u,l.source,`layer "${l.id}" requires a vector source`)):ne!=="vector"||l["source-layer"]?ne==="raster-dem"&&C!=="hillshade"?i.push(new nn(u,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):C!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||ne==="geojson"&&ee.lineMetrics||i.push(new nn(u,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new nn(u,l,`layer "${l.id}" must specify a "source-layer"`)):i.push(new nn(u,l.source,`source "${l.source}" not found`))}else i.push(new nn(u,l,'missing required property "source"'));return i=i.concat(Sl({key:u,value:l,valueSpec:x.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Jn({key:`${u}.type`,value:l.type,valueSpec:x.layer.type,style:a.style,styleSpec:a.styleSpec,object:l,objectKey:"type"}),filter:ee=>Ld(ps({layerType:C},ee)),layout:ee=>Sl({layer:l,key:ee.key,value:ee.value,valueSpec:{},style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{"*":ne=>sm(ps({layerType:C},ne))}}),paint:ee=>Sl({layer:l,key:ee.key,value:ee.value,valueSpec:{},style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{"*":ne=>kf(ps({layerType:C},ne))}})}})),i}function Qc(a){const i=a.value,l=a.key,u=zi(i);return u!=="string"?[new nn(l,i,`string expected, ${u} found`)]:[]}const Uu={promoteId:function({key:a,value:i}){if(zi(i)==="string")return Qc({key:a,value:i});{const l=[];for(const u in i)l.push(...Qc({key:`${a}.${u}`,value:i[u]}));return l}}};function $u(a){const i=a.value,l=a.key,u=a.styleSpec,f=a.style;if(!i.type)return[new nn(l,i,'"type" is required')];const x=Ls(i.type);let C;switch(x){case"vector":case"raster":case"raster-dem":return C=Sl({key:l,value:i,valueSpec:u[`source_${x.replace("-","_")}`],style:a.style,styleSpec:u,objectElementValidators:Uu}),C;case"geojson":if(C=Sl({key:l,value:i,valueSpec:u.source_geojson,style:f,styleSpec:u,objectElementValidators:Uu}),i.cluster)for(const N in i.clusterProperties){const[ee,ne]=i.clusterProperties[N],fe=typeof ee=="string"?[ee,["accumulated"],["get",N]]:ee;C.push(...zu({key:`${l}.${N}.map`,value:ne,expressionContext:"cluster-map"})),C.push(...zu({key:`${l}.${N}.reduce`,value:fe,expressionContext:"cluster-reduce"}))}return C;case"video":return Sl({key:l,value:i,valueSpec:u.source_video,style:f,styleSpec:u});case"image":return Sl({key:l,value:i,valueSpec:u.source_image,style:f,styleSpec:u});case"canvas":return[new nn(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return fp({key:`${l}.type`,value:i.type,valueSpec:{values:Af(u)},style:f,styleSpec:u})}}function Af(a){return a.source.reduce((i,l)=>{const u=a[l];return u.type.type==="enum"&&(i=i.concat(Object.keys(u.type.values))),i},[])}function it(a){const i=a.value,l=a.styleSpec,u=l.light,f=a.style;let x=[];const C=zi(i);if(i===void 0)return x;if(C!=="object")return x=x.concat([new nn("light",i,`object expected, ${C} found`)]),x;for(const N in i){const ee=N.match(/^(.*)-transition$/);x=x.concat(ee&&u[ee[1]]&&u[ee[1]].transition?Jn({key:N,value:i[N],valueSpec:l.transition,style:f,styleSpec:l}):u[N]?Jn({key:N,value:i[N],valueSpec:u[N],style:f,styleSpec:l}):[new nn(N,i[N],`unknown property "${N}"`)])}return x}function ed(a){const i=a.value,l=a.key,u=a.style,f=a.styleSpec,x=f.terrain;let C=[];const N=zi(i);if(i===void 0)return C;if(N!=="object")return C=C.concat([new nn("terrain",i,`object expected, ${N} found`)]),C;for(const ee in i){const ne=ee.match(/^(.*)-transition$/);C=C.concat(ne&&x[ne[1]]&&x[ne[1]].transition?Jn({key:ee,value:i[ee],valueSpec:f.transition,style:u,styleSpec:f}):x[ee]?Jn({key:ee,value:i[ee],valueSpec:x[ee],style:u,styleSpec:f}):[new nn(ee,i[ee],`unknown property "${ee}"`)])}if(i.source){const ee=u.sources&&u.sources[i.source],ne=ee&&Ls(ee.type);ee?ne!=="raster-dem"&&C.push(new nn(l,i.source,`terrain cannot be used with a source of type ${String(ne)}, it only be used with a "raster-dem" source type`)):C.push(new nn(l,i.source,`source "${i.source}" not found`))}else C.push(new nn(l,i,'terrain is missing required property "source"'));return C}function bh(a){const i=a.value,l=a.style,u=a.styleSpec,f=u.fog;let x=[];const C=zi(i);if(i===void 0)return x;if(C!=="object")return x=x.concat([new nn("fog",i,`object expected, ${C} found`)]),x;for(const N in i){const ee=N.match(/^(.*)-transition$/);x=x.concat(ee&&f[ee[1]]&&f[ee[1]].transition?Jn({key:N,value:i[N],valueSpec:u.transition,style:l,styleSpec:u}):f[N]?Jn({key:N,value:i[N],valueSpec:f[N],style:l,styleSpec:u}):[new nn(N,i[N],`unknown property "${N}"`)])}return x}const al={"*":()=>[],array:Dd,boolean:function(a){const i=a.value,l=a.key,u=zi(i);return u!=="boolean"?[new nn(l,i,`boolean expected, ${u} found`)]:[]},number:_h,color:function(a){const i=a.key,l=a.value,u=zi(l);return u!=="string"?[new nn(i,l,`color expected, ${u} found`)]:yl(l)===null?[new nn(i,l,`color expected, "${l}" found`)]:[]},enum:fp,filter:Ld,function:pp,layer:gp,object:Sl,source:$u,light:it,terrain:ed,fog:bh,string:Qc,formatted:function(a){return Qc(a).length===0?[]:zu(a)},resolvedImage:function(a){return Qc(a).length===0?[]:zu(a)},projection:function(a){const i=a.value,l=a.styleSpec,u=l.projection,f=a.style;let x=[];const C=zi(i);if(C==="object")for(const N in i)x=x.concat(Jn({key:N,value:i[N],valueSpec:u[N],style:f,styleSpec:l}));else C!=="string"&&(x=x.concat([new nn("projection",i,`object or string expected, ${C} found`)]));return x}};function Jn(a){const i=a.value,l=a.valueSpec,u=a.styleSpec;return l.expression&&Rn(Ls(i))?pp(a):l.expression&&vt(Os(i))?zu(a):l.type&&al[l.type]?al[l.type](a):Sl(ps({},a,{valueSpec:l.type?u[l.type]:l}))}function Xg(a){const i=a.value,l=a.key,u=Qc(a);return u.length||(i.indexOf("{fontstack}")===-1&&u.push(new nn(l,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&u.push(new nn(l,i,'"glyphs" url must include a "{range}" token'))),u}function Pf(a,i=fi){return td(Jn({key:"",value:a,valueSpec:i.$root,styleSpec:i,style:a,objectElementValidators:{glyphs:Xg,"*":()=>[]}}))}const Zg=a=>td(kf(a)),au=a=>td(sm(a));function td(a){return a.slice().sort((i,l)=>i.line&&l.line?i.line-l.line:0)}function om(a,i){let l=!1;if(i&&i.length)for(const u of i)a.fire(new $a(new Error(u.message))),l=!0;return l}var Vu=kc;function kc(a,i,l){var u=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var f=new Int32Array(this.arrayBuffer);a=f[0],this.d=(i=f[1])+2*(l=f[2]);for(var x=0;x<this.d*this.d;x++){var C=f[3+x],N=f[3+x+1];u.push(C===N?null:f.subarray(C,N))}var ee=f[3+u.length+1];this.keys=f.subarray(f[3+u.length],ee),this.bboxes=f.subarray(ee),this.insert=this._insertReadonly}else{this.d=i+2*l;for(var ne=0;ne<this.d*this.d;ne++)u.push([]);this.keys=[],this.bboxes=[]}this.n=i,this.extent=a,this.padding=l,this.scale=i/a,this.uid=0;var fe=l/i*a;this.min=-fe,this.max=a+fe}kc.prototype.insert=function(a,i,l,u,f){this._forEachCell(i,l,u,f,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(i),this.bboxes.push(l),this.bboxes.push(u),this.bboxes.push(f)},kc.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},kc.prototype._insertCell=function(a,i,l,u,f,x){this.cells[f].push(x)},kc.prototype.query=function(a,i,l,u,f){var x=this.min,C=this.max;if(a<=x&&i<=x&&C<=l&&C<=u&&!f)return Array.prototype.slice.call(this.keys);var N=[];return this._forEachCell(a,i,l,u,this._queryCell,N,{},f),N},kc.prototype._queryCell=function(a,i,l,u,f,x,C,N){var ee=this.cells[f];if(ee!==null)for(var ne=this.keys,fe=this.bboxes,Te=0;Te<ee.length;Te++){var Ee=ee[Te];if(C[Ee]===void 0){var Le=4*Ee;(N?N(fe[Le+0],fe[Le+1],fe[Le+2],fe[Le+3]):a<=fe[Le+2]&&i<=fe[Le+3]&&l>=fe[Le+0]&&u>=fe[Le+1])?(C[Ee]=!0,x.push(ne[Ee])):C[Ee]=!1}}},kc.prototype._forEachCell=function(a,i,l,u,f,x,C,N){for(var ee=this._convertToCellCoord(a),ne=this._convertToCellCoord(i),fe=this._convertToCellCoord(l),Te=this._convertToCellCoord(u),Ee=ee;Ee<=fe;Ee++)for(var Le=ne;Le<=Te;Le++){var ze=this.d*Le+Ee;if((!N||N(this._convertFromCellCoord(Ee),this._convertFromCellCoord(Le),this._convertFromCellCoord(Ee+1),this._convertFromCellCoord(Le+1)))&&f.call(this,a,i,l,u,ze,x,C,N))return}},kc.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},kc.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},kc.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,i=3+this.cells.length+1+1,l=0,u=0;u<this.cells.length;u++)l+=this.cells[u].length;var f=new Int32Array(i+l+this.keys.length+this.bboxes.length);f[0]=this.extent,f[1]=this.n,f[2]=this.padding;for(var x=i,C=0;C<a.length;C++){var N=a[C];f[3+C]=x,f.set(N,x),x+=N.length}return f[3+a.length]=x,f.set(this.keys,x),f[3+a.length+1]=x+=this.keys.length,f.set(this.bboxes,x),x+=this.bboxes.length,f.buffer};const yp={};function en(a,i,l={}){Object.defineProperty(a,"_classRegistryKey",{value:i,writeable:!1}),yp[i]={klass:a,omit:l.omit||[]}}en(Object,"Object"),Vu.serialize=function(a,i){const l=a.toArrayBuffer();return i&&i.push(l),{buffer:l}},Vu.deserialize=function(a){return new Vu(a.buffer)},Object.defineProperty(Vu,"name",{value:"Grid"}),en(Vu,"Grid"),en(As,"Color"),en(Error,"Error"),en(pi,"AJAXError"),en(fa,"ResolvedImage"),en(Ns,"StylePropertyFunction"),en($e,"StyleExpression",{omit:["_evaluator"]}),en(xr,"ZoomDependentExpression"),en(Tn,"ZoomConstantExpression"),en(Qo,"CompoundExpression",{omit:["_evaluate"]});for(const a in Ft)yp[Ft[a]._classRegistryKey]||en(Ft[a],`Expression${a}`);function am(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&a.constructor.name==="ArrayBuffer")}function lm(a){return v.ImageBitmap&&a instanceof v.ImageBitmap}function Od(a,i){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(am(a)||lm(a))return i&&i.push(a),a;if(ArrayBuffer.isView(a)){const l=a;return i&&i.push(l.buffer),l}if(a instanceof v.ImageData)return i&&i.push(a.data.buffer),a;if(Array.isArray(a)){const l=[];for(const u of a)l.push(Od(u,i));return l}if(typeof a=="object"){const l=a.constructor,u=l._classRegistryKey;if(!u)throw new Error(`can't serialize object of unregistered class ${u}`);const f=l.serialize?l.serialize(a,i):{};if(!l.serialize){for(const x in a)a.hasOwnProperty(x)&&(yp[u].omit.indexOf(x)>=0||(f[x]=Od(a[x],i)));a instanceof Error&&(f.message=a.message)}if(f.$name)throw new Error("$name property is reserved for worker serialization logic.");return u!=="Object"&&(f.$name=u),f}throw new Error("can't serialize object of type "+typeof a)}function wh(a){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||am(a)||lm(a)||ArrayBuffer.isView(a)||a instanceof v.ImageData)return a;if(Array.isArray(a))return a.map(wh);if(typeof a=="object"){const i=a.$name||"Object",{klass:l}=yp[i];if(!l)throw new Error(`can't deserialize unregistered class ${i}`);if(l.deserialize)return l.deserialize(a);const u=Object.create(l.prototype);for(const f of Object.keys(a))f!=="$name"&&(u[f]=wh(a[f]));return u}throw new Error("can't deserialize object of type "+typeof a)}const Df=a=>a>=1536&&a<=1791,Ac=a=>a>=1872&&a<=1919,If=a=>a>=2208&&a<=2303,Lf=a=>a>=11904&&a<=12031,Of=a=>a>=12032&&a<=12255,Rf=a=>a>=12272&&a<=12287,Gu=a=>a>=12288&&a<=12351,rc=a=>a>=12352&&a<=12447,_p=a=>a>=12448&&a<=12543,cm=a=>a>=12544&&a<=12591,ll=a=>a>=12704&&a<=12735,dm=a=>a>=12736&&a<=12783,um=a=>a>=12784&&a<=12799,hm=a=>a>=12800&&a<=13055,pm=a=>a>=13056&&a<=13311,fm=a=>a>=13312&&a<=19903,vp=a=>a>=19968&&a<=40959,Bf=a=>a>=40960&&a<=42127,mm=a=>a>=42128&&a<=42191,zf=a=>a>=44032&&a<=55215,lu=a=>a>=63744&&a<=64255,_=a=>a>=64336&&a<=65023,c=a=>a>=65040&&a<=65055,p=a=>a>=65072&&a<=65103,T=a=>a>=65104&&a<=65135,B=a=>a>=65136&&a<=65279,W=a=>a>=65280&&a<=65519;function se(a){for(const i of a)if(De(i.charCodeAt(0)))return!0;return!1}function ue(a){for(const i of a)if(!me(i.charCodeAt(0)))return!1;return!0}function me(a){return!(Df(a)||Ac(a)||If(a)||_(a)||B(a))}function De(a){return!(a!==746&&a!==747&&(a<4352||!(ll(a)||cm(a)||p(a)&&!(a>=65097&&a<=65103)||lu(a)||pm(a)||Lf(a)||dm(a)||!(!Gu(a)||a>=12296&&a<=12305||a>=12308&&a<=12319||a===12336)||fm(a)||vp(a)||hm(a)||(i=>i>=12592&&i<=12687)(a)||(i=>i>=43360&&i<=43391)(a)||(i=>i>=55216&&i<=55295)(a)||(i=>i>=4352&&i<=4607)(a)||zf(a)||rc(a)||Rf(a)||(i=>i>=12688&&i<=12703)(a)||Of(a)||um(a)||_p(a)&&a!==12540||!(!W(a)||a===65288||a===65289||a===65293||a>=65306&&a<=65310||a===65339||a===65341||a===65343||a>=65371&&a<=65503||a===65507||a>=65512&&a<=65519)||!(!T(a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||(i=>i>=5120&&i<=5759)(a)||(i=>i>=6320&&i<=6399)(a)||c(a)||(i=>i>=19904&&i<=19967)(a)||Bf(a)||mm(a))))}function Ae(a){return!(De(a)||function(i){return!!((l=>l>=128&&l<=255)(i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||(l=>l>=8192&&l<=8303)(i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||(l=>l>=8448&&l<=8527)(i)||(l=>l>=8528&&l<=8591)(i)||(l=>l>=8960&&l<=9215)(i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||(l=>l>=9216&&l<=9279)(i)&&i!==9251||(l=>l>=9280&&l<=9311)(i)||(l=>l>=9312&&l<=9471)(i)||(l=>l>=9632&&l<=9727)(i)||(l=>l>=9728&&l<=9983)(i)&&!(i>=9754&&i<=9759)||(l=>l>=11008&&l<=11263)(i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||Gu(i)||_p(i)||(l=>l>=57344&&l<=63743)(i)||p(i)||T(i)||W(i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(a))}function Fe(a){return a>=1424&&a<=2303||_(a)||B(a)}function Ze(a,i){return!(!i&&Fe(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||(l=>l>=6016&&l<=6143)(a))}function at(a){for(const i of a)if(Fe(i.charCodeAt(0)))return!0;return!1}const lt="deferred",ut="loading",et="loaded";let nt=null,mt="unavailable",ct=null;const xt=function(a){a&&typeof a=="string"&&a.indexOf("NetworkError")>-1&&(mt="error"),nt&&nt(a)};function Pt(){St.fire(new Ua("pluginStateChange",{pluginStatus:mt,pluginURL:ct}))}const St=new go,jt=function(){return mt},ii=function(){if(mt!==lt||!ct)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");mt=ut,Pt(),ct&&It({url:ct},a=>{a?xt(a):(mt=et,Pt())})},Jt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>mt===et||Jt.applyArabicShaping!=null,isLoading:()=>mt===ut,setState(a){mt=a.pluginStatus,ct=a.pluginURL},isParsed:()=>Jt.applyArabicShaping!=null&&Jt.processBidirectionalText!=null&&Jt.processStyledBidirectionalText!=null,getPluginURL:()=>ct};class Gt{constructor(i,l){this.zoom=i,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.transition=l.transition,this.pitch=l.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(i){return function(l,u){for(const f of l)if(!Ze(f.charCodeAt(0),u))return!1;return!0}(i,Jt.isLoaded())}}class Mi{constructor(i,l){this.property=i,this.value=l,this.expression=function(u,f){if(Rn(u))return new Ns(u,f);if(vt(u)){const x=to(u,f);if(x.result==="error")throw new Error(x.value.map(C=>`${C.key}: ${C.message}`).join(", "));return x.value}{let x=u;return typeof u=="string"&&f.type==="color"&&(x=As.parse(u)),{kind:"constant",evaluate:()=>x}}}(l===void 0?i.specification.default:l,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,l,u){return this.property.possiblyEvaluate(this,i,l,u)}}class Xt{constructor(i){this.property=i,this.value=new Mi(i,void 0)}transitioned(i,l){return new ri(this.property,this.value,l,K({},i.transition,this.transition),i.now)}untransitioned(){return new ri(this.property,this.value,null,{},0)}}class yi{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return ve(this._values[i].value.value)}setValue(i,l){this._values.hasOwnProperty(i)||(this._values[i]=new Xt(this._values[i].property)),this._values[i].value=new Mi(this._values[i].property,l===null?void 0:ve(l))}getTransition(i){return ve(this._values[i].transition)}setTransition(i,l){this._values.hasOwnProperty(i)||(this._values[i]=new Xt(this._values[i].property)),this._values[i].transition=ve(l)||void 0}serialize(){const i={};for(const l of Object.keys(this._values)){const u=this.getValue(l);u!==void 0&&(i[l]=u);const f=this.getTransition(l);f!==void 0&&(i[`${l}-transition`]=f)}return i}transitioned(i,l){const u=new Ri(this._properties);for(const f of Object.keys(this._values))u._values[f]=this._values[f].transitioned(i,l._values[f]);return u}untransitioned(){const i=new Ri(this._properties);for(const l of Object.keys(this._values))i._values[l]=this._values[l].untransitioned();return i}}class ri{constructor(i,l,u,f,x){const C=f.delay||0,N=f.duration||0;x=x||0,this.property=i,this.value=l,this.begin=x+C,this.end=this.begin+N,i.specification.transition&&(f.delay||f.duration)&&(this.prior=u)}possiblyEvaluate(i,l,u){const f=i.now||0,x=this.value.possiblyEvaluate(i,l,u),C=this.prior;if(C){if(f>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(f<this.begin)return C.possiblyEvaluate(i,l,u);{const N=(f-this.begin)/(this.end-this.begin);return this.property.interpolate(C.possiblyEvaluate(i,l,u),x,w(N))}}return x}}class Ri{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,l,u){const f=new Ni(this._properties);for(const x of Object.keys(this._values))f._values[x]=this._values[x].possiblyEvaluate(i,l,u);return f}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class si{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}getValue(i){return ve(this._values[i].value)}setValue(i,l){this._values[i]=new Mi(this._values[i].property,l===null?void 0:ve(l))}serialize(){const i={};for(const l of Object.keys(this._values)){const u=this.getValue(l);u!==void 0&&(i[l]=u)}return i}possiblyEvaluate(i,l,u){const f=new Ni(this._properties);for(const x of Object.keys(this._values))f._values[x]=this._values[x].possiblyEvaluate(i,l,u);return f}}class Si{constructor(i,l,u){this.property=i,this.value=l,this.parameters=u}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,l,u,f){return this.property.evaluate(this.value,this.parameters,i,l,u,f)}}class Ni{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Yt{constructor(i){this.specification=i}possiblyEvaluate(i,l){return i.expression.evaluate(l)}interpolate(i,l,u){const f=yo[this.specification.type];return f?f(i,l,u):i}}class ni{constructor(i,l){this.specification=i,this.overrides=l}possiblyEvaluate(i,l,u,f){return new Si(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(l,null,{},u,f)}:i.expression,l)}interpolate(i,l,u){if(i.value.kind!=="constant"||l.value.kind!=="constant")return i;if(i.value.value===void 0||l.value.value===void 0)return new Si(this,{kind:"constant",value:void 0},i.parameters);const f=yo[this.specification.type];return f?new Si(this,{kind:"constant",value:f(i.value.value,l.value.value,u)},i.parameters):i}evaluate(i,l,u,f,x,C){return i.kind==="constant"?i.value:i.evaluate(l,u,f,x,C)}}class mn{constructor(i){this.specification=i}possiblyEvaluate(i,l,u,f){return!!i.expression.evaluate(l,null,{},u,f)}interpolate(){return!1}}class Sn{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const l=new Gt(0,{});for(const u in i){const f=i[u];f.specification.overridable&&this.overridableProperties.push(u);const x=this.defaultPropertyValues[u]=new Mi(f,void 0),C=this.defaultTransitionablePropertyValues[u]=new Xt(f);this.defaultTransitioningPropertyValues[u]=C.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=x.possiblyEvaluate(l)}}}function gn(a,i){return 256*(a=g(Math.floor(a),0,255))+g(Math.floor(i),0,255)}en(ni,"DataDrivenProperty"),en(Yt,"DataConstantProperty"),en(mn,"ColorRampProperty");const jn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class or{constructor(i,l){this._structArray=i,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class kn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,l){return i._trim(),l&&(i.isTransferred=!0,l.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const l=Object.create(this.prototype);return l.arrayBuffer=i.arrayBuffer,l.length=i.length,l.capacity=i.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function ln(a,i=1){let l=0,u=0;return{members:a.map(f=>{const x=jn[f.type].BYTES_PER_ELEMENT,C=l=is(l,Math.max(i,x)),N=f.components||1;return u=Math.max(u,x),l+=x*N,{name:f.name,type:f.type,components:N,offset:C}}),size:is(l,Math.max(u,i)),alignment:i}}function is(a,i){return Math.ceil(a/i)*i}class Hr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l){const u=this.length;return this.resize(u+1),this.emplace(u,i,l)}emplace(i,l,u){const f=2*i;return this.int16[f+0]=l,this.int16[f+1]=u,i}}Hr.prototype.bytesPerElement=4,en(Hr,"StructArrayLayout2i4");class rs extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,u){const f=this.length;return this.resize(f+1),this.emplace(f,i,l,u)}emplace(i,l,u,f){const x=3*i;return this.int16[x+0]=l,this.int16[x+1]=u,this.int16[x+2]=f,i}}rs.prototype.bytesPerElement=6,en(rs,"StructArrayLayout3i6");class es extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,u,f){const x=this.length;return this.resize(x+1),this.emplace(x,i,l,u,f)}emplace(i,l,u,f,x){const C=4*i;return this.int16[C+0]=l,this.int16[C+1]=u,this.int16[C+2]=f,this.int16[C+3]=x,i}}es.prototype.bytesPerElement=8,en(es,"StructArrayLayout4i8");class Ha extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x,C,N){const ee=this.length;return this.resize(ee+1),this.emplace(ee,i,l,u,f,x,C,N)}emplace(i,l,u,f,x,C,N,ee){const ne=6*i,fe=12*i,Te=3*i;return this.int16[ne+0]=l,this.int16[ne+1]=u,this.uint8[fe+4]=f,this.uint8[fe+5]=x,this.uint8[fe+6]=C,this.uint8[fe+7]=N,this.float32[Te+2]=ee,i}}Ha.prototype.bytesPerElement=12,en(Ha,"StructArrayLayout2i4ub1f12");class ka extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f){const x=this.length;return this.resize(x+1),this.emplace(x,i,l,u,f)}emplace(i,l,u,f,x){const C=4*i;return this.float32[C+0]=l,this.float32[C+1]=u,this.float32[C+2]=f,this.float32[C+3]=x,i}}ka.prototype.bytesPerElement=16,en(ka,"StructArrayLayout4f16");class _a extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x){const C=this.length;return this.resize(C+1),this.emplace(C,i,l,u,f,x)}emplace(i,l,u,f,x,C){const N=6*i,ee=3*i;return this.uint16[N+0]=l,this.uint16[N+1]=u,this.uint16[N+2]=f,this.uint16[N+3]=x,this.float32[ee+2]=C,i}}_a.prototype.bytesPerElement=12,en(_a,"StructArrayLayout4ui1f12");class sc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,u,f){const x=this.length;return this.resize(x+1),this.emplace(x,i,l,u,f)}emplace(i,l,u,f,x){const C=4*i;return this.uint16[C+0]=l,this.uint16[C+1]=u,this.uint16[C+2]=f,this.uint16[C+3]=x,i}}sc.prototype.bytesPerElement=8,en(sc,"StructArrayLayout4ui8");class gs extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x,C){const N=this.length;return this.resize(N+1),this.emplace(N,i,l,u,f,x,C)}emplace(i,l,u,f,x,C,N){const ee=6*i;return this.int16[ee+0]=l,this.int16[ee+1]=u,this.int16[ee+2]=f,this.int16[ee+3]=x,this.int16[ee+4]=C,this.int16[ee+5]=N,i}}gs.prototype.bytesPerElement=12,en(gs,"StructArrayLayout6i12");class ts extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x,C,N,ee,ne,fe,Te,Ee){const Le=this.length;return this.resize(Le+1),this.emplace(Le,i,l,u,f,x,C,N,ee,ne,fe,Te,Ee)}emplace(i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le){const ze=12*i;return this.int16[ze+0]=l,this.int16[ze+1]=u,this.int16[ze+2]=f,this.int16[ze+3]=x,this.uint16[ze+4]=C,this.uint16[ze+5]=N,this.uint16[ze+6]=ee,this.uint16[ze+7]=ne,this.int16[ze+8]=fe,this.int16[ze+9]=Te,this.int16[ze+10]=Ee,this.int16[ze+11]=Le,i}}ts.prototype.bytesPerElement=24,en(ts,"StructArrayLayout4i4ui4i24");class $r extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x,C){const N=this.length;return this.resize(N+1),this.emplace(N,i,l,u,f,x,C)}emplace(i,l,u,f,x,C,N){const ee=10*i,ne=5*i;return this.int16[ee+0]=l,this.int16[ee+1]=u,this.int16[ee+2]=f,this.float32[ne+2]=x,this.float32[ne+3]=C,this.float32[ne+4]=N,i}}$r.prototype.bytesPerElement=20,en($r,"StructArrayLayout3i3f20");class no extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.uint32[1*i+0]=l,i}}no.prototype.bytesPerElement=4,en(no,"StructArrayLayout1ul4");class ra extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le){const ze=this.length;return this.resize(ze+1),this.emplace(ze,i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le)}emplace(i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze){const Ge=20*i,tt=10*i;return this.int16[Ge+0]=l,this.int16[Ge+1]=u,this.int16[Ge+2]=f,this.int16[Ge+3]=x,this.int16[Ge+4]=C,this.float32[tt+3]=N,this.float32[tt+4]=ee,this.float32[tt+5]=ne,this.float32[tt+6]=fe,this.int16[Ge+14]=Te,this.uint32[tt+8]=Ee,this.uint16[Ge+18]=Le,this.uint16[Ge+19]=ze,i}}ra.prototype.bytesPerElement=40,en(ra,"StructArrayLayout5i4f1i1ul2ui40");class ys extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x,C,N){const ee=this.length;return this.resize(ee+1),this.emplace(ee,i,l,u,f,x,C,N)}emplace(i,l,u,f,x,C,N,ee){const ne=8*i;return this.int16[ne+0]=l,this.int16[ne+1]=u,this.int16[ne+2]=f,this.int16[ne+4]=x,this.int16[ne+5]=C,this.int16[ne+6]=N,this.int16[ne+7]=ee,i}}ys.prototype.bytesPerElement=16,en(ys,"StructArrayLayout3i2i2i16");class va extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x){const C=this.length;return this.resize(C+1),this.emplace(C,i,l,u,f,x)}emplace(i,l,u,f,x,C){const N=4*i,ee=8*i;return this.float32[N+0]=l,this.float32[N+1]=u,this.float32[N+2]=f,this.int16[ee+6]=x,this.int16[ee+7]=C,i}}va.prototype.bytesPerElement=16,en(va,"StructArrayLayout2f1f2i16");class Th extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f){const x=this.length;return this.resize(x+1),this.emplace(x,i,l,u,f)}emplace(i,l,u,f,x){const C=12*i,N=3*i;return this.uint8[C+0]=l,this.uint8[C+1]=u,this.float32[N+1]=f,this.float32[N+2]=x,i}}Th.prototype.bytesPerElement=12,en(Th,"StructArrayLayout2ub2f12");class oc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u){const f=this.length;return this.resize(f+1),this.emplace(f,i,l,u)}emplace(i,l,u,f){const x=3*i;return this.float32[x+0]=l,this.float32[x+1]=u,this.float32[x+2]=f,i}}oc.prototype.bytesPerElement=12,en(oc,"StructArrayLayout3f12");class sa extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,u){const f=this.length;return this.resize(f+1),this.emplace(f,i,l,u)}emplace(i,l,u,f){const x=3*i;return this.uint16[x+0]=l,this.uint16[x+1]=u,this.uint16[x+2]=f,i}}sa.prototype.bytesPerElement=6,en(sa,"StructArrayLayout3ui6");class Wa extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze,Ge,tt,yt,kt,gt,wt,Dt){const At=this.length;return this.resize(At+1),this.emplace(At,i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze,Ge,tt,yt,kt,gt,wt,Dt)}emplace(i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze,Ge,tt,yt,kt,gt,wt,Dt,At){const ti=30*i,Qt=15*i,_i=60*i;return this.int16[ti+0]=l,this.int16[ti+1]=u,this.int16[ti+2]=f,this.float32[Qt+2]=x,this.float32[Qt+3]=C,this.uint16[ti+8]=N,this.uint16[ti+9]=ee,this.uint32[Qt+5]=ne,this.uint32[Qt+6]=fe,this.uint32[Qt+7]=Te,this.uint16[ti+16]=Ee,this.uint16[ti+17]=Le,this.uint16[ti+18]=ze,this.float32[Qt+10]=Ge,this.float32[Qt+11]=tt,this.uint8[_i+48]=yt,this.uint8[_i+49]=kt,this.uint8[_i+50]=gt,this.uint32[Qt+13]=wt,this.int16[ti+28]=Dt,this.uint8[_i+58]=At,i}}Wa.prototype.bytesPerElement=60,en(Wa,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Pc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze,Ge,tt,yt,kt,gt,wt,Dt,At,ti,Qt,_i,ji,ai,Ti,Ci,Oi){const Ui=this.length;return this.resize(Ui+1),this.emplace(Ui,i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze,Ge,tt,yt,kt,gt,wt,Dt,At,ti,Qt,_i,ji,ai,Ti,Ci,Oi)}emplace(i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze,Ge,tt,yt,kt,gt,wt,Dt,At,ti,Qt,_i,ji,ai,Ti,Ci,Oi,Ui){const ci=38*i,Ji=19*i;return this.int16[ci+0]=l,this.int16[ci+1]=u,this.int16[ci+2]=f,this.float32[Ji+2]=x,this.float32[Ji+3]=C,this.int16[ci+8]=N,this.int16[ci+9]=ee,this.int16[ci+10]=ne,this.int16[ci+11]=fe,this.int16[ci+12]=Te,this.int16[ci+13]=Ee,this.uint16[ci+14]=Le,this.uint16[ci+15]=ze,this.uint16[ci+16]=Ge,this.uint16[ci+17]=tt,this.uint16[ci+18]=yt,this.uint16[ci+19]=kt,this.uint16[ci+20]=gt,this.uint16[ci+21]=wt,this.uint16[ci+22]=Dt,this.uint16[ci+23]=At,this.uint16[ci+24]=ti,this.uint16[ci+25]=Qt,this.uint16[ci+26]=_i,this.uint16[ci+27]=ji,this.uint16[ci+28]=ai,this.uint32[Ji+15]=Ti,this.float32[Ji+16]=Ci,this.float32[Ji+17]=Oi,this.float32[Ji+18]=Ui,i}}Pc.prototype.bytesPerElement=76,en(Pc,"StructArrayLayout3i2f6i15ui1ul3f76");class Cl extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.float32[1*i+0]=l,i}}Cl.prototype.bytesPerElement=4,en(Cl,"StructArrayLayout1f4");class fr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,x){const C=this.length;return this.resize(C+1),this.emplace(C,i,l,u,f,x)}emplace(i,l,u,f,x,C){const N=5*i;return this.float32[N+0]=l,this.float32[N+1]=u,this.float32[N+2]=f,this.float32[N+3]=x,this.float32[N+4]=C,i}}fr.prototype.bytesPerElement=20,en(fr,"StructArrayLayout5f20");class Hu extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,u,f){const x=this.length;return this.resize(x+1),this.emplace(x,i,l,u,f)}emplace(i,l,u,f,x){const C=6*i;return this.uint32[3*i+0]=l,this.uint16[C+2]=u,this.uint16[C+3]=f,this.uint16[C+4]=x,i}}Hu.prototype.bytesPerElement=12,en(Hu,"StructArrayLayout1ul3ui12");class Dc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l){const u=this.length;return this.resize(u+1),this.emplace(u,i,l)}emplace(i,l,u){const f=2*i;return this.uint16[f+0]=l,this.uint16[f+1]=u,i}}Dc.prototype.bytesPerElement=4,en(Dc,"StructArrayLayout2ui4");class cu extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.uint16[1*i+0]=l,i}}cu.prototype.bytesPerElement=2,en(cu,"StructArrayLayout1ui2");class Nf extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l){const u=this.length;return this.resize(u+1),this.emplace(u,i,l)}emplace(i,l,u){const f=2*i;return this.float32[f+0]=l,this.float32[f+1]=u,i}}Nf.prototype.bytesPerElement=8,en(Nf,"StructArrayLayout2f8");class C_ extends or{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}C_.prototype.size=40;class Kg extends ra{get(i){return new C_(this,i)}}en(Kg,"CollisionBoxArray");class ac extends or{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(i){this._structArray.uint8[this._pos1+49]=i}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(i){this._structArray.uint8[this._pos1+50]=i}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(i){this._structArray.uint32[this._pos4+13]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(i){this._structArray.uint8[this._pos1+58]=i}}ac.prototype.size=60;class E_ extends Wa{get(i){return new ac(this,i)}}en(E_,"PlacedSymbolArray");class Ff extends or{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(i){this._structArray.uint32[this._pos4+15]=i}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Ff.prototype.size=76;class gm extends Pc{get(i){return new Ff(this,i)}}en(gm,"SymbolInstanceArray");class Jg extends Cl{getoffsetX(i){return this.float32[1*i+0]}}en(Jg,"GlyphOffsetArray");class Qg extends Hr{getx(i){return this.int16[2*i+0]}gety(i){return this.int16[2*i+1]}}en(Qg,"SymbolLineVertexArray");class El extends or{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}El.prototype.size=12;class du extends Hu{get(i){return new El(this,i)}}en(du,"FeatureIndexArray");class ym extends Dc{geta_centroid_pos0(i){return this.uint16[2*i+0]}geta_centroid_pos1(i){return this.uint16[2*i+1]}}en(ym,"FillExtrusionCentroidArray");const M_=ln([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),_m=ln([{name:"a_dash",components:4,type:"Uint16"}]);var Sh={exports:{}},vm={exports:{}};vm.exports=function(a,i){var l,u,f,x,C,N,ee,ne;for(u=a.length-(l=3&a.length),f=i,C=3432918353,N=461845907,ne=0;ne<u;)ee=255&a.charCodeAt(ne)|(255&a.charCodeAt(++ne))<<8|(255&a.charCodeAt(++ne))<<16|(255&a.charCodeAt(++ne))<<24,++ne,f=27492+(65535&(x=5*(65535&(f=(f^=ee=(65535&(ee=(ee=(65535&ee)*C+(((ee>>>16)*C&65535)<<16)&4294967295)<<15|ee>>>17))*N+(((ee>>>16)*N&65535)<<16)&4294967295)<<13|f>>>19))+((5*(f>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(ee=0,l){case 3:ee^=(255&a.charCodeAt(ne+2))<<16;case 2:ee^=(255&a.charCodeAt(ne+1))<<8;case 1:f^=ee=(65535&(ee=(ee=(65535&(ee^=255&a.charCodeAt(ne)))*C+(((ee>>>16)*C&65535)<<16)&4294967295)<<15|ee>>>17))*N+(((ee>>>16)*N&65535)<<16)&4294967295}return f^=a.length,f=2246822507*(65535&(f^=f>>>16))+((2246822507*(f>>>16)&65535)<<16)&4294967295,f=3266489909*(65535&(f^=f>>>13))+((3266489909*(f>>>16)&65535)<<16)&4294967295,(f^=f>>>16)>>>0};var e1={exports:{}};e1.exports=function(a,i){for(var l,u=a.length,f=i^u,x=0;u>=4;)l=1540483477*(65535&(l=255&a.charCodeAt(x)|(255&a.charCodeAt(++x))<<8|(255&a.charCodeAt(++x))<<16|(255&a.charCodeAt(++x))<<24))+((1540483477*(l>>>16)&65535)<<16),f=1540483477*(65535&f)+((1540483477*(f>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),u-=4,++x;switch(u){case 3:f^=(255&a.charCodeAt(x+2))<<16;case 2:f^=(255&a.charCodeAt(x+1))<<8;case 1:f=1540483477*(65535&(f^=255&a.charCodeAt(x)))+((1540483477*(f>>>16)&65535)<<16)}return f=1540483477*(65535&(f^=f>>>13))+((1540483477*(f>>>16)&65535)<<16),(f^=f>>>15)>>>0};var xm=vm.exports,t1=e1.exports;Sh.exports=xm,Sh.exports.murmur3=xm,Sh.exports.murmur2=t1;class id{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,l,u,f){this.ids.push(k_(i)),this.positions.push(l,u,f)}getPositions(i){const l=k_(i);let u=0,f=this.ids.length-1;for(;u<f;){const C=u+f>>1;this.ids[C]>=l?f=C:u=C+1}const x=[];for(;this.ids[u]===l;)x.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return x}static serialize(i,l){const u=new Float64Array(i.ids),f=new Uint32Array(i.positions);return Rd(u,f,0,u.length-1),l&&l.push(u.buffer,f.buffer),{ids:u,positions:f}}static deserialize(i){const l=new id;return l.ids=i.ids,l.positions=i.positions,l.indexed=!0,l}}function k_(a){const i=+a;return!isNaN(i)&&Number.MIN_SAFE_INTEGER<=i&&i<=Number.MAX_SAFE_INTEGER?i:Sh.exports(String(a))}function Rd(a,i,l,u){for(;l<u;){const f=a[l+u>>1];let x=l-1,C=u+1;for(;;){do x++;while(a[x]<f);do C--;while(a[C]>f);if(x>=C)break;jf(a,x,C),jf(i,3*x,3*C),jf(i,3*x+1,3*C+1),jf(i,3*x+2,3*C+2)}C-l<u-C?(Rd(a,i,l,C),l=C+1):(Rd(a,i,C+1,u),u=C)}}function jf(a,i,l){const u=a[i];a[i]=a[l],a[l]=u}en(id,"FeaturePositionMap");class Bd{constructor(i){this.gl=i.gl,this.initialized=!1}fetchUniformLocation(i,l){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(i,l),this.initialized=!0),!!this.location}}class xp extends Bd{constructor(i){super(i),this.current=0}set(i,l,u){this.fetchUniformLocation(i,l)&&this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class A_ extends Bd{constructor(i){super(i),this.current=[0,0,0,0]}set(i,l,u){this.fetchUniformLocation(i,l)&&(u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3])))}}class P_ extends Bd{constructor(i){super(i),this.current=As.transparent}set(i,l,u){this.fetchUniformLocation(i,l)&&(u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a)))}}const c2=new Float32Array(16),D_=new Float32Array(9),I_=new Float32Array(4);function i1(a){return[gn(255*a.r,255*a.g),gn(255*a.b,255*a.a)]}class bp{constructor(i,l,u){this.value=i,this.uniformNames=l.map(f=>`u_${f}`),this.type=u}setUniform(i,l,u,f,x){l.set(i,x,f.constantOr(this.value))}getBinding(i,l){return this.type==="color"?new P_(i):new xp(i)}}class Ch{constructor(i,l){this.uniformNames=l.map(u=>`u_${u}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(i){this.pixelRatio=i.pixelRatio||1,this.pattern=i.tl.concat(i.br)}setUniform(i,l,u,f,x){const C=x==="u_pattern"||x==="u_dash"?this.pattern:x==="u_pixel_ratio"?this.pixelRatio:null;C&&l.set(i,x,C)}getBinding(i,l){return l==="u_pattern"||l==="u_dash"?new A_(i):new xp(i)}}class Po{constructor(i,l,u,f){this.expression=i,this.type=u,this.maxValue=0,this.paintVertexAttributes=l.map(x=>({name:`a_${x}`,type:"Float32",components:u==="color"?2:1,offset:0})),this.paintVertexArray=new f}populatePaintArray(i,l,u,f,x,C){const N=this.paintVertexArray.length,ee=this.expression.evaluate(new Gt(0),l,{},x,f,C);this.paintVertexArray.resize(i),this._setPaintValue(N,i,ee)}updatePaintArray(i,l,u,f,x){const C=this.expression.evaluate({zoom:0},u,f,void 0,x);this._setPaintValue(i,l,C)}_setPaintValue(i,l,u){if(this.type==="color"){const f=i1(u);for(let x=i;x<l;x++)this.paintVertexArray.emplace(x,f[0],f[1])}else{for(let f=i;f<l;f++)this.paintVertexArray.emplace(f,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ho{constructor(i,l,u,f,x,C){this.expression=i,this.uniformNames=l.map(N=>`u_${N}_t`),this.type=u,this.useIntegerZoom=f,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=l.map(N=>({name:`a_${N}`,type:"Float32",components:u==="color"?4:2,offset:0})),this.paintVertexArray=new C}populatePaintArray(i,l,u,f,x,C){const N=this.expression.evaluate(new Gt(this.zoom),l,{},x,f,C),ee=this.expression.evaluate(new Gt(this.zoom+1),l,{},x,f,C),ne=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(ne,i,N,ee)}updatePaintArray(i,l,u,f,x){const C=this.expression.evaluate({zoom:this.zoom},u,f,void 0,x),N=this.expression.evaluate({zoom:this.zoom+1},u,f,void 0,x);this._setPaintValue(i,l,C,N)}_setPaintValue(i,l,u,f){if(this.type==="color"){const x=i1(u),C=i1(f);for(let N=i;N<l;N++)this.paintVertexArray.emplace(N,x[0],x[1],C[0],C[1])}else{for(let x=i;x<l;x++)this.paintVertexArray.emplace(x,u,f);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(f))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,l,u,f,x){const C=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,N=g(this.expression.interpolationFactor(C,this.zoom,this.zoom+1),0,1);l.set(i,x,N)}getBinding(i,l){return new xp(i)}}class Wu{constructor(i,l,u,f,x){this.expression=i,this.layerId=x,this.paintVertexAttributes=(u==="array"?_m:M_).members;for(let C=0;C<l.length;++C);this.paintVertexArray=new f}populatePaintArray(i,l,u){const f=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValues(f,i,l.patterns&&l.patterns[this.layerId],u)}updatePaintArray(i,l,u,f,x,C){this._setPaintValues(i,l,u.patterns&&u.patterns[this.layerId],C)}_setPaintValues(i,l,u,f){if(!f||!u)return;const x=f[u];if(!x)return;const{tl:C,br:N,pixelRatio:ee}=x;for(let ne=i;ne<l;ne++)this.paintVertexArray.emplace(ne,C[0],C[1],N[0],N[1],ee)}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Yu{constructor(i,l,u=()=>!0){this.binders={},this._buffers=[];const f=[];for(const x in i.paint._values){if(!u(x))continue;const C=i.paint.get(x);if(!(C instanceof Si&&li(C.property.specification)))continue;const N=L_(x,i.type),ee=C.value,ne=C.property.specification.type,fe=C.property.useIntegerZoom,Te=x==="line-dasharray"||x.endsWith("pattern"),Ee=x==="line-dasharray"&&i.layout.get("line-cap").value.kind!=="constant";if(ee.kind!=="constant"||Ee)if(ee.kind==="source"||Ee||Te){const Le=n1(x,ne,"source");this.binders[x]=Te?new Wu(ee,N,ne,Le,i.id):new Po(ee,N,ne,Le),f.push(`/a_${x}`)}else{const Le=n1(x,ne,"composite");this.binders[x]=new Ho(ee,N,ne,fe,l,Le),f.push(`/z_${x}`)}else this.binders[x]=Te?new Ch(ee.value,N):new bp(ee.value,N,ne),f.push(`/u_${x}`)}this.cacheKey=f.sort().join("")}getMaxValue(i){const l=this.binders[i];return l instanceof Po||l instanceof Ho?l.maxValue:0}populatePaintArrays(i,l,u,f,x,C){for(const N in this.binders){const ee=this.binders[N];(ee instanceof Po||ee instanceof Ho||ee instanceof Wu)&&ee.populatePaintArray(i,l,u,f,x,C)}}setConstantPatternPositions(i){for(const l in this.binders){const u=this.binders[l];u instanceof Ch&&u.setConstantPatternPositions(i)}}updatePaintArrays(i,l,u,f,x,C){let N=!1;for(const ee in i){const ne=l.getPositions(ee);for(const fe of ne){const Te=u.feature(fe.index);for(const Ee in this.binders){const Le=this.binders[Ee];if((Le instanceof Po||Le instanceof Ho||Le instanceof Wu)&&Le.expression.isStateDependent===!0){const ze=f.paint.get(Ee);Le.expression=ze.value,Le.updatePaintArray(fe.start,fe.end,Te,i[ee],x,C),N=!0}}}}return N}defines(){const i=[];for(const l in this.binders){const u=this.binders[l];(u instanceof bp||u instanceof Ch)&&i.push(...u.uniformNames.map(f=>`#define HAS_UNIFORM_${f}`))}return i}getBinderAttributes(){const i=[];for(const l in this.binders){const u=this.binders[l];if(u instanceof Po||u instanceof Ho||u instanceof Wu)for(let f=0;f<u.paintVertexAttributes.length;f++)i.push(u.paintVertexAttributes[f].name)}return i}getBinderUniforms(){const i=[];for(const l in this.binders){const u=this.binders[l];if(u instanceof bp||u instanceof Ch||u instanceof Ho)for(const f of u.uniformNames)i.push(f)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i){const l=[];for(const u in this.binders){const f=this.binders[u];if(f instanceof bp||f instanceof Ch||f instanceof Ho)for(const x of f.uniformNames)l.push({name:x,property:u,binding:f.getBinding(i,x)})}return l}setUniforms(i,l,u,f,x){for(const{name:C,property:N,binding:ee}of u)this.binders[N].setUniform(i,ee,x,f.get(N),C)}updatePaintBuffers(){this._buffers=[];for(const i in this.binders){const l=this.binders[i];(l instanceof Po||l instanceof Ho||l instanceof Wu)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(i){for(const l in this.binders){const u=this.binders[l];(u instanceof Po||u instanceof Ho||u instanceof Wu)&&u.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const l=this.binders[i];(l instanceof Po||l instanceof Ho||l instanceof Wu)&&l.destroy()}}}class zd{constructor(i,l,u=()=>!0){this.programConfigurations={};for(const f of i)this.programConfigurations[f.id]=new Yu(f,l,u);this.needsUpload=!1,this._featureMap=new id,this._bufferOffset=0}populatePaintArrays(i,l,u,f,x,C,N){for(const ee in this.programConfigurations)this.programConfigurations[ee].populatePaintArrays(i,l,f,x,C,N);l.id!==void 0&&this._featureMap.add(l.id,u,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,l,u,f,x){for(const C of u)this.needsUpload=this.programConfigurations[C.id].updatePaintArrays(i,this._featureMap,l,C,f,x)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}const wp={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function L_(a,i){return wp[a]||[a.replace(`${i}-`,"").replace(/-/g,"_")]}const O_={"line-pattern":{source:_a,composite:_a},"fill-pattern":{source:_a,composite:_a},"fill-extrusion-pattern":{source:_a,composite:_a},"line-dasharray":{source:sc,composite:sc}},d2={color:{source:Nf,composite:ka},number:{source:Cl,composite:Nf}};function n1(a,i,l){const u=O_[a];return u&&u[l]||d2[i][l]}en(bp,"ConstantBinder"),en(Ch,"PatternConstantBinder"),en(Po,"SourceExpressionBinder"),en(Wu,"PatternCompositeBinder"),en(Ho,"CompositeExpressionBinder"),en(Yu,"ProgramConfiguration",{omit:["_buffers"]}),en(zd,"ProgramConfigurationSet");const uu="-transition";class cl extends go{constructor(i,l){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&i.type!=="sky"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),l.layout&&(this._unevaluatedLayout=new si(l.layout)),l.paint)){this._transitionablePaint=new yi(l.paint);for(const u in i.paint)this.setPaintProperty(u,i.paint[u],{validate:!1});for(const u in i.layout)this.setLayoutProperty(u,i.layout[u],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ni(l.paint)}}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,l,u={}){l!=null&&this._validate(au,`layers.${this.id}.layout.${i}`,i,l,u)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,l):this.visibility=l)}getPaintProperty(i){return ge(i,uu)?this._transitionablePaint.getTransition(i.slice(0,-uu.length)):this._transitionablePaint.getValue(i)}setPaintProperty(i,l,u={}){if(l!=null&&this._validate(Zg,`layers.${this.id}.paint.${i}`,i,l,u))return!1;if(ge(i,uu))return this._transitionablePaint.setTransition(i.slice(0,-uu.length),l||void 0),!1;{const f=this._transitionablePaint._values[i],x=f.value.isDataDriven(),C=f.value;this._transitionablePaint.setValue(i,l),this._handleSpecialPaintPropertyUpdate(i);const N=this._transitionablePaint._values[i].value,ee=N.isDataDriven(),ne=ge(i,"pattern")||i==="line-dasharray";return ee||x||ne||this._handleOverridablePaintPropertyUpdate(i,C,N)}}_handleSpecialPaintPropertyUpdate(i){}getProgramIds(){return null}getProgramConfiguration(i){return null}_handleOverridablePaintPropertyUpdate(i,l,u){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,l){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,l)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),re(i,(l,u)=>!(l===void 0||u==="layout"&&!Object.keys(l).length||u==="paint"&&!Object.keys(l).length))}_validate(i,l,u,f,x={}){return(!x||x.validate!==!1)&&om(this,i.call(Pf,{key:l,layerType:this.type,objectKey:u,value:f,styleSpec:fi,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const l=this.paint.get(i);if(l instanceof Si&&li(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Fs(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const u2=ln([{name:"a_pos",components:2,type:"Int16"}],4),R_=ln([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class xo{constructor(i=[]){this.segments=i}prepareSegment(i,l,u,f){let x=this.segments[this.segments.length-1];return i>xo.MAX_VERTEX_ARRAY_LENGTH&&oe(`Max vertices per segment is ${xo.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!x||x.vertexLength+i>xo.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==f)&&(x={vertexOffset:l.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},f!==void 0&&(x.sortKey=f),this.segments.push(x)),x}get(){return this.segments}destroy(){for(const i of this.segments)for(const l in i.vaos)i.vaos[l].destroy()}static simpleSegment(i,l,u,f){return new xo([{vertexOffset:i,primitiveOffset:l,vertexLength:u,primitiveLength:f,vaos:{},sortKey:0}])}}xo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,en(xo,"SegmentVector");var On=8192;class hu{constructor(i,l){i&&(l?this.setSouthWest(i).setNorthEast(l):i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1]))}setNorthEast(i){return this._ne=i instanceof Ar?new Ar(i.lng,i.lat):Ar.convert(i),this}setSouthWest(i){return this._sw=i instanceof Ar?new Ar(i.lng,i.lat):Ar.convert(i),this}extend(i){const l=this._sw,u=this._ne;let f,x;if(i instanceof Ar)f=i,x=i;else{if(!(i instanceof hu))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(hu.convert(i)):this.extend(Ar.convert(i)):typeof i=="object"&&i!==null&&i.hasOwnProperty("lat")&&i.hasOwnProperty("lon")?this.extend(Ar.convert(i)):this;if(f=i._sw,x=i._ne,!f||!x)return this}return l||u?(l.lng=Math.min(f.lng,l.lng),l.lat=Math.min(f.lat,l.lat),u.lng=Math.max(x.lng,u.lng),u.lat=Math.max(x.lat,u.lat)):(this._sw=new Ar(f.lng,f.lat),this._ne=new Ar(x.lng,x.lat)),this}getCenter(){return new Ar((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Ar(this.getWest(),this.getNorth())}getSouthEast(){return new Ar(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:l,lat:u}=Ar.convert(i);let f=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(f=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=u&&u<=this._ne.lat&&f}static convert(i){return!i||i instanceof hu?i:new hu(i)}}const Eh=63710088e-1;class Ar{constructor(i,l){if(isNaN(i)||isNaN(l))throw new Error(`Invalid LngLat object: (${i}, ${l})`);if(this.lng=+i,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ar(A(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const l=Math.PI/180,u=this.lat*l,f=i.lat*l,x=Math.sin(u)*Math.sin(f)+Math.cos(u)*Math.cos(f)*Math.cos((i.lng-this.lng)*l);return Eh*Math.acos(Math.min(x,1))}toBounds(i=0){const l=360*i/40075017,u=l/Math.cos(Math.PI/180*this.lat);return new hu(new Ar(this.lng-u,this.lat-l),new Ar(this.lng+u,this.lat+l))}static convert(i){if(i instanceof Ar)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new Ar(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new Ar(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Uf=2*Math.PI*Eh;function r1(a){return Uf*Math.cos(a*Math.PI/180)}function nd(a){return(180+a)/360}function lc(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function cc(a,i){return a/r1(i)}function dl(a){return 360*a-180}function xa(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}function s1(a,i){return a*r1(xa(i))}const ba=85.051129;function o1(a){return 1/Math.cos(a*Math.PI/180)}class Mh{constructor(i,l,u=0){this.x=+i,this.y=+l,this.z=+u}static fromLngLat(i,l=0){const u=Ar.convert(i);return new Mh(nd(u.lng),lc(u.lat),cc(l,u.lat))}toLngLat(){return new Ar(dl(this.x),xa(this.y))}toAltitude(){return s1(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Uf*o1(xa(this.y))}}function a1(a,i,l,u,f,x,C,N,ee){const ne=(i+u)/2,fe=(l+f)/2,Te=new U(ne,fe);N(Te),function(Ee,Le,ze,Ge,tt,yt){const kt=ze-tt,gt=Ge-yt;return Math.abs((Ge-Le)*kt-(ze-Ee)*gt)/Math.hypot(kt,gt)}(Te.x,Te.y,x.x,x.y,C.x,C.y)>=ee?(a1(a,i,l,ne,fe,x,Te,N,ee),a1(a,ne,fe,u,f,Te,C,N,ee)):a.push(C)}function l1(a,i,l){let u=a[0],f=u.x,x=u.y;i(u);const C=[u];for(let N=1;N<a.length;N++){const ee=a[N],{x:ne,y:fe}=ee;i(ee),a1(C,f,x,ne,fe,u,ee,i,l),f=ne,x=fe,u=ee}return C}function c1(a,i,l,u){if(u(i,l)){const f=i.add(l)._mult(.5);c1(a,i,f,u),c1(a,f,l,u)}else a.push(l)}function h2(a,i){let l=a[0];const u=[l];for(let f=1;f<a.length;f++){const x=a[f];c1(u,l,x,i),l=x}return u}const rd=Math.pow(2,14)-1,bm=-rd-1;function d1(a,i){const l=Math.round(a.x*i),u=Math.round(a.y*i);return a.x=g(l,bm,rd),a.y=g(u,bm,rd),(l<a.x||l>a.x+1||u<a.y||u>a.y+1)&&oe("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a}function sd(a,i,l){const u=a.loadGeometry(),f=a.extent,x=On/f;if(i&&l&&l.projection.isReprojectedInTileSpace){const C=1<<i.z,{scale:N,x:ee,y:ne,projection:fe}=l,Te=Ee=>{const Le=dl((i.x+Ee.x/f)/C),ze=xa((i.y+Ee.y/f)/C),Ge=fe.project(Le,ze);Ee.x=(Ge.x*N-ee)*f,Ee.y=(Ge.y*N-ne)*f};for(let Ee=0;Ee<u.length;Ee++)if(a.type!==1)u[Ee]=l1(u[Ee],Te,1);else{const Le=[];for(const ze of u[Ee])ze.x<0||ze.x>=f||ze.y<0||ze.y>=f||(Te(ze),Le.push(ze));u[Ee]=Le}}for(const C of u)for(const N of C)d1(N,x);return u}function Nd(a,i){return{type:a.type,id:a.id,properties:a.properties,geometry:i?sd(a):[]}}function pu(a,i,l,u,f){a.emplaceBack(2*i+(u+1)/2,2*l+(f+1)/2)}function Xn(a,i,l){a.emplaceBack(i.x,i.y,i.z,l[0]*16384,l[1]*16384,l[2]*16384)}class Tp{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.projection=i.projection,this.layoutVertexArray=new Hr,this.indexArray=new sa,this.segments=new xo,this.programConfigurations=new zd(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,u,f){const x=this.layers[0],C=[];let N=null;x.type==="circle"&&(N=x.layout.get("circle-sort-key"));for(const{feature:ne,id:fe,index:Te,sourceLayerIndex:Ee}of i){const Le=this.layers[0]._featureFilter.needGeometry,ze=Nd(ne,Le);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),ze,u))continue;const Ge=N?N.evaluate(ze,{},u):void 0,tt={id:fe,properties:ne.properties,type:ne.type,sourceLayerIndex:Ee,index:Te,geometry:Le?ze.geometry:sd(ne,u,f),patterns:{},sortKey:Ge};C.push(tt)}N&&C.sort((ne,fe)=>ne.sortKey-fe.sortKey);let ee=null;f.projection.name==="globe"&&(this.globeExtVertexArray=new gs,ee=f.projection);for(const ne of C){const{geometry:fe,index:Te,sourceLayerIndex:Ee}=ne,Le=i[Te].feature;this.addFeature(ne,fe,Te,l.availableImages,u,ee),l.featureIndex.insert(Le,fe,Te,Ee,this.index)}}update(i,l,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,u2.members),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,R_.members))),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(i,l,u,f,x,C){for(const N of l)for(const ee of N){const ne=ee.x,fe=ee.y;if(ne<0||ne>=On||fe<0||fe>=On)continue;if(C){const Le=C.projectTilePoint(ne,fe,x),ze=C.upVector(x,ne,fe),Ge=this.globeExtVertexArray;Xn(Ge,Le,ze),Xn(Ge,Le,ze),Xn(Ge,Le,ze),Xn(Ge,Le,ze)}const Te=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),Ee=Te.vertexLength;pu(this.layoutVertexArray,ne,fe,-1,-1),pu(this.layoutVertexArray,ne,fe,1,-1),pu(this.layoutVertexArray,ne,fe,1,1),pu(this.layoutVertexArray,ne,fe,-1,1),this.indexArray.emplaceBack(Ee,Ee+1,Ee+2),this.indexArray.emplaceBack(Ee,Ee+2,Ee+3),Te.vertexLength+=4,Te.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,u,{},f,x)}}function wm(a,i){for(let l=0;l<a.length;l++)if(Ah(i,a[l]))return!0;for(let l=0;l<i.length;l++)if(Ah(a,i[l]))return!0;return!!Tm(a,i)}function kh(a,i,l){return!!Ah(a,i)||!!h1(i,a,l)}function B_(a,i){if(a.length===1)return p1(i,a[0]);for(let l=0;l<i.length;l++){const u=i[l];for(let f=0;f<u.length;f++)if(Ah(a,u[f]))return!0}for(let l=0;l<a.length;l++)if(p1(i,a[l]))return!0;for(let l=0;l<i.length;l++)if(Tm(a,i[l]))return!0;return!1}function u1(a,i,l){if(a.length>1){if(Tm(a,i))return!0;for(let u=0;u<i.length;u++)if(h1(i[u],a,l))return!0}for(let u=0;u<a.length;u++)if(h1(a[u],i,l))return!0;return!1}function Tm(a,i){if(a.length===0||i.length===0)return!1;for(let l=0;l<a.length-1;l++){const u=a[l],f=a[l+1];for(let x=0;x<i.length-1;x++)if(Ya(u,f,i[x],i[x+1]))return!0}return!1}function Ya(a,i,l,u){return ye(a,l,u)!==ye(i,l,u)&&ye(a,i,l)!==ye(a,i,u)}function h1(a,i,l){const u=l*l;if(i.length===1)return a.distSqr(i[0])<u;for(let f=1;f<i.length;f++)if(z_(a,i[f-1],i[f])<u)return!0;return!1}function z_(a,i,l){const u=i.distSqr(l);if(u===0)return a.distSqr(i);const f=((a.x-i.x)*(l.x-i.x)+(a.y-i.y)*(l.y-i.y))/u;return a.distSqr(f<0?i:f>1?l:l.sub(i)._mult(f)._add(i))}function p1(a,i){let l,u,f,x=!1;for(let C=0;C<a.length;C++){l=a[C];for(let N=0,ee=l.length-1;N<l.length;ee=N++)u=l[N],f=l[ee],u.y>i.y!=f.y>i.y&&i.x<(f.x-u.x)*(i.y-u.y)/(f.y-u.y)+u.x&&(x=!x)}return x}function Ah(a,i){let l=!1;for(let u=0,f=a.length-1;u<a.length;f=u++){const x=a[u],C=a[f];x.y>i.y!=C.y>i.y&&i.x<(C.x-x.x)*(i.y-x.y)/(C.y-x.y)+x.x&&(l=!l)}return l}function f1(a,i,l,u,f){for(const C of a)if(i<=C.x&&l<=C.y&&u>=C.x&&f>=C.y)return!0;const x=[new U(i,l),new U(i,f),new U(u,f),new U(u,l)];if(a.length>2){for(const C of x)if(Ah(a,C))return!0}for(let C=0;C<a.length-1;C++)if(p2(a[C],a[C+1],x))return!0;return!1}function p2(a,i,l){const u=l[0],f=l[2];if(a.x<u.x&&i.x<u.x||a.x>f.x&&i.x>f.x||a.y<u.y&&i.y<u.y||a.y>f.y&&i.y>f.y)return!1;const x=ye(a,i,l[0]);return x!==ye(a,i,l[1])||x!==ye(a,i,l[2])||x!==ye(a,i,l[3])}function Sp(a,i,l){const u=i.paint.get(a).value;return u.kind==="constant"?u.value:l.programConfigurations.get(i.id).getMaxValue(a)}function Sm(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function Fd(a,i,l,u,f){if(!i[0]&&!i[1])return a;const x=U.convert(i)._mult(f);l==="viewport"&&x._rotate(-u);const C=[];for(let N=0;N<a.length;N++)C.push(a[N].sub(x));return C}function qa(a,i,l,u){const f=U.convert(a)._mult(u);return i==="viewport"&&f._rotate(-l),f}en(Tp,"CircleBucket",{omit:["layers"]});const m1=new Sn({"circle-sort-key":new ni(fi.layout_circle["circle-sort-key"])});var f2={paint:new Sn({"circle-radius":new ni(fi.paint_circle["circle-radius"]),"circle-color":new ni(fi.paint_circle["circle-color"]),"circle-blur":new ni(fi.paint_circle["circle-blur"]),"circle-opacity":new ni(fi.paint_circle["circle-opacity"]),"circle-translate":new Yt(fi.paint_circle["circle-translate"]),"circle-translate-anchor":new Yt(fi.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yt(fi.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yt(fi.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ni(fi.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ni(fi.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ni(fi.paint_circle["circle-stroke-opacity"])}),layout:m1},Cp=1e-6,Ml=typeof Float32Array<"u"?Float32Array:Array;function N_(){var a=new Ml(9);return Ml!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function Ep(a,i,l){var u=i[0],f=i[1],x=i[2],C=i[3],N=i[4],ee=i[5],ne=i[6],fe=i[7],Te=i[8],Ee=l[0],Le=l[1],ze=l[2],Ge=l[3],tt=l[4],yt=l[5],kt=l[6],gt=l[7],wt=l[8];return a[0]=Ee*u+Le*C+ze*ne,a[1]=Ee*f+Le*N+ze*fe,a[2]=Ee*x+Le*ee+ze*Te,a[3]=Ge*u+tt*C+yt*ne,a[4]=Ge*f+tt*N+yt*fe,a[5]=Ge*x+tt*ee+yt*Te,a[6]=kt*u+gt*C+wt*ne,a[7]=kt*f+gt*N+wt*fe,a[8]=kt*x+gt*ee+wt*Te,a}function Ic(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Cm(a,i){var l=i[0],u=i[1],f=i[2],x=i[3],C=i[4],N=i[5],ee=i[6],ne=i[7],fe=i[8],Te=i[9],Ee=i[10],Le=i[11],ze=i[12],Ge=i[13],tt=i[14],yt=i[15],kt=l*N-u*C,gt=l*ee-f*C,wt=l*ne-x*C,Dt=u*ee-f*N,At=u*ne-x*N,ti=f*ne-x*ee,Qt=fe*Ge-Te*ze,_i=fe*tt-Ee*ze,ji=fe*yt-Le*ze,ai=Te*tt-Ee*Ge,Ti=Te*yt-Le*Ge,Ci=Ee*yt-Le*tt,Oi=kt*Ci-gt*Ti+wt*ai+Dt*ji-At*_i+ti*Qt;return Oi?(a[0]=(N*Ci-ee*Ti+ne*ai)*(Oi=1/Oi),a[1]=(f*Ti-u*Ci-x*ai)*Oi,a[2]=(Ge*ti-tt*At+yt*Dt)*Oi,a[3]=(Ee*At-Te*ti-Le*Dt)*Oi,a[4]=(ee*ji-C*Ci-ne*_i)*Oi,a[5]=(l*Ci-f*ji+x*_i)*Oi,a[6]=(tt*wt-ze*ti-yt*gt)*Oi,a[7]=(fe*ti-Ee*wt+Le*gt)*Oi,a[8]=(C*Ti-N*ji+ne*Qt)*Oi,a[9]=(u*ji-l*Ti-x*Qt)*Oi,a[10]=(ze*At-Ge*wt+yt*kt)*Oi,a[11]=(Te*wt-fe*At-Le*kt)*Oi,a[12]=(N*_i-C*ai-ee*Qt)*Oi,a[13]=(l*ai-u*_i+f*Qt)*Oi,a[14]=(Ge*gt-ze*Dt-tt*kt)*Oi,a[15]=(fe*Dt-Te*gt+Ee*kt)*Oi,a):null}function Ph(a,i,l){var u=i[0],f=i[1],x=i[2],C=i[3],N=i[4],ee=i[5],ne=i[6],fe=i[7],Te=i[8],Ee=i[9],Le=i[10],ze=i[11],Ge=i[12],tt=i[13],yt=i[14],kt=i[15],gt=l[0],wt=l[1],Dt=l[2],At=l[3];return a[0]=gt*u+wt*N+Dt*Te+At*Ge,a[1]=gt*f+wt*ee+Dt*Ee+At*tt,a[2]=gt*x+wt*ne+Dt*Le+At*yt,a[3]=gt*C+wt*fe+Dt*ze+At*kt,a[4]=(gt=l[4])*u+(wt=l[5])*N+(Dt=l[6])*Te+(At=l[7])*Ge,a[5]=gt*f+wt*ee+Dt*Ee+At*tt,a[6]=gt*x+wt*ne+Dt*Le+At*yt,a[7]=gt*C+wt*fe+Dt*ze+At*kt,a[8]=(gt=l[8])*u+(wt=l[9])*N+(Dt=l[10])*Te+(At=l[11])*Ge,a[9]=gt*f+wt*ee+Dt*Ee+At*tt,a[10]=gt*x+wt*ne+Dt*Le+At*yt,a[11]=gt*C+wt*fe+Dt*ze+At*kt,a[12]=(gt=l[12])*u+(wt=l[13])*N+(Dt=l[14])*Te+(At=l[15])*Ge,a[13]=gt*f+wt*ee+Dt*Ee+At*tt,a[14]=gt*x+wt*ne+Dt*Le+At*yt,a[15]=gt*C+wt*fe+Dt*ze+At*kt,a}function $f(a,i,l){var u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze,Ge=l[0],tt=l[1],yt=l[2];return i===a?(a[12]=i[0]*Ge+i[4]*tt+i[8]*yt+i[12],a[13]=i[1]*Ge+i[5]*tt+i[9]*yt+i[13],a[14]=i[2]*Ge+i[6]*tt+i[10]*yt+i[14],a[15]=i[3]*Ge+i[7]*tt+i[11]*yt+i[15]):(f=i[1],x=i[2],C=i[3],N=i[4],ee=i[5],ne=i[6],fe=i[7],Te=i[8],Ee=i[9],Le=i[10],ze=i[11],a[0]=u=i[0],a[1]=f,a[2]=x,a[3]=C,a[4]=N,a[5]=ee,a[6]=ne,a[7]=fe,a[8]=Te,a[9]=Ee,a[10]=Le,a[11]=ze,a[12]=u*Ge+N*tt+Te*yt+i[12],a[13]=f*Ge+ee*tt+Ee*yt+i[13],a[14]=x*Ge+ne*tt+Le*yt+i[14],a[15]=C*Ge+fe*tt+ze*yt+i[15]),a}function Dh(a,i,l){var u=l[0],f=l[1],x=l[2];return a[0]=i[0]*u,a[1]=i[1]*u,a[2]=i[2]*u,a[3]=i[3]*u,a[4]=i[4]*f,a[5]=i[5]*f,a[6]=i[6]*f,a[7]=i[7]*f,a[8]=i[8]*x,a[9]=i[9]*x,a[10]=i[10]*x,a[11]=i[11]*x,a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15],a}function g1(a,i,l){var u=Math.sin(l),f=Math.cos(l),x=i[4],C=i[5],N=i[6],ee=i[7],ne=i[8],fe=i[9],Te=i[10],Ee=i[11];return i!==a&&(a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[4]=x*f+ne*u,a[5]=C*f+fe*u,a[6]=N*f+Te*u,a[7]=ee*f+Ee*u,a[8]=ne*f-x*u,a[9]=fe*f-C*u,a[10]=Te*f-N*u,a[11]=Ee*f-ee*u,a}function Vf(a,i,l){var u=Math.sin(l),f=Math.cos(l),x=i[0],C=i[1],N=i[2],ee=i[3],ne=i[8],fe=i[9],Te=i[10],Ee=i[11];return i!==a&&(a[4]=i[4],a[5]=i[5],a[6]=i[6],a[7]=i[7],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[0]=x*f-ne*u,a[1]=C*f-fe*u,a[2]=N*f-Te*u,a[3]=ee*f-Ee*u,a[8]=x*u+ne*f,a[9]=C*u+fe*f,a[10]=N*u+Te*f,a[11]=ee*u+Ee*f,a}function y1(a,i){return a[0]=i[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=i[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=i[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function F_(a,i,l){var u,f,x,C=l[0],N=l[1],ee=l[2],ne=Math.hypot(C,N,ee);return ne<Cp?null:(C*=ne=1/ne,N*=ne,ee*=ne,u=Math.sin(i),f=Math.cos(i),a[0]=C*C*(x=1-f)+f,a[1]=N*C*x+ee*u,a[2]=ee*C*x-N*u,a[3]=0,a[4]=C*N*x-ee*u,a[5]=N*N*x+f,a[6]=ee*N*x+C*u,a[7]=0,a[8]=C*ee*x+N*u,a[9]=N*ee*x-C*u,a[10]=ee*ee*x+f,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}Math.hypot||(Math.hypot=function(){for(var a=0,i=arguments.length;i--;)a+=arguments[i]*arguments[i];return Math.sqrt(a)});var _1=Ph;function Em(){var a=new Ml(3);return Ml!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function Mp(a){var i=new Ml(3);return i[0]=a[0],i[1]=a[1],i[2]=a[2],i}function Ih(a){return Math.hypot(a[0],a[1],a[2])}function Lh(a,i,l){var u=new Ml(3);return u[0]=a,u[1]=i,u[2]=l,u}function jd(a,i,l){return a[0]=i[0]+l[0],a[1]=i[1]+l[1],a[2]=i[2]+l[2],a}function kp(a,i,l){return a[0]=i[0]-l[0],a[1]=i[1]-l[1],a[2]=i[2]-l[2],a}function v1(a,i,l){return a[0]=i[0]*l[0],a[1]=i[1]*l[1],a[2]=i[2]*l[2],a}function kl(a,i,l){return a[0]=Math.min(i[0],l[0]),a[1]=Math.min(i[1],l[1]),a[2]=Math.min(i[2],l[2]),a}function od(a,i,l){return a[0]=Math.max(i[0],l[0]),a[1]=Math.max(i[1],l[1]),a[2]=Math.max(i[2],l[2]),a}function dc(a,i,l){return a[0]=i[0]*l,a[1]=i[1]*l,a[2]=i[2]*l,a}function Ap(a,i,l,u){return a[0]=i[0]+l[0]*u,a[1]=i[1]+l[1]*u,a[2]=i[2]+l[2]*u,a}function Xa(a,i){var l=i[0],u=i[1],f=i[2],x=l*l+u*u+f*f;return x>0&&(x=1/Math.sqrt(x)),a[0]=i[0]*x,a[1]=i[1]*x,a[2]=i[2]*x,a}function Lc(a,i){return a[0]*i[0]+a[1]*i[1]+a[2]*i[2]}function x1(a,i,l){var u=i[0],f=i[1],x=i[2],C=l[0],N=l[1],ee=l[2];return a[0]=f*ee-x*N,a[1]=x*C-u*ee,a[2]=u*N-f*C,a}function uo(a,i,l){var u=i[0],f=i[1],x=i[2],C=l[3]*u+l[7]*f+l[11]*x+l[15];return a[0]=(l[0]*u+l[4]*f+l[8]*x+l[12])/(C=C||1),a[1]=(l[1]*u+l[5]*f+l[9]*x+l[13])/C,a[2]=(l[2]*u+l[6]*f+l[10]*x+l[14])/C,a}function j_(a,i,l){var u=l[0],f=l[1],x=l[2],C=i[0],N=i[1],ee=i[2],ne=f*ee-x*N,fe=x*C-u*ee,Te=u*N-f*C,Ee=f*Te-x*fe,Le=x*ne-u*Te,ze=u*fe-f*ne,Ge=2*l[3];return fe*=Ge,Te*=Ge,Le*=2,ze*=2,a[0]=C+(ne*=Ge)+(Ee*=2),a[1]=N+fe+Le,a[2]=ee+Te+ze,a}var Gf,ad=kp,m2=v1,g2=Ih;function U_(a,i,l){return a[0]=i[0]*l,a[1]=i[1]*l,a[2]=i[2]*l,a[3]=i[3]*l,a}function $_(a,i){var l=i[0],u=i[1],f=i[2],x=i[3],C=l*l+u*u+f*f+x*x;return C>0&&(C=1/Math.sqrt(C)),a[0]=l*C,a[1]=u*C,a[2]=f*C,a[3]=x*C,a}function qu(a,i,l){var u=i[0],f=i[1],x=i[2],C=i[3];return a[0]=l[0]*u+l[4]*f+l[8]*x+l[12]*C,a[1]=l[1]*u+l[5]*f+l[9]*x+l[13]*C,a[2]=l[2]*u+l[6]*f+l[10]*x+l[14]*C,a[3]=l[3]*u+l[7]*f+l[11]*x+l[15]*C,a}function b1(){var a=new Ml(4);return Ml!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function w1(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function V_(a,i,l){l*=.5;var u=i[0],f=i[1],x=i[2],C=i[3],N=Math.sin(l),ee=Math.cos(l);return a[0]=u*ee+C*N,a[1]=f*ee+x*N,a[2]=x*ee-f*N,a[3]=C*ee-u*N,a}function G_(a,i,l){l*=.5;var u=i[0],f=i[1],x=i[2],C=i[3],N=Math.sin(l),ee=Math.cos(l);return a[0]=u*ee-x*N,a[1]=f*ee+C*N,a[2]=x*ee+u*N,a[3]=C*ee-f*N,a}Em(),Gf=new Ml(4),Ml!=Float32Array&&(Gf[0]=0,Gf[1]=0,Gf[2]=0,Gf[3]=0);var y2=$_;Em(),Lh(1,0,0),Lh(0,1,0),b1(),b1(),N_();class Mm{constructor(i,l){this.pos=i,this.dir=l}intersectsPlane(i,l,u){const f=Lc(l,this.dir);if(Math.abs(f)<1e-6)return!1;const x=((i[0]-this.pos[0])*l[0]+(i[1]-this.pos[1])*l[1]+(i[2]-this.pos[2])*l[2])/f;return u[0]=this.pos[0]+this.dir[0]*x,u[1]=this.pos[1]+this.dir[1]*x,u[2]=this.pos[2]+this.dir[2]*x,!0}closestPointOnSphere(i,l,u){if(function(Le,ze){var Ge=Le[0],tt=Le[1],yt=Le[2],kt=ze[0],gt=ze[1],wt=ze[2];return Math.abs(Ge-kt)<=Cp*Math.max(1,Math.abs(Ge),Math.abs(kt))&&Math.abs(tt-gt)<=Cp*Math.max(1,Math.abs(tt),Math.abs(gt))&&Math.abs(yt-wt)<=Cp*Math.max(1,Math.abs(yt),Math.abs(wt))}(this.pos,i)||l===0)return u[0]=u[1]=u[2]=0,!1;const[f,x,C]=this.dir,N=this.pos[0]-i[0],ee=this.pos[1]-i[1],ne=this.pos[2]-i[2],fe=f*f+x*x+C*C,Te=2*(N*f+ee*x+ne*C),Ee=Te*Te-4*fe*(N*N+ee*ee+ne*ne-l*l);if(Ee<0){const Le=Math.max(-Te/2,0),ze=N+f*Le,Ge=ee+x*Le,tt=ne+C*Le,yt=Math.hypot(ze,Ge,tt);return u[0]=ze*l/yt,u[1]=Ge*l/yt,u[2]=tt*l/yt,!1}{const Le=(-Te-Math.sqrt(Ee))/(2*fe);if(Le<0){const ze=Math.hypot(N,ee,ne);return u[0]=N*l/ze,u[1]=ee*l/ze,u[2]=ne*l/ze,!1}return u[0]=N+f*Le,u[1]=ee+x*Le,u[2]=ne+C*Le,!0}}}class T1{constructor(i,l,u,f,x){this.TL=i,this.TR=l,this.BR=u,this.BL=f,this.horizon=x}static fromInvProjectionMatrix(i,l,u){const f=[-1,1,1],x=[1,1,1],C=[1,-1,1],N=[-1,-1,1],ee=uo(f,f,i),ne=uo(x,x,i),fe=uo(C,C,i),Te=uo(N,N,i);return new T1(ee,ne,fe,Te,l/u)}}class S1{constructor(i,l){this.points=i,this.planes=l}static fromInvProjectionMatrix(i,l,u,f){const x=Math.pow(2,u),C=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(ee=>{const ne=qu([],ee,i),fe=1/ne[3]/l*x;return function(Te,Ee,Le){return Te[0]=Ee[0]*Le[0],Te[1]=Ee[1]*Le[1],Te[2]=Ee[2]*Le[2],Te[3]=Ee[3]*Le[3],Te}(ne,ne,[fe,fe,f?1/ne[3]:fe,fe])}),N=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(ee=>{const ne=Xa([],x1([],ad([],C[ee[0]],C[ee[1]]),ad([],C[ee[2]],C[ee[1]]))),fe=-Lc(ne,C[ee[1]]);return ne.concat(fe)});return new S1(C,N)}}class Za{static fromPoints(i){const l=[1/0,1/0,1/0],u=[-1/0,-1/0,-1/0];for(const f of i)kl(l,l,f),od(u,u,f);return new Za(l,u)}static applyTransform(i,l){const u=i.getCorners();for(let f=0;f<u.length;++f)uo(u[f],u[f],l);return Za.fromPoints(u)}constructor(i,l){this.min=i,this.max=l,this.center=dc([],jd([],this.min,this.max),.5)}quadrant(i){const l=[i%2==0,i<2],u=Mp(this.min),f=Mp(this.max);for(let x=0;x<l.length;x++)u[x]=l[x]?this.min[x]:this.center[x],f[x]=l[x]?this.center[x]:this.max[x];return f[2]=this.max[2],new Za(u,f)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}distanceZ(i){return Math.max(Math.min(this.max[2],i[2]),this.min[2])-i[2]}getCorners(){const i=this.min,l=this.max;return[[i[0],i[1],i[2]],[l[0],i[1],i[2]],[l[0],l[1],i[2]],[i[0],l[1],i[2]],[i[0],i[1],l[2]],[l[0],i[1],l[2]],[l[0],l[1],l[2]],[i[0],l[1],l[2]]]}intersects(i){const l=this.getCorners();let u=!0;for(let f=0;f<i.planes.length;f++){const x=i.planes[f];let C=0;for(let N=0;N<l.length;N++)C+=Lc(x,l[N])+x[3]>=0;if(C===0)return 0;C!==l.length&&(u=!1)}if(u)return 2;for(let f=0;f<3;f++){let x=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let N=0;N<i.points.length;N++){const ee=i.points[N][f]-this.min[f];x=Math.min(x,ee),C=Math.max(C,ee)}if(C<0||x>this.max[f]-this.min[f])return 0}return 1}}function H_(a,i,l,u,f,x,C,N,ee){if(x&&a.queryGeometry.isAboveHorizon)return!1;x&&(ee*=a.pixelToTileUnitsFactor);const ne=a.tileID.canonical,fe=l.projection.upVectorScale(ne,l.center.lat,l.worldSize).metersToTile;for(const Te of i)for(const Ee of Te){const Le=Ee.add(N),ze=f&&l.elevation?l.elevation.exaggeration()*f.getElevationAt(Le.x,Le.y,!0):0,Ge=l.projection.projectTilePoint(Le.x,Le.y,ne);if(ze>0){const gt=l.projection.upVector(ne,Le.x,Le.y);Ge.x+=gt[0]*fe*ze,Ge.y+=gt[1]*fe*ze,Ge.z+=gt[2]*fe*ze}const tt=x?Le:_2(Ge.x,Ge.y,Ge.z,u),yt=x?a.tilespaceRays.map(gt=>v2(gt,ze)):a.queryGeometry.screenGeometry,kt=qu([],[Ge.x,Ge.y,Ge.z,1],u);if(!C&&x?ee*=kt[3]/l.cameraToCenterDistance:C&&!x&&(ee*=l.cameraToCenterDistance/kt[3]),x){const gt=xa((Ee.y/On+ne.y)/(1<<ne.z));ee/=l.projection.pixelsPerMeter(gt,1)/cc(1,gt)}if(kh(yt,tt,ee))return!0}return!1}function _2(a,i,l,u){const f=qu([],[a,i,l,1],u);return new U(f[0]/f[3],f[1]/f[3])}const W_=Lh(0,0,0),Oc=Lh(0,0,1);function v2(a,i){const l=Em();return W_[2]=i,a.intersectsPlane(W_,Oc,l),new U(l[0],l[1])}class Y_ extends Tp{}function q_(a,{width:i,height:l},u,f){if(f){if(f instanceof Uint8ClampedArray)f=new Uint8Array(f.buffer);else if(f.length!==i*l*u)throw new RangeError("mismatched image size")}else f=new Uint8Array(i*l*u);return a.width=i,a.height=l,a.data=f,a}function C1(a,i,l){const{width:u,height:f}=i;u===a.width&&f===a.height||(E1(a,i,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,u),height:Math.min(a.height,f)},l),a.width=u,a.height=f,a.data=i.data)}function E1(a,i,l,u,f,x){if(f.width===0||f.height===0)return i;if(f.width>a.width||f.height>a.height||l.x>a.width-f.width||l.y>a.height-f.height)throw new RangeError("out of range source coordinates for image copy");if(f.width>i.width||f.height>i.height||u.x>i.width-f.width||u.y>i.height-f.height)throw new RangeError("out of range destination coordinates for image copy");const C=a.data,N=i.data;for(let ee=0;ee<f.height;ee++){const ne=((l.y+ee)*a.width+l.x)*x,fe=((u.y+ee)*i.width+u.x)*x;for(let Te=0;Te<f.width*x;Te++)N[fe+Te]=C[ne+Te]}return i}en(Y_,"HeatmapBucket",{omit:["layers"]});class fu{constructor(i,l){q_(this,i,1,l)}resize(i){C1(this,new fu(i),1)}clone(){return new fu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,l,u,f,x){E1(i,l,u,f,x,1)}}class Al{constructor(i,l){q_(this,i,4,l)}resize(i){C1(this,new Al(i),4)}replace(i,l){l?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new Al({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,l,u,f,x){E1(i,l,u,f,x,4)}}en(fu,"AlphaImage"),en(Al,"RGBAImage");var x2={paint:new Sn({"heatmap-radius":new ni(fi.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ni(fi.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yt(fi.paint_heatmap["heatmap-intensity"]),"heatmap-color":new mn(fi.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yt(fi.paint_heatmap["heatmap-opacity"])})};function Hf(a){const i={},l=a.resolution||256,u=a.clips?a.clips.length:1,f=a.image||new Al({width:l,height:u}),x=(C,N,ee)=>{i[a.evaluationKey]=ee;const ne=a.expression.evaluate(i);f.data[C+N+0]=Math.floor(255*ne.r/ne.a),f.data[C+N+1]=Math.floor(255*ne.g/ne.a),f.data[C+N+2]=Math.floor(255*ne.b/ne.a),f.data[C+N+3]=Math.floor(255*ne.a)};if(a.clips)for(let C=0,N=0;C<u;++C,N+=4*l)for(let ee=0,ne=0;ee<l;ee++,ne+=4){const fe=ee/(l-1),{start:Te,end:Ee}=a.clips[C];x(N,ne,Te*(1-fe)+Ee*fe)}else for(let C=0,N=0;C<l;C++,N+=4)x(0,N,C/(l-1));return f}var b2={paint:new Sn({"hillshade-illumination-direction":new Yt(fi.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yt(fi.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yt(fi.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yt(fi.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yt(fi.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yt(fi.paint_hillshade["hillshade-accent-color"])})};const w2=ln([{name:"a_pos",components:2,type:"Int16"}],4),{members:T2}=w2;var Wf={exports:{}};function km(a,i,l){l=l||2;var u,f,x,C,N,ee,ne,fe=i&&i.length,Te=fe?i[0]*l:a.length,Ee=X_(a,0,Te,l,!0),Le=[];if(!Ee||Ee.next===Ee.prev)return Le;if(fe&&(Ee=function(Ge,tt,yt,kt){var gt,wt,Dt,At=[];for(gt=0,wt=tt.length;gt<wt;gt++)(Dt=X_(Ge,tt[gt]*kt,gt<wt-1?tt[gt+1]*kt:Ge.length,kt,!1))===Dt.next&&(Dt.steiner=!0),At.push(D2(Dt));for(At.sort(k2),gt=0;gt<At.length;gt++)yt=A2(At[gt],yt);return yt}(a,i,Ee,l)),a.length>80*l){u=x=a[0],f=C=a[1];for(var ze=l;ze<Te;ze+=l)(N=a[ze])<u&&(u=N),(ee=a[ze+1])<f&&(f=ee),N>x&&(x=N),ee>C&&(C=ee);ne=(ne=Math.max(x-u,C-f))!==0?32767/ne:0}return Yf(Ee,Le,l,u,f,ne,0),Le}function X_(a,i,l,u,f){var x,C;if(f===P1(a,i,l,u)>0)for(x=i;x<l;x+=u)C=K_(x,a[x],a[x+1],C);else for(x=l-u;x>=i;x-=u)C=K_(x,a[x],a[x+1],C);return C&&Dp(C,C.next)&&(Xf(C),C=C.next),C}function Oh(a,i){if(!a)return a;i||(i=a);var l,u=a;do if(l=!1,u.steiner||!Dp(u,u.next)&&bo(u.prev,u,u.next)!==0)u=u.next;else{if(Xf(u),(u=i=u.prev)===u.next)break;l=!0}while(l||u!==i);return i}function Yf(a,i,l,u,f,x,C){if(a){!C&&x&&function(fe,Te,Ee,Le){var ze=fe;do ze.z===0&&(ze.z=M1(ze.x,ze.y,Te,Ee,Le)),ze.prevZ=ze.prev,ze.nextZ=ze.next,ze=ze.next;while(ze!==fe);ze.prevZ.nextZ=null,ze.prevZ=null,function(Ge){var tt,yt,kt,gt,wt,Dt,At,ti,Qt=1;do{for(yt=Ge,Ge=null,wt=null,Dt=0;yt;){for(Dt++,kt=yt,At=0,tt=0;tt<Qt&&(At++,kt=kt.nextZ);tt++);for(ti=Qt;At>0||ti>0&&kt;)At!==0&&(ti===0||!kt||yt.z<=kt.z)?(gt=yt,yt=yt.nextZ,At--):(gt=kt,kt=kt.nextZ,ti--),wt?wt.nextZ=gt:Ge=gt,gt.prevZ=wt,wt=gt;yt=kt}wt.nextZ=null,Qt*=2}while(Dt>1)}(ze)}(a,u,f,x);for(var N,ee,ne=a;a.prev!==a.next;)if(N=a.prev,ee=a.next,x?C2(a,u,f,x):S2(a))i.push(N.i/l|0),i.push(a.i/l|0),i.push(ee.i/l|0),Xf(a),a=ee.next,ne=ee.next;else if((a=ee)===ne){C?C===1?Yf(a=E2(Oh(a),i,l),i,l,u,f,x,2):C===2&&M2(a,i,l,u,f,x):Yf(Oh(a),i,l,u,f,x,1);break}}}function S2(a){var i=a.prev,l=a,u=a.next;if(bo(i,l,u)>=0)return!1;for(var f=i.x,x=l.x,C=u.x,N=i.y,ee=l.y,ne=u.y,fe=f<x?f<C?f:C:x<C?x:C,Te=N<ee?N<ne?N:ne:ee<ne?ee:ne,Ee=f>x?f>C?f:C:x>C?x:C,Le=N>ee?N>ne?N:ne:ee>ne?ee:ne,ze=u.next;ze!==i;){if(ze.x>=fe&&ze.x<=Ee&&ze.y>=Te&&ze.y<=Le&&Pp(f,N,x,ee,C,ne,ze.x,ze.y)&&bo(ze.prev,ze,ze.next)>=0)return!1;ze=ze.next}return!0}function C2(a,i,l,u){var f=a.prev,x=a,C=a.next;if(bo(f,x,C)>=0)return!1;for(var N=f.x,ee=x.x,ne=C.x,fe=f.y,Te=x.y,Ee=C.y,Le=N<ee?N<ne?N:ne:ee<ne?ee:ne,ze=fe<Te?fe<Ee?fe:Ee:Te<Ee?Te:Ee,Ge=N>ee?N>ne?N:ne:ee>ne?ee:ne,tt=fe>Te?fe>Ee?fe:Ee:Te>Ee?Te:Ee,yt=M1(Le,ze,i,l,u),kt=M1(Ge,tt,i,l,u),gt=a.prevZ,wt=a.nextZ;gt&&gt.z>=yt&&wt&&wt.z<=kt;){if(gt.x>=Le&&gt.x<=Ge&&gt.y>=ze&&gt.y<=tt&&gt!==f&&gt!==C&&Pp(N,fe,ee,Te,ne,Ee,gt.x,gt.y)&&bo(gt.prev,gt,gt.next)>=0||(gt=gt.prevZ,wt.x>=Le&&wt.x<=Ge&&wt.y>=ze&&wt.y<=tt&&wt!==f&&wt!==C&&Pp(N,fe,ee,Te,ne,Ee,wt.x,wt.y)&&bo(wt.prev,wt,wt.next)>=0))return!1;wt=wt.nextZ}for(;gt&&gt.z>=yt;){if(gt.x>=Le&&gt.x<=Ge&&gt.y>=ze&&gt.y<=tt&&gt!==f&&gt!==C&&Pp(N,fe,ee,Te,ne,Ee,gt.x,gt.y)&&bo(gt.prev,gt,gt.next)>=0)return!1;gt=gt.prevZ}for(;wt&&wt.z<=kt;){if(wt.x>=Le&&wt.x<=Ge&&wt.y>=ze&&wt.y<=tt&&wt!==f&&wt!==C&&Pp(N,fe,ee,Te,ne,Ee,wt.x,wt.y)&&bo(wt.prev,wt,wt.next)>=0)return!1;wt=wt.nextZ}return!0}function E2(a,i,l){var u=a;do{var f=u.prev,x=u.next.next;!Dp(f,x)&&k1(f,u,u.next,x)&&qf(f,x)&&qf(x,f)&&(i.push(f.i/l|0),i.push(u.i/l|0),i.push(x.i/l|0),Xf(u),Xf(u.next),u=a=x),u=u.next}while(u!==a);return Oh(u)}function M2(a,i,l,u,f,x){var C=a;do{for(var N=C.next.next;N!==C.prev;){if(C.i!==N.i&&I2(C,N)){var ee=Z_(C,N);return C=Oh(C,C.next),ee=Oh(ee,ee.next),Yf(C,i,l,u,f,x,0),void Yf(ee,i,l,u,f,x,0)}N=N.next}C=C.next}while(C!==a)}function k2(a,i){return a.x-i.x}function A2(a,i){var l=function(f,x){var C,N=x,ee=f.x,ne=f.y,fe=-1/0;do{if(ne<=N.y&&ne>=N.next.y&&N.next.y!==N.y){var Te=N.x+(ne-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(Te<=ee&&Te>fe&&(fe=Te,C=N.x<N.next.x?N:N.next,Te===ee))return C}N=N.next}while(N!==x);if(!C)return null;var Ee,Le=C,ze=C.x,Ge=C.y,tt=1/0;N=C;do ee>=N.x&&N.x>=ze&&ee!==N.x&&Pp(ne<Ge?ee:fe,ne,ze,Ge,ne<Ge?fe:ee,ne,N.x,N.y)&&(Ee=Math.abs(ne-N.y)/(ee-N.x),qf(N,f)&&(Ee<tt||Ee===tt&&(N.x>C.x||N.x===C.x&&P2(C,N)))&&(C=N,tt=Ee)),N=N.next;while(N!==Le);return C}(a,i);if(!l)return i;var u=Z_(l,a);return Oh(u,u.next),Oh(l,l.next)}function P2(a,i){return bo(a.prev,a,i.prev)<0&&bo(i.next,a,a.next)<0}function M1(a,i,l,u,f){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-l)*f|0)|a<<8))|a<<4))|a<<2))|a<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-u)*f|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function D2(a){var i=a,l=a;do(i.x<l.x||i.x===l.x&&i.y<l.y)&&(l=i),i=i.next;while(i!==a);return l}function Pp(a,i,l,u,f,x,C,N){return(f-C)*(i-N)>=(a-C)*(x-N)&&(a-C)*(u-N)>=(l-C)*(i-N)&&(l-C)*(x-N)>=(f-C)*(u-N)}function I2(a,i){return a.next.i!==i.i&&a.prev.i!==i.i&&!function(l,u){var f=l;do{if(f.i!==l.i&&f.next.i!==l.i&&f.i!==u.i&&f.next.i!==u.i&&k1(f,f.next,l,u))return!0;f=f.next}while(f!==l);return!1}(a,i)&&(qf(a,i)&&qf(i,a)&&function(l,u){var f=l,x=!1,C=(l.x+u.x)/2,N=(l.y+u.y)/2;do f.y>N!=f.next.y>N&&f.next.y!==f.y&&C<(f.next.x-f.x)*(N-f.y)/(f.next.y-f.y)+f.x&&(x=!x),f=f.next;while(f!==l);return x}(a,i)&&(bo(a.prev,a,i.prev)||bo(a,i.prev,i))||Dp(a,i)&&bo(a.prev,a,a.next)>0&&bo(i.prev,i,i.next)>0)}function bo(a,i,l){return(i.y-a.y)*(l.x-i.x)-(i.x-a.x)*(l.y-i.y)}function Dp(a,i){return a.x===i.x&&a.y===i.y}function k1(a,i,l,u){var f=Pm(bo(a,i,l)),x=Pm(bo(a,i,u)),C=Pm(bo(l,u,a)),N=Pm(bo(l,u,i));return f!==x&&C!==N||!(f!==0||!Am(a,l,i))||!(x!==0||!Am(a,u,i))||!(C!==0||!Am(l,a,u))||!(N!==0||!Am(l,i,u))}function Am(a,i,l){return i.x<=Math.max(a.x,l.x)&&i.x>=Math.min(a.x,l.x)&&i.y<=Math.max(a.y,l.y)&&i.y>=Math.min(a.y,l.y)}function Pm(a){return a>0?1:a<0?-1:0}function qf(a,i){return bo(a.prev,a,a.next)<0?bo(a,i,a.next)>=0&&bo(a,a.prev,i)>=0:bo(a,i,a.prev)<0||bo(a,a.next,i)<0}function Z_(a,i){var l=new A1(a.i,a.x,a.y),u=new A1(i.i,i.x,i.y),f=a.next,x=i.prev;return a.next=i,i.prev=a,l.next=f,f.prev=l,u.next=l,l.prev=u,x.next=u,u.prev=x,u}function K_(a,i,l,u){var f=new A1(a,i,l);return u?(f.next=u.next,f.prev=u,u.next.prev=f,u.next=f):(f.prev=f,f.next=f),f}function Xf(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function A1(a,i,l){this.i=a,this.x=i,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P1(a,i,l,u){for(var f=0,x=i,C=l-u;x<l;x+=u)f+=(a[C]-a[x])*(a[x+1]+a[C+1]),C=x;return f}function J_(a,i,l,u,f){Q_(a,i,l||0,u||a.length-1,f||L2)}function Q_(a,i,l,u,f){for(;u>l;){if(u-l>600){var x=u-l+1,C=i-l+1,N=Math.log(x),ee=.5*Math.exp(2*N/3),ne=.5*Math.sqrt(N*ee*(x-ee)/x)*(C-x/2<0?-1:1);Q_(a,i,Math.max(l,Math.floor(i-C*ee/x+ne)),Math.min(u,Math.floor(i+(x-C)*ee/x+ne)),f)}var fe=a[i],Te=l,Ee=u;for(Xu(a,l,i),f(a[u],fe)>0&&Xu(a,l,u);Te<Ee;){for(Xu(a,Te,Ee),Te++,Ee--;f(a[Te],fe)<0;)Te++;for(;f(a[Ee],fe)>0;)Ee--}f(a[l],fe)===0?Xu(a,l,Ee):Xu(a,++Ee,u),Ee<=i&&(l=Ee+1),i<=Ee&&(u=Ee-1)}}function Xu(a,i,l){var u=a[i];a[i]=a[l],a[l]=u}function L2(a,i){return a<i?-1:a>i?1:0}function D1(a,i){const l=a.length;if(l<=1)return[a];const u=[];let f,x;for(let C=0;C<l;C++){const N=Se(a[C]);N!==0&&(a[C].area=Math.abs(N),x===void 0&&(x=N<0),x===N<0?(f&&u.push(f),f=[a[C]]):f.push(a[C]))}if(f&&u.push(f),i>1)for(let C=0;C<u.length;C++)u[C].length<=i||(J_(u[C],i,1,u[C].length-1,O2),u[C]=u[C].slice(0,i));return u}function O2(a,i){return i.area-a.area}function I1(a,i,l){const u=l.patternDependencies;let f=!1;for(const x of i){const C=x.paint.get(`${a}-pattern`);C.isConstant()||(f=!0);const N=C.constantOr(null);N&&(f=!0,u[N]=!0)}return f}function L1(a,i,l,u,f){const x=f.patternDependencies;for(const C of i){const N=C.paint.get(`${a}-pattern`).value;if(N.kind!=="constant"){let ee=N.evaluate({zoom:u},l,{},f.availableImages);ee=ee&&ee.name?ee.name:ee,x[ee]=!0,l.patterns[C.id]=ee}}return l}Wf.exports=km,Wf.exports.default=km,km.deviation=function(a,i,l,u){var f=i&&i.length,x=Math.abs(P1(a,0,f?i[0]*l:a.length,l));if(f)for(var C=0,N=i.length;C<N;C++)x-=Math.abs(P1(a,i[C]*l,C<N-1?i[C+1]*l:a.length,l));var ee=0;for(C=0;C<u.length;C+=3){var ne=u[C]*l,fe=u[C+1]*l,Te=u[C+2]*l;ee+=Math.abs((a[ne]-a[Te])*(a[fe+1]-a[ne+1])-(a[ne]-a[fe])*(a[Te+1]-a[ne+1]))}return x===0&&ee===0?0:Math.abs((ee-x)/x)},km.flatten=function(a){for(var i=a[0][0].length,l={vertices:[],holes:[],dimensions:i},u=0,f=0;f<a.length;f++){for(var x=0;x<a[f].length;x++)for(var C=0;C<i;C++)l.vertices.push(a[f][x][C]);f>0&&l.holes.push(u+=a[f-1].length)}return l};class Dm{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Hr,this.indexArray=new sa,this.indexArray2=new Dc,this.programConfigurations=new zd(i.layers,i.zoom),this.segments=new xo,this.segments2=new xo,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.projection=i.projection}populate(i,l,u,f){this.hasPattern=I1("fill",this.layers,l);const x=this.layers[0].layout.get("fill-sort-key"),C=[];for(const{feature:N,id:ee,index:ne,sourceLayerIndex:fe}of i){const Te=this.layers[0]._featureFilter.needGeometry,Ee=Nd(N,Te);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),Ee,u))continue;const Le=x?x.evaluate(Ee,{},u,l.availableImages):void 0,ze={id:ee,properties:N.properties,type:N.type,sourceLayerIndex:fe,index:ne,geometry:Te?Ee.geometry:sd(N,u,f),patterns:{},sortKey:Le};C.push(ze)}x&&C.sort((N,ee)=>N.sortKey-ee.sortKey);for(const N of C){const{geometry:ee,index:ne,sourceLayerIndex:fe}=N;if(this.hasPattern){const Te=L1("fill",this.layers,N,this.zoom,l);this.patternFeatures.push(Te)}else this.addFeature(N,ee,ne,u,{},l.availableImages);l.featureIndex.insert(i[ne].feature,ee,ne,fe,this.index)}}update(i,l,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,u,f)}addFeatures(i,l,u,f,x){for(const C of this.patternFeatures)this.addFeature(C,C.geometry,C.index,l,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,T2),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,l,u,f,x,C=[]){for(const N of D1(l,500)){let ee=0;for(const ze of N)ee+=ze.length;const ne=this.segments.prepareSegment(ee,this.layoutVertexArray,this.indexArray),fe=ne.vertexLength,Te=[],Ee=[];for(const ze of N){if(ze.length===0)continue;ze!==N[0]&&Ee.push(Te.length/2);const Ge=this.segments2.prepareSegment(ze.length,this.layoutVertexArray,this.indexArray2),tt=Ge.vertexLength;this.layoutVertexArray.emplaceBack(ze[0].x,ze[0].y),this.indexArray2.emplaceBack(tt+ze.length-1,tt),Te.push(ze[0].x),Te.push(ze[0].y);for(let yt=1;yt<ze.length;yt++)this.layoutVertexArray.emplaceBack(ze[yt].x,ze[yt].y),this.indexArray2.emplaceBack(tt+yt-1,tt+yt),Te.push(ze[yt].x),Te.push(ze[yt].y);Ge.vertexLength+=ze.length,Ge.primitiveLength+=ze.length}const Le=Wf.exports(Te,Ee);for(let ze=0;ze<Le.length;ze+=3)this.indexArray.emplaceBack(fe+Le[ze],fe+Le[ze+1],fe+Le[ze+2]);ne.vertexLength+=ee,ne.primitiveLength+=Le.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,u,x,C,f)}}en(Dm,"FillBucket",{omit:["layers","patternFeatures"]});const R2=new Sn({"fill-sort-key":new ni(fi.layout_fill["fill-sort-key"])});var B2={paint:new Sn({"fill-antialias":new Yt(fi.paint_fill["fill-antialias"]),"fill-opacity":new ni(fi.paint_fill["fill-opacity"]),"fill-color":new ni(fi.paint_fill["fill-color"]),"fill-outline-color":new ni(fi.paint_fill["fill-outline-color"]),"fill-translate":new Yt(fi.paint_fill["fill-translate"]),"fill-translate-anchor":new Yt(fi.paint_fill["fill-translate-anchor"]),"fill-pattern":new ni(fi.paint_fill["fill-pattern"])}),layout:R2};const z2=ln([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),N2=ln([{name:"a_centroid_pos",components:2,type:"Uint16"}]),F2=ln([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:j2}=z2;var Im={},U2=U,ev=Ip;function Ip(a,i,l,u,f){this.properties={},this.extent=l,this.type=0,this._pbf=a,this._geometry=-1,this._keys=u,this._values=f,a.readFields(tv,this,i)}function tv(a,i,l){a==1?i.id=l.readVarint():a==2?function(u,f){for(var x=u.readVarint()+u.pos;u.pos<x;){var C=f._keys[u.readVarint()],N=f._values[u.readVarint()];f.properties[C]=N}}(l,i):a==3?i.type=l.readVarint():a==4&&(i._geometry=l.pos)}function iv(a){for(var i,l,u=0,f=0,x=a.length,C=x-1;f<x;C=f++)u+=((l=a[C]).x-(i=a[f]).x)*(i.y+l.y);return u}Ip.types=["Unknown","Point","LineString","Polygon"],Ip.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var i,l=a.readVarint()+a.pos,u=1,f=0,x=0,C=0,N=[];a.pos<l;){if(f<=0){var ee=a.readVarint();u=7&ee,f=ee>>3}if(f--,u===1||u===2)x+=a.readSVarint(),C+=a.readSVarint(),u===1&&(i&&N.push(i),i=[]),i.push(new U2(x,C));else{if(u!==7)throw new Error("unknown command "+u);i&&i.push(i[0].clone())}}return i&&N.push(i),N},Ip.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var i=a.readVarint()+a.pos,l=1,u=0,f=0,x=0,C=1/0,N=-1/0,ee=1/0,ne=-1/0;a.pos<i;){if(u<=0){var fe=a.readVarint();l=7&fe,u=fe>>3}if(u--,l===1||l===2)(f+=a.readSVarint())<C&&(C=f),f>N&&(N=f),(x+=a.readSVarint())<ee&&(ee=x),x>ne&&(ne=x);else if(l!==7)throw new Error("unknown command "+l)}return[C,ee,N,ne]},Ip.prototype.toGeoJSON=function(a,i,l){var u,f,x=this.extent*Math.pow(2,l),C=this.extent*a,N=this.extent*i,ee=this.loadGeometry(),ne=Ip.types[this.type];function fe(Le){for(var ze=0;ze<Le.length;ze++){var Ge=Le[ze];Le[ze]=[360*(Ge.x+C)/x-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ge.y+N)/x)*Math.PI/180))-90]}}switch(this.type){case 1:var Te=[];for(u=0;u<ee.length;u++)Te[u]=ee[u][0];fe(ee=Te);break;case 2:for(u=0;u<ee.length;u++)fe(ee[u]);break;case 3:for(ee=function(Le){var ze=Le.length;if(ze<=1)return[Le];for(var Ge,tt,yt=[],kt=0;kt<ze;kt++){var gt=iv(Le[kt]);gt!==0&&(tt===void 0&&(tt=gt<0),tt===gt<0?(Ge&&yt.push(Ge),Ge=[Le[kt]]):Ge.push(Le[kt]))}return Ge&&yt.push(Ge),yt}(ee),u=0;u<ee.length;u++)for(f=0;f<ee[u].length;f++)fe(ee[u][f])}ee.length===1?ee=ee[0]:ne="Multi"+ne;var Ee={type:"Feature",geometry:{type:ne,coordinates:ee},properties:this.properties};return"id"in this&&(Ee.id=this.id),Ee};var $2=ev,nv=rv;function rv(a,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(V2,this,i),this.length=this._features.length}function V2(a,i,l){a===15?i.version=l.readVarint():a===1?i.name=l.readString():a===5?i.extent=l.readVarint():a===2?i._features.push(l.pos):a===3?i._keys.push(l.readString()):a===4&&i._values.push(function(u){for(var f=null,x=u.readVarint()+u.pos;u.pos<x;){var C=u.readVarint()>>3;f=C===1?u.readString():C===2?u.readFloat():C===3?u.readDouble():C===4?u.readVarint64():C===5?u.readVarint():C===6?u.readSVarint():C===7?u.readBoolean():null}return f}(l))}rv.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var i=this._pbf.readVarint()+this._pbf.pos;return new $2(this._pbf,i,this.extent,this._keys,this._values)};var Lm=nv;function G2(a,i,l){if(a===3){var u=new Lm(l,l.readVarint()+l.pos);u.length&&(i[u.name]=u)}}var O1=Im.VectorTile=function(a,i){this.layers=a.readFields(G2,{},i)},Om=Im.VectorTileFeature=ev;function Rm(a,i,l,u){const f=[],x=u===0?(C,N,ee,ne,fe,Te)=>{C.push(new U(Te,ee+(Te-N)/(ne-N)*(fe-ee)))}:(C,N,ee,ne,fe,Te)=>{C.push(new U(N+(Te-ee)/(fe-ee)*(ne-N),Te))};for(const C of a){const N=[];for(const ee of C){if(ee.length<=2)continue;const ne=[];for(let Ee=0;Ee<ee.length-1;Ee++){const Le=ee[Ee].x,ze=ee[Ee].y,Ge=ee[Ee+1].x,tt=ee[Ee+1].y,yt=u===0?Le:ze,kt=u===0?Ge:tt;yt<i?kt>i&&x(ne,Le,ze,Ge,tt,i):yt>l?kt<l&&x(ne,Le,ze,Ge,tt,l):ne.push(ee[Ee]),kt<i&&yt>=i&&x(ne,Le,ze,Ge,tt,i),kt>l&&yt<=l&&x(ne,Le,ze,Ge,tt,l)}let fe=ee[ee.length-1];const Te=u===0?fe.x:fe.y;Te>=i&&Te<=l&&ne.push(fe),ne.length&&(fe=ne[ne.length-1],ne[0].x===fe.x&&ne[0].y===fe.y||ne.push(ne[0]),N.push(ne))}N.length&&f.push(N)}return f}Im.VectorTileLayer=nv;const H2=Om.types,W2=Math.pow(2,13);function Zf(a,i,l,u,f,x,C,N){a.emplaceBack((i<<1)+C,(l<<1)+x,(Math.floor(u*W2)<<1)+f,Math.round(N))}function Kf(a,i,l){a.emplaceBack(i.x,i.y,i.z,l[0]*16384,l[1]*16384,l[2]*16384)}class sv{constructor(){this.acc=new U(0,0),this.polyCount=[]}startRing(i){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new U(i.x,i.y),this.max=new U(i.x,i.y))}append(i,l){this.currentPolyCount.edges++,this.acc._add(i);const u=this.min,f=this.max;i.x<u.x?u.x=i.x:i.x>f.x&&(f.x=i.x),i.y<u.y?u.y=i.y:i.y>f.y&&(f.y=i.y),((i.x===0||i.x===On)&&i.x===l.x)!=((i.y===0||i.y===On)&&i.y===l.y)&&this.processBorderOverlap(i,l),l.x<0!=i.x<0&&this.addBorderIntersection(0,Zn(l.y,i.y,(0-l.x)/(i.x-l.x))),l.x>On!=i.x>On&&this.addBorderIntersection(1,Zn(l.y,i.y,(On-l.x)/(i.x-l.x))),l.y<0!=i.y<0&&this.addBorderIntersection(2,Zn(l.x,i.x,(0-l.y)/(i.y-l.y))),l.y>On!=i.y>On&&this.addBorderIntersection(3,Zn(l.x,i.x,(On-l.y)/(i.y-l.y)))}addBorderIntersection(i,l){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const u=this.borders[i];l<u[0]&&(u[0]=l),l>u[1]&&(u[1]=l)}processBorderOverlap(i,l){if(i.x===l.x){if(i.y===l.y)return;const u=i.x===0?0:1;this.addBorderIntersection(u,l.y),this.addBorderIntersection(u,i.y)}else{const u=i.y===0?2:3;this.addBorderIntersection(u,l.x),this.addBorderIntersection(u,i.x)}}centroid(){const i=this.polyCount.reduce((l,u)=>l+u.edges,0);return i!==0?this.acc.div(i)._round():new U(0,0)}span(){return new U(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((i,l)=>i+ +(l[0]!==Number.MAX_VALUE),0)}}class Jf{constructor(i){this.zoom=i.zoom,this.canonical=i.canonical,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=i.projection,this.layoutVertexArray=new es,this.centroidVertexArray=new ym,this.indexArray=new sa,this.programConfigurations=new zd(i.layers,i.zoom),this.segments=new xo,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.enableTerrain=i.enableTerrain}populate(i,l,u,f){this.features=[],this.hasPattern=I1("fill-extrusion",this.layers,l),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(x){const C=Math.exp(Math.PI*(1-x.y/(1<<x.z)*2));return 80150034*C/(C*C+1)/On/(1<<x.z)}(u),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:x,id:C,index:N,sourceLayerIndex:ee}of i){const ne=this.layers[0]._featureFilter.needGeometry,fe=Nd(x,ne);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),fe,u))continue;const Te={id:C,sourceLayerIndex:ee,index:N,geometry:ne?fe.geometry:sd(x,u,f),properties:x.properties,type:x.type,patterns:{}},Ee=this.layoutVertexArray.length;this.hasPattern?this.features.push(L1("fill-extrusion",this.layers,Te,this.zoom,l)):this.addFeature(Te,Te.geometry,N,u,{},l.availableImages,f),l.featureIndex.insert(x,Te.geometry,N,ee,this.index,Ee)}this.sortBorders()}addFeatures(i,l,u,f,x){for(const C of this.features){const{geometry:N}=C;this.addFeature(C,N,C.index,l,u,f,x)}this.sortBorders()}update(i,l,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,j2),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=i.createVertexBuffer(this.layoutVertexExtArray,F2.members,!0))),this.programConfigurations.upload(i),this.uploaded=!0}uploadCentroid(i){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,N2.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,l,u,f,x,C,N){const ee=[new U(0,0),new U(On,On)],ne=N.projection,fe=ne.name==="globe",Te=this.enableTerrain&&!fe?new sv:null,Ee=H2[i.type]==="Polygon";fe&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new gs);const Le=D1(l,500);for(let yt=Le.length-1;yt>=0;yt--){const kt=Le[yt];(kt.length===0||(ze=kt[0]).every(gt=>gt.x<=0)||ze.every(gt=>gt.x>=On)||ze.every(gt=>gt.y<=0)||ze.every(gt=>gt.y>=On))&&Le.splice(yt,1)}var ze;let Ge;if(fe)Ge=N1(Le,ee,f);else{Ge=[];for(const yt of Le)Ge.push({polygon:yt,bounds:ee})}const tt=Ee?this.edgeRadius:0;for(const{polygon:yt,bounds:kt}of Ge){let gt=0,wt=0;for(const At of yt)Ee&&!At[0].equals(At[At.length-1])&&At.push(At[0]),wt+=Ee?At.length-1:At.length;const Dt=this.segments.prepareSegment((Ee?5:4)*wt,this.layoutVertexArray,this.indexArray);if(Ee){const At=[],ti=[];gt=Dt.vertexLength;for(const _i of yt){let ji,ai;_i.length&&_i!==yt[0]&&ti.push(At.length/2),ji=_i[1].sub(_i[0])._perp()._unit();for(let Ti=1;Ti<_i.length;Ti++){const Ci=_i[Ti],Oi=_i[Ti===_i.length-1?1:Ti+1];let{x:Ui,y:ci}=Ci;if(tt){ai=Oi.sub(Ci)._perp()._unit();const Ji=ji.add(ai)._unit(),zn=tt*Math.min(4,1/(ji.x*Ji.x+ji.y*Ji.y));Ui+=zn*Ji.x,ci+=zn*Ji.y,ji=ai}Zf(this.layoutVertexArray,Ui,ci,0,0,1,1,0),Dt.vertexLength++,At.push(Ci.x,Ci.y),fe&&Kf(this.layoutVertexExtArray,ne.projectTilePoint(Ui,ci,f),ne.upVector(f,Ui,ci))}}const Qt=Wf.exports(At,ti);for(let _i=0;_i<Qt.length;_i+=3)this.indexArray.emplaceBack(gt+Qt[_i],gt+Qt[_i+2],gt+Qt[_i+1]),Dt.primitiveLength++}for(const At of yt){Te&&At.length&&Te.startRing(At[0]);let ti,Qt,_i,ji=At.length>4&&B1(At[At.length-2],At[0],At[1]),ai=tt?Bm(At[At.length-2],At[0],At[1],tt):0;Qt=At[1].sub(At[0])._perp()._unit();let Ti=!0;for(let Ci=1,Oi=0;Ci<At.length;Ci++){let Ui=At[Ci-1],ci=At[Ci];const Ji=At[Ci===At.length-1?1:Ci+1];if(Te&&Ee&&Te.currentPolyCount.top++,R1(ci,Ui,kt)){tt&&(Qt=Ji.sub(ci)._perp()._unit(),Ti=!Ti);continue}Te&&Te.append(ci,Ui);const zn=ci.sub(Ui)._perp(),sn=zn.x/(Math.abs(zn.x)+Math.abs(zn.y)),vn=zn.y>0?1:0,Qi=Ui.dist(ci);if(Oi+Qi>32768&&(Oi=0),tt){_i=Ji.sub(ci)._perp()._unit();let yr=av(Ui,ci,Ji,ov(Qt,_i),tt);isNaN(yr)&&(yr=0);const Vn=ci.sub(Ui)._unit();Ui=Ui.add(Vn.mult(ai))._round(),ci=ci.add(Vn.mult(-yr))._round(),ai=yr,Qt=_i}const $n=Dt.vertexLength,Er=At.length>4&&B1(Ui,ci,Ji);let br=zm(Oi,ji,Ti);if(Zf(this.layoutVertexArray,Ui.x,Ui.y,sn,vn,0,0,br),Zf(this.layoutVertexArray,Ui.x,Ui.y,sn,vn,0,1,br),Oi+=Qi,br=zm(Oi,Er,!Ti),ji=Er,Zf(this.layoutVertexArray,ci.x,ci.y,sn,vn,0,0,br),Zf(this.layoutVertexArray,ci.x,ci.y,sn,vn,0,1,br),Dt.vertexLength+=4,this.indexArray.emplaceBack($n+0,$n+1,$n+2),this.indexArray.emplaceBack($n+1,$n+3,$n+2),Dt.primitiveLength+=2,tt){const yr=gt+(Ci===1?At.length-2:Ci-2),Vn=Ci===1?gt:yr+1;if(this.indexArray.emplaceBack($n+1,yr,$n+3),this.indexArray.emplaceBack(yr,Vn,$n+3),Dt.primitiveLength+=2,ti===void 0&&(ti=$n),!R1(Ji,At[Ci],kt)){const ls=Ci===At.length-1?ti:Dt.vertexLength;this.indexArray.emplaceBack($n+2,$n+3,ls),this.indexArray.emplaceBack($n+3,ls+1,ls),this.indexArray.emplaceBack($n+3,Vn,ls+1),Dt.primitiveLength+=3}Ti=!Ti}if(fe){const yr=this.layoutVertexExtArray,Vn=ne.projectTilePoint(Ui.x,Ui.y,f),ls=ne.projectTilePoint(ci.x,ci.y,f),rr=ne.upVector(f,Ui.x,Ui.y),Mr=ne.upVector(f,ci.x,ci.y);Kf(yr,Vn,rr),Kf(yr,Vn,rr),Kf(yr,ls,Mr),Kf(yr,ls,Mr)}}Ee&&(gt+=At.length-1)}}if(Te&&Te.polyCount.length>0){if(Te.borders){Te.vertexArrayOffset=this.centroidVertexArray.length;const yt=Te.borders,kt=this.featuresOnBorder.push(Te)-1;for(let gt=0;gt<4;gt++)yt[gt][0]!==Number.MAX_VALUE&&this.borders[gt].push(kt)}this.encodeCentroid(Te.borders?void 0:Te.centroid(),Te)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,u,x,C,f)}sortBorders(){for(let i=0;i<4;i++)this.borders[i].sort((l,u)=>this.featuresOnBorder[l].borders[i][0]-this.featuresOnBorder[u].borders[i][0])}encodeCentroid(i,l,u=!0){let f,x;if(i)if(i.y!==0){const N=l.span()._mult(this.tileToMeter);f=(Math.max(i.x,1)<<3)+Math.min(7,Math.round(N.x/10)),x=(Math.max(i.y,1)<<3)+Math.min(7,Math.round(N.y/10))}else f=Math.ceil(7*(i.x+450)),x=0;else f=0,x=+u;let C=u?this.centroidVertexArray.length:l.vertexArrayOffset;for(const N of l.polyCount){u&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*N.edges+N.top);for(let ee=0;ee<N.top;ee++)this.centroidVertexArray.emplace(C++,f,x);for(let ee=0;ee<2*N.edges;ee++)this.centroidVertexArray.emplace(C++,0,x),this.centroidVertexArray.emplace(C++,f,x)}}}function ov(a,i){const l=a.add(i)._unit();return a.x*l.x+a.y*l.y}function Bm(a,i,l,u){const f=i.sub(a)._perp()._unit(),x=l.sub(i)._perp()._unit();return av(a,i,l,ov(f,x),u)}function av(a,i,l,u,f){const x=Math.sqrt(1-u*u);return Math.min(a.dist(i)/3,i.dist(l)/3,f*x/u)}function R1(a,i,l){return a.x<l[0].x&&i.x<l[0].x||a.x>l[1].x&&i.x>l[1].x||a.y<l[0].y&&i.y<l[0].y||a.y>l[1].y&&i.y>l[1].y}function B1(a,i,l){if(a.x<0||a.x>=On||i.x<0||i.x>=On||l.x<0||l.x>=On)return!1;const u=l.sub(i),f=u.perp(),x=a.sub(i);return(u.x*x.x+u.y*x.y)/Math.sqrt((u.x*u.x+u.y*u.y)*(x.x*x.x+x.y*x.y))>-.866&&f.x*x.x+f.y*x.y<0}function zm(a,i,l){const u=i?2|a:-3&a;return l?1|u:-2&u}function z1(){const a=Math.PI/32,i=Math.tan(a),l=Eh;return l*Math.sqrt(1+2*i*i)-l}function N1(a,i,l){const u=1<<l.z,f=dl(l.x/u),x=dl((l.x+1)/u),C=xa(l.y/u),N=xa((l.y+1)/u);return function(ee,ne,fe,Te,Ee=0,Le){const ze=[];if(!ee.length||!fe||!Te)return ze;const Ge=(At,ti)=>{for(const Qt of At)ze.push({polygon:Qt,bounds:ti})},tt=Math.ceil(Math.log2(fe)),yt=Math.ceil(Math.log2(Te)),kt=tt-yt,gt=[];for(let At=0;At<Math.abs(kt);At++)gt.push(kt>0?0:1);for(let At=0;At<Math.min(tt,yt);At++)gt.push(0),gt.push(1);let wt=ee;if(wt=Rm(wt,ne[0].y-Ee,ne[1].y+Ee,1),wt=Rm(wt,ne[0].x-Ee,ne[1].x+Ee,0),!wt.length)return ze;const Dt=[];for(gt.length?Dt.push({polygons:wt,bounds:ne,depth:0}):Ge(wt,ne);Dt.length;){const At=Dt.pop(),ti=At.depth,Qt=gt[ti],_i=At.bounds[0],ji=At.bounds[1],ai=Qt===0?_i.x:_i.y,Ti=Qt===0?ji.x:ji.y,Ci=Le?Le(Qt,ai,Ti):.5*(ai+Ti),Oi=Rm(At.polygons,ai-Ee,Ci+Ee,Qt),Ui=Rm(At.polygons,Ci-Ee,Ti+Ee,Qt);if(Oi.length){const ci=[_i,new U(Qt===0?Ci:ji.x,Qt===1?Ci:ji.y)];gt.length>ti+1?Dt.push({polygons:Oi,bounds:ci,depth:ti+1}):Ge(Oi,ci)}if(Ui.length){const ci=[new U(Qt===0?Ci:_i.x,Qt===1?Ci:_i.y),ji];gt.length>ti+1?Dt.push({polygons:Ui,bounds:ci,depth:ti+1}):Ge(Ui,ci)}}return ze}(a,i,Math.ceil((x-f)/11.25),Math.ceil((C-N)/11.25),1,(ee,ne,fe)=>{if(ee===0)return .5*(ne+fe);{const Te=xa((l.y+ne/On)/u);return(lc(.5*(xa((l.y+fe/On)/u)+Te))*u-l.y)*On}})}en(Jf,"FillExtrusionBucket",{omit:["layers","features"]}),en(sv,"PartMetadata");const lv=new Sn({"fill-extrusion-edge-radius":new Yt(fi["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var cv={paint:new Sn({"fill-extrusion-opacity":new Yt(fi["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ni(fi["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yt(fi["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yt(fi["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ni(fi["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ni(fi["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ni(fi["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Yt(fi["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Yt(fi["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Yt(fi["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:lv};function dv(a,i,l){var u=2*Math.PI*6378137/256/Math.pow(2,l);return[a*u-2*Math.PI*6378137/2,i*u-2*Math.PI*6378137/2]}class Nm{constructor(i,l,u){this.z=i,this.x=l,this.y=u,this.key=Zu(0,i,i,l,u)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,l){const u=function(x,C,N){var ee=dv(256*x,256*(C=Math.pow(2,N)-C-1),N),ne=dv(256*(x+1),256*(C+1),N);return ee[0]+","+ee[1]+","+ne[0]+","+ne[1]}(this.x,this.y,this.z),f=function(x,C,N){let ee,ne="";for(let fe=x;fe>0;fe--)ee=1<<fe-1,ne+=(C&ee?1:0)+(N&ee?2:0);return ne}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(l==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",f).replace("{bbox-epsg-3857}",u)}toString(){return`${this.z}/${this.x}/${this.y}`}}class uv{constructor(i,l){this.wrap=i,this.canonical=l,this.key=Zu(i,l.z,l.z,l.x,l.y)}}class oa{constructor(i,l,u,f,x){this.overscaledZ=i,this.wrap=l,this.canonical=new Nm(u,+f,+x),this.key=l===0&&i===u?this.canonical.key:Zu(l,i,u,f,x)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){const l=this.canonical.z-i;return i>this.canonical.z?new oa(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new oa(i,this.wrap,i,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(i,l=!0){if(this.overscaledZ===i&&l)return this.key;if(i>this.canonical.z)return Zu(this.wrap*+l,i,this.canonical.z,this.canonical.x,this.canonical.y);{const u=this.canonical.z-i;return Zu(this.wrap*+l,i,i,this.canonical.x>>u,this.canonical.y>>u)}}isChildOf(i){if(i.wrap!==this.wrap)return!1;const l=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>l&&i.canonical.y===this.canonical.y>>l}children(i){if(this.overscaledZ>=i)return[new oa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,u=2*this.canonical.x,f=2*this.canonical.y;return[new oa(l,this.wrap,l,u,f),new oa(l,this.wrap,l,u+1,f),new oa(l,this.wrap,l,u,f+1),new oa(l,this.wrap,l,u+1,f+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new oa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new oa(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new uv(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Zu(a,i,l,u,f){const x=1<<Math.min(l,22);let C=x*(f%x)+u%x;return a&&l<22&&(C+=x*x*((a<0?-2*a-1:2*a)%(1<<2*(22-l)))),16*(32*C+l)+(i-l)}en(Nm,"CanonicalTileID"),en(oa,"OverscaledTileID",{omit:["projMatrix"]});class Lp extends U{constructor(i,l,u){super(i,l),this.z=u}}function Qf(a,i){return a.x*i.x+a.y*i.y}function Fm(a,i){if(a.length===1){let l=0;const u=i[l++];let f;for(;!f||u.equals(f);)if(f=i[l++],!f)return 1/0;for(;l<i.length;l++){const x=i[l],C=a[0],N=f.sub(u),ee=x.sub(u),ne=C.sub(u),fe=Qf(N,N),Te=Qf(N,ee),Ee=Qf(ee,ee),Le=Qf(ne,N),ze=Qf(ne,ee),Ge=fe*Ee-Te*Te,tt=(Ee*Le-Te*ze)/Ge,yt=(fe*ze-Te*Le)/Ge,kt=u.z*(1-tt-yt)+f.z*tt+x.z*yt;if(isFinite(kt))return kt}return 1/0}{let l=1/0;for(const u of i)l=Math.min(l,u.z);return l}}function F1(a,i,l,u,f,x,C,N){const ee=C*f.getElevationAt(a,i,!0,!0),ne=x[0]!==0,fe=ne?x[1]===0?C*(x[0]/7-450):C*function(Te,Ee,Le){const ze=Math.floor(Ee[0]/8),Ge=Math.floor(Ee[1]/8),tt=10*(Ee[0]-8*ze),yt=10*(Ee[1]-8*Ge),kt=Te.getElevationAt(ze,Ge,!0,!0),gt=Te.getMeterToDEM(Le),wt=Math.floor(.5*(tt*gt-1)),Dt=Math.floor(.5*(yt*gt-1)),At=Te.tileCoordToPixel(ze,Ge),ti=2*wt+1,Qt=2*Dt+1,_i=function(Ui,ci,Ji,zn,sn){return[Ui.getElevationAtPixel(ci,Ji,!0),Ui.getElevationAtPixel(ci+sn,Ji,!0),Ui.getElevationAtPixel(ci,Ji+sn,!0),Ui.getElevationAtPixel(ci+zn,Ji+sn,!0)]}(Te,At.x-wt,At.y-Dt,ti,Qt),ji=Math.abs(_i[0]-_i[1]),ai=Math.abs(_i[2]-_i[3]),Ti=Math.abs(_i[0]-_i[2])+Math.abs(_i[1]-_i[3]),Ci=Math.min(.25,.5*gt*(ji+ai)/ti),Oi=Math.min(.25,.5*gt*Ti/Qt);return kt+Math.max(Ci*tt,Oi*yt)}(f,x,N):ee;return{base:ee+(l===0)?-1:l,top:ne?Math.max(fe+u,ee+l+2):ee+u}}const Y2=ln([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:q2}=Y2,X2=ln([{name:"a_packed",components:4,type:"Float32"}]),{members:Z2}=X2,K2=Om.types,J2=Math.cos(Math.PI/180*37.5);class jm{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.projection=i.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new Ha,this.layoutVertexArray2=new ka,this.indexArray=new sa,this.programConfigurations=new zd(i.layers,i.zoom),this.segments=new xo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,u,f){this.hasPattern=I1("line",this.layers,l);const x=this.layers[0].layout.get("line-sort-key"),C=[];for(const{feature:fe,id:Te,index:Ee,sourceLayerIndex:Le}of i){const ze=this.layers[0]._featureFilter.needGeometry,Ge=Nd(fe,ze);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),Ge,u))continue;const tt=x?x.evaluate(Ge,{},u):void 0,yt={id:Te,properties:fe.properties,type:fe.type,sourceLayerIndex:Le,index:Ee,geometry:ze?Ge.geometry:sd(fe,u,f),patterns:{},sortKey:tt};C.push(yt)}x&&C.sort((fe,Te)=>fe.sortKey-Te.sortKey);const{lineAtlas:N,featureIndex:ee}=l,ne=this.addConstantDashes(N);for(const fe of C){const{geometry:Te,index:Ee,sourceLayerIndex:Le}=fe;if(ne&&this.addFeatureDashes(fe,N),this.hasPattern){const ze=L1("line",this.layers,fe,this.zoom,l);this.patternFeatures.push(ze)}else this.addFeature(fe,Te,Ee,u,N.positions,l.availableImages);ee.insert(i[Ee].feature,Te,Ee,Le,this.index)}}addConstantDashes(i){let l=!1;for(const u of this.layers){const f=u.paint.get("line-dasharray").value,x=u.layout.get("line-cap").value;if(f.kind!=="constant"||x.kind!=="constant")l=!0;else{const C=x.value,N=f.value;if(!N)continue;i.addDash(N,C)}}return l}addFeatureDashes(i,l){const u=this.zoom;for(const f of this.layers){const x=f.paint.get("line-dasharray").value,C=f.layout.get("line-cap").value;if(x.kind==="constant"&&C.kind==="constant")continue;let N,ee;if(x.kind==="constant"){if(N=x.value,!N)continue}else N=x.evaluate({zoom:u},i);ee=C.kind==="constant"?C.value:C.evaluate({zoom:u},i),l.addDash(N,ee),i.patterns[f.id]=l.getKey(N,ee)}}update(i,l,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,u,f)}addFeatures(i,l,u,f,x){for(const C of this.patternFeatures)this.addFeature(C,C.geometry,C.index,l,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,Z2)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,q2),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&i.properties.hasOwnProperty("mapbox_clip_start")&&i.properties.hasOwnProperty("mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,l,u,f,x,C){const N=this.layers[0].layout,ee=N.get("line-join").evaluate(i,{}),ne=N.get("line-cap").evaluate(i,{}),fe=N.get("line-miter-limit"),Te=N.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const Ee of l)this.addLine(Ee,i,ee,ne,fe,Te);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,u,x,C,f)}addLine(i,l,u,f,x,C){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let yt=0;yt<i.length-1;yt++)this.totalDistance+=i[yt].dist(i[yt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const N=K2[l.type]==="Polygon";let ee=i.length;for(;ee>=2&&i[ee-1].equals(i[ee-2]);)ee--;let ne=0;for(;ne<ee-1&&i[ne].equals(i[ne+1]);)ne++;if(ee<(N?3:2))return;u==="bevel"&&(x=1.05);const fe=this.overscaling<=16?122880/(512*this.overscaling):0,Te=this.segments.prepareSegment(10*ee,this.layoutVertexArray,this.indexArray);let Ee,Le,ze,Ge,tt;this.e1=this.e2=-1,N&&(Ee=i[ee-2],tt=i[ne].sub(Ee)._unit()._perp());for(let yt=ne;yt<ee;yt++){if(ze=yt===ee-1?N?i[ne+1]:void 0:i[yt+1],ze&&i[yt].equals(ze))continue;tt&&(Ge=tt),Ee&&(Le=Ee),Ee=i[yt],tt=ze?ze.sub(Ee)._unit()._perp():Ge,Ge=Ge||tt;let kt=Ge.add(tt);kt.x===0&&kt.y===0||kt._unit();const gt=Ge.x*tt.x+Ge.y*tt.y,wt=kt.x*tt.x+kt.y*tt.y,Dt=wt!==0?1/wt:1/0,At=2*Math.sqrt(2-2*wt),ti=wt<J2&&Le&&ze,Qt=Ge.x*tt.y-Ge.y*tt.x>0;if(ti&&yt>ne){const ai=Ee.dist(Le);if(ai>2*fe){const Ti=Ee.sub(Ee.sub(Le)._mult(fe/ai)._round());this.updateDistance(Le,Ti),this.addCurrentVertex(Ti,Ge,0,0,Te),Le=Ti}}const _i=Le&&ze;let ji=_i?u:N?"butt":f;if(_i&&ji==="round"&&(Dt<C?ji="miter":Dt<=2&&(ji="fakeround")),ji==="miter"&&Dt>x&&(ji="bevel"),ji==="bevel"&&(Dt>2&&(ji="flipbevel"),Dt<x&&(ji="miter")),Le&&this.updateDistance(Le,Ee),ji==="miter")kt._mult(Dt),this.addCurrentVertex(Ee,kt,0,0,Te);else if(ji==="flipbevel"){if(Dt>100)kt=tt.mult(-1);else{const ai=Dt*Ge.add(tt).mag()/Ge.sub(tt).mag();kt._perp()._mult(ai*(Qt?-1:1))}this.addCurrentVertex(Ee,kt,0,0,Te),this.addCurrentVertex(Ee,kt.mult(-1),0,0,Te)}else if(ji==="bevel"||ji==="fakeround"){const ai=-Math.sqrt(Dt*Dt-1),Ti=Qt?ai:0,Ci=Qt?0:ai;if(Le&&this.addCurrentVertex(Ee,Ge,Ti,Ci,Te),ji==="fakeround"){const Oi=Math.round(180*At/Math.PI/20);for(let Ui=1;Ui<Oi;Ui++){let ci=Ui/Oi;if(ci!==.5){const zn=ci-.5;ci+=ci*zn*(ci-1)*((1.0904+gt*(gt*(3.55645-1.43519*gt)-3.2452))*zn*zn+(.848013+gt*(.215638*gt-1.06021)))}const Ji=tt.sub(Ge)._mult(ci)._add(Ge)._unit()._mult(Qt?-1:1);this.addHalfVertex(Ee,Ji.x,Ji.y,!1,Qt,0,Te)}}ze&&this.addCurrentVertex(Ee,tt,-Ti,-Ci,Te)}else if(ji==="butt")this.addCurrentVertex(Ee,kt,0,0,Te);else if(ji==="square"){const ai=Le?1:-1;Le||this.addCurrentVertex(Ee,kt,ai,ai,Te),this.addCurrentVertex(Ee,kt,0,0,Te),Le&&this.addCurrentVertex(Ee,kt,ai,ai,Te)}else ji==="round"&&(Le&&(this.addCurrentVertex(Ee,Ge,0,0,Te),this.addCurrentVertex(Ee,Ge,1,1,Te,!0)),ze&&(this.addCurrentVertex(Ee,tt,-1,-1,Te,!0),this.addCurrentVertex(Ee,tt,0,0,Te)));if(ti&&yt<ee-1){const ai=Ee.dist(ze);if(ai>2*fe){const Ti=Ee.add(ze.sub(Ee)._mult(fe/ai)._round());this.updateDistance(Ee,Ti),this.addCurrentVertex(Ti,tt,0,0,Te),Ee=Ti}}}}addCurrentVertex(i,l,u,f,x,C=!1){const N=l.y*f-l.x,ee=-l.y-l.x*f;this.addHalfVertex(i,l.x+l.y*u,l.y-l.x*u,C,!1,u,x),this.addHalfVertex(i,N,ee,C,!0,-f,x)}addHalfVertex({x:i,y:l},u,f,x,C,N,ee){this.layoutVertexArray.emplaceBack((i<<1)+(x?1:0),(l<<1)+(C?1:0),Math.round(63*u)+128,Math.round(63*f)+128,1+(N===0?0:N<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const ne=ee.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,ne),ee.primitiveLength++),C?this.e2=ne:this.e1=ne}updateScaledDistance(){if(this.lineClips){const i=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=i*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(i,l){this.distance+=i.dist(l),this.updateScaledDistance()}}en(jm,"LineBucket",{omit:["layers","patternFeatures"]});const Q2=new Sn({"line-cap":new ni(fi.layout_line["line-cap"]),"line-join":new ni(fi.layout_line["line-join"]),"line-miter-limit":new Yt(fi.layout_line["line-miter-limit"]),"line-round-limit":new Yt(fi.layout_line["line-round-limit"]),"line-sort-key":new ni(fi.layout_line["line-sort-key"])});var hv={paint:new Sn({"line-opacity":new ni(fi.paint_line["line-opacity"]),"line-color":new ni(fi.paint_line["line-color"]),"line-translate":new Yt(fi.paint_line["line-translate"]),"line-translate-anchor":new Yt(fi.paint_line["line-translate-anchor"]),"line-width":new ni(fi.paint_line["line-width"]),"line-gap-width":new ni(fi.paint_line["line-gap-width"]),"line-offset":new ni(fi.paint_line["line-offset"]),"line-blur":new ni(fi.paint_line["line-blur"]),"line-dasharray":new ni(fi.paint_line["line-dasharray"]),"line-pattern":new ni(fi.paint_line["line-pattern"]),"line-gradient":new mn(fi.paint_line["line-gradient"]),"line-trim-offset":new Yt(fi.paint_line["line-trim-offset"])}),layout:Q2};const pv=new class extends ni{possiblyEvaluate(a,i){return i=new Gt(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(a,i)}evaluate(a,i,l,u){return i=K({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(a,i,l,u)}}(hv.paint.properties["line-width"].specification);function fv(a,i){return i>0?i+2*a:a}pv.useIntegerZoom=!0;const ew=ln([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ld=ln([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),tw=ln([{name:"a_projected_pos",components:4,type:"Float32"}],4);ln([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const iw=ln([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Rh=ln([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);ln([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const gr=ln([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),nw=ln([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);ln([{name:"triangle",components:3,type:"Uint16"}]),ln([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),ln([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ln([{type:"Float32",name:"offsetX"}]),ln([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var _s=24;const Cs=128;function j1(a,i){const{expression:l}=i;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new Gt(a+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:u,interpolationType:f}=l;let x=0;for(;x<u.length&&u[x]<=a;)x++;x=Math.max(0,x-1);let C=x;for(;C<u.length&&u[C]<a+1;)C++;C=Math.min(u.length-1,C);const N=u[x],ee=u[C];return l.kind==="composite"?{kind:"composite",minZoom:N,maxZoom:ee,interpolationType:f}:{kind:"camera",minZoom:N,maxZoom:ee,minSize:l.evaluate(new Gt(N)),maxSize:l.evaluate(new Gt(ee)),interpolationType:f}}}function cd(a,{uSize:i,uSizeT:l},{lowerSize:u,upperSize:f}){return a.kind==="source"?u/Cs:a.kind==="composite"?Zn(u/Cs,f/Cs,l):i}function Op(a,i){let l=0,u=0;if(a.kind==="constant")u=a.layoutSize;else if(a.kind!=="source"){const{interpolationType:f,minZoom:x,maxZoom:C}=a,N=f?g(Ea.interpolationFactor(f,i,x,C),0,1):0;a.kind==="camera"?u=Zn(a.minSize,a.maxSize,N):l=N}return{uSizeT:l,uSize:u}}var rw=Object.freeze({__proto__:null,getSizeData:j1,evaluateSizeForFeature:cd,evaluateSizeForZoom:Op,SIZE_PACK_FACTOR:Cs});function sw(a,i,l){return a.sections.forEach(u=>{u.text=function(f,x,C){const N=x.layout.get("text-transform").evaluate(C,{});return N==="uppercase"?f=f.toLocaleUpperCase():N==="lowercase"&&(f=f.toLocaleLowerCase()),Jt.applyArabicShaping&&(f=Jt.applyArabicShaping(f)),f}(u.text,i,l)}),a}const e0={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function ow(a){return a==="︶"||a==="﹈"||a==="︸"||a==="﹄"||a==="﹂"||a==="︾"||a==="︼"||a==="︺"||a==="︘"||a==="﹀"||a==="︐"||a==="︓"||a==="︔"||a==="｀"||a==="￣"||a==="︑"||a==="︒"}function U1(a){return a==="︵"||a==="﹇"||a==="︷"||a==="﹃"||a==="﹁"||a==="︽"||a==="︻"||a==="︹"||a==="︗"||a==="︿"}var t0=ns,Ud=function(a,i,l,u,f){var x,C,N=8*f-u-1,ee=(1<<N)-1,ne=ee>>1,fe=-7,Te=l?f-1:0,Ee=l?-1:1,Le=a[i+Te];for(Te+=Ee,x=Le&(1<<-fe)-1,Le>>=-fe,fe+=N;fe>0;x=256*x+a[i+Te],Te+=Ee,fe-=8);for(C=x&(1<<-fe)-1,x>>=-fe,fe+=u;fe>0;C=256*C+a[i+Te],Te+=Ee,fe-=8);if(x===0)x=1-ne;else{if(x===ee)return C?NaN:1/0*(Le?-1:1);C+=Math.pow(2,u),x-=ne}return(Le?-1:1)*C*Math.pow(2,x-u)},$1=function(a,i,l,u,f,x){var C,N,ee,ne=8*x-f-1,fe=(1<<ne)-1,Te=fe>>1,Ee=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,Le=u?0:x-1,ze=u?1:-1,Ge=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(N=isNaN(i)?1:0,C=fe):(C=Math.floor(Math.log(i)/Math.LN2),i*(ee=Math.pow(2,-C))<1&&(C--,ee*=2),(i+=C+Te>=1?Ee/ee:Ee*Math.pow(2,1-Te))*ee>=2&&(C++,ee/=2),C+Te>=fe?(N=0,C=fe):C+Te>=1?(N=(i*ee-1)*Math.pow(2,f),C+=Te):(N=i*Math.pow(2,Te-1)*Math.pow(2,f),C=0));f>=8;a[l+Le]=255&N,Le+=ze,N/=256,f-=8);for(C=C<<f|N,ne+=f;ne>0;a[l+Le]=255&C,Le+=ze,C/=256,ne-=8);a[l+Le-ze]|=128*Ge};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function ns(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}ns.Varint=0,ns.Fixed64=1,ns.Bytes=2,ns.Fixed32=5;var ro=4294967296,wo=1/ro,V1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function mu(a){return a.type===ns.Bytes?a.readVarint()+a.pos:a.pos+1}function Rp(a,i,l){return l?4294967296*i+(a>>>0):4294967296*(i>>>0)+(a>>>0)}function mv(a,i,l){var u=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));l.realloc(u);for(var f=l.pos-1;f>=a;f--)l.buf[f+u]=l.buf[f]}function aw(a,i){for(var l=0;l<a.length;l++)i.writeVarint(a[l])}function lw(a,i){for(var l=0;l<a.length;l++)i.writeSVarint(a[l])}function cw(a,i){for(var l=0;l<a.length;l++)i.writeFloat(a[l])}function gv(a,i){for(var l=0;l<a.length;l++)i.writeDouble(a[l])}function i0(a,i){for(var l=0;l<a.length;l++)i.writeBoolean(a[l])}function G1(a,i){for(var l=0;l<a.length;l++)i.writeFixed32(a[l])}function dw(a,i){for(var l=0;l<a.length;l++)i.writeSFixed32(a[l])}function yv(a,i){for(var l=0;l<a.length;l++)i.writeFixed64(a[l])}function Um(a,i){for(var l=0;l<a.length;l++)i.writeSFixed64(a[l])}function Ka(a,i){return(a[i]|a[i+1]<<8|a[i+2]<<16)+16777216*a[i+3]}function dd(a,i,l){a[l]=i,a[l+1]=i>>>8,a[l+2]=i>>>16,a[l+3]=i>>>24}function _v(a,i){return(a[i]|a[i+1]<<8|a[i+2]<<16)+(a[i+3]<<24)}function uw(a,i,l){i.glyphs=[],a===1&&l.readMessage(hw,i)}function hw(a,i,l){if(a===3){const{id:u,bitmap:f,width:x,height:C,left:N,top:ee,advance:ne}=l.readMessage(pw,{});i.glyphs.push({id:u,bitmap:new fu({width:x+6,height:C+6},f),metrics:{width:x,height:C,left:N,top:ee,advance:ne}})}else a===4?i.ascender=l.readSVarint():a===5&&(i.descender=l.readSVarint())}function pw(a,i,l){a===1?i.id=l.readVarint():a===2?i.bitmap=l.readBytes():a===3?i.width=l.readVarint():a===4?i.height=l.readVarint():a===5?i.left=l.readSVarint():a===6?i.top=l.readSVarint():a===7&&(i.advance=l.readVarint())}function H1(a){let i=0,l=0;for(const C of a)i+=C.w*C.h,l=Math.max(l,C.w);a.sort((C,N)=>N.h-C.h);const u=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),l),h:1/0}];let f=0,x=0;for(const C of a)for(let N=u.length-1;N>=0;N--){const ee=u[N];if(!(C.w>ee.w||C.h>ee.h)){if(C.x=ee.x,C.y=ee.y,x=Math.max(x,C.y+C.h),f=Math.max(f,C.x+C.w),C.w===ee.w&&C.h===ee.h){const ne=u.pop();N<u.length&&(u[N]=ne)}else C.h===ee.h?(ee.x+=C.w,ee.w-=C.w):C.w===ee.w?(ee.y+=C.h,ee.h-=C.h):(u.push({x:ee.x+C.w,y:ee.y,w:ee.w-C.w,h:C.h}),ee.y+=C.h,ee.h-=C.h);break}}return{w:f,h:x,fill:i/(f*x)||0}}ns.prototype={destroy:function(){this.buf=null},readFields:function(a,i,l){for(l=l||this.length;this.pos<l;){var u=this.readVarint(),f=u>>3,x=this.pos;this.type=7&u,a(f,i,this),this.pos===x&&this.skip(u)}return i},readMessage:function(a,i){return this.readFields(a,i,this.readVarint()+this.pos)},readFixed32:function(){var a=Ka(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=_v(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=Ka(this.buf,this.pos)+Ka(this.buf,this.pos+4)*ro;return this.pos+=8,a},readSFixed64:function(){var a=Ka(this.buf,this.pos)+_v(this.buf,this.pos+4)*ro;return this.pos+=8,a},readFloat:function(){var a=Ud(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=Ud(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var i,l,u=this.buf;return i=127&(l=u[this.pos++]),l<128?i:(i|=(127&(l=u[this.pos++]))<<7,l<128?i:(i|=(127&(l=u[this.pos++]))<<14,l<128?i:(i|=(127&(l=u[this.pos++]))<<21,l<128?i:function(f,x,C){var N,ee,ne=C.buf;if(N=(112&(ee=ne[C.pos++]))>>4,ee<128||(N|=(127&(ee=ne[C.pos++]))<<3,ee<128)||(N|=(127&(ee=ne[C.pos++]))<<10,ee<128)||(N|=(127&(ee=ne[C.pos++]))<<17,ee<128)||(N|=(127&(ee=ne[C.pos++]))<<24,ee<128)||(N|=(1&(ee=ne[C.pos++]))<<31,ee<128))return Rp(f,N,x);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(l=u[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var a=this.readVarint()+this.pos,i=this.pos;return this.pos=a,a-i>=12&&V1?function(l,u,f){return V1.decode(l.subarray(u,f))}(this.buf,i,a):function(l,u,f){for(var x="",C=u;C<f;){var N,ee,ne,fe=l[C],Te=null,Ee=fe>239?4:fe>223?3:fe>191?2:1;if(C+Ee>f)break;Ee===1?fe<128&&(Te=fe):Ee===2?(192&(N=l[C+1]))==128&&(Te=(31&fe)<<6|63&N)<=127&&(Te=null):Ee===3?(ee=l[C+2],(192&(N=l[C+1]))==128&&(192&ee)==128&&((Te=(15&fe)<<12|(63&N)<<6|63&ee)<=2047||Te>=55296&&Te<=57343)&&(Te=null)):Ee===4&&(ee=l[C+2],ne=l[C+3],(192&(N=l[C+1]))==128&&(192&ee)==128&&(192&ne)==128&&((Te=(15&fe)<<18|(63&N)<<12|(63&ee)<<6|63&ne)<=65535||Te>=1114112)&&(Te=null)),Te===null?(Te=65533,Ee=1):Te>65535&&(Te-=65536,x+=String.fromCharCode(Te>>>10&1023|55296),Te=56320|1023&Te),x+=String.fromCharCode(Te),C+=Ee}return x}(this.buf,i,a)},readBytes:function(){var a=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,a);return this.pos=a,i},readPackedVarint:function(a,i){if(this.type!==ns.Bytes)return a.push(this.readVarint(i));var l=mu(this);for(a=a||[];this.pos<l;)a.push(this.readVarint(i));return a},readPackedSVarint:function(a){if(this.type!==ns.Bytes)return a.push(this.readSVarint());var i=mu(this);for(a=a||[];this.pos<i;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==ns.Bytes)return a.push(this.readBoolean());var i=mu(this);for(a=a||[];this.pos<i;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==ns.Bytes)return a.push(this.readFloat());var i=mu(this);for(a=a||[];this.pos<i;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==ns.Bytes)return a.push(this.readDouble());var i=mu(this);for(a=a||[];this.pos<i;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==ns.Bytes)return a.push(this.readFixed32());var i=mu(this);for(a=a||[];this.pos<i;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==ns.Bytes)return a.push(this.readSFixed32());var i=mu(this);for(a=a||[];this.pos<i;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==ns.Bytes)return a.push(this.readFixed64());var i=mu(this);for(a=a||[];this.pos<i;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==ns.Bytes)return a.push(this.readSFixed64());var i=mu(this);for(a=a||[];this.pos<i;)a.push(this.readSFixed64());return a},skip:function(a){var i=7&a;if(i===ns.Varint)for(;this.buf[this.pos++]>127;);else if(i===ns.Bytes)this.pos=this.readVarint()+this.pos;else if(i===ns.Fixed32)this.pos+=4;else{if(i!==ns.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(a,i){this.writeVarint(a<<3|i)},realloc:function(a){for(var i=this.length||16;i<this.pos+a;)i*=2;if(i!==this.length){var l=new Uint8Array(i);l.set(this.buf),this.buf=l,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),dd(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),dd(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),dd(this.buf,-1&a,this.pos),dd(this.buf,Math.floor(a*wo),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),dd(this.buf,-1&a,this.pos),dd(this.buf,Math.floor(a*wo),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(i,l){var u,f;if(i>=0?(u=i%4294967296|0,f=i/4294967296|0):(f=~(-i/4294967296),4294967295^(u=~(-i%4294967296))?u=u+1|0:(u=0,f=f+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(x,C,N){N.buf[N.pos++]=127&x|128,x>>>=7,N.buf[N.pos++]=127&x|128,x>>>=7,N.buf[N.pos++]=127&x|128,x>>>=7,N.buf[N.pos++]=127&x|128,N.buf[N.pos]=127&(x>>>=7)}(u,0,l),function(x,C){var N=(7&x)<<4;C.buf[C.pos++]|=N|((x>>>=3)?128:0),x&&(C.buf[C.pos++]=127&x|((x>>>=7)?128:0),x&&(C.buf[C.pos++]=127&x|((x>>>=7)?128:0),x&&(C.buf[C.pos++]=127&x|((x>>>=7)?128:0),x&&(C.buf[C.pos++]=127&x|((x>>>=7)?128:0),x&&(C.buf[C.pos++]=127&x)))))}(f,l)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(!!a)},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var i=this.pos;this.pos=function(u,f,x){for(var C,N,ee=0;ee<f.length;ee++){if((C=f.charCodeAt(ee))>55295&&C<57344){if(!N){C>56319||ee+1===f.length?(u[x++]=239,u[x++]=191,u[x++]=189):N=C;continue}if(C<56320){u[x++]=239,u[x++]=191,u[x++]=189,N=C;continue}C=N-55296<<10|C-56320|65536,N=null}else N&&(u[x++]=239,u[x++]=191,u[x++]=189,N=null);C<128?u[x++]=C:(C<2048?u[x++]=C>>6|192:(C<65536?u[x++]=C>>12|224:(u[x++]=C>>18|240,u[x++]=C>>12&63|128),u[x++]=C>>6&63|128),u[x++]=63&C|128)}return x}(this.buf,a,this.pos);var l=this.pos-i;l>=128&&mv(i,l,this),this.pos=i-1,this.writeVarint(l),this.pos+=l},writeFloat:function(a){this.realloc(4),$1(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),$1(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var i=a.length;this.writeVarint(i),this.realloc(i);for(var l=0;l<i;l++)this.buf[this.pos++]=a[l]},writeRawMessage:function(a,i){this.pos++;var l=this.pos;a(i,this);var u=this.pos-l;u>=128&&mv(l,u,this),this.pos=l-1,this.writeVarint(u),this.pos+=u},writeMessage:function(a,i,l){this.writeTag(a,ns.Bytes),this.writeRawMessage(i,l)},writePackedVarint:function(a,i){i.length&&this.writeMessage(a,aw,i)},writePackedSVarint:function(a,i){i.length&&this.writeMessage(a,lw,i)},writePackedBoolean:function(a,i){i.length&&this.writeMessage(a,i0,i)},writePackedFloat:function(a,i){i.length&&this.writeMessage(a,cw,i)},writePackedDouble:function(a,i){i.length&&this.writeMessage(a,gv,i)},writePackedFixed32:function(a,i){i.length&&this.writeMessage(a,G1,i)},writePackedSFixed32:function(a,i){i.length&&this.writeMessage(a,dw,i)},writePackedFixed64:function(a,i){i.length&&this.writeMessage(a,yv,i)},writePackedSFixed64:function(a,i){i.length&&this.writeMessage(a,Um,i)},writeBytesField:function(a,i){this.writeTag(a,ns.Bytes),this.writeBytes(i)},writeFixed32Field:function(a,i){this.writeTag(a,ns.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(a,i){this.writeTag(a,ns.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(a,i){this.writeTag(a,ns.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(a,i){this.writeTag(a,ns.Fixed64),this.writeSFixed64(i)},writeVarintField:function(a,i){this.writeTag(a,ns.Varint),this.writeVarint(i)},writeSVarintField:function(a,i){this.writeTag(a,ns.Varint),this.writeSVarint(i)},writeStringField:function(a,i){this.writeTag(a,ns.Bytes),this.writeString(i)},writeFloatField:function(a,i){this.writeTag(a,ns.Fixed32),this.writeFloat(i)},writeDoubleField:function(a,i){this.writeTag(a,ns.Fixed64),this.writeDouble(i)},writeBooleanField:function(a,i){this.writeVarintField(a,!!i)}};class $m{constructor(i,{pixelRatio:l,version:u,stretchX:f,stretchY:x,content:C}){this.paddedRect=i,this.pixelRatio=l,this.stretchX=f,this.stretchY=x,this.content=C,this.version=u}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class $d{constructor(i,l){const u={},f={};this.haveRenderCallbacks=[];const x=[];this.addImages(i,u,x),this.addImages(l,f,x);const{w:C,h:N}=H1(x),ee=new Al({width:C||1,height:N||1});for(const ne in i){const fe=i[ne],Te=u[ne].paddedRect;Al.copy(fe.data,ee,{x:0,y:0},{x:Te.x+1,y:Te.y+1},fe.data)}for(const ne in l){const fe=l[ne],Te=f[ne].paddedRect,Ee=Te.x+1,Le=Te.y+1,ze=fe.data.width,Ge=fe.data.height;Al.copy(fe.data,ee,{x:0,y:0},{x:Ee,y:Le},fe.data),Al.copy(fe.data,ee,{x:0,y:Ge-1},{x:Ee,y:Le-1},{width:ze,height:1}),Al.copy(fe.data,ee,{x:0,y:0},{x:Ee,y:Le+Ge},{width:ze,height:1}),Al.copy(fe.data,ee,{x:ze-1,y:0},{x:Ee-1,y:Le},{width:1,height:Ge}),Al.copy(fe.data,ee,{x:0,y:0},{x:Ee+ze,y:Le},{width:1,height:Ge})}this.image=ee,this.iconPositions=u,this.patternPositions=f}addImages(i,l,u){for(const f in i){const x=i[f],C={x:0,y:0,w:x.data.width+2,h:x.data.height+2};u.push(C),l[f]=new $m(C,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(f)}}patchUpdatedImages(i,l){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(u=>i.hasImage(u)),i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const u in i.updatedImages)this.patchUpdatedImage(this.iconPositions[u],i.getImage(u),l),this.patchUpdatedImage(this.patternPositions[u],i.getImage(u),l)}patchUpdatedImage(i,l,u){if(!i||!l||i.version===l.version)return;i.version=l.version;const[f,x]=i.tl;u.update(l.data,void 0,{x:f,y:x})}}en($m,"ImagePosition"),en($d,"ImageAtlas");const Qn={horizontal:1,vertical:2,horizontalOnly:3};class Bp{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,l){const u=new Bp;return u.scale=i||1,u.fontStack=l,u}static forImage(i){const l=new Bp;return l.imageName=i,l}}class Aa{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,l){const u=new Aa;for(let f=0;f<i.sections.length;f++){const x=i.sections[f];x.image?u.addImageSection(x):u.addTextSection(x,l)}return u}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSections(){return this.sections}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(i){this.text=function(l,u){let f="";for(let x=0;x<l.length;x++){const C=l.charCodeAt(x+1)||null,N=l.charCodeAt(x-1)||null;f+=!u&&(C&&Ae(C)&&!e0[l[x+1]]||N&&Ae(N)&&!e0[l[x-1]])||!e0[l[x]]?l[x]:e0[l[x]]}return f}(this.text,i)}trim(){let i=0;for(let u=0;u<this.text.length&&Gm[this.text.charCodeAt(u)];u++)i++;let l=this.text.length;for(let u=this.text.length-1;u>=0&&u>=i&&Gm[this.text.charCodeAt(u)];u--)l--;this.text=this.text.substring(i,l),this.sectionIndex=this.sectionIndex.slice(i,l)}substring(i,l){const u=new Aa;return u.text=this.text.substring(i,l),u.sectionIndex=this.sectionIndex.slice(i,l),u.sections=this.sections,u}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,l)=>Math.max(i,this.sections[l].scale),0)}addTextSection(i,l){this.text+=i.text,this.sections.push(Bp.forText(i.scale,i.fontStack||l));const u=this.sections.length-1;for(let f=0;f<i.text.length;++f)this.sectionIndex.push(u)}addImageSection(i){const l=i.image?i.image.name:"";if(l.length===0)return void oe("Can't add FormattedSection with an empty image.");const u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(Bp.forImage(l)),this.sectionIndex.push(this.sections.length-1)):oe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Vm(a,i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze){const Ge=Aa.fromFeature(a,f);Te===Qn.vertical&&Ge.verticalizePunctuation(Ee);let tt=[];const yt=function(At,ti,Qt,_i,ji,ai){if(!At)return[];const Ti=[],Ci=function(Ji,zn,sn,vn,Qi,$n){let Er=0;for(let br=0;br<Ji.length();br++){const yr=Ji.getSection(br);Er+=vv(Ji.getCharCode(br),yr,vn,Qi,zn,$n)}return Er/Math.max(1,Math.ceil(Er/sn))}(At,ti,Qt,_i,ji,ai),Oi=At.text.indexOf("​")>=0;let Ui=0;for(let Ji=0;Ji<At.length();Ji++){const zn=At.getSection(Ji),sn=At.getCharCode(Ji);if(Gm[sn]||(Ui+=vv(sn,zn,_i,ji,ti,ai)),Ji<At.length()-1){const vn=!((ci=sn)<11904||!(ll(ci)||cm(ci)||p(ci)||lu(ci)||pm(ci)||Lf(ci)||dm(ci)||Gu(ci)||fm(ci)||vp(ci)||hm(ci)||W(ci)||rc(ci)||Rf(ci)||Of(ci)||um(ci)||_p(ci)||c(ci)||mm(ci)||Bf(ci)));(Es[sn]||vn||zn.imageName)&&Ti.push(xv(Ji+1,Ui,Ci,Ti,Hm(sn,At.getCharCode(Ji+1),vn&&Oi),!1))}}var ci;return bv(xv(At.length(),Ui,Ci,Ti,0,!0))}(Ge,ne,x,i,u,Le),{processBidirectionalText:kt,processStyledBidirectionalText:gt}=Jt;if(kt&&Ge.sections.length===1){const At=kt(Ge.toString(),yt);for(const ti of At){const Qt=new Aa;Qt.text=ti,Qt.sections=Ge.sections;for(let _i=0;_i<ti.length;_i++)Qt.sectionIndex.push(0);tt.push(Qt)}}else if(gt){const At=gt(Ge.text,Ge.sectionIndex,yt);for(const ti of At){const Qt=new Aa;Qt.text=ti[0],Qt.sectionIndex=ti[1],Qt.sections=Ge.sections,tt.push(Qt)}}else tt=function(At,ti){const Qt=[],_i=At.text;let ji=0;for(const ai of ti)Qt.push(At.substring(ji,ai)),ji=ai;return ji<_i.length&&Qt.push(At.substring(ji,_i.length)),Qt}(Ge,yt);const wt=[],Dt={positionedLines:wt,text:Ge.toString(),top:fe[1],bottom:fe[1],left:fe[0],right:fe[0],writingMode:Te,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(At,ti,Qt,_i,ji,ai,Ti,Ci,Oi,Ui,ci,Ji){let zn=0,sn=0,vn=0;const Qi=Ci==="right"?1:Ci==="left"?0:.5;let $n=!1;for(const rr of ji){const Mr=rr.getSections();for(const vs of Mr){if(vs.imageName)continue;const Rs=ti[vs.fontStack];if(Rs&&($n=Rs.ascender!==void 0&&Rs.descender!==void 0,!$n))break}if(!$n)break}let Er=0;for(const rr of ji){rr.trim();const Mr=rr.getMaxScale(),vs=(Mr-1)*_s,Rs={positionedGlyphs:[],lineOffset:0};At.positionedLines[Er]=Rs;const Ps=Rs.positionedGlyphs;let Bs=0;if(!rr.length()){sn+=ai,++Er;continue}let js=0,So=0;for(let cs=0;cs<rr.length();cs++){const Wo=rr.getSection(cs),Fo=rr.getSectionIndex(cs),Xr=rr.getCharCode(cs);let so=Wo.scale,aa=null,xs=null,Io=null,hl=_s,Da=0;const Ia=!(Oi===Qn.horizontal||!ci&&!De(Xr)||ci&&(Gm[Xr]||(br=Xr,Df(br)||Ac(br)||If(br)||_(br)||B(br))));if(Wo.imageName){const Il=_i[Wo.imageName];if(!Il)continue;Io=Wo.imageName,At.iconsInText=At.iconsInText||!0,xs=Il.paddedRect;const La=Il.displaySize;so=so*_s/Ji,aa={width:La[0],height:La[1],left:1,top:-3,advance:Ia?La[1]:La[0],localGlyph:!1},Da=$n?-aa.height*so:Mr*_s-17-La[1]*so,hl=aa.advance;const Uh=(Ia?La[0]:La[1])*so-_s*Mr;Uh>0&&Uh>Bs&&(Bs=Uh)}else{const Il=Qt[Wo.fontStack];if(!Il)continue;Il[Xr]&&(xs=Il[Xr]);const La=ti[Wo.fontStack];if(!La)continue;const Uh=La.glyphs[Xr];if(!Uh)continue;if(aa=Uh.metrics,hl=Xr!==8203?_s:0,$n){const og=La.ascender!==void 0?Math.abs(La.ascender):0,yy=La.descender!==void 0?Math.abs(La.descender):0,_y=(og+yy)*so;js<_y&&(js=_y,So=(og-yy)/2*so),Da=-og*so}else Da=(Mr-so)*_s-17}Ia?(At.verticalizable=!0,Ps.push({glyph:Xr,imageName:Io,x:zn,y:sn+Da,vertical:Ia,scale:so,localGlyph:aa.localGlyph,fontStack:Wo.fontStack,sectionIndex:Fo,metrics:aa,rect:xs}),zn+=hl*so+Ui):(Ps.push({glyph:Xr,imageName:Io,x:zn,y:sn+Da,vertical:Ia,scale:so,localGlyph:aa.localGlyph,fontStack:Wo.fontStack,sectionIndex:Fo,metrics:aa,rect:xs}),zn+=aa.advance*so+Ui)}Ps.length!==0&&(vn=Math.max(zn-Ui,vn),$n?wv(Ps,Qi,Bs,So,ai*Mr/2):wv(Ps,Qi,Bs,0,ai/2)),zn=0;const Pa=ai*Mr+Bs;Rs.lineOffset=Math.max(Bs,vs),sn+=Pa,++Er}var br;const yr=sn,{horizontalAlign:Vn,verticalAlign:ls}=Y1(Ti);(function(rr,Mr,vs,Rs,Ps,Bs){const js=(Mr-vs)*Ps,So=-Bs*Rs;for(const Pa of rr)for(const cs of Pa.positionedGlyphs)cs.x+=js,cs.y+=So})(At.positionedLines,Qi,Vn,ls,vn,yr),At.top+=-ls*yr,At.bottom=At.top+yr,At.left+=-Vn*vn,At.right=At.left+vn,At.hasBaseline=$n}(Dt,i,l,u,tt,C,N,ee,Te,ne,Ee,ze),!function(At){for(const ti of At)if(ti.positionedGlyphs.length!==0)return!1;return!0}(wt)&&Dt}const Gm={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Es={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function vv(a,i,l,u,f,x){if(i.imageName){const C=u[i.imageName];return C?C.displaySize[0]*i.scale*_s/x+f:0}{const C=l[i.fontStack],N=C&&C.glyphs[a];return N?N.metrics.advance*i.scale+f:0}}function W1(a,i,l,u){const f=Math.pow(a-i,2);return u?a<i?f/2:2*f:f+Math.abs(l)*l}function Hm(a,i,l){let u=0;return a===10&&(u-=1e4),l&&(u+=150),a!==40&&a!==65288||(u+=50),i!==41&&i!==65289||(u+=50),u}function xv(a,i,l,u,f,x){let C=null,N=W1(i,l,f,x);for(const ee of u){const ne=W1(i-ee.x,l,f,x)+ee.badness;ne<=N&&(C=ee,N=ne)}return{index:a,x:i,priorBreak:C,badness:N}}function bv(a){return a?bv(a.priorBreak).concat(a.index):[]}function Y1(a){let i=.5,l=.5;switch(a){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:i,verticalAlign:l}}function wv(a,i,l,u,f){if(!(i||l||u||f))return;const x=a.length-1,C=a[x],N=(C.x+C.metrics.advance*C.scale)*i;for(let ee=0;ee<=x;ee++)a[ee].x-=N,a[ee].y+=l+u+f}function fw(a,i,l){const{horizontalAlign:u,verticalAlign:f}=Y1(l),x=i[0]-a.displaySize[0]*u,C=i[1]-a.displaySize[1]*f;return{image:a,top:C,bottom:C+a.displaySize[1],left:x,right:x+a.displaySize[0]}}function Tv(a,i,l,u,f,x){const C=a.image;let N;if(C.content){const tt=C.content,yt=C.pixelRatio||1;N=[tt[0]/yt,tt[1]/yt,C.displaySize[0]-tt[2]/yt,C.displaySize[1]-tt[3]/yt]}const ee=i.left*x,ne=i.right*x;let fe,Te,Ee,Le;l==="width"||l==="both"?(Le=f[0]+ee-u[3],Te=f[0]+ne+u[1]):(Le=f[0]+(ee+ne-C.displaySize[0])/2,Te=Le+C.displaySize[0]);const ze=i.top*x,Ge=i.bottom*x;return l==="height"||l==="both"?(fe=f[1]+ze-u[0],Ee=f[1]+Ge+u[2]):(fe=f[1]+(ze+Ge-C.displaySize[1])/2,Ee=fe+C.displaySize[1]),{image:C,top:fe,right:Te,bottom:Ee,left:Le,collisionPadding:N}}class gu extends U{constructor(i,l,u,f,x){super(i,l),this.angle=f,this.z=u,x!==void 0&&(this.segment=x)}clone(){return new gu(this.x,this.y,this.z,this.angle,this.segment)}}function Sv(a,i,l,u,f){if(i.segment===void 0)return!0;let x=i,C=i.segment+1,N=0;for(;N>-l/2;){if(C--,C<0)return!1;N-=a[C].dist(x),x=a[C]}N+=a[C].dist(a[C+1]),C++;const ee=[];let ne=0;for(;N<l/2;){const fe=a[C],Te=a[C+1];if(!Te)return!1;let Ee=a[C-1].angleTo(fe)-fe.angleTo(Te);for(Ee=Math.abs((Ee+3*Math.PI)%(2*Math.PI)-Math.PI),ee.push({distance:N,angleDelta:Ee}),ne+=Ee;N-ee[0].distance>u;)ne-=ee.shift().angleDelta;if(ne>f)return!1;C++,N+=fe.dist(Te)}return!0}function Cv(a){let i=0;for(let l=0;l<a.length-1;l++)i+=a[l].dist(a[l+1]);return i}function Ev(a,i,l){return a?.6*i*l:0}function Mv(a,i){return Math.max(a?a.right-a.left:0,i?i.right-i.left:0)}function mw(a,i,l,u,f,x){const C=Ev(l,f,x),N=Mv(l,u)*x;let ee=0;const ne=Cv(a)/2;for(let fe=0;fe<a.length-1;fe++){const Te=a[fe],Ee=a[fe+1],Le=Te.dist(Ee);if(ee+Le>ne){const ze=(ne-ee)/Le,Ge=Zn(Te.x,Ee.x,ze),tt=Zn(Te.y,Ee.y,ze),yt=new gu(Ge,tt,0,Ee.angleTo(Te),fe);return!C||Sv(a,yt,N,C,i)?yt:void 0}ee+=Le}}function gw(a,i,l,u,f,x,C,N,ee){const ne=Ev(u,x,C),fe=Mv(u,f),Te=fe*C,Ee=a[0].x===0||a[0].x===ee||a[0].y===0||a[0].y===ee;return i-Te<i/4&&(i=Te+i/4),Wm(a,Ee?i/2*N%i:(fe/2+2*x)*C*N%i,i,ne,l,Te,Ee,!1,ee)}function Wm(a,i,l,u,f,x,C,N,ee){const ne=x/2,fe=Cv(a);let Te=0,Ee=i-l,Le=[];for(let ze=0;ze<a.length-1;ze++){const Ge=a[ze],tt=a[ze+1],yt=Ge.dist(tt),kt=tt.angleTo(Ge);for(;Ee+l<Te+yt;){Ee+=l;const gt=(Ee-Te)/yt,wt=Zn(Ge.x,tt.x,gt),Dt=Zn(Ge.y,tt.y,gt);if(wt>=0&&wt<ee&&Dt>=0&&Dt<ee&&Ee-ne>=0&&Ee+ne<=fe){const At=new gu(wt,Dt,0,kt,ze);At._round(),u&&!Sv(a,At,x,u,f)||Le.push(At)}}Te+=yt}return N||Le.length||C||(Le=Wm(a,Te/2,l,u,f,x,C,!0,ee)),Le}function kv(a,i,l,u,f){const x=[];for(let C=0;C<a.length;C++){const N=a[C];let ee;for(let ne=0;ne<N.length-1;ne++){let fe=N[ne],Te=N[ne+1];fe.x<i&&Te.x<i||(fe.x<i?fe=new U(i,fe.y+(i-fe.x)/(Te.x-fe.x)*(Te.y-fe.y))._round():Te.x<i&&(Te=new U(i,fe.y+(i-fe.x)/(Te.x-fe.x)*(Te.y-fe.y))._round()),fe.y<l&&Te.y<l||(fe.y<l?fe=new U(fe.x+(l-fe.y)/(Te.y-fe.y)*(Te.x-fe.x),l)._round():Te.y<l&&(Te=new U(fe.x+(l-fe.y)/(Te.y-fe.y)*(Te.x-fe.x),l)._round()),fe.x>=u&&Te.x>=u||(fe.x>=u?fe=new U(u,fe.y+(u-fe.x)/(Te.x-fe.x)*(Te.y-fe.y))._round():Te.x>=u&&(Te=new U(u,fe.y+(u-fe.x)/(Te.x-fe.x)*(Te.y-fe.y))._round()),fe.y>=f&&Te.y>=f||(fe.y>=f?fe=new U(fe.x+(f-fe.y)/(Te.y-fe.y)*(Te.x-fe.x),f)._round():Te.y>=f&&(Te=new U(fe.x+(f-fe.y)/(Te.y-fe.y)*(Te.x-fe.x),f)._round()),ee&&fe.equals(ee[ee.length-1])||(ee=[fe],x.push(ee)),ee.push(Te)))))}}return x}en(gu,"Anchor");const Bh=1e20;function Av(a,i,l,u,f,x,C,N,ee){for(let ne=i;ne<i+u;ne++)Pv(a,l*x+ne,x,f,C,N,ee);for(let ne=l;ne<l+f;ne++)Pv(a,ne*x+i,1,u,C,N,ee)}function Pv(a,i,l,u,f,x,C){x[0]=0,C[0]=-Bh,C[1]=Bh,f[0]=a[i];for(let N=1,ee=0,ne=0;N<u;N++){f[N]=a[i+N*l];const fe=N*N;do{const Te=x[ee];ne=(f[N]-f[Te]+fe-Te*Te)/(N-Te)/2}while(ne<=C[ee]&&--ee>-1);ee++,x[ee]=N,C[ee]=ne,C[ee+1]=Bh}for(let N=0,ee=0;N<u;N++){for(;C[ee+1]<N;)ee++;const ne=x[ee],fe=N-ne;a[i+N*l]=f[ne]+fe*fe}}const q1={none:0,ideographs:1,all:2};class To{constructor(i,l,u){this.requestManager=i,this.localGlyphMode=l,this.localFontFamily=u,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(i){this.url=i}getGlyphs(i,l){const u=[];for(const f in i)for(const x of i[f])u.push({stack:f,id:x});X(u,({stack:f,id:x},C)=>{let N=this.entries[f];N||(N=this.entries[f]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let ee=N.glyphs[x];if(ee!==void 0)return void C(null,{stack:f,id:x,glyph:ee});if(ee=this._tinySDF(N,f,x),ee)return N.glyphs[x]=ee,void C(null,{stack:f,id:x,glyph:ee});const ne=Math.floor(x/256);if(256*ne>65535)return void C(new Error("glyphs > 65535 not supported"));if(N.ranges[ne])return void C(null,{stack:f,id:x,glyph:ee});let fe=N.requests[ne];fe||(fe=N.requests[ne]=[],To.loadGlyphRange(f,ne,this.url,this.requestManager,(Te,Ee)=>{if(Ee){N.ascender=Ee.ascender,N.descender=Ee.descender;for(const Le in Ee.glyphs)this._doesCharSupportLocalGlyph(+Le)||(N.glyphs[+Le]=Ee.glyphs[+Le]);N.ranges[ne]=!0}for(const Le of fe)Le(Te,Ee);delete N.requests[ne]})),fe.push((Te,Ee)=>{Te?C(Te):Ee&&C(null,{stack:f,id:x,glyph:Ee.glyphs[x]||null})})},(f,x)=>{if(f)l(f);else if(x){const C={};for(const{stack:N,id:ee,glyph:ne}of x)C[N]===void 0&&(C[N]={}),C[N].glyphs===void 0&&(C[N].glyphs={}),C[N].glyphs[ee]=ne&&{id:ne.id,bitmap:ne.bitmap.clone(),metrics:ne.metrics},C[N].ascender=this.entries[N].ascender,C[N].descender=this.entries[N].descender;l(null,C)}})}_doesCharSupportLocalGlyph(i){return this.localGlyphMode!==q1.none&&(this.localGlyphMode===q1.all?!!this.localFontFamily:!!this.localFontFamily&&(vp(i)||zf(i)||rc(i)||_p(i)||Gu(i)))}_tinySDF(i,l,u){const f=this.localFontFamily;if(!f||!this._doesCharSupportLocalGlyph(u))return;let x=i.tinySDF;if(!x){let Ge="400";/bold/i.test(l)?Ge="900":/medium/i.test(l)?Ge="500":/light/i.test(l)&&(Ge="200"),x=i.tinySDF=new To.TinySDF({fontFamily:f,fontWeight:Ge,fontSize:48,buffer:6,radius:16}),x.fontWeight=Ge}if(this.localGlyphs[x.fontWeight][u])return this.localGlyphs[x.fontWeight][u];const C=String.fromCharCode(u),{data:N,width:ee,height:ne,glyphWidth:fe,glyphHeight:Te,glyphLeft:Ee,glyphTop:Le,glyphAdvance:ze}=x.draw(C);return this.localGlyphs[x.fontWeight][u]={id:u,bitmap:new fu({width:ee,height:ne},N),metrics:{width:fe/2,height:Te/2,left:Ee/2,top:Le/2-27,advance:ze/2,localGlyph:!0}}}}function ul(a,i,l,u){const f=[],x=a.image,C=x.pixelRatio,N=x.paddedRect.w-2,ee=x.paddedRect.h-2,ne=a.right-a.left,fe=a.bottom-a.top,Te=x.stretchX||[[0,N]],Ee=x.stretchY||[[0,ee]],Le=(ai,Ti)=>ai+Ti[1]-Ti[0],ze=Te.reduce(Le,0),Ge=Ee.reduce(Le,0),tt=N-ze,yt=ee-Ge;let kt=0,gt=ze,wt=0,Dt=Ge,At=0,ti=tt,Qt=0,_i=yt;if(x.content&&u){const ai=x.content;kt=Ym(Te,0,ai[0]),wt=Ym(Ee,0,ai[1]),gt=Ym(Te,ai[0],ai[2]),Dt=Ym(Ee,ai[1],ai[3]),At=ai[0]-kt,Qt=ai[1]-wt,ti=ai[2]-ai[0]-gt,_i=ai[3]-ai[1]-Dt}const ji=(ai,Ti,Ci,Oi)=>{const Ui=qm(ai.stretch-kt,gt,ne,a.left),ci=n0(ai.fixed-At,ti,ai.stretch,ze),Ji=qm(Ti.stretch-wt,Dt,fe,a.top),zn=n0(Ti.fixed-Qt,_i,Ti.stretch,Ge),sn=qm(Ci.stretch-kt,gt,ne,a.left),vn=n0(Ci.fixed-At,ti,Ci.stretch,ze),Qi=qm(Oi.stretch-wt,Dt,fe,a.top),$n=n0(Oi.fixed-Qt,_i,Oi.stretch,Ge),Er=new U(Ui,Ji),br=new U(sn,Ji),yr=new U(sn,Qi),Vn=new U(Ui,Qi),ls=new U(ci/C,zn/C),rr=new U(vn/C,$n/C),Mr=i*Math.PI/180;if(Mr){const Ps=Math.sin(Mr),Bs=Math.cos(Mr),js=[Bs,-Ps,Ps,Bs];Er._matMult(js),br._matMult(js),Vn._matMult(js),yr._matMult(js)}const vs=ai.stretch+ai.fixed,Rs=Ti.stretch+Ti.fixed;return{tl:Er,tr:br,bl:Vn,br:yr,tex:{x:x.paddedRect.x+1+vs,y:x.paddedRect.y+1+Rs,w:Ci.stretch+Ci.fixed-vs,h:Oi.stretch+Oi.fixed-Rs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ls,pixelOffsetBR:rr,minFontScaleX:ti/C/ne,minFontScaleY:_i/C/fe,isSDF:l}};if(u&&(x.stretchX||x.stretchY)){const ai=Dv(Te,tt,ze),Ti=Dv(Ee,yt,Ge);for(let Ci=0;Ci<ai.length-1;Ci++){const Oi=ai[Ci],Ui=ai[Ci+1];for(let ci=0;ci<Ti.length-1;ci++)f.push(ji(Oi,Ti[ci],Ui,Ti[ci+1]))}}else f.push(ji({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:N+1},{fixed:0,stretch:ee+1}));return f}function Ym(a,i,l){let u=0;for(const f of a)u+=Math.max(i,Math.min(l,f[1]))-Math.max(i,Math.min(l,f[0]));return u}function Dv(a,i,l){const u=[{fixed:-1,stretch:0}];for(const[f,x]of a){const C=u[u.length-1];u.push({fixed:f-C.stretch,stretch:C.stretch}),u.push({fixed:f-C.stretch,stretch:C.stretch+(x-f)})}return u.push({fixed:i+1,stretch:l}),u}function qm(a,i,l,u){return a/i*l+u}function n0(a,i,l,u){return a-i*l/u}function yw(a,i,l,u){const f=i+a.positionedLines[u].lineOffset;return u===0?l+f/2:l+(f+(i+a.positionedLines[u-1].lineOffset))/2}To.loadGlyphRange=function(a,i,l,u,f){const x=256*i,C=x+255,N=u.transformRequest(u.normalizeGlyphsURL(l).replace("{fontstack}",a).replace("{range}",`${x}-${C}`),Wt.Glyphs);It(N,(ee,ne)=>{if(ee)f(ee);else if(ne){const fe={},Te=function(Ee){return new t0(Ee).readFields(uw,{})}(ne);for(const Ee of Te.glyphs)fe[Ee.id]=Ee;f(null,{glyphs:fe,ascender:Te.ascender,descender:Te.descender})}})},To.TinySDF=class{constructor({fontSize:a=24,buffer:i=3,radius:l=8,cutoff:u=.25,fontFamily:f="sans-serif",fontWeight:x="normal",fontStyle:C="normal"}={}){this.buffer=i,this.cutoff=u,this.radius=l;const N=this.size=a+4*i,ee=this._createCanvas(N),ne=this.ctx=ee.getContext("2d",{willReadFrequently:!0});ne.font=`${C} ${x} ${a}px ${f}`,ne.textBaseline="alphabetic",ne.textAlign="left",ne.fillStyle="black",this.gridOuter=new Float64Array(N*N),this.gridInner=new Float64Array(N*N),this.f=new Float64Array(N),this.z=new Float64Array(N+1),this.v=new Uint16Array(N)}_createCanvas(a){const i=document.createElement("canvas");return i.width=i.height=a,i}draw(a){const{width:i,actualBoundingBoxAscent:l,actualBoundingBoxDescent:u,actualBoundingBoxLeft:f,actualBoundingBoxRight:x}=this.ctx.measureText(a),C=Math.ceil(l),N=Math.min(this.size-this.buffer,Math.ceil(x-f)),ee=Math.min(this.size-this.buffer,C+Math.ceil(u)),ne=N+2*this.buffer,fe=ee+2*this.buffer,Te=Math.max(ne*fe,0),Ee=new Uint8ClampedArray(Te),Le={data:Ee,width:ne,height:fe,glyphWidth:N,glyphHeight:ee,glyphTop:C,glyphLeft:0,glyphAdvance:i};if(N===0||ee===0)return Le;const{ctx:ze,buffer:Ge,gridInner:tt,gridOuter:yt}=this;ze.clearRect(Ge,Ge,N,ee),ze.fillText(a,Ge,Ge+C);const kt=ze.getImageData(Ge,Ge,N,ee);yt.fill(Bh,0,Te),tt.fill(0,0,Te);for(let gt=0;gt<ee;gt++)for(let wt=0;wt<N;wt++){const Dt=kt.data[4*(gt*N+wt)+3]/255;if(Dt===0)continue;const At=(gt+Ge)*ne+wt+Ge;if(Dt===1)yt[At]=0,tt[At]=Bh;else{const ti=.5-Dt;yt[At]=ti>0?ti*ti:0,tt[At]=ti<0?ti*ti:0}}Av(yt,0,0,ne,fe,ne,this.f,this.v,this.z),Av(tt,Ge,Ge,N,ee,ne,this.f,this.v,this.z);for(let gt=0;gt<Te;gt++){const wt=Math.sqrt(yt[gt])-Math.sqrt(tt[gt]);Ee[gt]=Math.round(255-255*(wt/this.radius+this.cutoff))}return Le}};class _w{constructor(i=[],l=vw){if(this.data=i,this.length=this.data.length,this.compare=l,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:l,compare:u}=this,f=l[i];for(;i>0;){const x=i-1>>1,C=l[x];if(u(f,C)>=0)break;l[i]=C,i=x}l[i]=f}_down(i){const{data:l,compare:u}=this,f=this.length>>1,x=l[i];for(;i<f;){let C=1+(i<<1),N=l[C];const ee=C+1;if(ee<this.length&&u(l[ee],N)<0&&(C=ee,N=l[ee]),u(N,x)>=0)break;l[i]=N,i=C}l[i]=x}}function vw(a,i){return a<i?-1:a>i?1:0}function Iv(a,i=1,l=!1){let u=1/0,f=1/0,x=-1/0,C=-1/0;const N=a[0];for(let Le=0;Le<N.length;Le++){const ze=N[Le];(!Le||ze.x<u)&&(u=ze.x),(!Le||ze.y<f)&&(f=ze.y),(!Le||ze.x>x)&&(x=ze.x),(!Le||ze.y>C)&&(C=ze.y)}const ee=Math.min(x-u,C-f);let ne=ee/2;const fe=new _w([],xw);if(ee===0)return new U(u,f);for(let Le=u;Le<x;Le+=ee)for(let ze=f;ze<C;ze+=ee)fe.push(new zp(Le+ne,ze+ne,ne,a));let Te=function(Le){let ze=0,Ge=0,tt=0;const yt=Le[0];for(let kt=0,gt=yt.length,wt=gt-1;kt<gt;wt=kt++){const Dt=yt[kt],At=yt[wt],ti=Dt.x*At.y-At.x*Dt.y;Ge+=(Dt.x+At.x)*ti,tt+=(Dt.y+At.y)*ti,ze+=3*ti}return new zp(Ge/ze,tt/ze,0,Le)}(a),Ee=fe.length;for(;fe.length;){const Le=fe.pop();(Le.d>Te.d||!Te.d)&&(Te=Le,l&&console.log("found best %d after %d probes",Math.round(1e4*Le.d)/1e4,Ee)),Le.max-Te.d<=i||(ne=Le.h/2,fe.push(new zp(Le.p.x-ne,Le.p.y-ne,ne,a)),fe.push(new zp(Le.p.x+ne,Le.p.y-ne,ne,a)),fe.push(new zp(Le.p.x-ne,Le.p.y+ne,ne,a)),fe.push(new zp(Le.p.x+ne,Le.p.y+ne,ne,a)),Ee+=4)}return l&&(console.log(`num probes: ${Ee}`),console.log(`best distance: ${Te.d}`)),Te.p}function xw(a,i){return i.max-a.max}function zp(a,i,l,u){this.p=new U(a,i),this.h=l,this.d=function(f,x){let C=!1,N=1/0;for(let ee=0;ee<x.length;ee++){const ne=x[ee];for(let fe=0,Te=ne.length,Ee=Te-1;fe<Te;Ee=fe++){const Le=ne[fe],ze=ne[Ee];Le.y>f.y!=ze.y>f.y&&f.x<(ze.x-Le.x)*(f.y-Le.y)/(ze.y-Le.y)+Le.x&&(C=!C),N=Math.min(N,z_(f,Le,ze))}}return(C?1:-1)*Math.sqrt(N)}(this.p,u),this.max=this.d+this.h*Math.SQRT2}const X1=Number.POSITIVE_INFINITY,Lv=Math.sqrt(2);function Z1(a,[i,l]){let u=0,f=0;if(l===X1){i<0&&(i=0);const x=i/Lv;switch(a){case"top-right":case"top-left":f=x-7;break;case"bottom-right":case"bottom-left":f=7-x;break;case"bottom":f=7-i;break;case"top":f=i-7}switch(a){case"top-right":case"bottom-right":u=-x;break;case"top-left":case"bottom-left":u=x;break;case"left":u=i;break;case"right":u=-i}}else{switch(i=Math.abs(i),l=Math.abs(l),a){case"top-right":case"top-left":case"top":f=l-7;break;case"bottom-right":case"bottom-left":case"bottom":f=7-l}switch(a){case"top-right":case"bottom-right":case"right":u=-i;break;case"top-left":case"bottom-left":case"left":u=i}}return[u,f]}function bw(a,i,l,u,f,x,C,N,ee,ne){a.createArrays(),a.tilePixelRatio=On/(512*a.overscaling),a.compareText={},a.iconsNeedLinear=!1;const fe=a.layers[0].layout,Te=a.layers[0]._unevaluatedLayout._values,Ee={};if(a.textSizeData.kind==="composite"){const{minZoom:Ge,maxZoom:tt}=a.textSizeData;Ee.compositeTextSizes=[Te["text-size"].possiblyEvaluate(new Gt(Ge),N),Te["text-size"].possiblyEvaluate(new Gt(tt),N)]}if(a.iconSizeData.kind==="composite"){const{minZoom:Ge,maxZoom:tt}=a.iconSizeData;Ee.compositeIconSizes=[Te["icon-size"].possiblyEvaluate(new Gt(Ge),N),Te["icon-size"].possiblyEvaluate(new Gt(tt),N)]}Ee.layoutTextSize=Te["text-size"].possiblyEvaluate(new Gt(ee+1),N),Ee.layoutIconSize=Te["icon-size"].possiblyEvaluate(new Gt(ee+1),N),Ee.textMaxSize=Te["text-size"].possiblyEvaluate(new Gt(18),N);const Le=fe.get("text-rotation-alignment")==="map"&&fe.get("symbol-placement")!=="point",ze=fe.get("text-size");for(const Ge of a.features){const tt=fe.get("text-font").evaluate(Ge,{},N).join(","),yt=ze.evaluate(Ge,{},N),kt=Ee.layoutTextSize.evaluate(Ge,{},N),gt=(Ee.layoutIconSize.evaluate(Ge,{},N),{horizontal:{},vertical:void 0}),wt=Ge.text;let Dt,At=[0,0];if(wt){const _i=wt.toString(),ji=fe.get("text-letter-spacing").evaluate(Ge,{},N)*_s,ai=fe.get("text-line-height").evaluate(Ge,{},N)*_s,Ti=ue(_i)?ji:0,Ci=fe.get("text-anchor").evaluate(Ge,{},N),Oi=fe.get("text-variable-anchor");if(!Oi){const sn=fe.get("text-radial-offset").evaluate(Ge,{},N);At=sn?Z1(Ci,[sn*_s,X1]):fe.get("text-offset").evaluate(Ge,{},N).map(vn=>vn*_s)}let Ui=Le?"center":fe.get("text-justify").evaluate(Ge,{},N);const ci=fe.get("symbol-placement")==="point",Ji=ci?fe.get("text-max-width").evaluate(Ge,{},N)*_s:1/0,zn=sn=>{a.allowVerticalPlacement&&se(_i)&&(gt.vertical=Vm(wt,i,l,f,tt,Ji,ai,Ci,sn,Ti,At,Qn.vertical,!0,kt,yt))};if(!Le&&Oi){const sn=Ui==="auto"?Oi.map(Qi=>K1(Qi)):[Ui];let vn=!1;for(let Qi=0;Qi<sn.length;Qi++){const $n=sn[Qi];if(!gt.horizontal[$n])if(vn)gt.horizontal[$n]=gt.horizontal[0];else{const Er=Vm(wt,i,l,f,tt,Ji,ai,"center",$n,Ti,At,Qn.horizontal,!1,kt,yt);Er&&(gt.horizontal[$n]=Er,vn=Er.positionedLines.length===1)}}zn("left")}else{if(Ui==="auto"&&(Ui=K1(Ci)),ci||fe.get("text-writing-mode").indexOf("horizontal")>=0||!se(_i)){const sn=Vm(wt,i,l,f,tt,Ji,ai,Ci,Ui,Ti,At,Qn.horizontal,!1,kt,yt);sn&&(gt.horizontal[Ui]=sn)}zn(ci?"left":Ui)}}let ti=!1;if(Ge.icon&&Ge.icon.name){const _i=u[Ge.icon.name];_i&&(Dt=fw(f[Ge.icon.name],fe.get("icon-offset").evaluate(Ge,{},N),fe.get("icon-anchor").evaluate(Ge,{},N)),ti=_i.sdf,a.sdfIcons===void 0?a.sdfIcons=_i.sdf:a.sdfIcons!==_i.sdf&&oe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(_i.pixelRatio!==a.pixelRatio||fe.get("icon-rotate").constantOr(1)!==0)&&(a.iconsNeedLinear=!0))}const Qt=Ov(gt.horizontal)||gt.vertical;a.iconsInText||(a.iconsInText=!!Qt&&Qt.iconsInText),(Qt||Dt)&&ww(a,Ge,gt,Dt,u,Ee,kt,0,At,ti,C,N,ne)}x&&a.generateCollisionDebugBuffers(ee,a.collisionBoxArray)}function K1(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function ww(a,i,l,u,f,x,C,N,ee,ne,fe,Te,Ee){let Le=x.textMaxSize.evaluate(i,{},Te);Le===void 0&&(Le=C);const ze=a.layers[0].layout,Ge=ze.get("icon-offset").evaluate(i,{},Te),tt=Ov(l.horizontal)||l.vertical,yt=Ee.name==="globe",kt=C/24,gt=a.tilePixelRatio*Le/24,wt=(Ti=a.overscaling,a.zoom>18&&Ti>2&&(Ti>>=1),Math.max(On/(512*Ti),1)*ze.get("symbol-spacing")),Dt=ze.get("text-padding")*a.tilePixelRatio,At=ze.get("icon-padding")*a.tilePixelRatio,ti=$(ze.get("text-max-angle")),Qt=ze.get("text-rotation-alignment")==="map"&&ze.get("symbol-placement")!=="point",_i=ze.get("icon-rotation-alignment")==="map"&&ze.get("symbol-placement")!=="point",ji=ze.get("symbol-placement"),ai=wt/2;var Ti;const Ci=ze.get("icon-text-fit");let Oi;u&&Ci!=="none"&&(a.allowVerticalPlacement&&l.vertical&&(Oi=Tv(u,l.vertical,Ci,ze.get("icon-text-fit-padding"),Ge,kt)),tt&&(u=Tv(u,tt,Ci,ze.get("icon-text-fit-padding"),Ge,kt)));const Ui=(ci,Ji,zn)=>{if(Ji.x<0||Ji.x>=On||Ji.y<0||Ji.y>=On)return;let sn=null;if(yt){const{x:vn,y:Qi,z:$n}=Ee.projectTilePoint(Ji.x,Ji.y,zn);sn={anchor:new gu(vn,Qi,$n,0,void 0),up:Ee.upVector(zn,Ji.x,Ji.y)}}(function(vn,Qi,$n,Er,br,yr,Vn,ls,rr,Mr,vs,Rs,Ps,Bs,js,So,Pa,cs,Wo,Fo,Xr,so,aa,xs,Io){const hl=vn.addToLineVertexArray(Qi,Er);let Da,Ia,Il,La,Uh,og,yy,_y=0,Q5=0,eC=0,tC=0,qw=-1,Xw=-1;const eh={};let iC=Sh.exports("");const m0=$n?$n.anchor:Qi;let Zw=0,Kw=0;if(rr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Zw,Kw]=rr.layout.get("text-offset").evaluate(Xr,{},Io).map(zc=>zc*_s):(Zw=rr.layout.get("text-radial-offset").evaluate(Xr,{},Io)*_s,Kw=X1),vn.allowVerticalPlacement&&br.vertical){const zc=br.vertical;if(js)og=J1(zc),ls&&(yy=J1(ls));else{const Nc=rr.layout.get("text-rotate").evaluate(Xr,{},Io)+90;Il=Xm(Mr,m0,Qi,vs,Rs,Ps,zc,Bs,Nc,So),ls&&(La=Xm(Mr,m0,Qi,vs,Rs,Ps,ls,cs,Nc))}}if(yr){const zc=rr.layout.get("icon-rotate").evaluate(Xr,{},Io),Nc=rr.layout.get("icon-text-fit")!=="none",vy=ul(yr,zc,aa,Nc),Qw=ls?ul(ls,zc,aa,Nc):void 0;Ia=Xm(Mr,m0,Qi,vs,Rs,Ps,yr,cs,zc),_y=4*vy.length;const nC=vn.iconSizeData;let g0=null;nC.kind==="source"?(g0=[Cs*rr.layout.get("icon-size").evaluate(Xr,{},Io)],g0[0]>Ku&&oe(`${vn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):nC.kind==="composite"&&(g0=[Cs*so.compositeIconSizes[0].evaluate(Xr,{},Io),Cs*so.compositeIconSizes[1].evaluate(Xr,{},Io)],(g0[0]>Ku||g0[1]>Ku)&&oe(`${vn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),vn.addSymbols(vn.icon,vy,g0,Fo,Wo,Xr,!1,$n,Qi,hl.lineStartIndex,hl.lineLength,-1,xs,Io),qw=vn.icon.placedSymbolArray.length-1,Qw&&(Q5=4*Qw.length,vn.addSymbols(vn.icon,Qw,g0,Fo,Wo,Xr,Qn.vertical,$n,Qi,hl.lineStartIndex,hl.lineLength,-1,xs,Io),Xw=vn.icon.placedSymbolArray.length-1)}for(const zc in br.horizontal){const Nc=br.horizontal[zc];Da||(iC=Sh.exports(Nc.text),js?Uh=J1(Nc):Da=Xm(Mr,m0,Qi,vs,Rs,Ps,Nc,Bs,rr.layout.get("text-rotate").evaluate(Xr,{},Io),So));const vy=Nc.positionedLines.length===1;if(eC+=zh(vn,$n,Qi,Nc,Vn,rr,js,Xr,So,hl,br.vertical?Qn.horizontal:Qn.horizontalOnly,vy?Object.keys(br.horizontal):[zc],eh,qw,so,xs,Io),vy)break}br.vertical&&(tC+=zh(vn,$n,Qi,br.vertical,Vn,rr,js,Xr,So,hl,Qn.vertical,["vertical"],eh,Xw,so,xs,Io));let Vp=-1;const Jw=(zc,Nc)=>zc?Math.max(zc,Nc):Nc;Vp=Jw(Uh,Vp),Vp=Jw(og,Vp),Vp=Jw(yy,Vp);const tP=Vp>-1?1:0;vn.glyphOffsetArray.length>=Ju.MAX_GLYPHS&&oe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Xr.sortKey!==void 0&&vn.addToSortKeyRanges(vn.symbolInstances.length,Xr.sortKey),vn.symbolInstances.emplaceBack(m0.x,m0.y,m0.z,Qi.x,Qi.y,eh.right>=0?eh.right:-1,eh.center>=0?eh.center:-1,eh.left>=0?eh.left:-1,eh.vertical>=0?eh.vertical:-1,qw,Xw,iC,Da!==void 0?Da:vn.collisionBoxArray.length,Da!==void 0?Da+1:vn.collisionBoxArray.length,Il!==void 0?Il:vn.collisionBoxArray.length,Il!==void 0?Il+1:vn.collisionBoxArray.length,Ia!==void 0?Ia:vn.collisionBoxArray.length,Ia!==void 0?Ia+1:vn.collisionBoxArray.length,La||vn.collisionBoxArray.length,La?La+1:vn.collisionBoxArray.length,vs,eC,tC,_y,Q5,tP,0,Zw,Kw,Vp)})(a,Ji,sn,ci,l,u,f,Oi,a.layers[0],a.collisionBoxArray,i.index,i.sourceLayerIndex,a.index,Dt,Qt,ee,0,At,_i,Ge,i,x,ne,fe,Te)};if(ji==="line")for(const ci of kv(i.geometry,0,0,On,On)){const Ji=gw(ci,wt,ti,l.vertical||tt,u,24,gt,a.overscaling,On);for(const zn of Ji){const sn=tt;sn&&Tw(a,sn.text,ai,zn)||Ui(ci,zn,Te)}}else if(ji==="line-center"){for(const ci of i.geometry)if(ci.length>1){const Ji=mw(ci,ti,l.vertical||tt,u,24,gt);Ji&&Ui(ci,Ji,Te)}}else if(i.type==="Polygon")for(const ci of D1(i.geometry,0)){const Ji=Iv(ci,16);Ui(ci[0],new gu(Ji.x,Ji.y,0,0,void 0),Te)}else if(i.type==="LineString")for(const ci of i.geometry)Ui(ci,new gu(ci[0].x,ci[0].y,0,0,void 0),Te);else if(i.type==="Point")for(const ci of i.geometry)for(const Ji of ci)Ui([Ji],new gu(Ji.x,Ji.y,0,0,void 0),Te)}const Ku=32640;function zh(a,i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze,Ge,tt){const yt=function(wt,Dt,At,ti,Qt,_i,ji,ai){const Ti=[];if(Dt.positionedLines.length===0)return Ti;const Ci=ti.layout.get("text-rotate").evaluate(_i,{})*Math.PI/180,Oi=function(sn){const vn=sn[0],Qi=sn[1],$n=vn*Qi;return $n>0?[vn,-Qi]:$n<0?[-vn,Qi]:vn===0?[Qi,vn]:[Qi,-vn]}(At);let Ui=Math.abs(Dt.top-Dt.bottom);for(const sn of Dt.positionedLines)Ui-=sn.lineOffset;const ci=Dt.positionedLines.length,Ji=Ui/ci;let zn=Dt.top-At[1];for(let sn=0;sn<ci;++sn){const vn=Dt.positionedLines[sn];zn=yw(Dt,Ji,zn,sn);for(const Qi of vn.positionedGlyphs){if(!Qi.rect)continue;const $n=Qi.rect||{};let Er=4,br=!0,yr=1,Vn=0;if(Qi.imageName){const xs=ji[Qi.imageName];if(!xs)continue;if(xs.sdf){oe("SDF images are not supported in formatted text and will be ignored.");continue}br=!1,yr=xs.pixelRatio,Er=1/yr}const ls=(Qt||ai)&&Qi.vertical,rr=Qi.metrics.advance*Qi.scale/2,Mr=Qi.metrics,vs=Qi.rect;if(vs===null)continue;ai&&Dt.verticalizable&&(Vn=Qi.imageName?rr-Qi.metrics.width*Qi.scale/2:0);const Rs=Qt?[Qi.x+rr,Qi.y]:[0,0];let Ps=[0,0],Bs=[0,0],js=!1;Qt||(ls?(Bs=[Qi.x+rr+Oi[0],Qi.y+Oi[1]-Vn],js=!0):Ps=[Qi.x+rr+At[0],Qi.y+At[1]-Vn]);const So=vs.w*Qi.scale/(yr*(Qi.localGlyph?2:1)),Pa=vs.h*Qi.scale/(yr*(Qi.localGlyph?2:1));let cs,Wo,Fo,Xr;if(ls){const xs=Qi.y-zn,Io=new U(-rr,rr-xs),hl=-Math.PI/2,Da=new U(...Bs);cs=new U(-rr+Ps[0],Ps[1]),cs._rotateAround(hl,Io)._add(Da),cs.x+=-xs+rr,cs.y-=(Mr.left-Er)*Qi.scale;const Ia=Qi.imageName?Mr.advance*Qi.scale:_s*Qi.scale,Il=String.fromCharCode(Qi.glyph);ow(Il)?cs.x+=(1-Er)*Qi.scale:U1(Il)?cs.x+=Ia-Mr.height*Qi.scale+(-Er-1)*Qi.scale:cs.x+=Qi.imageName||Mr.width+2*Er===vs.w&&Mr.height+2*Er===vs.h?(Ia-Pa)/2:(Ia-(Mr.height+2*Er)*Qi.scale)/2,Wo=new U(cs.x,cs.y-So),Fo=new U(cs.x+Pa,cs.y),Xr=new U(cs.x+Pa,cs.y-So)}else{const xs=(Mr.left-Er)*Qi.scale-rr+Ps[0],Io=(-Mr.top-Er)*Qi.scale+Ps[1],hl=xs+So,Da=Io+Pa;cs=new U(xs,Io),Wo=new U(hl,Io),Fo=new U(xs,Da),Xr=new U(hl,Da)}if(Ci){let xs;xs=Qt?new U(0,0):js?new U(Oi[0],Oi[1]):new U(At[0],At[1]),cs._rotateAround(Ci,xs),Wo._rotateAround(Ci,xs),Fo._rotateAround(Ci,xs),Xr._rotateAround(Ci,xs)}const so=new U(0,0),aa=new U(0,0);Ti.push({tl:cs,tr:Wo,bl:Fo,br:Xr,tex:$n,writingMode:Dt.writingMode,glyphOffset:Rs,sectionIndex:Qi.sectionIndex,isSDF:br,pixelOffsetTL:so,pixelOffsetBR:aa,minFontScaleX:0,minFontScaleY:0})}}return Ti}(0,u,ee,x,C,N,f,a.allowVerticalPlacement),kt=a.textSizeData;let gt=null;kt.kind==="source"?(gt=[Cs*x.layout.get("text-size").evaluate(N,{},tt)],gt[0]>Ku&&oe(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):kt.kind==="composite"&&(gt=[Cs*ze.compositeTextSizes[0].evaluate(N,{},tt),Cs*ze.compositeTextSizes[1].evaluate(N,{},tt)],(gt[0]>Ku||gt[1]>Ku)&&oe(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),a.addSymbols(a.text,yt,gt,ee,C,N,fe,i,l,ne.lineStartIndex,ne.lineLength,Le,Ge,tt);for(const wt of Te)Ee[wt]=a.text.placedSymbolArray.length-1;return 4*yt.length}function Ov(a){for(const i in a)return a[i];return null}function Xm(a,i,l,u,f,x,C,N,ee,ne){let fe=C.top,Te=C.bottom,Ee=C.left,Le=C.right;const ze=C.collisionPadding;if(ze&&(Ee-=ze[0],fe-=ze[1],Le+=ze[2],Te+=ze[3]),ee){const Ge=new U(Ee,fe),tt=new U(Le,fe),yt=new U(Ee,Te),kt=new U(Le,Te),gt=$(ee);let wt=new U(0,0);ne&&(wt=new U(ne[0],ne[1])),Ge._rotateAround(gt,wt),tt._rotateAround(gt,wt),yt._rotateAround(gt,wt),kt._rotateAround(gt,wt),Ee=Math.min(Ge.x,tt.x,yt.x,kt.x),Le=Math.max(Ge.x,tt.x,yt.x,kt.x),fe=Math.min(Ge.y,tt.y,yt.y,kt.y),Te=Math.max(Ge.y,tt.y,yt.y,kt.y)}return a.emplaceBack(i.x,i.y,i.z,l.x,l.y,Ee,fe,Le,Te,N,u,f,x),a.length-1}function J1(a){a.collisionPadding&&(a.top-=a.collisionPadding[1],a.bottom+=a.collisionPadding[3]);const i=a.bottom-a.top;return i>0?Math.max(10,i):null}function Tw(a,i,l,u){const f=a.compareText;if(i in f){const x=f[i];for(let C=x.length-1;C>=0;C--)if(u.dist(x[C])<l)return!0}else f[i]=[];return f[i].push(u),!1}const Sw=ln([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Q1}=Sw,ey=ln([{name:"a_pos_3",components:3,type:"Int16"}]);var r0=ln([{name:"a_pos",type:"Int16",components:2}]);const yu=On/Math.PI/2,ty=2*cc(1,0)*yu*Math.PI,Np=64,Fp=[Np,32,16],Rc=-yu,Bc=yu,Cw=[new Za([Rc,Rc,Rc],[Bc,Bc,Bc]),new Za([Rc,Rc,Rc],[0,0,Bc]),new Za([0,Rc,Rc],[Bc,0,Bc]),new Za([Rc,0,Rc],[0,Bc,Bc]),new Za([0,0,Rc],[Bc,Bc,Bc])];function Rv(a,i,l,u=!0){const f=dc([],a._camera.position,a.worldSize),x=[i,l,1,1];qu(x,x,a.pixelMatrixInverse),U_(x,x,1/x[3]);const C=Xa([],ad([],x,f)),N=a.globeMatrix,ee=[N[12],N[13],N[14]],ne=ad([],ee,f),fe=Ih(ne),Te=Xa([],ne),Ee=a.worldSize/(2*Math.PI),Le=Lc(Te,C),ze=Math.asin(Ee/fe);if(ze<Math.acos(Le)){if(!u)return null;const ji=[],ai=[];dc(ji,C,fe/Le),Xa(ai,ad(ai,ji,ne)),Xa(C,jd(C,ne,dc(C,ai,Math.tan(ze)*fe)))}const Ge=[];new Mm(f,C).closestPointOnSphere(ee,Ee,Ge);const tt=Xa([],qe(N,0)),yt=Xa([],qe(N,1)),kt=Xa([],qe(N,2)),gt=Lc(tt,Ge),wt=Lc(yt,Ge),Dt=Lc(kt,Ge),At=V(Math.asin(-wt/Ee));let ti=V(Math.atan2(gt,Dt));ti=a.center.lng+function(ji,ai){const Ti=(ai-ji+180)%360-180;return Ti<-180?Ti+360:Ti}(a.center.lng,ti);const Qt=nd(ti),_i=g(lc(At),0,1);return new Mh(Qt,_i)}class Ew{constructor(i,l,u){this.a=ad([],i,u),this.b=ad([],l,u),this.center=u;const f=Xa([],this.a),x=Xa([],this.b);this.angle=Math.acos(Lc(f,x))}}function iy(a,i){if(a.angle===0)return null;let l;return l=a.a[i]===0?1/a.angle*.5*Math.PI:1/a.angle*Math.atan(a.b[i]/a.a[i]/Math.sin(a.angle)-1/Math.tan(a.angle)),l<0||l>1?null:function(u,f,x,C){const N=Math.sin(x);return u*(Math.sin((1-C)*x)/N)+f*(Math.sin(C*x)/N)}(a.a[i],a.b[i],a.angle,g(l,0,1))+a.center[i]}function Vd(a){if(a.z<=1)return Cw[a.z+2*a.y+a.x];const i=ny(Zm(a));return Za.fromPoints(i)}function Nh(a,i,l){return dc(a,a,1-l),Ap(a,a,i,l)}function Bv(a,i){const l=Fh(i.zoom);if(l===0)return Vd(a);const u=Zm(a),f=ny(u),x=nd(u.getWest())*i.worldSize,C=nd(u.getEast())*i.worldSize,N=lc(u.getNorth())*i.worldSize,ee=lc(u.getSouth())*i.worldSize,ne=[x,N,0],fe=[C,N,0],Te=[x,ee,0],Ee=[C,ee,0],Le=Cm([],i.globeMatrix);return uo(ne,ne,Le),uo(fe,fe,Le),uo(Te,Te,Le),uo(Ee,Ee,Le),f[0]=Nh(f[0],Te,l),f[1]=Nh(f[1],Ee,l),f[2]=Nh(f[2],fe,l),f[3]=Nh(f[3],ne,l),Za.fromPoints(f)}function zv(a,i,l){for(const u of a)uo(u,u,i),dc(u,u,l)}function Mw(a,i,l){const u=i/a.worldSize,f=a.globeMatrix;if(l.z<=1){const Qt=Vd(l).getCorners();return zv(Qt,f,u),Za.fromPoints(Qt)}const x=Zm(l),C=ny(x);zv(C,f,u);const N=Number.MAX_VALUE,ee=[-N,-N,-N],ne=[N,N,N];if(x.contains(a.center)){for(const ji of C)kl(ne,ne,ji),od(ee,ee,ji);ee[2]=0;const Qt=a.point,_i=[Qt.x*u,Qt.y*u,0];return kl(ne,ne,_i),od(ee,ee,_i),new Za(ne,ee)}const fe=[f[12]*u,f[13]*u,f[14]*u],Te=x.getCenter(),Ee=g(a.center.lat,-85.051129,ba),Le=g(Te.lat,-85.051129,ba),ze=nd(a.center.lng),Ge=lc(Ee);let tt=ze-nd(Te.lng);const yt=Ge-lc(Le);tt>.5?tt-=1:tt<-.5&&(tt+=1);let kt=0;Math.abs(tt)>Math.abs(yt)?kt=tt>=0?1:3:(kt=yt>=0?0:2,Ap(fe,fe,[f[4]*u,f[5]*u,f[6]*u],-Math.sin($(yt>=0?x.getSouth():x.getNorth()))*yu));const gt=C[kt],wt=C[(kt+1)%4],Dt=new Ew(gt,wt,fe),At=[iy(Dt,0)||gt[0],iy(Dt,1)||gt[1],iy(Dt,2)||gt[2]],ti=Fh(a.zoom);if(ti>0){const Qt=function({x:ji,y:ai,z:Ti},Ci,Oi,Ui,ci){const Ji=1/(1<<Ti);let zn=ji*Ji,sn=zn+Ji,vn=ai*Ji,Qi=vn+Ji,$n=0;const Er=(zn+sn)/2-Ui;return Er>.5?$n=-1:Er<-.5&&($n=1),zn=((zn+$n)*Ci-(Ui*=Ci))*Oi+Ui,sn=((sn+$n)*Ci-Ui)*Oi+Ui,vn=(vn*Ci-(ci*=Ci))*Oi+ci,Qi=(Qi*Ci-ci)*Oi+ci,[[zn,Qi,0],[sn,Qi,0],[sn,vn,0],[zn,vn,0]]}(l,i,a._pixelsPerMercatorPixel,ze,Ge);for(let ji=0;ji<C.length;ji++)Nh(C[ji],Qt[ji],ti);const _i=jd([],Qt[kt],Qt[(kt+1)%4]);dc(_i,_i,.5),Nh(At,_i,ti)}for(const Qt of C)kl(ne,ne,Qt),od(ee,ee,Qt);return ne[2]=Math.min(gt[2],wt[2]),kl(ne,ne,At),od(ee,ee,At),new Za(ne,ee)}function Zm({x:a,y:i,z:l}){const u=1/(1<<l),f=new Ar(dl(a*u),xa((i+1)*u)),x=new Ar(dl((a+1)*u),xa(i*u));return new hu(f,x)}function ny(a){const i=$(a.getNorth()),l=$(a.getSouth()),u=Math.cos(i),f=Math.cos(l),x=Math.sin(i),C=Math.sin(l),N=a.getWest(),ee=a.getEast();return[jp(f,C,N),jp(f,C,ee),jp(u,x,ee),jp(u,x,N)]}function jp(a,i,l,u=yu){return l=$(l),[a*Math.sin(l)*u,-i*u,a*Math.cos(l)*u]}function s0(a,i,l){return jp(Math.cos($(a)),Math.sin($(a)),i,l)}function o0(a,i,l,u){const f=1<<l.z,x=(a/On+l.x)/f;return s0(xa((i/On+l.y)/f),dl(x),u)}function Km({min:a,max:i}){return 16383/Math.max(i[0]-a[0],i[1]-a[1],i[2]-a[2])}const Nv=new Float64Array(16);function a0(a){const i=Km(a),l=y1(Nv,[i,i,i]);return $f(l,l,((u=[])[0]=-(f=a.min)[0],u[1]=-f[1],u[2]=-f[2],u));var u,f}function ry(a){const i=(u=a.min,(l=Nv)[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=u[0],l[13]=u[1],l[14]=u[2],l[15]=1,l);var l,u;const f=1/Km(a);return Dh(i,i,[f,f,f])}function Jm(a,i,l,u,f){const x=function(ee){const ne=On/(2*Math.PI);return ee/(2*Math.PI)/ne}(l),C=[a,i,-l/(2*Math.PI)],N=Ic(new Float64Array(16));return $f(N,N,C),Dh(N,N,[x,x,x]),g1(N,N,$(-f)),Vf(N,N,$(-u)),N}function Fh(a){return b(5,6,a)}function sy(a,i){const l=s0(i.lat,i.lng),u=function(ze){const Ge=s0(ze._center.lat,ze._center.lng);let tt=x1([],Lh(0,1,0),Ge);const yt=F_([],-ze.angle,Ge);tt=uo(tt,tt,yt),F_(yt,-ze._pitch,tt);const kt=Xa([],Ge);return dc(kt,kt,ze.cameraToCenterDistance/ze.pixelsPerMeter*ty),uo(kt,kt,yt),jd([],Ge,kt)}(a);return C=(f=kp([],u,l))[0],N=f[1],ee=f[2],ne=(x=l)[0],fe=x[1],Te=x[2],Le=(Ee=Math.sqrt(C*C+N*N+ee*ee)*Math.sqrt(ne*ne+fe*fe+Te*Te))&&Lc(f,x)/Ee,Math.acos(Math.min(Math.max(Le,-1),1));var f,x,C,N,ee,ne,fe,Te,Ee,Le}function oy(a,i){return sy(a,i)>Math.PI/2*1.01}const Fv=$(85),kw=Math.cos(Fv),ay=Math.sin(Fv);function jv(a,i){const l=a.fovAboveCenter,u=a.elevation?a.elevation.getMinElevationBelowMSL()*i:0,f=(a._camera.position[2]*a.worldSize-u)/Math.cos(a._pitch),x=Math.sin(l)*f/Math.sin(Math.max(Math.PI/2-a._pitch-l,.01)),C=Math.sin(a._pitch)*x+f;return Math.min(1.01*C,f*(1/a._horizonShift))}function jh(a,i){if(!i.isReprojectedInTileSpace)return{scale:1<<a.z,x:a.x,y:a.y,x2:a.x+1,y2:a.y+1,projection:i};const l=Math.pow(2,-a.z),u=a.x*l,f=(a.x+1)*l,x=a.y*l,C=(a.y+1)*l,N=dl(u),ee=dl(f),ne=xa(x),fe=xa(C),Te=i.project(N,ne),Ee=i.project(ee,ne),Le=i.project(ee,fe),ze=i.project(N,fe);let Ge=Math.min(Te.x,Ee.x,Le.x,ze.x),tt=Math.min(Te.y,Ee.y,Le.y,ze.y),yt=Math.max(Te.x,Ee.x,Le.x,ze.x),kt=Math.max(Te.y,Ee.y,Le.y,ze.y);const gt=l/16;function wt(At,ti,Qt,_i,ji,ai){const Ti=(Qt+ji)/2,Ci=(_i+ai)/2,Oi=i.project(dl(Ti),xa(Ci)),Ui=Math.max(0,Ge-Oi.x,tt-Oi.y,Oi.x-yt,Oi.y-kt);Ge=Math.min(Ge,Oi.x),yt=Math.max(yt,Oi.x),tt=Math.min(tt,Oi.y),kt=Math.max(kt,Oi.y),Ui>gt&&(wt(At,Oi,Qt,_i,Ti,Ci),wt(Oi,ti,Ti,Ci,ji,ai))}wt(Te,Ee,u,x,f,x),wt(Ee,Le,f,x,f,C),wt(Le,ze,f,C,u,C),wt(ze,Te,u,C,u,x),Ge-=gt,tt-=gt,yt+=gt,kt+=gt;const Dt=1/Math.max(yt-Ge,kt-tt);return{scale:Dt,x:Ge*Dt,y:tt*Dt,x2:yt*Dt,y2:kt*Dt,projection:i}}const Aw=Ic(new Float32Array(16));class No{constructor(i){this.spec=i,this.name=i.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(i,l){return{x:0,y:0,z:0}}unproject(i,l){return new Ar(0,0)}projectTilePoint(i,l,u){return{x:i,y:l,z:0}}locationPoint(i,l,u=!0){return i._coordinatePoint(i.locationCoordinate(l),u)}pixelsPerMeter(i,l){return cc(1,i)*l}pixelSpaceConversion(i,l,u){return 1}farthestPixelDistance(i){return jv(i,i.pixelsPerMeter)}pointCoordinate(i,l,u,f){const x=i.horizonLineFromTop(!1),C=new U(l,Math.max(x,u));return i.rayIntersectionCoordinate(i.pointRayIntersection(C,f))}pointCoordinate3D(i,l,u){const f=new U(l,u);if(i.elevation)return i.elevation.pointCoordinate(f);{const x=this.pointCoordinate(i,f.x,f.y,0);return[x.x,x.y,x.z]}}isPointAboveHorizon(i,l){if(i.elevation)return!this.pointCoordinate3D(i,l.x,l.y);const u=i.horizonLineFromTop();return l.y<u}createInversionMatrix(i,l){return Aw}createTileMatrix(i,l,u){let f,x,C;const N=u.canonical,ee=Ic(new Float64Array(16));if(this.isReprojectedInTileSpace){const ne=jh(N,this);f=1,x=ne.x+u.wrap*ne.scale,C=ne.y,Dh(ee,ee,[f/ne.scale,f/ne.scale,i.pixelsPerMeter/l])}else f=l/i.zoomScale(N.z),x=(N.x+Math.pow(2,N.z)*u.wrap)*f,C=N.y*f;return $f(ee,ee,[x,C,0]),Dh(ee,ee,[f/On,f/On,1]),ee}upVector(i,l,u){return[0,0,1]}upVectorScale(i,l,u){return{metersToTile:1}}}class ly extends No{constructor(i){super(i),this.range=[4,7],this.center=i.center||[-96,37.5];const[l,u]=this.parallels=i.parallels||[29.5,45.5],f=Math.sin($(l));this.n=(f+Math.sin($(u)))/2,this.c=1+f*(2*this.n-f),this.r0=Math.sqrt(this.c)/this.n}project(i,l){const{n:u,c:f,r0:x}=this,C=$(i-this.center[0]),N=$(l),ee=Math.sqrt(f-2*u*Math.sin(N))/u;return{x:ee*Math.sin(C*u),y:ee*Math.cos(C*u)-x,z:0}}unproject(i,l){const{n:u,c:f,r0:x}=this,C=x+l;let N=Math.atan2(i,Math.abs(C))*Math.sign(C);C*u<0&&(N-=Math.PI*Math.sign(i)*Math.sign(C));const ee=$(this.center[0])*u;N=A(N,-Math.PI-ee,Math.PI-ee);const ne=g(V(N/u)+this.center[0],-180,180),fe=Math.asin(g((f-(i*i+C*C)*u*u)/(2*u),-1,1)),Te=g(V(fe),-85.051129,ba);return new Ar(ne,Te)}}const l0=1.340264,c0=-.081106,d0=893e-6,u0=.003796,Up=Math.sqrt(3)/2;class Pw extends No{project(i,l){l=l/180*Math.PI,i=i/180*Math.PI;const u=Math.asin(Up*Math.sin(l)),f=u*u,x=f*f*f;return{x:.5*(i*Math.cos(u)/(Up*(l0+3*c0*f+x*(7*d0+9*u0*f)))/Math.PI+.5),y:1-.5*(u*(l0+c0*f+x*(d0+u0*f))/Math.PI+1),z:0}}unproject(i,l){i=(2*i-.5)*Math.PI;let u=l=(2*(1-l)-1)*Math.PI,f=u*u,x=f*f*f;for(let fe,Te,Ee,Le=0;Le<12&&(Te=u*(l0+c0*f+x*(d0+u0*f))-l,Ee=l0+3*c0*f+x*(7*d0+9*u0*f),fe=Te/Ee,u=g(u-fe,-Math.PI/3,Math.PI/3),f=u*u,x=f*f*f,!(Math.abs(fe)<1e-12));++Le);const C=Up*i*(l0+3*c0*f+x*(7*d0+9*u0*f))/Math.cos(u),N=Math.asin(Math.sin(u)/Up),ee=g(180*C/Math.PI,-180,180),ne=g(180*N/Math.PI,-85.051129,ba);return new Ar(ee,ne)}}class cy extends No{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0}project(i,l){return{x:.5+i/360,y:.5-l/360,z:0}}unproject(i,l){const u=360*(i-.5),f=g(360*(.5-l),-85.051129,ba);return new Ar(u,f)}}const $p=Math.PI/2;function Qm(a){return Math.tan(($p+a)/2)}class Dw extends No{constructor(i){super(i),this.center=i.center||[0,30];const[l,u]=this.parallels=i.parallels||[30,30];let f=$(l),x=$(u);this.southernCenter=f+x<0,this.southernCenter&&(f=-f,x=-x);const C=Math.cos(f),N=Qm(f);this.n=f===x?Math.sin(f):Math.log(C/Math.cos(x))/Math.log(Qm(x)/N),this.f=C*Math.pow(Qm(f),this.n)/this.n}project(i,l){l=$(l),this.southernCenter&&(l=-l),i=$(i-this.center[0]);const u=1e-6,{n:f,f:x}=this;x>0?l<-$p+u&&(l=-$p+u):l>$p-u&&(l=$p-u);const C=x/Math.pow(Qm(l),f);let N=C*Math.sin(f*i),ee=x-C*Math.cos(f*i);return N=.5*(N/Math.PI+.5),ee=.5*(ee/Math.PI+.5),{x:N,y:this.southernCenter?ee:1-ee,z:0}}unproject(i,l){i=(2*i-.5)*Math.PI,this.southernCenter&&(l=1-l),l=(2*(1-l)-.5)*Math.PI;const{n:u,f}=this,x=f-l,C=Math.sign(x),N=Math.sign(u)*Math.sqrt(i*i+x*x);let ee=Math.atan2(i,Math.abs(x))*C;x*u<0&&(ee-=Math.PI*Math.sign(i)*C);const ne=g(V(ee/u)+this.center[0],-180,180),fe=g(V(2*Math.atan(Math.pow(f/N,1/u))-$p),-85.051129,ba);return new Ar(ne,this.southernCenter?-fe:fe)}}class Uv extends No{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(i,l){return{x:nd(i),y:lc(l),z:0}}unproject(i,l){const u=dl(i),f=xa(l);return new Ar(u,f)}}const dy=$(ba);class Iw extends No{project(i,l){const u=(l=$(l))*l,f=u*u;return{x:.5*((i=$(i))*(.8707-.131979*u+f*(f*(.003971*u-.001529*f)-.013791))/Math.PI+.5),y:1-.5*(l*(1.007226+u*(.015085+f*(.028874*u-.044475-.005916*f)))/Math.PI+1),z:0}}unproject(i,l){i=(2*i-.5)*Math.PI;let u=l=(2*(1-l)-1)*Math.PI,f=25,x=0,C=u*u;do{C=u*u;const ne=C*C;x=(u*(1.007226+C*(.015085+ne*(.028874*C-.044475-.005916*ne)))-l)/(1.007226+C*(.045255+ne*(.259866*C-.311325-.005916*11*ne))),u=g(u-x,-dy,dy)}while(Math.abs(x)>1e-6&&--f>0);C=u*u;const N=g(V(i/(.8707+C*(C*(C*C*C*(.003971-.001529*C)-.013791)-.131979))),-180,180),ee=V(u);return new Ar(N,ee)}}const $v=$(ba);class Lw extends No{project(i,l){l=$(l),i=$(i);const u=Math.cos(l),f=2/Math.PI,x=Math.acos(u*Math.cos(i/2)),C=Math.sin(x)/x,N=.5*(i*f+2*u*Math.sin(i/2)/C)||0,ee=.5*(l+Math.sin(l)/C)||0;return{x:.5*(N/Math.PI+.5),y:1-.5*(ee/Math.PI+1),z:0}}unproject(i,l){let u=i=(2*i-.5)*Math.PI,f=l=(2*(1-l)-1)*Math.PI,x=25;const C=1e-6;let N=0,ee=0;do{const ne=Math.cos(f),fe=Math.sin(f),Te=2*fe*ne,Ee=fe*fe,Le=ne*ne,ze=Math.cos(u/2),Ge=Math.sin(u/2),tt=2*ze*Ge,yt=Ge*Ge,kt=1-Le*ze*ze,gt=kt?1/kt:0,wt=kt?Math.acos(ne*ze)*Math.sqrt(1/kt):0,Dt=.5*(2*wt*ne*Ge+2*u/Math.PI)-i,At=.5*(wt*fe+f)-l,ti=.5*gt*(Le*yt+wt*ne*ze*Ee)+1/Math.PI,Qt=gt*(tt*Te/4-wt*fe*Ge),_i=.125*gt*(Te*Ge-wt*fe*Le*tt),ji=.5*gt*(Ee*ze+wt*yt*ne)+.5,ai=Qt*_i-ji*ti;N=(At*Qt-Dt*ji)/ai,ee=(Dt*_i-At*ti)/ai,u=g(u-N,-Math.PI,Math.PI),f=g(f-ee,-$v,$v)}while((Math.abs(N)>C||Math.abs(ee)>C)&&--x>0);return new Ar(V(u),V(f))}}class eg extends No{constructor(i){super(i),this.center=i.center||[0,0],this.parallels=i.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos($(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(i,l){const{scale:u,cosPhi:f}=this;return{x:$(i)*f*u+.5,y:-Math.sin($(l))/f*u+.5,z:0}}unproject(i,l){const{scale:u,cosPhi:f}=this,x=-(l-.5)/u,C=g(V((i-.5)/u)/f,-180,180),N=Math.asin(g(x*f,-1,1)),ee=g(V(N),-85.051129,ba);return new Ar(C,ee)}}class uy extends Uv{constructor(i){super(i),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(i,l,u){const f=o0(i,l,u);return uo(f,f,a0(Vd(u))),{x:f[0],y:f[1],z:f[2]}}locationPoint(i,l){const u=s0(l.lat,l.lng),f=Xa([],u),x=i.elevation?i.elevation.getAtPointOrZero(i.locationCoordinate(l),i._centerAltitude):i._centerAltitude;Ap(u,u,f,cc(1,0)*On*x);const C=Ic(new Float64Array(16));return Ph(C,i.pixelMatrix,i.globeMatrix),uo(u,u,C),new U(u[0],u[1])}pixelsPerMeter(i,l){return cc(1,0)*l}pixelSpaceConversion(i,l,u){const f=cc(1,i)*l,x=Zn(cc(1,45)*l,f,u);return this.pixelsPerMeter(i,l)/x}createTileMatrix(i,l,u){const f=ry(Vd(u.canonical));return Ph(new Float64Array(16),i.globeMatrix,f)}createInversionMatrix(i,l){const{center:u}=i,f=a0(Vd(l));return Vf(f,f,$(u.lng)),g1(f,f,$(u.lat)),Dh(f,f,[i._pixelsPerMercatorPixel,i._pixelsPerMercatorPixel,1]),Float32Array.from(f)}pointCoordinate(i,l,u,f){return Rv(i,l,u,!0)||new Mh(0,0)}pointCoordinate3D(i,l,u){const f=this.pointCoordinate(i,l,u,0);return[f.x,f.y,f.z]}isPointAboveHorizon(i,l){return!Rv(i,l.x,l.y,!1)}farthestPixelDistance(i){const l=function(f,x){const C=f.cameraToCenterDistance,N=f._centerAltitude*x,ee=f._camera,ne=f._camera.forward(),fe=jd([],dc([],ne,-C),[0,0,N]),Te=f.worldSize/(2*Math.PI),Ee=[0,0,-Te],Le=f.width/f.height,ze=Math.tan(f.fovAboveCenter),Ge=dc([],ee.up(),ze),tt=dc([],ee.right(),ze*Le),yt=Xa([],jd([],jd([],ne,Ge),tt)),kt=[];let gt;if(new Mm(fe,yt).closestPointOnSphere(Ee,Te,kt)){const wt=jd([],kt,Ee),Dt=ad([],wt,fe);gt=Math.cos(f.fovAboveCenter)*Ih(Dt)}else{const wt=ad([],fe,Ee),Dt=ad([],Ee,fe);Xa(Dt,Dt);const At=Ih(wt)-Te;gt=Math.sqrt(At*(At+2*Te));const ti=Math.acos(gt/(Te+At))-Math.acos(Lc(ne,Dt));gt*=Math.cos(ti)}return 1.01*gt}(i,this.pixelsPerMeter(i.center.lat,i.worldSize)),u=Fh(i.zoom);if(u>0){const f=jv(i,cc(1,i.center.lat)*i.worldSize),x=i.worldSize/(2*Math.PI),C=Math.max(i.width,i.height)/i.worldSize*Math.PI;return Zn(l,f+x*(1-Math.cos(C)),Math.pow(u,10))}return l}upVector(i,l,u){return o0(l,u,i,1)}upVectorScale(i){return{metersToTile:ty*Km(Vd(i))}}}function Vv(a){const i=a.parallels,l=!!i&&Math.abs(i[0]+i[1])<.01;switch(a.name){case"mercator":return new Uv(a);case"equirectangular":return new cy(a);case"naturalEarth":return new Iw(a);case"equalEarth":return new Pw(a);case"winkelTripel":return new Lw(a);case"albers":return l?new eg(a):new ly(a);case"lambertConformalConic":return l?new eg(a):new Dw(a);case"globe":return new uy(a)}throw new Error(`Invalid projection name: ${a.name}`)}const Ow=Om.types,Rw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function tg(a,i,l,u,f,x,C,N,ee,ne,fe,Te,Ee){const Le=N?Math.min(Ku,Math.round(N[0])):0,ze=N?Math.min(Ku,Math.round(N[1])):0;a.emplaceBack(i,l,Math.round(32*u),Math.round(32*f),x,C,(Le<<1)+(ee?1:0),ze,16*ne,16*fe,256*Te,256*Ee)}function ig(a,i,l,u,f,x,C){a.emplaceBack(i,l,u,f,x,C)}function ng(a,i,l,u,f){a.emplaceBack(i,l,u,f),a.emplaceBack(i,l,u,f),a.emplaceBack(i,l,u,f),a.emplaceBack(i,l,u,f)}function Bw(a){for(const i of a.sections)if(at(i.text))return!0;return!1}class hy{constructor(i){this.layoutVertexArray=new ts,this.indexArray=new sa,this.programConfigurations=i,this.segments=new xo,this.dynamicLayoutVertexArray=new ka,this.opacityVertexArray=new no,this.placedSymbolArray=new E_,this.globeExtVertexArray=new $r}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,l,u,f){this.isEmpty()||(u&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,ew.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,tw.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,Rw,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,ld.members,!0)),this.opacityVertexBuffer.itemSize=1),(u||f)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}en(hy,"SymbolBuffers");class py{constructor(i,l,u){this.layoutVertexArray=new i,this.layoutAttributes=l,this.indexArray=new u,this.segments=new xo,this.collisionVertexArray=new Th,this.collisionVertexArrayExt=new oc}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,iw.members,!0),this.collisionVertexBufferExt=i.createVertexBuffer(this.collisionVertexArrayExt,Rh.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}en(py,"CollisionBuffers");class Ju{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(C=>C.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ic([]),this.placementViewportMatrix=Ic([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=j1(this.zoom,l["text-size"]),this.iconSizeData=j1(this.zoom,l["icon-size"]);const u=this.layers[0].layout,f=u.get("symbol-sort-key"),x=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&f.constantOr(1)!==void 0,this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=u.get("text-writing-mode").map(C=>Qn[C]),this.stateDependentLayerIds=this.layers.filter(C=>C.isStateDependent()).map(C=>C.id),this.sourceID=i.sourceID,this.projection=i.projection}createArrays(){this.text=new hy(new zd(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new hy(new zd(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Jg,this.lineVertexArray=new Qg,this.symbolInstances=new gm}calculateGlyphDependencies(i,l,u,f,x){for(let C=0;C<i.length;C++)if(l[i.charCodeAt(C)]=!0,f&&x){const N=e0[i.charAt(C)];N&&(l[N.charCodeAt(0)]=!0)}}populate(i,l,u,f){const x=this.layers[0],C=x.layout,N=this.projection.name==="globe",ee=C.get("text-font"),ne=C.get("text-field"),fe=C.get("icon-image"),Te=(ne.value.kind!=="constant"||ne.value.value instanceof Ks&&!ne.value.value.isEmpty()||ne.value.value.toString().length>0)&&(ee.value.kind!=="constant"||ee.value.value.length>0),Ee=fe.value.kind!=="constant"||!!fe.value.value||Object.keys(fe.parameters).length>0,Le=C.get("symbol-sort-key");if(this.features=[],!Te&&!Ee)return;const ze=l.iconDependencies,Ge=l.glyphDependencies,tt=l.availableImages,yt=new Gt(this.zoom);for(const{feature:kt,id:gt,index:wt,sourceLayerIndex:Dt}of i){const At=x._featureFilter.needGeometry,ti=Nd(kt,At);if(!x._featureFilter.filter(yt,ti,u))continue;if(At||(ti.geometry=sd(kt,u,f)),N&&kt.type!==1&&u.z<=5){const ai=ti.geometry,Ti=.98078528056,Ci=(Oi,Ui)=>Lc(o0(Oi.x,Oi.y,u,1),o0(Ui.x,Ui.y,u,1))<Ti;for(let Oi=0;Oi<ai.length;Oi++)ai[Oi]=h2(ai[Oi],Ci)}let Qt,_i;if(Te){const ai=x.getValueAndResolveTokens("text-field",ti,u,tt),Ti=Ks.factory(ai);Bw(Ti)&&(this.hasRTLText=!0),(!this.hasRTLText||jt()==="unavailable"||this.hasRTLText&&Jt.isParsed())&&(Qt=sw(Ti,x,ti))}if(Ee){const ai=x.getValueAndResolveTokens("icon-image",ti,u,tt);_i=ai instanceof fa?ai:fa.fromString(ai)}if(!Qt&&!_i)continue;const ji=this.sortFeaturesByKey?Le.evaluate(ti,{},u):void 0;if(this.features.push({id:gt,text:Qt,icon:_i,index:wt,sourceLayerIndex:Dt,geometry:ti.geometry,properties:kt.properties,type:Ow[kt.type],sortKey:ji}),_i&&(ze[_i.name]=!0),Qt){const ai=ee.evaluate(ti,{},u).join(","),Ti=C.get("text-rotation-alignment")==="map"&&C.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Qn.vertical)>=0;for(const Ci of Qt.sections)if(Ci.image)ze[Ci.image.name]=!0;else{const Oi=se(Qt.toString()),Ui=Ci.fontStack||ai,ci=Ge[Ui]=Ge[Ui]||{};this.calculateGlyphDependencies(Ci.text,ci,Ti,this.allowVerticalPlacement,Oi)}}}C.get("symbol-placement")==="line"&&(this.features=function(kt){const gt={},wt={},Dt=[];let At=0;function ti(ai){Dt.push(kt[ai]),At++}function Qt(ai,Ti,Ci){const Oi=wt[ai];return delete wt[ai],wt[Ti]=Oi,Dt[Oi].geometry[0].pop(),Dt[Oi].geometry[0]=Dt[Oi].geometry[0].concat(Ci[0]),Oi}function _i(ai,Ti,Ci){const Oi=gt[Ti];return delete gt[Ti],gt[ai]=Oi,Dt[Oi].geometry[0].shift(),Dt[Oi].geometry[0]=Ci[0].concat(Dt[Oi].geometry[0]),Oi}function ji(ai,Ti,Ci){const Oi=Ci?Ti[0][Ti[0].length-1]:Ti[0][0];return`${ai}:${Oi.x}:${Oi.y}`}for(let ai=0;ai<kt.length;ai++){const Ti=kt[ai],Ci=Ti.geometry,Oi=Ti.text?Ti.text.toString():null;if(!Oi){ti(ai);continue}const Ui=ji(Oi,Ci),ci=ji(Oi,Ci,!0);if(Ui in wt&&ci in gt&&wt[Ui]!==gt[ci]){const Ji=_i(Ui,ci,Ci),zn=Qt(Ui,ci,Dt[Ji].geometry);delete gt[Ui],delete wt[ci],wt[ji(Oi,Dt[zn].geometry,!0)]=zn,Dt[Ji].geometry=null}else Ui in wt?Qt(Ui,ci,Ci):ci in gt?_i(Ui,ci,Ci):(ti(ai),gt[Ui]=At-1,wt[ci]=At-1)}return Dt.filter(ai=>ai.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((kt,gt)=>kt.sortKey-gt.sortKey)}update(i,l,u,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,l,this.layers,u,f),this.icon.programConfigurations.updatePaintArrays(i,l,this.layers,u,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Vv(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,l){const u=this.lineVertexArray.length;if(i.segment!==void 0)for(const{x:f,y:x}of l)this.lineVertexArray.emplaceBack(f,x);return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}}addSymbols(i,l,u,f,x,C,N,ee,ne,fe,Te,Ee,Le,ze){const Ge=i.indexArray,tt=i.layoutVertexArray,yt=i.globeExtVertexArray,kt=i.segments.prepareSegment(4*l.length,tt,Ge,this.canOverlap?C.sortKey:void 0),gt=this.glyphOffsetArray.length,wt=kt.vertexLength,Dt=this.allowVerticalPlacement&&N===Qn.vertical?Math.PI/2:0,At=C.text&&C.text.sections;for(let Qt=0;Qt<l.length;Qt++){const{tl:_i,tr:ji,bl:ai,br:Ti,tex:Ci,pixelOffsetTL:Oi,pixelOffsetBR:Ui,minFontScaleX:ci,minFontScaleY:Ji,glyphOffset:zn,isSDF:sn,sectionIndex:vn}=l[Qt],Qi=kt.vertexLength,$n=zn[1];if(tg(tt,ne.x,ne.y,_i.x,$n+_i.y,Ci.x,Ci.y,u,sn,Oi.x,Oi.y,ci,Ji),tg(tt,ne.x,ne.y,ji.x,$n+ji.y,Ci.x+Ci.w,Ci.y,u,sn,Ui.x,Oi.y,ci,Ji),tg(tt,ne.x,ne.y,ai.x,$n+ai.y,Ci.x,Ci.y+Ci.h,u,sn,Oi.x,Ui.y,ci,Ji),tg(tt,ne.x,ne.y,Ti.x,$n+Ti.y,Ci.x+Ci.w,Ci.y+Ci.h,u,sn,Ui.x,Ui.y,ci,Ji),ee){const{x:Er,y:br,z:yr}=ee.anchor,[Vn,ls,rr]=ee.up;ig(yt,Er,br,yr,Vn,ls,rr),ig(yt,Er,br,yr,Vn,ls,rr),ig(yt,Er,br,yr,Vn,ls,rr),ig(yt,Er,br,yr,Vn,ls,rr),ng(i.dynamicLayoutVertexArray,Er,br,yr,Dt)}else ng(i.dynamicLayoutVertexArray,ne.x,ne.y,ne.z,Dt);Ge.emplaceBack(Qi,Qi+1,Qi+2),Ge.emplaceBack(Qi+1,Qi+2,Qi+3),kt.vertexLength+=4,kt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(zn[0]),Qt!==l.length-1&&vn===l[Qt+1].sectionIndex||i.programConfigurations.populatePaintArrays(tt.length,C,C.index,{},Le,ze,At&&At[vn])}const ti=ee?ee.anchor:ne;i.placedSymbolArray.emplaceBack(ti.x,ti.y,ti.z,ne.x,ne.y,gt,this.glyphOffsetArray.length-gt,wt,fe,Te,ne.segment,u?u[0]:0,u?u[1]:0,f[0],f[1],N,0,!1,0,Ee,0)}_commitLayoutVertex(i,l,u,f,x,C,N){i.emplaceBack(l,u,f,x,C,Math.round(N.x),Math.round(N.y))}_addCollisionDebugVertices(i,l,u,f,x,C,N){const ee=u.segments.prepareSegment(4,u.layoutVertexArray,u.indexArray),ne=ee.vertexLength,fe=N.tileAnchorX,Te=N.tileAnchorY;for(let Le=0;Le<4;Le++)u.collisionVertexArray.emplaceBack(0,0,0,0);u.collisionVertexArrayExt.emplaceBack(l,-i.padding,-i.padding),u.collisionVertexArrayExt.emplaceBack(l,i.padding,-i.padding),u.collisionVertexArrayExt.emplaceBack(l,i.padding,i.padding),u.collisionVertexArrayExt.emplaceBack(l,-i.padding,i.padding),this._commitLayoutVertex(u.layoutVertexArray,f,x,C,fe,Te,new U(i.x1,i.y1)),this._commitLayoutVertex(u.layoutVertexArray,f,x,C,fe,Te,new U(i.x2,i.y1)),this._commitLayoutVertex(u.layoutVertexArray,f,x,C,fe,Te,new U(i.x2,i.y2)),this._commitLayoutVertex(u.layoutVertexArray,f,x,C,fe,Te,new U(i.x1,i.y2)),ee.vertexLength+=4;const Ee=u.indexArray;Ee.emplaceBack(ne,ne+1),Ee.emplaceBack(ne+1,ne+2),Ee.emplaceBack(ne+2,ne+3),Ee.emplaceBack(ne+3,ne),ee.primitiveLength+=4}_addTextDebugCollisionBoxes(i,l,u,f,x,C){for(let N=f;N<x;N++){const ee=u.get(N),ne=this.getSymbolInstanceTextSize(i,C,l,N);this._addCollisionDebugVertices(ee,ne,this.textCollisionBox,ee.projectedAnchorX,ee.projectedAnchorY,ee.projectedAnchorZ,C)}}_addIconDebugCollisionBoxes(i,l,u,f,x,C){for(let N=f;N<x;N++){const ee=u.get(N),ne=this.getSymbolInstanceIconSize(i,l,C.placedIconSymbolIndex);this._addCollisionDebugVertices(ee,ne,this.iconCollisionBox,ee.projectedAnchorX,ee.projectedAnchorY,ee.projectedAnchorZ,C)}}generateCollisionDebugBuffers(i,l){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new py(ys,gr.members,Dc),this.iconCollisionBox=new py(ys,gr.members,Dc);const u=Op(this.iconSizeData,i),f=Op(this.textSizeData,i);for(let x=0;x<this.symbolInstances.length;x++){const C=this.symbolInstances.get(x);this._addTextDebugCollisionBoxes(f,i,l,C.textBoxStartIndex,C.textBoxEndIndex,C),this._addTextDebugCollisionBoxes(f,i,l,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._addIconDebugCollisionBoxes(u,i,l,C.iconBoxStartIndex,C.iconBoxEndIndex,C),this._addIconDebugCollisionBoxes(u,i,l,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C)}}getSymbolInstanceTextSize(i,l,u,f){const x=this.text.placedSymbolArray.get(l.rightJustifiedTextSymbolIndex>=0?l.rightJustifiedTextSymbolIndex:l.centerJustifiedTextSymbolIndex>=0?l.centerJustifiedTextSymbolIndex:l.leftJustifiedTextSymbolIndex>=0?l.leftJustifiedTextSymbolIndex:l.verticalPlacedTextSymbolIndex>=0?l.verticalPlacedTextSymbolIndex:f),C=cd(this.textSizeData,i,x)/_s;return this.tilePixelRatio*C}getSymbolInstanceIconSize(i,l,u){const f=this.icon.placedSymbolArray.get(u),x=cd(this.iconSizeData,i,f);return this.tilePixelRatio*x}_commitDebugCollisionVertexUpdate(i,l,u){i.emplaceBack(l,-u,-u),i.emplaceBack(l,u,-u),i.emplaceBack(l,u,u),i.emplaceBack(l,-u,u)}_updateTextDebugCollisionBoxes(i,l,u,f,x,C){for(let N=f;N<x;N++){const ee=u.get(N),ne=this.getSymbolInstanceTextSize(i,C,l,N);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,ne,ee.padding)}}_updateIconDebugCollisionBoxes(i,l,u,f,x,C){for(let N=f;N<x;N++){const ee=u.get(N),ne=this.getSymbolInstanceIconSize(i,l,C);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,ne,ee.padding)}}updateCollisionDebugBuffers(i,l){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const u=Op(this.iconSizeData,i),f=Op(this.textSizeData,i);for(let x=0;x<this.symbolInstances.length;x++){const C=this.symbolInstances.get(x);this._updateTextDebugCollisionBoxes(f,i,l,C.textBoxStartIndex,C.textBoxEndIndex,C),this._updateTextDebugCollisionBoxes(f,i,l,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._updateIconDebugCollisionBoxes(u,i,l,C.iconBoxStartIndex,C.iconBoxEndIndex,C.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(u,i,l,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(i,l,u,f,x,C,N,ee,ne){const fe={};if(l<u){const{x1:Te,y1:Ee,x2:Le,y2:ze,padding:Ge,projectedAnchorX:tt,projectedAnchorY:yt,projectedAnchorZ:kt,tileAnchorX:gt,tileAnchorY:wt,featureIndex:Dt}=i.get(l);fe.textBox={x1:Te,y1:Ee,x2:Le,y2:ze,padding:Ge,projectedAnchorX:tt,projectedAnchorY:yt,projectedAnchorZ:kt,tileAnchorX:gt,tileAnchorY:wt},fe.textFeatureIndex=Dt}if(f<x){const{x1:Te,y1:Ee,x2:Le,y2:ze,padding:Ge,projectedAnchorX:tt,projectedAnchorY:yt,projectedAnchorZ:kt,tileAnchorX:gt,tileAnchorY:wt,featureIndex:Dt}=i.get(f);fe.verticalTextBox={x1:Te,y1:Ee,x2:Le,y2:ze,padding:Ge,projectedAnchorX:tt,projectedAnchorY:yt,projectedAnchorZ:kt,tileAnchorX:gt,tileAnchorY:wt},fe.verticalTextFeatureIndex=Dt}if(C<N){const{x1:Te,y1:Ee,x2:Le,y2:ze,padding:Ge,projectedAnchorX:tt,projectedAnchorY:yt,projectedAnchorZ:kt,tileAnchorX:gt,tileAnchorY:wt,featureIndex:Dt}=i.get(C);fe.iconBox={x1:Te,y1:Ee,x2:Le,y2:ze,padding:Ge,projectedAnchorX:tt,projectedAnchorY:yt,projectedAnchorZ:kt,tileAnchorX:gt,tileAnchorY:wt},fe.iconFeatureIndex=Dt}if(ee<ne){const{x1:Te,y1:Ee,x2:Le,y2:ze,padding:Ge,projectedAnchorX:tt,projectedAnchorY:yt,projectedAnchorZ:kt,tileAnchorX:gt,tileAnchorY:wt,featureIndex:Dt}=i.get(ee);fe.verticalIconBox={x1:Te,y1:Ee,x2:Le,y2:ze,padding:Ge,projectedAnchorX:tt,projectedAnchorY:yt,projectedAnchorZ:kt,tileAnchorX:gt,tileAnchorY:wt},fe.verticalIconFeatureIndex=Dt}return fe}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const u=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,l){const u=i.placedSymbolArray.get(l),f=u.vertexStartIndex+4*u.numGlyphs;for(let x=u.vertexStartIndex;x<f;x+=4)i.indexArray.emplaceBack(x,x+1,x+2),i.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(i),u=Math.cos(i),f=[],x=[],C=[];for(let N=0;N<this.symbolInstances.length;++N){C.push(N);const ee=this.symbolInstances.get(N);f.push(0|Math.round(l*ee.tileAnchorX+u*ee.tileAnchorY)),x.push(ee.featureIndex)}return C.sort((N,ee)=>f[N]-f[ee]||x[ee]-x[N]),C}addToSortKeyRanges(i,l){const u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===l?u.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const u=this.symbolInstances.get(l);this.featureSortOrder.push(u.featureIndex);const{rightJustifiedTextSymbolIndex:f,centerJustifiedTextSymbolIndex:x,leftJustifiedTextSymbolIndex:C,verticalPlacedTextSymbolIndex:N,placedIconSymbolIndex:ee,verticalPlacedIconSymbolIndex:ne}=u;f>=0&&this.addIndicesForPlacedSymbol(this.text,f),x>=0&&x!==f&&this.addIndicesForPlacedSymbol(this.text,x),C>=0&&C!==x&&C!==f&&this.addIndicesForPlacedSymbol(this.text,C),N>=0&&this.addIndicesForPlacedSymbol(this.text,N),ee>=0&&this.addIndicesForPlacedSymbol(this.icon,ee),ne>=0&&this.addIndicesForPlacedSymbol(this.icon,ne)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}en(Ju,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Ju.MAX_GLYPHS=65535,Ju.addDynamicAttributes=ng;const zw=new Sn({"symbol-placement":new Yt(fi.layout_symbol["symbol-placement"]),"symbol-spacing":new Yt(fi.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yt(fi.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ni(fi.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Yt(fi.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Yt(fi.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Yt(fi.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yt(fi.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yt(fi.layout_symbol["icon-rotation-alignment"]),"icon-size":new ni(fi.layout_symbol["icon-size"]),"icon-text-fit":new Yt(fi.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Yt(fi.layout_symbol["icon-text-fit-padding"]),"icon-image":new ni(fi.layout_symbol["icon-image"]),"icon-rotate":new ni(fi.layout_symbol["icon-rotate"]),"icon-padding":new Yt(fi.layout_symbol["icon-padding"]),"icon-keep-upright":new Yt(fi.layout_symbol["icon-keep-upright"]),"icon-offset":new ni(fi.layout_symbol["icon-offset"]),"icon-anchor":new ni(fi.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yt(fi.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yt(fi.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yt(fi.layout_symbol["text-rotation-alignment"]),"text-field":new ni(fi.layout_symbol["text-field"]),"text-font":new ni(fi.layout_symbol["text-font"]),"text-size":new ni(fi.layout_symbol["text-size"]),"text-max-width":new ni(fi.layout_symbol["text-max-width"]),"text-line-height":new ni(fi.layout_symbol["text-line-height"]),"text-letter-spacing":new ni(fi.layout_symbol["text-letter-spacing"]),"text-justify":new ni(fi.layout_symbol["text-justify"]),"text-radial-offset":new ni(fi.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Yt(fi.layout_symbol["text-variable-anchor"]),"text-anchor":new ni(fi.layout_symbol["text-anchor"]),"text-max-angle":new Yt(fi.layout_symbol["text-max-angle"]),"text-writing-mode":new Yt(fi.layout_symbol["text-writing-mode"]),"text-rotate":new ni(fi.layout_symbol["text-rotate"]),"text-padding":new Yt(fi.layout_symbol["text-padding"]),"text-keep-upright":new Yt(fi.layout_symbol["text-keep-upright"]),"text-transform":new ni(fi.layout_symbol["text-transform"]),"text-offset":new ni(fi.layout_symbol["text-offset"]),"text-allow-overlap":new Yt(fi.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Yt(fi.layout_symbol["text-ignore-placement"]),"text-optional":new Yt(fi.layout_symbol["text-optional"])});var fy={paint:new Sn({"icon-opacity":new ni(fi.paint_symbol["icon-opacity"]),"icon-color":new ni(fi.paint_symbol["icon-color"]),"icon-halo-color":new ni(fi.paint_symbol["icon-halo-color"]),"icon-halo-width":new ni(fi.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ni(fi.paint_symbol["icon-halo-blur"]),"icon-translate":new Yt(fi.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yt(fi.paint_symbol["icon-translate-anchor"]),"text-opacity":new ni(fi.paint_symbol["text-opacity"]),"text-color":new ni(fi.paint_symbol["text-color"],{runtimeType:Jo,getOverride:a=>a.textColor,hasOverride:a=>!!a.textColor}),"text-halo-color":new ni(fi.paint_symbol["text-halo-color"]),"text-halo-width":new ni(fi.paint_symbol["text-halo-width"]),"text-halo-blur":new ni(fi.paint_symbol["text-halo-blur"]),"text-translate":new Yt(fi.paint_symbol["text-translate"]),"text-translate-anchor":new Yt(fi.paint_symbol["text-translate-anchor"])}),layout:zw};class Gv{constructor(i){this.type=i.property.overrides?i.property.overrides.runtimeType:lo,this.defaultValue=i}evaluate(i){if(i.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(i.formattedSection))return l.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}en(Gv,"FormatSectionOverride",{omit:["defaultValue"]});class rg extends cl{constructor(i){super(i,fy)}recalculate(i,l){super.recalculate(i,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const u=this.layout.get("text-writing-mode");if(u){const f=[];for(const x of u)f.indexOf(x)<0&&f.push(x);this.layout._values["text-writing-mode"]=f}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(i,l,u,f){const x=this.layout.get(i).evaluate(l,{},u,f),C=this._unevaluatedLayout._values[i];return C.isDataDriven()||vt(C.value)||!x?x:function(N,ee){return ee.replace(/{([^{}]+)}/g,(ne,fe)=>fe in N?String(N[fe]):"")}(l.properties,x)}createBucket(i){return new Ju(i)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const i of fy.paint.overridableProperties){if(!rg.hasPaintOverride(this.layout,i))continue;const l=this.paint.get(i),u=new Gv(l),f=new $e(u,l.property.specification);let x=null;x=l.value.kind==="constant"||l.value.kind==="source"?new Tn("source",f):new xr("composite",f,l.value.zoomStops,l.value._interpolationType),this.paint._values[i]=new Si(l.property,x,l.parameters)}}_handleOverridablePaintPropertyUpdate(i,l,u){return!(!this.layout||l.isDataDriven()||u.isDataDriven())&&rg.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,l){const u=i.get("text-field"),f=fy.paint.properties[l];let x=!1;const C=N=>{for(const ee of N)if(f.overrides&&f.overrides.hasOverride(ee))return void(x=!0)};if(u.value.kind==="constant"&&u.value.value instanceof Ks)C(u.value.value.sections);else if(u.value.kind==="source"){const N=ne=>{x||(ne instanceof Yl&&Hs(ne.value)===Ca?C(ne.value.sections):ne instanceof Fr?C(ne.sections):ne.eachChild(N))},ee=u.value;ee._styleExpression&&N(ee._styleExpression.expression)}return x}getProgramConfiguration(i){return new Yu(this,i)}}var Nw={paint:new Sn({"background-color":new Yt(fi.paint_background["background-color"]),"background-pattern":new Yt(fi.paint_background["background-pattern"]),"background-opacity":new Yt(fi.paint_background["background-opacity"])})},Fw={paint:new Sn({"raster-opacity":new Yt(fi.paint_raster["raster-opacity"]),"raster-hue-rotate":new Yt(fi.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yt(fi.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yt(fi.paint_raster["raster-brightness-max"]),"raster-saturation":new Yt(fi.paint_raster["raster-saturation"]),"raster-contrast":new Yt(fi.paint_raster["raster-contrast"]),"raster-resampling":new Yt(fi.paint_raster["raster-resampling"]),"raster-fade-duration":new Yt(fi.paint_raster["raster-fade-duration"])})};class jw extends cl{constructor(i){super(i,{}),this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(i){this.implementation.onAdd&&this.implementation.onAdd(i,i.painter.context.gl)}onRemove(i){this.implementation.onRemove&&this.implementation.onRemove(i,i.painter.context.gl)}}var Uw={paint:new Sn({"sky-type":new Yt(fi.paint_sky["sky-type"]),"sky-atmosphere-sun":new Yt(fi.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Yt(fi.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Yt(fi.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Yt(fi.paint_sky["sky-gradient-radius"]),"sky-gradient":new mn(fi.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Yt(fi.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Yt(fi.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Yt(fi.paint_sky["sky-opacity"])})};function my(a,i,l){const u=[0,0,1],f=w1([]);return G_(f,f,l?-$(a)+Math.PI:$(a)),V_(f,f,-$(i)),j_(u,u,f),Xa(u,u)}const $w={circle:class extends cl{constructor(a){super(a,f2)}createBucket(a){return new Tp(a)}queryRadius(a){const i=a;return Sp("circle-radius",this,i)+Sp("circle-stroke-width",this,i)+Sm(this.paint.get("circle-translate"))}queryIntersectsFeature(a,i,l,u,f,x,C,N){const ee=qa(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),x.angle,a.pixelToTileUnitsFactor),ne=this.paint.get("circle-radius").evaluate(i,l)+this.paint.get("circle-stroke-width").evaluate(i,l);return H_(a,u,x,C,N,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",ee,ne)}getProgramIds(){return["circle"]}getProgramConfiguration(a){return new Yu(this,a)}},heatmap:class extends cl{createBucket(a){return new Y_(a)}constructor(a){super(a,x2),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Hf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(a){return Sp("heatmap-radius",this,a)}queryIntersectsFeature(a,i,l,u,f,x,C,N){const ee=this.paint.get("heatmap-radius").evaluate(i,l);return H_(a,u,x,C,N,!0,!0,new U(0,0),ee)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(a){return new Yu(this,a)}},hillshade:class extends cl{constructor(a){super(a,b2)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends cl{constructor(a){super(a,B2)}getProgramIds(){const a=this.paint.get("fill-pattern"),i=a&&a.constantOr(1),l=[i?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&l.push(i&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),l}getProgramConfiguration(a){return new Yu(this,a)}recalculate(a,i){super.recalculate(a,i);const l=this.paint._values["fill-outline-color"];l.value.kind==="constant"&&l.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new Dm(a)}queryRadius(){return Sm(this.paint.get("fill-translate"))}queryIntersectsFeature(a,i,l,u,f,x){return!a.queryGeometry.isAboveHorizon&&B_(Fd(a.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),x.angle,a.pixelToTileUnitsFactor),u)}isTileClipped(){return!0}},"fill-extrusion":class extends cl{constructor(a){super(a,cv)}createBucket(a){return new Jf(a)}queryRadius(){return Sm(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(a){return new Yu(this,a)}queryIntersectsFeature(a,i,l,u,f,x,C,N,ee){const ne=qa(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),x.angle,a.pixelToTileUnitsFactor),fe=this.paint.get("fill-extrusion-height").evaluate(i,l),Te=this.paint.get("fill-extrusion-base").evaluate(i,l),Ee=[0,0],Le=N&&x.elevation,ze=x.elevation?x.elevation.exaggeration():1,Ge=a.tile.getBucket(this);if(Le&&Ge instanceof Jf){const wt=Ge.centroidVertexArray,Dt=ee+1;Dt<wt.length&&(Ee[0]=wt.geta_centroid_pos0(Dt),Ee[1]=wt.geta_centroid_pos1(Dt))}if(Ee[0]===0&&Ee[1]===1)return!1;x.projection.name==="globe"&&(u=N1([u],[new U(0,0),new U(On,On)],a.tileID.canonical).map(wt=>wt.polygon).flat());const tt=Le?N:null,[yt,kt]=function(wt,Dt,At,ti,Qt,_i,ji,ai,Ti,Ci,Oi){return wt.projection.name==="globe"?function(Ui,ci,Ji,zn,sn,vn,Qi,$n,Er,br,yr){const Vn=[],ls=[],rr=Ui.projection.upVectorScale(yr,Ui.center.lat,Ui.worldSize).metersToTile,Mr=[0,0,0,1],vs=[0,0,0,1],Rs=(Bs,js,So,Pa)=>{Bs[0]=js,Bs[1]=So,Bs[2]=Pa,Bs[3]=1},Ps=z1();Ji>0&&(Ji+=Ps),zn+=Ps;for(const Bs of ci){const js=[],So=[];for(const Pa of Bs){const cs=Pa.x+sn.x,Wo=Pa.y+sn.y,Fo=Ui.projection.projectTilePoint(cs,Wo,yr),Xr=Ui.projection.upVector(yr,Pa.x,Pa.y);let so=Ji,aa=zn;if(Qi){const xs=F1(cs,Wo,Ji,zn,Qi,$n,Er,br);so+=xs.base,aa+=xs.top}Ji!==0?Rs(Mr,Fo.x+Xr[0]*rr*so,Fo.y+Xr[1]*rr*so,Fo.z+Xr[2]*rr*so):Rs(Mr,Fo.x,Fo.y,Fo.z),Rs(vs,Fo.x+Xr[0]*rr*aa,Fo.y+Xr[1]*rr*aa,Fo.z+Xr[2]*rr*aa),uo(Mr,Mr,vn),uo(vs,vs,vn),js.push(new Lp(Mr[0],Mr[1],Mr[2])),So.push(new Lp(vs[0],vs[1],vs[2]))}Vn.push(js),ls.push(So)}return[Vn,ls]}(wt,Dt,At,ti,Qt,_i,ji,ai,Ti,Ci,Oi):ji?function(Ui,ci,Ji,zn,sn,vn,Qi,$n,Er){const br=[],yr=[],Vn=[0,0,0,1];for(const ls of Ui){const rr=[],Mr=[];for(const vs of ls){const Rs=vs.x+zn.x,Ps=vs.y+zn.y,Bs=F1(Rs,Ps,ci,Ji,vn,Qi,$n,Er);Vn[0]=Rs,Vn[1]=Ps,Vn[2]=Bs.base,Vn[3]=1,qu(Vn,Vn,sn),Vn[3]=Math.max(Vn[3],1e-5);const js=new Lp(Vn[0]/Vn[3],Vn[1]/Vn[3],Vn[2]/Vn[3]);Vn[0]=Rs,Vn[1]=Ps,Vn[2]=Bs.top,Vn[3]=1,qu(Vn,Vn,sn),Vn[3]=Math.max(Vn[3],1e-5);const So=new Lp(Vn[0]/Vn[3],Vn[1]/Vn[3],Vn[2]/Vn[3]);rr.push(js),Mr.push(So)}br.push(rr),yr.push(Mr)}return[br,yr]}(Dt,At,ti,Qt,_i,ji,ai,Ti,Ci):function(Ui,ci,Ji,zn,sn){const vn=[],Qi=[],$n=sn[8]*ci,Er=sn[9]*ci,br=sn[10]*ci,yr=sn[11]*ci,Vn=sn[8]*Ji,ls=sn[9]*Ji,rr=sn[10]*Ji,Mr=sn[11]*Ji;for(const vs of Ui){const Rs=[],Ps=[];for(const Bs of vs){const js=Bs.x+zn.x,So=Bs.y+zn.y,Pa=sn[0]*js+sn[4]*So+sn[12],cs=sn[1]*js+sn[5]*So+sn[13],Wo=sn[2]*js+sn[6]*So+sn[14],Fo=sn[3]*js+sn[7]*So+sn[15],Xr=Pa+$n,so=cs+Er,aa=Wo+br,xs=Math.max(Fo+yr,1e-5),Io=Pa+Vn,hl=cs+ls,Da=Wo+rr,Ia=Math.max(Fo+Mr,1e-5);Rs.push(new Lp(Xr/xs,so/xs,aa/xs)),Ps.push(new Lp(Io/Ia,hl/Ia,Da/Ia))}vn.push(Rs),Qi.push(Ps)}return[vn,Qi]}(Dt,At,ti,Qt,_i)}(x,u,Te,fe,ne,C,tt,Ee,ze,x.center.lat,a.tileID.canonical),gt=a.queryGeometry;return function(wt,Dt,At){let ti=1/0;B_(At,Dt)&&(ti=Fm(At,Dt[0]));for(let Qt=0;Qt<Dt.length;Qt++){const _i=Dt[Qt],ji=wt[Qt];for(let ai=0;ai<_i.length-1;ai++){const Ti=_i[ai],Ci=[Ti,_i[ai+1],ji[ai+1],ji[ai],Ti];wm(At,Ci)&&(ti=Math.min(ti,Fm(At,Ci)))}}return ti!==1/0&&ti}(yt,kt,gt.isPointQuery()?gt.screenBounds:gt.screenGeometry)}},line:class extends cl{constructor(a){super(a,hv),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const i=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=i._styleExpression&&i._styleExpression.expression instanceof ea,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,i){super.recalculate(a,i),this.paint._values["line-floorwidth"]=pv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new jm(a)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(a){return new Yu(this,a)}queryRadius(a){const i=a,l=fv(Sp("line-width",this,i),Sp("line-gap-width",this,i)),u=Sp("line-offset",this,i);return l/2+Math.abs(u)+Sm(this.paint.get("line-translate"))}queryIntersectsFeature(a,i,l,u,f,x){if(a.queryGeometry.isAboveHorizon)return!1;const C=Fd(a.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),x.angle,a.pixelToTileUnitsFactor),N=a.pixelToTileUnitsFactor/2*fv(this.paint.get("line-width").evaluate(i,l),this.paint.get("line-gap-width").evaluate(i,l)),ee=this.paint.get("line-offset").evaluate(i,l);return ee&&(u=function(ne,fe){const Te=[],Ee=new U(0,0);for(let Le=0;Le<ne.length;Le++){const ze=ne[Le],Ge=[];for(let tt=0;tt<ze.length;tt++){const yt=ze[tt-1],kt=ze[tt],gt=ze[tt+1],wt=tt===0?Ee:kt.sub(yt)._unit()._perp(),Dt=tt===ze.length-1?Ee:gt.sub(kt)._unit()._perp(),At=wt._add(Dt)._unit();At._mult(1/(At.x*Dt.x+At.y*Dt.y)),Ge.push(At._mult(fe)._add(kt))}Te.push(Ge)}return Te}(u,ee*a.pixelToTileUnitsFactor)),function(ne,fe,Te){for(let Ee=0;Ee<fe.length;Ee++){const Le=fe[Ee];if(ne.length>=3){for(let ze=0;ze<Le.length;ze++)if(Ah(ne,Le[ze]))return!0}if(u1(ne,Le,Te))return!0}return!1}(C,u,N)}isTileClipped(){return!0}},symbol:rg,background:class extends cl{constructor(a){super(a,Nw)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends cl{constructor(a){super(a,Fw)}getProgramIds(){return["raster"]}},sky:class extends cl{constructor(a){super(a,Uw),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="sky-gradient"?this._updateColorRamp():a!=="sky-atmosphere-sun"&&a!=="sky-atmosphere-halo-color"&&a!=="sky-atmosphere-color"&&a!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Hf({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(a){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const i=a.style.light.properties.get("position");return this._lightPosition.azimuthal!==i.azimuthal||this._lightPosition.polar!==i.polar}return!1}getCenter(a,i){if(this.paint.get("sky-type")==="atmosphere"){const u=this.paint.get("sky-atmosphere-sun"),f=!u,x=a.style.light,C=x.properties.get("position");return f&&x.properties.get("anchor")==="viewport"&&oe("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),f?my(C.azimuthal,90-C.polar,i):my(u[0],90-u[1],i)}const l=this.paint.get("sky-gradient-center");return my(l[0],90-l[1],i)}is3D(){return!1}isSky(){return!0}markSkyboxValid(a){this._skyboxInvalidated=!1,this._lightPosition=a.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const a=this.paint.get("sky-type");return a==="atmosphere"?["skyboxCapture","skybox"]:a==="gradient"?["skyboxGradient"]:null}}};class h0{constructor(i,l,u,f){this.context=i,this.format=u,this.texture=i.gl.createTexture(),this.update(l,f)}update(i,l,u){const{width:f,height:x}=i,{context:C}=this,{gl:N}=C,{HTMLImageElement:ee,HTMLCanvasElement:ne,HTMLVideoElement:fe,ImageData:Te,ImageBitmap:Ee}=v;if(N.bindTexture(N.TEXTURE_2D,this.texture),C.pixelStoreUnpackFlipY.set(!1),C.pixelStoreUnpack.set(1),C.pixelStoreUnpackPremultiplyAlpha.set(this.format===N.RGBA&&(!l||l.premultiply!==!1)),u||this.size&&this.size[0]===f&&this.size[1]===x){const{x:Le,y:ze}=u||{x:0,y:0};i instanceof ee||i instanceof ne||i instanceof fe||i instanceof Te||Ee&&i instanceof Ee?N.texSubImage2D(N.TEXTURE_2D,0,Le,ze,N.RGBA,N.UNSIGNED_BYTE,i):N.texSubImage2D(N.TEXTURE_2D,0,Le,ze,f,x,N.RGBA,N.UNSIGNED_BYTE,i.data)}else this.size=[f,x],i instanceof ee||i instanceof ne||i instanceof fe||i instanceof Te||Ee&&i instanceof Ee?N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,N.UNSIGNED_BYTE,i):N.texImage2D(N.TEXTURE_2D,0,this.format,f,x,0,this.format,N.UNSIGNED_BYTE,i.data);this.useMipmap=!!(l&&l.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&N.generateMipmap(N.TEXTURE_2D)}bind(i,l){const{context:u}=this,{gl:f}=u;f.bindTexture(f.TEXTURE_2D,this.texture),i!==this.filter&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,i),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,this.useMipmap?i===f.NEAREST?f.NEAREST_MIPMAP_NEAREST:f.LINEAR_MIPMAP_NEAREST:i),this.filter=i),l!==this.wrap&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,l),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}class y{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class D{constructor(){this.tasks={},this.taskQueue=[],ce(["process"],this),this.invoker=new y(this.process),this.nextId=0}add(i,l){const u=this.nextId++,f=function({type:x,isSymbolTile:C,zoom:N}){return N=N||0,x==="message"?0:x!=="maybePrepare"||C?x!=="parseTile"||C?x==="parseTile"&&C?300-N:x==="maybePrepare"&&C?400-N:500:200-N:100-N}(l);if(f===0){Re();try{i()}finally{}return{cancel:()=>{}}}return this.tasks[u]={fn:i,metadata:l,priority:f,id:u},this.taskQueue.push(u),this.invoker.trigger(),{cancel:()=>{delete this.tasks[u]}}}process(){Re();try{if(this.taskQueue=this.taskQueue.filter(u=>!!this.tasks[u]),!this.taskQueue.length)return;const i=this.pick();if(i===null)return;const l=this.tasks[i];if(delete this.tasks[i],this.taskQueue.length&&this.invoker.trigger(),!l)return;l.fn()}finally{}}pick(){let i=null,l=1/0;for(let f=0;f<this.taskQueue.length;f++){const x=this.tasks[this.taskQueue[f]];x.priority<l&&(l=x.priority,i=f)}if(i===null)return null;const u=this.taskQueue[i];return this.taskQueue.splice(i,1),u}remove(){this.invoker.remove()}}class ae{constructor(i){this._stringToNumber={},this._numberToString=[];for(let l=0;l<i.length;l++){const u=i[l];this._stringToNumber[u]=l,this._numberToString[l]=u}}encode(i){return this._stringToNumber[i]}decode(i){return this._numberToString[i]}}const Pe=["tile","layer","source","sourceLayer","state"];class We{constructor(i,l,u,f,x){this.type="Feature",this._vectorTileFeature=i,this._z=l,this._x=u,this._y=f,this.properties=i.properties,this.id=x}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(i.id=this.id);for(const l of Pe)this[l]!==void 0&&(i[l]=this[l]);return i}}const ot=32,Et=33,Nt=new Uint16Array(8184);for(let a=0;a<2046;a++){let i=a+2,l=0,u=0,f=0,x=0,C=0,N=0;for(1&i?f=x=C=ot:l=u=N=ot;(i>>=1)>1;){const ne=l+f>>1,fe=u+x>>1;1&i?(f=l,x=u,l=C,u=N):(l=f,u=x,f=C,x=N),C=ne,N=fe}const ee=4*a;Nt[ee+0]=l,Nt[ee+1]=u,Nt[ee+2]=f,Nt[ee+3]=x}const qt=new Uint16Array(2178),Ai=new Uint8Array(1089),Bi=new Uint16Array(1089);function Vi(a){return a===0?-.03125:a===32?.03125:0}var yn=ln([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Bn={type:2,extent:On,loadGeometry:()=>[[new U(0,0),new U(8193,0),new U(8193,8193),new U(0,8193),new U(0,0)]]};class nr{constructor(i,l,u,f,x){this.tileID=i,this.uid=he(),this.uses=0,this.tileSize=l,this.tileZoom=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=x,this.expiredRequestCount=0,this.state="loading",f&&f.transform&&(this.projection=f.transform.projection)}registerFadeDuration(i){const l=i+this.timeAdded;l<_n.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=jh(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(i,l,u){if(this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(f,x){const C={};if(!x)return C;for(const N of f){const ee=N.layerIds.map(ne=>x.getLayer(ne)).filter(Boolean);if(ee.length!==0){N.layers=ee,N.stateDependentLayerIds&&(N.stateDependentLayers=N.stateDependentLayerIds.map(ne=>ee.filter(fe=>fe.id===ne)[0]));for(const ne of ee)C[ne.id]=N}}return C}(i.buckets,l.style),this.hasSymbolBuckets=!1;for(const f in this.buckets){const x=this.buckets[f];if(x instanceof Ju){if(this.hasSymbolBuckets=!0,!u)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const f in this.buckets){const x=this.buckets[f];if(x instanceof Ju&&x.hasRTLText){this.hasRTLText=!0,Jt.isLoading()||Jt.isLoaded()||jt()!=="deferred"||ii();break}}this.queryPadding=0;for(const f in this.buckets){const x=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(f).queryRadius(x))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage),i.lineAtlas&&(this.lineAtlas=i.lineAtlas)}else this.collisionBoxArray=new Kg}unloadVectorData(){if(this.hasData()){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(i){return this.buckets[i.id]}upload(i){for(const u in this.buckets){const f=this.buckets[u];f.uploadPending()&&f.upload(i)}const l=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new h0(i,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new h0(i,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new h0(i,this.lineAtlas.image,l.ALPHA),this.lineAtlas.uploaded=!0)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,l,u,f,x,C,N,ee){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:f,pixelPosMatrix:N,transform:C,params:x,tileTransform:this.tileTransform},i,l,u):{}}querySourceFeatures(i,l){const u=this.latestFeatureIndex;if(!u||!u.rawTileData)return;const f=u.loadVTLayers(),x=l?l.sourceLayer:"",C=f._geojsonTileLayer||f[x];if(!C)return;const N=Fs(l&&l.filter),{z:ee,x:ne,y:fe}=this.tileID.canonical,Te={z:ee,x:ne,y:fe};for(let Ee=0;Ee<C.length;Ee++){const Le=C.feature(Ee);if(N.needGeometry){const tt=Nd(Le,!0);if(!N.filter(new Gt(this.tileID.overscaledZ),tt,this.tileID.canonical))continue}else if(!N.filter(new Gt(this.tileID.overscaledZ),Le))continue;const ze=u.getId(Le,x),Ge=new We(Le,ee,ne,fe,ze);Ge.tile=Te,i.push(Ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const l=this.expirationTime;if(i.cacheControl){const u=Oe(i.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const u=Date.now();let f=!1;if(this.expirationTime>u)f=!1;else if(l)if(this.expirationTime<l)f=!0;else{const x=this.expirationTime-l;x?this.expirationTime=u+Math.max(x,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0||!l)return;const u=this.latestFeatureIndex.loadVTLayers(),f=l.style.listImages();for(const x in this.buckets){if(!l.style.hasLayer(x))continue;const C=this.buckets[x],N=C.layers[0].sourceLayer||"_geojsonTileLayer",ee=u[N],ne=i[N];if(!ee||!ne||Object.keys(ne).length===0)continue;if(C.update(ne,ee,f,this.imageAtlas&&this.imageAtlas.patternPositions||{}),C instanceof jm||C instanceof Dm){const Te=l.style._getSourceCache(C.layers[0].source);l._terrain&&l._terrain.enabled&&Te&&C.programConfigurations.needsUpload&&l._terrain._clearRenderCacheForTile(Te.id,this.tileID)}const fe=l&&l.style&&l.style.getLayer(x);fe&&(this.queryPadding=Math.max(this.queryPadding,fe.queryRadius(C)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<_n.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=_n.now()+i}setTexture(i,l){const u=l.context,f=u.gl;this.texture=this.texture||l.getTileTexture(i.width),this.texture?this.texture.update(i,{useMipmap:!0}):(this.texture=new h0(u,i,f.RGBA,{useMipmap:!0}),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),u.extTextureFilterAnisotropic&&f.texParameterf(f.TEXTURE_2D,u.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,u.extTextureFilterAnisotropicMax))}setDependencies(i,l){const u={};for(const f of l)u[f]=!0;this.dependencies[i]=u}hasDependency(i,l){for(const u of i){const f=this.dependencies[u];if(f){for(const x of l)if(f[x])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(i,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const u=sd(Bn,this.tileID.canonical,this.tileTransform)[0],f=new Hr,x=new cu;for(let C=0;C<u.length;C++){const{x:N,y:ee}=u[C];f.emplaceBack(N,ee),x.emplaceBack(C)}x.emplaceBack(0),this._tileDebugIndexBuffer=i.createIndexBuffer(x),this._tileDebugBuffer=i.createVertexBuffer(f,r0.members),this._tileDebugSegments=xo.simpleSegment(0,0,f.length,x.length)}_makeTileBoundsBuffers(i,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const u=sd(Bn,this.tileID.canonical,this.tileTransform)[0];let f,x;if(this.isRaster){const C=function(N,ee){const ne=jh(N,ee),fe=Math.pow(2,N.z);for(let tt=0;tt<Et;tt++)for(let yt=0;yt<Et;yt++){const kt=dl((N.x+(yt+Vi(yt))/ot)/fe),gt=xa((N.y+(tt+Vi(tt))/ot)/fe),wt=ee.project(kt,gt),Dt=tt*Et+yt;qt[2*Dt+0]=Math.round((wt.x*ne.scale-ne.x)*On),qt[2*Dt+1]=Math.round((wt.y*ne.scale-ne.y)*On)}Ai.fill(0),Bi.fill(0);for(let tt=2045;tt>=0;tt--){const yt=4*tt,kt=Nt[yt+0],gt=Nt[yt+1],wt=Nt[yt+2],Dt=Nt[yt+3],At=kt+wt>>1,ti=gt+Dt>>1,Qt=At+ti-gt,_i=ti+kt-At,ji=gt*Et+kt,ai=Dt*Et+wt,Ti=ti*Et+At,Ci=Math.hypot((qt[2*ji+0]+qt[2*ai+0])/2-qt[2*Ti+0],(qt[2*ji+1]+qt[2*ai+1])/2-qt[2*Ti+1])>=16;if(Ai[Ti]=Ai[Ti]||(Ci?1:0),tt<1022){const Oi=(gt+_i>>1)*Et+(kt+Qt>>1),Ui=(Dt+_i>>1)*Et+(wt+Qt>>1);Ai[Ti]=Ai[Ti]||Ai[Oi]||Ai[Ui]}}const Te=new es,Ee=new sa;let Le=0;function ze(tt,yt){const kt=yt*Et+tt;return Bi[kt]===0&&(Te.emplaceBack(qt[2*kt+0],qt[2*kt+1],tt*On/ot,yt*On/ot),Bi[kt]=++Le),Bi[kt]-1}function Ge(tt,yt,kt,gt,wt,Dt){const At=tt+kt>>1,ti=yt+gt>>1;if(Math.abs(tt-wt)+Math.abs(yt-Dt)>1&&Ai[ti*Et+At])Ge(wt,Dt,tt,yt,At,ti),Ge(kt,gt,wt,Dt,At,ti);else{const Qt=ze(tt,yt),_i=ze(kt,gt),ji=ze(wt,Dt);Ee.emplaceBack(Qt,_i,ji)}}return Ge(0,0,ot,ot,ot,0),Ge(ot,ot,0,0,0,ot),{vertices:Te,indices:Ee}}(this.tileID.canonical,l);f=C.vertices,x=C.indices}else{f=new es,x=new sa;for(const{x:N,y:ee}of u)f.emplaceBack(N,ee,0,0);const C=Wf.exports(f.int16,void 0,4);for(let N=0;N<C.length;N+=3)x.emplaceBack(C[N],C[N+1],C[N+2])}this._tileBoundsBuffer=i.createVertexBuffer(f,yn.members),this._tileBoundsIndexBuffer=i.createIndexBuffer(x),this._tileBoundsSegments=xo.simpleSegment(0,0,f.length,x.length)}_makeGlobeTileDebugBuffers(i,l){const u=l.projection;if(!u||u.name!=="globe"||l.freezeTileCoverage)return;const f=this.tileID.canonical,x=a0(Bv(f,l)),C=Fh(l.zoom);let N;C>0&&(N=Cm(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(i,f,l,x,N,C),this._makeGlobeTileDebugTextBuffer(i,f,l,x,N,C)}_globePoint(i,l,u,f,x,C,N){let ee=o0(i,l,u);if(C){const ne=1<<u.z,fe=nd(f.center.lng),Te=lc(f.center.lat),Ee=(u.x+.5)/ne-fe;let Le=0;Ee>.5?Le=-1:Ee<-.5&&(Le=1);let ze=(i/On+u.x)/ne+Le,Ge=(l/On+u.y)/ne;ze=(ze-fe)*f._pixelsPerMercatorPixel+fe,Ge=(Ge-Te)*f._pixelsPerMercatorPixel+Te;const tt=[ze*f.worldSize,Ge*f.worldSize,0];uo(tt,tt,C),ee=Nh(ee,tt,N)}return uo(ee,ee,x)}_makeGlobeTileDebugBorderBuffer(i,l,u,f,x,C){const N=new Hr,ee=new cu,ne=new rs,fe=(Ee,Le,ze,Ge,tt)=>{const yt=(ze-Ee)/(tt-1),kt=(Ge-Le)/(tt-1),gt=N.length;for(let wt=0;wt<tt;wt++){const Dt=Ee+wt*yt,At=Le+wt*kt;N.emplaceBack(Dt,At);const ti=this._globePoint(Dt,At,l,u,f,x,C);ne.emplaceBack(ti[0],ti[1],ti[2]),ee.emplaceBack(gt+wt)}},Te=On;fe(0,0,Te,0,16),fe(Te,0,Te,Te,16),fe(Te,Te,0,Te,16),fe(0,Te,0,0,16),this._tileDebugIndexBuffer=i.createIndexBuffer(ee),this._tileDebugBuffer=i.createVertexBuffer(N,r0.members),this._globeTileDebugBorderBuffer=i.createVertexBuffer(ne,ey.members),this._tileDebugSegments=xo.simpleSegment(0,0,N.length,ee.length)}_makeGlobeTileDebugTextBuffer(i,l,u,f,x,C){const N=new Hr,ee=new sa,ne=new rs,fe=25;ee.reserve(32),N.reserve(fe),ne.reserve(fe);const Te=(Ee,Le)=>fe*Ee+Le;for(let Ee=0;Ee<fe;Ee++){const Le=2048*Ee;for(let ze=0;ze<fe;ze++){const Ge=2048*ze;N.emplaceBack(Ge,Le);const tt=this._globePoint(Ge,Le,l,u,f,x,C);ne.emplaceBack(tt[0],tt[1],tt[2])}}for(let Ee=0;Ee<4;Ee++)for(let Le=0;Le<4;Le++){const ze=Te(Ee,Le),Ge=Te(Ee,Le+1),tt=Te(Ee+1,Le),yt=Te(Ee+1,Le+1);ee.emplaceBack(ze,Ge,tt),ee.emplaceBack(tt,Ge,yt)}this._tileDebugTextIndexBuffer=i.createIndexBuffer(ee),this._tileDebugTextBuffer=i.createVertexBuffer(N,r0.members),this._globeTileDebugTextBuffer=i.createVertexBuffer(ne,ey.members),this._tileDebugTextSegments=xo.simpleSegment(0,0,fe,32)}}class Dr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,l,u){const f=String(l);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][f]=this.stateChanges[i][f]||{},K(this.stateChanges[i][f],u),this.deletedStates[i]===null){this.deletedStates[i]={};for(const x in this.state[i])x!==f&&(this.deletedStates[i][x]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][f]===null){this.deletedStates[i][f]={};for(const x in this.state[i][f])u[x]||(this.deletedStates[i][f][x]=null)}else for(const x in u)this.deletedStates[i]&&this.deletedStates[i][f]&&this.deletedStates[i][f][x]===null&&delete this.deletedStates[i][f][x]}removeFeatureState(i,l,u){if(this.deletedStates[i]===null)return;const f=String(l);if(this.deletedStates[i]=this.deletedStates[i]||{},u&&l!==void 0)this.deletedStates[i][f]!==null&&(this.deletedStates[i][f]=this.deletedStates[i][f]||{},this.deletedStates[i][f][u]=null);else if(l!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][f])for(u in this.deletedStates[i][f]={},this.stateChanges[i][f])this.deletedStates[i][f][u]=null;else this.deletedStates[i][f]=null;else this.deletedStates[i]=null}getState(i,l){const u=String(l),f=K({},(this.state[i]||{})[u],(this.stateChanges[i]||{})[u]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const x=this.deletedStates[i][l];if(x===null)return{};for(const C in x)delete f[C]}return f}initializeTileState(i,l){i.setFeatureState(this.state,l)}coalesceChanges(i,l){const u={};for(const f in this.stateChanges){this.state[f]=this.state[f]||{};const x={};for(const C in this.stateChanges[f])this.state[f][C]||(this.state[f][C]={}),K(this.state[f][C],this.stateChanges[f][C]),x[C]=this.state[f][C];u[f]=x}for(const f in this.deletedStates){this.state[f]=this.state[f]||{};const x={};if(this.deletedStates[f]===null)for(const C in this.state[f])x[C]={},this.state[f][C]={};else for(const C in this.deletedStates[f]){if(this.deletedStates[f][C]===null)this.state[f][C]={};else for(const N of Object.keys(this.deletedStates[f][C]))delete this.state[f][C][N];x[C]=this.state[f][C]}u[f]=u[f]||{},K(u[f],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(const f in i)i[f].setFeatureState(u,l)}}class sr{constructor(i){this.size=i,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(i,l){const u=this.toIdx(i,l);return{min:this.minimums[u],max:this.maximums[u]}}isLeaf(i,l){return this.leaves[this.toIdx(i,l)]}toIdx(i,l){return l*this.size+i}}function Vr(a,i,l,u){let f=0,x=Number.MAX_VALUE;for(let C=0;C<3;C++)if(Math.abs(u[C])<1e-15){if(l[C]<a[C]||l[C]>i[C])return null}else{const N=1/u[C];let ee=(a[C]-l[C])*N,ne=(i[C]-l[C])*N;if(ee>ne){const fe=ee;ee=ne,ne=fe}if(ee>f&&(f=ee),ne<x&&(x=ne),f>x)return null}return f}function qr(a,i,l,u,f,x,C,N,ee,ne,fe){const Te=u-a,Ee=f-i,Le=x-l,ze=C-a,Ge=N-i,tt=ee-l,yt=fe[1]*tt-fe[2]*Ge,kt=fe[2]*ze-fe[0]*tt,gt=fe[0]*Ge-fe[1]*ze,wt=Te*yt+Ee*kt+Le*gt;if(Math.abs(wt)<1e-15)return null;const Dt=1/wt,At=ne[0]-a,ti=ne[1]-i,Qt=ne[2]-l,_i=(At*yt+ti*kt+Qt*gt)*Dt;if(_i<0||_i>1)return null;const ji=ti*Le-Qt*Ee,ai=Qt*Te-At*Le,Ti=At*Ee-ti*Te,Ci=(fe[0]*ji+fe[1]*ai+fe[2]*Ti)*Dt;return Ci<0||_i+Ci>1?null:(ze*ji+Ge*ai+tt*Ti)*Dt}function Pl(a,i,l){return(a-i)/(l-i)}function Ja(a,i,l,u,f,x,C,N,ee){const ne=1<<l,fe=x-u,Te=C-f,Ee=(a+1)/ne*fe+u,Le=(i+0)/ne*Te+f,ze=(i+1)/ne*Te+f;N[0]=(a+0)/ne*fe+u,N[1]=Le,ee[0]=Ee,ee[1]=ze}class Dl{constructor(i){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=i,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const l=function(x){const C=Math.ceil(Math.log2(x.dim/8)),N=[];let ee=Math.ceil(Math.pow(2,C));const ne=1/ee,fe=(Le,ze,Ge,tt,yt)=>{const kt=tt?1:0,gt=(Le+1)*Ge-kt,wt=ze*Ge,Dt=(ze+1)*Ge-kt;yt[0]=Le*Ge,yt[1]=wt,yt[2]=gt,yt[3]=Dt};let Te=new sr(ee);const Ee=[];for(let Le=0;Le<ee*ee;Le++){fe(Le%ee,Math.floor(Le/ee),ne,!1,Ee);const ze=wa(Ee[0],Ee[1],x),Ge=wa(Ee[2],Ee[1],x),tt=wa(Ee[2],Ee[3],x),yt=wa(Ee[0],Ee[3],x);Te.minimums.push(Math.min(ze,Ge,tt,yt)),Te.maximums.push(Math.max(ze,Ge,tt,yt)),Te.leaves.push(1)}for(N.push(Te),ee/=2;ee>=1;ee/=2){const Le=N[N.length-1];Te=new sr(ee);for(let ze=0;ze<ee*ee;ze++){fe(ze%ee,Math.floor(ze/ee),2,!0,Ee);const Ge=Le.getElevation(Ee[0],Ee[1]),tt=Le.getElevation(Ee[2],Ee[1]),yt=Le.getElevation(Ee[2],Ee[3]),kt=Le.getElevation(Ee[0],Ee[3]),gt=Le.isLeaf(Ee[0],Ee[1]),wt=Le.isLeaf(Ee[2],Ee[1]),Dt=Le.isLeaf(Ee[2],Ee[3]),At=Le.isLeaf(Ee[0],Ee[3]),ti=Math.min(Ge.min,tt.min,yt.min,kt.min),Qt=Math.max(Ge.max,tt.max,yt.max,kt.max),_i=gt&&wt&&Dt&&At;Te.maximums.push(Qt),Te.minimums.push(ti),Te.leaves.push(Qt-ti<=5&&_i?1:0)}N.push(Te)}return N}(this.dem),u=l.length-1,f=l[u];this._addNode(f.minimums[0],f.maximums[0],f.leaves[0]),this._construct(l,0,0,u,0)}raycastRoot(i,l,u,f,x,C,N=1){return Vr([i,l,-100],[u,f,this.maximums[0]*N],x,C)}raycast(i,l,u,f,x,C,N=1){if(!this.nodeCount)return null;const ee=this.raycastRoot(i,l,u,f,x,C,N);if(ee==null)return null;const ne=[],fe=[],Te=[],Ee=[],Le=[{idx:0,t:ee,nodex:0,nodey:0,depth:0}];for(;Le.length>0;){const{idx:ze,t:Ge,nodex:tt,nodey:yt,depth:kt}=Le.pop();if(this.leaves[ze]){Ja(tt,yt,kt,i,l,u,f,Te,Ee);const wt=1<<kt,Dt=(tt+0)/wt,At=(tt+1)/wt,ti=(yt+0)/wt,Qt=(yt+1)/wt,_i=wa(Dt,ti,this.dem)*N,ji=wa(At,ti,this.dem)*N,ai=wa(At,Qt,this.dem)*N,Ti=wa(Dt,Qt,this.dem)*N,Ci=qr(Te[0],Te[1],_i,Ee[0],Te[1],ji,Ee[0],Ee[1],ai,x,C),Oi=qr(Ee[0],Ee[1],ai,Te[0],Ee[1],Ti,Te[0],Te[1],_i,x,C),Ui=Math.min(Ci!==null?Ci:Number.MAX_VALUE,Oi!==null?Oi:Number.MAX_VALUE);if(Ui!==Number.MAX_VALUE)return Ui;{const ci=Ap([],x,C,Ge);if(Do(_i,ji,Ti,ai,Pl(ci[0],Te[0],Ee[0]),Pl(ci[1],Te[1],Ee[1]))>=ci[2])return Ge}continue}let gt=0;for(let wt=0;wt<this._siblingOffset.length;wt++){Ja((tt<<1)+this._siblingOffset[wt][0],(yt<<1)+this._siblingOffset[wt][1],kt+1,i,l,u,f,Te,Ee),Te[2]=-100,Ee[2]=this.maximums[this.childOffsets[ze]+wt]*N;const Dt=Vr(Te,Ee,x,C);if(Dt!=null){const At=Dt;ne[wt]=At;let ti=!1;for(let Qt=0;Qt<gt&&!ti;Qt++)At>=ne[fe[Qt]]&&(fe.splice(Qt,0,wt),ti=!0);ti||(fe[gt]=wt),gt++}}for(let wt=0;wt<gt;wt++){const Dt=fe[wt];Le.push({idx:this.childOffsets[ze]+Dt,t:ne[Dt],nodex:(tt<<1)+this._siblingOffset[Dt][0],nodey:(yt<<1)+this._siblingOffset[Dt][1],depth:kt+1})}}return null}_addNode(i,l,u){return this.minimums.push(i),this.maximums.push(l),this.leaves.push(u),this.childOffsets.push(0),this.nodeCount++}_construct(i,l,u,f,x){if(i[f].isLeaf(l,u)===1)return;this.childOffsets[x]||(this.childOffsets[x]=this.nodeCount);const C=f-1,N=i[C];let ee=0,ne=0;for(let fe=0;fe<this._siblingOffset.length;fe++){const Te=2*l+this._siblingOffset[fe][0],Ee=2*u+this._siblingOffset[fe][1],Le=N.getElevation(Te,Ee),ze=N.isLeaf(Te,Ee),Ge=this._addNode(Le.min,Le.max,ze);ze&&(ee|=1<<fe),ne||(ne=Ge)}for(let fe=0;fe<this._siblingOffset.length;fe++)ee&1<<fe||this._construct(i,2*l+this._siblingOffset[fe][0],2*u+this._siblingOffset[fe][1],C,ne+fe)}}function Do(a,i,l,u,f,x){return Zn(Zn(a,l,x),Zn(i,u,x),f)}function wa(a,i,l){const u=l.dim,f=g(a*u-.5,0,u-1),x=g(i*u-.5,0,u-1),C=Math.floor(f),N=Math.floor(x),ee=Math.min(C+1,u-1),ne=Math.min(N+1,u-1);return Do(l.get(C,N),l.get(ee,N),l.get(C,ne),l.get(ee,ne),f-C,x-N)}const Gd={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class p0{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(i,l,u,f=!1,x=!1){if(this.uid=i,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return oe(`"${u}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=l.height;const C=this.dim=l.height-2,N=new Uint32Array(l.data.buffer);if(this.pixels=new Uint8Array(l.data.buffer),this.encoding=u||"mapbox",this.borderReady=f,!f){for(let ee=0;ee<C;ee++)N[this._idx(-1,ee)]=N[this._idx(0,ee)],N[this._idx(C,ee)]=N[this._idx(C-1,ee)],N[this._idx(ee,-1)]=N[this._idx(ee,0)],N[this._idx(ee,C)]=N[this._idx(ee,C-1)];N[this._idx(-1,-1)]=N[this._idx(0,0)],N[this._idx(C,-1)]=N[this._idx(C-1,0)],N[this._idx(-1,C)]=N[this._idx(0,C-1)],N[this._idx(C,C)]=N[this._idx(C-1,C-1)],x&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Dl(this)}get(i,l,u=!1){u&&(i=g(i,-1,this.dim),l=g(l,-1,this.dim));const f=4*this._idx(i,l);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[f],this.pixels[f+1],this.pixels[f+2])}static getUnpackVector(i){return Gd[i]}get unpackVector(){return Gd[this.encoding]}_idx(i,l){if(i<-1||i>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(i+1)}_unpackMapbox(i,l,u){return(256*i*256+256*l+u)/10-1e4}_unpackTerrarium(i,l,u){return 256*i+l+u/256-32768}static pack(i,l){const u=[0,0,0,0],f=p0.getUnpackVector(l);let x=Math.floor((i+f[3])/f[2]);return u[2]=x%256,x=Math.floor(x/256),u[1]=x%256,x=Math.floor(x/256),u[0]=x,u}getPixels(){return new Al({width:this.stride,height:this.stride},this.pixels)}backfillBorder(i,l,u){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let f=l*this.dim,x=l*this.dim+this.dim,C=u*this.dim,N=u*this.dim+this.dim;switch(l){case-1:f=x-1;break;case 1:x=f+1}switch(u){case-1:C=N-1;break;case 1:N=C+1}const ee=-l*this.dim,ne=-u*this.dim;for(let fe=C;fe<N;fe++)for(let Te=f;Te<x;Te++){const Ee=4*this._idx(Te,fe),Le=4*this._idx(Te+ee,fe+ne);this.pixels[Ee+0]=i.pixels[Le+0],this.pixels[Ee+1]=i.pixels[Le+1],this.pixels[Ee+2]=i.pixels[Le+2],this.pixels[Ee+3]=i.pixels[Le+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}en(p0,"DEMData"),en(Dl,"DemMinMaxQuadTree",{omit:["dem"]});class J6{constructor(i,l){this.max=i,this.onRemove=l,this.reset()}reset(){for(const i in this.data)for(const l of this.data[i])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(i,l,u){const f=i.wrapped().key;this.data[f]===void 0&&(this.data[f]=[]);const x={value:l,timeout:void 0};if(u!==void 0&&(x.timeout=setTimeout(()=>{this.remove(i,x)},u)),this.data[f].push(x),this.order.push(f),this.order.length>this.max){const C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const l=this.data[i].shift();return l.timeout&&clearTimeout(l.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),l.value}getByKey(i){const l=this.data[i];return l?l[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,l){if(!this.has(i))return this;const u=i.wrapped().key,f=l===void 0?0:this.data[u].indexOf(l),x=this.data[u][f];return this.data[u].splice(f,1),x.timeout&&clearTimeout(x.timeout),this.data[u].length===0&&delete this.data[u],this.onRemove(x.value),this.order.splice(this.order.indexOf(u),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(i){const l=[];for(const u in this.data)for(const f of this.data[u])i(f.value)||l.push(f);for(const u of l)this.remove(u.value.tileID,u)}}class sg{constructor(i,l,u){this.func=i,this.mask=l,this.range=u}}sg.ReadOnly=!1,sg.ReadWrite=!0,sg.disabled=new sg(519,sg.ReadOnly,[0,1]);const Vw=7680;class Gw{constructor(i,l,u,f,x,C){this.test=i,this.ref=l,this.mask=u,this.fail=f,this.depthFail=x,this.pass=C}}Gw.disabled=new Gw({func:519,mask:0},0,0,Vw,Vw,Vw);class Qu{constructor(i,l,u){this.blendFunction=i,this.blendColor=l,this.mask=u}}Qu.Replace=[1,0],Qu.disabled=new Qu(Qu.Replace,As.transparent,[!1,!1,!1,!1]),Qu.unblended=new Qu(Qu.Replace,As.transparent,[!0,!0,!0,!0]),Qu.alphaBlended=new Qu([1,771],As.transparent,[!0,!0,!0,!0]);const Hw=1029,Ww=2305;class _u{constructor(i,l,u){this.enable=i,this.mode=l,this.frontFace=u}}_u.disabled=new _u(!1,Hw,Ww),_u.backCCW=new _u(!0,Hw,Ww),_u.backCW=new _u(!0,Hw,2304),_u.frontCW=new _u(!0,1028,2304),_u.frontCCW=new _u(!0,1028,Ww);class f0 extends go{constructor(i,l,u){super(),this.id=i,this._onlySymbols=u,l.on("data",f=>{f.dataType==="source"&&f.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&f.dataType==="source"&&f.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new J6(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Dr,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(i){this.map=i,this._minTileCacheSize=this._minTileCacheSize===void 0&&i?i._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&i?i._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const i in this._tiles){const l=this._tiles[i];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(i,l){return i.isSymbolTile=this._onlySymbols,this._source.loadTile(i,l)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){if(this._source.abortTile)return this._source.abortTile(i,()=>{})}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const u=this._tiles[l];u.upload(i),u.prepare(this.map.style.imageManager)}}getIds(){return Y(this._tiles).map(i=>i.tileID).sort(H5).map(i=>i.key)}getRenderableIds(i){const l=[];for(const u in this._tiles)this._isIdRenderable(+u,i)&&l.push(this._tiles[u]);return i?l.sort((u,f)=>{const x=u.tileID,C=f.tileID,N=new U(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),ee=new U(C.canonical.x,C.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-C.overscaledZ||ee.y-N.y||ee.x-N.x}).map(u=>u.tileID.key):l.map(u=>u.tileID).sort(H5).map(u=>u.key)}hasRenderableParent(i){const l=this.findLoadedParent(i,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(i,l){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(l||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(+i,"reloading")}}_reloadTile(i,l){const u=this._tiles[i];u&&(u.state!=="loading"&&(u.state=l),this._loadTile(u,this._tileLoaded.bind(this,u,i,l)))}_tileLoaded(i,l,u,f){if(f)if(i.state="errored",f.status!==404)this._source.fire(new $a(f,{tile:i}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const x=this.map.painter.terrain;this.update(this.transform,x.getScaledDemTileSize(),!0),x.resetTileLookupCache(this.id)}else this.update(this.transform);else i.timeAdded=_n.now(),u==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(l,i),this._source.type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),this._source.fire(new Ua("data",{dataType:"source",tile:i,coord:i.tileID,sourceCacheId:this.id}))}_backfillDEM(i){const l=this.getRenderableIds();for(let f=0;f<l.length;f++){const x=l[f];if(i.neighboringTiles&&i.neighboringTiles[x]){const C=this.getTileByID(x);u(i,C),u(C,i)}}function u(f,x){if(!f.dem||f.dem.borderReady)return;f.needsHillshadePrepare=!0,f.needsDEMTextureUpload=!0;let C=x.tileID.canonical.x-f.tileID.canonical.x;const N=x.tileID.canonical.y-f.tileID.canonical.y,ee=Math.pow(2,f.tileID.canonical.z),ne=x.tileID.key;C===0&&N===0||Math.abs(N)>1||(Math.abs(C)>1&&(Math.abs(C+ee)===1?C+=ee:Math.abs(C-ee)===1&&(C-=ee)),x.dem&&f.dem&&(f.dem.backfillBorder(x.dem,C,N),f.neighboringTiles&&f.neighboringTiles[ne]&&(f.neighboringTiles[ne].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,l,u,f){for(const x in this._tiles){let C=this._tiles[x];if(f[x]||!C.hasData()||C.tileID.overscaledZ<=l||C.tileID.overscaledZ>u)continue;let N=C.tileID;for(;C&&C.tileID.overscaledZ>l+1;){const ne=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[ne.key],C&&C.hasData()&&(N=ne)}let ee=N;for(;ee.overscaledZ>l;)if(ee=ee.scaledTo(ee.overscaledZ-1),i[ee.key]){f[N.key]=N;break}}}findLoadedParent(i,l){if(i.key in this._loadedParentTiles){const u=this._loadedParentTiles[i.key];return u&&u.tileID.overscaledZ>=l?u:null}for(let u=i.overscaledZ-1;u>=l;u--){const f=i.scaledTo(u),x=this._getLoadedTile(f);if(x)return x}}_getLoadedTile(i){const l=this._tiles[i.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?i.wrapped().key:i.canonical.key)}updateCacheSize(i,l){l=l||this._source.tileSize;const u=Math.ceil(i.width/l)+1,f=Math.ceil(i.height/l)+1,x=Math.floor(u*f*5),C=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,x):x,N=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,C):C;this._cache.setMaxSize(N)}handleWrapJump(i){const l=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,l){const u={};for(const f in this._tiles){const x=this._tiles[f];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+l),u[x.tileID.key]=x}this._tiles=u;for(const f in this._timers)clearTimeout(this._timers[f]),delete this._timers[f];for(const f in this._tiles)this._setTileReloadTimer(+f,this._tiles[f])}}update(i,l,u){if(this.transform=i,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!u)return;let f;this.updateCacheSize(i,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?f=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(N=>new oa(N.canonical.z,N.wrap,N.canonical.z,N.canonical.x,N.canonical.y)):(f=i.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!u,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(f=f.filter(N=>this._source.hasTile(N)))):f=[];const x=this._updateRetainedTiles(f);if(W5(this._source.type)&&f.length!==0){const N={},ee={},ne=Object.keys(x);for(const Te of ne){const Ee=x[Te],Le=this._tiles[Te];if(!Le||Le.fadeEndTime&&Le.fadeEndTime<=_n.now())continue;const ze=this.findLoadedParent(Ee,Math.max(Ee.overscaledZ-f0.maxOverzooming,this._source.minzoom));ze&&(this._addTile(ze.tileID),N[ze.tileID.key]=ze.tileID),ee[Te]=Ee}const fe=f[f.length-1].overscaledZ;for(const Te in this._tiles){const Ee=this._tiles[Te];if(x[Te]||!Ee.hasData())continue;let Le=Ee.tileID;for(;Le.overscaledZ>fe;){Le=Le.scaledTo(Le.overscaledZ-1);const ze=this._tiles[Le.key];if(ze&&ze.hasData()&&ee[Le.key]){x[Te]=Ee.tileID;break}}}for(const Te in N)x[Te]||(this._coveredTiles[Te]=!0,x[Te]=N[Te])}for(const N in x)this._tiles[N].clearFadeHold();const C=function(N,ee){const ne=[];for(const fe in N)fe in ee||ne.push(fe);return ne}(this._tiles,x);for(const N of C){const ee=this._tiles[N];ee.hasSymbolBuckets&&!ee.holdingForFade()?ee.setHoldDuration(this.map._fadeDuration):ee.hasSymbolBuckets&&!ee.symbolFadeFinished()||this._removeTile(+N)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(+i)}_updateRetainedTiles(i){const l={};if(i.length===0)return l;const u={},f=i.reduce((ne,fe)=>Math.min(ne,fe.overscaledZ),1/0),x=i[0].overscaledZ,C=Math.max(x-f0.maxOverzooming,this._source.minzoom),N=Math.max(x+f0.maxUnderzooming,this._source.minzoom),ee={};for(const ne of i){const fe=this._addTile(ne);l[ne.key]=ne,fe.hasData()||f<this._source.maxzoom&&(ee[ne.key]=ne)}this._retainLoadedChildren(ee,f,N,l);for(const ne of i){let fe=this._tiles[ne.key];if(fe.hasData())continue;if(ne.canonical.z>=this._source.maxzoom){const Ee=ne.children(this._source.maxzoom)[0],Le=this.getTile(Ee);if(Le&&Le.hasData()){l[Ee.key]=Ee;continue}}else{const Ee=ne.children(this._source.maxzoom);if(l[Ee[0].key]&&l[Ee[1].key]&&l[Ee[2].key]&&l[Ee[3].key])continue}let Te=fe.wasRequested();for(let Ee=ne.overscaledZ-1;Ee>=C;--Ee){const Le=ne.scaledTo(Ee);if(u[Le.key]||(u[Le.key]=!0,fe=this.getTile(Le),!fe&&Te&&(fe=this._addTile(Le)),fe&&(l[Le.key]=Le,Te=fe.wasRequested(),fe.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const l=[];let u,f=this._tiles[i].tileID;for(;f.overscaledZ>0;){if(f.key in this._loadedParentTiles){u=this._loadedParentTiles[f.key];break}l.push(f.key);const x=f.scaledTo(f.overscaledZ-1);if(u=this._getLoadedTile(x),u)break;f=x}for(const x of l)this._loadedParentTiles[x]=u}}_addTile(i){let l=this._tiles[i.key];if(l)return l;l=this._cache.getAndRemove(i),l&&(this._setTileReloadTimer(i.key,l),l.tileID=i,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,l)));const u=!!l;if(!u){const f=this.map?this.map.painter:null;l=new nr(i,this._source.tileSize*i.overscaleFactor(),this.transform.tileZoom,f,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,i.key,l.state))}return l?(l.uses++,this._tiles[i.key]=l,u||this._source.fire(new Ua("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(i,l){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const u=l.getExpiryTimeout();u&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},u))}_removeTile(i){const l=this._tiles[i];l&&(l.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),l.uses>0||(l.hasData()&&l.state!=="reloading"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(+i);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(i,l,u){const f=[],x=this.transform;if(!x)return f;const C=x.projection.name==="globe",N=nd(x.center.lng);for(const ee in this._tiles){const ne=this._tiles[ee];if(u&&ne.clearQueryDebugViz(),ne.holdingForFade())continue;let fe;if(C){const Te=ne.tileID.canonical;if(Te.z===0){const Ee=[Math.abs(g(N,...gy(Te,-1))-N),Math.abs(g(N,...gy(Te,1))-N)];fe=[0,2*Ee.indexOf(Math.min(...Ee))-1]}else{const Ee=[Math.abs(g(N,...gy(Te,-1))-N),Math.abs(g(N,...gy(Te,0))-N),Math.abs(g(N,...gy(Te,1))-N)];fe=[Ee.indexOf(Math.min(...Ee))-1]}}else fe=[0];for(const Te of fe){const Ee=i.containsTile(ne,x,l,Te);Ee&&f.push(Ee)}}return f}getVisibleCoordinates(i){const l=this.getRenderableIds(i).map(u=>this._tiles[u].tileID);for(const u of l)u.projMatrix=this.transform.calculateProjMatrix(u.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(W5(this._source.type))for(const i in this._tiles){const l=this._tiles[i];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=_n.now())return!0}return!1}setFeatureState(i,l,u){this._state.updateState(i=i||"_geojsonTileLayer",l,u)}removeFeatureState(i,l,u){this._state.removeFeatureState(i=i||"_geojsonTileLayer",l,u)}getFeatureState(i,l){return this._state.getState(i=i||"_geojsonTileLayer",l)}setDependencies(i,l,u){const f=this._tiles[i];f&&f.setDependencies(l,u)}reloadTilesForDependencies(i,l){for(const u in this._tiles)this._tiles[u].hasDependency(i,l)&&this._reloadTile(+u,"reloading");this._cache.filter(u=>!u.hasDependency(i,l))}_preloadTiles(i,l){const u=new Map,f=Array.isArray(i)?i:[i],x=this.map.painter.terrain,C=this.usedForTerrain&&x?x.getScaledDemTileSize():this._source.tileSize;for(const N of f){const ee=N.coveringTiles({tileSize:C,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const ne of ee)u.set(ne.key,ne);this.usedForTerrain&&N.updateElevation(!1)}X(Array.from(u.values()),(N,ee)=>{const ne=new nr(N,this._source.tileSize*N.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(ne,fe=>{this._source.type==="raster-dem"&&ne.dem&&this._backfillDEM(ne),ee(fe,ne)})},l)}}function H5(a,i){const l=Math.abs(2*a.wrap)-+(a.wrap<0),u=Math.abs(2*i.wrap)-+(i.wrap<0);return a.overscaledZ-i.overscaledZ||u-l||i.canonical.y-a.canonical.y||i.canonical.x-a.canonical.x}function W5(a){return a==="raster"||a==="image"||a==="video"||a==="custom"}function gy(a,i){const l=1<<a.z;return[a.x/l+i,(a.x+1)/l+i]}f0.maxOverzooming=10,f0.maxUnderzooming=3;class Hv{constructor(i,l,u){this._demTile=i,this._dem=this._demTile.dem,this._scale=l,this._offset=u}static create(i,l,u){const f=u||i.findDEMTileFor(l);if(!f||!f.dem)return;const x=f.dem,C=f.tileID,N=1<<l.canonical.z-C.canonical.z;return new Hv(f,f.tileSize/On/N,[(l.canonical.x/N-C.canonical.x)*x.dim,(l.canonical.y/N-C.canonical.y)*x.dim])}tileCoordToPixel(i,l){const u=l*this._scale+this._offset[1],f=Math.floor(i*this._scale+this._offset[0]),x=Math.floor(u);return new U(f,x)}getElevationAt(i,l,u,f){const x=i*this._scale+this._offset[0],C=l*this._scale+this._offset[1],N=Math.floor(x),ee=Math.floor(C),ne=this._dem;return f=!!f,u?Zn(Zn(ne.get(N,ee,f),ne.get(N,ee+1,f),C-ee),Zn(ne.get(N+1,ee,f),ne.get(N+1,ee+1,f),C-ee),x-N):ne.get(N,ee,f)}getElevationAtPixel(i,l,u){return this._dem.get(i,l,!!u)}getMeterToDEM(i){return(1<<this._demTile.tileID.canonical.z)*cc(1,i)*this._dem.stride}}class Y5{constructor(i,l){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new Vu(On,16,0),this.featureIndexArray=new du,this.promoteId=l}insert(i,l,u,f,x,C=0){const N=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,f,x,C);const ee=this.grid;for(let ne=0;ne<l.length;ne++){const fe=l[ne],Te=[1/0,1/0,-1/0,-1/0];for(let Ee=0;Ee<fe.length;Ee++){const Le=fe[Ee];Te[0]=Math.min(Te[0],Le.x),Te[1]=Math.min(Te[1],Le.y),Te[2]=Math.max(Te[2],Le.x),Te[3]=Math.max(Te[3],Le.y)}Te[0]<On&&Te[1]<On&&Te[2]>=0&&Te[3]>=0&&ee.insert(N,Te[0],Te[1],Te[2],Te[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new O1(new t0(this.rawTileData)).layers,this.sourceLayerCoder=new ae(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const i in this.vtLayers)this.vtFeatures[i]=[]}return this.vtLayers}query(i,l,u,f){this.loadVTLayers();const x=i.params||{},C=Fs(x.filter),N=i.tileResult,ee=i.transform,ne=N.bufferedTilespaceBounds,fe=this.grid.query(ne.min.x,ne.min.y,ne.max.x,ne.max.y,(ze,Ge,tt,yt)=>f1(N.bufferedTilespaceGeometry,ze,Ge,tt,yt));fe.sort(Q6);let Te=null;ee.elevation&&fe.length>0&&(Te=Hv.create(ee.elevation,this.tileID));const Ee={};let Le;for(let ze=0;ze<fe.length;ze++){const Ge=fe[ze];if(Ge===Le)continue;Le=Ge;const tt=this.featureIndexArray.get(Ge);let yt=null;this.loadMatchingFeature(Ee,tt,C,x.layers,x.availableImages,l,u,f,(kt,gt,wt,Dt=0)=>(yt||(yt=sd(kt,this.tileID.canonical,i.tileTransform)),gt.queryIntersectsFeature(N,kt,wt,yt,this.z,i.transform,i.pixelPosMatrix,Te,Dt)))}return Ee}loadMatchingFeature(i,l,u,f,x,C,N,ee,ne){const{featureIndex:fe,bucketIndex:Te,sourceLayerIndex:Ee,layoutVertexArrayOffset:Le}=l,ze=this.bucketLayerIDs[Te];if(f&&!function(kt,gt){for(let wt=0;wt<kt.length;wt++)if(gt.indexOf(kt[wt])>=0)return!0;return!1}(f,ze))return;const Ge=this.sourceLayerCoder.decode(Ee),tt=this.vtLayers[Ge].feature(fe);if(u.needGeometry){const kt=Nd(tt,!0);if(!u.filter(new Gt(this.tileID.overscaledZ),kt,this.tileID.canonical))return}else if(!u.filter(new Gt(this.tileID.overscaledZ),tt))return;const yt=this.getId(tt,Ge);for(let kt=0;kt<ze.length;kt++){const gt=ze[kt];if(f&&f.indexOf(gt)<0)continue;const wt=C[gt];if(!wt)continue;let Dt={};yt!==void 0&&ee&&(Dt=ee.getState(wt.sourceLayer||"_geojsonTileLayer",yt));const At=K({},N[gt]);At.paint=q5(At.paint,wt.paint,tt,Dt,x),At.layout=q5(At.layout,wt.layout,tt,Dt,x);const ti=!ne||ne(tt,wt,Dt,Le);if(!ti)continue;const Qt=new We(tt,this.z,this.x,this.y,yt);Qt.layer=At;let _i=i[gt];_i===void 0&&(_i=i[gt]=[]),_i.push({featureIndex:fe,feature:Qt,intersectionZ:ti})}}lookupSymbolFeatures(i,l,u,f,x,C,N,ee){const ne={};this.loadVTLayers();const fe=Fs(x);for(const Te of i)this.loadMatchingFeature(ne,{bucketIndex:u,sourceLayerIndex:f,featureIndex:Te,layoutVertexArrayOffset:0},fe,C,N,ee,l);return ne}loadFeature(i){const{featureIndex:l,sourceLayerIndex:u}=i;this.loadVTLayers();const f=this.sourceLayerCoder.decode(u),x=this.vtFeatures[f];if(x[l])return x[l];const C=this.vtLayers[f].feature(l);return x[l]=C,C}hasLayer(i){for(const l of this.bucketLayerIDs)for(const u of l)if(i===u)return!0;return!1}getId(i,l){let u=i.id;if(this.promoteId){const f=typeof this.promoteId=="string"?this.promoteId:this.promoteId[l];f!=null&&(u=i.properties[f]),typeof u=="boolean"&&(u=Number(u))}return u}}function q5(a,i,l,u,f){return ke(a,(x,C)=>{const N=i instanceof Ni?i.get(C):null;return N&&N.evaluate?N.evaluate(l,u,f):N})}function Q6(a,i){return i-a}en(Y5,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class X5{constructor(i,l){this.width=i,this.height=l,this.nextRow=0,this.image=new fu({width:i,height:l}),this.positions={},this.uploaded=!1}getDash(i,l){const u=this.getKey(i,l);return this.positions[u]}trim(){const i=this.width,l=this.height=F(this.nextRow);this.image.resize({width:i,height:l})}getKey(i,l){return i.join(",")+l}getDashRanges(i,l,u){const f=[];let x=i.length%2==1?-i[i.length-1]*u:0,C=i[0]*u,N=!0;f.push({left:x,right:C,isDash:N,zeroLength:i[0]===0});let ee=i[0];for(let ne=1;ne<i.length;ne++){N=!N;const fe=i[ne];x=ee*u,ee+=fe,C=ee*u,f.push({left:x,right:C,isDash:N,zeroLength:fe===0})}return f}addRoundDash(i,l,u){const f=l/2;for(let x=-u;x<=u;x++){const C=this.width*(this.nextRow+u+x);let N=0,ee=i[N];for(let ne=0;ne<this.width;ne++){ne/ee.right>1&&(ee=i[++N]);const fe=Math.abs(ne-ee.left),Te=Math.abs(ne-ee.right),Ee=Math.min(fe,Te);let Le;const ze=x/u*(f+1);if(ee.isDash){const Ge=f-Math.abs(ze);Le=Math.sqrt(Ee*Ee+Ge*Ge)}else Le=f-Math.sqrt(Ee*Ee+ze*ze);this.image.data[C+ne]=Math.max(0,Math.min(255,Le+128))}}}addRegularDash(i,l){for(let ee=i.length-1;ee>=0;--ee){const ne=i[ee],fe=i[ee+1];ne.zeroLength?i.splice(ee,1):fe&&fe.isDash===ne.isDash&&(fe.left=ne.left,i.splice(ee,1))}const u=i[0],f=i[i.length-1];u.isDash===f.isDash&&(u.left=f.left-this.width,f.right=u.right+this.width);const x=this.width*this.nextRow;let C=0,N=i[C];for(let ee=0;ee<this.width;ee++){ee/N.right>1&&(N=i[++C]);const ne=Math.abs(ee-N.left),fe=Math.abs(ee-N.right),Te=Math.min(ne,fe);this.image.data[x+ee]=Math.max(0,Math.min(255,(N.isDash?Te:-Te)+l+128))}}addDash(i,l){const u=this.getKey(i,l);if(this.positions[u])return this.positions[u];const f=l==="round",x=f?7:0,C=2*x+1;if(this.nextRow+C>this.height)return oe("LineAtlas out of space"),null;i.length===0&&i.push(1);let N=0;for(let fe=0;fe<i.length;fe++)i[fe]<0&&(oe("Negative value is found in line dasharray, replacing values with 0"),i[fe]=0),N+=i[fe];if(N!==0){const fe=this.width/N,Te=this.getDashRanges(i,this.width,fe);f?this.addRoundDash(Te,fe,x):this.addRegularDash(Te,l==="square"?.5*fe:0)}const ee=this.nextRow+x;this.nextRow+=C;const ne={tl:[ee,x],br:[N,0]};return this.positions[u]=ne,ne}}en(X5,"LineAtlas");class Z5{constructor(i){const l={},u=[];for(const N in i){const ee=i[N],ne=l[N]={};for(const fe in ee.glyphs){const Te=ee.glyphs[+fe];if(!Te||Te.bitmap.width===0||Te.bitmap.height===0)continue;const Ee=Te.metrics.localGlyph?2:1,Le={x:0,y:0,w:Te.bitmap.width+2*Ee,h:Te.bitmap.height+2*Ee};u.push(Le),ne[fe]=Le}}const{w:f,h:x}=H1(u),C=new fu({width:f||1,height:x||1});for(const N in i){const ee=i[N];for(const ne in ee.glyphs){const fe=ee.glyphs[+ne];if(!fe||fe.bitmap.width===0||fe.bitmap.height===0)continue;const Te=l[N][ne],Ee=fe.metrics.localGlyph?2:1;fu.copy(fe.bitmap,C,{x:0,y:0},{x:Te.x+Ee,y:Te.y+Ee},fe.bitmap)}}this.image=C,this.positions=l}}en(Z5,"GlyphAtlas");class eP{constructor(i){this.tileID=new oa(i.tileID.overscaledZ,i.tileID.wrap,i.tileID.canonical.z,i.tileID.canonical.x,i.tileID.canonical.y),this.tileZoom=i.tileZoom,this.uid=i.uid,this.zoom=i.zoom,this.canonical=i.tileID.canonical,this.pixelRatio=i.pixelRatio,this.tileSize=i.tileSize,this.source=i.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=i.showCollisionBoxes,this.collectResourceTiming=!!i.collectResourceTiming,this.returnDependencies=!!i.returnDependencies,this.promoteId=i.promoteId,this.enableTerrain=!!i.enableTerrain,this.isSymbolTile=i.isSymbolTile,this.tileTransform=jh(i.tileID.canonical,i.projection),this.projection=i.projection}parse(i,l,u,f,x){this.status="parsing",this.data=i,this.collisionBoxArray=new Kg;const C=new ae(Object.keys(i.layers).sort()),N=new Y5(this.tileID,this.promoteId);N.bucketLayerIDs=[];const ee={},ne=new X5(256,256),fe={featureIndex:N,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:ne,availableImages:u},Te=l.familiesBySource[this.source];for(const Dt in Te){const At=i.layers[Dt];if(!At)continue;let ti=!1,Qt=!1;for(const ai of Te[Dt])ai[0].type==="symbol"?ti=!0:Qt=!0;if(this.isSymbolTile===!0&&!ti||this.isSymbolTile===!1&&!Qt)continue;At.version===1&&oe(`Vector tile source "${this.source}" layer "${Dt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const _i=C.encode(Dt),ji=[];for(let ai=0;ai<At.length;ai++){const Ti=At.feature(ai),Ci=N.getId(Ti,Dt);ji.push({feature:Ti,id:Ci,index:ai,sourceLayerIndex:_i})}for(const ai of Te[Dt]){const Ti=ai[0];this.isSymbolTile!==void 0&&Ti.type==="symbol"!==this.isSymbolTile||Ti.minzoom&&this.zoom<Math.floor(Ti.minzoom)||Ti.maxzoom&&this.zoom>=Ti.maxzoom||Ti.visibility!=="none"&&(Yw(ai,this.zoom,u),(ee[Ti.id]=Ti.createBucket({index:N.bucketLayerIDs.length,layers:ai,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_i,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:u})).populate(ji,fe,this.tileID.canonical,this.tileTransform),N.bucketLayerIDs.push(ai.map(Ci=>Ci.id)))}}let Ee,Le,ze,Ge;ne.trim();const tt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},yt=ke(fe.glyphDependencies,Dt=>Object.keys(Dt).map(Number));Object.keys(yt).length?f.send("getGlyphs",{uid:this.uid,stacks:yt},(Dt,At)=>{Ee||(Ee=Dt,Le=At,wt.call(this))},void 0,!1,tt):Le={};const kt=Object.keys(fe.iconDependencies);kt.length?f.send("getImages",{icons:kt,source:this.source,tileID:this.tileID,type:"icons"},(Dt,At)=>{Ee||(Ee=Dt,ze=At,wt.call(this))},void 0,!1,tt):ze={};const gt=Object.keys(fe.patternDependencies);function wt(){if(Ee)return x(Ee);if(Le&&ze&&Ge){const Dt=new Z5(Le),At=new $d(ze,Ge);for(const ti in ee){const Qt=ee[ti];Qt instanceof Ju?(Yw(Qt.layers,this.zoom,u),bw(Qt,Le,Dt.positions,ze,At.iconPositions,this.showCollisionBoxes,u,this.tileID.canonical,this.tileZoom,this.projection)):Qt.hasPattern&&(Qt instanceof jm||Qt instanceof Dm||Qt instanceof Jf)&&(Yw(Qt.layers,this.zoom,u),Qt.addFeatures(fe,this.tileID.canonical,At.patternPositions,u,this.tileTransform))}this.status="done",x(null,{buckets:Y(ee).filter(ti=>!ti.isEmpty()),featureIndex:N,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Dt.image,lineAtlas:ne,imageAtlas:At,glyphMap:this.returnDependencies?Le:null,iconMap:this.returnDependencies?ze:null,glyphPositions:this.returnDependencies?Dt.positions:null})}}gt.length?f.send("getImages",{icons:gt,source:this.source,tileID:this.tileID,type:"patterns"},(Dt,At)=>{Ee||(Ee=Dt,Ge=At,wt.call(this))},void 0,!1,tt):Ge={},wt.call(this)}}function Yw(a,i,l){const u=new Gt(i);for(const f of a)f.recalculate(u,l)}class K5{constructor(i){this.entries={},this.scheduler=i}request(i,l,u,f){const x=this.entries[i]=this.entries[i]||{callbacks:[]};if(x.result){const[C,N]=x.result;return this.scheduler?this.scheduler.add(()=>{f(C,N)},l):f(C,N),()=>{}}return x.callbacks.push(f),x.cancel||(x.cancel=u((C,N)=>{x.result=[C,N];for(const ee of x.callbacks)this.scheduler?this.scheduler.add(()=>{ee(C,N)},l):ee(C,N);setTimeout(()=>delete this.entries[i],3e3)})),()=>{x.result||(x.callbacks=x.callbacks.filter(C=>C!==f),x.callbacks.length||(x.cancel(),delete this.entries[i]))}}}function J5(a,i,l){const u=JSON.stringify(a.request);return a.data&&(this.deduped.entries[u]={result:[null,a.data]}),this.deduped.request(u,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom},f=>{const x=It(a.request,(C,N,ee,ne)=>{C?f(C):N&&f(null,{vectorTile:l?void 0:new O1(new t0(N)),rawData:N,cacheControl:ee,expires:ne})});return()=>{x.cancel(),f()}},i)}s.ARRAY_TYPE=Ml,s.AUTH_ERR_MSG=di,s.Aabb=Za,s.Actor=class{constructor(a,i,l){this.target=a,this.parent=i,this.mapId=l,this.callbacks={},this.cancelCallbacks={},ce(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Re()?a:v,this.scheduler=new D}send(a,i,l,u,f=!1,x){const C=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(l.metadata=x,this.callbacks[C]=l);const N=st(this.globalScope)?void 0:[];return this.target.postMessage({id:C,type:a,hasCallback:!!l,targetMapId:u,mustQueue:f,sourceMapId:this.mapId,data:Od(i,N)},N),{cancel:()=>{l&&delete this.callbacks[C],this.target.postMessage({id:C,type:"<cancel>",targetMapId:u,sourceMapId:this.mapId})}}}receive(a){const i=a.data,l=i.id;if(l&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const u=this.cancelCallbacks[l];delete this.cancelCallbacks[l],u&&u.cancel()}else if(i.mustQueue||Re()){const u=this.callbacks[l];this.cancelCallbacks[l]=this.scheduler.add(()=>this.processTask(l,i),u&&u.metadata||{type:"message"})}else this.processTask(l,i)}processTask(a,i){if(i.type==="<response>"){const l=this.callbacks[a];delete this.callbacks[a],l&&(i.error?l(wh(i.error)):l(null,wh(i.data)))}else{const l=st(this.globalScope)?void 0:[],u=i.hasCallback?(x,C)=>{delete this.cancelCallbacks[a],this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:x?Od(x):null,data:Od(C,l)},l)}:x=>{},f=wh(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,f,u);else if(this.parent.getWorkerSource){const x=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,x[0],f.source)[x[1]](f,u)}else u(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.CanonicalTileID=Nm,s.Color=As,s.ColorMode=Qu,s.CullFaceMode=_u,s.DEMData=p0,s.DataConstantProperty=Yt,s.DedupedRequest=K5,s.DepthMode=sg,s.EXTENT=On,s.Elevation=class{isDataAvailableAtPoint(a){const i=this._source();if(this.isUsingMockSource()||!i||a.y<0||a.y>1)return!1;const l=i.getSource().maxzoom,u=1<<l,f=Math.floor(a.x),x=Math.floor((a.x-f)*u),C=Math.floor(a.y*u),N=this.findDEMTileFor(new oa(l,f,l,x,C));return!(!N||!N.dem)}getAtPointOrZero(a,i=0){return this.getAtPoint(a,i)||0}getAtPoint(a,i,l=!0){if(this.isUsingMockSource())return null;i==null&&(i=null);const u=this._source();if(!u||a.y<0||a.y>1)return i;const f=u.getSource().maxzoom,x=1<<f,C=Math.floor(a.x),N=a.x-C,ee=new oa(f,C,f,Math.floor(N*x),Math.floor(a.y*x)),ne=this.findDEMTileFor(ee);if(!ne||!ne.dem)return i;const fe=ne.dem,Te=1<<ne.tileID.canonical.z,Ee=(N*Te-ne.tileID.canonical.x)*fe.dim,Le=(a.y*Te-ne.tileID.canonical.y)*fe.dim,ze=Math.floor(Ee),Ge=Math.floor(Le);return(l?this.exaggeration():1)*Zn(Zn(fe.get(ze,Ge),fe.get(ze,Ge+1),Le-Ge),Zn(fe.get(ze+1,Ge),fe.get(ze+1,Ge+1),Le-Ge),Ee-ze)}getAtTileOffset(a,i,l){const u=1<<a.canonical.z;return this.getAtPointOrZero(new Mh(a.wrap+(a.canonical.x+i/On)/u,(a.canonical.y+l/On)/u))}getAtTileOffsetFunc(a,i,l,u){return f=>{const x=this.getAtTileOffset(a,f.x,f.y),C=u.upVector(a.canonical,f.x,f.y);return dc(C,C,x*u.upVectorScale(a.canonical,i,l).metersToTile),C}}getForTilePoints(a,i,l,u){if(this.isUsingMockSource())return!1;const f=Hv.create(this,a,u);return!!f&&(i.forEach(x=>{x[2]=this.exaggeration()*f.getElevationAt(x[0],x[1],l)}),!0)}getMinMaxForTile(a){if(this.isUsingMockSource())return null;const i=this.findDEMTileFor(a);if(!i||!i.dem)return null;const l=i.dem.tree,u=i.tileID,f=1<<a.canonical.z-u.canonical.z;let x=a.canonical.x/f-u.canonical.x,C=a.canonical.y/f-u.canonical.y,N=0;for(let ee=0;ee<a.canonical.z-u.canonical.z&&!l.leaves[N];ee++){x*=2,C*=2;const ne=2*Math.floor(C)+Math.floor(x);N=l.childOffsets[N]+ne,x%=1,C%=1}return{min:this.exaggeration()*l.minimums[N],max:this.exaggeration()*l.maximums[N]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(a,i,l){throw new Error("Pure virtual method called.")}pointCoordinate(a){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(a){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},s.ErrorEvent=$a,s.EvaluationParameters=Gt,s.Event=Ua,s.Evented=go,s.FillExtrusionBucket=Jf,s.Frustum=S1,s.FrustumCorners=T1,s.GLOBE_METERS_TO_ECEF=ty,s.GLOBE_RADIUS=yu,s.GLOBE_SCALE_MATCH_LATITUDE=45,s.GLOBE_ZOOM_THRESHOLD_MAX=6,s.GLOBE_ZOOM_THRESHOLD_MIN=5,s.GlobeSharedBuffers=class{constructor(a){this._createGrid(a),this._createPoles(a)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const a of this._poleSegments)a.destroy();for(const a of this._gridSegments)a.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const a of this._wireframeSegments)a.destroy()}}_createGrid(a){const i=new Hr,l=new sa,u=65;for(let f=0;f<u;f++)for(let x=0;x<u;x++)i.emplaceBack(x,f);this._gridSegments=[];for(let f=0,x=0;f<Fp.length;f++){const C=Fp[f];for(let ee=0;ee<C;ee++)for(let ne=0;ne<64;ne++){const fe=ee*u+ne;l.emplaceBack(fe+1,fe,fe+u),l.emplaceBack(fe+u,fe+u+1,fe+1)}const N=64*C*2;this._gridSegments.push(xo.simpleSegment(0,x,(C+1)*u,N)),x+=N}this._gridBuffer=a.createVertexBuffer(i,r0.members),this._gridIndexBuffer=a.createIndexBuffer(l,!0)}_createPoles(a){const i=new sa;for(let f=0;f<=Np;f++)i.emplaceBack(0,f+1,f+2);this._poleIndexBuffer=a.createIndexBuffer(i,!0);const l=new fr,u=new fr;this._poleSegments=[];for(let f=0,x=0;f<5;f++){const C=360/(1<<f);l.emplaceBack(0,-yu,0,.5,0),u.emplaceBack(0,-yu,0,.5,1);for(let N=0;N<=Np;N++){const ee=N/Np,ne=Zn(0,C,ee),[fe,Te,Ee]=jp(kw,ay,ne,yu);l.emplaceBack(fe,Te,Ee,ee,0),u.emplaceBack(fe,Te,Ee,ee,1)}this._poleSegments.push(xo.simpleSegment(x,0,66,64)),x+=66}this._poleNorthVertexBuffer=a.createVertexBuffer(l,Q1,!1),this._poleSouthVertexBuffer=a.createVertexBuffer(u,Q1,!1)}getGridBuffers(a){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[a]]}getPoleBuffers(a){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[a]]}getWirefameBuffers(a,i){if(!this._wireframeSegments){const l=new Dc,u=Np,f=u+1;this._wireframeSegments=[];for(let x=0,C=0;x<Fp.length;x++){const N=Fp[x];for(let ne=0;ne<N;ne++)for(let fe=0;fe<u;fe++){const Te=ne*f+fe;l.emplaceBack(Te,Te+1),l.emplaceBack(Te,Te+f),l.emplaceBack(Te,Te+f+1)}const ee=N*u*3;this._wireframeSegments.push(xo.simpleSegment(0,C,(N+1)*f,ee)),C+=ee}this._wireframeIndexBuffer=a.createIndexBuffer(l)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[i]]}},s.GlyphManager=To,s.ImagePosition=$m,s.LivePerformanceUtils=Zi,s.LngLat=Ar,s.LngLatBounds=hu,s.LocalGlyphMode=q1,s.MAX_MERCATOR_LATITUDE=ba,s.MercatorCoordinate=Mh,s.ONE_EM=_s,s.OverscaledTileID=oa,s.PerformanceMarkers=xi,s.Properties=Sn,s.RGBAImage=Al,s.Ray=Mm,s.RequestManager=class{constructor(a,i,l){this._transformRequestFn=a,this._customAccessToken=i,this._silenceAuthErrors=!!l,this._createSkuToken()}_createSkuToken(){const a=function(){let i="";for(let l=0;l<10;l++)i+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",S,i].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=a.token,this._skuTokenExpiresAt=a.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(a,i){return this._transformRequestFn&&this._transformRequestFn(a,i)||{url:a}}normalizeStyleURL(a,i){if(!$i(a))return a;const l=Ln(a);return l.path=`/styles/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||i)}normalizeGlyphsURL(a,i){if(!$i(a))return a;const l=Ln(a);return l.path=`/fonts/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||i)}normalizeSourceURL(a,i,l,u){if(!$i(a))return a;const f=Ln(a);return f.path=`/v4/${f.authority}.json`,f.params.push("secure"),l&&f.params.push(`language=${l}`),u&&f.params.push(`worldview=${u}`),this._makeAPIURL(f,this._customAccessToken||i)}normalizeSpriteURL(a,i,l,u){const f=Ln(a);return $i(a)?(f.path=`/styles/v1${f.path}/sprite${i}${l}`,this._makeAPIURL(f,this._customAccessToken||u)):(f.path+=`${i}${l}`,ja(f))}normalizeTileURL(a,i,l){if(this._isSkuTokenExpired()&&this._createSkuToken(),a&&!$i(a))return a;const u=Ln(a);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${i||l&&u.authority!=="raster"&&l===512?"@2x":""}${z.supported?".webp":"$1"}`),u.authority==="raster"?u.path=`/${k.RASTER_URL_PREFIX}${u.path}`:(u.path=u.path.replace(/^.+\/v4\//,"/"),u.path=`/${k.TILE_URL_VERSION}${u.path}`);const f=this._customAccessToken||function(x){for(const C of x){const N=C.match(/^access_token=(.*)$/);if(N)return N[1]}return null}(u.params)||k.ACCESS_TOKEN;return k.REQUIRE_ACCESS_TOKEN&&f&&this._skuToken&&u.params.push(`sku=${this._skuToken}`),this._makeAPIURL(u,f)}canonicalizeTileURL(a,i){const l=Ln(a);if(!l.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!l.path.match(/\.[\w]+$/))return a;let u="mapbox://";l.path.match(/^\/raster\/v1\//)?u+=`raster/${l.path.replace(`/${k.RASTER_URL_PREFIX}/`,"")}`:u+=`tiles/${l.path.replace(`/${k.TILE_URL_VERSION}/`,"")}`;let f=l.params;return i&&(f=f.filter(x=>!x.match(/^access_token=/))),f.length&&(u+=`?${f.join("&")}`),u}canonicalizeTileset(a,i){const l=!!i&&$i(i),u=[];for(const f of a.tiles||[])Wi(f)?u.push(this.canonicalizeTileURL(f,l)):u.push(f);return u}_makeAPIURL(a,i){const l="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",u=Ln(k.API_URL);if(a.protocol=u.protocol,a.authority=u.authority,a.protocol==="http"){const f=a.params.indexOf("secure");f>=0&&a.params.splice(f,1)}if(u.path!=="/"&&(a.path=`${u.path}${a.path}`),!k.REQUIRE_ACCESS_TOKEN)return ja(a);if(i=i||k.ACCESS_TOKEN,!this._silenceAuthErrors){if(!i)throw new Error(`An API access token is required to use Mapbox GL. ${l}`);if(i[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${l}`)}return a.params=a.params.filter(f=>f.indexOf("access_token")===-1),a.params.push(`access_token=${i||""}`),ja(a)}},s.ResourceType=Wt,s.SegmentVector=xo,s.SourceCache=f0,s.StencilMode=Gw,s.StructArrayLayout1ui2=cu,s.StructArrayLayout2f1f2i16=va,s.StructArrayLayout2i4=Hr,s.StructArrayLayout2ui4=Dc,s.StructArrayLayout3f12=oc,s.StructArrayLayout3ui6=sa,s.StructArrayLayout4i8=es,s.StructArrayLayout5f20=fr,s.Texture=h0,s.Tile=nr,s.Transitionable=yi,s.Uniform1f=xp,s.Uniform1i=class extends Bd{constructor(a){super(a),this.current=0}set(a,i,l){this.fetchUniformLocation(a,i)&&this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},s.Uniform2f=class extends Bd{constructor(a){super(a),this.current=[0,0]}set(a,i,l){this.fetchUniformLocation(a,i)&&(l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1])))}},s.Uniform3f=class extends Bd{constructor(a){super(a),this.current=[0,0,0]}set(a,i,l){this.fetchUniformLocation(a,i)&&(l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2])))}},s.Uniform4f=A_,s.UniformColor=P_,s.UniformMatrix2f=class extends Bd{constructor(a){super(a),this.current=I_}set(a,i,l){if(this.fetchUniformLocation(a,i)){for(let u=0;u<4;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix2fv(this.location,!1,l);break}}}},s.UniformMatrix3f=class extends Bd{constructor(a){super(a),this.current=D_}set(a,i,l){if(this.fetchUniformLocation(a,i)){for(let u=0;u<9;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix3fv(this.location,!1,l);break}}}},s.UniformMatrix4f=class extends Bd{constructor(a){super(a),this.current=c2}set(a,i,l){if(this.fetchUniformLocation(a,i)){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let u=1;u<16;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}}},s.UnwrappedTileID=uv,s.ValidationError=nn,s.VectorTileFeature=Om,s.VectorTileWorkerSource=class extends go{constructor(a,i,l,u,f){super(),this.actor=a,this.layerIndex=i,this.availableImages=l,this.loadVectorData=f||J5,this.loading={},this.loaded={},this.deduped=new K5(a.scheduler),this.isSpriteLoaded=u,this.scheduler=a.scheduler}loadTile(a,i){const l=a.uid,u=a&&a.request,f=u&&u.collectResourceTiming,x=this.loading[l]=new eP(a);x.abort=this.loadVectorData(a,(C,N)=>{const ee=!this.loading[l];if(delete this.loading[l],ee||C||!N)return x.status="done",ee||(this.loaded[l]=x),i(C);const ne=N.rawData,fe={};N.expires&&(fe.expires=N.expires),N.cacheControl&&(fe.cacheControl=N.cacheControl),x.vectorTile=N.vectorTile||new O1(new t0(ne));const Te=()=>{x.parse(x.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ee,Le)=>{if(Ee||!Le)return i(Ee);const ze={};if(f){const Ge=Cn(u);Ge.length>0&&(ze.resourceTiming=JSON.parse(JSON.stringify(Ge)))}i(null,K({rawTileData:ne.slice(0)},Le,fe,ze))})};this.isSpriteLoaded?Te():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Te,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom}):Te()}),this.loaded=this.loaded||{},this.loaded[l]=x})}reloadTile(a,i){const l=this.loaded,u=a.uid,f=this;if(l&&l[u]){const x=l[u];x.showCollisionBoxes=a.showCollisionBoxes,x.enableTerrain=!!a.enableTerrain,x.projection=a.projection,x.tileTransform=jh(a.tileID.canonical,a.projection);const C=(N,ee)=>{const ne=x.reloadCallback;ne&&(delete x.reloadCallback,x.parse(x.vectorTile,f.layerIndex,this.availableImages,f.actor,ne)),i(N,ee)};x.status==="parsing"?x.reloadCallback=C:x.status==="done"&&(x.vectorTile?x.parse(x.vectorTile,this.layerIndex,this.availableImages,this.actor,C):C())}}abortTile(a,i){const l=a.uid,u=this.loading[l];u&&(u.abort&&u.abort(),delete this.loading[l]),i()}removeTile(a,i){const l=this.loaded,u=a.uid;l&&l[u]&&delete l[u],i()}},s.WritingMode=Qn,s.add=jd,s.addDynamicAttributes=ng,s.adjoint=function(a,i){var l=i[0],u=i[1],f=i[2],x=i[3],C=i[4],N=i[5],ee=i[6],ne=i[7],fe=i[8];return a[0]=C*fe-N*ne,a[1]=f*ne-u*fe,a[2]=u*N-f*C,a[3]=N*ee-x*fe,a[4]=l*fe-f*ee,a[5]=f*x-l*N,a[6]=x*ne-C*ee,a[7]=u*ee-l*ne,a[8]=l*C-u*x,a},s.asyncAll=X,s.bezier=I,s.bindAll=ce,s.boundsAttributes=yn,s.bufferConvexPolygon=function(a,i){const l=[];for(let u=0;u<a.length;u++){const f=A(u-1,-1,a.length-1),x=A(u+1,-1,a.length-1),C=a[u],N=a[x],ee=a[f].sub(C).unit(),ne=N.sub(C).unit(),fe=ne.angleWithSep(ee.x,ee.y),Te=ee.add(ne).unit().mult(-1*i/Math.sin(fe/2));l.push(C.add(Te))}return l},s.cacheEntryPossiblyAdded=function(a){gi++,gi>Ke&&(a.getActor().send("enforceCacheSizeLimit",Xe),gi=0)},s.calculateGlobeLabelMatrix=function(a,i){const{x:l,y:u}=a.point,f=Jm(l,u,a.worldSize/a._pixelsPerMercatorPixel,0,0);return Ph(f,f,ry(Vd(i)))},s.calculateGlobeMatrix=function(a){const{x:i,y:l}=a.point,{lng:u,lat:f}=a._center;return Jm(i,l,a.worldSize,u,f)},s.calculateGlobeMercatorMatrix=function(a){const i=a.pixelsPerMeter,l=i/cc(1,a.center.lat),u=Ic(new Float64Array(16));return $f(u,u,[a.point.x,a.point.y,0]),Dh(u,u,[l,l,i]),Float32Array.from(u)},s.circumferenceAtLatitude=r1,s.clamp=g,s.clearTileCache=function(a){if(!pt())return;const i=v.caches.delete(xe);a&&i.catch(a).then(()=>a())},s.clipLine=kv,s.clone=function(a){var i=new Ml(16);return i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=a[3],i[4]=a[4],i[5]=a[5],i[6]=a[6],i[7]=a[7],i[8]=a[8],i[9]=a[9],i[10]=a[10],i[11]=a[11],i[12]=a[12],i[13]=a[13],i[14]=a[14],i[15]=a[15],i},s.clone$1=ve,s.collisionCircleLayout=nw,s.config=k,s.conjugate=function(a,i){return a[0]=-i[0],a[1]=-i[1],a[2]=-i[2],a[3]=i[3],a},s.create=function(){var a=new Ml(16);return Ml!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},s.create$1=N_,s.createExpression=Ei,s.createLayout=ln,s.createStyleLayer=function(a){return a.type==="custom"?new jw(a):new $w[a.type](a)},s.cross=x1,s.degToRad=$,s.distance=function(a,i){return Math.hypot(i[0]-a[0],i[1]-a[1],i[2]-a[2])},s.div=function(a,i,l){return a[0]=i[0]/l[0],a[1]=i[1]/l[1],a[2]=i[2]/l[2],a},s.dot=Lc,s.earthRadius=Eh,s.ease=m,s.easeCubicInOut=w,s.ecefToLatLng=function([a,i,l]){const u=Math.hypot(a,i,l),f=Math.atan2(a,l),x=.5*Math.PI-Math.acos(-i/u);return new Ar(V(f),V(x))},s.emitValidationErrors=om,s.endsWith=ge,s.enforceCacheSizeLimit=function(a){Tt(),Ie&&Ie.then(i=>{i.keys().then(l=>{for(let u=0;u<l.length-a;u++)i.delete(l[u])})})},s.evaluateSizeForFeature=cd,s.evaluateSizeForZoom=Op,s.evaluateVariableOffset=Z1,s.evented=St,s.exactEquals=function(a,i){return a[0]===i[0]&&a[1]===i[1]&&a[2]===i[2]&&a[3]===i[3]},s.exactEquals$1=function(a,i){return a[0]===i[0]&&a[1]===i[1]&&a[2]===i[2]},s.exported=_n,s.exported$1=z,s.extend=K,s.extend$1=ps,s.fillExtrusionHeightLift=z1,s.filterObject=re,s.fromMat4=function(a,i){return a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[4],a[4]=i[5],a[5]=i[6],a[6]=i[8],a[7]=i[9],a[8]=i[10],a},s.fromQuat=function(a,i){var l=i[0],u=i[1],f=i[2],x=i[3],C=l+l,N=u+u,ee=f+f,ne=l*C,fe=u*C,Te=u*N,Ee=f*C,Le=f*N,ze=f*ee,Ge=x*C,tt=x*N,yt=x*ee;return a[0]=1-Te-ze,a[1]=fe+yt,a[2]=Ee-tt,a[3]=0,a[4]=fe-yt,a[5]=1-ne-ze,a[6]=Le+Ge,a[7]=0,a[8]=Ee+tt,a[9]=Le-Ge,a[10]=1-ne-Te,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},s.fromRotation=function(a,i){var l=Math.sin(i),u=Math.cos(i);return a[0]=u,a[1]=l,a[2]=0,a[3]=-l,a[4]=u,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},s.fromScaling=y1,s.furthestTileCorner=function(a){const i=Math.round((a+45+360)%360/90)%4;return j[i]},s.getAABBPointSquareDist=function(a,i,l){let u=0;for(let f=0;f<2;++f){const x=l?l[f]:0;a[f]>x&&(u+=(a[f]-x)*(a[f]-x)),i[f]<x&&(u+=(x-i[f])*(x-i[f]))}return u},s.getAnchorAlignment=Y1,s.getAnchorJustification=K1,s.getBounds=function(a){let i=1/0,l=1/0,u=-1/0,f=-1/0;for(const x of a)i=Math.min(i,x.x),l=Math.min(l,x.y),u=Math.max(u,x.x),f=Math.max(f,x.y);return{min:new U(i,l),max:new U(u,f)}},s.getColumn=qe,s.getGridMatrix=function(a,i,l,u){const f=i.getNorth(),x=i.getSouth(),C=i.getWest(),N=i.getEast(),ee=1<<a.z,ne=N-C,fe=f-x,Te=ne/Np,Ee=-fe/Fp[l],Le=[0,Te,0,Ee,0,0,f,C,0];if(a.z>0){const ze=180/u;Ep(Le,Le,[ze/ne+1,0,0,0,ze/fe+1,0,-.5*ze/Te,.5*ze/Ee,1])}return Le[2]=ee,Le[5]=a.x,Le[8]=a.y,Le},s.getImage=Kr,s.getJSON=function(a,i){return ht(K(a,{type:"json"}),i)},s.getLatitudinalLod=function(a){const i=80.051129;a=g(a,-80.051129,i)/i*90;const l=Math.pow(Math.abs(Math.sin($(a))),3);return Math.round(l*(Fp.length-1))},s.getMapSessionAPI=zt,s.getPerformanceMeasurement=Cn,s.getProjection=Vv,s.getRTLTextPluginStatus=jt,s.getReferrer=Gi,s.getTilePoint=function(a,{x:i,y:l},u=0){return new U(((i-u)*a.scale-a.x)*On,(l*a.scale-a.y)*On)},s.getTileVec3=function(a,i,l=0){return Lh(((i.x-l)*a.scale-a.x)*On,(i.y*a.scale-a.y)*On,s1(i.z,i.y))},s.getVideo=function(a,i){const l=v.document.createElement("video");l.muted=!0,l.onloadstart=function(){i(null,l)};for(let u=0;u<a.length;u++){const f=v.document.createElement("source");ei(a[u])||(l.crossOrigin="Anonymous"),f.src=a[u],l.appendChild(f)}return{cancel:()=>{}}},s.globeCenterToScreenPoint=function(a){const i=[0,0,0],l=Ic(new Float64Array(16));return Ph(l,a.pixelMatrix,a.globeMatrix),uo(i,i,l),new U(i[0],i[1])},s.globeDenormalizeECEF=ry,s.globeECEFOrigin=function(a,i){const l=[0,0,0];return uo(l,l,a0(Vd(i.canonical))),uo(l,l,a),l},s.globeNormalizeECEF=a0,s.globePixelsToTileUnits=function(a,i){return On/(512*Math.pow(2,a))*Km(Vd(i))},s.globePoleMatrixForTile=function(a,i,l){const u=Ic(new Float64Array(16)),f=(i/(1<<a)-.5)*Math.PI*2;return Vf(u,l.globeMatrix,f),Float32Array.from(u)},s.globeTileBounds=Vd,s.globeTiltAtLngLat=sy,s.globeToMercatorTransition=Fh,s.globeUseCustomAntiAliasing=function(a,i,l){const u=Fh(l.zoom),f=a.style.map._antialias,x=!!i.extStandardDerivatives,C=i.extStandardDerivativesForceOff||a.terrain&&a.terrain.exaggeration()>0;return u===0&&!f&&!C&&x},s.identity=Ic,s.identity$1=w1,s.invert=Cm,s.isFullscreen=function(){return!!v.document.fullscreenElement||!!v.document.webkitFullscreenElement},s.isLngLatBehindGlobe=oy,s.isMapAuthenticated=function(a){return Zt.has(a)},s.isMapboxURL=$i,s.isSafariWithAntialiasingBug=function(a){const i=a.navigator?a.navigator.userAgent:null;return!!st(a)&&i&&(i.match("Version/15.4")||i.match("Version/15.5")||i.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},s.latFromMercatorY=xa,s.latLngToECEF=s0,s.len=g2,s.length=Ih,s.length$1=function(a){return Math.hypot(a[0],a[1],a[2],a[3])},s.lngFromMercatorX=dl,s.loadVectorTile=J5,s.makeRequest=ht,s.mapValue=function(a,i,l,u,f){return g((a-i)/(l-i)*(f-u)+u,u,f)},s.mercatorScale=o1,s.mercatorXfromLng=nd,s.mercatorYfromLat=lc,s.mercatorZfromAltitude=cc,s.mul=_1,s.mul$1=m2,s.multiply=Ph,s.multiply$1=Ep,s.multiply$2=v1,s.nextPowerOfTwo=F,s.normalize=Xa,s.normalize$1=y2,s.normalize$2=$_,s.number=Zn,s.ortho=function(a,i,l,u,f,x,C){var N=1/(i-l),ee=1/(u-f),ne=1/(x-C);return a[0]=-2*N,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*ee,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*ne,a[11]=0,a[12]=(i+l)*N,a[13]=(f+u)*ee,a[14]=(C+x)*ne,a[15]=1,a},s.pbf=t0,s.perspective=function(a,i,l,u,f){var x,C=1/Math.tan(i/2);return a[0]=C/l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=C,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,f!=null&&f!==1/0?(a[10]=(f+u)*(x=1/(u-f)),a[14]=2*f*u*x):(a[10]=-1,a[14]=-2*u),a},s.pick=function(a,i){const l={};for(let u=0;u<i.length;u++){const f=i[u];f in a&&(l[f]=a[f])}return l},s.plugin=Jt,s.pointGeometry=U,s.polesInViewport=function(a){const i=Ic(new Float64Array(16));Ph(i,a.pixelMatrix,a.globeMatrix);const l=[0,Rc,0],u=[0,Bc,0];return uo(l,l,i),uo(u,u,i),[l[0]>0&&l[0]<=a.width&&l[1]>0&&l[1]<=a.height&&!oy(a,new Ar(a.center.lat,90)),u[0]>0&&u[0]<=a.width&&u[1]>0&&u[1]<=a.height&&!oy(a,new Ar(a.center.lat,-90))]},s.polygonContainsPoint=Ah,s.polygonIntersectsBox=f1,s.polygonIntersectsPolygon=wm,s.polygonizeBounds=function(a,i,l=0,u=!0){const f=new U(l,l),x=a.sub(f),C=i.add(f),N=[x,new U(C.x,x.y),C,new U(x.x,C.y)];return u&&N.push(x.clone()),N},s.posAttributes=r0,s.postMapLoadEvent=_t,s.postPerformanceEvent=Ut,s.postTurnstileEvent=He,s.potpack=H1,s.prevPowerOfTwo=function(a){return a<=1?1:Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},s.radToDeg=V,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.registerForPluginStateChange=function(a){return a({pluginStatus:mt,pluginURL:ct}),St.on("pluginStateChange",a),a},s.removeAuthState=function(a){Zt.delete(a)},s.renderColorRamp=Hf,s.resample=l1,s.rotateX=g1,s.rotateX$1=V_,s.rotateY=Vf,s.rotateY$1=G_,s.rotateZ=function(a,i,l){var u=Math.sin(l),f=Math.cos(l),x=i[0],C=i[1],N=i[2],ee=i[3],ne=i[4],fe=i[5],Te=i[6],Ee=i[7];return i!==a&&(a[8]=i[8],a[9]=i[9],a[10]=i[10],a[11]=i[11],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[0]=x*f+ne*u,a[1]=C*f+fe*u,a[2]=N*f+Te*u,a[3]=ee*f+Ee*u,a[4]=ne*f-x*u,a[5]=fe*f-C*u,a[6]=Te*f-N*u,a[7]=Ee*f-ee*u,a},s.rotateZ$1=function(a,i,l){l*=.5;var u=i[0],f=i[1],x=i[2],C=i[3],N=Math.sin(l),ee=Math.cos(l);return a[0]=u*ee+f*N,a[1]=f*ee-u*N,a[2]=x*ee+C*N,a[3]=C*ee-x*N,a},s.scale=Dh,s.scale$1=U_,s.scale$2=dc,s.scaleAndAdd=Ap,s.set=function(a,i,l,u){return a[0]=i,a[1]=l,a[2]=u,a},s.setCacheLimits=function(a,i){Xe=a,Ke=i},s.setColumn=function(a,i,l){a[4*i+0]=l[0],a[4*i+1]=l[1],a[4*i+2]=l[2],a[4*i+3]=l[3]},s.setRTLTextPlugin=function(a,i,l=!1){if(mt===lt||mt===ut||mt===et)throw new Error("setRTLTextPlugin cannot be called multiple times.");ct=_n.resolveURL(a),mt=lt,nt=i,Pt(),l||ii()},s.smoothstep=b,s.spec=fi,s.squaredLength=function(a){var i=a[0],l=a[1],u=a[2];return i*i+l*l+u*u},s.storeAuthState=function(a,i){i?Zt.add(a):Zt.delete(a)},s.sub=ad,s.subtract=kp,s.symbolSize=rw,s.tileAABB=function(a,i,l,u,f,x,C,N,ee){if(ee.name==="globe")return Mw(a,i,new Nm(l,u,f));const ne=jh({z:l,x:u,y:f},ee);return new Za([(x+ne.x/ne.scale)*i,i*(ne.y/ne.scale),C],[(x+ne.x2/ne.scale)*i,i*(ne.y2/ne.scale),N])},s.tileCornersToBounds=Zm,s.tileTransform=jh,s.transformMat3=function(a,i,l){var u=i[0],f=i[1],x=i[2];return a[0]=u*l[0]+f*l[3]+x*l[6],a[1]=u*l[1]+f*l[4]+x*l[7],a[2]=u*l[2]+f*l[5]+x*l[8],a},s.transformMat4=uo,s.transformMat4$1=qu,s.transformQuat=j_,s.transitionTileAABBinECEF=Bv,s.translate=$f,s.transpose=function(a,i){if(a===i){var l=i[1],u=i[2],f=i[5];a[1]=i[3],a[2]=i[6],a[3]=l,a[5]=i[7],a[6]=u,a[7]=f}else a[0]=i[0],a[1]=i[3],a[2]=i[6],a[3]=i[1],a[4]=i[4],a[5]=i[7],a[6]=i[2],a[7]=i[5],a[8]=i[8];return a},s.triggerPluginCompletionEvent=xt,s.uniqueId=he,s.updateGlobeVertexNormal=function(a,i,l,u,f){const x=5*i+2;a.float32[x+0]=l,a.float32[x+1]=u,a.float32[x+2]=f},s.validateCustomStyleLayer=function(a){const i=[],l=a.id;return l===void 0&&i.push({message:`layers.${l}: missing required property "id"`}),a.render===void 0&&i.push({message:`layers.${l}: missing required method "render"`}),a.renderingMode&&a.renderingMode!=="2d"&&a.renderingMode!=="3d"&&i.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),i},s.validateFilter=a=>td(Ld(a)),s.validateFog=a=>td(bh(a)),s.validateLayer=a=>td(gp(a)),s.validateLight=a=>td(it(a)),s.validateSource=a=>td($u(a)),s.validateStyle=Pf,s.validateTerrain=a=>td(ed(a)),s.values=Y,s.vectorTile=Im,s.version=R,s.warnOnce=oe,s.window=v,s.wrap=A}),d(["./shared"],function(s){function v(ft){if(typeof ft=="number"||typeof ft=="boolean"||typeof ft=="string"||ft==null)return JSON.stringify(ft);if(Array.isArray(ft)){let He="[";for(const dt of ft)He+=`${v(dt)},`;return`${He}]`}let Ne="{";for(const He of Object.keys(ft).sort())Ne+=`${He}:${v(ft[He])},`;return`${Ne}}`}function R(ft){let Ne="";for(const He of s.refProperties)Ne+=`/${v(ft[He])}`;return Ne}class J{constructor(Ne){this.keyCache={},Ne&&this.replace(Ne)}replace(Ne){this._layerConfigs={},this._layers={},this.update(Ne,[])}update(Ne,He){for(const _t of Ne)this._layerConfigs[_t.id]=_t,(this._layers[_t.id]=s.createStyleLayer(_t)).compileFilter(),this.keyCache[_t.id]&&delete this.keyCache[_t.id];for(const _t of He)delete this.keyCache[_t],delete this._layerConfigs[_t],delete this._layers[_t];this.familiesBySource={};const dt=function(_t,Ot){const Ut={};for(let zt=0;zt<_t.length;zt++){const Zt=Ot&&Ot[_t[zt].id]||R(_t[zt]);Ot&&(Ot[_t[zt].id]=Zt);let xi=Ut[Zt];xi||(xi=Ut[Zt]=[]),xi.push(_t[zt])}const Ht=[];for(const zt in Ut)Ht.push(Ut[zt]);return Ht}(s.values(this._layerConfigs),this.keyCache);for(const _t of dt){const Ot=_t.map(Zi=>this._layers[Zi.id]),Ut=Ot[0];if(Ut.visibility==="none")continue;const Ht=Ut.source||"";let zt=this.familiesBySource[Ht];zt||(zt=this.familiesBySource[Ht]={});const Zt=Ut.sourceLayer||"_geojsonTileLayer";let xi=zt[Zt];xi||(xi=zt[Zt]=[]),xi.push(Ot)}}}class k{loadTile(Ne,He){const{uid:dt,encoding:_t,rawImageData:Ot,padding:Ut,buildQuadTree:Ht}=Ne,zt=s.window.ImageBitmap&&Ot instanceof s.window.ImageBitmap?this.getImageData(Ot,Ut):Ot;He(null,new s.DEMData(dt,zt,_t,Ut<1,Ht))}getImageData(Ne,He){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ne.width,Ne.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Ne.width,this.offscreenCanvas.height=Ne.height,this.offscreenCanvasContext.drawImage(Ne,0,0,Ne.width,Ne.height);const dt=this.offscreenCanvasContext.getImageData(-He,-He,Ne.width+2*He,Ne.height+2*He);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),dt}}var z=function ft(Ne,He){var dt,_t=Ne&&Ne.type;if(_t==="FeatureCollection")for(dt=0;dt<Ne.features.length;dt++)ft(Ne.features[dt],He);else if(_t==="GeometryCollection")for(dt=0;dt<Ne.geometries.length;dt++)ft(Ne.geometries[dt],He);else if(_t==="Feature")ft(Ne.geometry,He);else if(_t==="Polygon")q(Ne.coordinates,He);else if(_t==="MultiPolygon")for(dt=0;dt<Ne.coordinates.length;dt++)q(Ne.coordinates[dt],He);return Ne};function q(ft,Ne){if(ft.length!==0){L(ft[0],Ne);for(var He=1;He<ft.length;He++)L(ft[He],!Ne)}}function L(ft,Ne){for(var He=0,dt=0,_t=0,Ot=ft.length,Ut=Ot-1;_t<Ot;Ut=_t++){var Ht=(ft[_t][0]-ft[Ut][0])*(ft[Ut][1]+ft[_t][1]),zt=He+Ht;dt+=Math.abs(He)>=Math.abs(Ht)?He-zt+Ht:Ht-zt+He,He=zt}He+dt>=0!=!!Ne&&ft.reverse()}const O=s.VectorTileFeature.prototype.toGeoJSON;class G{constructor(Ne){this._feature=Ne,this.extent=s.EXTENT,this.type=Ne.type,this.properties=Ne.tags,"id"in Ne&&!isNaN(Ne.id)&&(this.id=parseInt(Ne.id,10))}loadGeometry(){if(this._feature.type===1){const Ne=[];for(const He of this._feature.geometry)Ne.push([new s.pointGeometry(He[0],He[1])]);return Ne}{const Ne=[];for(const He of this._feature.geometry){const dt=[];for(const _t of He)dt.push(new s.pointGeometry(_t[0],_t[1]));Ne.push(dt)}return Ne}}toGeoJSON(Ne,He,dt){return O.call(this,Ne,He,dt)}}class M{constructor(Ne){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=Ne.length,this._features=Ne}feature(Ne){return new G(this._features[Ne])}}var S={exports:{}},P=s.pointGeometry,H=s.vectorTile.VectorTileFeature,U=E;function E(ft,Ne){this.options=Ne||{},this.features=ft,this.length=ft.length}function ie(ft,Ne){this.id=typeof ft.id=="number"?ft.id:void 0,this.type=ft.type,this.rawGeometry=ft.type===1?[ft.geometry]:ft.geometry,this.properties=ft.tags,this.extent=Ne||4096}E.prototype.feature=function(ft){return new ie(this.features[ft],this.options.extent)},ie.prototype.loadGeometry=function(){var ft=this.rawGeometry;this.geometry=[];for(var Ne=0;Ne<ft.length;Ne++){for(var He=ft[Ne],dt=[],_t=0;_t<He.length;_t++)dt.push(new P(He[_t][0],He[_t][1]));this.geometry.push(dt)}return this.geometry},ie.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ft=this.geometry,Ne=1/0,He=-1/0,dt=1/0,_t=-1/0,Ot=0;Ot<ft.length;Ot++)for(var Ut=ft[Ot],Ht=0;Ht<Ut.length;Ht++){var zt=Ut[Ht];Ne=Math.min(Ne,zt.x),He=Math.max(He,zt.x),dt=Math.min(dt,zt.y),_t=Math.max(_t,zt.y)}return[Ne,dt,He,_t]},ie.prototype.toGeoJSON=H.prototype.toGeoJSON;var te=s.pbf,$=U;function V(ft){var Ne=new te;return function(He,dt){for(var _t in He.layers)dt.writeMessage(3,j,He.layers[_t])}(ft,Ne),Ne.finish()}function j(ft,Ne){var He;Ne.writeVarintField(15,ft.version||1),Ne.writeStringField(1,ft.name||""),Ne.writeVarintField(5,ft.extent||4096);var dt={keys:[],values:[],keycache:{},valuecache:{}};for(He=0;He<ft.length;He++)dt.feature=ft.feature(He),Ne.writeMessage(2,w,dt);var _t=dt.keys;for(He=0;He<_t.length;He++)Ne.writeStringField(3,_t[He]);var Ot=dt.values;for(He=0;He<Ot.length;He++)Ne.writeMessage(4,A,Ot[He])}function w(ft,Ne){var He=ft.feature;He.id!==void 0&&Ne.writeVarintField(1,He.id),Ne.writeMessage(2,I,ft),Ne.writeVarintField(3,He.type),Ne.writeMessage(4,b,He)}function I(ft,Ne){var He=ft.feature,dt=ft.keys,_t=ft.values,Ot=ft.keycache,Ut=ft.valuecache;for(var Ht in He.properties){var zt=He.properties[Ht],Zt=Ot[Ht];if(zt!==null){Zt===void 0&&(dt.push(Ht),Ot[Ht]=Zt=dt.length-1),Ne.writeVarint(Zt);var xi=typeof zt;xi!=="string"&&xi!=="boolean"&&xi!=="number"&&(zt=JSON.stringify(zt));var Zi=xi+":"+zt,Di=Ut[Zi];Di===void 0&&(_t.push(zt),Ut[Zi]=Di=_t.length-1),Ne.writeVarint(Di)}}}function m(ft,Ne){return(Ne<<3)+(7&ft)}function g(ft){return ft<<1^ft>>31}function b(ft,Ne){for(var He=ft.loadGeometry(),dt=ft.type,_t=0,Ot=0,Ut=He.length,Ht=0;Ht<Ut;Ht++){var zt=He[Ht],Zt=1;dt===1&&(Zt=zt.length),Ne.writeVarint(m(1,Zt));for(var xi=dt===3?zt.length-1:zt.length,Zi=0;Zi<xi;Zi++){Zi===1&&dt!==1&&Ne.writeVarint(m(2,xi-1));var Di=zt[Zi].x-_t,Mn=zt[Zi].y-Ot;Ne.writeVarint(g(Di)),Ne.writeVarint(g(Mn)),_t+=Di,Ot+=Mn}dt===3&&Ne.writeVarint(m(7,1))}}function A(ft,Ne){var He=typeof ft;He==="string"?Ne.writeStringField(1,ft):He==="boolean"?Ne.writeBooleanField(7,ft):He==="number"&&(ft%1!=0?Ne.writeDoubleField(3,ft):ft<0?Ne.writeSVarintField(6,ft):Ne.writeVarintField(5,ft))}function X(ft,Ne,He,dt,_t,Ot){if(_t-dt<=He)return;const Ut=dt+_t>>1;Y(ft,Ne,Ut,dt,_t,Ot%2),X(ft,Ne,He,dt,Ut-1,Ot+1),X(ft,Ne,He,Ut+1,_t,Ot+1)}function Y(ft,Ne,He,dt,_t,Ot){for(;_t>dt;){if(_t-dt>600){const Zt=_t-dt+1,xi=He-dt+1,Zi=Math.log(Zt),Di=.5*Math.exp(2*Zi/3),Mn=.5*Math.sqrt(Zi*Di*(Zt-Di)/Zt)*(xi-Zt/2<0?-1:1);Y(ft,Ne,He,Math.max(dt,Math.floor(He-xi*Di/Zt+Mn)),Math.min(_t,Math.floor(He+(Zt-xi)*Di/Zt+Mn)),Ot)}const Ut=Ne[2*He+Ot];let Ht=dt,zt=_t;for(K(ft,Ne,dt,He),Ne[2*_t+Ot]>Ut&&K(ft,Ne,dt,_t);Ht<zt;){for(K(ft,Ne,Ht,zt),Ht++,zt--;Ne[2*Ht+Ot]<Ut;)Ht++;for(;Ne[2*zt+Ot]>Ut;)zt--}Ne[2*dt+Ot]===Ut?K(ft,Ne,dt,zt):(zt++,K(ft,Ne,zt,_t)),zt<=He&&(dt=zt+1),He<=zt&&(_t=zt-1)}}function K(ft,Ne,He,dt){le(ft,He,dt),le(Ne,2*He,2*dt),le(Ne,2*He+1,2*dt+1)}function le(ft,Ne,He){const dt=ft[Ne];ft[Ne]=ft[He],ft[He]=dt}function he(ft,Ne,He,dt){const _t=ft-He,Ot=Ne-dt;return _t*_t+Ot*Ot}S.exports=V,S.exports.fromVectorTileJs=V,S.exports.fromGeojsonVt=function(ft,Ne){Ne=Ne||{};var He={};for(var dt in ft)He[dt]=new $(ft[dt].features,Ne),He[dt].name=dt,He[dt].version=Ne.version,He[dt].extent=Ne.extent;return V({layers:He})},S.exports.GeoJSONWrapper=$;const pe=ft=>ft[0],F=ft=>ft[1];class Q{constructor(Ne,He=pe,dt=F,_t=64,Ot=Float64Array){this.nodeSize=_t,this.points=Ne;const Ut=Ne.length<65536?Uint16Array:Uint32Array,Ht=this.ids=new Ut(Ne.length),zt=this.coords=new Ot(2*Ne.length);for(let Zt=0;Zt<Ne.length;Zt++)Ht[Zt]=Zt,zt[2*Zt]=He(Ne[Zt]),zt[2*Zt+1]=dt(Ne[Zt]);X(Ht,zt,_t,0,Ht.length-1,0)}range(Ne,He,dt,_t){return function(Ot,Ut,Ht,zt,Zt,xi,Zi){const Di=[0,Ot.length-1,0],Mn=[];let Cn,un;for(;Di.length;){const Hi=Di.pop(),lr=Di.pop(),kr=Di.pop();if(lr-kr<=Zi){for(let Lr=kr;Lr<=lr;Lr++)Cn=Ut[2*Lr],un=Ut[2*Lr+1],Cn>=Ht&&Cn<=Zt&&un>=zt&&un<=xi&&Mn.push(Ot[Lr]);continue}const _n=Math.floor((kr+lr)/2);Cn=Ut[2*_n],un=Ut[2*_n+1],Cn>=Ht&&Cn<=Zt&&un>=zt&&un<=xi&&Mn.push(Ot[_n]);const Yr=(Hi+1)%2;(Hi===0?Ht<=Cn:zt<=un)&&(Di.push(kr),Di.push(_n-1),Di.push(Yr)),(Hi===0?Zt>=Cn:xi>=un)&&(Di.push(_n+1),Di.push(lr),Di.push(Yr))}return Mn}(this.ids,this.coords,Ne,He,dt,_t,this.nodeSize)}within(Ne,He,dt){return function(_t,Ot,Ut,Ht,zt,Zt){const xi=[0,_t.length-1,0],Zi=[],Di=zt*zt;for(;xi.length;){const Mn=xi.pop(),Cn=xi.pop(),un=xi.pop();if(Cn-un<=Zt){for(let Yr=un;Yr<=Cn;Yr++)he(Ot[2*Yr],Ot[2*Yr+1],Ut,Ht)<=Di&&Zi.push(_t[Yr]);continue}const Hi=Math.floor((un+Cn)/2),lr=Ot[2*Hi],kr=Ot[2*Hi+1];he(lr,kr,Ut,Ht)<=Di&&Zi.push(_t[Hi]);const _n=(Mn+1)%2;(Mn===0?Ut-zt<=lr:Ht-zt<=kr)&&(xi.push(un),xi.push(Hi-1),xi.push(_n)),(Mn===0?Ut+zt>=lr:Ht+zt>=kr)&&(xi.push(Hi+1),xi.push(Cn),xi.push(_n))}return Zi}(this.ids,this.coords,Ne,He,dt,this.nodeSize)}}const ce={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ft=>ft},ge=Math.fround||(ke=new Float32Array(1),ft=>(ke[0]=+ft,ke[0]));var ke;class re{constructor(Ne){this.options=Ue(Object.create(ce),Ne),this.trees=new Array(this.options.maxZoom+1)}load(Ne){const{log:He,minZoom:dt,maxZoom:_t,nodeSize:Ot}=this.options;He&&console.time("total time");const Ut=`prepare ${Ne.length} points`;He&&console.time(Ut),this.points=Ne;let Ht=[];for(let zt=0;zt<Ne.length;zt++)Ne[zt].geometry&&Ht.push(_e(Ne[zt],zt));this.trees[_t+1]=new Q(Ht,st,Qe,Ot,Float32Array),He&&console.timeEnd(Ut);for(let zt=_t;zt>=dt;zt--){const Zt=+Date.now();Ht=this._cluster(Ht,zt),this.trees[zt]=new Q(Ht,st,Qe,Ot,Float32Array),He&&console.log("z%d: %d clusters in %dms",zt,Ht.length,+Date.now()-Zt)}return He&&console.timeEnd("total time"),this}getClusters(Ne,He){let dt=((Ne[0]+180)%360+360)%360-180;const _t=Math.max(-90,Math.min(90,Ne[1]));let Ot=Ne[2]===180?180:((Ne[2]+180)%360+360)%360-180;const Ut=Math.max(-90,Math.min(90,Ne[3]));if(Ne[2]-Ne[0]>=360)dt=-180,Ot=180;else if(dt>Ot){const xi=this.getClusters([dt,_t,180,Ut],He),Zi=this.getClusters([-180,_t,Ot,Ut],He);return xi.concat(Zi)}const Ht=this.trees[this._limitZoom(He)],zt=Ht.range(Se(dt),Re(Ut),Se(Ot),Re(_t)),Zt=[];for(const xi of zt){const Zi=Ht.points[xi];Zt.push(Zi.numPoints?oe(Zi):this.points[Zi.index])}return Zt}getChildren(Ne){const He=this._getOriginId(Ne),dt=this._getOriginZoom(Ne),_t="No cluster with the specified id.",Ot=this.trees[dt];if(!Ot)throw new Error(_t);const Ut=Ot.points[He];if(!Ut)throw new Error(_t);const Ht=this.options.radius/(this.options.extent*Math.pow(2,dt-1)),zt=Ot.within(Ut.x,Ut.y,Ht),Zt=[];for(const xi of zt){const Zi=Ot.points[xi];Zi.parentId===Ne&&Zt.push(Zi.numPoints?oe(Zi):this.points[Zi.index])}if(Zt.length===0)throw new Error(_t);return Zt}getLeaves(Ne,He,dt){const _t=[];return this._appendLeaves(_t,Ne,He=He||10,dt=dt||0,0),_t}getTile(Ne,He,dt){const _t=this.trees[this._limitZoom(Ne)],Ot=Math.pow(2,Ne),{extent:Ut,radius:Ht}=this.options,zt=Ht/Ut,Zt=(dt-zt)/Ot,xi=(dt+1+zt)/Ot,Zi={features:[]};return this._addTileFeatures(_t.range((He-zt)/Ot,Zt,(He+1+zt)/Ot,xi),_t.points,He,dt,Ot,Zi),He===0&&this._addTileFeatures(_t.range(1-zt/Ot,Zt,1,xi),_t.points,Ot,dt,Ot,Zi),He===Ot-1&&this._addTileFeatures(_t.range(0,Zt,zt/Ot,xi),_t.points,-1,dt,Ot,Zi),Zi.features.length?Zi:null}getClusterExpansionZoom(Ne){let He=this._getOriginZoom(Ne)-1;for(;He<=this.options.maxZoom;){const dt=this.getChildren(Ne);if(He++,dt.length!==1)break;Ne=dt[0].properties.cluster_id}return He}_appendLeaves(Ne,He,dt,_t,Ot){const Ut=this.getChildren(He);for(const Ht of Ut){const zt=Ht.properties;if(zt&&zt.cluster?Ot+zt.point_count<=_t?Ot+=zt.point_count:Ot=this._appendLeaves(Ne,zt.cluster_id,dt,_t,Ot):Ot<_t?Ot++:Ne.push(Ht),Ne.length===dt)break}return Ot}_addTileFeatures(Ne,He,dt,_t,Ot,Ut){for(const Ht of Ne){const zt=He[Ht],Zt=zt.numPoints;let xi,Zi,Di;if(Zt)xi=ye(zt),Zi=zt.x,Di=zt.y;else{const un=this.points[zt.index];xi=un.properties,Zi=Se(un.geometry.coordinates[0]),Di=Re(un.geometry.coordinates[1])}const Mn={type:1,geometry:[[Math.round(this.options.extent*(Zi*Ot-dt)),Math.round(this.options.extent*(Di*Ot-_t))]],tags:xi};let Cn;Zt?Cn=zt.id:this.options.generateId?Cn=zt.index:this.points[zt.index].id&&(Cn=this.points[zt.index].id),Cn!==void 0&&(Mn.id=Cn),Ut.features.push(Mn)}}_limitZoom(Ne){return Math.max(this.options.minZoom,Math.min(Math.floor(+Ne),this.options.maxZoom+1))}_cluster(Ne,He){const dt=[],{radius:_t,extent:Ot,reduce:Ut,minPoints:Ht}=this.options,zt=_t/(Ot*Math.pow(2,He));for(let Zt=0;Zt<Ne.length;Zt++){const xi=Ne[Zt];if(xi.zoom<=He)continue;xi.zoom=He;const Zi=this.trees[He+1],Di=Zi.within(xi.x,xi.y,zt),Mn=xi.numPoints||1;let Cn=Mn;for(const un of Di){const Hi=Zi.points[un];Hi.zoom>He&&(Cn+=Hi.numPoints||1)}if(Cn>Mn&&Cn>=Ht){let un=xi.x*Mn,Hi=xi.y*Mn,lr=Ut&&Mn>1?this._map(xi,!0):null;const kr=(Zt<<5)+(He+1)+this.points.length;for(const _n of Di){const Yr=Zi.points[_n];if(Yr.zoom<=He)continue;Yr.zoom=He;const Lr=Yr.numPoints||1;un+=Yr.x*Lr,Hi+=Yr.y*Lr,Yr.parentId=kr,Ut&&(lr||(lr=this._map(xi,!0)),Ut(lr,this._map(Yr)))}xi.parentId=kr,dt.push(ve(un/Cn,Hi/Cn,kr,Cn,lr))}else if(dt.push(xi),Cn>1)for(const un of Di){const Hi=Zi.points[un];Hi.zoom<=He||(Hi.zoom=He,dt.push(Hi))}}return dt}_getOriginId(Ne){return Ne-this.points.length>>5}_getOriginZoom(Ne){return(Ne-this.points.length)%32}_map(Ne,He){if(Ne.numPoints)return He?Ue({},Ne.properties):Ne.properties;const dt=this.points[Ne.index].properties,_t=this.options.map(dt);return He&&_t===dt?Ue({},_t):_t}}function ve(ft,Ne,He,dt,_t){return{x:ge(ft),y:ge(Ne),zoom:1/0,id:He,parentId:-1,numPoints:dt,properties:_t}}function _e(ft,Ne){const[He,dt]=ft.geometry.coordinates;return{x:ge(Se(He)),y:ge(Re(dt)),zoom:1/0,index:Ne,parentId:-1}}function oe(ft){return{type:"Feature",id:ft.id,properties:ye(ft),geometry:{type:"Point",coordinates:[(Ne=ft.x,360*(Ne-.5)),Oe(ft.y)]}};var Ne}function ye(ft){const Ne=ft.numPoints,He=Ne>=1e4?`${Math.round(Ne/1e3)}k`:Ne>=1e3?Math.round(Ne/100)/10+"k":Ne;return Ue(Ue({},ft.properties),{cluster:!0,cluster_id:ft.id,point_count:Ne,point_count_abbreviated:He})}function Se(ft){return ft/360+.5}function Re(ft){const Ne=Math.sin(ft*Math.PI/180),He=.5-.25*Math.log((1+Ne)/(1-Ne))/Math.PI;return He<0?0:He>1?1:He}function Oe(ft){const Ne=(180-360*ft)*Math.PI/180;return 360*Math.atan(Math.exp(Ne))/Math.PI-90}function Ue(ft,Ne){for(const He in Ne)ft[He]=Ne[He];return ft}function st(ft){return ft.x}function Qe(ft){return ft.y}function qe(ft,Ne,He,dt){for(var _t,Ot=dt,Ut=He-Ne>>1,Ht=He-Ne,zt=ft[Ne],Zt=ft[Ne+1],xi=ft[He],Zi=ft[He+1],Di=Ne+3;Di<He;Di+=3){var Mn=xe(ft[Di],ft[Di+1],zt,Zt,xi,Zi);if(Mn>Ot)_t=Di,Ot=Mn;else if(Mn===Ot){var Cn=Math.abs(Di-Ut);Cn<Ht&&(_t=Di,Ht=Cn)}}Ot>dt&&(_t-Ne>3&&qe(ft,Ne,_t,dt),ft[_t+2]=Ot,He-_t>3&&qe(ft,_t,He,dt))}function xe(ft,Ne,He,dt,_t,Ot){var Ut=_t-He,Ht=Ot-dt;if(Ut!==0||Ht!==0){var zt=((ft-He)*Ut+(Ne-dt)*Ht)/(Ut*Ut+Ht*Ht);zt>1?(He=_t,dt=Ot):zt>0&&(He+=Ut*zt,dt+=Ht*zt)}return(Ut=ft-He)*Ut+(Ht=Ne-dt)*Ht}function Ie(ft,Ne,He,dt){var _t={id:ft===void 0?null:ft,type:Ne,geometry:He,tags:dt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ot){var Ut=Ot.geometry,Ht=Ot.type;if(Ht==="Point"||Ht==="MultiPoint"||Ht==="LineString")Be(Ot,Ut);else if(Ht==="Polygon"||Ht==="MultiLineString")for(var zt=0;zt<Ut.length;zt++)Be(Ot,Ut[zt]);else if(Ht==="MultiPolygon")for(zt=0;zt<Ut.length;zt++)for(var Zt=0;Zt<Ut[zt].length;Zt++)Be(Ot,Ut[zt][Zt])}(_t),_t}function Be(ft,Ne){for(var He=0;He<Ne.length;He+=3)ft.minX=Math.min(ft.minX,Ne[He]),ft.minY=Math.min(ft.minY,Ne[He+1]),ft.maxX=Math.max(ft.maxX,Ne[He]),ft.maxY=Math.max(ft.maxY,Ne[He+1])}function Xe(ft,Ne,He,dt){if(Ne.geometry){var _t=Ne.geometry.coordinates,Ot=Ne.geometry.type,Ut=Math.pow(He.tolerance/((1<<He.maxZoom)*He.extent),2),Ht=[],zt=Ne.id;if(He.promoteId?zt=Ne.properties[He.promoteId]:He.generateId&&(zt=dt||0),Ot==="Point")Ke(_t,Ht);else if(Ot==="MultiPoint")for(var Zt=0;Zt<_t.length;Zt++)Ke(_t[Zt],Ht);else if(Ot==="LineString")pt(_t,Ht,Ut,!1);else if(Ot==="MultiLineString"){if(He.lineMetrics){for(Zt=0;Zt<_t.length;Zt++)pt(_t[Zt],Ht=[],Ut,!1),ft.push(Ie(zt,"LineString",Ht,Ne.properties));return}Tt(_t,Ht,Ut,!1)}else if(Ot==="Polygon")Tt(_t,Ht,Ut,!0);else{if(Ot!=="MultiPolygon"){if(Ot==="GeometryCollection"){for(Zt=0;Zt<Ne.geometry.geometries.length;Zt++)Xe(ft,{id:zt,geometry:Ne.geometry.geometries[Zt],properties:Ne.properties},He,dt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Zt=0;Zt<_t.length;Zt++){var xi=[];Tt(_t[Zt],xi,Ut,!0),Ht.push(xi)}}ft.push(Ie(zt,Ot,Ht,Ne.properties))}}function Ke(ft,Ne){Ne.push(Lt(ft[0])),Ne.push(gi(ft[1])),Ne.push(0)}function pt(ft,Ne,He,dt){for(var _t,Ot,Ut=0,Ht=0;Ht<ft.length;Ht++){var zt=Lt(ft[Ht][0]),Zt=gi(ft[Ht][1]);Ne.push(zt),Ne.push(Zt),Ne.push(0),Ht>0&&(Ut+=dt?(_t*Zt-zt*Ot)/2:Math.sqrt(Math.pow(zt-_t,2)+Math.pow(Zt-Ot,2))),_t=zt,Ot=Zt}var xi=Ne.length-3;Ne[2]=1,qe(Ne,0,xi,He),Ne[xi+2]=1,Ne.size=Math.abs(Ut),Ne.start=0,Ne.end=Ne.size}function Tt(ft,Ne,He,dt){for(var _t=0;_t<ft.length;_t++){var Ot=[];pt(ft[_t],Ot,He,dt),Ne.push(Ot)}}function Lt(ft){return ft/360+.5}function gi(ft){var Ne=Math.sin(ft*Math.PI/180),He=.5-.25*Math.log((1+Ne)/(1-Ne))/Math.PI;return He<0?0:He>1?1:He}function Wt(ft,Ne,He,dt,_t,Ot,Ut,Ht){if(dt/=Ne,Ot>=(He/=Ne)&&Ut<dt)return ft;if(Ut<He||Ot>=dt)return null;for(var zt=[],Zt=0;Zt<ft.length;Zt++){var xi=ft[Zt],Zi=xi.geometry,Di=xi.type,Mn=_t===0?xi.minX:xi.minY,Cn=_t===0?xi.maxX:xi.maxY;if(Mn>=He&&Cn<dt)zt.push(xi);else if(!(Cn<He||Mn>=dt)){var un=[];if(Di==="Point"||Di==="MultiPoint")pi(Zi,un,He,dt,_t);else if(Di==="LineString")Gi(Zi,un,He,dt,_t,!1,Ht.lineMetrics);else if(Di==="MultiLineString")It(Zi,un,He,dt,_t,!1);else if(Di==="Polygon")It(Zi,un,He,dt,_t,!0);else if(Di==="MultiPolygon")for(var Hi=0;Hi<Zi.length;Hi++){var lr=[];It(Zi[Hi],lr,He,dt,_t,!0),lr.length&&un.push(lr)}if(un.length){if(Ht.lineMetrics&&Di==="LineString"){for(Hi=0;Hi<un.length;Hi++)zt.push(Ie(xi.id,Di,un[Hi],xi.tags));continue}Di!=="LineString"&&Di!=="MultiLineString"||(un.length===1?(Di="LineString",un=un[0]):Di="MultiLineString"),Di!=="Point"&&Di!=="MultiPoint"||(Di=un.length===3?"Point":"MultiPoint"),zt.push(Ie(xi.id,Di,un,xi.tags))}}}return zt.length?zt:null}function pi(ft,Ne,He,dt,_t){for(var Ot=0;Ot<ft.length;Ot+=3){var Ut=ft[Ot+_t];Ut>=He&&Ut<=dt&&(Ne.push(ft[Ot]),Ne.push(ft[Ot+1]),Ne.push(ft[Ot+2]))}}function Gi(ft,Ne,He,dt,_t,Ot,Ut){for(var Ht,zt,Zt=ht(ft),xi=_t===0?Pi:an,Zi=ft.start,Di=0;Di<ft.length-3;Di+=3){var Mn=ft[Di],Cn=ft[Di+1],un=ft[Di+2],Hi=ft[Di+3],lr=ft[Di+4],kr=_t===0?Mn:Cn,_n=_t===0?Hi:lr,Yr=!1;Ut&&(Ht=Math.sqrt(Math.pow(Mn-Hi,2)+Math.pow(Cn-lr,2))),kr<He?_n>He&&(zt=xi(Zt,Mn,Cn,Hi,lr,He),Ut&&(Zt.start=Zi+Ht*zt)):kr>dt?_n<dt&&(zt=xi(Zt,Mn,Cn,Hi,lr,dt),Ut&&(Zt.start=Zi+Ht*zt)):ei(Zt,Mn,Cn,un),_n<He&&kr>=He&&(zt=xi(Zt,Mn,Cn,Hi,lr,He),Yr=!0),_n>dt&&kr<=dt&&(zt=xi(Zt,Mn,Cn,Hi,lr,dt),Yr=!0),!Ot&&Yr&&(Ut&&(Zt.end=Zi+Ht*zt),Ne.push(Zt),Zt=ht(ft)),Ut&&(Zi+=Ht)}var Lr=ft.length-3;Mn=ft[Lr],Cn=ft[Lr+1],un=ft[Lr+2],(kr=_t===0?Mn:Cn)>=He&&kr<=dt&&ei(Zt,Mn,Cn,un),Lr=Zt.length-3,Ot&&Lr>=3&&(Zt[Lr]!==Zt[0]||Zt[Lr+1]!==Zt[1])&&ei(Zt,Zt[0],Zt[1],Zt[2]),Zt.length&&Ne.push(Zt)}function ht(ft){var Ne=[];return Ne.size=ft.size,Ne.start=ft.start,Ne.end=ft.end,Ne}function It(ft,Ne,He,dt,_t,Ot){for(var Ut=0;Ut<ft.length;Ut++)Gi(ft[Ut],Ne,He,dt,_t,Ot,!1)}function ei(ft,Ne,He,dt){ft.push(Ne),ft.push(He),ft.push(dt)}function Pi(ft,Ne,He,dt,_t,Ot){var Ut=(Ot-Ne)/(dt-Ne);return ft.push(Ot),ft.push(He+(_t-He)*Ut),ft.push(1),Ut}function an(ft,Ne,He,dt,_t,Ot){var Ut=(Ot-He)/(_t-He);return ft.push(Ne+(dt-Ne)*Ut),ft.push(Ot),ft.push(1),Ut}function Gn(ft,Ne){for(var He=[],dt=0;dt<ft.length;dt++){var _t,Ot=ft[dt],Ut=Ot.type;if(Ut==="Point"||Ut==="MultiPoint"||Ut==="LineString")_t=Kr(Ot.geometry,Ne);else if(Ut==="MultiLineString"||Ut==="Polygon"){_t=[];for(var Ht=0;Ht<Ot.geometry.length;Ht++)_t.push(Kr(Ot.geometry[Ht],Ne))}else if(Ut==="MultiPolygon")for(_t=[],Ht=0;Ht<Ot.geometry.length;Ht++){for(var zt=[],Zt=0;Zt<Ot.geometry[Ht].length;Zt++)zt.push(Kr(Ot.geometry[Ht][Zt],Ne));_t.push(zt)}He.push(Ie(Ot.id,Ut,_t,Ot.tags))}return He}function Kr(ft,Ne){var He=[];He.size=ft.size,ft.start!==void 0&&(He.start=ft.start,He.end=ft.end);for(var dt=0;dt<ft.length;dt+=3)He.push(ft[dt]+Ne,ft[dt+1],ft[dt+2]);return He}function di(ft,Ne){if(ft.transformed)return ft;var He,dt,_t,Ot=1<<ft.z,Ut=ft.x,Ht=ft.y;for(He=0;He<ft.features.length;He++){var zt=ft.features[He],Zt=zt.geometry,xi=zt.type;if(zt.geometry=[],xi===1)for(dt=0;dt<Zt.length;dt+=2)zt.geometry.push($i(Zt[dt],Zt[dt+1],Ne,Ot,Ut,Ht));else for(dt=0;dt<Zt.length;dt++){var Zi=[];for(_t=0;_t<Zt[dt].length;_t+=2)Zi.push($i(Zt[dt][_t],Zt[dt][_t+1],Ne,Ot,Ut,Ht));zt.geometry.push(Zi)}}return ft.transformed=!0,ft}function $i(ft,Ne,He,dt,_t,Ot){return[Math.round(He*(ft*dt-_t)),Math.round(He*(Ne*dt-Ot))]}function Wi(ft,Ne,He,dt,_t){for(var Ot=Ne===_t.maxZoom?0:_t.tolerance/((1<<Ne)*_t.extent),Ut={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:He,y:dt,z:Ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ht=0;Ht<ft.length;Ht++){Ut.numFeatures++,Nr(Ut,ft[Ht],Ot,_t);var zt=ft[Ht].minX,Zt=ft[Ht].minY,xi=ft[Ht].maxX,Zi=ft[Ht].maxY;zt<Ut.minX&&(Ut.minX=zt),Zt<Ut.minY&&(Ut.minY=Zt),xi>Ut.maxX&&(Ut.maxX=xi),Zi>Ut.maxY&&(Ut.maxY=Zi)}return Ut}function Nr(ft,Ne,He,dt){var _t=Ne.geometry,Ot=Ne.type,Ut=[];if(Ot==="Point"||Ot==="MultiPoint")for(var Ht=0;Ht<_t.length;Ht+=3)Ut.push(_t[Ht]),Ut.push(_t[Ht+1]),ft.numPoints++,ft.numSimplified++;else if(Ot==="LineString")mo(Ut,_t,ft,He,!1,!1);else if(Ot==="MultiLineString"||Ot==="Polygon")for(Ht=0;Ht<_t.length;Ht++)mo(Ut,_t[Ht],ft,He,Ot==="Polygon",Ht===0);else if(Ot==="MultiPolygon")for(var zt=0;zt<_t.length;zt++){var Zt=_t[zt];for(Ht=0;Ht<Zt.length;Ht++)mo(Ut,Zt[Ht],ft,He,!0,Ht===0)}if(Ut.length){var xi=Ne.tags||null;if(Ot==="LineString"&&dt.lineMetrics){for(var Zi in xi={},Ne.tags)xi[Zi]=Ne.tags[Zi];xi.mapbox_clip_start=_t.start/_t.size,xi.mapbox_clip_end=_t.end/_t.size}var Di={geometry:Ut,type:Ot==="Polygon"||Ot==="MultiPolygon"?3:Ot==="LineString"||Ot==="MultiLineString"?2:1,tags:xi};Ne.id!==null&&(Di.id=Ne.id),ft.features.push(Di)}}function mo(ft,Ne,He,dt,_t,Ot){var Ut=dt*dt;if(dt>0&&Ne.size<(_t?Ut:dt))He.numPoints+=Ne.length/3;else{for(var Ht=[],zt=0;zt<Ne.length;zt+=3)(dt===0||Ne[zt+2]>Ut)&&(He.numSimplified++,Ht.push(Ne[zt]),Ht.push(Ne[zt+1])),He.numPoints++;_t&&function(Zt,xi){for(var Zi=0,Di=0,Mn=Zt.length,Cn=Mn-2;Di<Mn;Cn=Di,Di+=2)Zi+=(Zt[Di]-Zt[Cn])*(Zt[Di+1]+Zt[Cn+1]);if(Zi>0===xi)for(Di=0,Mn=Zt.length;Di<Mn/2;Di+=2){var un=Zt[Di],Hi=Zt[Di+1];Zt[Di]=Zt[Mn-2-Di],Zt[Di+1]=Zt[Mn-1-Di],Zt[Mn-2-Di]=un,Zt[Mn-1-Di]=Hi}}(Ht,Ot),ft.push(Ht)}}function wn(ft,Ne){var He=(Ne=this.options=function(_t,Ot){for(var Ut in Ot)_t[Ut]=Ot[Ut];return _t}(Object.create(this.options),Ne)).debug;if(He&&console.time("preprocess data"),Ne.maxZoom<0||Ne.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ne.promoteId&&Ne.generateId)throw new Error("promoteId and generateId cannot be used together.");var dt=function(_t,Ot){var Ut=[];if(_t.type==="FeatureCollection")for(var Ht=0;Ht<_t.features.length;Ht++)Xe(Ut,_t.features[Ht],Ot,Ht);else Xe(Ut,_t.type==="Feature"?_t:{geometry:_t},Ot);return Ut}(ft,Ne);this.tiles={},this.tileCoords=[],He&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ne.indexMaxZoom,Ne.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),dt=function(_t,Ot){var Ut=Ot.buffer/Ot.extent,Ht=_t,zt=Wt(_t,1,-1-Ut,Ut,0,-1,2,Ot),Zt=Wt(_t,1,1-Ut,2+Ut,0,-1,2,Ot);return(zt||Zt)&&(Ht=Wt(_t,1,-Ut,1+Ut,0,-1,2,Ot)||[],zt&&(Ht=Gn(zt,1).concat(Ht)),Zt&&(Ht=Ht.concat(Gn(Zt,-1)))),Ht}(dt,Ne),dt.length&&this.splitTile(dt,0,0,0),He&&(dt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ao(ft,Ne,He){return 32*((1<<ft)*He+Ne)+ft}function Ln(ft,Ne){const He=ft.tileID.canonical;if(!this._geoJSONIndex)return Ne(null,null);const dt=this._geoJSONIndex.getTile(He.z,He.x,He.y);if(!dt)return Ne(null,null);const _t=new M(dt.features);let Ot=S.exports(_t);Ot.byteOffset===0&&Ot.byteLength===Ot.buffer.byteLength||(Ot=new Uint8Array(Ot)),Ne(null,{vectorTile:_t,rawData:Ot.buffer})}wn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},wn.prototype.splitTile=function(ft,Ne,He,dt,_t,Ot,Ut){for(var Ht=[ft,Ne,He,dt],zt=this.options,Zt=zt.debug;Ht.length;){dt=Ht.pop(),He=Ht.pop(),Ne=Ht.pop(),ft=Ht.pop();var xi=1<<Ne,Zi=ao(Ne,He,dt),Di=this.tiles[Zi];if(!Di&&(Zt>1&&console.time("creation"),Di=this.tiles[Zi]=Wi(ft,Ne,He,dt,zt),this.tileCoords.push({z:Ne,x:He,y:dt}),Zt)){Zt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ne,He,dt,Di.numFeatures,Di.numPoints,Di.numSimplified),console.timeEnd("creation"));var Mn="z"+Ne;this.stats[Mn]=(this.stats[Mn]||0)+1,this.total++}if(Di.source=ft,_t){if(Ne===zt.maxZoom||Ne===_t)continue;var Cn=1<<_t-Ne;if(He!==Math.floor(Ot/Cn)||dt!==Math.floor(Ut/Cn))continue}else if(Ne===zt.indexMaxZoom||Di.numPoints<=zt.indexMaxPoints)continue;if(Di.source=null,ft.length!==0){Zt>1&&console.time("clipping");var un,Hi,lr,kr,_n,Yr,Lr=.5*zt.buffer/zt.extent,Ua=.5-Lr,$a=.5+Lr,go=1+Lr;un=Hi=lr=kr=null,_n=Wt(ft,xi,He-Lr,He+$a,0,Di.minX,Di.maxX,zt),Yr=Wt(ft,xi,He+Ua,He+go,0,Di.minX,Di.maxX,zt),ft=null,_n&&(un=Wt(_n,xi,dt-Lr,dt+$a,1,Di.minY,Di.maxY,zt),Hi=Wt(_n,xi,dt+Ua,dt+go,1,Di.minY,Di.maxY,zt),_n=null),Yr&&(lr=Wt(Yr,xi,dt-Lr,dt+$a,1,Di.minY,Di.maxY,zt),kr=Wt(Yr,xi,dt+Ua,dt+go,1,Di.minY,Di.maxY,zt),Yr=null),Zt>1&&console.timeEnd("clipping"),Ht.push(un||[],Ne+1,2*He,2*dt),Ht.push(Hi||[],Ne+1,2*He,2*dt+1),Ht.push(lr||[],Ne+1,2*He+1,2*dt),Ht.push(kr||[],Ne+1,2*He+1,2*dt+1)}}},wn.prototype.getTile=function(ft,Ne,He){var dt=this.options,_t=dt.extent,Ot=dt.debug;if(ft<0||ft>24)return null;var Ut=1<<ft,Ht=ao(ft,Ne=(Ne%Ut+Ut)%Ut,He);if(this.tiles[Ht])return di(this.tiles[Ht],_t);Ot>1&&console.log("drilling down to z%d-%d-%d",ft,Ne,He);for(var zt,Zt=ft,xi=Ne,Zi=He;!zt&&Zt>0;)Zt--,xi=Math.floor(xi/2),Zi=Math.floor(Zi/2),zt=this.tiles[ao(Zt,xi,Zi)];return zt&&zt.source?(Ot>1&&console.log("found parent tile z%d-%d-%d",Zt,xi,Zi),Ot>1&&console.time("drilling down"),this.splitTile(zt.source,Zt,xi,Zi,ft,Ne,He),Ot>1&&console.timeEnd("drilling down"),this.tiles[Ht]?di(this.tiles[Ht],_t):null):null};class ja extends s.VectorTileWorkerSource{constructor(Ne,He,dt,_t,Ot){super(Ne,He,dt,_t,Ln),Ot&&(this.loadGeoJSON=Ot)}loadData(Ne,He){const dt=Ne&&Ne.request,_t=dt&&dt.collectResourceTiming;this.loadGeoJSON(Ne,(Ot,Ut)=>{if(Ot||!Ut)return He(Ot);if(typeof Ut!="object")return He(new Error(`Input data given to '${Ne.source}' is not a valid GeoJSON object.`));{z(Ut,!0);try{if(Ne.filter){const zt=s.createExpression(Ne.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(zt.result==="error")throw new Error(zt.value.map(xi=>`${xi.key}: ${xi.message}`).join(", "));Ut={type:"FeatureCollection",features:Ut.features.filter(xi=>zt.value.evaluate({zoom:0},xi))}}this._geoJSONIndex=Ne.cluster?new re(function({superclusterOptions:zt,clusterProperties:Zt}){if(!Zt||!zt)return zt;const xi={},Zi={},Di={accumulated:null,zoom:0},Mn={properties:null},Cn=Object.keys(Zt);for(const un of Cn){const[Hi,lr]=Zt[un],kr=s.createExpression(lr),_n=s.createExpression(typeof Hi=="string"?[Hi,["accumulated"],["get",un]]:Hi);xi[un]=kr.value,Zi[un]=_n.value}return zt.map=un=>{Mn.properties=un;const Hi={};for(const lr of Cn)Hi[lr]=xi[lr].evaluate(Di,Mn);return Hi},zt.reduce=(un,Hi)=>{Mn.properties=Hi;for(const lr of Cn)Di.accumulated=un[lr],un[lr]=Zi[lr].evaluate(Di,Mn)},zt}(Ne)).load(Ut.features):function(zt,Zt){return new wn(zt,Zt)}(Ut,Ne.geojsonVtOptions)}catch(zt){return He(zt)}this.loaded={};const Ht={};if(_t){const zt=s.getPerformanceMeasurement(dt);zt&&(Ht.resourceTiming={},Ht.resourceTiming[Ne.source]=JSON.parse(JSON.stringify(zt)))}He(null,Ht)}})}reloadTile(Ne,He){const dt=this.loaded;return dt&&dt[Ne.uid]?super.reloadTile(Ne,He):this.loadTile(Ne,He)}loadGeoJSON(Ne,He){if(Ne.request)s.getJSON(Ne.request,He);else{if(typeof Ne.data!="string")return He(new Error(`Input data given to '${Ne.source}' is not a valid GeoJSON object.`));try{return He(null,JSON.parse(Ne.data))}catch{return He(new Error(`Input data given to '${Ne.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Ne,He){try{He(null,this._geoJSONIndex.getClusterExpansionZoom(Ne.clusterId))}catch(dt){He(dt)}}getClusterChildren(Ne,He){try{He(null,this._geoJSONIndex.getChildren(Ne.clusterId))}catch(dt){He(dt)}}getClusterLeaves(Ne,He){try{He(null,this._geoJSONIndex.getLeaves(Ne.clusterId,Ne.limit,Ne.offset))}catch(dt){He(dt)}}}class il{constructor(Ne){this.self=Ne,this.actor=new s.Actor(Ne,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=s.getProjection({name:"mercator"}),this.workerSourceTypes={vector:s.VectorTileWorkerSource,geojson:ja},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(He,dt)=>{if(this.workerSourceTypes[He])throw new Error(`Worker source with name "${He}" already registered.`);this.workerSourceTypes[He]=dt},this.self.registerRTLTextPlugin=He=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=He.applyArabicShaping,s.plugin.processBidirectionalText=He.processBidirectionalText,s.plugin.processStyledBidirectionalText=He.processStyledBidirectionalText}}clearCaches(Ne,He,dt){delete this.layerIndexes[Ne],delete this.availableImages[Ne],delete this.workerSources[Ne],delete this.demWorkerSources[Ne],dt()}checkIfReady(Ne,He,dt){dt()}setReferrer(Ne,He){this.referrer=He}spriteLoaded(Ne,He){this.isSpriteLoaded[Ne]=He;for(const dt in this.workerSources[Ne]){const _t=this.workerSources[Ne][dt];for(const Ot in _t)_t[Ot]instanceof s.VectorTileWorkerSource&&(_t[Ot].isSpriteLoaded=He,_t[Ot].fire(new s.Event("isSpriteLoaded")))}}setImages(Ne,He,dt){this.availableImages[Ne]=He;for(const _t in this.workerSources[Ne]){const Ot=this.workerSources[Ne][_t];for(const Ut in Ot)Ot[Ut].availableImages=He}dt()}enableTerrain(Ne,He,dt){this.terrain=He,dt()}setProjection(Ne,He){this.projections[Ne]=s.getProjection(He)}setLayers(Ne,He,dt){this.getLayerIndex(Ne).replace(He),dt()}updateLayers(Ne,He,dt){this.getLayerIndex(Ne).update(He.layers,He.removedIds),dt()}loadTile(Ne,He,dt){const _t=this.enableTerrain?s.extend({enableTerrain:this.terrain},He):He;_t.projection=this.projections[Ne]||this.defaultProjection,this.getWorkerSource(Ne,He.type,He.source).loadTile(_t,dt)}loadDEMTile(Ne,He,dt){const _t=this.enableTerrain?s.extend({buildQuadTree:this.terrain},He):He;this.getDEMWorkerSource(Ne,He.source).loadTile(_t,dt)}reloadTile(Ne,He,dt){const _t=this.enableTerrain?s.extend({enableTerrain:this.terrain},He):He;_t.projection=this.projections[Ne]||this.defaultProjection,this.getWorkerSource(Ne,He.type,He.source).reloadTile(_t,dt)}abortTile(Ne,He,dt){this.getWorkerSource(Ne,He.type,He.source).abortTile(He,dt)}removeTile(Ne,He,dt){this.getWorkerSource(Ne,He.type,He.source).removeTile(He,dt)}removeSource(Ne,He,dt){if(!this.workerSources[Ne]||!this.workerSources[Ne][He.type]||!this.workerSources[Ne][He.type][He.source])return;const _t=this.workerSources[Ne][He.type][He.source];delete this.workerSources[Ne][He.type][He.source],_t.removeSource!==void 0?_t.removeSource(He,dt):dt()}loadWorkerSource(Ne,He,dt){try{this.self.importScripts(He.url),dt()}catch(_t){dt(_t.toString())}}syncRTLPluginState(Ne,He,dt){try{s.plugin.setState(He);const _t=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&_t!=null){this.self.importScripts(_t);const Ot=s.plugin.isParsed();dt(Ot?void 0:new Error(`RTL Text Plugin failed to import scripts from ${_t}`),Ot)}}catch(_t){dt(_t.toString())}}getAvailableImages(Ne){let He=this.availableImages[Ne];return He||(He=[]),He}getLayerIndex(Ne){let He=this.layerIndexes[Ne];return He||(He=this.layerIndexes[Ne]=new J),He}getWorkerSource(Ne,He,dt){if(this.workerSources[Ne]||(this.workerSources[Ne]={}),this.workerSources[Ne][He]||(this.workerSources[Ne][He]={}),!this.workerSources[Ne][He][dt]){const _t={send:(Ot,Ut,Ht,zt,Zt,xi)=>{this.actor.send(Ot,Ut,Ht,Ne,Zt,xi)},scheduler:this.actor.scheduler};this.workerSources[Ne][He][dt]=new this.workerSourceTypes[He](_t,this.getLayerIndex(Ne),this.getAvailableImages(Ne),this.isSpriteLoaded[Ne])}return this.workerSources[Ne][He][dt]}getDEMWorkerSource(Ne,He){return this.demWorkerSources[Ne]||(this.demWorkerSources[Ne]={}),this.demWorkerSources[Ne][He]||(this.demWorkerSources[Ne][He]=new k),this.demWorkerSources[Ne][He]}enforceCacheSizeLimit(Ne,He){s.enforceCacheSizeLimit(He)}getWorkerPerformanceMetrics(Ne,He,dt){dt(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new il(self)),il}),d(["./shared"],function(s){function v(_,c){if(Array.isArray(_)){if(!Array.isArray(c)||_.length!==c.length)return!1;for(let p=0;p<_.length;p++)if(!v(_[p],c[p]))return!1;return!0}if(typeof _=="object"&&_!==null&&c!==null){if(typeof c!="object"||Object.keys(_).length!==Object.keys(c).length)return!1;for(const p in _)if(!v(_[p],c[p]))return!1;return!0}return _===c}var R=J;function J(_){return!function(c){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var T,B,W=new Blob([""],{type:"text/javascript"}),se=URL.createObjectURL(W);try{B=new Worker(se),T=!0}catch{T=!1}return B&&B.terminate(),URL.revokeObjectURL(se),T}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var T=document.createElement("canvas");T.width=T.height=1;var B=T.getContext("2d");if(!B)return!1;var W=B.getImageData(0,0,1,1);return W&&W.width===T.width}()?(k[p=c&&c.failIfMajorPerformanceCaveat]===void 0&&(k[p]=function(T){var B,W=function(se){var ue=document.createElement("canvas"),me=Object.create(J.webGLContextAttributes);return me.failIfMajorPerformanceCaveat=se,ue.getContext("webgl",me)||ue.getContext("experimental-webgl",me)}(T);if(!W)return!1;try{B=W.createShader(W.VERTEX_SHADER)}catch{return!1}return!(!B||W.isContextLost())&&(W.shaderSource(B,"void main() {}"),W.compileShader(B),W.getShaderParameter(B,W.COMPILE_STATUS)===!0)}(p)),k[p]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var p}(_)}var k={};function z(_,c,p){const T=s.window.document.createElement(_);return c!==void 0&&(T.className=c),p&&p.appendChild(T),T}function q(_,c,p){const T=s.window.document.createElementNS("http://www.w3.org/2000/svg",_);for(const B of Object.keys(c))T.setAttributeNS(null,B,c[B]);return p&&p.appendChild(T),T}J.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const L=s.window.document&&s.window.document.documentElement.style,O=L&&L.userSelect!==void 0?"userSelect":"WebkitUserSelect";let G;function M(){L&&O&&(G=L[O],L[O]="none")}function S(){L&&O&&(L[O]=G)}function P(_){_.preventDefault(),_.stopPropagation(),s.window.removeEventListener("click",P,!0)}function H(){s.window.addEventListener("click",P,!0),s.window.setTimeout(()=>{s.window.removeEventListener("click",P,!0)},0)}function U(_,c){const p=_.getBoundingClientRect();return te(_,p,c)}function E(_,c){const p=_.getBoundingClientRect(),T=[];for(let B=0;B<c.length;B++)T.push(te(_,p,c[B]));return T}function ie(_){return s.window.InstallTrigger!==void 0&&_.button===2&&_.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:_.button}function te(_,c,p){const T=_.offsetWidth===c.width?1:_.offsetWidth/c.width;return new s.pointGeometry((p.clientX-c.left)*T,(p.clientY-c.top)*T)}function $(_,c){var p=c[0],T=c[1],B=c[2],W=c[3],se=p*W-B*T;return se?(_[0]=W*(se=1/se),_[1]=-T*se,_[2]=-B*se,_[3]=p*se,_):null}function V(_){const{userImage:c}=_;return!!(c&&c.render&&c.render())&&(_.data.replace(new Uint8Array(c.data.buffer)),!0)}class j extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:T}of this.requestors)this._notify(p,T);this.requestors=[]}}hasImage(c){return!!this.getImage(c)}getImage(c){return this.images[c]}addImage(c,p){this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let T=!0;return this._validateStretch(p.stretchX,p.data&&p.data.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),T=!1),this._validateStretch(p.stretchY,p.data&&p.data.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),T=!1),this._validateContent(p.content,p)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),T=!1),T}_validateStretch(c,p){if(!c)return!0;let T=0;for(const B of c){if(B[0]<T||B[1]<B[0]||p<B[1])return!1;T=B[1]}return!0}_validateContent(c,p){return!(c&&(c.length!==4||c[0]<0||p.data.width<c[0]||c[1]<0||p.data.height<c[1]||c[2]<0||p.data.width<c[2]||c[3]<0||p.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,p){p.version=this.images[c].version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let T=!0;if(!this.isLoaded())for(const B of c)this.images[B]||(T=!1);this.isLoaded()||T?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const T={};for(const B of c){this.images[B]||this.fire(new s.Event("styleimagemissing",{id:B}));const W=this.images[B];W?T[B]={data:W.data.clone(),pixelRatio:W.pixelRatio,sdf:W.sdf,version:W.version,stretchX:W.stretchX,stretchY:W.stretchY,content:W.content,hasRenderCallback:!!(W.userImage&&W.userImage.render)}:s.warnOnce(`Image "${B}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,T)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],T=this.getImage(c);if(!T)return null;if(p&&p.position.version===T.version)return p.position;if(p)p.position.version=T.version;else{const B={w:T.data.width+2,h:T.data.height+2,x:0,y:0},W=new s.ImagePosition(B,T);this.patterns[c]={bin:B,position:W}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const W in this.patterns)c.push(this.patterns[W].bin);const{w:p,h:T}=s.potpack(c),B=this.atlasImage;B.resize({width:p||1,height:T||1});for(const W in this.patterns){const{bin:se}=this.patterns[W],ue=se.x+1,me=se.y+1,De=this.images[W].data,Ae=De.width,Fe=De.height;s.RGBAImage.copy(De,B,{x:0,y:0},{x:ue,y:me},{width:Ae,height:Fe}),s.RGBAImage.copy(De,B,{x:0,y:Fe-1},{x:ue,y:me-1},{width:Ae,height:1}),s.RGBAImage.copy(De,B,{x:0,y:0},{x:ue,y:me+Fe},{width:Ae,height:1}),s.RGBAImage.copy(De,B,{x:Ae-1,y:0},{x:ue-1,y:me},{width:1,height:Fe}),s.RGBAImage.copy(De,B,{x:0,y:0},{x:ue+Ae,y:me},{width:1,height:Fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const T=this.images[p];V(T)&&this.updateImage(p,T)}}}const w=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(_,c){return function([p,T,B]){const W=s.degToRad(T+90),se=s.degToRad(B);return{x:p*Math.cos(W)*Math.sin(se),y:p*Math.sin(W)*Math.sin(se),z:p*Math.cos(se),azimuthal:T,polar:B}}(_.expression.evaluate(c))}interpolate(_,c,p){return{x:s.number(_.x,c.x,p),y:s.number(_.y,c.y,p),z:s.number(_.z,c.z,p),azimuthal:s.number(_.azimuthal,c.azimuthal,p),polar:s.number(_.polar,c.polar,p)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)}),I="-transition";class m extends s.Evented{constructor(c){super(),this._transitionable=new s.Transitionable(w),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(s.validateLight,c,p))for(const T in c){const B=c[T];s.endsWith(T,I)?this._transitionable.setTransition(T.slice(0,-I.length),B):this._transitionable.setValue(T,B)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,T){return(!T||T.validate!==!1)&&s.emitValidationErrors(this,c.call(s.validateStyle,s.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}const g=new s.Properties({source:new s.DataConstantProperty(s.spec.terrain.source),exaggeration:new s.DataConstantProperty(s.spec.terrain.exaggeration)}),b="-transition";class A extends s.Evented{constructor(c,p){super(),this._transitionable=new s.Transitionable(g),this.set(c),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=p}get(){return this._transitionable.serialize()}set(c){for(const p in c){const T=c[p];s.endsWith(p,b)?this._transitionable.setTransition(p.slice(0,-b.length),T):this._transitionable.setValue(p,T)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}}function X(_,c,p,T){const B=s.smoothstep(45,65,p),[W,se]=Y(_,T),ue=s.length(c);let me=1-Math.min(1,Math.exp((ue-W)/(se-W)*-6));return me*=me*me,me=Math.min(1,1.00747*me),me*B*_.alpha}function Y(_,c){const p=.5/Math.tan(.5*c);return[_.range[0]+p,_.range[1]+p]}const K=new s.Properties({range:new s.DataConstantProperty(s.spec.fog.range),color:new s.DataConstantProperty(s.spec.fog.color),"high-color":new s.DataConstantProperty(s.spec.fog["high-color"]),"space-color":new s.DataConstantProperty(s.spec.fog["space-color"]),"horizon-blend":new s.DataConstantProperty(s.spec.fog["horizon-blend"]),"star-intensity":new s.DataConstantProperty(s.spec.fog["star-intensity"])}),le="-transition";class he extends s.Evented{constructor(c,p){super(),this._transitionable=new s.Transitionable(K),this.set(c),this._transitioning=this._transitionable.untransitioned(),this._transform=p}get state(){const c=this._transform,p=c.projection.name==="globe",T=s.globeToMercatorTransition(c.zoom),B=this.properties.get("range"),W=[.5,3];return{range:p?[s.number(W[0],B[0],T),s.number(W[1],B[1],T)]:B,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(c,p={}){if(!this._validate(s.validateFog,c,p)){for(const T of Object.keys(s.spec.fog))c&&c[T]===void 0&&(c[T]=s.spec.fog[T].default);for(const T in c){const B=c[T];s.endsWith(T,le)?this._transitionable.setTransition(T.slice(0,-le.length),B):this._transitionable.setValue(T,B)}}}getOpacity(c){if(!this._transform.projection.supportsFog)return 0;const p=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:s.smoothstep(45,65,c))*p.a}getOpacityAtLatLng(c,p){return this._transform.projection.supportsFog?function(T,B,W){const se=s.MercatorCoordinate.fromLngLat(B),ue=W.elevation?W.elevation.getAtPointOrZero(se):0,me=[se.x,se.y,ue];return s.transformMat4(me,me,W.mercatorFogMatrix),X(T,me,W.pitch,W._fov)}(this.state,c,p):0}getFovAdjustedRange(c){return this._transform.projection.supportsFog?Y(this.state,c):[0,1]}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,T){return(!T||T.validate!==!1)&&s.emitValidationErrors(this,c.call(s.validateStyle,s.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class pe{constructor(c,p){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=s.uniqueId();const T=this.workerPool.acquire(this.id);for(let B=0;B<T.length;B++){const W=new pe.Actor(T[B],p,this.id);W.name=`Worker ${B}`,this.actors.push(W)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(c,p,T){s.asyncAll(this.actors,(B,W)=>{B.send(c,p,W)},T=T||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(c=>{c.remove()}),this.actors=[],this.workerPool.release(this.id)}}function F(_,c,p){return c*(s.EXTENT/(_.tileSize*Math.pow(2,p-_.tileID.overscaledZ)))}pe.Actor=s.Actor;class Q{constructor(c,p,T,B){this.screenBounds=c,this.cameraPoint=p,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=T,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,B)}static createFromScreenPoints(c,p){let T,B;if(c instanceof s.pointGeometry||typeof c[0]=="number"){const W=s.pointGeometry.convert(c);T=[W],B=p.isPointAboveHorizon(W)}else{const W=s.pointGeometry.convert(c[0]),se=s.pointGeometry.convert(c[1]);T=[W,se],B=s.polygonizeBounds(W,se).every(ue=>p.isPointAboveHorizon(ue))}return new Q(T,p.getCameraPoint(),B,p)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(c){return s.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],c)}bufferedCameraGeometry(c){const p=this.screenBounds[0],T=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],B=s.polygonizeBounds(p,T,0,!1);return this.cameraPoint.y>T.y&&(this.cameraPoint.x>p.x&&this.cameraPoint.x<T.x?B.splice(3,0,this.cameraPoint):this.cameraPoint.x>=T.x?B[2]=this.cameraPoint:this.cameraPoint.x<=p.x&&(B[3]=this.cameraPoint)),s.bufferConvexPolygon(B,c)}bufferedCameraGeometryGlobe(c){const p=this.screenBounds[0],T=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],B=s.polygonizeBounds(p,T,c),W=this.cameraPoint.clone();switch(3*((W.y>p.y)+(W.y>T.y))+((W.x>p.x)+(W.x>T.x))){case 0:B[0]=W,B[4]=W.clone();break;case 1:B.splice(1,0,W);break;case 2:B[1]=W;break;case 3:B.splice(4,0,W);break;case 5:B.splice(2,0,W);break;case 6:B[3]=W;break;case 7:B.splice(3,0,W);break;case 8:B[2]=W}return B}containsTile(c,p,T,B=0){const W=c.queryPadding/p._pixelsPerMercatorPixel+1,se=T?this._bufferedCameraMercator(W,p):this._bufferedScreenMercator(W,p);let ue=c.tileID.wrap+(se.unwrapped?B:0);const me=se.polygon.map(et=>s.getTilePoint(c.tileTransform,et,ue));if(!s.polygonIntersectsBox(me,0,0,s.EXTENT,s.EXTENT))return;ue=c.tileID.wrap+(this.screenGeometryMercator.unwrapped?B:0);const De=this.screenGeometryMercator.polygon.map(et=>s.getTileVec3(c.tileTransform,et,ue)),Ae=De.map(et=>new s.pointGeometry(et[0],et[1])),Fe=p.getFreeCameraOptions().position||new s.MercatorCoordinate(0,0,0),Ze=s.getTileVec3(c.tileTransform,Fe,ue),at=De.map(et=>{const nt=s.sub(et,et,Ze);return s.normalize(nt,nt),new s.Ray(Ze,nt)}),lt=F(c,1,p.zoom)*p._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Ae,tilespaceRays:at,bufferedTilespaceGeometry:me,bufferedTilespaceBounds:(ut=s.getBounds(me),ut.min.x=s.clamp(ut.min.x,0,s.EXTENT),ut.min.y=s.clamp(ut.min.y,0,s.EXTENT),ut.max.x=s.clamp(ut.max.x,0,s.EXTENT),ut.max.y=s.clamp(ut.max.y,0,s.EXTENT),ut),tile:c,tileID:c.tileID,pixelToTileUnitsFactor:lt};var ut}_bufferedScreenMercator(c,p){const T=ke(c);if(this._screenRaycastCache[T])return this._screenRaycastCache[T];{let B;return B=p.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(c),p):{polygon:this.bufferedScreenGeometry(c).map(W=>p.pointCoordinate3D(W)),unwrapped:!0},this._screenRaycastCache[T]=B,B}}_bufferedCameraMercator(c,p){const T=ke(c);if(this._cameraRaycastCache[T])return this._cameraRaycastCache[T];{let B;return B=p.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(c),p):{polygon:this.bufferedCameraGeometry(c).map(W=>p.pointCoordinate3D(W)),unwrapped:!0},this._cameraRaycastCache[T]=B,B}}_projectAndResample(c,p){const T=function(W,se){const ue=s.multiply([],se.pixelMatrix,se.globeMatrix),me=[0,-s.GLOBE_RADIUS,0,1],De=[0,s.GLOBE_RADIUS,0,1],Ae=[0,0,0,1];s.transformMat4$1(me,me,ue),s.transformMat4$1(De,De,ue),s.transformMat4$1(Ae,Ae,ue);const Fe=new s.pointGeometry(me[0]/me[3],me[1]/me[3]),Ze=new s.pointGeometry(De[0]/De[3],De[1]/De[3]),at=s.polygonContainsPoint(W,Fe)&&me[3]<Ae[3],lt=s.polygonContainsPoint(W,Ze)&&De[3]<Ae[3];if(!at&&!lt)return null;const ut=function(jt,ii,Jt){for(let Gt=1;Gt<jt.length;Gt++){const Mi=ge(ii.pointCoordinate3D(jt[Gt-1]).x),Xt=ge(ii.pointCoordinate3D(jt[Gt]).x);if(Jt<0){if(Mi<Xt)return{idx:Gt,t:-Mi/(Xt-1-Mi)}}else if(Xt<Mi)return{idx:Gt,t:(1-Mi)/(Xt+1-Mi)}}return null}(W,se,at?-1:1);if(!ut)return null;const{idx:et,t:nt}=ut;let mt=et>1?ce(W.slice(0,et),se):[],ct=et<W.length?ce(W.slice(et),se):[];mt=mt.map(jt=>new s.pointGeometry(ge(jt.x),jt.y)),ct=ct.map(jt=>new s.pointGeometry(ge(jt.x),jt.y));const xt=[...mt];xt.length===0&&xt.push(ct[ct.length-1]);const Pt=s.number(xt[xt.length-1].y,(ct.length===0?mt[0]:ct[0]).y,nt);let St;return St=at?[new s.pointGeometry(0,Pt),new s.pointGeometry(0,0),new s.pointGeometry(1,0),new s.pointGeometry(1,Pt)]:[new s.pointGeometry(1,Pt),new s.pointGeometry(1,1),new s.pointGeometry(0,1),new s.pointGeometry(0,Pt)],xt.push(...St),ct.length===0?xt.push(mt[0]):xt.push(...ct),{polygon:xt.map(jt=>new s.MercatorCoordinate(jt.x,jt.y)),unwrapped:!1}}(c,p);if(T)return T;const B=function(W,se){let ue=!1,me=-1/0,De=0;for(let Fe=0;Fe<W.length-1;Fe++)W[Fe].x>me&&(me=W[Fe].x,De=Fe);for(let Fe=0;Fe<W.length-1;Fe++){const Ze=(De+Fe)%(W.length-1),at=W[Ze],lt=W[Ze+1];Math.abs(at.x-lt.x)>.5&&(at.x<lt.x?(at.x+=1,Ze===0&&(W[W.length-1].x+=1)):(lt.x+=1,Ze+1===W.length-1&&(W[0].x+=1)),ue=!0)}const Ae=s.mercatorXfromLng(se.center.lng);return ue&&Ae<Math.abs(Ae-1)&&W.forEach(Fe=>{Fe.x-=1}),{polygon:W,unwrapped:ue}}(ce(c,p).map(W=>new s.pointGeometry(ge(W.x),W.y)),p);return{polygon:B.polygon.map(W=>new s.MercatorCoordinate(W.x,W.y)),unwrapped:B.unwrapped}}}function ce(_,c){return s.resample(_,p=>{const T=c.pointCoordinate3D(p);p.x=T.x,p.y=T.y},1/256)}function ge(_){return _<0?1+_%1:_%1}function ke(_){return 100*_|0}function re(_,c,p,T,B){const W=function(se,ue){if(se)return B(se);if(ue){_.url&&ue.tiles&&_.tiles&&delete _.tiles;const me=s.pick(s.extend(ue,_),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ue.vector_layers&&(me.vectorLayers=ue.vector_layers,me.vectorLayerIds=me.vectorLayers.map(De=>De.id)),me.tiles=c.canonicalizeTileset(me,_.url),B(null,me)}};return _.url?s.getJSON(c.transformRequest(c.normalizeSourceURL(_.url,null,p,T),s.ResourceType.Source),W):s.exported.frame(()=>W(null,_))}class ve{constructor(c,p,T){this.bounds=s.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=T||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),T=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*p),B=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*p),W=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*p),se=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=T&&c.x<W&&c.y>=B&&c.y<se}}class _e{constructor(c,p,T){this.context=c;const B=c.gl;this.buffer=B.createBuffer(),this.dynamicDraw=!!T,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),B.bufferData(B.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?B.DYNAMIC_DRAW:B.STATIC_DRAW),this.dynamicDraw||p.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const oe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ye{constructor(c,p,T,B){this.length=p.length,this.attributes=T,this.itemSize=p.bytesPerElement,this.dynamicDraw=B,this.context=c;const W=c.gl;this.buffer=W.createBuffer(),c.bindVertexBuffer.set(this.buffer),W.bufferData(W.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?W.DYNAMIC_DRAW:W.STATIC_DRAW),this.dynamicDraw||p.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let T=0;T<this.attributes.length;T++){const B=p.attributes[this.attributes[T].name];B!==void 0&&c.enableVertexAttribArray(B)}}setVertexAttribPointers(c,p,T){for(let B=0;B<this.attributes.length;B++){const W=this.attributes[B],se=p.attributes[W.name];se!==void 0&&c.vertexAttribPointer(se,W.components,c[oe[W.type]],!1,this.itemSize,W.offset+this.itemSize*(T||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Se{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Re extends Se{getDefault(){return s.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Oe extends Se{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class Ue extends Se{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class st extends Se{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Qe extends Se{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class qe extends Se{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class xe extends Se{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class Ie extends Se{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class Be extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class Xe extends Se{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Ke extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class pt extends Se{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class Tt extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class Lt extends Se{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class gi extends Se{getDefault(){return s.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Wt extends Se{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class pi extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class Gi extends Se{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class ht extends Se{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class It extends Se{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class ei extends Se{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class Pi extends Se{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class an extends Se{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Gn extends Se{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Kr extends Se{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class di extends Se{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class $i extends Se{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Wi extends Se{constructor(c){super(c),this.vao=c.extVertexArrayObject}getDefault(){return null}set(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)}}class Nr extends Se{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class mo extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class wn extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class ao extends Se{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class Ln extends ao{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class ja extends ao{attachment(){return this.gl.DEPTH_ATTACHMENT}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,this.attachment(),p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class il extends ja{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ft{constructor(c,p,T,B){this.context=c,this.width=p,this.height=T;const W=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new Ln(c,W),B&&(this.depthAttachment=new ja(c,W))}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const T=this.depthAttachment.get();T&&c.deleteRenderbuffer(T)}c.deleteFramebuffer(this.framebuffer)}}class Ne{constructor(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Re(this),this.clearDepth=new Oe(this),this.clearStencil=new Ue(this),this.colorMask=new st(this),this.depthMask=new Qe(this),this.stencilMask=new qe(this),this.stencilFunc=new xe(this),this.stencilOp=new Ie(this),this.stencilTest=new Be(this),this.depthRange=new Xe(this),this.depthTest=new Ke(this),this.depthFunc=new pt(this),this.blend=new Tt(this),this.blendFunc=new Lt(this),this.blendColor=new gi(this),this.blendEquation=new Wt(this),this.cullFace=new pi(this),this.cullFaceSide=new Gi(this),this.frontFace=new ht(this),this.program=new It(this),this.activeTexture=new ei(this),this.viewport=new Pi(this),this.bindFramebuffer=new an(this),this.bindRenderbuffer=new Gn(this),this.bindTexture=new Kr(this),this.bindVertexBuffer=new di(this),this.bindElementBuffer=new $i(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Wi(this),this.pixelStoreUnpack=new Nr(this),this.pixelStoreUnpackPremultiplyAlpha=new mo(this),this.pixelStoreUnpackFlipY=new wn(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=c.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=c.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=c.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=c.getExtension("OES_standard_derivatives"),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new _e(this,c,p)}createVertexBuffer(c,p,T){return new ye(this,c,p,T)}createRenderbuffer(c,p,T){const B=this.gl,W=B.createRenderbuffer();return this.bindRenderbuffer.set(W),B.renderbufferStorage(B.RENDERBUFFER,c,p,T),this.bindRenderbuffer.set(null),W}createFramebuffer(c,p,T){return new ft(this,c,p,T)}clear({color:c,depth:p,stencil:T}){const B=this.gl;let W=0;c&&(W|=B.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(W|=B.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),T!==void 0&&(W|=B.STENCIL_BUFFER_BIT,this.clearStencil.set(T),this.stencilMask.set(255)),B.clear(W)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){v(c.blendFunction,s.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class He extends s.Evented{constructor(c,p,T,B){super(),this.id=c,this.dispatcher=T,this.setEventedParent(B),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},p),s.extend(this,s.pick(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=re(this._options,this.map._requestManager,null,null,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new s.ErrorEvent(c)):p&&(s.extend(this,p),p.bounds&&(this.tileBounds=new ve(p.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(p.tiles),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const T=s.exported.devicePixelRatio>=2,B=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),T,this.tileSize);c.request=s.getImage(this.map._requestManager.transformRequest(B,s.ResourceType.Tile),(W,se,ue,me)=>(delete c.request,c.aborted?(c.state="unloaded",p(null)):W?(c.state="errored",p(W)):se?(this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:ue,expires:me}),c.setTexture(se,this.map.painter),c.state="loaded",s.cacheEntryPossiblyAdded(this.dispatcher),void p(null)):p(null)))}static loadTileData(c,p,T){c.setTexture(p,T)}static unloadTileData(c,p){c.texture&&p.saveTileTexture(c.texture)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}let dt;function _t(_,c,p,T,B,W,se,ue){const me=[_,p,B,c,T,W,1,1,1],De=[se,ue,1],Ae=s.adjoint([],me),[Fe,Ze,at]=s.transformMat3(De,De,s.transpose(Ae,Ae));return s.multiply$1(me,[Fe,0,0,0,Ze,0,0,0,at],me)}class Ot extends s.Evented{constructor(c,p,T,B){super(),this.id=c,this.dispatcher=T,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(B),this.options=p,this._dirty=!1}load(c,p){this._loaded=p||!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),(T,B)=>{if(this._imageRequest=null,this._loaded=!0,T)this.fire(new s.ErrorEvent(T));else if(B){const{HTMLImageElement:W}=s.window;this.image=B instanceof W?s.exported.getImageData(B):B,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,c&&(this.coordinates=c),this._finishLoading()}})}loaded(){return this._loaded}updateImage(c){return this.image&&c.url?(this._imageRequest&&c.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=c.url,this.load(c.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(c){this.coordinates=c,this._boundsArray=void 0;const p=c.map(s.MercatorCoordinate.fromLngLat);return this.tileID=function(T){let B=1/0,W=1/0,se=-1/0,ue=-1/0;for(const Fe of T)B=Math.min(B,Fe.x),W=Math.min(W,Fe.y),se=Math.max(se,Fe.x),ue=Math.max(ue,Fe.y);const me=Math.max(se-B,ue-W),De=Math.max(0,Math.floor(-Math.log(me)/Math.LN2)),Ae=Math.pow(2,De);return new s.CanonicalTileID(De,Math.floor((B+se)/2*Ae),Math.floor((W+ue)/2*Ae))}(p),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(c){for(const me in this.tiles){const De=this.tiles[me];De.state!=="loaded"&&(De.state="loaded",De.texture=this.texture)}if(this._boundsArray)return;const p=s.tileTransform(this.tileID,this.map.transform.projection),[T,B,W,se]=this.coordinates.map(me=>{const De=p.projection.project(me[0],me[1]);return s.getTilePoint(p,De)._round()});this.perspectiveTransform=function(me,De,Ae,Fe,Ze,at,lt,ut,et,nt){const mt=_t(0,0,me,0,0,De,me,De),ct=_t(Ae,Fe,Ze,at,lt,ut,et,nt);return s.multiply$1(ct,s.adjoint(mt,mt),ct),[ct[6]/ct[8]*me/s.EXTENT,ct[7]/ct[8]*De/s.EXTENT]}(this.width,this.height,T.x,T.y,B.x,B.y,se.x,se.y,W.x,W.y);const ue=this._boundsArray=new s.StructArrayLayout4i8;ue.emplaceBack(T.x,T.y,0,0),ue.emplaceBack(B.x,B.y,s.EXTENT,0),ue.emplaceBack(se.x,se.y,0,s.EXTENT),ue.emplaceBack(W.x,W.y,s.EXTENT,s.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=c.createVertexBuffer(ue,s.boundsAttributes.members),this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,p=c.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new s.Texture(c,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(c)}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ut={vector:class extends s.Evented{constructor(_,c,p,T){if(super(),this.id=_,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(c,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(T),this._tileWorkers={},this._deduped=new s.DedupedRequest}load(_){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"}));const c=Array.isArray(this.map._language)?this.map._language.join():this.map._language,p=this.map._worldview;this._tileJSONRequest=re(this._options,this.map._requestManager,c,p,(T,B)=>{this._tileJSONRequest=null,this._loaded=!0,T?(c&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${c}`),p&&p.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${p}`),this.fire(new s.ErrorEvent(T))):B&&(s.extend(this,B),B.bounds&&(this.tileBounds=new ve(B.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(B.tiles,this.map._requestManager._customAccessToken),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))),_&&_(T)})}loaded(){return this._loaded}hasTile(_){return!this.tileBounds||this.tileBounds.contains(_.canonical)}onAdd(_){this.map=_,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const _=this.map.style._getSourceCaches(this.id);for(const c of _)c.clearTiles()})}setSourceProperty(_){_(),this.reload()}setTiles(_){return this._options.tiles=_,this.reload(),this}setUrl(_){return this.url=_,this._options.url=_,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return s.extend({},this._options)}loadTile(_,c){const p=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme)),T={request:this.map._requestManager.transformRequest(p,s.ResourceType.Tile),data:void 0,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,tileSize:this.tileSize*_.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:_.isSymbolTile};if(T.request.collectResourceTiming=this._collectResourceTiming,_.actor&&_.state!=="expired")_.state==="loading"?_.reloadCallback=c:_.request=_.actor.send("reloadTile",T,B.bind(this));else if(_.actor=this._tileWorkers[p]=this._tileWorkers[p]||this.dispatcher.getActor(),this.dispatcher.ready)_.request=_.actor.send("loadTile",T,B.bind(this),void 0,!0);else{const W=s.loadVectorTile.call({deduped:this._deduped},T,(se,ue)=>{se||!ue?B.call(this,se):(T.data={cacheControl:ue.cacheControl,expires:ue.expires,rawData:ue.rawData.slice(0)},_.actor&&_.actor.send("loadTile",T,B.bind(this),void 0,!0))},!0);_.request={cancel:W}}function B(W,se){return delete _.request,_.aborted?c(null):W&&W.status!==404?c(W):(se&&se.resourceTiming&&(_.resourceTiming=se.resourceTiming),this.map._refreshExpiredTiles&&se&&_.setExpiryData(se),_.loadVectorData(se,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),c(null),void(_.reloadCallback&&(this.loadTile(_,_.reloadCallback),_.reloadCallback=null)))}}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.actor&&_.actor.send("abortTile",{uid:_.uid,type:this.type,source:this.id})}unloadTile(_){_.unloadVectorData(),_.actor&&_.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:He,"raster-dem":class extends He{constructor(_,c,p,T){super(_,c,p,T),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}loadTile(_,c){const p=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function T(B,W){B&&(_.state="errored",c(B)),W&&(_.dem=W,_.dem.onDeserialize(),_.needsHillshadePrepare=!0,_.needsDEMTextureUpload=!0,_.state="loaded",c(null))}_.request=s.getImage(this.map._requestManager.transformRequest(p,s.ResourceType.Tile),(function(B,W,se,ue){if(delete _.request,_.aborted)_.state="unloaded",c(null);else if(B)_.state="errored",c(B);else if(W){this.map._refreshExpiredTiles&&_.setExpiryData({cacheControl:se,expires:ue});const me=s.window.ImageBitmap&&W instanceof s.window.ImageBitmap&&(dt==null&&(dt=s.window.OffscreenCanvas&&new s.window.OffscreenCanvas(1,1).getContext("2d")&&typeof s.window.createImageBitmap=="function"),dt),De=1-(W.width-s.prevPowerOfTwo(W.width))/2;De<1||_.neighboringTiles||(_.neighboringTiles=this._getNeighboringTiles(_.tileID));const Ae=me?W:s.exported.getImageData(W,De),Fe={uid:_.uid,coord:_.tileID,source:this.id,rawImageData:Ae,encoding:this.encoding,padding:De};_.actor&&_.state!=="expired"||(_.actor=this.dispatcher.getActor(),_.actor.send("loadDEMTile",Fe,T.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(_){const c=_.canonical,p=Math.pow(2,c.z),T=(c.x-1+p)%p,B=c.x===0?_.wrap-1:_.wrap,W=(c.x+1+p)%p,se=c.x+1===p?_.wrap+1:_.wrap,ue={};return ue[new s.OverscaledTileID(_.overscaledZ,B,c.z,T,c.y).key]={backfilled:!1},ue[new s.OverscaledTileID(_.overscaledZ,se,c.z,W,c.y).key]={backfilled:!1},c.y>0&&(ue[new s.OverscaledTileID(_.overscaledZ,B,c.z,T,c.y-1).key]={backfilled:!1},ue[new s.OverscaledTileID(_.overscaledZ,_.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},ue[new s.OverscaledTileID(_.overscaledZ,se,c.z,W,c.y-1).key]={backfilled:!1}),c.y+1<p&&(ue[new s.OverscaledTileID(_.overscaledZ,B,c.z,T,c.y+1).key]={backfilled:!1},ue[new s.OverscaledTileID(_.overscaledZ,_.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},ue[new s.OverscaledTileID(_.overscaledZ,se,c.z,W,c.y+1).key]={backfilled:!1}),ue}unloadTile(_){_.demTexture&&this.map.painter.saveTileTexture(_.demTexture),_.fbo&&(_.fbo.destroy(),delete _.fbo),_.dem&&delete _.dem,delete _.neighboringTiles,_.state="unloaded"}},geojson:class extends s.Evented{constructor(_,c,p,T){super(),this.id=_,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=p.getActor(),this.setEventedParent(T),this._data=c.data,this._options=s.extend({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const B=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*B,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*B,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:s.EXTENT,radius:(c.clusterRadius!==void 0?c.clusterRadius:50)*B,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions)}onAdd(_){this.map=_,this.setData(this._data)}setData(_){return this._data=_,this._updateWorkerData(),this}getClusterExpansionZoom(_,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:_,source:this.id},c),this}getClusterChildren(_,c){return this.actor.send("geojson.getClusterChildren",{clusterId:_,source:this.id},c),this}getClusterLeaves(_,c,p,T){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:_,limit:c,offset:p},T),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new s.Event("dataloading",{dataType:"source"})),this._loaded=!1;const _=s.extend({},this.workerOptions),c=this._data;typeof c=="string"?(_.request=this.map._requestManager.transformRequest(s.exported.resolveURL(c),s.ResourceType.Source),_.request.collectResourceTiming=this._collectResourceTiming):_.data=JSON.stringify(c),this._pendingLoad=this.actor.send(`${this.type}.loadData`,_,(p,T)=>{if(this._loaded=!0,this._pendingLoad=null,p)this.fire(new s.ErrorEvent(p));else{const B={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&T&&T.resourceTiming&&T.resourceTiming[this.id]&&(B.resourceTiming=T.resourceTiming[this.id]),this.fire(new s.Event("data",B)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(_,c){const p=_.actor?"reloadTile":"loadTile";_.actor=this.actor,_.request=this.actor.send(p,{type:this.type,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(T,B)=>(delete _.request,_.unloadVectorData(),_.aborted?c(null):T?c(T):(_.loadVectorData(B,this.map.painter,p==="reloadTile"),c(null))),void 0,p==="loadTile")}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.aborted=!0}unloadTile(_){_.unloadVectorData(),this.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Ot{constructor(_,c,p,T){super(_,c,p,T),this.roundZoom=!0,this.type="video",this.options=c}load(){this._loaded=!1;const _=this.options;this.urls=[];for(const c of _.urls)this.urls.push(this.map._requestManager.transformRequest(c,s.ResourceType.Source).url);s.getVideo(this.urls,(c,p)=>{this._loaded=!0,c?this.fire(new s.ErrorEvent(c)):p&&(this.video=p,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(_){if(this.video){const c=this.video.seekable;_<c.start(0)||_>c.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=_}}getVideo(){return this.video}onAdd(_){this.map||(this.map=_,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,c=_.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(_,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(_)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Ot,canvas:class extends Ot{constructor(_,c,p,T){super(_,c,p,T),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(B=>!Array.isArray(B)||B.length!==2||B.some(W=>typeof W!="number"))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof s.window.HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(_){this.map=_,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context;this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(c,this.canvas,c.gl.RGBA,{premultiply:!0}),this._prepareData(c)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const _ of[this.canvas.width,this.canvas.height])if(isNaN(_)||_<=0)return!0;return!1}},custom:class extends s.Evented{constructor(_,c,p,T){super(),this.id=_,this.type="custom",this._dataType="raster",this._dispatcher=p,this._implementation=c,this.setEventedParent(T),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new s.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new s.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ve(this._implementation.bounds,this.minzoom,this.maxzoom)),c.update=this._update.bind(this),c.clearTiles=this._clearTiles.bind(this),c.coveringTiles=this._coveringTiles.bind(this),s.extend(this,s.pick(c,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return s.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(_){this._map=_,this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(_),this.load()}onRemove(_){this._implementation.onRemove&&this._implementation.onRemove(_)}hasTile(_){if(this._implementation.hasTile){const{x:c,y:p,z:T}=_.canonical;return this._implementation.hasTile({x:c,y:p,z:T})}return!this.tileBounds||this.tileBounds.contains(_.canonical)}loadTile(_,c){const{x:p,y:T,z:B}=_.tileID.canonical,W=new s.window.AbortController;_.request=Promise.resolve(this._implementation.loadTile({x:p,y:T,z:B},{signal:W.signal})).then((function(se){return delete _.request,_.aborted?(_.state="unloaded",c(null)):se===void 0?(_.state="errored",c(null)):se===null?(this.loadTileData(_,{width:this.tileSize,height:this.tileSize,data:null}),_.state="loaded",c(null)):function(ue){return ue instanceof s.window.ImageData||ue instanceof s.window.HTMLCanvasElement||ue instanceof s.window.ImageBitmap||ue instanceof s.window.HTMLImageElement}(se)?(this.loadTileData(_,se),_.state="loaded",void c(null)):(_.state="errored",c(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(se=>{se.code!==20&&(_.state="errored",c(se))}),_.request.cancel=()=>W.abort()}loadTileData(_,c){He.loadTileData(_,c,this._map.painter)}unloadTileData(_){He.unloadTileData(_,this._map.painter)}unloadTile(_,c){if(this.unloadTileData(_),this._implementation.unloadTile){const{x:p,y:T,z:B}=_.tileID.canonical;this._implementation.unloadTile({x:p,y:T,z:B})}c()}abortTile(_,c){_.request&&_.request.cancel&&(_.request.cancel(),delete _.request),c()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(_=>({x:_.canonical.x,y:_.canonical.y,z:_.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Ht=function(_,c,p,T){const B=new Ut[c.type](_,c,p,T);if(B.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${B.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],B),B};function zt(_,c){const p=s.identity([]);return s.scale(p,p,[.5*_.width,.5*-_.height,1]),s.translate(p,p,[1,-1,0]),s.multiply(p,p,_.calculateProjMatrix(c.toUnwrapped())),Float32Array.from(p)}function Zt(_,c,p,T,B,W,se,ue=!1){const me=_.tilesIn(T,se,ue);me.sort(Zi);const De=[];for(const Fe of me)De.push({wrappedTileID:Fe.tile.tileID.wrapped().key,queryResults:Fe.tile.queryRenderedFeatures(c,p,_._state,Fe,B,W,zt(_.transform,Fe.tile.tileID),ue)});const Ae=function(Fe){const Ze={},at={};for(const lt of Fe){const ut=lt.queryResults,et=lt.wrappedTileID,nt=at[et]=at[et]||{};for(const mt in ut){const ct=ut[mt],xt=nt[mt]=nt[mt]||{},Pt=Ze[mt]=Ze[mt]||[];for(const St of ct)xt[St.featureIndex]||(xt[St.featureIndex]=!0,Pt.push(St))}}return Ze}(De);for(const Fe in Ae)Ae[Fe].forEach(Ze=>{const at=Ze.feature,lt=at.layer;lt&&lt.type!=="background"&&lt.type!=="sky"&&(at.source=lt.source,lt["source-layer"]&&(at.sourceLayer=lt["source-layer"]),at.state=at.id!==void 0?_.getFeatureState(lt["source-layer"],at.id):{})});return Ae}function xi(_,c){const p=_.getRenderableIds().map(W=>_.getTileByID(W)),T=[],B={};for(let W=0;W<p.length;W++){const se=p[W],ue=se.tileID.canonical.key;B[ue]||(B[ue]=!0,se.querySourceFeatures(T,c))}return T}function Zi(_,c){const p=_.tileID,T=c.tileID;return p.overscaledZ-T.overscaledZ||p.canonical.y-T.canonical.y||p.wrap-T.wrap||p.canonical.x-T.canonical.x}function Di(){return lu.workerClass!=null?new lu.workerClass:new s.window.Worker(lu.workerUrl)}const Mn="mapboxgl_preloaded_worker_pool";class Cn{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Cn.workerCount;)this.workers.push(new Di);return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Mn]}numActive(){return Object.keys(this.active).length}}let un;function Hi(){return un||(un=new Cn),un}function lr(_,c){const p={};for(const T in _)T!=="ref"&&(p[T]=_[T]);return s.refProperties.forEach(T=>{T in c&&(p[T]=c[T])}),p}function kr(_){_=_.slice();const c=Object.create(null);for(let p=0;p<_.length;p++)c[_[p].id]=_[p];for(let p=0;p<_.length;p++)"ref"in _[p]&&(_[p]=lr(_[p],c[_[p].ref]));return _}Cn.workerCount=2;const _n={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Yr(_,c,p){p.push({command:_n.addSource,args:[_,c[_]]})}function Lr(_,c,p){c.push({command:_n.removeSource,args:[_]}),p[_]=!0}function Ua(_,c,p,T){Lr(_,p,T),Yr(_,c,p)}function $a(_,c,p){let T;for(T in _[p])if(_[p].hasOwnProperty(T)&&T!=="data"&&!v(_[p][T],c[p][T]))return!1;for(T in c[p])if(c[p].hasOwnProperty(T)&&T!=="data"&&!v(_[p][T],c[p][T]))return!1;return!0}function go(_,c,p,T,B,W){let se;for(se in c=c||{},_=_||{})_.hasOwnProperty(se)&&(v(_[se],c[se])||p.push({command:W,args:[T,se,c[se],B]}));for(se in c)c.hasOwnProperty(se)&&!_.hasOwnProperty(se)&&(v(_[se],c[se])||p.push({command:W,args:[T,se,c[se],B]}))}function fi(_){return _.id}function ps(_,c){return _[c.id]=c,_}class Ls{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let T=1;T<this.points.length;T++)this._distances[T]=this._distances[T-1]+this.points[T].dist(this.points[T-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=s.clamp(c,0,1);let p=1,T=this._distances[p];const B=c*this.paddedLength+this.padding;for(;T<B&&p<this._distances.length;)T=this._distances[++p];const W=p-1,se=this._distances[W],ue=T-se,me=ue>0?(B-se)/ue:0;return this.points[W].mult(1-me).add(this.points[p].mult(me))}}class Os{constructor(c,p,T){const B=this.boxCells=[],W=this.circleCells=[];this.xCellCount=Math.ceil(c/T),this.yCellCount=Math.ceil(p/T);for(let se=0;se<this.xCellCount*this.yCellCount;se++)B.push([]),W.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,T,B,W){this._forEachCell(p,T,B,W,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(T),this.bboxes.push(B),this.bboxes.push(W)}insertCircle(c,p,T,B){this._forEachCell(p-B,T-B,p+B,T+B,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(T),this.circles.push(B)}_insertBoxCell(c,p,T,B,W,se){this.boxCells[W].push(se)}_insertCircleCell(c,p,T,B,W,se){this.circleCells[W].push(se)}_query(c,p,T,B,W,se){if(T<0||c>this.width||B<0||p>this.height)return!W&&[];const ue=[];if(c<=0&&p<=0&&this.width<=T&&this.height<=B){if(W)return!0;for(let me=0;me<this.boxKeys.length;me++)ue.push({key:this.boxKeys[me],x1:this.bboxes[4*me],y1:this.bboxes[4*me+1],x2:this.bboxes[4*me+2],y2:this.bboxes[4*me+3]});for(let me=0;me<this.circleKeys.length;me++){const De=this.circles[3*me],Ae=this.circles[3*me+1],Fe=this.circles[3*me+2];ue.push({key:this.circleKeys[me],x1:De-Fe,y1:Ae-Fe,x2:De+Fe,y2:Ae+Fe})}return se?ue.filter(se):ue}return this._forEachCell(c,p,T,B,this._queryCell,ue,{hitTest:W,seenUids:{box:{},circle:{}}},se),W?ue.length>0:ue}_queryCircle(c,p,T,B,W){const se=c-T,ue=c+T,me=p-T,De=p+T;if(ue<0||se>this.width||De<0||me>this.height)return!B&&[];const Ae=[];return this._forEachCell(se,me,ue,De,this._queryCellCircle,Ae,{hitTest:B,circle:{x:c,y:p,radius:T},seenUids:{box:{},circle:{}}},W),B?Ae.length>0:Ae}query(c,p,T,B,W){return this._query(c,p,T,B,!1,W)}hitTest(c,p,T,B,W){return this._query(c,p,T,B,!0,W)}hitTestCircle(c,p,T,B){return this._queryCircle(c,p,T,!0,B)}_queryCell(c,p,T,B,W,se,ue,me){const De=ue.seenUids,Ae=this.boxCells[W];if(Ae!==null){const Ze=this.bboxes;for(const at of Ae)if(!De.box[at]){De.box[at]=!0;const lt=4*at;if(c<=Ze[lt+2]&&p<=Ze[lt+3]&&T>=Ze[lt+0]&&B>=Ze[lt+1]&&(!me||me(this.boxKeys[at]))){if(ue.hitTest)return se.push(!0),!0;se.push({key:this.boxKeys[at],x1:Ze[lt],y1:Ze[lt+1],x2:Ze[lt+2],y2:Ze[lt+3]})}}}const Fe=this.circleCells[W];if(Fe!==null){const Ze=this.circles;for(const at of Fe)if(!De.circle[at]){De.circle[at]=!0;const lt=3*at;if(this._circleAndRectCollide(Ze[lt],Ze[lt+1],Ze[lt+2],c,p,T,B)&&(!me||me(this.circleKeys[at]))){if(ue.hitTest)return se.push(!0),!0;{const ut=Ze[lt],et=Ze[lt+1],nt=Ze[lt+2];se.push({key:this.circleKeys[at],x1:ut-nt,y1:et-nt,x2:ut+nt,y2:et+nt})}}}}}_queryCellCircle(c,p,T,B,W,se,ue,me){const De=ue.circle,Ae=ue.seenUids,Fe=this.boxCells[W];if(Fe!==null){const at=this.bboxes;for(const lt of Fe)if(!Ae.box[lt]){Ae.box[lt]=!0;const ut=4*lt;if(this._circleAndRectCollide(De.x,De.y,De.radius,at[ut+0],at[ut+1],at[ut+2],at[ut+3])&&(!me||me(this.boxKeys[lt])))return se.push(!0),!0}}const Ze=this.circleCells[W];if(Ze!==null){const at=this.circles;for(const lt of Ze)if(!Ae.circle[lt]){Ae.circle[lt]=!0;const ut=3*lt;if(this._circlesCollide(at[ut],at[ut+1],at[ut+2],De.x,De.y,De.radius)&&(!me||me(this.circleKeys[lt])))return se.push(!0),!0}}}_forEachCell(c,p,T,B,W,se,ue,me){const De=this._convertToXCellCoord(c),Ae=this._convertToYCellCoord(p),Fe=this._convertToXCellCoord(T),Ze=this._convertToYCellCoord(B);for(let at=De;at<=Fe;at++)for(let lt=Ae;lt<=Ze;lt++)if(W.call(this,c,p,T,B,this.xCellCount*lt+at,se,ue,me))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,T,B,W,se){const ue=B-c,me=W-p,De=T+se;return De*De>ue*ue+me*me}_circleAndRectCollide(c,p,T,B,W,se,ue){const me=(se-B)/2,De=Math.abs(c-(B+me));if(De>me+T)return!1;const Ae=(ue-W)/2,Fe=Math.abs(p-(W+Ae));if(Fe>Ae+T)return!1;if(De<=me||Fe<=Ae)return!0;const Ze=De-me,at=Fe-Ae;return Ze*Ze+at*at<=T*T}}const bc=Math.tan(85*Math.PI/180);function Ao(_,c,p,T,B,W,se){const ue=s.create();if(p)if(W.name==="globe"){const me=s.calculateGlobeLabelMatrix(B,c);s.multiply(ue,ue,me)}else{const me=$([],se);ue[0]=me[0],ue[1]=me[1],ue[4]=me[2],ue[5]=me[3],T||s.rotateZ(ue,ue,B.angle)}else s.multiply(ue,B.labelPlaneMatrix,_);return ue}function Yc(_,c,p,T,B,W,se){const ue=Ao(_,c,p,T,B,W,se);return W.name==="globe"&&p||(ue[2]=ue[6]=ue[10]=ue[14]=0),ue}function iu(_,c,p,T,B,W,se){if(p){if(W.name==="globe"){const ue=Ao(_,c,p,T,B,W,se);return s.invert(ue,ue),s.multiply(ue,_,ue),ue}{const ue=s.clone(_),me=s.identity([]);return me[0]=se[0],me[1]=se[1],me[4]=se[2],me[5]=se[3],s.multiply(ue,ue,me),T||s.rotateZ(ue,ue,-B.angle),ue}}return B.glCoordMatrix}function lo(_,c,p,T){const B=[_,c,p,1];p?s.transformMat4$1(B,B,T):Gr(B,B,T);const W=B[3];return B[0]/=W,B[1]/=W,B[2]/=W,B}function Ki(_,c){return Math.min(.5+_/c*.5,1.5)}function tr(_,c){const p=_[0]/_[3],T=_[1]/_[3];return p>=-c[0]&&p<=c[0]&&T>=-c[1]&&T<=c[1]}function cr(_,c,p,T,B,W,se,ue,me,De){const Ae=p.transform,Fe=T?_.textSizeData:_.iconSizeData,Ze=s.evaluateSizeForZoom(Fe,p.transform.zoom),at=Ae.projection.name==="globe",lt=[256/p.width*2+1,256/p.height*2+1],ut=T?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;ut.clear();let et=null;at&&(et=T?_.text.globeExtVertexArray:_.icon.globeExtVertexArray);const nt=_.lineVertexArray,mt=T?_.text.placedSymbolArray:_.icon.placedSymbolArray,ct=p.transform.width/p.transform.height;let xt,Pt=!1;for(let St=0;St<mt.length;St++){const jt=mt.get(St),{numGlyphs:ii,writingMode:Jt}=jt;if(Jt!==s.WritingMode.vertical||Pt||xt===s.WritingMode.horizontal||(Pt=!0),xt=Jt,(jt.hidden||Jt===s.WritingMode.vertical)&&!Pt){Zs(ii,ut);continue}Pt=!1;const Gt=new s.pointGeometry(jt.tileAnchorX,jt.tileAnchorY);let{x:Mi,y:Xt,z:yi}=Ae.projection.projectTilePoint(Gt.x,Gt.y,De.canonical);if(me){const[Sn,gn,jn]=me(Gt);Mi+=Sn,Xt+=gn,yi+=jn}const ri=[Mi,Xt,yi,1];if(s.transformMat4$1(ri,ri,c),!tr(ri,lt)){Zs(ii,ut);continue}const Ri=Ki(p.transform.cameraToCenterDistance,ri[3]),si=s.evaluateSizeForFeature(Fe,Ze,jt),Si=se?si/Ri:si*Ri,Ni=lo(Mi,Xt,yi,B);if(Ni[3]<=0){Zs(ii,ut);continue}let Yt={};const ni=se?null:me,mn=Nn(jt,Si,!1,ue,c,B,W,_.glyphOffsetArray,nt,ut,et,Ni,Gt,Yt,ct,ni,Ae.projection,De,se);Pt=mn.useVertical,ni&&mn.needsFlipping&&(Yt={}),(mn.notEnoughRoom||Pt||mn.needsFlipping&&Nn(jt,Si,!0,ue,c,B,W,_.glyphOffsetArray,nt,ut,et,Ni,Gt,Yt,ct,ni,Ae.projection,De,se).notEnoughRoom)&&Zs(ii,ut)}T?(_.text.dynamicLayoutVertexBuffer.updateData(ut),et&&_.text.globeExtVertexBuffer.updateData(et)):(_.icon.dynamicLayoutVertexBuffer.updateData(ut),et&&_.icon.globeExtVertexBuffer.updateData(et))}function Jo(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,Ze,at,lt,ut){const{lineStartIndex:et,glyphStartIndex:nt,segment:mt}=ue,ct=nt+ue.numGlyphs,xt=et+ue.lineLength,Pt=c.getoffsetX(nt),St=c.getoffsetX(ct-1),jt=nl(_*Pt,p,T,B,W,se,mt,et,xt,me,De,Ae,Fe,Ze,!0,at,lt,ut);if(!jt)return null;const ii=nl(_*St,p,T,B,W,se,mt,et,xt,me,De,Ae,Fe,Ze,!0,at,lt,ut);return ii?{first:jt,last:ii}:null}function Va(_,c,p,T){return _===s.WritingMode.horizontal&&Math.abs(T)>Math.abs(p)?{useVertical:!0}:_===s.WritingMode.vertical?T>0?{needsFlipping:!0}:null:c!==0&&function(B,W){return B===0||Math.abs(W/B)>bc}(p,T)?c===1?{needsFlipping:!0}:null:p<0?{needsFlipping:!0}:null}function Nn(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,Ze,at,lt,ut,et,nt,mt){const ct=c/24,xt=_.lineOffsetX*ct,Pt=_.lineOffsetY*ct,{lineStartIndex:St,glyphStartIndex:jt,numGlyphs:ii,segment:Jt,writingMode:Gt,flipState:Mi}=_,Xt=St+_.lineLength,yi=ri=>{if(Ae){const[Ni,Yt,ni]=ri.up,mn=De.length;s.updateGlobeVertexNormal(Ae,mn+0,Ni,Yt,ni),s.updateGlobeVertexNormal(Ae,mn+1,Ni,Yt,ni),s.updateGlobeVertexNormal(Ae,mn+2,Ni,Yt,ni),s.updateGlobeVertexNormal(Ae,mn+3,Ni,Yt,ni)}const[Ri,si,Si]=ri.point;s.addDynamicAttributes(De,Ri,si,Si,ri.angle)};if(ii>1){const ri=Jo(ct,ue,xt,Pt,p,Fe,Ze,_,me,W,at,ut,!1,et,nt,mt);if(!ri)return{notEnoughRoom:!0};if(T&&!p){let[Ri,si,Si]=ri.first.point,[Ni,Yt,ni]=ri.last.point;[Ri,si]=lo(Ri,si,Si,se),[Ni,Yt]=lo(Ni,Yt,ni,se);const mn=Va(Gt,Mi,(Ni-Ri)*lt,Yt-si);if(_.flipState=mn&&mn.needsFlipping?1:2,mn)return mn}yi(ri.first);for(let Ri=jt+1;Ri<jt+ii-1;Ri++){const si=nl(ct*ue.getoffsetX(Ri),xt,Pt,p,Fe,Ze,Jt,St,Xt,me,W,at,ut,!1,!1,et,nt,mt);if(!si)return De.length-=4*(Ri-jt),{notEnoughRoom:!0};yi(si)}yi(ri.last)}else{if(T&&!p){const Ri=lo(Ze.x,Ze.y,0,B),si=St+Jt+1,Si=new s.pointGeometry(me.getx(si),me.gety(si)),Ni=lo(Si.x,Si.y,0,B),Yt=Ni[3]>0?Ni:Ca(Ze,Si,Ri,1,B,void 0,et,nt.canonical),ni=Va(Gt,Mi,(Yt[0]-Ri[0])*lt,Yt[1]-Ri[1]);if(_.flipState=ni&&ni.needsFlipping?1:2,ni)return ni}const ri=nl(ct*ue.getoffsetX(jt),xt,Pt,p,Fe,Ze,Jt,St,Xt,me,W,at,ut,!1,!1,et,nt,mt);if(!ri)return{notEnoughRoom:!0};yi(ri)}return{}}function wc(_,c,p,T,B){const{x:W,y:se,z:ue}=T.projectTilePoint(_.x,_.y,c);if(!B)return lo(W,se,ue,p);const[me,De,Ae]=B(_);return lo(W+me,se+De,ue+Ae,p)}function Ca(_,c,p,T,B,W,se,ue){const me=wc(_.sub(c)._unit()._add(_),ue,B,se,W);return s.sub(me,p,me),s.normalize(me,me),s.scaleAndAdd(me,p,me,T)}function nl(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,Ze,at,lt,ut,et,nt){const mt=T?_-c:_+c;let ct=mt>0?1:-1,xt=0;T&&(ct*=-1,xt=Math.PI),ct<0&&(xt+=Math.PI);let Pt=ue+se+(ct>0?0:1)|0,St=B,jt=B,ii=0,Jt=0;const Gt=Math.abs(mt),Mi=[],Xt=[];let yi=W,ri=yi;const Ri=()=>Ca(ri,yi,jt,Gt-ii+1,Ae,Ze,ut,et.canonical);for(;ii+Jt<=Gt;){if(Pt+=ct,Pt<ue||Pt>=me)return null;if(jt=St,ri=yi,Mi.push(jt),at&&Xt.push(ri),yi=new s.pointGeometry(De.getx(Pt),De.gety(Pt)),St=Fe[Pt],!St){const jn=wc(yi,et.canonical,Ae,ut,Ze);St=jn[3]>0?Fe[Pt]=jn:Ri()}ii+=Jt,Jt=s.distance(jt,St)}lt&&Ze&&(Fe[Pt]&&(St=Ri(),Jt=s.distance(jt,St)),Fe[Pt]=St);const si=(Gt-ii)/Jt,Si=yi.sub(ri)._mult(si)._add(ri),Ni=s.sub([],St,jt),Yt=s.scaleAndAdd([],jt,Ni,si);let ni=[0,0,1],mn=Ni[0],Sn=Ni[1];if(nt&&(ni=ut.upVector(et.canonical,Si.x,Si.y),ni[0]!==0||ni[1]!==0||ni[2]!==1)){const jn=[ni[2],0,-ni[0]],or=s.cross([],ni,jn);s.normalize(jn,jn),s.normalize(or,or),mn=s.dot(Ni,jn),Sn=s.dot(Ni,or)}if(p){const jn=s.cross([],ni,Ni);s.normalize(jn,jn),s.scaleAndAdd(Yt,Yt,jn,p*ct)}const gn=xt+Math.atan2(Sn,mn);return Mi.push(Yt),at&&Xt.push(Si),{point:Yt,angle:gn,path:Mi,tilePath:Xt,up:ni}}function Zs(_,c){const p=c.length,T=p+4*_;c.resize(T),c.float32.fill(-1/0,4*p,4*T)}function Gr(_,c,p){const T=c[0],B=c[1];return _[0]=p[0]*T+p[4]*B+p[12],_[1]=p[1]*T+p[5]*B+p[13],_[3]=p[3]*T+p[7]*B+p[15],_}const co=100;class Uo{constructor(c,p,T=new Os(c.width+200,c.height+200,25),B=new Os(c.width+200,c.height+200,25)){this.transform=c,this.grid=T,this.ignoredGrid=B,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+co,this.screenBottomBoundary=c.height+co,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.fogState=p}placeCollisionBox(c,p,T,B,W,se,ue,me){let De=T.projectedAnchorX,Ae=T.projectedAnchorY,Fe=T.projectedAnchorZ;const Ze=T.elevation,at=T.tileID,lt=c.getProjection();if(Ze&&at){const[St,jt,ii]=lt.upVector(at.canonical,T.tileAnchorX,T.tileAnchorY),Jt=lt.upVectorScale(at.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;De+=St*Ze*Jt,Ae+=jt*Ze*Jt,Fe+=ii*Ze*Jt}const ut=this.projectAndGetPerspectiveRatio(ue,De,Ae,Fe,T.tileID,lt.name==="globe"||!!Ze||this.transform.pitch>0,lt),et=se*ut.perspectiveRatio,nt=(T.x1*p+B.x-T.padding)*et+ut.point.x,mt=(T.y1*p+B.y-T.padding)*et+ut.point.y,ct=(T.x2*p+B.x+T.padding)*et+ut.point.x,xt=(T.y2*p+B.y+T.padding)*et+ut.point.y,Pt=ut.perspectiveRatio<=.55||ut.occluded;return!this.isInsideGrid(nt,mt,ct,xt)||!W&&this.grid.hitTest(nt,mt,ct,xt,me)||Pt?{box:[],offscreen:!1,occluded:ut.occluded}:{box:[nt,mt,ct,xt],offscreen:this.isOffscreen(nt,mt,ct,xt),occluded:!1}}placeCollisionCircles(c,p,T,B,W,se,ue,me,De,Ae,Fe,Ze,at,lt,ut){const et=[],nt=this.transform.elevation,mt=c.getProjection(),ct=nt?nt.getAtTileOffsetFunc(ut,this.transform.center.lat,this.transform.worldSize,mt):null,xt=new s.pointGeometry(T.tileAnchorX,T.tileAnchorY);let{x:Pt,y:St,z:jt}=mt.projectTilePoint(xt.x,xt.y,ut.canonical);if(ct){const[Si,Ni,Yt]=ct(xt);Pt+=Si,St+=Ni,jt+=Yt}const ii=mt.name==="globe",Jt=this.projectAndGetPerspectiveRatio(ue,Pt,St,jt,ut,ii||!!nt||this.transform.pitch>0,mt),{perspectiveRatio:Gt}=Jt,Mi=(Fe?se/Gt:se*Gt)/s.ONE_EM,Xt=lo(Pt,St,jt,me),yi=Jt.signedDistanceFromCamera>0?Jo(Mi,W,T.lineOffsetX*Mi,T.lineOffsetY*Mi,!1,Xt,xt,T,B,me,{},nt&&!Fe?ct:null,Fe&&!!nt,mt,ut,Fe):null;let ri=!1,Ri=!1,si=!0;if(yi&&!Jt.occluded){const Si=.5*at*Gt+lt,Ni=new s.pointGeometry(-100,-100),Yt=new s.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),ni=new Ls,{first:mn,last:Sn}=yi,gn=mn.path.length;let jn=[];for(let ln=gn-1;ln>=1;ln--)jn.push(mn.path[ln]);for(let ln=1;ln<Sn.path.length;ln++)jn.push(Sn.path[ln]);const or=2.5*Si;De&&(jn=jn.map(([ln,is,Hr],rs)=>(ct&&!ii&&(Hr=ct(rs<gn-1?mn.tilePath[gn-1-rs]:Sn.tilePath[rs-gn+2])[2]),lo(ln,is,Hr,De))),jn.some(ln=>ln[3]<=0)&&(jn=[]));let kn=[];if(jn.length>0){let ln=1/0,is=-1/0,Hr=1/0,rs=-1/0;for(const es of jn)ln=Math.min(ln,es[0]),Hr=Math.min(Hr,es[1]),is=Math.max(is,es[0]),rs=Math.max(rs,es[1]);is>=Ni.x&&ln<=Yt.x&&rs>=Ni.y&&Hr<=Yt.y&&(kn=[jn.map(es=>new s.pointGeometry(es[0],es[1]))],(ln<Ni.x||is>Yt.x||Hr<Ni.y||rs>Yt.y)&&(kn=s.clipLine(kn,Ni.x,Ni.y,Yt.x,Yt.y)))}for(const ln of kn){ni.reset(ln,.25*Si);let is=0;is=ni.length<=.5*Si?1:Math.ceil(ni.paddedLength/or)+1;for(let Hr=0;Hr<is;Hr++){const rs=Hr/Math.max(is-1,1),es=ni.lerp(rs),Ha=es.x+co,ka=es.y+co;et.push(Ha,ka,Si,0);const _a=Ha-Si,sc=ka-Si,gs=Ha+Si,ts=ka+Si;if(si=si&&this.isOffscreen(_a,sc,gs,ts),Ri=Ri||this.isInsideGrid(_a,sc,gs,ts),!p&&this.grid.hitTestCircle(Ha,ka,Si,Ze)&&(ri=!0,!Ae))return{circles:[],offscreen:!1,collisionDetected:ri,occluded:!1}}}}return{circles:!Ae&&ri||!Ri?[]:et,offscreen:si,collisionDetected:ri,occluded:Jt.occluded}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let T=1/0,B=1/0,W=-1/0,se=-1/0;for(const Ae of c){const Fe=new s.pointGeometry(Ae.x+co,Ae.y+co);T=Math.min(T,Fe.x),B=Math.min(B,Fe.y),W=Math.max(W,Fe.x),se=Math.max(se,Fe.y),p.push(Fe)}const ue=this.grid.query(T,B,W,se).concat(this.ignoredGrid.query(T,B,W,se)),me={},De={};for(const Ae of ue){const Fe=Ae.key;if(me[Fe.bucketInstanceId]===void 0&&(me[Fe.bucketInstanceId]={}),me[Fe.bucketInstanceId][Fe.featureIndex])continue;const Ze=[new s.pointGeometry(Ae.x1,Ae.y1),new s.pointGeometry(Ae.x2,Ae.y1),new s.pointGeometry(Ae.x2,Ae.y2),new s.pointGeometry(Ae.x1,Ae.y2)];s.polygonIntersectsPolygon(p,Ze)&&(me[Fe.bucketInstanceId][Fe.featureIndex]=!0,De[Fe.bucketInstanceId]===void 0&&(De[Fe.bucketInstanceId]=[]),De[Fe.bucketInstanceId].push(Fe.featureIndex))}return De}insertCollisionBox(c,p,T,B,W){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:T,featureIndex:B,collisionGroupID:W},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,T,B,W){const se=p?this.ignoredGrid:this.grid,ue={bucketInstanceId:T,featureIndex:B,collisionGroupID:W};for(let me=0;me<c.length;me+=4)se.insertCircle(ue,c[me],c[me+1],c[me+2])}projectAndGetPerspectiveRatio(c,p,T,B,W,se,ue){const me=[p,T,B,1];let De=!1;if(B||this.transform.pitch>0){s.transformMat4$1(me,me,c);const Fe=ue.name==="globe";this.fogState&&W&&!Fe&&(De=function(at,lt,ut,et,nt,mt){const ct=mt.calculateFogTileMatrix(nt),xt=[lt,ut,et];return s.transformMat4(xt,xt,ct),X(at,xt,mt.pitch,mt._fov)}(this.fogState,p,T,B,W.toUnwrapped(),this.transform)>.9)}else Gr(me,me,c);const Ae=me[3];return{point:new s.pointGeometry((me[0]/Ae+1)/2*this.transform.width+co,(-me[1]/Ae+1)/2*this.transform.height+co),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(ue)/Ae*.5,1.5),signedDistanceFromCamera:Ae,occluded:se&&me[2]>Ae||De}}isOffscreen(c,p,T,B){return T<co||c>=this.screenRightBoundary||B<co||p>this.screenBottomBoundary}isInsideGrid(c,p,T,B){return T>=0&&c<this.gridRightBoundary&&B>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=s.identity([]);return s.translate(c,c,[-100,-100,0]),c}}function Gl(_,c,p){const T=c.createTileMatrix(_,_.worldSize,p.toUnwrapped());return s.multiply(new Float32Array(16),_.projMatrix,T)}function pa(_,c,p){if(c.projection.name===p.projection.name)return _.projMatrix;const T=p.clone();return T.setProjection(c.projection),Gl(T,c.getProjection(),_)}function yl(_,c,p){return c.name===p.projection.name?_.projMatrix:Gl(p,c,_)}class _l{constructor(c,p,T,B){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):B&&T?1:0,this.placed=T}isHidden(){return this.opacity===0&&!this.placed}}class rl{constructor(c,p,T,B,W,se=!1){this.text=new _l(c?c.text:null,p,T,W),this.icon=new _l(c?c.icon:null,p,B,W),this.clipped=se}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class vl{constructor(c,p,T,B=!1){this.text=c,this.icon=p,this.skipFade=T,this.clipped=B}}class qc{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class Xc{constructor(c,p,T,B,W){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=T,this.bucketIndex=B,this.tileID=W}}class Ro{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:T=>T.collisionGroupID===p}}return this.collisionGroups[c]}}function As(_,c,p,T,B){const{horizontalAlign:W,verticalAlign:se}=s.getAnchorAlignment(_),ue=-(W-.5)*c,me=-(se-.5)*p,De=s.evaluateVariableOffset(_,T);return new s.pointGeometry(ue+De[0]*B,me+De[1]*B)}function Hl(_,c,p,T,B){const W=new s.pointGeometry(_,c);return p&&W._rotate(T?B:-B),W}class sl{constructor(c,p,T,B,W){this.transform=c.clone(),this.projection=c.projection.name,this.collisionIndex=new Uo(this.transform,W),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new Ro(T),this.collisionCircleArrays={},this.prevPlacement=B,B&&(B.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,T,B){const W=T.getBucket(p),se=T.latestFeatureIndex;if(!W||!se||p.id!==W.layerIds[0])return;const ue=W.layers[0].layout,me=T.collisionBoxArray,De=Math.pow(2,this.transform.zoom-T.tileID.overscaledZ),Ae=T.tileSize/s.EXTENT,Fe=T.tileID.toUnwrapped();this.transform.setProjection(W.projection);const Ze=(at=T.tileID,lt=W.getProjection(),ut=this.transform,lt.name===this.projection?ut.calculateProjMatrix(at.toUnwrapped()):Gl(ut,lt,at));var at,lt,ut;const et=ue.get("text-pitch-alignment")==="map",nt=ue.get("text-rotation-alignment")==="map";p.compileFilter();const mt=p.dynamicFilter(),ct=p.dynamicFilterNeedsFeature(),xt=this.transform.calculatePixelsToTileUnitsMatrix(T),Pt=Yc(Ze,T.tileID.canonical,et,nt,this.transform,W.getProjection(),xt);let St=null;if(et){const Jt=iu(Ze,T.tileID.canonical,et,nt,this.transform,W.getProjection(),xt);St=s.multiply([],this.transform.labelPlaneMatrix,Jt)}let jt=null;mt&&T.latestFeatureIndex&&(jt={unwrappedTileID:Fe,dynamicFilter:mt,dynamicFilterNeedsFeature:ct,featureIndex:T.latestFeatureIndex}),this.retainedQueryData[W.bucketInstanceId]=new Xc(W.bucketInstanceId,se,W.sourceLayerIndex,W.index,T.tileID);const ii={bucket:W,layout:ue,posMatrix:Ze,textLabelPlaneMatrix:Pt,labelToScreenMatrix:St,clippingData:jt,scale:De,textPixelRatio:Ae,holdingForFade:T.holdingForFade(),collisionBoxArray:me,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(W.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:s.evaluateSizeForZoom(W.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(W.sourceID)};if(B)for(const Jt of W.sortKeyRanges){const{sortKey:Gt,symbolInstanceStart:Mi,symbolInstanceEnd:Xt}=Jt;c.push({sortKey:Gt,symbolInstanceStart:Mi,symbolInstanceEnd:Xt,parameters:ii})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:W.symbolInstances.length,parameters:ii})}attemptAnchorPlacement(c,p,T,B,W,se,ue,me,De,Ae,Fe,Ze,at,lt,ut,et,nt,mt){const{textOffset0:ct,textOffset1:xt,crossTileID:Pt}=Ze,St=[ct,xt],jt=As(c,T,B,St,W),ii=this.collisionIndex.placeCollisionBox(lt,W,p,Hl(jt.x,jt.y,se,ue,this.transform.angle),Fe,me,De,Ae.predicate);if(et){const Jt=lt.getSymbolInstanceIconSize(mt,this.transform.zoom,Ze.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(lt,Jt,et,Hl(jt.x,jt.y,se,ue,this.transform.angle),Fe,me,De,Ae.predicate).box.length===0)return}if(ii.box.length>0){let Jt;return this.prevPlacement&&this.prevPlacement.variableOffsets[Pt]&&this.prevPlacement.placements[Pt]&&this.prevPlacement.placements[Pt].text&&(Jt=this.prevPlacement.variableOffsets[Pt].anchor),this.variableOffsets[Pt]={textOffset:St,width:T,height:B,anchor:c,textScale:W,prevAnchor:Jt},this.markUsedJustification(lt,c,Ze,ut),lt.allowVerticalPlacement&&(this.markUsedOrientation(lt,ut,Ze),this.placedOrientations[Pt]=ut),{shift:jt,placedGlyphBoxes:ii}}}placeLayerBucketPart(c,p,T,B){const{bucket:W,layout:se,posMatrix:ue,textLabelPlaneMatrix:me,labelToScreenMatrix:De,clippingData:Ae,textPixelRatio:Fe,holdingForFade:Ze,collisionBoxArray:at,partiallyEvaluatedTextSize:lt,partiallyEvaluatedIconSize:ut,collisionGroup:et}=c.parameters,nt=se.get("text-optional"),mt=se.get("icon-optional"),ct=se.get("text-allow-overlap"),xt=se.get("icon-allow-overlap"),Pt=se.get("text-rotation-alignment")==="map",St=se.get("text-pitch-alignment")==="map",jt=se.get("icon-text-fit")!=="none",ii=se.get("symbol-z-order")==="viewport-y";this.transform.setProjection(W.projection);let Jt=ct&&(xt||!W.hasIconData()||mt),Gt=xt&&(ct||!W.hasTextData()||nt);!W.collisionArrays&&at&&W.deserializeCollisionBoxes(at),T&&B&&W.updateCollisionDebugBuffers(this.transform.zoom,at);const Mi=(Xt,yi,ri)=>{const{crossTileID:Ri,numVerticalGlyphVertices:si}=Xt;if(Ae){const gs={zoom:this.transform.zoom,pitch:this.transform.pitch};let ts=null;if(Ae.dynamicFilterNeedsFeature){const $r=this.retainedQueryData[W.bucketInstanceId];ts=Ae.featureIndex.loadFeature({featureIndex:Xt.featureIndex,bucketIndex:$r.bucketIndex,sourceLayerIndex:$r.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Ae.dynamicFilter)(gs,ts,this.retainedQueryData[W.bucketInstanceId].tileID.canonical,new s.pointGeometry(Xt.tileAnchorX,Xt.tileAnchorY),this.transform.calculateDistanceTileData(Ae.unwrappedTileID)))return this.placements[Ri]=new vl(!1,!1,!1,!0),void(p[Ri]=!0)}if(p[Ri])return;if(Ze)return void(this.placements[Ri]=new vl(!1,!1,!1));let Si=!1,Ni=!1,Yt=!0,ni=!1,mn=!1,Sn=null,gn={box:null,offscreen:null,occluded:null},jn={box:null,offscreen:null,occluded:null},or=null,kn=null,ln=null,is=0,Hr=0,rs=0;ri.textFeatureIndex?is=ri.textFeatureIndex:Xt.useRuntimeCollisionCircles&&(is=Xt.featureIndex),ri.verticalTextFeatureIndex&&(Hr=ri.verticalTextFeatureIndex);const es=gs=>{gs.tileID=this.retainedQueryData[W.bucketInstanceId].tileID;const ts=this.transform.elevation;(ts||gs.elevation)&&(gs.elevation=ts?ts.getAtTileOffset(gs.tileID,gs.tileAnchorX,gs.tileAnchorY):0)},Ha=ri.textBox;if(Ha){es(Ha);const gs=$r=>{let no=s.WritingMode.horizontal;if(W.allowVerticalPlacement&&!$r&&this.prevPlacement){const ra=this.prevPlacement.placedOrientations[Ri];ra&&(this.placedOrientations[Ri]=ra,no=ra,this.markUsedOrientation(W,no,Xt))}return no},ts=($r,no)=>{if(W.allowVerticalPlacement&&si>0&&ri.verticalTextBox){for(const ra of W.writingModes)if(ra===s.WritingMode.vertical?(gn=no(),jn=gn):gn=$r(),gn&&gn.box&&gn.box.length)break}else gn=$r()};if(se.get("text-variable-anchor")){let $r=se.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ri]){const ys=this.prevPlacement.variableOffsets[Ri];$r.indexOf(ys.anchor)>0&&($r=$r.filter(va=>va!==ys.anchor),$r.unshift(ys.anchor))}const no=(ys,va,Th)=>{const oc=W.getSymbolInstanceTextSize(lt,Xt,this.transform.zoom,yi),sa=(ys.x2-ys.x1)*oc+2*ys.padding,Wa=(ys.y2-ys.y1)*oc+2*ys.padding,Pc=jt&&!xt?va:null;Pc&&es(Pc);let Cl={box:[],offscreen:!1,occluded:!1};const fr=ct?2*$r.length:$r.length;for(let Hu=0;Hu<fr;++Hu){const Dc=this.attemptAnchorPlacement($r[Hu%$r.length],ys,sa,Wa,oc,Pt,St,Fe,ue,et,Hu>=$r.length,Xt,yi,W,Th,Pc,lt,ut);if(Dc&&(Cl=Dc.placedGlyphBoxes,Cl&&Cl.box&&Cl.box.length)){Si=!0,Sn=Dc.shift;break}}return Cl};ts(()=>no(Ha,ri.iconBox,s.WritingMode.horizontal),()=>{const ys=ri.verticalTextBox;return ys&&es(ys),W.allowVerticalPlacement&&!(gn&&gn.box&&gn.box.length)&&si>0&&ys?no(ys,ri.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),gn&&(Si=gn.box,Yt=gn.offscreen,ni=gn.occluded);const ra=gs(gn&&gn.box);if(!Si&&this.prevPlacement){const ys=this.prevPlacement.variableOffsets[Ri];ys&&(this.variableOffsets[Ri]=ys,this.markUsedJustification(W,ys.anchor,Xt,ra))}}else{const $r=(no,ra)=>{const ys=W.getSymbolInstanceTextSize(lt,Xt,this.transform.zoom,yi),va=this.collisionIndex.placeCollisionBox(W,ys,no,new s.pointGeometry(0,0),ct,Fe,ue,et.predicate);return va&&va.box&&va.box.length&&(this.markUsedOrientation(W,ra,Xt),this.placedOrientations[Ri]=ra),va};ts(()=>$r(Ha,s.WritingMode.horizontal),()=>{const no=ri.verticalTextBox;return W.allowVerticalPlacement&&si>0&&no?(es(no),$r(no,s.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),gs(gn&&gn.box&&gn.box.length)}}if(or=gn,Si=or&&or.box&&or.box.length>0,Yt=or&&or.offscreen,ni=or&&or.occluded,Xt.useRuntimeCollisionCircles){const gs=W.text.placedSymbolArray.get(Xt.centerJustifiedTextSymbolIndex>=0?Xt.centerJustifiedTextSymbolIndex:Xt.verticalPlacedTextSymbolIndex),ts=s.evaluateSizeForFeature(W.textSizeData,lt,gs),$r=se.get("text-padding");kn=this.collisionIndex.placeCollisionCircles(W,ct,gs,W.lineVertexArray,W.glyphOffsetArray,ts,ue,me,De,T,St,et.predicate,Xt.collisionCircleDiameter*ts/s.ONE_EM,$r,this.retainedQueryData[W.bucketInstanceId].tileID),Si=ct||kn.circles.length>0&&!kn.collisionDetected,Yt=Yt&&kn.offscreen,ni=kn.occluded}if(ri.iconFeatureIndex&&(rs=ri.iconFeatureIndex),ri.iconBox){const gs=ts=>{es(ts);const $r=jt&&Sn?Hl(Sn.x,Sn.y,Pt,St,this.transform.angle):new s.pointGeometry(0,0),no=W.getSymbolInstanceIconSize(ut,this.transform.zoom,Xt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(W,no,ts,$r,xt,Fe,ue,et.predicate)};jn&&jn.box&&jn.box.length&&ri.verticalIconBox?(ln=gs(ri.verticalIconBox),Ni=ln.box.length>0):(ln=gs(ri.iconBox),Ni=ln.box.length>0),Yt=Yt&&ln.offscreen,mn=ln.occluded}const ka=nt||Xt.numHorizontalGlyphVertices===0&&si===0,_a=mt||Xt.numIconVertices===0;if(ka||_a?_a?ka||(Ni=Ni&&Si):Si=Ni&&Si:Ni=Si=Ni&&Si,Si&&or&&or.box&&this.collisionIndex.insertCollisionBox(or.box,se.get("text-ignore-placement"),W.bucketInstanceId,jn&&jn.box&&Hr?Hr:is,et.ID),Ni&&ln&&this.collisionIndex.insertCollisionBox(ln.box,se.get("icon-ignore-placement"),W.bucketInstanceId,rs,et.ID),kn&&(Si&&this.collisionIndex.insertCollisionCircles(kn.circles,se.get("text-ignore-placement"),W.bucketInstanceId,is,et.ID),T)){const gs=W.bucketInstanceId;let ts=this.collisionCircleArrays[gs];ts===void 0&&(ts=this.collisionCircleArrays[gs]=new qc);for(let $r=0;$r<kn.circles.length;$r+=4)ts.circles.push(kn.circles[$r+0]),ts.circles.push(kn.circles[$r+1]),ts.circles.push(kn.circles[$r+2]),ts.circles.push(kn.collisionDetected?1:0)}const sc=W.projection.name!=="globe";Jt=Jt&&(sc||!ni),Gt=Gt&&(sc||!mn),this.placements[Ri]=new vl(Si||Jt,Ni||Gt,Yt||W.justReloaded),p[Ri]=!0};if(ii){const Xt=W.getSortedSymbolIndexes(this.transform.angle);for(let yi=Xt.length-1;yi>=0;--yi){const ri=Xt[yi];Mi(W.symbolInstances.get(ri),ri,W.collisionArrays[ri])}}else for(let Xt=c.symbolInstanceStart;Xt<c.symbolInstanceEnd;Xt++)Mi(W.symbolInstances.get(Xt),Xt,W.collisionArrays[Xt]);if(T&&W.bucketInstanceId in this.collisionCircleArrays){const Xt=this.collisionCircleArrays[W.bucketInstanceId];s.invert(Xt.invProjMatrix,ue),Xt.viewportMatrix=this.collisionIndex.getViewportMatrix()}W.justReloaded=!1}markUsedJustification(c,p,T,B){const{leftJustifiedTextSymbolIndex:W,centerJustifiedTextSymbolIndex:se,rightJustifiedTextSymbolIndex:ue,verticalPlacedTextSymbolIndex:me,crossTileID:De}=T,Ae=s.getAnchorJustification(p),Fe=B===s.WritingMode.vertical?me:Ae==="left"?W:Ae==="center"?se:Ae==="right"?ue:-1;W>=0&&(c.text.placedSymbolArray.get(W).crossTileID=Fe>=0&&W!==Fe?0:De),se>=0&&(c.text.placedSymbolArray.get(se).crossTileID=Fe>=0&&se!==Fe?0:De),ue>=0&&(c.text.placedSymbolArray.get(ue).crossTileID=Fe>=0&&ue!==Fe?0:De),me>=0&&(c.text.placedSymbolArray.get(me).crossTileID=Fe>=0&&me!==Fe?0:De)}markUsedOrientation(c,p,T){const B=p===s.WritingMode.horizontal||p===s.WritingMode.horizontalOnly?p:0,W=p===s.WritingMode.vertical?p:0,{leftJustifiedTextSymbolIndex:se,centerJustifiedTextSymbolIndex:ue,rightJustifiedTextSymbolIndex:me,verticalPlacedTextSymbolIndex:De}=T,Ae=c.text.placedSymbolArray;se>=0&&(Ae.get(se).placedOrientation=B),ue>=0&&(Ae.get(ue).placedOrientation=B),me>=0&&(Ae.get(me).placedOrientation=B),De>=0&&(Ae.get(De).placedOrientation=W)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let T=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const B=p?p.symbolFadeChange(c):1,W=p?p.opacities:{},se=p?p.variableOffsets:{},ue=p?p.placedOrientations:{};for(const me in this.placements){const De=this.placements[me],Ae=W[me];Ae?(this.opacities[me]=new rl(Ae,B,De.text,De.icon,null,De.clipped),T=T||De.text!==Ae.text.placed||De.icon!==Ae.icon.placed):(this.opacities[me]=new rl(null,B,De.text,De.icon,De.skipFade,De.clipped),T=T||De.text||De.icon)}for(const me in W){const De=W[me];if(!this.opacities[me]){const Ae=new rl(De,B,!1,!1);Ae.isHidden()||(this.opacities[me]=Ae,T=T||De.text.placed||De.icon.placed)}}for(const me in se)this.variableOffsets[me]||!this.opacities[me]||this.opacities[me].isHidden()||(this.variableOffsets[me]=se[me]);for(const me in ue)this.placedOrientations[me]||!this.opacities[me]||this.opacities[me].isHidden()||(this.placedOrientations[me]=ue[me]);T?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const T={};for(const B of p){const W=B.getBucket(c);W&&B.latestFeatureIndex&&c.id===W.layerIds[0]&&this.updateBucketOpacities(W,T,B.collisionBoxArray)}}updateBucketOpacities(c,p,T){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const B=c.layers[0].layout,W=!!c.layers[0].dynamicFilter(),se=new rl(null,0,!1,!1,!0),ue=B.get("text-allow-overlap"),me=B.get("icon-allow-overlap"),De=B.get("text-variable-anchor"),Ae=B.get("text-rotation-alignment")==="map",Fe=B.get("text-pitch-alignment")==="map",Ze=B.get("icon-text-fit")!=="none",at=new rl(null,0,ue&&(me||!c.hasIconData()||B.get("icon-optional")),me&&(ue||!c.hasTextData()||B.get("text-optional")),!0);!c.collisionArrays&&T&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(T);const lt=(et,nt,mt)=>{for(let ct=0;ct<nt/4;ct++)et.opacityVertexArray.emplaceBack(mt)};let ut=0;for(let et=0;et<c.symbolInstances.length;et++){const nt=c.symbolInstances.get(et),{numHorizontalGlyphVertices:mt,numVerticalGlyphVertices:ct,crossTileID:xt,numIconVertices:Pt}=nt;let St=this.opacities[xt];p[xt]?St=se:St||(St=at,this.opacities[xt]=St),p[xt]=!0;const jt=mt>0||ct>0,ii=Pt>0,Jt=this.placedOrientations[xt],Gt=Jt===s.WritingMode.vertical,Mi=Jt===s.WritingMode.horizontal||Jt===s.WritingMode.horizontalOnly;if(!jt&&!ii||St.isHidden()||ut++,jt){const Xt=Js(St.text);lt(c.text,mt,Gt?xl:Xt),lt(c.text,ct,Mi?xl:Xt);const yi=St.text.isHidden(),{leftJustifiedTextSymbolIndex:ri,centerJustifiedTextSymbolIndex:Ri,rightJustifiedTextSymbolIndex:si,verticalPlacedTextSymbolIndex:Si}=nt,Ni=c.text.placedSymbolArray,Yt=yi||Gt?1:0;ri>=0&&(Ni.get(ri).hidden=Yt),Ri>=0&&(Ni.get(Ri).hidden=Yt),si>=0&&(Ni.get(si).hidden=Yt),Si>=0&&(Ni.get(Si).hidden=yi||Mi?1:0);const ni=this.variableOffsets[xt];ni&&this.markUsedJustification(c,ni.anchor,nt,Jt);const mn=this.placedOrientations[xt];mn&&(this.markUsedJustification(c,"left",nt,mn),this.markUsedOrientation(c,mn,nt))}if(ii){const Xt=Js(St.icon),{placedIconSymbolIndex:yi,verticalPlacedIconSymbolIndex:ri}=nt,Ri=c.icon.placedSymbolArray,si=St.icon.isHidden()?1:0;yi>=0&&(lt(c.icon,Pt,Gt?xl:Xt),Ri.get(yi).hidden=si),ri>=0&&(lt(c.icon,nt.numVerticalIconVertices,Mi?xl:Xt),Ri.get(ri).hidden=si)}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const Xt=c.collisionArrays[et];if(Xt){let yi=new s.pointGeometry(0,0),ri=!0;if(Xt.textBox||Xt.verticalTextBox){if(De){const si=this.variableOffsets[xt];si?(yi=As(si.anchor,si.width,si.height,si.textOffset,si.textScale),Ae&&yi._rotate(Fe?this.transform.angle:-this.transform.angle)):ri=!1}W&&(ri=!St.clipped),Xt.textBox&&Ks(c.textCollisionBox.collisionVertexArray,St.text.placed,!ri||Gt,yi.x,yi.y),Xt.verticalTextBox&&Ks(c.textCollisionBox.collisionVertexArray,St.text.placed,!ri||Mi,yi.x,yi.y)}const Ri=ri&&!!(!Mi&&Xt.verticalIconBox);Xt.iconBox&&Ks(c.iconCollisionBox.collisionVertexArray,St.icon.placed,Ri,Ze?yi.x:0,Ze?yi.y:0),Xt.verticalIconBox&&Ks(c.iconCollisionBox.collisionVertexArray,St.icon.placed,!Ri,Ze?yi.x:0,Ze?yi.y:0)}}}if(c.fullyClipped=ut===0,c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){const et=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=et.invProjMatrix,c.placementViewportMatrix=et.viewportMatrix,c.collisionCircleArray=et.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const T=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*T>c}setStale(){this.stale=!0}}function Ks(_,c,p,T,B){_.emplaceBack(c?1:0,p?1:0,T||0,B||0),_.emplaceBack(c?1:0,p?1:0,T||0,B||0),_.emplaceBack(c?1:0,p?1:0,T||0,B||0),_.emplaceBack(c?1:0,p?1:0,T||0,B||0)}const fa=Math.pow(2,25),Du=Math.pow(2,24),Td=Math.pow(2,17),Hs=Math.pow(2,16),Wl=Math.pow(2,9),Sd=Math.pow(2,8),Yl=Math.pow(2,1);function Js(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const c=_.placed?1:0,p=Math.floor(127*_.opacity);return p*fa+c*Du+p*Td+c*Hs+p*Wl+c*Sd+p*Yl+c}const xl=0;class Cd{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,T,B,W){const se=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(se,B,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,W())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,se.sort((ue,me)=>ue.sortKey-me.sortKey));this._currentPartIndex<se.length;){const ue=se[this._currentPartIndex];if(p.placeLayerBucketPart(ue,this._seenCrossTileIDs,T,ue.symbolInstanceStart===0),this._currentPartIndex++,W())return!0}return!1}}class Pr{constructor(c,p,T,B,W,se,ue,me){this.placement=new sl(c,W,se,ue,me),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=T,this._showCollisionBoxes=B,this._done=!1}isDone(){return this._done}continuePlacement(c,p,T){const B=s.exported.now(),W=()=>{const se=s.exported.now()-B;return!this._forceFullPlacement&&se>2};for(;this._currentPlacementIndex>=0;){const se=p[c[this._currentPlacementIndex]],ue=this.placement.collisionIndex.transform.zoom;if(se.type==="symbol"&&(!se.minzoom||se.minzoom<=ue)&&(!se.maxzoom||se.maxzoom>ue)){if(this._inProgressLayer||(this._inProgressLayer=new Cd(se)),this._inProgressLayer.continuePlacement(T[se.source],this.placement,this._showCollisionBoxes,se,W))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Fr=512/s.EXTENT/2;class Ed{constructor(c,p,T){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=T;for(let B=0;B<p.length;B++){const W=p.get(B),se=W.key;this.indexedSymbolInstances[se]||(this.indexedSymbolInstances[se]=[]),this.indexedSymbolInstances[se].push({crossTileID:W.crossTileID,coord:this.getScaledCoordinates(W,c)})}}getScaledCoordinates(c,p){const T=Fr/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*s.EXTENT+c.tileAnchorX)*T),y:Math.floor((p.canonical.y*s.EXTENT+c.tileAnchorY)*T)}}findMatches(c,p,T){const B=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let W=0;W<c.length;W++){const se=c.get(W);if(se.crossTileID)continue;const ue=this.indexedSymbolInstances[se.key];if(!ue)continue;const me=this.getScaledCoordinates(se,p);for(const De of ue)if(Math.abs(De.coord.x-me.x)<=B&&Math.abs(De.coord.y-me.y)<=B&&!T[De.crossTileID]){T[De.crossTileID]=!0,se.crossTileID=De.crossTileID;break}}}}class Iu{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class nu{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const T in this.indexes){const B=this.indexes[T],W={};for(const se in B){const ue=B[se];ue.tileID=ue.tileID.unwrapTo(ue.tileID.wrap+p),W[ue.tileID.key]=ue}this.indexes[T]=W}this.lng=c}addBucket(c,p,T){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let W=0;W<p.symbolInstances.length;W++)p.symbolInstances.get(W).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const B=this.usedCrossTileIDs[c.overscaledZ];for(const W in this.indexes){const se=this.indexes[W];if(Number(W)>c.overscaledZ)for(const ue in se){const me=se[ue];me.tileID.isChildOf(c)&&me.findMatches(p.symbolInstances,c,B)}else{const ue=se[c.scaledTo(Number(W)).key];ue&&ue.findMatches(p.symbolInstances,c,B)}}for(let W=0;W<p.symbolInstances.length;W++){const se=p.symbolInstances.get(W);se.crossTileID||(se.crossTileID=T.generate(),B[se.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Ed(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const T in p.indexedSymbolInstances)for(const B of p.indexedSymbolInstances[T])delete this.usedCrossTileIDs[c][B.crossTileID]}removeStaleBuckets(c){let p=!1;for(const T in this.indexes){const B=this.indexes[T];for(const W in B)c[B[W].bucketInstanceId]||(this.removeBucketCrossTileIDs(T,B[W]),delete B[W],p=!0)}return p}}class ma{constructor(){this.layerIndexes={},this.crossTileIDs=new Iu,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,T,B){let W=this.layerIndexes[c.id];W===void 0&&(W=this.layerIndexes[c.id]=new nu);let se=!1;const ue={};B.name!=="globe"&&W.handleWrapJump(T);for(const me of p){const De=me.getBucket(c);De&&c.id===De.layerIds[0]&&(De.bucketInstanceId||(De.bucketInstanceId=++this.maxBucketInstanceId),W.addBucket(me.tileID,De,this.crossTileIDs)&&(se=!0),ue[De.bucketInstanceId]=!0)}return W.removeStaleBuckets(ue)&&(se=!0),se}pruneUnusedLayers(c){const p={};c.forEach(T=>{p[T]=!0});for(const T in this.layerIndexes)p[T]||delete this.layerIndexes[T]}}const Zc=(_,c)=>s.emitValidationErrors(_,c&&c.filter(p=>p.identifier!=="source.canvas")),Md=s.pick(_n,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),ql=s.pick(_n,["setCenter","setZoom","setBearing","setPitch"]),Qo={version:8,layers:[],sources:{}},Ws={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Z extends s.Evented{constructor(c,p={}){super(),this.map=c,this.dispatcher=new pe(Hi(),this),this.imageManager=new j,this.imageManager.setEventedParent(this),this.glyphManager=new s.GlyphManager(c._requestManager,p.localFontFamily?s.LocalGlyphMode.all:p.localIdeographFontFamily?s.LocalGlyphMode.ideographs:s.LocalGlyphMode.none,p.localFontFamily||p.localIdeographFontFamily),this.crossTileSymbolIndex=new ma,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const T=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(B=>{T.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:B.pluginStatus,pluginURL:B.pluginURL},(W,se)=>{if(s.triggerPluginCompletionEvent(W),se&&se.every(ue=>ue))for(const ue in T._sourceCaches){const me=T._sourceCaches[ue],De=me.getSource().type;De!=="vector"&&De!=="geojson"||me.reload()}})}),this.on("data",B=>{if(B.dataType!=="source"||B.sourceDataType!=="metadata")return;const W=this.getSource(B.sourceId);if(W&&W.vectorLayerIds)for(const se in this._layers){const ue=this._layers[se];ue.source===W.id&&this._validateLayer(ue)}})}loadURL(c,p={}){this.fire(new s.Event("dataloading",{dataType:"style"}));const T=typeof p.validate=="boolean"?p.validate:!s.isMapboxURL(c);c=this.map._requestManager.normalizeStyleURL(c,p.accessToken);const B=this.map._requestManager.transformRequest(c,s.ResourceType.Style);this._request=s.getJSON(B,(W,se)=>{this._request=null,W?this.fire(new s.ErrorEvent(W)):se&&this._load(se,T)})}loadJSON(c,p={}){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame(()=>{this._request=null,this._load(c,p.validate!==!1)})}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(Qo,!1)}_updateLayerCount(c,p){const T=p?1:-1;c.is3D()&&(this._num3DLayers+=T),c.type==="circle"&&(this._numCircleLayers+=T),c.type==="symbol"&&(this._numSymbolLayers+=T)}_load(c,p){if(p&&Zc(this,s.validateStyle(c)))return;this._loaded=!0,this.stylesheet=s.clone$1(c),this._updateMapProjection();for(const B in c.sources)this.addSource(B,c.sources[B],{validate:!1});this._changed=!1,c.sprite?this._loadSprite(c.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(c.glyphs);const T=kr(this.stylesheet.layers);this._order=T.map(B=>B.id),this._layers={},this._serializedLayers={};for(let B of T)B=s.createStyleLayer(B),B.setEventedParent(this,{layer:{id:B.id}}),this._layers[B.id]=B,this._serializedLayers[B.id]=B.serialize(),this._updateLayerCount(B,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new m(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(c){c?this.stylesheet.projection=c:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(c){this._spriteRequest=function(p,T,B){let W,se,ue;const me=s.exported.devicePixelRatio>1?"@2x":"";let De=s.getJSON(T.transformRequest(T.normalizeSpriteURL(p,me,".json"),s.ResourceType.SpriteJSON),(Ze,at)=>{De=null,ue||(ue=Ze,W=at,Fe())}),Ae=s.getImage(T.transformRequest(T.normalizeSpriteURL(p,me,".png"),s.ResourceType.SpriteImage),(Ze,at)=>{Ae=null,ue||(ue=Ze,se=at,Fe())});function Fe(){if(ue)B(ue);else if(W&&se){const Ze=s.exported.getImageData(se),at={};for(const lt in W){const{width:ut,height:et,x:nt,y:mt,sdf:ct,pixelRatio:xt,stretchX:Pt,stretchY:St,content:jt}=W[lt],ii=new s.RGBAImage({width:ut,height:et});s.RGBAImage.copy(Ze,ii,{x:nt,y:mt},{x:0,y:0},{width:ut,height:et}),at[lt]={data:ii,pixelRatio:xt,sdf:ct,stretchX:Pt,stretchY:St,content:jt}}B(null,at)}}return{cancel(){De&&(De.cancel(),De=null),Ae&&(Ae.cancel(),Ae=null)}}}(c,this.map._requestManager,(p,T)=>{if(this._spriteRequest=null,p)this.fire(new s.ErrorEvent(p));else if(T)for(const B in T)this.imageManager.addImage(B,T[B]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new s.Event("data",{dataType:"style"}))})}_validateLayer(c){const p=this.getSource(c.source);if(!p)return;const T=c.sourceLayer;T&&(p.type==="geojson"||p.vectorLayerIds&&p.vectorLayerIds.indexOf(T)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${T}" does not exist on source "${p.id}" as specified by style layer "${c.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this._sourceCaches)if(!this._sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(c){const p=[];for(const T of c){const B=this._layers[T];B.type!=="custom"&&p.push(B.serialize())}return p}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const c in this._sourceCaches)if(this._sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(c){return!!this.terrain&&Ws[c.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const B=Object.keys(this._updatedLayers),W=Object.keys(this._removedLayers);(B.length||W.length)&&this._updateWorkerLayers(B,W);for(const se in this._updatedSources){const ue=this._updatedSources[se];ue==="reload"?this._reloadSource(se):ue==="clear"&&this._clearSource(se)}this._updateTilesForChangedImages();for(const se in this._updatedPaintProps)this._layers[se].updateTransitions(c);this.light.updateTransitions(c),this.fog&&this.fog.updateTransitions(c),this._resetUpdates()}const T={};for(const B in this._sourceCaches){const W=this._sourceCaches[B];T[B]=W.used,W.used=!1}for(const B of this._order){const W=this._layers[B];if(W.recalculate(c,this._availableImages),!W.isHidden(c.zoom)){const ue=this._getLayerSourceCache(W);ue&&(ue.used=!0)}const se=this.map.painter;if(se){const ue=W.getProgramIds();if(!ue)continue;const me=W.getProgramConfiguration(c.zoom);for(const De of ue)se.useProgram(De,me)}}for(const B in T){const W=this._sourceCaches[B];T[B]!==W.used&&W.getSource().fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:W.getSource().id}))}this.light.recalculate(c),this.terrain&&this.terrain.recalculate(c),this.fog&&this.fog.recalculate(c),this.z=c.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),p&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this._sourceCaches)this._sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(c){if(this._checkLoaded(),Zc(this,s.validateStyle(c)))return!1;(c=s.clone$1(c)).layers=kr(c.layers);const p=function(B,W){if(!B)return[{command:_n.setStyle,args:[W]}];let se=[];try{if(!v(B.version,W.version))return[{command:_n.setStyle,args:[W]}];v(B.center,W.center)||se.push({command:_n.setCenter,args:[W.center]}),v(B.zoom,W.zoom)||se.push({command:_n.setZoom,args:[W.zoom]}),v(B.bearing,W.bearing)||se.push({command:_n.setBearing,args:[W.bearing]}),v(B.pitch,W.pitch)||se.push({command:_n.setPitch,args:[W.pitch]}),v(B.sprite,W.sprite)||se.push({command:_n.setSprite,args:[W.sprite]}),v(B.glyphs,W.glyphs)||se.push({command:_n.setGlyphs,args:[W.glyphs]}),v(B.transition,W.transition)||se.push({command:_n.setTransition,args:[W.transition]}),v(B.light,W.light)||se.push({command:_n.setLight,args:[W.light]}),v(B.fog,W.fog)||se.push({command:_n.setFog,args:[W.fog]}),v(B.projection,W.projection)||se.push({command:_n.setProjection,args:[W.projection]});const ue={},me=[];(function(Fe,Ze,at,lt){let ut;for(ut in Ze=Ze||{},Fe=Fe||{})Fe.hasOwnProperty(ut)&&(Ze.hasOwnProperty(ut)||Lr(ut,at,lt));for(ut in Ze)Ze.hasOwnProperty(ut)&&(Fe.hasOwnProperty(ut)?v(Fe[ut],Ze[ut])||(Fe[ut].type==="geojson"&&Ze[ut].type==="geojson"&&$a(Fe,Ze,ut)?at.push({command:_n.setGeoJSONSourceData,args:[ut,Ze[ut].data]}):Ua(ut,Ze,at,lt)):Yr(ut,Ze,at))})(B.sources,W.sources,me,ue);const De=[];B.layers&&B.layers.forEach(Fe=>{Fe.source&&ue[Fe.source]?se.push({command:_n.removeLayer,args:[Fe.id]}):De.push(Fe)});let Ae=B.terrain;Ae&&ue[Ae.source]&&(se.push({command:_n.setTerrain,args:[void 0]}),Ae=void 0),se=se.concat(me),v(Ae,W.terrain)||se.push({command:_n.setTerrain,args:[W.terrain]}),function(Fe,Ze,at){Ze=Ze||[];const lt=(Fe=Fe||[]).map(fi),ut=Ze.map(fi),et=Fe.reduce(ps,{}),nt=Ze.reduce(ps,{}),mt=lt.slice(),ct=Object.create(null);let xt,Pt,St,jt,ii,Jt,Gt;for(xt=0,Pt=0;xt<lt.length;xt++)St=lt[xt],nt.hasOwnProperty(St)?Pt++:(at.push({command:_n.removeLayer,args:[St]}),mt.splice(mt.indexOf(St,Pt),1));for(xt=0,Pt=0;xt<ut.length;xt++)St=ut[ut.length-1-xt],mt[mt.length-1-xt]!==St&&(et.hasOwnProperty(St)?(at.push({command:_n.removeLayer,args:[St]}),mt.splice(mt.lastIndexOf(St,mt.length-Pt),1)):Pt++,Jt=mt[mt.length-xt],at.push({command:_n.addLayer,args:[nt[St],Jt]}),mt.splice(mt.length-xt,0,St),ct[St]=!0);for(xt=0;xt<ut.length;xt++)if(St=ut[xt],jt=et[St],ii=nt[St],!ct[St]&&!v(jt,ii))if(v(jt.source,ii.source)&&v(jt["source-layer"],ii["source-layer"])&&v(jt.type,ii.type)){for(Gt in go(jt.layout,ii.layout,at,St,null,_n.setLayoutProperty),go(jt.paint,ii.paint,at,St,null,_n.setPaintProperty),v(jt.filter,ii.filter)||at.push({command:_n.setFilter,args:[St,ii.filter]}),v(jt.minzoom,ii.minzoom)&&v(jt.maxzoom,ii.maxzoom)||at.push({command:_n.setLayerZoomRange,args:[St,ii.minzoom,ii.maxzoom]}),jt)jt.hasOwnProperty(Gt)&&Gt!=="layout"&&Gt!=="paint"&&Gt!=="filter"&&Gt!=="metadata"&&Gt!=="minzoom"&&Gt!=="maxzoom"&&(Gt.indexOf("paint.")===0?go(jt[Gt],ii[Gt],at,St,Gt.slice(6),_n.setPaintProperty):v(jt[Gt],ii[Gt])||at.push({command:_n.setLayerProperty,args:[St,Gt,ii[Gt]]}));for(Gt in ii)ii.hasOwnProperty(Gt)&&!jt.hasOwnProperty(Gt)&&Gt!=="layout"&&Gt!=="paint"&&Gt!=="filter"&&Gt!=="metadata"&&Gt!=="minzoom"&&Gt!=="maxzoom"&&(Gt.indexOf("paint.")===0?go(jt[Gt],ii[Gt],at,St,Gt.slice(6),_n.setPaintProperty):v(jt[Gt],ii[Gt])||at.push({command:_n.setLayerProperty,args:[St,Gt,ii[Gt]]}))}else at.push({command:_n.removeLayer,args:[St]}),Jt=mt[mt.lastIndexOf(St)+1],at.push({command:_n.addLayer,args:[ii,Jt]})}(De,W.layers,se)}catch(ue){console.warn("Unable to compute style diff:",ue),se=[{command:_n.setStyle,args:[W]}]}return se}(this.serialize(),c).filter(B=>!(B.command in ql));if(p.length===0)return!1;const T=p.filter(B=>!(B.command in Md));if(T.length>0)throw new Error(`Unimplemented: ${T.map(B=>B.command).join(", ")}.`);return p.forEach(B=>{B.command!=="setTransition"&&B.command!=="setProjection"&&this[B.command].apply(this,B.args)}),this.stylesheet=c,this._updateMapProjection(),!0}addImage(c,p){return this.getImage(c)?this.fire(new s.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(c,p),this._afterImageUpdated(c),this)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){return this.getImage(c)?(this.imageManager.removeImage(c),this._afterImageUpdated(c),this):this.fire(new s.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(c,p,T={}){if(this._checkLoaded(),this.getSource(c)!==void 0)throw new Error("There is already a source with this ID");if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(s.validateSource,`sources.${c}`,p,null,T))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const B=Ht(c,p,this.dispatcher,this);B.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(c),source:B.serialize(),sourceId:c}));const W=se=>{const ue=(se?"symbol:":"other:")+c,me=this._sourceCaches[ue]=new s.SourceCache(ue,B,se);(se?this._symbolSourceCaches:this._otherSourceCaches)[c]=me,me.style=this,me.onAdd(this.map)};W(!1),p.type!=="vector"&&p.type!=="geojson"||W(!0),B.onAdd&&B.onAdd(this.map),this._changed=!0}removeSource(c){this._checkLoaded();const p=this.getSource(c);if(!p)throw new Error("There is no source with this ID");for(const B in this._layers)if(this._layers[B].source===c)return this.fire(new s.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${B}" is using it.`)));if(this.terrain&&this.terrain.get().source===c)return this.fire(new s.ErrorEvent(new Error(`Source "${c}" cannot be removed while terrain is using it.`)));const T=this._getSourceCaches(c);for(const B of T)delete this._sourceCaches[B.id],delete this._updatedSources[B.id],B.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:B.getSource().id})),B.setEventedParent(null),B.clearTiles();return delete this._otherSourceCaches[c],delete this._symbolSourceCaches[c],p.setEventedParent(null),p.onRemove&&p.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(c,p){this._checkLoaded(),this.getSource(c).setData(p),this._changed=!0}getSource(c){const p=this._getSourceCache(c);return p&&p.getSource()}_getSources(){const c=[];for(const p in this._otherSourceCaches){const T=this._getSourceCache(p);T&&c.push(T.getSource())}return c}addLayer(c,p,T={}){this._checkLoaded();const B=c.id;if(this.getLayer(B))return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${B}" already exists on this map`)));let W;if(c.type==="custom"){if(Zc(this,s.validateCustomStyleLayer(c)))return;W=s.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(B,c.source),c=s.clone$1(c),c=s.extend(c,{source:B})),this._validate(s.validateLayer,`layers.${B}`,c,{arrayIndex:-1},T))return;W=s.createStyleLayer(c),this._validateLayer(W),W.setEventedParent(this,{layer:{id:B}}),this._serializedLayers[W.id]=W.serialize(),this._updateLayerCount(W,!0)}const se=p?this._order.indexOf(p):this._order.length;if(p&&se===-1)return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${p}" does not exist on this map.`)));this._order.splice(se,0,B),this._layerOrderChanged=!0,this._layers[B]=W;const ue=this._getLayerSourceCache(W);if(this._removedLayers[B]&&W.source&&ue&&W.type!=="custom"){const me=this._removedLayers[B];delete this._removedLayers[B],me.type!==W.type?this._updatedSources[W.source]="clear":(this._updatedSources[W.source]="reload",ue.pause())}this._updateLayer(W),W.onAdd&&W.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const T=this._order.indexOf(c);this._order.splice(T,1);const B=p?this._order.indexOf(p):this._order.length;p&&B===-1?this.fire(new s.ErrorEvent(new Error(`Layer with id "${p}" does not exist on this map.`))):(this._order.splice(B,0,c),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be removed.`)));p.setEventedParent(null),this._updateLayerCount(p,!1);const T=this._order.indexOf(c);this._order.splice(T,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}hasLayerType(c){for(const p in this._layers)if(this._layers[p].type===c)return!0;return!1}setLayerZoomRange(c,p,T){this._checkLoaded();const B=this.getLayer(c);B?B.minzoom===p&&B.maxzoom===T||(p!=null&&(B.minzoom=p),T!=null&&(B.maxzoom=T),this._updateLayer(B)):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(c,p,T={}){this._checkLoaded();const B=this.getLayer(c);if(B){if(!v(B.filter,p))return p==null?(B.filter=void 0,void this._updateLayer(B)):void(this._validate(s.validateFilter,`layers.${B.id}.filter`,p,{layerType:B.type},T)||(B.filter=s.clone$1(p),this._updateLayer(B)))}else this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be filtered.`)))}getFilter(c){const p=this.getLayer(c);return p&&s.clone$1(p.filter)}setLayoutProperty(c,p,T,B={}){this._checkLoaded();const W=this.getLayer(c);W?v(W.getLayoutProperty(p),T)||(W.setLayoutProperty(p,T,B),this._updateLayer(W)):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(c,p){const T=this.getLayer(c);if(T)return T.getLayoutProperty(p);this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style.`)))}setPaintProperty(c,p,T,B={}){this._checkLoaded();const W=this.getLayer(c);W?v(W.getPaintProperty(p),T)||(W.setPaintProperty(p,T,B)&&this._updateLayer(W),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(c,p){const T=this.getLayer(c);return T&&T.getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const T=c.source,B=c.sourceLayer,W=this.getSource(T);if(!W)return void this.fire(new s.ErrorEvent(new Error(`The source '${T}' does not exist in the map's style.`)));const se=W.type;if(se==="geojson"&&B)return void this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(se==="vector"&&!B)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided.")));const ue=this._getSourceCaches(T);for(const me of ue)me.setFeatureState(B,c.id,p)}removeFeatureState(c,p){this._checkLoaded();const T=c.source,B=this.getSource(T);if(!B)return void this.fire(new s.ErrorEvent(new Error(`The source '${T}' does not exist in the map's style.`)));const W=B.type,se=W==="vector"?c.sourceLayer:void 0;if(W==="vector"&&!se)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(p&&typeof c.id!="string"&&typeof c.id!="number")return void this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const ue=this._getSourceCaches(T);for(const me of ue)me.removeFeatureState(se,c.id,p)}getFeatureState(c){this._checkLoaded();const p=c.source,T=c.sourceLayer,B=this.getSource(p);if(B){if(B.type!=="vector"||T)return c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(p)[0].getFeatureState(T,c.id);this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const c={};for(const p in this._sourceCaches){const T=this._sourceCaches[p].getSource();c[T.id]||(c[T.id]=T.serialize())}return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:c,layers:this._serializeLayers(this._order)},p=>p!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0;const p=this._getLayerSourceCache(c);c.source&&!this._updatedSources[c.source]&&p&&p.getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",p.pause()),this._changed=!0,c.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(c){const p=se=>this._layers[se].type==="fill-extrusion",T={},B=[];for(let se=this._order.length-1;se>=0;se--){const ue=this._order[se];if(p(ue)){T[ue]=se;for(const me of c){const De=me[ue];if(De)for(const Ae of De)B.push(Ae)}}}B.sort((se,ue)=>ue.intersectionZ-se.intersectionZ);const W=[];for(let se=this._order.length-1;se>=0;se--){const ue=this._order[se];if(p(ue))for(let me=B.length-1;me>=0;me--){const De=B[me].feature;if(T[De.layer.id]<se)break;W.push(De),B.pop()}else for(const me of c){const De=me[ue];if(De)for(const Ae of De)W.push(Ae.feature)}}return W}queryRenderedFeatures(c,p,T){p&&p.filter&&this._validate(s.validateFilter,"queryRenderedFeatures.filter",p.filter,null,p);const B={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const me of p.layers){const De=this._layers[me];if(!De)return this.fire(new s.ErrorEvent(new Error(`The layer '${me}' does not exist in the map's style and cannot be queried for features.`))),[];B[De.source]=!0}}const W=[];p.availableImages=this._availableImages;const se=p&&p.layers?p.layers.some(me=>{const De=this.getLayer(me);return De&&De.is3D()}):this.has3DLayers(),ue=Q.createFromScreenPoints(c,T);for(const me in this._sourceCaches){const De=this._sourceCaches[me].getSource().id;p.layers&&!B[De]||W.push(Zt(this._sourceCaches[me],this._layers,this._serializedLayers,ue,p,T,se,!!this.map._showQueryGeometry))}return this.placement&&W.push(function(me,De,Ae,Fe,Ze,at,lt){const ut={},et=at.queryRenderedSymbols(Fe),nt=[];for(const mt of Object.keys(et).map(Number))nt.push(lt[mt]);nt.sort(Zi);for(const mt of nt){const ct=mt.featureIndex.lookupSymbolFeatures(et[mt.bucketInstanceId],De,mt.bucketIndex,mt.sourceLayerIndex,Ze.filter,Ze.layers,Ze.availableImages,me);for(const xt in ct){const Pt=ut[xt]=ut[xt]||[],St=ct[xt];St.sort((jt,ii)=>{const Jt=mt.featureSortOrder;if(Jt){const Gt=Jt.indexOf(jt.featureIndex);return Jt.indexOf(ii.featureIndex)-Gt}return ii.featureIndex-jt.featureIndex});for(const jt of St)Pt.push(jt)}}for(const mt in ut)ut[mt].forEach(ct=>{const xt=ct.feature,Pt=Ae(me[mt]).getFeatureState(xt.layer["source-layer"],xt.id);xt.source=xt.layer.source,xt.layer["source-layer"]&&(xt.sourceLayer=xt.layer["source-layer"]),xt.state=Pt});return ut}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),ue.screenGeometry,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(W)}querySourceFeatures(c,p){p&&p.filter&&this._validate(s.validateFilter,"querySourceFeatures.filter",p.filter,null,p);const T=this._getSourceCaches(c);let B=[];for(const W of T)B=B.concat(xi(W,p));return B}addSourceType(c,p,T){return Z.getSourceType(c)?T(new Error(`A source type called "${c}" already exists.`)):(Z.setSourceType(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},T):T(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const T=this.light.getLight();let B=!1;for(const se in c)if(!v(c[se],T[se])){B=!0;break}if(!B)return;const W=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(c,p),this.light.updateTransitions(W)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(c,p=1){if(this._checkLoaded(),!c)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(p===1){if(typeof c.source=="object"){const T="terrain-dem-src";this.addSource(T,c.source),c=s.clone$1(c),c=s.extend(c,{source:T})}if(this._validate(s.validateTerrain,"terrain",c))return}if(!this.terrain||this.terrain&&p!==this.terrain.drapeRenderMode)this._createTerrain(c,p);else{const T=this.terrain,B=T.get();for(const W of Object.keys(s.spec.terrain))!c.hasOwnProperty(W)&&s.spec.terrain[W].default&&(c[W]=s.spec.terrain[W].default);for(const W in c)if(!v(c[W],B[W])){T.set(c),this.stylesheet.terrain=c;const se=this._setTransitionParameters({duration:0});T.updateTransitions(se);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(c){const p=this.fog=new he(c,this.map.transform);this.stylesheet.fog=c;const T=this._setTransitionParameters({duration:0});p.updateTransitions(T)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const c of this.map._markers)c._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(c){if(this._checkLoaded(),!c)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const p=this.fog,T=p.get();Object.keys(c).length===0&&p.set(c);for(const B in c)if(!v(c[B],T[B])){p.set(c),this.stylesheet.fog=c;const W=this._setTransitionParameters({duration:0});p.updateTransitions(W);break}}else this._createFog(c);this._markersNeedUpdate=!0}_setTransitionParameters(c){return{now:s.exported.now(),transition:s.extend(c,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const c=this._order.filter(T=>this.isLayerDraped(this._layers[T])),p=this._order.filter(T=>!this.isLayerDraped(this._layers[T]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...c),this._drapedFirstOrder.push(...p)}_createTerrain(c,p){const T=this.terrain=new A(c,p);this.stylesheet.terrain=c,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const B=this._setTransitionParameters({duration:0});T.updateTransitions(B)}_force3DLayerUpdate(){for(const c in this._layers){const p=this._layers[c];p.type==="fill-extrusion"&&this._updateLayer(p)}}_forceSymbolLayerUpdate(){for(const c in this._layers){const p=this._layers[c];p.type==="symbol"&&this._updateLayer(p)}}_validate(c,p,T,B,W={}){return(!W||W.validate!==!1)&&Zc(this,c.call(s.validateStyle,s.extend({key:p,style:this.serialize(),value:T,styleSpec:s.spec},B)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this._sourceCaches)this._sourceCaches[c].clearTiles(),this._sourceCaches[c].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(c){const p=this._getSourceCaches(c);for(const T of p)T.clearTiles()}_reloadSource(c){const p=this._getSourceCaches(c);for(const T of p)T.resume(),T.reload()}_reloadSources(){for(const c of this._getSources())c.reload&&c.reload()}_updateSources(c){for(const p in this._sourceCaches)this._sourceCaches[p].update(c)}_generateCollisionBoxes(){for(const c in this._sourceCaches){const p=this._sourceCaches[c];p.resume(),p.reload()}}_updatePlacement(c,p,T,B,W=!1){let se=!1,ue=!1;const me={};for(const De of this._order){const Ae=this._layers[De];if(Ae.type!=="symbol")continue;if(!me[Ae.source]){const Ze=this._getLayerSourceCache(Ae);if(!Ze)continue;me[Ae.source]=Ze.getRenderableIds(!0).map(at=>Ze.getTileByID(at)).sort((at,lt)=>lt.tileID.overscaledZ-at.tileID.overscaledZ||(at.tileID.isLessThan(lt.tileID)?-1:1))}const Fe=this.crossTileSymbolIndex.addLayer(Ae,me[Ae.source],c.center.lng,c.projection);se=se||Fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),W=W||this._layerOrderChanged||T===0,this._layerOrderChanged&&this.fire(new s.Event("neworder")),(W||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),c.zoom))&&(this.pauseablePlacement=new Pr(c,this._order,W,p,T,B,this.placement,this.fog&&c.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,me),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),ue=!0),se&&this.pauseablePlacement.placement.setStale()),ue||se)for(const De of this._order){const Ae=this._layers[De];Ae.type==="symbol"&&this.placement.updateLayerOpacities(Ae,me[Ae.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const c in this._sourceCaches)this._sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,T){this.imageManager.getImages(p.icons,T),this._updateTilesForChangedImages();const B=W=>{W&&W.setDependencies(p.tileID.key,p.type,p.icons)};B(this._otherSourceCaches[p.source]),B(this._symbolSourceCaches[p.source])}getGlyphs(c,p,T){this.glyphManager.getGlyphs(p.stacks,T)}getResource(c,p,T){return s.makeRequest(p,T)}_getSourceCache(c){return this._otherSourceCaches[c]}_getLayerSourceCache(c){return c.type==="symbol"?this._symbolSourceCaches[c.source]:this._otherSourceCaches[c.source]}_getSourceCaches(c){const p=[];return this._otherSourceCaches[c]&&p.push(this._otherSourceCaches[c]),this._symbolSourceCaches[c]&&p.push(this._symbolSourceCaches[c]),p}_isSourceCacheLoaded(c){const p=this._getSourceCaches(c);return p.length===0?(this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${c}'`))),!1):p.every(T=>T.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Z.getSourceType=function(_){return Ut[_]},Z.setSourceType=function(_,c){Ut[_]=c},Z.registerForPluginStateChange=s.registerForPluginStateChange;var de=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,be="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Me=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,je=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Ve=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Je={},Rt={};const Ct=[];ui(de,Ct),ui(Me,Ct),ui(je,Ct),ui(Ve,Ct),Je=Xi("",Me),Rt=Xi(Ve,je);const Kt=Xi(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),mi=de,ki=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var oi={background:Xi(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Xi(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Xi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Xi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Xi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Xi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Xi("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Xi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Xi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Xi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Xi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Xi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Xi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Xi(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Xi(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Xi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Xi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Xi(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Xi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Xi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Xi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Xi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Xi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Xi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Xi(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Xi(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,be),skyboxGradient:Xi(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,be),skyboxCapture:Xi(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Xi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Xi(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function ui(_,c){const p=_.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let T of p)if(T=T.trim(),T[0]==="#"&&T.includes("if")&&!T.includes("endif")){T=T.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const B=T.split(" ");for(const W of B)c.includes(W)||c.push(W)}}function Xi(_,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,T=c.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),B={},W=[...Ct];return ui(_,W),ui(c,W),{fragmentSource:_=_.replace(p,(se,ue,me,De,Ae)=>(B[Ae]=!0,ue==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
varying ${me} ${De} ${Ae};
#else
uniform ${me} ${De} u_${Ae};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ae}
    ${me} ${De} ${Ae} = u_${Ae};
#endif
`)),vertexSource:c=c.replace(p,(se,ue,me,De,Ae)=>{const Fe=De==="float"?"vec2":"vec4",Ze=Ae.match(/color/)?"color":Fe;return B[Ae]?ue==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
uniform lowp float u_${Ae}_t;
attribute ${me} ${Fe} a_${Ae};
varying ${me} ${De} ${Ae};
#else
uniform ${me} ${De} u_${Ae};
#endif
`:Ze==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ae}
    ${Ae} = a_${Ae};
#else
    ${me} ${De} ${Ae} = u_${Ae};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ae}
    ${Ae} = unpack_mix_${Ze}(a_${Ae}, u_${Ae}_t);
#else
    ${me} ${De} ${Ae} = u_${Ae};
#endif
`:ue==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
uniform lowp float u_${Ae}_t;
attribute ${me} ${Fe} a_${Ae};
#else
uniform ${me} ${De} u_${Ae};
#endif
`:Ze==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ae}
    ${me} ${De} ${Ae} = a_${Ae};
#else
    ${me} ${De} ${Ae} = u_${Ae};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ae}
    ${me} ${De} ${Ae} = unpack_mix_${Ze}(a_${Ae}, u_${Ae}_t);
#else
    ${me} ${De} ${Ae} = u_${Ae};
#endif
`}),staticAttributes:T,usedDefines:W}}class qn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(c,p,T,B,W,se,ue){this.context=c;let me=this.boundPaintVertexBuffers.length!==B.length;for(let Ae=0;!me&&Ae<B.length;Ae++)this.boundPaintVertexBuffers[Ae]!==B[Ae]&&(me=!0);let De=this.boundDynamicVertexBuffers.length!==ue.length;for(let Ae=0;!De&&Ae<ue.length;Ae++)this.boundDynamicVertexBuffers[Ae]!==ue[Ae]&&(De=!0);if(!c.extVertexArrayObject||!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==T||me||De||this.boundIndexBuffer!==W||this.boundVertexOffset!==se)this.freshBind(p,T,B,W,se,ue);else{c.bindVertexArrayOES.set(this.vao);for(const Ae of ue)Ae&&Ae.bind();W&&W.dynamicDraw&&W.bind()}}freshBind(c,p,T,B,W,se){let ue;const me=c.numAttributes,De=this.context,Ae=De.gl;if(De.extVertexArrayObject)this.vao&&this.destroy(),this.vao=De.extVertexArrayObject.createVertexArrayOES(),De.bindVertexArrayOES.set(this.vao),ue=0,this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=T,this.boundIndexBuffer=B,this.boundVertexOffset=W,this.boundDynamicVertexBuffers=se;else{ue=De.currentNumAttributes||0;for(let Fe=me;Fe<ue;Fe++)Ae.disableVertexAttribArray(Fe)}p.enableAttributes(Ae,c),p.bind(),p.setVertexAttribPointers(Ae,c,W);for(const Fe of T)Fe.enableAttributes(Ae,c),Fe.bind(),Fe.setVertexAttribPointers(Ae,c,W);for(const Fe of se)Fe&&(Fe.enableAttributes(Ae,c),Fe.bind(),Fe.setVertexAttribPointers(Ae,c,W));B&&B.bind(),De.currentNumAttributes=me}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function pn(_,c){const p=Math.pow(2,c.canonical.z),T=c.canonical.y;return[new s.MercatorCoordinate(0,T/p).toLngLat().lat,new s.MercatorCoordinate(0,(T+1)/p).toLngLat().lat]}function fs(_,c,p,T,B,W,se){const ue=_.context,me=ue.gl,De=p.fbo;if(!De)return;_.prepareDrawTile();const Ae=_.useProgram("hillshade");ue.activeTexture.set(me.TEXTURE0),me.bindTexture(me.TEXTURE_2D,De.colorAttachment.get());const Fe=((ut,et,nt,mt)=>{const ct=nt.paint.get("hillshade-shadow-color"),xt=nt.paint.get("hillshade-highlight-color"),Pt=nt.paint.get("hillshade-accent-color");let St=nt.paint.get("hillshade-illumination-direction")*(Math.PI/180);nt.paint.get("hillshade-illumination-anchor")==="viewport"&&(St-=ut.transform.angle);const jt=!ut.options.moving;return{u_matrix:mt||ut.transform.calculateProjMatrix(et.tileID.toUnwrapped(),jt),u_image:0,u_latrange:pn(0,et.tileID),u_light:[nt.paint.get("hillshade-exaggeration"),St],u_shadow:ct,u_highlight:xt,u_accent:Pt}})(_,p,T,_.terrain?c.projMatrix:null);_.prepareDrawProgram(ue,Ae,c.toUnwrapped());const{tileBoundsBuffer:Ze,tileBoundsIndexBuffer:at,tileBoundsSegments:lt}=_.getTileBoundsBuffers(p);Ae.draw(ue,me.TRIANGLES,B,W,se,s.CullFaceMode.disabled,Fe,T.id,Ze,at,lt)}function Jr(_,c,p){if(!c.needsDEMTextureUpload)return;const T=_.context,B=T.gl;T.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||_.getTileTexture(p.stride);const W=p.getPixels();c.demTexture?c.demTexture.update(W,{premultiply:!1}):c.demTexture=new s.Texture(T,W,B.RGBA,{premultiply:!1}),c.needsDEMTextureUpload=!1}function hr(_,c,p,T,B,W){const se=_.context,ue=se.gl;if(!c.dem)return;const me=c.dem;if(se.activeTexture.set(ue.TEXTURE1),Jr(_,c,me),!c.demTexture)return;c.demTexture.bind(ue.NEAREST,ue.CLAMP_TO_EDGE);const De=me.dim;se.activeTexture.set(ue.TEXTURE0);let Ae=c.fbo;if(!Ae){const lt=new s.Texture(se,{width:De,height:De,data:null},ue.RGBA);lt.bind(ue.LINEAR,ue.CLAMP_TO_EDGE),Ae=c.fbo=se.createFramebuffer(De,De,!0),Ae.colorAttachment.set(lt.texture)}se.bindFramebuffer.set(Ae.framebuffer),se.viewport.set([0,0,De,De]);const{tileBoundsBuffer:Fe,tileBoundsIndexBuffer:Ze,tileBoundsSegments:at}=_.getMercatorTileBoundsBuffers();_.useProgram("hillshadePrepare").draw(se,ue.TRIANGLES,T,B,W,s.CullFaceMode.disabled,((lt,ut)=>{const et=ut.stride,nt=s.create();return s.ortho(nt,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(nt,nt,[0,-s.EXTENT,0]),{u_matrix:nt,u_image:1,u_dimension:[et,et],u_zoom:lt.overscaledZ,u_unpack:ut.unpackVector}})(c.tileID,me),p.id,Fe,Ze,at),c.needsHillshadePrepare=!1}const pr=_=>({u_matrix:new s.UniformMatrix4f(_),u_image0:new s.Uniform1i(_),u_skirt_height:new s.Uniform1f(_)}),Hn=(_,c)=>({u_matrix:_,u_image0:0,u_skirt_height:c}),Qs=(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,Ze,at)=>({u_proj_matrix:Float32Array.from(_),u_globe_matrix:c,u_normalize_matrix:Float32Array.from(T),u_merc_matrix:p,u_zoom_transition:B,u_merc_center:W,u_image0:0,u_frustum_tl:se,u_frustum_tr:ue,u_frustum_br:me,u_frustum_bl:De,u_globe_pos:Ae,u_globe_radius:Fe,u_viewport:Ze,u_grid_matrix:at?Float32Array.from(at):new Float32Array(9)});function mr(_,c){return _!=null&&c!=null&&!(!_.hasData()||!c.hasData())&&_.demTexture!=null&&c.demTexture!=null&&_.tileID.key!==c.tileID.key}const Qr=new class{constructor(){this.operations={}}newMorphing(_,c,p,T,B){if(_ in this.operations){const W=this.operations[_];W.to.tileID.key!==p.tileID.key&&(W.queued=p)}else this.operations[_]={startTime:T,phase:0,duration:B,from:c,to:p,queued:null}}getMorphValuesForProxy(_){if(!(_ in this.operations))return null;const c=this.operations[_];return{from:c.from,to:c.to,phase:c.phase}}update(_){for(const c in this.operations){const p=this.operations[c];for(p.phase=(_-p.startTime)/p.duration;p.phase>=1||!this._validOp(p);)if(!this._nextOp(p,_)){delete this.operations[c];break}}}_nextOp(_,c){return!!_.queued&&(_.from=_.to,_.to=_.queued,_.queued=null,_.phase=0,_.startTime=c,!0)}_validOp(_){return _.from.hasData()&&_.to.hasData()}},Ga={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Xl(_,c){const p=1<<_.z;return!c&&(_.x===0||_.x===p-1)||_.y===0||_.y===p-1}const eo=_=>({u_matrix:_});function ea(_,c,p,T,B){if(B>0){const W=s.exported.now(),se=(W-_.timeAdded)/B,ue=c?(W-c.timeAdded)/B:-1,me=p.getSource(),De=T.coveringZoomLevel({tileSize:me.tileSize,roundZoom:me.roundZoom}),Ae=!c||Math.abs(c.tileID.overscaledZ-De)>Math.abs(_.tileID.overscaledZ-De),Fe=Ae&&_.refreshedUponExpiration?1:s.clamp(Ae?se:1-ue,0,1);return _.refreshedUponExpiration&&se>=1&&(_.refreshedUponExpiration=!1),c?{opacity:1,mix:1-Fe}:{opacity:Fe,mix:0}}return{opacity:1,mix:0}}class Zn extends s.SourceCache{constructor(c){const p={type:"raster-dem",maxzoom:c.transform.maxZoom},T=new pe(Hi(),null),B=Ht("mock-dem",p,T,c.style);super("mock-dem",B,!1),B.setEventedParent(this),this._sourceLoaded=!0}_loadTile(c,p){c.state="loaded",p(null)}}class yo extends s.SourceCache{constructor(c){const p=Ht("proxy",{type:"geojson",maxzoom:c.transform.maxZoom},new pe(Hi(),null),c.style);super("proxy",p,!1),p.setEventedParent(this),this.map=this.getSource().map=c,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(c,p,T){if(c.freezeTileCoverage)return;this.transform=c;const B=c.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((W,se)=>{if(W[se.key]="",!this._tiles[se.key]){const ue=new s.Tile(se,this._source.tileSize*se.overscaleFactor(),c.tileZoom);ue.state="loaded",this._tiles[se.key]=ue}return W},{});for(const W in this._tiles)W in B||(this.freeFBO(W),this._tiles[W].unloadVectorData(),delete this._tiles[W])}freeFBO(c){const p=this.proxyCachedFBO[c];if(p!==void 0){const T=Object.values(p);this.renderCachePool.push(...T),delete this.proxyCachedFBO[c]}}deallocRenderCache(){this.renderCache.forEach(c=>c.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ta extends s.OverscaledTileID{constructor(c,p,T){super(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y),this.proxyTileKey=p,this.projMatrix=T}}class Bo extends s.Elevation{constructor(c,p){super(),this.painter=c,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[T,B,W]=function(me){const De=new s.StructArrayLayout4i8,Ae=new s.StructArrayLayout3ui6,Fe=131;De.reserve(17161),Ae.reserve(33800);const Ze=s.EXTENT/128,at=s.EXTENT+Ze/2,lt=at+Ze;for(let et=-Ze;et<lt;et+=Ze)for(let nt=-Ze;nt<lt;nt+=Ze){const mt=nt<0||nt>at||et<0||et>at?24575:0,ct=s.clamp(Math.round(nt),0,s.EXTENT),xt=s.clamp(Math.round(et),0,s.EXTENT);De.emplaceBack(ct+mt,xt,ct,xt)}const ut=(et,nt)=>{const mt=nt*Fe+et;Ae.emplaceBack(mt+1,mt,mt+Fe),Ae.emplaceBack(mt+Fe,mt+Fe+1,mt+1)};for(let et=1;et<129;et++)for(let nt=1;nt<129;nt++)ut(nt,et);return[0,129].forEach(et=>{for(let nt=0;nt<130;nt++)ut(nt,et),ut(et,nt)}),[De,Ae,32768]}(),se=c.context;this.gridBuffer=se.createVertexBuffer(T,s.boundsAttributes.members),this.gridIndexBuffer=se.createIndexBuffer(B),this.gridSegments=s.SegmentVector.simpleSegment(0,0,T.length,B.length),this.gridNoSkirtSegments=s.SegmentVector.simpleSegment(0,0,T.length,W),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new yo(p.map),this.orthoMatrix=s.create(),s.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,s.EXTENT,0,s.EXTENT,0,1);const ue=se.gl;this._overlapStencilMode=new s.StencilMode({func:ue.GEQUAL,mask:255},0,255,ue.KEEP,ue.KEEP,ue.REPLACE),this._previousZoom=c.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=p,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Zn(p.map)}set style(c){c.on("data",this._onStyleDataEvent.bind(this)),c.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=c,this._checkRenderCacheEfficiency()}update(c,p,T){if(c&&c.terrain){this._style!==c&&(this.style=c),this.enabled=!0;const B=c.terrain.properties;this.sourceCache=c.terrain.drapeRenderMode===0?this._mockSourceCache:c._getSourceCache(B.get("source")),this._exaggeration=B.get("exaggeration");const W=()=>{this.sourceCache.used&&s.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const se=this.getScaledDemTileSize();this.sourceCache.update(p,se,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,W(),this._initializing=!0),W(),p.updateElevation(!0,T),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(p),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(c){this._findCoveringTileCache[c]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const c=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||c.efficiency!==100&&s.warnOnce(`Terrain render cache efficiency is not optimal (${c.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${c.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(c){c.coord&&c.dataType==="source"?this._clearRenderCacheForTile(c.sourceCacheId,c.coord):c.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const c in this._style._sourceCaches)this._style._sourceCaches[c].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(c=>c.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const c=2*this.proxySourceCache.getSource().tileSize;return[c,c]}set useVertexMorphing(c){this._useVertexMorphing=c}updateTileBinding(c){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const p=this.proxySourceCache,T=this.painter.transform;this._initializing&&(this._initializing=T._centerAltitude===0&&this.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(T.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const B=this.proxyCoords=p.getIds().map(me=>{const De=p.getTileByID(me).tileID;return De.projMatrix=T.calculateProjMatrix(De.toUnwrapped()),De});(function(me,De){const Ae=De.transform.pointCoordinate(De.transform.getCameraPoint()),Fe=new s.pointGeometry(Ae.x,Ae.y);me.sort((Ze,at)=>{if(at.overscaledZ-Ze.overscaledZ)return at.overscaledZ-Ze.overscaledZ;const lt=new s.pointGeometry(Ze.canonical.x+(1<<Ze.canonical.z)*Ze.wrap,Ze.canonical.y),ut=new s.pointGeometry(at.canonical.x+(1<<at.canonical.z)*at.wrap,at.canonical.y),et=Fe.mult(1<<Ze.canonical.z);return et.x-=.5,et.y-=.5,et.distSqr(lt)-et.distSqr(ut)})})(B,this.painter),this._previousZoom=T.zoom;const W=this.proxyToSource||{};this.proxyToSource={},B.forEach(me=>{this.proxyToSource[me.key]={}}),this.terrainTileForTile={};const se=this._style._sourceCaches;for(const me in se){const De=se[me];if(!De.used||(De!==this.sourceCache&&this.resetTileLookupCache(De.id),this._setupProxiedCoordsForOrtho(De,c[me],W),De.usedForTerrain))continue;const Ae=c[me];De.getSource().reparseOverscaled&&this._assignTerrainTiles(Ae)}this.proxiedCoords[p.id]=B.map(me=>new ta(me,me.key,this.orthoMatrix)),this._assignTerrainTiles(B),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(W),this.renderingToTexture=!1,this._updateTimestamp=s.exported.now();const ue={};this._visibleDemTiles=[];for(const me of this.proxyCoords){const De=this.terrainTileForTile[me.key];if(!De)continue;const Ae=De.tileID.key;Ae in ue||(this._visibleDemTiles.push(De),ue[Ae]=Ae)}}_assignTerrainTiles(c){this._initializing||c.forEach(p=>{if(this.terrainTileForTile[p.key])return;const T=this._findTileCoveringTileID(p,this.sourceCache);T&&(this.terrainTileForTile[p.key]=T)})}_prepareDEMTextures(){const c=this.painter.context,p=c.gl;for(const T in this.terrainTileForTile){const B=this.terrainTileForTile[T],W=B.dem;!W||B.demTexture&&!B.needsDEMTextureUpload||(c.activeTexture.set(p.TEXTURE1),Jr(this.painter,B,W))}}_prepareDemTileUniforms(c,p,T,B){if(!p||p.demTexture==null)return!1;const W=c.tileID.canonical,se=Math.pow(2,p.tileID.canonical.z-W.z),ue=B||"";return T[`u_dem_tl${ue}`]=[W.x*se%1,W.y*se%1],T[`u_dem_scale${ue}`]=se,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const c=this.painter.context,p=c.gl;if(!this._emptyDepthBufferTexture){const T=new s.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new s.Texture(c,T,p.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let c=0;const p=this._visibleDemTiles.reduce((T,B)=>{if(!B.dem)return T;const W=B.dem.tree.minimums[0];return W>0&&c++,T+W},0);return c?p/c:0}_updateEmptyDEMTexture(){const c=this.painter.context,p=c.gl;c.activeTexture.set(p.TEXTURE2);const T=this._getLoadedAreaMinimum(),B=new s.RGBAImage({width:1,height:1},new Uint8Array(s.DEMData.pack(T,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let W=this._emptyDEMTexture;return W?W.update(B,{premultiply:!1}):W=this._emptyDEMTexture=new s.Texture(c,B,p.RGBA,{premultiply:!1}),W}setupElevationDraw(c,p,T){const B=this.painter.context,W=B.gl,se=(ue=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:s.DEMData.getUnpackVector(ue),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var ue;se.u_dem_size=this.sourceCache.getSource().tileSize,se.u_exaggeration=this.exaggeration();let me=null,De=null,Ae=1;if(T&&T.morphing&&this._useVertexMorphing){const Fe=T.morphing.srcDemTile,Ze=T.morphing.dstDemTile;Ae=T.morphing.phase,Fe&&Ze&&(this._prepareDemTileUniforms(c,Fe,se,"_prev")&&(De=Fe),this._prepareDemTileUniforms(c,Ze,se)&&(me=Ze))}if(De&&me?(B.activeTexture.set(W.TEXTURE2),me.demTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE,W.NEAREST),B.activeTexture.set(W.TEXTURE4),De.demTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE,W.NEAREST),se.u_dem_lerp=Ae):(me=this.terrainTileForTile[c.tileID.key],B.activeTexture.set(W.TEXTURE2),(this._prepareDemTileUniforms(c,me,se)?me.demTexture:this.emptyDEMTexture).bind(W.NEAREST,W.CLAMP_TO_EDGE)),B.activeTexture.set(W.TEXTURE3),T&&T.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE),this._depthFBO&&(se.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE),se.u_depth_size_inv=[1,1]),T&&T.useMeterToDem&&me){const Fe=(1<<me.tileID.canonical.z)*s.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;se.u_meter_to_dem=Fe}if(T&&T.labelPlaneMatrixInv&&(se.u_label_plane_matrix_inv=T.labelPlaneMatrixInv),p.setTerrainUniformValues(B,se),this.painter.transform.projection.name==="globe"){const Fe=this.globeUniformValues(this.painter.transform,c.tileID.canonical,T&&T.useDenormalizedUpVectorScale);p.setGlobeUniformValues(B,Fe)}}globeUniformValues(c,p,T){const B=c.projection;return{u_tile_tl_up:B.upVector(p,0,0),u_tile_tr_up:B.upVector(p,s.EXTENT,0),u_tile_br_up:B.upVector(p,s.EXTENT,s.EXTENT),u_tile_bl_up:B.upVector(p,0,s.EXTENT),u_tile_up_scale:T?s.GLOBE_METERS_TO_ECEF:B.upVectorScale(p,c.center.lat,c.worldSize).metersToTile}}renderToBackBuffer(c){const p=this.painter,T=this.painter.context;c.length!==0&&(T.bindFramebuffer.set(null),T.viewport.set([0,0,p.width,p.height]),p.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(B,W,se,ue,me){if(B.transform.projection.name==="globe")(function(De,Ae,Fe,Ze,at){const lt=De.context,ut=lt.gl;let et,nt;const mt=De.options.showTerrainWireframe?2:0,ct=De.transform,xt=s.globeUseCustomAntiAliasing(De,lt,ct),Pt=(Ri,si)=>{if(nt===Ri)return;const Si=[Ga[Ri],"PROJECTION_GLOBE_VIEW"];xt&&Si.push("CUSTOM_ANTIALIASING"),si&&Si.push(Ga[mt]),et=De.useProgram("globeRaster",null,Si),nt=Ri},St=De.colorModeForRenderPass(),jt=new s.DepthMode(ut.LEQUAL,s.DepthMode.ReadWrite,De.depthRangeFor3D);Qr.update(at);const ii=s.calculateGlobeMercatorMatrix(ct),Jt=[s.mercatorXfromLng(ct.center.lng),s.mercatorYfromLat(ct.center.lat)],Gt=mt?[!1,!0]:[!1],Mi=De.globeSharedBuffers,Xt=[ct.width*s.exported.devicePixelRatio,ct.height*s.exported.devicePixelRatio],yi=Float32Array.from(ct.globeMatrix),ri={useDenormalizedUpVectorScale:!0};if(Gt.forEach(Ri=>{nt=-1;const si=Ri?ut.LINES:ut.TRIANGLES;for(const Si of Ze){const Ni=Fe.getTile(Si),Yt=s.StencilMode.disabled,ni=Ae.prevTerrainTileForTile[Si.key],mn=Ae.terrainTileForTile[Si.key];mr(ni,mn)&&Qr.newMorphing(Si.key,ni,mn,at,250),lt.activeTexture.set(ut.TEXTURE0),Ni.texture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE);const Sn=Qr.getMorphValuesForProxy(Si.key),gn=Sn?1:0;Sn&&s.extend$1(ri,{morphing:{srcDemTile:Sn.from,dstDemTile:Sn.to,phase:s.easeCubicInOut(Sn.phase)}});const jn=s.tileCornersToBounds(Si.canonical),or=s.getLatitudinalLod(jn.getCenter().lat),kn=s.getGridMatrix(Si.canonical,jn,or,ct.worldSize/ct._pixelsPerMercatorPixel),ln=s.globeNormalizeECEF(s.globeTileBounds(Si.canonical)),is=Qs(ct.projMatrix,yi,ii,ln,s.globeToMercatorTransition(ct.zoom),Jt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,Xt,kn);if(Pt(gn,Ri),Ae.setupElevationDraw(Ni,et,ri),De.prepareDrawProgram(lt,et,Si.toUnwrapped()),Mi){const[Hr,rs,es]=Ri?Mi.getWirefameBuffers(De.context,or):Mi.getGridBuffers(or);et.draw(lt,si,jt,Yt,St,s.CullFaceMode.backCCW,is,"globe_raster",Hr,rs,es)}}}),Mi){const Ri=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];xt&&Ri.push("CUSTOM_ANTIALIASING"),et=De.useProgram("globeRaster",null,Ri);for(const si of Ze){const{x:Si,y:Ni,z:Yt}=si.canonical,ni=Ni===0,mn=Ni===(1<<Yt)-1,[Sn,gn,jn,or]=Mi.getPoleBuffers(Yt);if(or&&(ni||mn)){const kn=Fe.getTile(si);lt.activeTexture.set(ut.TEXTURE0),kn.texture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE);let ln=s.globePoleMatrixForTile(Yt,Si,ct);const is=s.globeNormalizeECEF(s.globeTileBounds(si.canonical)),Hr=(rs,es)=>rs.draw(lt,ut.TRIANGLES,jt,s.StencilMode.disabled,St,s.CullFaceMode.disabled,Qs(ct.projMatrix,ln,ln,is,0,Jt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,Xt),"globe_pole_raster",es,jn,or);Ae.setupElevationDraw(kn,et,ri),De.prepareDrawProgram(lt,et,si.toUnwrapped()),ni&&Hr(et,Sn),mn&&(ln=s.scale(s.create(),ln,[1,-1,1]),Hr(et,gn))}}}})(B,W,se,ue,me);else{const De=B.context,Ae=De.gl;let Fe,Ze;const at=B.options.showTerrainWireframe?2:0,lt=(ct,xt)=>{if(Ze===ct)return;const Pt=[Ga[ct]];xt&&Pt.push(Ga[at]),Fe=B.useProgram("terrainRaster",null,Pt),Ze=ct},ut=B.colorModeForRenderPass(),et=new s.DepthMode(Ae.LEQUAL,s.DepthMode.ReadWrite,B.depthRangeFor3D);Qr.update(me);const nt=B.transform,mt=6*Math.pow(1.5,22-nt.zoom)*W.exaggeration();(at?[!1,!0]:[!1]).forEach(ct=>{Ze=-1;const xt=ct?Ae.LINES:Ae.TRIANGLES,[Pt,St]=ct?W.getWirefameBuffer():[W.gridIndexBuffer,W.gridSegments];for(const jt of ue){const ii=se.getTile(jt),Jt=s.StencilMode.disabled,Gt=W.prevTerrainTileForTile[jt.key],Mi=W.terrainTileForTile[jt.key];mr(Gt,Mi)&&Qr.newMorphing(jt.key,Gt,Mi,me,250),De.activeTexture.set(Ae.TEXTURE0),ii.texture.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE,Ae.LINEAR_MIPMAP_NEAREST);const Xt=Qr.getMorphValuesForProxy(jt.key),yi=Xt?1:0;let ri;Xt&&(ri={morphing:{srcDemTile:Xt.from,dstDemTile:Xt.to,phase:s.easeCubicInOut(Xt.phase)}});const Ri=Hn(jt.projMatrix,Xl(jt.canonical,nt.renderWorldCopies)?mt/10:mt);lt(yi,ct),W.setupElevationDraw(ii,Fe,ri),B.prepareDrawProgram(De,Fe,jt.toUnwrapped()),Fe.draw(De,xt,et,Jt,ut,s.CullFaceMode.backCCW,Ri,"terrain_raster",W.gridBuffer,Pt,St)}})}}(p,this,this.proxySourceCache,c,this._updateTimestamp),this.renderingToTexture=!0,p.gpuTimingDeferredRenderEnd(),c.splice(0,c.length))}renderBatch(c){if(this._drapedRenderBatches.length===0)return c+1;this.renderingToTexture=!0;const p=this.painter,T=this.painter.context,B=this.proxySourceCache,W=this.proxiedCoords[B.id],se=this._drapedRenderBatches.shift(),ue=[],me=p.style.order;let De=0;for(const Ae of W){const Fe=B.getTileByID(Ae.proxyTileKey),Ze=B.proxyCachedFBO[Ae.key]?B.proxyCachedFBO[Ae.key][c]:void 0,at=Ze!==void 0?B.renderCache[Ze]:this.pool[De++],lt=Ze!==void 0;if(Fe.texture=at.tex,lt&&!at.dirty){ue.push(Fe.tileID);continue}let ut;T.bindFramebuffer.set(at.fb.framebuffer),this.renderedToTile=!1,at.dirty&&(T.clear({color:s.Color.transparent,stencil:0}),at.dirty=!1);for(let et=se.start;et<=se.end;++et){const nt=p.style._layers[me[et]];if(nt.isHidden(p.transform.zoom))continue;const mt=p.style._getLayerSourceCache(nt),ct=mt?this.proxyToSource[Ae.key][mt.id]:[Ae];if(!ct)continue;const xt=ct;T.viewport.set([0,0,at.fb.width,at.fb.height]),ut!==(mt?mt.id:null)&&(this._setupStencil(at,ct,nt,mt),ut=mt?mt.id:null),p.renderLayer(p,mt,nt,xt)}this.renderedToTile?(at.dirty=!0,ue.push(Fe.tileID)):lt||--De,De===5&&(De=0,this.renderToBackBuffer(ue))}return this.renderToBackBuffer(ue),this.renderingToTexture=!1,T.bindFramebuffer.set(null),T.viewport.set([0,0,p.width,p.height]),se.end+1}postRender(){}renderCacheEfficiency(c){const p=c.order.length;if(p===0)return{efficiency:100};let T,B=0,W=0,se=!1;for(let ue=0;ue<p;++ue){const me=c._layers[c.order[ue]];this._style.isLayerDraped(me)?(se&&++B,++W):se||(se=!0,T=me.id)}return W===0?{efficiency:100}:{efficiency:100*(1-B/W),firstUndrapedLayer:T}}getMinElevationBelowMSL(){let c=0;return this._visibleDemTiles.filter(p=>p.dem).forEach(p=>{c=Math.min(c,p.dem.tree.minimums[0])}),c===0?c:(c-30)*this._exaggeration}raycast(c,p,T){if(!this._visibleDemTiles)return null;const B=this._visibleDemTiles.filter(W=>W.dem).map(W=>{const se=W.tileID,ue=1<<se.overscaledZ,{x:me,y:De}=se.canonical,Ae=me/ue,Fe=(me+1)/ue,Ze=De/ue,at=(De+1)/ue;return{minx:Ae,miny:Ze,maxx:Fe,maxy:at,t:W.dem.tree.raycastRoot(Ae,Ze,Fe,at,c,p,T),tile:W}});B.sort((W,se)=>(W.t!==null?W.t:Number.MAX_VALUE)-(se.t!==null?se.t:Number.MAX_VALUE));for(const W of B){if(W.t==null)return null;const se=W.tile.dem.tree.raycast(W.minx,W.miny,W.maxx,W.maxy,c,p,T);if(se!=null)return se}return null}_createFBO(){const c=this.painter.context,p=c.gl,T=this.drapeBufferSize;c.activeTexture.set(p.TEXTURE0);const B=new s.Texture(c,{width:T[0],height:T[1],data:null},p.RGBA);B.bind(p.LINEAR,p.CLAMP_TO_EDGE);const W=c.createFramebuffer(T[0],T[1],!1);return W.colorAttachment.set(B.texture),W.depthAttachment=new il(c,W.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=c.createRenderbuffer(c.gl.DEPTH_STENCIL,T[0],T[1]),this._stencilRef=0,W.depthAttachment.set(this._sharedDepthStencil),c.clear({stencil:0})):W.depthAttachment.set(this._sharedDepthStencil),c.extTextureFilterAnisotropic&&!c.extTextureFilterAnisotropicForceOff&&p.texParameterf(p.TEXTURE_2D,c.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c.extTextureFilterAnisotropicMax),{fb:W,tex:B,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const c in this._style._sourceCaches)if(this._style._sourceCaches[c].hasTransition())return!0;return this._style.order.some(c=>{const p=this._style._layers[c],T=p.isHidden(this.painter.transform.zoom);return p.type!=="custom"&&!T&&p.hasTransition()})}_clearRasterFadeFromRenderCache(){let c=!1;for(const p in this._style._sourceCaches)if(this._style._sourceCaches[p]._source instanceof He){c=!0;break}if(c)for(let p=0;p<this._style.order.length;++p){const T=this._style._layers[this._style.order[p]],B=T.isHidden(this.painter.transform.zoom),W=this._style._getLayerSourceCache(T);if(T.type!=="raster"||B||!W)continue;const se=T.paint.get("raster-fade-duration");for(const ue of this.proxyCoords){const me=this.proxyToSource[ue.key][W.id];if(me)for(const De of me){const Ae=ea(W.getTile(De),W.findLoadedParent(De,0),W,this.painter.transform,se);(Ae.opacity!==1||Ae.mix!==0)&&this._clearRenderCacheForTile(W.id,De)}}}}_setupDrapedRenderBatches(){const c=this._style.order,p=c.length;if(p===0)return;const T=[];let B,W=0,se=this._style._layers[c[W]];for(;!this._style.isLayerDraped(se)&&se.isHidden(this.painter.transform.zoom)&&++W<p;)se=this._style._layers[c[W]];for(;W<p;++W){const ue=this._style._layers[c[W]];ue.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(ue)?B===void 0&&(B=W):B!==void 0&&(T.push({start:B,end:W-1}),B=void 0))}B!==void 0&&T.push({start:B,end:W-1}),this._drapedRenderBatches=T}_setupRenderCache(c){const p=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,p.renderCache.length>p.renderCachePool.length){const se=Object.values(p.proxyCachedFBO);p.proxyCachedFBO={};for(let ue=0;ue<se.length;++ue){const me=Object.values(se[ue]);p.renderCachePool.push(...me)}}return}this._clearRasterFadeFromRenderCache();const T=this.proxyCoords,B=this._tilesDirty;for(let se=T.length-1;se>=0;se--){const ue=T[se];if(p.getTileByID(ue.key),p.proxyCachedFBO[ue.key]!==void 0){const me=c[ue.key],De=this.proxyToSource[ue.key];let Ae=0;for(const Fe in De){const Ze=De[Fe],at=me[Fe];if(!at||at.length!==Ze.length||Ze.some((lt,ut)=>lt!==at[ut]||B[Fe]&&B[Fe].hasOwnProperty(lt.key))){Ae=-1;break}++Ae}for(const Fe in p.proxyCachedFBO[ue.key])p.renderCache[p.proxyCachedFBO[ue.key][Fe]].dirty=Ae<0||Ae!==Object.values(me).length}}const W=[...this._drapedRenderBatches];W.sort((se,ue)=>ue.end-ue.start-(se.end-se.start));for(const se of W)for(const ue of T){if(p.proxyCachedFBO[ue.key])continue;let me=p.renderCachePool.pop();me===void 0&&p.renderCache.length<50&&(me=p.renderCache.length,p.renderCache.push(this._createFBO())),me!==void 0&&(p.proxyCachedFBO[ue.key]={},p.proxyCachedFBO[ue.key][se.start]=me,p.renderCache[me].dirty=!0)}this._tilesDirty={}}_setupStencil(c,p,T,B){if(!B||!this._sourceTilesOverlap[B.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const W=this.painter.context,se=W.gl;if(p.length<=1)return void(this._overlapStencilType=!1);let ue;if(T.isTileClipped())ue=p.length,this._overlapStencilMode.test={func:se.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(p[0].overscaledZ>p[p.length-1].overscaledZ))return void(this._overlapStencilType=!1);ue=1,this._overlapStencilMode.test={func:se.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+ue>255&&(W.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=ue,this._overlapStencilMode.ref=this._stencilRef,T.isTileClipped()&&this._renderTileClippingMasks(p,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(c){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[c.key]),this._overlapStencilMode):s.StencilMode.disabled}_renderTileClippingMasks(c,p){const T=this.painter,B=this.painter.context,W=B.gl;T._tileClippingMaskIDs={},B.setColorMode(s.ColorMode.disabled),B.setDepthMode(s.DepthMode.disabled);const se=T.useProgram("clippingMask");for(const ue of c){const me=T._tileClippingMaskIDs[ue.key]=--p;se.draw(B,W.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:W.ALWAYS,mask:0},me,255,W.KEEP,W.KEEP,W.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,eo(ue.projMatrix),"$clipping",T.tileExtentBuffer,T.quadTriangleIndexBuffer,T.tileExtentSegments)}}pointCoordinate(c){const p=this.painter.transform;if(c.x<0||c.x>p.width||c.y<0||c.y>p.height)return null;const T=[c.x,c.y,1,1];s.transformMat4$1(T,T,p.pixelMatrixInverse),s.scale$1(T,T,1/T[3]),T[0]/=p.worldSize,T[1]/=p.worldSize;const B=p._camera.position,W=s.mercatorZfromAltitude(1,p.center.lat),se=[B[0],B[1],B[2]/W,0],ue=s.subtract([],T.slice(0,3),se);s.normalize(ue,ue);const me=this.raycast(se,ue,this._exaggeration);return me!==null&&me?(s.scaleAndAdd(se,se,ue,me),se[3]=se[2],se[2]*=W,se):null}drawDepth(){const c=this.painter,p=c.context,T=this.proxySourceCache,B=Math.ceil(c.width),W=Math.ceil(c.height);if(!this._depthFBO||this._depthFBO.width===B&&this._depthFBO.height===W||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const se=p.gl,ue=p.createFramebuffer(B,W,!0);p.activeTexture.set(se.TEXTURE0);const me=new s.Texture(p,{width:B,height:W,data:null},se.RGBA);me.bind(se.NEAREST,se.CLAMP_TO_EDGE),ue.colorAttachment.set(me.texture);const De=p.createRenderbuffer(p.gl.DEPTH_COMPONENT16,B,W);ue.depthAttachment.set(De),this._depthFBO=ue,this._depthTexture=me}p.bindFramebuffer.set(this._depthFBO.framebuffer),p.viewport.set([0,0,B,W]),function(se,ue,me,De){if(se.transform.projection.name==="globe")return;const Ae=se.context,Fe=Ae.gl;Ae.clear({depth:1});const Ze=se.useProgram("terrainDepth"),at=new s.DepthMode(Fe.LESS,s.DepthMode.ReadWrite,se.depthRangeFor3D);for(const lt of De){const ut=me.getTile(lt),et=Hn(lt.projMatrix,0);ue.setupElevationDraw(ut,Ze),Ze.draw(Ae,Fe.TRIANGLES,at,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.backCCW,et,"terrain_depth",ue.gridBuffer,ue.gridIndexBuffer,ue.gridNoSkirtSegments)}}(c,this,T,this.proxyCoords)}_setupProxiedCoordsForOrtho(c,p,T){if(c.getSource()instanceof Ot)return this._setupProxiedCoordsForImageSource(c,p,T);this._findCoveringTileCache[c.id]=this._findCoveringTileCache[c.id]||{};const B=this.proxiedCoords[c.id]=[],W=this.proxyCoords;for(let ue=0;ue<W.length;ue++){const me=W[ue],De=this._findTileCoveringTileID(me,c);if(De){const Ae=this._createProxiedId(me,De,T[me.key]&&T[me.key][c.id]);B.push(Ae),this.proxyToSource[me.key][c.id]=[Ae]}}let se=!1;for(let ue=0;ue<p.length;ue++){const me=c.getTile(p[ue]);if(!me||!me.hasData())continue;const De=this._findTileCoveringTileID(me.tileID,this.proxySourceCache);if(De&&De.tileID.canonical.z!==me.tileID.canonical.z){const Ae=this.proxyToSource[De.tileID.key][c.id],Fe=this._createProxiedId(De.tileID,me,T[De.tileID.key]&&T[De.tileID.key][c.id]);Ae?Ae.splice(Ae.length-1,0,Fe):this.proxyToSource[De.tileID.key][c.id]=[Fe],B.push(Fe),se=!0}}this._sourceTilesOverlap[c.id]=se}_setupProxiedCoordsForImageSource(c,p,T){if(!c.getSource().loaded())return;const B=this.proxiedCoords[c.id]=[],W=this.proxyCoords,se=c.getSource(),ue=new s.pointGeometry(se.tileID.x,se.tileID.y)._div(1<<se.tileID.z),me=se.coordinates.map(s.MercatorCoordinate.fromLngLat).reduce((Ae,Fe)=>(Ae.min.x=Math.min(Ae.min.x,Fe.x-ue.x),Ae.min.y=Math.min(Ae.min.y,Fe.y-ue.y),Ae.max.x=Math.max(Ae.max.x,Fe.x-ue.x),Ae.max.y=Math.max(Ae.max.y,Fe.y-ue.y),Ae),{min:new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new s.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),De=(Ae,Fe)=>{const Ze=Ae.wrap+Ae.canonical.x/(1<<Ae.canonical.z),at=Ae.canonical.y/(1<<Ae.canonical.z),lt=s.EXTENT/(1<<Ae.canonical.z),ut=Fe.wrap+Fe.canonical.x/(1<<Fe.canonical.z),et=Fe.canonical.y/(1<<Fe.canonical.z);return Ze+lt<ut+me.min.x||Ze>ut+me.max.x||at+lt<et+me.min.y||at>et+me.max.y};for(let Ae=0;Ae<W.length;Ae++){const Fe=W[Ae];for(let Ze=0;Ze<p.length;Ze++){const at=c.getTile(p[Ze]);if(!at||!at.hasData()||De(Fe,at.tileID))continue;const lt=this._createProxiedId(Fe,at,T[Fe.key]&&T[Fe.key][c.id]),ut=this.proxyToSource[Fe.key][c.id];ut?ut.push(lt):this.proxyToSource[Fe.key][c.id]=[lt],B.push(lt)}}}_createProxiedId(c,p,T){let B=this.orthoMatrix;if(T){const W=T.find(se=>se.key===p.tileID.key);if(W)return W}if(p.tileID.key!==c.key){const W=c.canonical.z-p.tileID.canonical.z;let se,ue,me;B=s.create();const De=p.tileID.wrap-c.wrap<<c.overscaledZ;W>0?(se=s.EXTENT>>W,ue=se*((p.tileID.canonical.x<<W)-c.canonical.x+De),me=se*((p.tileID.canonical.y<<W)-c.canonical.y)):(se=s.EXTENT<<-W,ue=s.EXTENT*(p.tileID.canonical.x-(c.canonical.x+De<<-W)),me=s.EXTENT*(p.tileID.canonical.y-(c.canonical.y<<-W))),s.ortho(B,0,se,0,se,0,1),s.translate(B,B,[ue,me,0])}return new ta(p.tileID,c.key,B)}_findTileCoveringTileID(c,p){let T=p.getTile(c);if(T&&T.hasData())return T;const B=this._findCoveringTileCache[p.id],W=B[c.key];if(T=W?p.getTileByID(W):null,T&&T.hasData()||W===null)return T;let se=T?T.tileID:c,ue=se.overscaledZ;const me=p.getSource().minzoom,De=[];if(!W){const Fe=p.getSource().maxzoom;if(c.canonical.z>=Fe){const Ze=c.canonical.z-Fe;p.getSource().reparseOverscaled?(ue=Math.max(c.canonical.z+2,p.transform.tileZoom),se=new s.OverscaledTileID(ue,c.wrap,Fe,c.canonical.x>>Ze,c.canonical.y>>Ze)):Ze!==0&&(ue=Fe,se=new s.OverscaledTileID(ue,c.wrap,Fe,c.canonical.x>>Ze,c.canonical.y>>Ze))}se.key!==c.key&&(De.push(se.key),T=p.getTile(se))}const Ae=Fe=>{De.forEach(Ze=>{B[Ze]=Fe}),De.length=0};for(ue-=1;ue>=me&&(!T||!T.hasData());ue--){T&&Ae(T.tileID.key);const Fe=se.calculateScaledKey(ue);if(T=p.getTileByID(Fe),T&&T.hasData())break;const Ze=B[Fe];if(Ze===null)break;Ze===void 0?De.push(Fe):T=p.getTileByID(Ze)}return Ae(T?T.tileID.key:null),T&&T.hasData()?T:null}findDEMTileFor(c){return this.enabled?this._findTileCoveringTileID(c,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(c,p){let T=this._tilesDirty[c];T||(T=this._tilesDirty[c]={}),T[p.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const c=function(p){let T=0;const B=new s.StructArrayLayout2ui4,W=131;for(let se=1;se<129;se++){for(let ue=1;ue<129;ue++)T=se*W+ue,B.emplaceBack(T,T+1),B.emplaceBack(T,T+W),B.emplaceBack(T+1,T+W),se===128&&B.emplaceBack(T+W,T+W+1);B.emplaceBack(T+1,T+1+W)}return B}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(c),this.wireframeSegments=s.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,c.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class ga{static cacheKey(c,p,T,B){let W=`${p}${B?B.cacheKey:""}`;for(const se of T)c.usedDefines.includes(se)&&(W+=`/${se}`);return W}constructor(c,p,T,B,W,se){const ue=c.gl;this.program=ue.createProgram();const me=function(et){const nt=[];for(let mt=0;mt<et.length;mt++){if(et[mt]===null)continue;const ct=et[mt].split(" ");nt.push(ct.pop())}return nt}(T.staticAttributes),De=B?B.getBinderAttributes():[],Ae=me.concat(De);let Fe=B?B.defines():[];Fe=Fe.concat(se.map(et=>`#define ${et}`));const Ze=Fe.concat(c.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(ki):ki,ki,mi,Kt.fragmentSource,Rt.fragmentSource,T.fragmentSource).join(`
`),at=Fe.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,mi,Kt.vertexSource,Rt.vertexSource,Je.vertexSource,T.vertexSource).join(`
`),lt=ue.createShader(ue.FRAGMENT_SHADER);if(ue.isContextLost())return void(this.failedToCreate=!0);ue.shaderSource(lt,Ze),ue.compileShader(lt),ue.attachShader(this.program,lt);const ut=ue.createShader(ue.VERTEX_SHADER);if(ue.isContextLost())this.failedToCreate=!0;else{ue.shaderSource(ut,at),ue.compileShader(ut),ue.attachShader(this.program,ut),this.attributes={},this.numAttributes=Ae.length;for(let et=0;et<this.numAttributes;et++)Ae[et]&&(ue.bindAttribLocation(this.program,et,Ae[et]),this.attributes[Ae[et]]=et);ue.linkProgram(this.program),ue.deleteShader(ut),ue.deleteShader(lt),this.fixedUniforms=W(c),this.binderUniforms=B?B.getUniforms(c):[],se.includes("TERRAIN")&&(this.terrainUniforms=(et=>({u_dem:new s.Uniform1i(et),u_dem_prev:new s.Uniform1i(et),u_dem_unpack:new s.Uniform4f(et),u_dem_tl:new s.Uniform2f(et),u_dem_scale:new s.Uniform1f(et),u_dem_tl_prev:new s.Uniform2f(et),u_dem_scale_prev:new s.Uniform1f(et),u_dem_size:new s.Uniform1f(et),u_dem_lerp:new s.Uniform1f(et),u_exaggeration:new s.Uniform1f(et),u_depth:new s.Uniform1i(et),u_depth_size_inv:new s.Uniform2f(et),u_meter_to_dem:new s.Uniform1f(et),u_label_plane_matrix_inv:new s.UniformMatrix4f(et)}))(c)),se.includes("GLOBE")&&(this.globeUniforms=(et=>({u_tile_tl_up:new s.Uniform3f(et),u_tile_tr_up:new s.Uniform3f(et),u_tile_br_up:new s.Uniform3f(et),u_tile_bl_up:new s.Uniform3f(et),u_tile_up_scale:new s.Uniform1f(et)}))(c)),se.includes("FOG")&&(this.fogUniforms=(et=>({u_fog_matrix:new s.UniformMatrix4f(et),u_fog_range:new s.Uniform2f(et),u_fog_color:new s.Uniform4f(et),u_fog_horizon_blend:new s.Uniform1f(et),u_fog_temporal_offset:new s.Uniform1f(et),u_frustum_tl:new s.Uniform3f(et),u_frustum_tr:new s.Uniform3f(et),u_frustum_br:new s.Uniform3f(et),u_frustum_bl:new s.Uniform3f(et),u_globe_pos:new s.Uniform3f(et),u_globe_radius:new s.Uniform1f(et),u_globe_transition:new s.Uniform1f(et),u_is_globe:new s.Uniform1i(et),u_viewport:new s.Uniform2f(et)}))(c))}}setTerrainUniformValues(c,p){if(!this.terrainUniforms)return;const T=this.terrainUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const B in p)T[B]&&T[B].set(this.program,B,p[B])}}setGlobeUniformValues(c,p){if(!this.globeUniforms)return;const T=this.globeUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const B in p)T[B]&&T[B].set(this.program,B,p[B])}}setFogUniformValues(c,p){if(!this.fogUniforms)return;const T=this.fogUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const B in p)T[B].set(this.program,B,p[B])}}draw(c,p,T,B,W,se,ue,me,De,Ae,Fe,Ze,at,lt,ut){const et=c.gl;if(this.failedToCreate)return;c.program.set(this.program),c.setDepthMode(T),c.setStencilMode(B),c.setColorMode(W),c.setCullFace(se);for(const mt of Object.keys(this.fixedUniforms))this.fixedUniforms[mt].set(this.program,mt,ue[mt]);lt&&lt.setUniforms(this.program,c,this.binderUniforms,Ze,{zoom:at});const nt={[et.LINES]:2,[et.TRIANGLES]:3,[et.LINE_STRIP]:1}[p];for(const mt of Fe.get()){const ct=mt.vaos||(mt.vaos={});(ct[me]||(ct[me]=new qn)).bind(c,this,De,lt?lt.getPaintVertexBuffers():[],Ae,mt.vertexOffset,ut||[]),et.drawElements(p,mt.primitiveLength*nt,et.UNSIGNED_SHORT,mt.primitiveOffset*nt*2)}}}function Zl(_,c){const p=Math.pow(2,c.tileID.overscaledZ),T=c.tileSize*Math.pow(2,_.transform.tileZoom)/p,B=T*(c.tileID.canonical.x+c.tileID.wrap*p),W=T*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_tile_units_to_pixels:1/F(c,1,_.transform.tileZoom),u_pixel_coord_upper:[B>>16,W>>16],u_pixel_coord_lower:[65535&B,65535&W]}}const ol=s.create(),kd=(_,c,p,T,B,W,se,ue,me,De,Ae)=>{const Fe=c.style.light,Ze=Fe.properties.get("position"),at=[Ze.x,Ze.y,Ze.z],lt=s.create$1();Fe.properties.get("anchor")==="viewport"&&(s.fromRotation(lt,-c.transform.angle),s.transformMat3(at,at,lt));const ut=Fe.properties.get("color"),et=c.transform,nt={u_matrix:_,u_lightpos:at,u_lightintensity:Fe.properties.get("intensity"),u_lightcolor:[ut.r,ut.g,ut.b],u_vertical_gradient:+p,u_opacity:T,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ol,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:B,u_edge_radius:W};return et.projection.name==="globe"&&(nt.u_tile_id=[se.canonical.x,se.canonical.y,1<<se.canonical.z],nt.u_zoom_transition=me,nt.u_inv_rot_matrix=Ae,nt.u_merc_center=De,nt.u_up_dir=et.projection.upVector(new s.CanonicalTileID(0,0,0),De[0]*s.EXTENT,De[1]*s.EXTENT),nt.u_height_lift=ue),nt},jr=(_,c,p,T,B,W,se,ue,me,De,Ae,Fe)=>{const Ze=kd(_,c,p,T,B,W,se,me,De,Ae,Fe),at={u_height_factor:-Math.pow(2,se.overscaledZ)/ue.tileSize/8};return s.extend(Ze,Zl(c,ue),at)},ya=_=>({u_matrix:_}),Kc=(_,c,p)=>s.extend(ya(_),Zl(c,p)),Kl=(_,c)=>({u_matrix:_,u_world:c}),zo=(_,c,p,T)=>s.extend(Kc(_,c,p),{u_world:T}),Jl=s.create(),Tc=(_,c,p,T,B,W)=>{const se=_.transform,ue=se.projection.name==="globe";let me;if(W.paint.get("circle-pitch-alignment")==="map")if(ue){const Ae=s.globePixelsToTileUnits(se.zoom,c.canonical)*se._pixelsPerMercatorPixel;me=Float32Array.from([Ae,0,0,Ae])}else me=se.calculatePixelsToTileUnitsMatrix(p);else me=new Float32Array([se.pixelsToGLUnits[0],0,0,se.pixelsToGLUnits[1]]);const De={u_camera_to_center_distance:se.cameraToCenterDistance,u_matrix:_.translatePosMatrix(c.projMatrix,p,W.paint.get("circle-translate"),W.paint.get("circle-translate-anchor")),u_device_pixel_ratio:s.exported.devicePixelRatio,u_extrude_scale:me,u_inv_rot_matrix:Jl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(ue){De.u_inv_rot_matrix=T,De.u_merc_center=B,De.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],De.u_zoom_transition=s.globeToMercatorTransition(se.zoom);const Ae=B[0]*s.EXTENT,Fe=B[1]*s.EXTENT;De.u_up_dir=se.projection.upVector(new s.CanonicalTileID(0,0,0),Ae,Fe)}return De},ru=_=>{const c=[];return _.paint.get("circle-pitch-alignment")==="map"&&c.push("PITCH_WITH_MAP"),_.paint.get("circle-pitch-scale")==="map"&&c.push("SCALE_WITH_MAP"),c},Ql=(_,c,p,T)=>{const B=s.EXTENT/p.tileSize;return{u_matrix:_,u_camera_to_center_distance:c.getCameraToCenterDistance(T),u_extrude_scale:[c.pixelsToGLUnits[0]/B,c.pixelsToGLUnits[1]/B]}},ec=(_,c,p=1)=>({u_matrix:_,u_color:c,u_overlay:0,u_overlay_scale:p}),Lu=s.create(),tc=(_,c,p,T,B,W,se)=>{const ue=_.transform,me=ue.projection.name==="globe",De=me?s.globePixelsToTileUnits(ue.zoom,c.canonical)*ue._pixelsPerMercatorPixel:F(p,1,W),Ae={u_matrix:c.projMatrix,u_extrude_scale:De,u_intensity:se,u_inv_rot_matrix:Lu,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(me){Ae.u_inv_rot_matrix=T,Ae.u_merc_center=B,Ae.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],Ae.u_zoom_transition=s.globeToMercatorTransition(ue.zoom);const Fe=B[0]*s.EXTENT,Ze=B[1]*s.EXTENT;Ae.u_up_dir=ue.projection.upVector(new s.CanonicalTileID(0,0,0),Fe,Ze)}return Ae},su=(_,c,p,T,B,W,se)=>{const ue=_.transform,me=ue.calculatePixelsToTileUnitsMatrix(c);return{u_matrix:ic(_,c,p,T),u_pixels_to_tile_units:me,u_device_pixel_ratio:W,u_units_to_pixels:[1/ue.pixelsToGLUnits[0],1/ue.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:B,u_texsize:Ad(p)?c.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Ma(c,_.transform),u_alpha_discard_threshold:0,u_trim_offset:se}},Ea=(_,c,p,T,B)=>{const W=_.transform;return{u_matrix:ic(_,c,p,T),u_texsize:c.imageAtlasTexture.size,u_pixels_to_tile_units:W.calculatePixelsToTileUnitsMatrix(c),u_device_pixel_ratio:B,u_image:0,u_tile_units_to_pixels:Ma(c,W),u_units_to_pixels:[1/W.pixelsToGLUnits[0],1/W.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Ma(_,c){return 1/F(_,1,c.tileZoom)}function ic(_,c,p,T){return _.translatePosMatrix(T||c.tileID.projMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}function Ad(_){const c=_.paint.get("line-dasharray").value;return c.value||c.kind!=="constant"}const Sc=(_,c,p,T,B,W)=>{return{u_matrix:_,u_tl_parent:c,u_scale_parent:p,u_fade_t:T.mix,u_opacity:T.opacity*B.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:B.paint.get("raster-brightness-min"),u_brightness_high:B.paint.get("raster-brightness-max"),u_saturation_factor:(ue=B.paint.get("raster-saturation"),ue>0?1-1/(1.001-ue):-ue),u_contrast_factor:(se=B.paint.get("raster-contrast"),se>0?1/(1-se):1+se),u_spin_weights:ia(B.paint.get("raster-hue-rotate")),u_perspective_transform:W};var se,ue};function ia(_){_*=Math.PI/180;const c=Math.sin(_),p=Math.cos(_);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const _o=s.create(),bl=(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,Ze,at,lt,ut)=>{const et=B.transform,nt={u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:et.cameraToCenterDistance,u_rotate_symbol:+p,u_aspect_ratio:et.width/et.height,u_fade_change:B.options.fadeDuration?B.symbolFadeChange:1,u_matrix:W,u_label_plane_matrix:se,u_coord_matrix:ue,u_is_text:+me,u_pitch_with_map:+T,u_texsize:De,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:_o,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:_o,u_up_vector:[0,-1,0]};return ut.name==="globe"&&(nt.u_tile_id=[Ae.canonical.x,Ae.canonical.y,1<<Ae.canonical.z],nt.u_zoom_transition=Fe,nt.u_inv_rot_matrix=at,nt.u_merc_center=Ze,nt.u_camera_forward=et._camera.forward(),nt.u_ecef_origin=s.globeECEFOrigin(et.globeMatrix,Ae.toUnwrapped()),nt.u_tile_matrix=Float32Array.from(et.globeMatrix),nt.u_up_vector=lt),nt},nc=(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,Ze,at,lt,ut,et)=>s.extend(bl(_,c,p,T,B,W,se,ue,me,De,Fe,Ze,at,lt,ut,et),{u_gamma_scale:T?B.transform.cameraToCenterDistance*Math.cos(B.terrain?0:B.transform._pitch):1,u_device_pixel_ratio:s.exported.devicePixelRatio,u_is_halo:+Ae}),Cc=(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,Ze,at,lt,ut)=>s.extend(nc(_,c,p,T,B,W,se,ue,!0,me,!0,Ae,Fe,Ze,at,lt,ut),{u_texsize_icon:De,u_texture_icon:1}),yh=(_,c,p)=>({u_matrix:_,u_opacity:c,u_color:p}),vr=(_,c,p,T,B)=>s.extend(function(W,se,ue){const me=se.imageManager.getPattern(W.toString()),{width:De,height:Ae}=se.imageManager.getPixelSize(),Fe=Math.pow(2,ue.tileID.overscaledZ),Ze=ue.tileSize*Math.pow(2,se.transform.tileZoom)/Fe,at=Ze*(ue.tileID.canonical.x+ue.tileID.wrap*Fe),lt=Ze*ue.tileID.canonical.y;return{u_image:0,u_pattern_tl:me.tl,u_pattern_br:me.br,u_texsize:[De,Ae],u_pattern_size:me.displaySize,u_tile_units_to_pixels:1/F(ue,1,se.transform.tileZoom),u_pixel_coord_upper:[at>>16,lt>>16],u_pixel_coord_lower:[65535&at,65535&lt]}}(T,p,B),{u_matrix:_,u_opacity:c}),$o={fillExtrusion:_=>({u_matrix:new s.UniformMatrix4f(_),u_lightpos:new s.Uniform3f(_),u_lightintensity:new s.Uniform1f(_),u_lightcolor:new s.Uniform3f(_),u_vertical_gradient:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_edge_radius:new s.Uniform1f(_),u_ao:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_up_dir:new s.Uniform3f(_),u_height_lift:new s.Uniform1f(_)}),fillExtrusionPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_lightpos:new s.Uniform3f(_),u_lightintensity:new s.Uniform1f(_),u_lightcolor:new s.Uniform3f(_),u_vertical_gradient:new s.Uniform1f(_),u_height_factor:new s.Uniform1f(_),u_edge_radius:new s.Uniform1f(_),u_ao:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_up_dir:new s.Uniform3f(_),u_height_lift:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_)}),fill:_=>({u_matrix:new s.UniformMatrix4f(_)}),fillPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),fillOutline:_=>({u_matrix:new s.UniformMatrix4f(_),u_world:new s.Uniform2f(_)}),fillOutlinePattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_world:new s.Uniform2f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),circle:_=>({u_camera_to_center_distance:new s.Uniform1f(_),u_extrude_scale:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_up_dir:new s.Uniform3f(_)}),collisionBox:_=>({u_matrix:new s.UniformMatrix4f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_extrude_scale:new s.Uniform2f(_)}),collisionCircle:_=>({u_matrix:new s.UniformMatrix4f(_),u_inv_matrix:new s.UniformMatrix4f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_viewport_size:new s.Uniform2f(_)}),debug:_=>({u_color:new s.UniformColor(_),u_matrix:new s.UniformMatrix4f(_),u_overlay:new s.Uniform1i(_),u_overlay_scale:new s.Uniform1f(_)}),clippingMask:_=>({u_matrix:new s.UniformMatrix4f(_)}),heatmap:_=>({u_extrude_scale:new s.Uniform1f(_),u_intensity:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_up_dir:new s.Uniform3f(_)}),heatmapTexture:_=>({u_image:new s.Uniform1i(_),u_color_ramp:new s.Uniform1i(_),u_opacity:new s.Uniform1f(_)}),hillshade:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_latrange:new s.Uniform2f(_),u_light:new s.Uniform2f(_),u_shadow:new s.UniformColor(_),u_highlight:new s.UniformColor(_),u_accent:new s.UniformColor(_)}),hillshadePrepare:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_dimension:new s.Uniform2f(_),u_zoom:new s.Uniform1f(_),u_unpack:new s.Uniform4f(_)}),line:_=>({u_matrix:new s.UniformMatrix4f(_),u_pixels_to_tile_units:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_units_to_pixels:new s.Uniform2f(_),u_dash_image:new s.Uniform1i(_),u_gradient_image:new s.Uniform1i(_),u_image_height:new s.Uniform1f(_),u_texsize:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_alpha_discard_threshold:new s.Uniform1f(_),u_trim_offset:new s.Uniform2f(_)}),linePattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_texsize:new s.Uniform2f(_),u_pixels_to_tile_units:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_units_to_pixels:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_alpha_discard_threshold:new s.Uniform1f(_)}),raster:_=>({u_matrix:new s.UniformMatrix4f(_),u_tl_parent:new s.Uniform2f(_),u_scale_parent:new s.Uniform1f(_),u_fade_t:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_image0:new s.Uniform1i(_),u_image1:new s.Uniform1i(_),u_brightness_low:new s.Uniform1f(_),u_brightness_high:new s.Uniform1f(_),u_saturation_factor:new s.Uniform1f(_),u_contrast_factor:new s.Uniform1f(_),u_spin_weights:new s.Uniform3f(_),u_perspective_transform:new s.Uniform2f(_)}),symbolIcon:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_camera_forward:new s.Uniform3f(_),u_tile_matrix:new s.UniformMatrix4f(_),u_up_vector:new s.Uniform3f(_),u_ecef_origin:new s.Uniform3f(_),u_texture:new s.Uniform1i(_)}),symbolSDF:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_texture:new s.Uniform1i(_),u_gamma_scale:new s.Uniform1f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_camera_forward:new s.Uniform3f(_),u_tile_matrix:new s.UniformMatrix4f(_),u_up_vector:new s.Uniform3f(_),u_ecef_origin:new s.Uniform3f(_),u_is_halo:new s.Uniform1i(_)}),symbolTextAndIcon:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_texsize_icon:new s.Uniform2f(_),u_texture:new s.Uniform1i(_),u_texture_icon:new s.Uniform1i(_),u_gamma_scale:new s.Uniform1f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_is_halo:new s.Uniform1i(_)}),background:_=>({u_matrix:new s.UniformMatrix4f(_),u_opacity:new s.Uniform1f(_),u_color:new s.UniformColor(_)}),backgroundPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_opacity:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_pattern_tl:new s.Uniform2f(_),u_pattern_br:new s.Uniform2f(_),u_texsize:new s.Uniform2f(_),u_pattern_size:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),terrainRaster:pr,terrainDepth:pr,skybox:_=>({u_matrix:new s.UniformMatrix4f(_),u_sun_direction:new s.Uniform3f(_),u_cubemap:new s.Uniform1i(_),u_opacity:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_)}),skyboxGradient:_=>({u_matrix:new s.UniformMatrix4f(_),u_color_ramp:new s.Uniform1i(_),u_center_direction:new s.Uniform3f(_),u_radius:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_)}),skyboxCapture:_=>({u_matrix_3f:new s.UniformMatrix3f(_),u_sun_direction:new s.Uniform3f(_),u_sun_intensity:new s.Uniform1f(_),u_color_tint_r:new s.Uniform4f(_),u_color_tint_m:new s.Uniform4f(_),u_luminance:new s.Uniform1f(_)}),globeRaster:_=>({u_proj_matrix:new s.UniformMatrix4f(_),u_globe_matrix:new s.UniformMatrix4f(_),u_normalize_matrix:new s.UniformMatrix4f(_),u_merc_matrix:new s.UniformMatrix4f(_),u_zoom_transition:new s.Uniform1f(_),u_merc_center:new s.Uniform2f(_),u_image0:new s.Uniform1i(_),u_grid_matrix:new s.UniformMatrix3f(_),u_frustum_tl:new s.Uniform3f(_),u_frustum_tr:new s.Uniform3f(_),u_frustum_br:new s.Uniform3f(_),u_frustum_bl:new s.Uniform3f(_),u_globe_pos:new s.Uniform3f(_),u_globe_radius:new s.Uniform1f(_),u_viewport:new s.Uniform2f(_)}),globeAtmosphere:_=>({u_frustum_tl:new s.Uniform3f(_),u_frustum_tr:new s.Uniform3f(_),u_frustum_br:new s.Uniform3f(_),u_frustum_bl:new s.Uniform3f(_),u_horizon:new s.Uniform1f(_),u_transition:new s.Uniform1f(_),u_fadeout_range:new s.Uniform1f(_),u_color:new s.Uniform4f(_),u_high_color:new s.Uniform4f(_),u_space_color:new s.Uniform4f(_),u_star_intensity:new s.Uniform1f(_),u_star_density:new s.Uniform1f(_),u_star_size:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_),u_horizon_angle:new s.Uniform1f(_),u_rotation_matrix:new s.UniformMatrix4f(_)})};let vo;function na(_,c,p,T,B,W,se){const ue=_.context,me=ue.gl,De=_.transform,Ae=_.useProgram("collisionBox"),Fe=[];let Ze=0,at=0;for(let xt=0;xt<T.length;xt++){const Pt=T[xt],St=c.getTile(Pt),jt=St.getBucket(p);if(!jt)continue;const ii=pa(Pt,jt,De);let Jt=ii;B[0]===0&&B[1]===0||(Jt=_.translatePosMatrix(ii,St,B,W));const Gt=se?jt.textCollisionBox:jt.iconCollisionBox,Mi=jt.collisionCircleArray;if(Mi.length>0){const Xt=s.create(),yi=Jt;s.mul(Xt,jt.placementInvProjMatrix,De.glCoordMatrix),s.mul(Xt,Xt,jt.placementViewportMatrix),Fe.push({circleArray:Mi,circleOffset:at,transform:yi,invTransform:Xt,projection:jt.getProjection()}),Ze+=Mi.length/4,at=Ze}Gt&&(_.terrain&&_.terrain.setupElevationDraw(St,Ae),Ae.draw(ue,me.LINES,s.DepthMode.disabled,s.StencilMode.disabled,_.colorModeForRenderPass(),s.CullFaceMode.disabled,Ql(Jt,De,St,jt.getProjection()),p.id,Gt.layoutVertexBuffer,Gt.indexBuffer,Gt.segments,null,De.zoom,null,[Gt.collisionVertexBuffer,Gt.collisionVertexBufferExt]))}if(!se||!Fe.length)return;const lt=_.useProgram("collisionCircle"),ut=new s.StructArrayLayout2f1f2i16;ut.resize(4*Ze),ut._trim();let et=0;for(const xt of Fe)for(let Pt=0;Pt<xt.circleArray.length/4;Pt++){const St=4*Pt,jt=xt.circleArray[St+0],ii=xt.circleArray[St+1],Jt=xt.circleArray[St+2],Gt=xt.circleArray[St+3];ut.emplace(et++,jt,ii,Jt,Gt,0),ut.emplace(et++,jt,ii,Jt,Gt,1),ut.emplace(et++,jt,ii,Jt,Gt,2),ut.emplace(et++,jt,ii,Jt,Gt,3)}(!vo||vo.length<2*Ze)&&(vo=function(xt){const Pt=2*xt,St=new s.StructArrayLayout3ui6;St.resize(Pt),St._trim();for(let jt=0;jt<Pt;jt++){const ii=6*jt;St.uint16[ii+0]=4*jt+0,St.uint16[ii+1]=4*jt+1,St.uint16[ii+2]=4*jt+2,St.uint16[ii+3]=4*jt+2,St.uint16[ii+4]=4*jt+3,St.uint16[ii+5]=4*jt+0}return St}(Ze));const nt=ue.createIndexBuffer(vo,!0),mt=ue.createVertexBuffer(ut,s.collisionCircleLayout.members,!0);for(const xt of Fe){const Pt={u_matrix:xt.transform,u_inv_matrix:xt.invTransform,u_camera_to_center_distance:(ct=De).getCameraToCenterDistance(xt.projection),u_viewport_size:[ct.width,ct.height]};lt.draw(ue,me.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,_.colorModeForRenderPass(),s.CullFaceMode.disabled,Pt,p.id,mt,nt,s.SegmentVector.simpleSegment(0,2*xt.circleOffset,xt.circleArray.length,xt.circleArray.length/2),null,De.zoom)}var ct;mt.destroy(),nt.destroy()}const wl=s.create();function Ou({width:_,height:c,anchor:p,textOffset:T,textScale:B},W){const{horizontalAlign:se,verticalAlign:ue}=s.getAnchorAlignment(p),me=-(se-.5)*_,De=-(ue-.5)*c,Ae=s.evaluateVariableOffset(p,T);return new s.pointGeometry((me/B+Ae[0])*W,(De/B+Ae[1])*W)}function Ru(_,c,p,T,B,W,se,ue,me,De,Ae){const Fe=_.text.placedSymbolArray,Ze=_.text.dynamicLayoutVertexArray,at=_.icon.dynamicLayoutVertexArray,lt={},ut=_.getProjection(),et=yl(ue,ut,W),nt=W.elevation,mt=ut.upVectorScale(ue.canonical,W.center.lat,W.worldSize).metersToTile;Ze.clear();for(let ct=0;ct<Fe.length;ct++){const xt=Fe.get(ct),{tileAnchorX:Pt,tileAnchorY:St,numGlyphs:jt}=xt,ii=_.allowVerticalPlacement&&!xt.placedOrientation,Jt=xt.hidden||!xt.crossTileID||ii?null:T[xt.crossTileID];if(Jt){let Gt=0,Mi=0,Xt=0;if(nt){const mn=nt?nt.getAtTileOffset(ue,Pt,St):0,[Sn,gn,jn]=ut.upVector(ue.canonical,Pt,St);Gt=mn*Sn*mt,Mi=mn*gn*mt,Xt=mn*jn*mt}let[yi,ri,Ri,si]=lo(xt.projectedAnchorX+Gt,xt.projectedAnchorY+Mi,xt.projectedAnchorZ+Xt,p?et:se);const Si=Ki(W.getCameraToCenterDistance(ut),si);let Ni=B.evaluateSizeForFeature(_.textSizeData,De,xt)*Si/s.ONE_EM;p&&(Ni*=_.tilePixelRatio/me);const Yt=Ou(Jt,Ni);p?({x:yi,y:ri,z:Ri}=ut.projectTilePoint(Pt+Yt.x,St+Yt.y,ue.canonical),[yi,ri,Ri]=lo(yi+Gt,ri+Mi,Ri+Xt,se)):(c&&Yt._rotate(-W.angle),yi+=Yt.x,ri+=Yt.y,Ri=0);const ni=_.allowVerticalPlacement&&xt.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let mn=0;mn<jt;mn++)s.addDynamicAttributes(Ze,yi,ri,Ri,ni);Ae&&xt.associatedIconIndex>=0&&(lt[xt.associatedIconIndex]={x:yi,y:ri,z:Ri,angle:ni})}else Zs(jt,Ze)}if(Ae){at.clear();const ct=_.icon.placedSymbolArray;for(let xt=0;xt<ct.length;xt++){const Pt=ct.get(xt),{numGlyphs:St}=Pt,jt=lt[xt];if(Pt.hidden||!jt)Zs(St,at);else{const{x:ii,y:Jt,z:Gt,angle:Mi}=jt;for(let Xt=0;Xt<St;Xt++)s.addDynamicAttributes(at,ii,Jt,Gt,Mi)}}_.icon.dynamicLayoutVertexBuffer.updateData(at)}_.text.dynamicLayoutVertexBuffer.updateData(Ze)}function Bu(_,c,p){return p.iconsInText&&c?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function Vo(_,c,p,T,B,W,se,ue,me,De,Ae,Fe){const Ze=_.context,at=Ze.gl,lt=_.transform,ut=ue==="map",et=me==="map",nt=ut&&p.layout.get("symbol-placement")!=="point",mt=ut&&!et&&!nt,ct=p.layout.get("symbol-sort-key").constantOr(1)!==void 0;let xt=!1;const Pt=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),St=[s.mercatorXfromLng(lt.center.lng),s.mercatorYfromLat(lt.center.lat)],jt=p.layout.get("text-variable-anchor"),ii=lt.projection.name==="globe",Jt=[],Gt=[0,-1,0];let Mi=Gt;!ii&&!lt.mercatorFromTransition||ut||(Mi=function(Xt){const yi=Xt._camera.getWorldToCamera(Xt.worldSize,1),ri=s.multiply([],yi,Xt.globeMatrix);s.invert(ri,ri);const Ri=[0,0,0],si=[0,1,0,0];return s.transformMat4$1(si,si,ri),Ri[0]=si[0],Ri[1]=si[1],Ri[2]=si[2],s.normalize(Ri,Ri),Ri}(lt));for(const Xt of T){const yi=c.getTile(Xt),ri=yi.getBucket(p);if(!ri||ri.projection.name==="mercator"&&ii)continue;const Ri=B?ri.text:ri.icon;if(!Ri||ri.fullyClipped||!Ri.segments.get().length)continue;const si=Ri.programConfigurations.get(p.id),Si=B||ri.sdfIcons,Ni=B?ri.textSizeData:ri.iconSizeData,Yt=et||lt.pitch!==0,ni=s.evaluateSizeForZoom(Ni,lt.zoom);let mn,Sn,gn,jn,or=[0,0],kn=null;if(B){if(Sn=yi.glyphAtlasTexture,gn=at.LINEAR,mn=yi.glyphAtlasTexture.size,ri.iconsInText){or=yi.imageAtlasTexture.size,kn=yi.imageAtlasTexture;const Wa=Ni.kind==="composite"||Ni.kind==="camera";jn=Yt||_.options.rotating||_.options.zooming||Wa?at.LINEAR:at.NEAREST}}else{const Wa=p.layout.get("icon-size").constantOr(0)!==1||ri.iconsNeedLinear;Sn=yi.imageAtlasTexture,gn=Si||_.options.rotating||_.options.zooming||Wa||Yt?at.LINEAR:at.NEAREST,mn=yi.imageAtlasTexture.size}const ln=ri.projection.name==="globe",is=ln?Mi:Gt,Hr=ln?s.globeToMercatorTransition(lt.zoom):0,rs=yl(Xt,ri.getProjection(),lt),es=lt.calculatePixelsToTileUnitsMatrix(yi),Ha=Ao(rs,yi.tileID.canonical,et,ut,lt,ri.getProjection(),es),ka=_.terrain&&et&&nt?s.invert(s.create(),Ha):wl,_a=iu(rs,yi.tileID.canonical,et,ut,lt,ri.getProjection(),es),sc=jt&&ri.hasTextData(),gs=p.layout.get("icon-text-fit")!=="none"&&sc&&ri.hasIconData();if(nt){const Wa=lt.elevation,Pc=Wa?Wa.getAtTileOffsetFunc(Xt,lt.center.lat,lt.worldSize,ri.getProjection()):null,Cl=Yc(rs,yi.tileID.canonical,et,ut,lt,ri.getProjection(),es);cr(ri,rs,_,B,Cl,_a,et,De,Pc,Xt)}const ts=nt||B&&jt||gs,$r=_.translatePosMatrix(rs,yi,W,se),no=ts?wl:Ha,ra=_.translatePosMatrix(_a,yi,W,se,!0),ys=ri.getProjection().createInversionMatrix(lt,Xt.canonical),va=[];_.terrainRenderModeElevated()&&et&&va.push("PITCH_WITH_MAP_TERRAIN"),ln&&va.push("PROJECTION_GLOBE_VIEW"),ts&&va.push("PROJECTED_POS_ON_VIEWPORT");const Th=Si&&p.paint.get(B?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let oc;oc=Si?ri.iconsInText?Cc(Ni.kind,ni,mt,et,_,$r,no,ra,mn,or,Xt,Hr,St,ys,is,ri.getProjection()):nc(Ni.kind,ni,mt,et,_,$r,no,ra,B,mn,!0,Xt,Hr,St,ys,is,ri.getProjection()):bl(Ni.kind,ni,mt,et,_,$r,no,ra,B,mn,Xt,Hr,St,ys,is,ri.getProjection());const sa={program:_.useProgram(Bu(Si,B,ri),si,va),buffers:Ri,uniformValues:oc,atlasTexture:Sn,atlasTextureIcon:kn,atlasInterpolation:gn,atlasInterpolationIcon:jn,isSDF:Si,hasHalo:Th,tile:yi,labelPlaneMatrixInv:ka};if(ct&&ri.canOverlap){xt=!0;const Wa=Ri.segments.get();for(const Pc of Wa)Jt.push({segments:new s.SegmentVector([Pc]),sortKey:Pc.sortKey,state:sa})}else Jt.push({segments:Ri.segments,sortKey:0,state:sa})}xt&&Jt.sort((Xt,yi)=>Xt.sortKey-yi.sortKey);for(const Xt of Jt){const yi=Xt.state;if(_.terrain&&_.terrain.setupElevationDraw(yi.tile,yi.program,{useDepthForOcclusion:!ii,labelPlaneMatrixInv:yi.labelPlaneMatrixInv}),Ze.activeTexture.set(at.TEXTURE0),yi.atlasTexture.bind(yi.atlasInterpolation,at.CLAMP_TO_EDGE),yi.atlasTextureIcon&&(Ze.activeTexture.set(at.TEXTURE1),yi.atlasTextureIcon&&yi.atlasTextureIcon.bind(yi.atlasInterpolationIcon,at.CLAMP_TO_EDGE)),yi.isSDF){const ri=yi.uniformValues;yi.hasHalo&&(ri.u_is_halo=1,$t(yi.buffers,Xt.segments,p,_,yi.program,Pt,Ae,Fe,ri)),ri.u_is_halo=0}$t(yi.buffers,Xt.segments,p,_,yi.program,Pt,Ae,Fe,yi.uniformValues)}}function $t(_,c,p,T,B,W,se,ue,me){const De=T.context,Ae=[_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer,_.globeExtVertexBuffer];B.draw(De,De.gl.TRIANGLES,W,se,ue,s.CullFaceMode.disabled,me,p.id,_.layoutVertexBuffer,_.indexBuffer,c,p.paint,T.transform.zoom,_.programConfigurations.get(p.id),Ae)}function bi(_,c,p,T,B,W,se){const ue=_.context.gl,me=p.paint.get("fill-pattern"),De=me&&me.constantOr(1);let Ae,Fe,Ze,at,lt;se?(Fe=De&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ae=ue.LINES):(Fe=De?"fillPattern":"fill",Ae=ue.TRIANGLES);for(const ut of T){const et=c.getTile(ut);if(De&&!et.patternsLoaded())continue;const nt=et.getBucket(p);if(!nt)continue;_.prepareDrawTile();const mt=nt.programConfigurations.get(p.id),ct=_.useProgram(Fe,mt);De&&(_.context.activeTexture.set(ue.TEXTURE0),et.imageAtlasTexture.bind(ue.LINEAR,ue.CLAMP_TO_EDGE),mt.updatePaintBuffers());const xt=me.constantOr(null);if(xt&&et.imageAtlas){const St=et.imageAtlas.patternPositions[xt.toString()];St&&mt.setConstantPatternPositions(St)}const Pt=_.translatePosMatrix(ut.projMatrix,et,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(se){at=nt.indexBuffer2,lt=nt.segments2;const St=_.terrain&&_.terrain.renderingToTexture?_.terrain.drapeBufferSize:[ue.drawingBufferWidth,ue.drawingBufferHeight];Ze=Fe==="fillOutlinePattern"&&De?zo(Pt,_,et,St):Kl(Pt,St)}else at=nt.indexBuffer,lt=nt.segments,Ze=De?Kc(Pt,_,et):ya(Pt);_.prepareDrawProgram(_.context,ct,ut.toUnwrapped()),ct.draw(_.context,Ae,B,_.stencilModeForClipping(ut),W,s.CullFaceMode.disabled,Ze,p.id,nt.layoutVertexBuffer,at,lt,p.paint,_.transform.zoom,mt)}}function hi(_,c,p,T,B,W,se){const ue=_.context,me=ue.gl,De=_.transform,Ae=p.paint.get("fill-extrusion-pattern"),Fe=Ae.constantOr(1),Ze=p.paint.get("fill-extrusion-opacity"),at=[p.paint.get("fill-extrusion-ambient-occlusion-intensity"),p.paint.get("fill-extrusion-ambient-occlusion-radius")],lt=p.layout.get("fill-extrusion-edge-radius"),ut=De.projection.name==="globe"?s.fillExtrusionHeightLift():0,et=De.projection.name==="globe",nt=et?s.globeToMercatorTransition(De.zoom):0,mt=[s.mercatorXfromLng(De.center.lng),s.mercatorYfromLat(De.center.lat)],ct=[];et&&(ct.push("PROJECTION_GLOBE_VIEW"),_.style.terrainSetForDrapingOnly()&&ct.push("TERRAIN")),at[0]>0&&ct.push("FAUX_AO");for(const xt of T){const Pt=c.getTile(xt),St=Pt.getBucket(p);if(!St||St.projection.name!==De.projection.name)continue;const jt=St.programConfigurations.get(p.id),ii=_.useProgram(Fe?"fillExtrusionPattern":"fillExtrusion",jt,ct);if(_.terrain){const Ri=_.terrain;if(_.style.terrainSetForDrapingOnly())Ri.setupElevationDraw(Pt,ii,{useMeterToDem:!0});else{if(!St.enableTerrain)continue;if(Ri.setupElevationDraw(Pt,ii,{useMeterToDem:!0}),fn(ue,c,xt,St,p,Ri),!St.centroidVertexBuffer){const si=ii.attributes.a_centroid_pos;si!==void 0&&me.vertexAttrib2f(si,0,0)}}}Fe&&(_.context.activeTexture.set(me.TEXTURE0),Pt.imageAtlasTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE),jt.updatePaintBuffers());const Jt=Ae.constantOr(null);if(Jt&&Pt.imageAtlas){const Ri=Pt.imageAtlas.patternPositions[Jt.toString()];Ri&&jt.setConstantPatternPositions(Ri)}const Gt=_.translatePosMatrix(xt.projMatrix,Pt,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Mi=De.projection.createInversionMatrix(De,xt.canonical),Xt=p.paint.get("fill-extrusion-vertical-gradient"),yi=Fe?jr(Gt,_,Xt,Ze,at,lt,xt,Pt,ut,nt,mt,Mi):kd(Gt,_,Xt,Ze,at,lt,xt,ut,nt,mt,Mi);_.prepareDrawProgram(ue,ii,xt.toUnwrapped());const ri=[];_.terrain&&ri.push(St.centroidVertexBuffer),et&&ri.push(St.layoutVertexExtBuffer),ii.draw(ue,ue.gl.TRIANGLES,B,W,se,s.CullFaceMode.backCCW,yi,p.id,St.layoutVertexBuffer,St.indexBuffer,St.segments,p.paint,_.transform.zoom,jt,ri)}}function fn(_,c,p,T,B,W){const se=[nt=>{let mt=nt.canonical.x-1,ct=nt.wrap;return mt<0&&(mt=(1<<nt.canonical.z)-1,ct--),new s.OverscaledTileID(nt.overscaledZ,ct,nt.canonical.z,mt,nt.canonical.y)},nt=>{let mt=nt.canonical.x+1,ct=nt.wrap;return mt===1<<nt.canonical.z&&(mt=0,ct++),new s.OverscaledTileID(nt.overscaledZ,ct,nt.canonical.z,mt,nt.canonical.y)},nt=>new s.OverscaledTileID(nt.overscaledZ,nt.wrap,nt.canonical.z,nt.canonical.x,(nt.canonical.y===0?1<<nt.canonical.z:nt.canonical.y)-1),nt=>new s.OverscaledTileID(nt.overscaledZ,nt.wrap,nt.canonical.z,nt.canonical.x,nt.canonical.y===(1<<nt.canonical.z)-1?0:nt.canonical.y+1)],ue=nt=>{const mt=c.getSource().minzoom,ct=Pt=>{const St=c.getTileByID(Pt);if(St&&St.hasData())return St.getBucket(B)},xt=[0,-1,1];for(const Pt of xt){if(nt.overscaledZ+Pt<mt)continue;const St=ct(nt.calculateScaledKey(nt.overscaledZ+Pt));if(St)return St}},me=[0,0,0],De=(nt,mt)=>(me[0]=Math.min(nt.min.y,mt.min.y),me[1]=Math.max(nt.max.y,mt.max.y),me[2]=s.EXTENT-mt.min.x>nt.max.x?mt.min.x-s.EXTENT:nt.max.x,me),Ae=(nt,mt)=>(me[0]=Math.min(nt.min.x,mt.min.x),me[1]=Math.max(nt.max.x,mt.max.x),me[2]=s.EXTENT-mt.min.y>nt.max.y?mt.min.y-s.EXTENT:nt.max.y,me),Fe=[(nt,mt)=>De(nt,mt),(nt,mt)=>De(mt,nt),(nt,mt)=>Ae(nt,mt),(nt,mt)=>Ae(mt,nt)],Ze=new s.pointGeometry(0,0);let at,lt,ut;const et=(nt,mt,ct,xt,Pt)=>{const St=[[xt?ct:nt,xt?nt:ct,0],[xt?ct:mt,xt?mt:ct,0]],jt=Pt<0?s.EXTENT+Pt:Pt,ii=[xt?jt:(nt+mt)/2,xt?(nt+mt)/2:jt,0];return ct===0&&Pt<0||ct!==0&&Pt>0?W.getForTilePoints(ut,[ii],!0,lt):St.push(ii),W.getForTilePoints(p,St,!0,at),Math.max(St[0][2],St[1][2],ii[2])/W.exaggeration()};for(let nt=0;nt<4;nt++){const mt=(nt<2?1:5)-nt,ct=T.borders[nt];if(ct.length===0)continue;const xt=ut=se[nt](p),Pt=ue(xt);if(!(Pt&&Pt instanceof s.FillExtrusionBucket&&Pt.enableTerrain)||T.borderDoneWithNeighborZ[nt]===Pt.canonical.z&&Pt.borderDoneWithNeighborZ[mt]===T.canonical.z||(lt=W.findDEMTileFor(xt),!lt||!lt.dem))continue;if(!at){const Jt=W.findDEMTileFor(p);if(!Jt||!Jt.dem)return;at=Jt}const St=Pt.borders[mt];let jt=0;const ii=Pt.borderDoneWithNeighborZ[mt]!==T.canonical.z;if(T.canonical.z===Pt.canonical.z){for(let Jt=0;Jt<ct.length;Jt++){const Gt=T.featuresOnBorder[ct[Jt]],Mi=Gt.borders[nt];let Xt;for(;jt<St.length&&(Xt=Pt.featuresOnBorder[St[jt]],!(Xt.borders[mt][1]>Mi[0]+3));)ii&&Pt.encodeCentroid(void 0,Xt,!1),jt++;if(Xt&&jt<St.length){const yi=jt;let ri=0;for(;!(Xt.borders[mt][0]>Mi[1]-3)&&(ri++,++jt!==St.length);)Xt=Pt.featuresOnBorder[St[jt]];if(Xt=Pt.featuresOnBorder[St[yi]],Gt.intersectsCount()>1||Xt.intersectsCount()>1||ri!==1){ri!==1&&(jt=yi),T.encodeCentroid(void 0,Gt,!1),ii&&Pt.encodeCentroid(void 0,Xt,!1);continue}const Ri=Fe[nt](Gt,Xt),si=nt%2?s.EXTENT-1:0;Ze.x=et(Ri[0],Math.min(s.EXTENT-1,Ri[1]),si,nt<2,Ri[2]),Ze.y=0,T.encodeCentroid(Ze,Gt,!1),ii&&Pt.encodeCentroid(Ze,Xt,!1)}else T.encodeCentroid(void 0,Gt,!1)}T.borderDoneWithNeighborZ[nt]=Pt.canonical.z,T.needsCentroidUpdate=!0,ii&&(Pt.borderDoneWithNeighborZ[mt]=T.canonical.z,Pt.needsCentroidUpdate=!0)}else{for(const Jt of ct)T.encodeCentroid(void 0,T.featuresOnBorder[Jt],!1);if(ii){for(const Jt of St)Pt.encodeCentroid(void 0,Pt.featuresOnBorder[Jt],!1);Pt.borderDoneWithNeighborZ[mt]=T.canonical.z,Pt.needsCentroidUpdate=!0}T.borderDoneWithNeighborZ[nt]=Pt.canonical.z,T.needsCentroidUpdate=!0}}(T.needsCentroidUpdate||!T.centroidVertexBuffer&&T.centroidVertexArray.length!==0)&&T.uploadCentroid(_)}const Kn=new s.Color(1,0,0,1),Or=new s.Color(0,1,0,1),zs=new s.Color(0,0,1,1),Ur=new s.Color(1,0,1,1),Ec=new s.Color(0,1,1,1);function Pd(_,c,p){const T=_.context,B=_.transform,W=T.gl,se=B.projection.name==="globe",ue=se?["PROJECTION_GLOBE_VIEW"]:null;let me=p.projMatrix;if(se&&s.globeToMercatorTransition(B.zoom)>0){const Gt=s.transitionTileAABBinECEF(p.canonical,B),Mi=s.globeDenormalizeECEF(Gt);me=s.multiply(new Float32Array(16),B.globeMatrix,Mi),s.multiply(me,B.projMatrix,me)}const De=_.useProgram("debug",null,ue),Ae=c.getTileByID(p.key);_.terrain&&_.terrain.setupElevationDraw(Ae,De);const Fe=s.DepthMode.disabled,Ze=s.StencilMode.disabled,at=_.colorModeForRenderPass(),lt="$debug";T.activeTexture.set(W.TEXTURE0),_.emptyTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE),se?Ae._makeGlobeTileDebugBuffers(_.context,B):Ae._makeDebugTileBoundsBuffers(_.context,B.projection);const ut=Ae._tileDebugBuffer||_.debugBuffer,et=Ae._tileDebugIndexBuffer||_.debugIndexBuffer,nt=Ae._tileDebugSegments||_.debugSegments;De.draw(T,W.LINE_STRIP,Fe,Ze,at,s.CullFaceMode.disabled,ec(me,s.Color.red),lt,ut,et,nt,null,null,null,[Ae._globeTileDebugBorderBuffer]);const mt=Ae.latestRawTileData,ct=Math.floor((mt&&mt.byteLength||0)/1024),xt=c.getTile(p).tileSize,Pt=512/Math.min(xt,512)*(p.overscaledZ/B.zoom)*.5;let St=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(St+=` => ${p.overscaledZ}`),St+=` ${ct}kb`,function(Gt,Mi){Gt.initDebugOverlayCanvas();const Xt=Gt.debugOverlayCanvas,yi=Gt.context.gl,ri=Gt.debugOverlayCanvas.getContext("2d");ri.clearRect(0,0,Xt.width,Xt.height),ri.shadowColor="white",ri.shadowBlur=2,ri.lineWidth=1.5,ri.strokeStyle="white",ri.textBaseline="top",ri.font="bold 36px Open Sans, sans-serif",ri.fillText(Mi,5,5),ri.strokeText(Mi,5,5),Gt.debugOverlayTexture.update(Xt),Gt.debugOverlayTexture.bind(yi.LINEAR,yi.CLAMP_TO_EDGE)}(_,St);const jt=Ae._tileDebugTextBuffer||_.debugBuffer,ii=Ae._tileDebugTextIndexBuffer||_.quadTriangleIndexBuffer,Jt=Ae._tileDebugTextSegments||_.debugSegments;De.draw(T,W.TRIANGLES,Fe,Ze,s.ColorMode.alphaBlended,s.CullFaceMode.disabled,ec(me,s.Color.transparent,Pt),lt,jt,ii,Jt,null,null,null,[Ae._globeTileDebugTextBuffer])}function Go(_,c,p,T){Mt(_,0,c+p/2,_.transform.width,p,T)}function rt(_,c,p,T){Mt(_,c-p/2,0,p,_.transform.height,T)}function Mt(_,c,p,T,B,W){const se=_.context,ue=se.gl;ue.enable(ue.SCISSOR_TEST),ue.scissor(c*s.exported.devicePixelRatio,p*s.exported.devicePixelRatio,T*s.exported.devicePixelRatio,B*s.exported.devicePixelRatio),se.clear({color:W}),ue.disable(ue.SCISSOR_TEST)}const Ft=s.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:wi}=Ft;function Vt(_,c,p,T){_.emplaceBack(c,p,T)}class li{constructor(c){this.vertexArray=new s.StructArrayLayout3f12,this.indices=new s.StructArrayLayout3ui6,Vt(this.vertexArray,-1,-1,1),Vt(this.vertexArray,1,-1,1),Vt(this.vertexArray,-1,1,1),Vt(this.vertexArray,1,1,1),Vt(this.vertexArray,-1,-1,-1),Vt(this.vertexArray,1,-1,-1),Vt(this.vertexArray,-1,1,-1),Vt(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=c.createVertexBuffer(this.vertexArray,wi),this.indexBuffer=c.createIndexBuffer(this.indices),this.segment=s.SegmentVector.simpleSegment(0,0,36,12)}}function Ii(_,c,p,T,B,W){const se=_.gl,ue=c.paint.get("sky-atmosphere-color"),me=c.paint.get("sky-atmosphere-halo-color"),De=c.paint.get("sky-atmosphere-sun-intensity"),Ae=((Fe,Ze,at,lt,ut)=>({u_matrix_3f:Fe,u_sun_direction:Ze,u_sun_intensity:at,u_color_tint_r:[lt.r,lt.g,lt.b,lt.a],u_color_tint_m:[ut.r,ut.g,ut.b,ut.a],u_luminance:5e-5}))(s.fromMat4(s.create$1(),T),B,De,ue,me);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+W,c.skyboxTexture,0),p.draw(_,se.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.frontCW,Ae,"skyboxCapture",c.skyboxGeometry.vertexBuffer,c.skyboxGeometry.indexBuffer,c.skyboxGeometry.segment)}const tn=s.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class zi{constructor(c){const p=new s.StructArrayLayout5f20;p.emplaceBack(-1,1,1,0,0),p.emplaceBack(1,1,1,1,0),p.emplaceBack(1,-1,1,1,1),p.emplaceBack(-1,-1,1,0,1);const T=new s.StructArrayLayout3ui6;T.emplaceBack(0,1,2),T.emplaceBack(2,3,0),this.vertexBuffer=c.createVertexBuffer(p,tn.members),this.indexBuffer=c.createIndexBuffer(T),this.segments=s.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Rn={symbol:function(_,c,p,T,B){if(_.renderPass!=="translucent")return;const W=s.StencilMode.disabled,se=_.colorModeForRenderPass();p.layout.get("text-variable-anchor")&&function(ue,me,De,Ae,Fe,Ze,at){const lt=me.transform,ut=Fe==="map",et=Ze==="map";for(const nt of ue){const mt=Ae.getTile(nt),ct=mt.getBucket(De);if(!ct||!ct.text||!ct.text.segments.get().length)continue;const xt=s.evaluateSizeForZoom(ct.textSizeData,lt.zoom),Pt=yl(nt,ct.getProjection(),lt),St=lt.calculatePixelsToTileUnitsMatrix(mt),jt=Ao(Pt,mt.tileID.canonical,et,ut,lt,ct.getProjection(),St),ii=De.layout.get("icon-text-fit")!=="none"&&ct.hasIconData();if(xt){const Jt=Math.pow(2,lt.zoom-mt.tileID.overscaledZ);Ru(ct,ut,et,at,s.symbolSize,lt,jt,nt,Jt,xt,ii)}}}(T,_,p,c,p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),B),p.paint.get("icon-opacity").constantOr(1)!==0&&Vo(_,c,p,T,!1,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),p.layout.get("icon-rotation-alignment"),p.layout.get("icon-pitch-alignment"),p.layout.get("icon-keep-upright"),W,se),p.paint.get("text-opacity").constantOr(1)!==0&&Vo(_,c,p,T,!0,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),p.layout.get("text-keep-upright"),W,se),c.map.showCollisionBoxes&&(na(_,c,p,T,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),!0),na(_,c,p,T,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),!1))},circle:function(_,c,p,T){if(_.renderPass!=="translucent")return;const B=p.paint.get("circle-opacity"),W=p.paint.get("circle-stroke-width"),se=p.paint.get("circle-stroke-opacity"),ue=p.layout.get("circle-sort-key").constantOr(1)!==void 0;if(B.constantOr(1)===0&&(W.constantOr(1)===0||se.constantOr(1)===0))return;const me=_.context,De=me.gl,Ae=_.transform,Fe=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),Ze=s.StencilMode.disabled,at=_.colorModeForRenderPass(),lt=Ae.projection.name==="globe",ut=[s.mercatorXfromLng(Ae.center.lng),s.mercatorYfromLat(Ae.center.lat)],et=[];for(let mt=0;mt<T.length;mt++){const ct=T[mt],xt=c.getTile(ct),Pt=xt.getBucket(p);if(!Pt||Pt.projection.name!==Ae.projection.name)continue;const St=Pt.programConfigurations.get(p.id),jt=ru(p);lt&&jt.push("PROJECTION_GLOBE_VIEW");const ii=_.useProgram("circle",St,jt),Jt=Pt.layoutVertexBuffer,Gt=Pt.globeExtVertexBuffer,Mi=Pt.indexBuffer,Xt=Ae.projection.createInversionMatrix(Ae,ct.canonical),yi={programConfiguration:St,program:ii,layoutVertexBuffer:Jt,globeExtVertexBuffer:Gt,indexBuffer:Mi,uniformValues:Tc(_,ct,xt,Xt,ut,p),tile:xt};if(ue){const ri=Pt.segments.get();for(const Ri of ri)et.push({segments:new s.SegmentVector([Ri]),sortKey:Ri.sortKey,state:yi})}else et.push({segments:Pt.segments,sortKey:0,state:yi})}ue&&et.sort((mt,ct)=>mt.sortKey-ct.sortKey);const nt={useDepthForOcclusion:!lt};for(const mt of et){const{programConfiguration:ct,program:xt,layoutVertexBuffer:Pt,globeExtVertexBuffer:St,indexBuffer:jt,uniformValues:ii,tile:Jt}=mt.state,Gt=mt.segments;_.terrain&&_.terrain.setupElevationDraw(Jt,xt,nt),_.prepareDrawProgram(me,xt,Jt.tileID.toUnwrapped()),xt.draw(me,De.TRIANGLES,Fe,Ze,at,s.CullFaceMode.disabled,ii,p.id,Pt,jt,Gt,p.paint,Ae.zoom,ct,[St])}},heatmap:function(_,c,p,T){if(p.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const B=_.context,W=B.gl,se=s.StencilMode.disabled,ue=new s.ColorMode([W.ONE,W.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(at,lt,ut,et){const nt=at.gl,mt=lt.width*et,ct=lt.height*et;at.activeTexture.set(nt.TEXTURE1),at.viewport.set([0,0,mt,ct]);let xt=ut.heatmapFbo;if(!xt||xt&&(xt.width!==mt||xt.height!==ct)){xt&&xt.destroy();const Pt=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,Pt),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.LINEAR),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.LINEAR),xt=ut.heatmapFbo=at.createFramebuffer(mt,ct,!1),function(St,jt,ii,Jt,Gt,Mi){const Xt=St.gl;Xt.texImage2D(Xt.TEXTURE_2D,0,Xt.RGBA,Gt,Mi,0,Xt.RGBA,St.extRenderToTextureHalfFloat?St.extTextureHalfFloat.HALF_FLOAT_OES:Xt.UNSIGNED_BYTE,null),Jt.colorAttachment.set(ii)}(at,0,Pt,xt,mt,ct)}else nt.bindTexture(nt.TEXTURE_2D,xt.colorAttachment.get()),at.bindFramebuffer.set(xt.framebuffer)})(B,_,p,_.transform.projection.name==="globe"?.5:.25),B.clear({color:s.Color.transparent});const me=_.transform,De=me.projection.name==="globe",Ae=De?["PROJECTION_GLOBE_VIEW"]:null,Fe=De?s.CullFaceMode.frontCCW:s.CullFaceMode.disabled,Ze=[s.mercatorXfromLng(me.center.lng),s.mercatorYfromLat(me.center.lat)];for(let at=0;at<T.length;at++){const lt=T[at];if(c.hasRenderableParent(lt))continue;const ut=c.getTile(lt),et=ut.getBucket(p);if(!et||et.projection.name!==me.projection.name)continue;const nt=et.programConfigurations.get(p.id),mt=_.useProgram("heatmap",nt,Ae),{zoom:ct}=_.transform;_.terrain&&_.terrain.setupElevationDraw(ut,mt),_.prepareDrawProgram(B,mt,lt.toUnwrapped());const xt=me.projection.createInversionMatrix(me,lt.canonical);mt.draw(B,W.TRIANGLES,s.DepthMode.disabled,se,ue,Fe,tc(_,lt,ut,xt,Ze,ct,p.paint.get("heatmap-intensity")),p.id,et.layoutVertexBuffer,et.indexBuffer,et.segments,p.paint,_.transform.zoom,nt,De?[et.globeExtVertexBuffer]:null)}B.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(B,W){const se=B.context,ue=se.gl,me=W.heatmapFbo;if(!me)return;se.activeTexture.set(ue.TEXTURE0),ue.bindTexture(ue.TEXTURE_2D,me.colorAttachment.get()),se.activeTexture.set(ue.TEXTURE1);let De=W.colorRampTexture;De||(De=W.colorRampTexture=new s.Texture(se,W.colorRamp,ue.RGBA)),De.bind(ue.LINEAR,ue.CLAMP_TO_EDGE),B.useProgram("heatmapTexture").draw(se,ue.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,B.colorModeForRenderPass(),s.CullFaceMode.disabled,((Ae,Fe,Ze,at)=>({u_image:0,u_color_ramp:1,u_opacity:Fe.paint.get("heatmap-opacity")}))(0,W),W.id,B.viewportBuffer,B.quadTriangleIndexBuffer,B.viewportSegments,W.paint,B.transform.zoom)}(_,p))},line:function(_,c,p,T){if(_.renderPass!=="translucent")return;const B=p.paint.get("line-opacity"),W=p.paint.get("line-width");if(B.constantOr(1)===0||W.constantOr(1)===0)return;const se=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),ue=_.colorModeForRenderPass(),me=_.terrain&&_.terrain.renderingToTexture?1:s.exported.devicePixelRatio,De=p.paint.get("line-dasharray"),Ae=De.constantOr(1),Fe=p.layout.get("line-cap"),Ze=p.paint.get("line-pattern"),at=Ze.constantOr(1),lt=p.paint.get("line-gradient"),ut=at?"linePattern":"line",et=_.context,nt=et.gl,mt=(xt=>{const Pt=[];Ad(xt)&&Pt.push("RENDER_LINE_DASH"),xt.paint.get("line-gradient")&&Pt.push("RENDER_LINE_GRADIENT");const St=xt.paint.get("line-trim-offset");St[0]===0&&St[1]===0||Pt.push("RENDER_LINE_TRIM_OFFSET");const jt=xt.paint.get("line-pattern").constantOr(1),ii=xt.paint.get("line-opacity").constantOr(1)!==1;return!jt&&ii&&Pt.push("RENDER_LINE_ALPHA_DISCARD"),Pt})(p);let ct=mt.includes("RENDER_LINE_ALPHA_DISCARD");_.terrain&&_.terrain.clipOrMaskOverlapStencilType()&&(ct=!1);for(const xt of T){const Pt=c.getTile(xt);if(at&&!Pt.patternsLoaded())continue;const St=Pt.getBucket(p);if(!St)continue;_.prepareDrawTile();const jt=St.programConfigurations.get(p.id),ii=_.useProgram(ut,jt,mt),Jt=Ze.constantOr(null);if(Jt&&Pt.imageAtlas){const Si=Pt.imageAtlas.patternPositions[Jt.toString()];Si&&jt.setConstantPatternPositions(Si)}const Gt=De.constantOr(null),Mi=Fe.constantOr(null);if(!at&&Gt&&Mi&&Pt.lineAtlas){const Si=Pt.lineAtlas.getDash(Gt,Mi);Si&&jt.setConstantPatternPositions(Si)}let[Xt,yi]=p.paint.get("line-trim-offset");(Mi==="round"||Mi==="square")&&Xt!==yi&&(Xt===0&&(Xt-=1),yi===1&&(yi+=1));const ri=_.terrain?xt.projMatrix:null,Ri=at?Ea(_,Pt,p,ri,me):su(_,Pt,p,ri,St.lineClipsArray.length,me,[Xt,yi]);if(lt){const Si=St.gradients[p.id];let Ni=Si.texture;if(p.gradientVersion!==Si.version){let Yt=256;if(p.stepInterpolant){const ni=c.getSource().maxzoom,mn=xt.canonical.z===ni?Math.ceil(1<<_.transform.maxZoom-xt.canonical.z):1;Yt=s.clamp(s.nextPowerOfTwo(St.maxLineLength/s.EXTENT*1024*mn),256,et.maxTextureSize)}Si.gradient=s.renderColorRamp({expression:p.gradientExpression(),evaluationKey:"lineProgress",resolution:Yt,image:Si.gradient||void 0,clips:St.lineClipsArray}),Si.texture?Si.texture.update(Si.gradient):Si.texture=new s.Texture(et,Si.gradient,nt.RGBA),Si.version=p.gradientVersion,Ni=Si.texture}et.activeTexture.set(nt.TEXTURE1),Ni.bind(p.stepInterpolant?nt.NEAREST:nt.LINEAR,nt.CLAMP_TO_EDGE)}Ae&&(et.activeTexture.set(nt.TEXTURE0),Pt.lineAtlasTexture.bind(nt.LINEAR,nt.REPEAT),jt.updatePaintBuffers()),at&&(et.activeTexture.set(nt.TEXTURE0),Pt.imageAtlasTexture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),jt.updatePaintBuffers()),_.prepareDrawProgram(et,ii,xt.toUnwrapped());const si=Si=>{ii.draw(et,nt.TRIANGLES,se,Si,ue,s.CullFaceMode.disabled,Ri,p.id,St.layoutVertexBuffer,St.indexBuffer,St.segments,p.paint,_.transform.zoom,jt,[St.layoutVertexBuffer2])};if(ct){const Si=_.stencilModeForClipping(xt).ref;Si===0&&_.terrain&&et.clear({stencil:0});const Ni={func:nt.EQUAL,mask:255};Ri.u_alpha_discard_threshold=.8,si(new s.StencilMode(Ni,Si,255,nt.KEEP,nt.KEEP,nt.INVERT)),Ri.u_alpha_discard_threshold=0,si(new s.StencilMode(Ni,Si,255,nt.KEEP,nt.KEEP,nt.KEEP))}else si(_.stencilModeForClipping(xt))}ct&&(_.resetStencilClippingMasks(),_.terrain&&et.clear({stencil:0}))},fill:function(_,c,p,T){const B=p.paint.get("fill-color"),W=p.paint.get("fill-opacity");if(W.constantOr(1)===0)return;const se=_.colorModeForRenderPass(),ue=p.paint.get("fill-pattern"),me=_.opaquePassEnabledForLayer()&&!ue.constantOr(1)&&B.constantOr(s.Color.transparent).a===1&&W.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===me){const De=_.depthModeForSublayer(1,_.renderPass==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly);bi(_,c,p,T,De,se,!1)}if(_.renderPass==="translucent"&&p.paint.get("fill-antialias")){const De=_.depthModeForSublayer(p.getPaintProperty("fill-outline-color")?2:0,s.DepthMode.ReadOnly);bi(_,c,p,T,De,se,!0)}},"fill-extrusion":function(_,c,p,T){const B=p.paint.get("fill-extrusion-opacity");if(B!==0&&_.renderPass==="translucent"){const W=new s.DepthMode(_.context.gl.LEQUAL,s.DepthMode.ReadWrite,_.depthRangeFor3D);if(B!==1||p.paint.get("fill-extrusion-pattern").constantOr(1))hi(_,c,p,T,W,s.StencilMode.disabled,s.ColorMode.disabled),hi(_,c,p,T,W,_.stencilModeFor3D(),_.colorModeForRenderPass()),_.resetStencilClippingMasks();else{const se=_.colorModeForRenderPass();hi(_,c,p,T,W,s.StencilMode.disabled,se)}}},hillshade:function(_,c,p,T){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const B=_.context,W=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),se=_.colorModeForRenderPass(),ue=_.terrain&&_.terrain.renderingToTexture,[me,De]=_.renderPass!=="translucent"||ue?[{},T]:_.stencilConfigForOverlap(T);for(const Ae of De){const Fe=c.getTile(Ae);if(Fe.needsHillshadePrepare&&_.renderPass==="offscreen")hr(_,Fe,p,W,s.StencilMode.disabled,se);else if(_.renderPass==="translucent"){const Ze=ue&&_.terrain?_.terrain.stencilModeForRTTOverlap(Ae):me[Ae.overscaledZ];fs(_,Ae,Fe,p,W,Ze,se)}}B.viewport.set([0,0,_.width,_.height]),_.resetStencilClippingMasks()},raster:function(_,c,p,T,B,W){if(_.renderPass!=="translucent"||p.paint.get("raster-opacity")===0||!T.length)return;const se=_.context,ue=se.gl,me=c.getSource(),De=_.useProgram("raster"),Ae=_.colorModeForRenderPass(),Fe=_.terrain&&_.terrain.renderingToTexture,[Ze,at]=me instanceof Ot||Fe?[{},T]:_.stencilConfigForOverlap(T),lt=at[at.length-1].overscaledZ,ut=!_.options.moving;for(const et of at){const nt=Fe?s.DepthMode.disabled:_.depthModeForSublayer(et.overscaledZ-lt,p.paint.get("raster-opacity")===1?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly,ue.LESS),mt=et.toUnwrapped(),ct=c.getTile(et);if(Fe&&(!ct||!ct.hasData()))continue;const xt=Fe?et.projMatrix:_.transform.calculateProjMatrix(mt,ut),Pt=_.terrain&&Fe?_.terrain.stencilModeForRTTOverlap(et):Ze[et.overscaledZ],St=W?0:p.paint.get("raster-fade-duration");ct.registerFadeDuration(St);const jt=c.findLoadedParent(et,0),ii=ea(ct,jt,c,_.transform,St);let Jt,Gt;_.terrain&&_.terrain.prepareDrawTile();const Mi=p.paint.get("raster-resampling")==="nearest"?ue.NEAREST:ue.LINEAR;se.activeTexture.set(ue.TEXTURE0),ct.texture.bind(Mi,ue.CLAMP_TO_EDGE),se.activeTexture.set(ue.TEXTURE1),jt?(jt.texture.bind(Mi,ue.CLAMP_TO_EDGE),Jt=Math.pow(2,jt.tileID.overscaledZ-ct.tileID.overscaledZ),Gt=[ct.tileID.canonical.x*Jt%1,ct.tileID.canonical.y*Jt%1]):ct.texture.bind(Mi,ue.CLAMP_TO_EDGE);const Xt=Sc(xt,Gt||[0,0],Jt||1,ii,p,me instanceof Ot?me.perspectiveTransform:[0,0]);if(_.prepareDrawProgram(se,De,mt),me instanceof Ot)me.boundsBuffer&&me.boundsSegments&&De.draw(se,ue.TRIANGLES,nt,s.StencilMode.disabled,Ae,s.CullFaceMode.disabled,Xt,p.id,me.boundsBuffer,_.quadTriangleIndexBuffer,me.boundsSegments);else{const{tileBoundsBuffer:yi,tileBoundsIndexBuffer:ri,tileBoundsSegments:Ri}=_.getTileBoundsBuffers(ct);De.draw(se,ue.TRIANGLES,nt,Pt,Ae,s.CullFaceMode.disabled,Xt,p.id,yi,ri,Ri)}}_.resetStencilClippingMasks()},background:function(_,c,p,T){const B=p.paint.get("background-color"),W=p.paint.get("background-opacity");if(W===0)return;const se=_.context,ue=se.gl,me=_.transform,De=me.tileSize,Ae=p.paint.get("background-pattern");if(_.isPatternMissing(Ae))return;const Fe=!Ae&&B.a===1&&W===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==Fe)return;const Ze=s.StencilMode.disabled,at=_.depthModeForSublayer(0,Fe==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly),lt=_.colorModeForRenderPass(),ut=_.useProgram(Ae?"backgroundPattern":"background");let et,nt=T;nt||(et=_.getBackgroundTiles(),nt=Object.values(et).map(mt=>mt.tileID)),Ae&&(se.activeTexture.set(ue.TEXTURE0),_.imageManager.bind(_.context));for(const mt of nt){const ct=mt.toUnwrapped(),xt=T?mt.projMatrix:_.transform.calculateProjMatrix(ct);_.prepareDrawTile();const Pt=c?c.getTile(mt):et?et[mt.key]:new s.Tile(mt,De,me.zoom,_),St=Ae?vr(xt,W,_,Ae,{tileID:mt,tileSize:De}):yh(xt,W,B);_.prepareDrawProgram(se,ut,ct);const{tileBoundsBuffer:jt,tileBoundsIndexBuffer:ii,tileBoundsSegments:Jt}=_.getTileBoundsBuffers(Pt);ut.draw(se,ue.TRIANGLES,at,Ze,lt,s.CullFaceMode.disabled,St,p.id,jt,ii,Jt)}},sky:function(_,c,p){const T=_.transform,B=T.projection.name==="mercator"||T.projection.name==="globe"?1:s.smoothstep(7,8,T.zoom),W=p.paint.get("sky-opacity")*B;if(W===0)return;const se=_.context,ue=p.paint.get("sky-type"),me=new s.DepthMode(se.gl.LEQUAL,s.DepthMode.ReadOnly,[0,1]),De=_.frameCounter/1e3%1;ue==="atmosphere"?_.renderPass==="offscreen"?p.needsSkyboxCapture(_)&&(function(Ae,Fe,Ze,at){const lt=Ae.context,ut=lt.gl;let et=Fe.skyboxFbo;if(!et){et=Fe.skyboxFbo=lt.createFramebuffer(32,32,!1),Fe.skyboxGeometry=new li(lt),Fe.skyboxTexture=lt.gl.createTexture(),ut.bindTexture(ut.TEXTURE_CUBE_MAP,Fe.skyboxTexture),ut.texParameteri(ut.TEXTURE_CUBE_MAP,ut.TEXTURE_WRAP_S,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_CUBE_MAP,ut.TEXTURE_WRAP_T,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_CUBE_MAP,ut.TEXTURE_MIN_FILTER,ut.LINEAR),ut.texParameteri(ut.TEXTURE_CUBE_MAP,ut.TEXTURE_MAG_FILTER,ut.LINEAR);for(let xt=0;xt<6;++xt)ut.texImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+xt,0,ut.RGBA,32,32,0,ut.RGBA,ut.UNSIGNED_BYTE,null)}lt.bindFramebuffer.set(et.framebuffer),lt.viewport.set([0,0,32,32]);const nt=Fe.getCenter(Ae,!0),mt=Ae.useProgram("skyboxCapture"),ct=new Float64Array(16);s.identity(ct),s.rotateY(ct,ct,.5*-Math.PI),Ii(lt,Fe,mt,ct,nt,0),s.identity(ct),s.rotateY(ct,ct,.5*Math.PI),Ii(lt,Fe,mt,ct,nt,1),s.identity(ct),s.rotateX(ct,ct,.5*-Math.PI),Ii(lt,Fe,mt,ct,nt,2),s.identity(ct),s.rotateX(ct,ct,.5*Math.PI),Ii(lt,Fe,mt,ct,nt,3),s.identity(ct),Ii(lt,Fe,mt,ct,nt,4),s.identity(ct),s.rotateY(ct,ct,Math.PI),Ii(lt,Fe,mt,ct,nt,5),lt.viewport.set([0,0,Ae.width,Ae.height])}(_,p),p.markSkyboxValid(_)):_.renderPass==="sky"&&function(Ae,Fe,Ze,at,lt){const ut=Ae.context,et=ut.gl,nt=Ae.transform,mt=Ae.useProgram("skybox");ut.activeTexture.set(et.TEXTURE0),et.bindTexture(et.TEXTURE_CUBE_MAP,Fe.skyboxTexture);const ct=((xt,Pt,St,jt,ii)=>({u_matrix:xt,u_sun_direction:Pt,u_cubemap:0,u_opacity:jt,u_temporal_offset:ii}))(nt.skyboxMatrix,Fe.getCenter(Ae,!1),0,at,lt);Ae.prepareDrawProgram(ut,mt),mt.draw(ut,et.TRIANGLES,Ze,s.StencilMode.disabled,Ae.colorModeForRenderPass(),s.CullFaceMode.backCW,ct,"skybox",Fe.skyboxGeometry.vertexBuffer,Fe.skyboxGeometry.indexBuffer,Fe.skyboxGeometry.segment)}(_,p,me,W,De):ue==="gradient"&&_.renderPass==="sky"&&function(Ae,Fe,Ze,at,lt){const ut=Ae.context,et=ut.gl,nt=Ae.transform,mt=Ae.useProgram("skyboxGradient");Fe.skyboxGeometry||(Fe.skyboxGeometry=new li(ut)),ut.activeTexture.set(et.TEXTURE0);let ct=Fe.colorRampTexture;ct||(ct=Fe.colorRampTexture=new s.Texture(ut,Fe.colorRamp,et.RGBA)),ct.bind(et.LINEAR,et.CLAMP_TO_EDGE);const xt=((Pt,St,jt,ii,Jt)=>({u_matrix:Pt,u_color_ramp:0,u_center_direction:St,u_radius:s.degToRad(jt),u_opacity:ii,u_temporal_offset:Jt}))(nt.skyboxMatrix,Fe.getCenter(Ae,!1),Fe.paint.get("sky-gradient-radius"),at,lt);Ae.prepareDrawProgram(ut,mt),mt.draw(ut,et.TRIANGLES,Ze,s.StencilMode.disabled,Ae.colorModeForRenderPass(),s.CullFaceMode.backCW,xt,"skyboxGradient",Fe.skyboxGeometry.vertexBuffer,Fe.skyboxGeometry.indexBuffer,Fe.skyboxGeometry.segment)}(_,p,me,W,De)},debug:function(_,c,p){for(let T=0;T<p.length;T++)Pd(_,c,p[T])},custom:function(_,c,p){const T=_.context,B=p.implementation;if(_.transform.projection.unsupportedLayers&&_.transform.projection.unsupportedLayers.includes("custom"))s.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(_.renderPass==="offscreen"){const W=B.prerender;W&&(_.setCustomLayerDefaults(),T.setColorMode(_.colorModeForRenderPass()),W.call(B,T.gl,_.transform.customLayerMatrix()),T.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),T.setColorMode(_.colorModeForRenderPass()),T.setStencilMode(s.StencilMode.disabled);const W=B.renderingMode==="3d"?new s.DepthMode(_.context.gl.LEQUAL,s.DepthMode.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,s.DepthMode.ReadOnly);T.setDepthMode(W),B.render(T.gl,_.transform.customLayerMatrix()),T.setDirty(),_.setBaseState(),T.bindFramebuffer.set(null)}}};class Fn{constructor(c,p){this.context=new Ne(c),this.transform=p,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=s.SourceCache.maxUnderzooming+s.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ma,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(c,p){const T=!!c&&!!c.terrain&&this.transform.projection.supportsTerrain;if(!(T||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Bo(this,c));const B=this._terrain;this.transform.elevation=T?B:null,B.update(c,this.transform,p)}_updateFog(c){const p=c.fog;if(!p||this.transform.projection.name==="globe"||p.getOpacity(this.transform.pitch)<1||p.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[T,B]=p.getFovAdjustedRange(this.transform._fov);if(T>B)return void(this.transform.fogCullDistSq=null);const W=T+.78*(B-T);this.transform.fogCullDistSq=W*W}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(c,p){if(this.width=c*s.exported.devicePixelRatio,this.height=p*s.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const T of this.style.order)this.style._layers[T].resize()}setup(){const c=this.context,p=new s.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(s.EXTENT,0),p.emplaceBack(0,s.EXTENT),p.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,s.posAttributes.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const T=new s.StructArrayLayout2i4;T.emplaceBack(0,0),T.emplaceBack(s.EXTENT,0),T.emplaceBack(0,s.EXTENT),T.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=c.createVertexBuffer(T,s.posAttributes.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const B=new s.StructArrayLayout2i4;B.emplaceBack(-1,-1),B.emplaceBack(1,-1),B.emplaceBack(-1,1),B.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(B,s.posAttributes.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const W=new s.StructArrayLayout4i8;W.emplaceBack(0,0,0,0),W.emplaceBack(s.EXTENT,0,s.EXTENT,0),W.emplaceBack(0,s.EXTENT,0,s.EXTENT),W.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.mercatorBoundsBuffer=c.createVertexBuffer(W,s.boundsAttributes.members),this.mercatorBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const se=new s.StructArrayLayout3ui6;se.emplaceBack(0,1,2),se.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(se);const ue=new s.StructArrayLayout1ui2;for(const De of[0,1,3,2,0])ue.emplaceBack(De);this.debugIndexBuffer=c.createIndexBuffer(ue),this.emptyTexture=new s.Texture(c,new s.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),c.gl.RGBA),this.identityMat=s.create();const me=this.context.gl;this.stencilClearMode=new s.StencilMode({func:me.ALWAYS,mask:0},0,255,me.ZERO,me.ZERO,me.ZERO),this.loadTimeStamps.push(s.window.performance.now()),this.atmosphereBuffer=new zi(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(c){return c._makeTileBoundsBuffers(this.context,this.transform.projection),c._tileBoundsBuffer?{tileBoundsBuffer:c._tileBoundsBuffer,tileBoundsIndexBuffer:c._tileBoundsIndexBuffer,tileBoundsSegments:c._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(c,p.TRIANGLES,s.DepthMode.disabled,this.stencilClearMode,s.ColorMode.disabled,s.CullFaceMode.disabled,eo(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(c,p,T){if(!p||this.currentStencilSource===p.id||!c.isTileClipped()||!T||T.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let ue=!1;for(const me of T)if(this._tileClippingMaskIDs[me.key]===void 0){ue=!0;break}if(!ue)return}this.currentStencilSource=p.id;const B=this.context,W=B.gl;this.nextStencilID+T.length>256&&this.clearStencil(),B.setColorMode(s.ColorMode.disabled),B.setDepthMode(s.DepthMode.disabled);const se=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const ue of T){const me=p.getTile(ue),De=this._tileClippingMaskIDs[ue.key]=this.nextStencilID++,{tileBoundsBuffer:Ae,tileBoundsIndexBuffer:Fe,tileBoundsSegments:Ze}=this.getTileBoundsBuffers(me);se.draw(B,W.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:W.ALWAYS,mask:0},De,255,W.KEEP,W.KEEP,W.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,eo(ue.projMatrix),"$clipping",Ae,Fe,Ze)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new s.StencilMode({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(c);const p=this.context.gl;return new s.StencilMode({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,T=c.sort((se,ue)=>ue.overscaledZ-se.overscaledZ),B=T[T.length-1].overscaledZ,W=T[0].overscaledZ-B+1;if(W>1){this.currentStencilSource=void 0,this.nextStencilID+W>256&&this.clearStencil();const se={};for(let ue=0;ue<W;ue++)se[ue+B]=new s.StencilMode({func:p.GEQUAL,mask:255},ue+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=W,[se,T]}return[{[B]:s.StencilMode.disabled},T]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new s.ColorMode([c.CONSTANT_COLOR,c.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?s.ColorMode.unblended:s.ColorMode.alphaBlended}depthModeForSublayer(c,p,T){if(!this.opaquePassEnabledForLayer())return s.DepthMode.disabled;const B=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new s.DepthMode(T||this.context.gl.LEQUAL,p,[B,B])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const T=this.style.order,B=this.style._sourceCaches;for(const me in B){const De=B[me];De.used&&De.prepare(this.context)}const W={},se={},ue={};for(const me in B){const De=B[me];W[me]=De.getVisibleCoordinates(),se[me]=W[me].slice().reverse(),ue[me]=De.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let me=0;me<T.length;me++)if(this.style._layers[T[me]].is3D()){this.opaquePassCutoff=me;break}if(this.terrain&&(this.terrain.updateTileBinding(ue),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new s.GlobeSharedBuffers(this.context)),s.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const me of T){const De=this.style._layers[me],Ae=c._getLayerSourceCache(De);if(!De.hasOffscreenPass()||De.isHidden(this.transform.zoom))continue;const Fe=Ae?se[Ae.id]:void 0;(De.type==="custom"||De.isSky()||Fe&&Fe.length)&&this.renderLayer(this,Ae,De,Fe)}if(this.depthRangeFor3D=[0,1-(c.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:p.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=T.length-1;this.currentLayer>=0;this.currentLayer--){const me=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(me);if(me.isSky())continue;const Ae=De?se[De.id]:void 0;this._renderTileClippingMasks(me,De,Ae),this.renderLayer(this,De,me,Ae)}if(this.style.fog&&this.transform.projection.supportsFog&&function(me,De){const Ae=me.context,Fe=Ae.gl,Ze=me.transform,at=new s.DepthMode(Fe.LEQUAL,s.DepthMode.ReadOnly,[0,1]),lt=me.useProgram("globeAtmosphere",null,Ze.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),ut=s.globeToMercatorTransition(Ze.zoom),et=De.properties.get("color").toArray01(),nt=De.properties.get("high-color").toArray01(),mt=De.properties.get("space-color").toArray01PremultipliedAlpha(),ct=s.identity$1([]);s.rotateY$1(ct,ct,-s.degToRad(Ze._center.lng)),s.rotateX$1(ct,ct,s.degToRad(Ze._center.lat)),s.rotateZ$1(ct,ct,Ze.angle),s.rotateX$1(ct,ct,-Ze._pitch);const xt=s.fromQuat(new Float32Array(16),ct),Pt=s.mapValue(De.properties.get("star-intensity"),0,1,0,.25),St=5e-4,jt=s.mapValue(De.properties.get("horizon-blend"),0,1,St,.25),ii=s.globeUseCustomAntiAliasing(me,Ae,Ze)&&jt===St?Ze.worldSize/(2*Math.PI*1.025)-1:Ze.globeRadius,Jt=me.frameCounter/1e3%1,Gt=s.length(Ze.globeCenterInViewSpace),Mi=Math.sqrt(Math.pow(Gt,2)-Math.pow(ii,2)),Xt=Math.acos(Mi/Gt),yi=((Ri,si,Si,Ni,Yt,ni,mn,Sn,gn,jn,or,kn,ln,is)=>({u_frustum_tl:Ri,u_frustum_tr:si,u_frustum_br:Si,u_frustum_bl:Ni,u_horizon:Yt,u_transition:ni,u_fadeout_range:mn,u_color:Sn,u_high_color:gn,u_space_color:jn,u_star_intensity:or,u_star_size:5*s.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:kn,u_horizon_angle:ln,u_rotation_matrix:is}))(Ze.frustumCorners.TL,Ze.frustumCorners.TR,Ze.frustumCorners.BR,Ze.frustumCorners.BL,Ze.frustumCorners.horizon,ut,jt,et,nt,mt,Pt,Jt,Xt,xt);me.prepareDrawProgram(Ae,lt);const ri=me.atmosphereBuffer;ri&&lt.draw(Ae,Fe.TRIANGLES,at,s.StencilMode.disabled,s.ColorMode.alphaBlended,s.CullFaceMode.backCW,yi,"skybox",ri.vertexBuffer,ri.indexBuffer,ri.segments)}(this,this.style.fog),this.renderPass="sky",(s.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<T.length;this.currentLayer++){const me=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(me);me.isSky()&&this.renderLayer(this,De,me,De?se[De.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<T.length;){const me=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(me);if(me.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(me)){if(me.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Ae=De?(me.type==="symbol"?ue:se)[De.id]:void 0;this._renderTileClippingMasks(me,De,De?W[De.id]:void 0),this.renderLayer(this,De,me,Ae),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let me=null;s.values(this.style._layers).forEach(De=>{const Ae=c._getLayerSourceCache(De);Ae&&!De.isHidden(this.transform.zoom)&&(!me||me.getSource().maxzoom<Ae.getSource().maxzoom)&&(me=Ae)}),me&&this.options.showTileBoundaries&&Rn.debug(this,me,me.getVisibleCoordinates())}this.options.showPadding&&function(me){const De=me.transform.padding;Go(me,me.transform.height-(De.top||0),3,Kn),Go(me,De.bottom||0,3,Or),rt(me,De.left||0,3,zs),rt(me,me.transform.width-(De.right||0),3,Ur);const Ae=me.transform.centerPoint;(function(Fe,Ze,at,lt){Mt(Fe,Ze-1,at-10,2,20,lt),Mt(Fe,Ze-10,at-1,20,2,lt)})(me,Ae.x,me.transform.height-Ae.y,Ec)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(s.window.performance.now()),this.saveCanvasCopy())}}renderLayer(c,p,T,B){T.isHidden(this.transform.zoom)||(T.type==="background"||T.type==="sky"||T.type==="custom"||B&&B.length)&&(this.id=T.id,this.gpuTimingStart(T),c.transform.projection.unsupportedLayers&&c.transform.projection.unsupportedLayers.includes(T.type)||Rn[T.type](c,p,T,B,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const p=this.context.extTimerQuery;let T=this.gpuTimers[c.id];T||(T=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),T.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,T.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const c=this.context.extTimerQuery,p=c.createQueryEXT();this.deferredRenderGpuTimeQueries.push(p),c.beginQueryEXT(c.TIME_ELAPSED_EXT,p)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}collectDeferredRenderGpuQueries(){const c=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],c}queryGpuTimers(c){const p={};for(const T in c){const B=c[T],W=this.context.extTimerQuery,se=W.getQueryObjectEXT(B.query,W.QUERY_RESULT_EXT)/1e6;W.deleteQueryEXT(B.query),p[T]=se}return p}queryGpuTimeDeferredRender(c){if(!this.options.gpuTimingDeferredRender)return 0;const p=this.context.extTimerQuery;let T=0;for(const B of c)T+=p.getQueryObjectEXT(B,p.QUERY_RESULT_EXT)/1e6,p.deleteQueryEXT(B);return T}translatePosMatrix(c,p,T,B,W){if(!T[0]&&!T[1])return c;const se=W?B==="map"?this.transform.angle:0:B==="viewport"?-this.transform.angle:0;if(se){const De=Math.sin(se),Ae=Math.cos(se);T=[T[0]*Ae-T[1]*De,T[0]*De+T[1]*Ae]}const ue=[W?T[0]:F(p,T[0],this.transform.zoom),W?T[1]:F(p,T[1],this.transform.zoom),0],me=new Float32Array(16);return s.translate(me,c,ue),me}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){return c===null||c!==void 0&&!this.imageManager.getPattern(c.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const c=this.terrain&&this.terrain.renderingToTexture,p=this.terrain&&this.terrain.exaggeration()===0,T=this.style&&this.style.fog,B=[];return this.terrainRenderModeElevated()&&B.push("TERRAIN"),this.transform.projection.name==="globe"&&B.push("GLOBE"),p&&B.push("ZERO_EXAGGERATION"),T&&!c&&T.getOpacity(this.transform.pitch)!==0&&B.push("FOG"),c&&B.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&B.push("OVERDRAW_INSPECTOR"),B}useProgram(c,p,T){this.cache=this.cache||{};const B=T||[],W=this.currentGlobalDefines().concat(B),se=ga.cacheKey(oi[c],c,W,p);return this.cache[se]||(this.cache[se]=new ga(this.context,c,oi[c],p,$o[c],W)),this.cache[se]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(c,p,T){if(this.terrain&&this.terrain.renderingToTexture)return;const B=this.style.fog;if(B){const W=B.getOpacity(this.transform.pitch),se=((ue,me,De,Ae,Fe,Ze,at,lt,ut,et,nt)=>{const mt=ue.transform,ct=me.properties.get("color").toArray01();ct[3]=Ae;const xt=ue.frameCounter/1e3%1;return{u_fog_matrix:De?mt.calculateFogTileMatrix(De):ue.identityMat,u_fog_range:me.getFovAdjustedRange(mt._fov),u_fog_color:ct,u_fog_horizon_blend:me.properties.get("horizon-blend"),u_fog_temporal_offset:xt,u_frustum_tl:Fe,u_frustum_tr:Ze,u_frustum_br:at,u_frustum_bl:lt,u_globe_pos:ut,u_globe_radius:et,u_viewport:nt,u_globe_transition:s.globeToMercatorTransition(mt.zoom),u_is_globe:+(mt.projection.name==="globe")}})(this,B,T,W,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*s.exported.devicePixelRatio,this.transform.height*s.exported.devicePixelRatio]);p.setFogUniformValues(c,se)}}setTileLoadedFlag(c){this.tileLoaded=c}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const c=this.context.gl,p=c.createTexture();return c.bindTexture(c.TEXTURE_2D,p),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,c.drawingBufferWidth,c.drawingBufferHeight,0),p}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const c=this.style&&this.style.fog;return!!c&&c.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const c=this._backgroundTiles,p=this._backgroundTiles={},T=this.transform.coveringTiles({tileSize:512});for(const B of T)p[B.key]=c[B.key]||new s.Tile(B,512,this.transform.tileZoom,this);return p}clearBackgroundTiles(){this._backgroundTiles={}}}class Un{constructor(c=0,p=0,T=0,B=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(T)||T<0||isNaN(B)||B<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=T,this.right=B}interpolate(c,p,T){return p.top!=null&&c.top!=null&&(this.top=s.number(c.top,p.top,T)),p.bottom!=null&&c.bottom!=null&&(this.bottom=s.number(c.bottom,p.bottom,T)),p.left!=null&&c.left!=null&&(this.left=s.number(c.left,p.left,T)),p.right!=null&&c.right!=null&&(this.right=s.number(c.right,p.right,T)),this}getCenter(c,p){const T=s.clamp((this.left+c-this.right)/2,0,c),B=s.clamp((this.top+p-this.bottom)/2,0,p);return new s.pointGeometry(T,B)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new Un(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ir(_,c){const p=s.getColumn(_,3);s.fromQuat(_,c),s.setColumn(_,3,p)}function Cr(_,c){const p=s.identity$1([]);return s.rotateZ$1(p,p,-c),s.rotateX$1(p,p,-_),p}function In(_,c){const p=[_[0],_[1],0],T=[c[0],c[1],0];if(s.length(p)>=1e-15){const se=s.normalize([],p);s.scale$2(T,se,s.dot(T,se)),c[0]=T[0],c[1]=T[1]}const B=s.cross([],c,_);if(s.len(B)<1e-15)return null;const W=Math.atan2(-B[1],B[0]);return Cr(Math.atan2(Math.sqrt(_[0]*_[0]+_[1]*_[1]),-_[2]),W)}class we{constructor(c,p){this.position=c,this.orientation=p}get position(){return this._position}set position(c){if(c){const p=c instanceof s.MercatorCoordinate?c:new s.MercatorCoordinate(c[0],c[1],c[2]);this._renderWorldCopies&&(p.x=s.wrap(p.x,0,1)),this._position=p}else this._position=null}lookAtPoint(c,p){if(this.orientation=null,!this.position)return;const T=this._elevation?this._elevation.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(c)):0,B=this.position,W=s.MercatorCoordinate.fromLngLat(c,T),se=[W.x-B.x,W.y-B.y,W.z-B.z];p||(p=[0,0,1]),p[2]=Math.abs(p[2]),this.orientation=In(se,p)}setPitchBearing(c,p){this.orientation=Cr(s.degToRad(c),s.degToRad(-p))}}class Ce{constructor(c,p){this._transform=s.identity([]),this.orientation=p,this.position=c}get mercatorPosition(){const c=this.position;return new s.MercatorCoordinate(c[0],c[1],c[2])}get position(){const c=s.getColumn(this._transform,3);return[c[0],c[1],c[2]]}set position(c){var p;c&&s.setColumn(this._transform,3,[(p=c)[0],p[1],p[2],1])}get orientation(){return this._orientation}set orientation(c){this._orientation=c||s.identity$1([]),c&&ir(this._transform,this._orientation)}getPitchBearing(){const c=this.forward(),p=this.right();return{bearing:Math.atan2(-p[1],p[0]),pitch:Math.atan2(Math.sqrt(c[0]*c[0]+c[1]*c[1]),-c[2])}}setPitchBearing(c,p){this._orientation=Cr(c,p),ir(this._transform,this._orientation)}forward(){const c=s.getColumn(this._transform,2);return[-c[0],-c[1],-c[2]]}up(){const c=s.getColumn(this._transform,1);return[-c[0],-c[1],-c[2]]}right(){const c=s.getColumn(this._transform,0);return[c[0],c[1],c[2]]}getCameraToWorld(c,p){const T=new Float64Array(16);return s.invert(T,this.getWorldToCamera(c,p)),T}getWorldToCameraPosition(c,p,T){const B=this.position;s.scale$2(B,B,-c);const W=new Float64Array(16);return s.fromScaling(W,[T,T,T]),s.translate(W,W,B),W[10]*=p,W}getWorldToCamera(c,p){const T=new Float64Array(16),B=new Float64Array(4),W=this.position;return s.conjugate(B,this._orientation),s.scale$2(W,W,-c),s.fromQuat(T,B),s.translate(T,T,W),T[1]*=-1,T[5]*=-1,T[9]*=-1,T[13]*=-1,T[8]*=p,T[9]*=p,T[10]*=p,T[11]*=p,T}getCameraToClipPerspective(c,p,T,B){const W=new Float64Array(16);return s.perspective(W,c,p,T,B),W}getDistanceToElevation(c,p=!1){const T=c===0?0:s.mercatorZfromAltitude(c,p?s.latFromMercatorY(this.position[1]):this.position[1]),B=this.forward();return(T-this.position[2])/B[2]}clone(){return new Ce([...this.position],[...this.orientation])}}function $e(_,c){const p=Ei(_.projection,_.zoom,_.width,_.height),T=function(W,se,ue,me,De){const Ae=new s.LngLat(ue.lng-180*Tn,ue.lat),Fe=new s.LngLat(ue.lng+180*Tn,ue.lat),Ze=W.project(Ae.lng,Ae.lat),at=W.project(Fe.lng,Fe.lat),lt=-Math.atan2(at.y-Ze.y,at.x-Ze.x),ut=s.MercatorCoordinate.fromLngLat(ue);ut.y=s.clamp(ut.y,-.999975,.999975);const et=ut.toLngLat(),nt=W.project(et.lng,et.lat),mt=s.MercatorCoordinate.fromLngLat(et);mt.x+=Tn;const ct=mt.toLngLat(),xt=W.project(ct.lng,ct.lat),Pt=to(xt.x-nt.x,xt.y-nt.y,lt),St=s.MercatorCoordinate.fromLngLat(et);St.y+=Tn;const jt=St.toLngLat(),ii=W.project(jt.lng,jt.lat),Jt=to(ii.x-nt.x,ii.y-nt.y,lt),Gt=Math.abs(Pt.x)/Math.abs(Jt.y),Mi=s.identity([]);s.rotateZ(Mi,Mi,-lt*(1-(De?0:me)));const Xt=s.identity([]);return s.scale(Xt,Xt,[1,1-(1-Gt)*me,1]),Xt[4]=-Jt.x/Jt.y*me,s.rotateZ(Xt,Xt,lt),s.multiply(Xt,Mi,Xt),Xt}(_.projection,0,_.center,p,c),B=vt(_);return s.scale(T,T,[B,B,1]),T}function vt(_){const c=_.projection,p=Ei(_.projection,_.zoom,_.width,_.height),T=xr(c,_.center),B=xr(c,s.LngLat.convert(c.center));return Math.pow(2,T*p+(1-p)*B)}function Ei(_,c,p,T,B=1/0){const W=_.range;if(!W)return 0;const se=Math.min(B,Math.max(p,T)),ue=Math.log(se/1024)/Math.LN2;return s.smoothstep(W[0]+ue,W[1]+ue,c)}const Tn=1/4e4;function xr(_,c){const p=s.clamp(c.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),T=new s.LngLat(c.lng-180*Tn,p),B=new s.LngLat(c.lng+180*Tn,p),W=_.project(T.lng,p),se=_.project(B.lng,p),ue=s.MercatorCoordinate.fromLngLat(T),me=s.MercatorCoordinate.fromLngLat(B),De=se.x-W.x,Ae=se.y-W.y,Fe=me.x-ue.x,Ze=me.y-ue.y,at=Math.sqrt((Fe*Fe+Ze*Ze)/(De*De+Ae*Ae));return Math.log(at)/Math.LN2}function to(_,c,p){const T=Math.cos(p),B=Math.sin(p);return{x:_*T-c*B,y:_*B+c*T}}class Ns{constructor(c,p,T,B,W,se,ue){this.tileSize=512,this._renderWorldCopies=W===void 0||W,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=T??0,this._maxPitch=B??60,this.setProjection(se),this.setMaxBounds(ue),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Un,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Ce,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const c=new Ns(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return c._elevation=this._elevation,c._centerAltitude=this._centerAltitude,c._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,c.tileSize=this.tileSize,c.mercatorFromTransition=this.mercatorFromTransition,c.width=this.width,c.height=this.height,c.cameraElevationReference=this.cameraElevationReference,c._center=this._center,c._setZoom(this.zoom),c._seaLevelZoom=this._seaLevelZoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._nearZ=this._nearZ,c._farZ=this._farZ,c._averageElevation=this._averageElevation,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._camera=this._camera.clone(),c._calcMatrices(),c.freezeTileCoverage=this.freezeTileCoverage,c.frustumCorners=this.frustumCorners,c}get elevation(){return this._elevation}set elevation(c){this._elevation!==c&&(this._elevation=c,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(c,p=!1){const T=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||T)&&this._updateCameraOnTerrain(),(c||T)&&this._constrainCamera(p),this._calcMatrices()}getProjection(){return s.pick(this.projection,["name","center","parallels"])}setProjection(c){this.projectionOptions=c||{name:"mercator"};const p=this.projection?this.getProjection():void 0;this.projection=s.getProjection(this.projectionOptions);const T=!v(p,this.getProjection());return T&&this._calcMatrices(),this.mercatorFromTransition=!1,T}setMercatorFromTransition(){const c=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=s.getProjection({name:"mercator"});const p=c!==this.projection.name;return p&&this._calcMatrices(),p}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get cameraWorldSize(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return s.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.pointGeometry(this.width,this.height)}get bearing(){return s.wrap(this.rotation,-180,180)}set bearing(c){this.rotation=c}get rotation(){return-this.angle/Math.PI*180}set rotation(c){const p=-c*Math.PI/180;var T;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=(T=new s.ARRAY_TYPE(4),s.ARRAY_TYPE!=Float32Array&&(T[1]=0,T[2]=0),T[0]=1,T[3]=1,T),function(B,W,se){var ue=W[0],me=W[1],De=W[2],Ae=W[3],Fe=Math.sin(se),Ze=Math.cos(se);B[0]=ue*Ze+De*Fe,B[1]=me*Ze+Ae*Fe,B[2]=ue*-Fe+De*Ze,B[3]=me*-Fe+Ae*Ze}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=s.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const c=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/c)}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=s.degToRad(c),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(c){this._averageElevation=c,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._setZoom(p),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(c){this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const c=this._elevation;this._centerAltitude=c.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=c.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const c=this._elevation,p=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],T=this.horizonLineFromTop();let B=0,W=0;for(let se=0;se<p.length;se++){const ue=new s.pointGeometry(p[se][0]*this.width,T+p[se][1]*(this.height-T)),me=c.pointCoordinate(ue);if(!me)continue;const De=1/Math.hypot(me[0]-this._camera.position[0],me[1]-this._camera.position[1]);B+=me[3]*De,W+=De}return W===0?NaN:B/W}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const c=this._seaLevelZoom,p=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),T=this.pixelsPerMeter/this.worldSize*p,B=this._mercatorZfromZoom(c),W=this._mercatorZfromZoom(this._maxZoom),se=Math.max(B-T,W);this._setZoom(this._zoomFromMercatorZ(se))}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}computeZoomRelativeTo(c){const p=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,c.toAltitude()));let T;T=c.z<this._camera.position[2]?[p.x,p.y,p.z]:[c.x,c.y,c.z];const B=s.length(s.sub([],this._camera.position,T));return s.clamp(this._zoomFromMercatorZ(B),this._minZoom,this._maxZoom)}setFreeCameraOptions(c){if(!this.height||!c.position&&!c.orientation)return;this._updateCameraState();let p=!1;if(c.orientation&&!s.exactEquals(c.orientation,this._camera.orientation)&&(p=this._setCameraOrientation(c.orientation)),c.position){const T=[c.position.x,c.position.y,c.position.z];s.exactEquals$1(T,this._camera.position)||(this._setCameraPosition(T),p=!0)}p&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const c=this._camera.position,p=new we;return p.position=new s.MercatorCoordinate(c[0],c[1],c[2]),p.orientation=this._camera.orientation,p._elevation=this.elevation,p._renderWorldCopies=this.renderWorldCopies,p}_setCameraOrientation(c){if(!s.length$1(c))return!1;s.normalize$1(c,c);const p=s.transformQuat([],[0,0,-1],c),T=s.transformQuat([],[0,-1,0],c);if(T[2]<0)return!1;const B=In(p,T);return!!B&&(this._camera.orientation=B,!0)}_setCameraPosition(c){const p=this.zoomScale(this.minZoom)*this.tileSize,T=this.zoomScale(this.maxZoom)*this.tileSize,B=this.cameraToCenterDistance;c[2]=s.clamp(c[2],B/T,B/p),this._camera.position=c}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,T){this._unmodified=!1,this._edgeInsets.interpolate(c,p,T),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new s.UnwrappedTileID(0,c)];if(this.renderWorldCopies){const T=this.pointCoordinate(new s.pointGeometry(0,0)),B=this.pointCoordinate(new s.pointGeometry(this.width,0)),W=this.pointCoordinate(new s.pointGeometry(this.width,this.height)),se=this.pointCoordinate(new s.pointGeometry(0,this.height)),ue=Math.floor(Math.min(T.x,B.x,W.x,se.x)),me=Math.floor(Math.max(T.x,B.x,W.x,se.x)),De=1;for(let Ae=ue-De;Ae<=me+De;Ae++)Ae!==0&&p.push(new s.UnwrappedTileID(Ae,c))}return p}coveringTiles(c){let p=this.coveringZoomLevel(c);const T=p,B=this.elevation&&!c.isTerrainDEM,W=this.projection.name==="mercator";if(c.minzoom!==void 0&&p<c.minzoom)return[];c.maxzoom!==void 0&&p>c.maxzoom&&(p=c.maxzoom);const se=this.locationCoordinate(this.center),ue=this.center.lat,me=1<<p,De=[me*se.x,me*se.y,0],Ae=this.projection.name==="globe",Fe=!Ae,Ze=s.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p,Fe),at=Ae?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),lt=me*s.mercatorZfromAltitude(1,this.center.lat),ut=this._camera.position[2]/s.mercatorZfromAltitude(1,this.center.lat),et=[me*at.x,me*at.y,ut*(Fe?1:lt)],nt=this.cameraToCenterDistance/c.tileSize*(c.roundZoom?1:.502),mt=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?p:0,ct=c.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,xt=c.isTerrainDEM?-ct:this._elevation?this._elevation.getMinElevationBelowMSL():0,Pt=this.projection.isReprojectedInTileSpace?vt(this):1,St=si=>{const Ni=new s.MercatorCoordinate(si.x+25e-6,si.y,si.z),Yt=new s.MercatorCoordinate(si.x,si.y+25e-6,si.z),ni=si.toLngLat(),mn=Ni.toLngLat(),Sn=Yt.toLngLat(),gn=this.locationCoordinate(ni),jn=this.locationCoordinate(mn),or=this.locationCoordinate(Sn),kn=Math.hypot(jn.x-gn.x,jn.y-gn.y),ln=Math.hypot(or.x-gn.x,or.y-gn.y);return Math.sqrt(kn*ln)*Pt/25e-6},jt=si=>{const Si=ct,Ni=xt;return{aabb:s.tileAABB(this,me,0,0,0,si,Ni,Si,this.projection),zoom:0,x:0,y:0,minZ:Ni,maxZ:Si,wrap:si,fullyVisible:!1}},ii=[];let Jt=[];const Gt=p,Mi=c.reparseOverscaled?T:p,Xt=si=>si*si,yi=Xt((ut-this._centerAltitude)*lt),ri=si=>{if(!this._elevation||!si.tileID||!W)return;const Si=this._elevation.getMinMaxForTile(si.tileID),Ni=si.aabb;Si?(Ni.min[2]=Si.min,Ni.max[2]=Si.max,Ni.center[2]=(Ni.min[2]+Ni.max[2])/2):(si.shouldSplit=Ri(si),si.shouldSplit||(Ni.min[2]=Ni.max[2]=Ni.center[2]=this._centerAltitude))},Ri=si=>{if(si.zoom<mt)return!0;if(si.zoom===Gt)return!1;if(si.shouldSplit!=null)return si.shouldSplit;const Si=si.aabb.distanceX(et),Ni=si.aabb.distanceY(et);let Yt=yi,ni=1;if(Ae){Yt=Xt(si.aabb.distanceZ(et));const gn=Math.pow(2,si.zoom),jn=s.latFromMercatorY((si.y+1)/gn),or=s.latFromMercatorY(si.y/gn),kn=Math.min(Math.max(ue,jn),or),ln=s.circumferenceAtLatitude(kn)/s.circumferenceAtLatitude(ue);if(ni=kn===ue?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,ln/this._mercatorScaleRatio),this.zoom<=s.GLOBE_ZOOM_THRESHOLD_MIN&&si.zoom===Gt-1&&ln>=.9)return!0}else if(B&&(Yt=Xt(si.aabb.distanceZ(et)*lt)),this.projection.isReprojectedInTileSpace&&T<=5){const gn=Math.pow(2,si.zoom),jn=St(new s.MercatorCoordinate((si.x+.5)/gn,(si.y+.5)/gn));ni=jn>.85?1:jn}const mn=Si*Si+Ni*Ni+Yt,Sn=Xt((1<<Gt-si.zoom)*nt*ni*((gn,jn)=>{if(jn*Xt(.707)<gn)return 1;const or=Math.sqrt(jn/gn);return or/(1.4144271570014144+(Math.pow(1.1,or-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Yt,yi),mn));return mn<Sn};if(this.renderWorldCopies)for(let si=1;si<=3;si++)ii.push(jt(-si)),ii.push(jt(si));for(ii.push(jt(0));ii.length>0;){const si=ii.pop(),Si=si.x,Ni=si.y;let Yt=si.fullyVisible;if(!Yt){const ni=si.aabb.intersects(Ze);if(ni===0)continue;Yt=ni===2}if(si.zoom!==Gt&&Ri(si))for(let ni=0;ni<4;ni++){const mn=(Si<<1)+ni%2,Sn=(Ni<<1)+(ni>>1),gn={aabb:W?si.aabb.quadrant(ni):s.tileAABB(this,me,si.zoom+1,mn,Sn,si.wrap,si.minZ,si.maxZ,this.projection),zoom:si.zoom+1,x:mn,y:Sn,wrap:si.wrap,fullyVisible:Yt,tileID:void 0,shouldSplit:void 0,minZ:si.minZ,maxZ:si.maxZ};B&&!Ae&&(gn.tileID=new s.OverscaledTileID(si.zoom+1===Gt?Mi:si.zoom+1,si.wrap,si.zoom+1,mn,Sn),ri(gn)),ii.push(gn)}else{const ni=si.zoom===Gt?Mi:si.zoom;if(c.minzoom&&c.minzoom>ni)continue;const mn=De[0]-(.5+Si+(si.wrap<<si.zoom))*(1<<p-si.zoom),Sn=De[1]-.5-Ni,gn=si.tileID?si.tileID:new s.OverscaledTileID(ni,si.wrap,si.zoom,Si,Ni);Jt.push({tileID:gn,distanceSq:mn*mn+Sn*Sn})}}if(this.fogCullDistSq){const si=this.fogCullDistSq,Si=this.horizonLineFromTop();Jt=Jt.filter(Ni=>{const Yt=[0,0,0,1],ni=[s.EXTENT,s.EXTENT,0,1],mn=this.calculateFogTileMatrix(Ni.tileID.toUnwrapped());s.transformMat4$1(Yt,Yt,mn),s.transformMat4$1(ni,ni,mn);const Sn=s.getAABBPointSquareDist(Yt,ni);if(Sn===0)return!0;let gn=!1;const jn=this._elevation;if(jn&&Sn>si&&Si!==0){const or=this.calculateProjMatrix(Ni.tileID.toUnwrapped());let kn;c.isTerrainDEM||(kn=jn.getMinMaxForTile(Ni.tileID)),kn||(kn={min:xt,max:ct});const ln=s.furthestTileCorner(this.rotation),is=[ln[0]*s.EXTENT,ln[1]*s.EXTENT,kn.max];s.transformMat4(is,is,or),gn=(1-is[1])*this.height*.5<Si}return Sn<si||gn})}return Jt.sort((si,Si)=>si.distanceSq-Si.distanceSq).map(si=>si.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=s.clamp(c.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),T=this.projection.project(c.lng,p);return new s.pointGeometry(T.x*this.worldSize,T.y*this.worldSize)}unproject(c){return this.projection.unproject(c.x/this.worldSize,c.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(c,p){let T,B;const W=this.centerPoint;if(this.projection.name==="globe"){const ue=this.worldSize;T=(p.x-W.x)/ue,B=(p.y-W.y)/ue}else{const ue=this.pointCoordinate(p),me=this.pointCoordinate(W);T=ue.x-me.x,B=ue.y-me.y}const se=this.locationCoordinate(c);this.setLocation(new s.MercatorCoordinate(se.x-T,se.y-B))}setLocation(c){this.center=this.coordinateLocation(c),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(c){return this.projection.locationPoint(this,c)}locationPoint3D(c){return this.projection.locationPoint(this,c,!0)}pointLocation(c){return this.coordinateLocation(this.pointCoordinate(c))}pointLocation3D(c){return this.coordinateLocation(this.pointCoordinate3D(c))}locationCoordinate(c,p){const T=p?s.mercatorZfromAltitude(p,c.lat):void 0,B=this.projection.project(c.lng,c.lat);return new s.MercatorCoordinate(B.x,B.y,T)}coordinateLocation(c){return this.projection.unproject(c.x,c.y)}pointRayIntersection(c,p){const T=p??this._centerAltitude,B=[c.x,c.y,0,1],W=[c.x,c.y,1,1];s.transformMat4$1(B,B,this.pixelMatrixInverse),s.transformMat4$1(W,W,this.pixelMatrixInverse);const se=W[3];s.scale$1(B,B,1/B[3]),s.scale$1(W,W,1/se);const ue=B[2],me=W[2];return{p0:B,p1:W,t:ue===me?0:(T-ue)/(me-ue)}}screenPointToMercatorRay(c){const p=[c.x,c.y,0,1],T=[c.x,c.y,1,1];return s.transformMat4$1(p,p,this.pixelMatrixInverse),s.transformMat4$1(T,T,this.pixelMatrixInverse),s.scale$1(p,p,1/p[3]),s.scale$1(T,T,1/T[3]),p[2]=s.mercatorZfromAltitude(p[2],this._center.lat)*this.worldSize,T[2]=s.mercatorZfromAltitude(T[2],this._center.lat)*this.worldSize,s.scale$1(p,p,1/this.worldSize),s.scale$1(T,T,1/this.worldSize),new s.Ray([p[0],p[1],p[2]],s.normalize([],s.sub([],T,p)))}rayIntersectionCoordinate(c){const{p0:p,p1:T,t:B}=c,W=s.mercatorZfromAltitude(p[2],this._center.lat),se=s.mercatorZfromAltitude(T[2],this._center.lat);return new s.MercatorCoordinate(s.number(p[0],T[0],B)/this.worldSize,s.number(p[1],T[1],B)/this.worldSize,s.number(W,se,B))}pointCoordinate(c,p=this._centerAltitude){return this.projection.pointCoordinate(this,c.x,c.y,p)}pointCoordinate3D(c){if(!this.elevation)return this.pointCoordinate(c);let p=this.projection.pointCoordinate3D(this,c.x,c.y);if(p)return new s.MercatorCoordinate(p[0],p[1],p[2]);let T=0,B=this.horizonLineFromTop();if(c.y>B)return this.pointCoordinate(c);const W=.02*B,se=c.clone();for(let ue=0;ue<10&&B-T>W;ue++){se.y=s.number(T,B,.66);const me=this.projection.pointCoordinate3D(this,se.x,se.y);me?(B=se.y,p=me):T=se.y}return p?new s.MercatorCoordinate(p[0],p[1],p[2]):this.pointCoordinate(c)}isPointAboveHorizon(c){return this.projection.isPointAboveHorizon(this,c)}_coordinatePoint(c,p){const T=p&&this.elevation?this.elevation.getAtPointOrZero(c,this._centerAltitude):this._centerAltitude,B=[c.x*this.worldSize,c.y*this.worldSize,T+c.toAltitude(),1];return s.transformMat4$1(B,B,this.pixelMatrix),B[3]>0?new s.pointGeometry(B[0]/B[3],B[1]/B[3]):new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:c,left:p}=this._edgeInsets,T=this.height-this._edgeInsets.bottom,B=this.width-this._edgeInsets.right,W=this.pointCoordinate3D(new s.pointGeometry(p,c)),se=this.pointCoordinate3D(new s.pointGeometry(B,c)),ue=this.pointCoordinate3D(new s.pointGeometry(B,T)),me=this.pointCoordinate3D(new s.pointGeometry(p,T));let De=Math.min(W.x,me.x),Ae=Math.max(se.x,ue.x),Fe=Math.min(W.y,se.y),Ze=Math.max(me.y,ue.y);const at=Math.pow(2,-this.zoom)/16,lt=(St,jt,ii,Jt)=>{const Gt=(St+ii)/2,Mi=(jt+Jt)/2,Xt=new s.pointGeometry(Gt,Mi),yi=this.pointCoordinate3D(Xt),ri=Math.max(0,De-yi.x,Fe-yi.y,yi.x-Ae,yi.y-Ze);De=Math.min(De,yi.x),Ae=Math.max(Ae,yi.x),Fe=Math.min(Fe,yi.y),Ze=Math.max(Ze,yi.y),ri>at&&(lt(St,jt,Gt,Mi),lt(Gt,Mi,ii,Jt))};lt(p,c,B,c),lt(B,c,B,T),lt(B,T,p,T),lt(p,T,p,c);const[ut,et]=s.polesInViewport(this),nt=ut||et,mt=ut?90:s.latFromMercatorY(Fe),ct=nt?180:s.lngFromMercatorX(Ae),xt=et?-90:s.latFromMercatorY(Ze),Pt=nt?-180:s.lngFromMercatorX(De);return new s.LngLatBounds(new s.LngLat(Pt,xt),new s.LngLat(ct,mt))}_getBounds(c,p){if(this.projection.name==="globe")return this._getGlobeBounds();const T=new s.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),B=new s.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),W=new s.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),se=new s.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let ue=this.pointCoordinate(T,c),me=this.pointCoordinate(B,c);const De=this.pointCoordinate(W,p),Ae=this.pointCoordinate(se,p),Fe=(Ze,at)=>(at.y-Ze.y)/(at.x-Ze.x);return ue.y>1&&me.y>=0?ue=new s.MercatorCoordinate((1-Ae.y)/Fe(Ae,ue)+Ae.x,1):ue.y<0&&me.y<=1&&(ue=new s.MercatorCoordinate(-Ae.y/Fe(Ae,ue)+Ae.x,0)),me.y>1&&ue.y>=0?me=new s.MercatorCoordinate((1-De.y)/Fe(De,me)+De.x,1):me.y<0&&ue.y<=1&&(me=new s.MercatorCoordinate(-De.y/Fe(De,me)+De.x,0)),new s.LngLatBounds().extend(this.coordinateLocation(ue)).extend(this.coordinateLocation(me)).extend(this.coordinateLocation(Ae)).extend(this.coordinateLocation(De))}_getBounds3D(){const c=this.elevation;if(!c.visibleDemTiles.length||c.isUsingMockSource())return this._getBounds(0,0);const p=c.visibleDemTiles.reduce((T,B)=>{if(B.dem){const W=B.dem.tree;T.min=Math.min(T.min,W.minimums[0]),T.max=Math.max(T.max,W.maximums[0])}return T},{min:Number.MAX_VALUE,max:0});return this._getBounds(p.min*c.exaggeration(),p.max*c.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(c=!0){const p=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,T=this.height/2-p*(1-this._horizonShift);return c?Math.max(0,T):T}getMaxBounds(){return this.maxBounds}setMaxBounds(c){this.maxBounds=c,this.minLat=-s.MAX_MERCATOR_LATITUDE,this.maxLat=s.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,c&&(this.minLat=c.getSouth(),this.maxLat=c.getNorth(),this.minLng=c.getWest(),this.maxLng=c.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=s.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=s.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=s.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=s.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(c,p){return this.projection.createTileMatrix(this,p,c)}calculateDistanceTileData(c){const p=c.key,T=this._distanceTileDataCache;if(T[p])return T[p];const B=c.canonical,W=1/this.height,se=this.cameraWorldSize,ue=se/this.zoomScale(B.z),me=(B.x+Math.pow(2,B.z)*c.wrap)*ue,De=B.y*ue,Ae=this.point;Ae.x*=se/this.worldSize,Ae.y*=se/this.worldSize;const Fe=this.angle,Ze=Math.sin(-Fe),at=-Math.cos(-Fe);return T[p]={bearing:[Ze,at],center:[(Ae.x-me)*W,(Ae.y-De)*W],scale:ue/s.EXTENT*W},T[p]}calculateFogTileMatrix(c){const p=c.key,T=this._fogTileMatrixCache;if(T[p])return T[p];const B=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,c);return s.multiply(B,this.worldToFogMatrix,B),T[p]=new Float32Array(B),T[p]}calculateProjMatrix(c,p=!1){const T=c.key,B=p?this._alignedProjMatrixCache:this._projMatrixCache;if(B[T])return B[T];const W=this.calculatePosMatrix(c,this.worldSize);return s.multiply(W,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:p?this.alignedProjMatrix:this.projMatrix,W),B[T]=new Float32Array(W),B[T]}calculatePixelsToTileUnitsMatrix(c){const p=c.tileID.key,T=this._pixelsToTileUnitsCache;if(T[p])return T[p];const B=function(W,se){const{scale:ue}=W.tileTransform,me=ue*s.EXTENT/(W.tileSize*Math.pow(2,se.zoom-W.tileID.overscaledZ+W.tileID.canonical.z));return De=new Float32Array(4),Ze=(Ae=se.inverseAdjustmentMatrix)[1],at=Ae[2],lt=Ae[3],et=(Fe=[me,me])[1],De[0]=Ae[0]*(ut=Fe[0]),De[1]=Ze*ut,De[2]=at*et,De[3]=lt*et,De;var De,Ae,Fe,Ze,at,lt,ut,et}(c,this);return T[p]=B,T[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const c=this._elevation;this._updateCameraState();const p=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,T=this._computeCameraPosition(p),B=this._camera.forward(),W=s.mercatorZfromAltitude(1,this._center.lat);T[2]/=W,B[2]/=W,s.normalize(B,B);const se=c.raycast(T,B,c.exaggeration());if(se){const ue=s.scaleAndAdd([],T,B,se),me=new s.MercatorCoordinate(ue[0],ue[1],s.mercatorZfromAltitude(ue[2],s.latFromMercatorY(ue[1]))),De=(me.z+s.length([me.x-T[0],me.y-T[1],me.z-T[2]*W]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(De),this._centerAltitude=me.toAltitude(),this._center=this.coordinateLocation(me),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(c=!1){if(!this._elevation)return;const p=this._elevation,T=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,B=this._computeCameraPosition(T),W=p.getAtPointOrZero(new s.MercatorCoordinate(...B)),se=this.pixelsPerMeter/this.worldSize*W,ue=this._minimumHeightOverTerrain(),me=B[2]-se;if(me<=ue)if(me<0||c){const De=this.locationCoordinate(this._center,this._centerAltitude),Ae=[B[0],B[1],De.z-B[2]],Fe=s.length(Ae);Ae[2]-=(ue-me)/this._pixelsPerMercatorPixel;const Ze=s.length(Ae);if(Ze===0)return;s.scale$2(Ae,Ae,Fe/Ze*this._pixelsPerMercatorPixel),this._camera.position=[B[0],B[1],De.z*this._pixelsPerMercatorPixel-Ae[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const c=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||c){const Ze=this.center;return Ze.lat=s.clamp(Ze.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!c)&&(Ze.lng=s.clamp(Ze.lng,this.minLng,this.maxLng)),this.center=Ze,void(this._constraining=!1)}const p=this._unmodified,{x:T,y:B}=this.point;let W=0,se=T,ue=B;const me=this.width/2,De=this.height/2,Ae=this.worldMinY*this.scale,Fe=this.worldMaxY*this.scale;if(B-De<Ae&&(ue=Ae+De),B+De>Fe&&(ue=Fe-De),Fe-Ae<this.height&&(W=Math.max(W,this.height/(Fe-Ae)),ue=(Fe+Ae)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Ze=this.worldMinX*this.scale,at=this.worldMaxX*this.scale,lt=this.worldSize/2-(Ze+at)/2;se=(T+lt+this.worldSize)%this.worldSize-lt,se-me<Ze&&(se=Ze+me),se+me>at&&(se=at-me),at-Ze<this.width&&(W=Math.max(W,this.width/(at-Ze)),se=(at+Ze)/2)}se===T&&ue===B||(this.center=this.unproject(new s.pointGeometry(se,ue))),W&&(this.zoom+=this.scaleZoom(W)),this._constrainCamera(),this._unmodified=p,this._constraining=!1}_minZoomForBounds(){let c=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(c=Math.max(c,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),c}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=s.mercatorZfromAltitude(1,this.center.lat)/s.mercatorZfromAltitude(1,s.GLOBE_SCALE_MATCH_LATITUDE));const T=Ei(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,T),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const B=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?p:1),W=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);W[8]=2*-c.x/this.width,W[9]=2*c.y/this.height;let se=s.mul([],W,B);if(this.projection.isReprojectedInTileSpace){const Pt=this.locationCoordinate(this.center),St=s.identity([]);s.translate(St,St,[Pt.x*this.worldSize,Pt.y*this.worldSize,0]),s.multiply(St,St,$e(this)),s.translate(St,St,[-Pt.x*this.worldSize,-Pt.y*this.worldSize,0]),s.multiply(se,se,St),this.inverseAdjustmentMatrix=function(jt){const ii=$e(jt,!0);return $([],[ii[0],ii[1],ii[4],ii[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=s.scale([],se,[this.worldSize,this.worldSize,this.worldSize/p,1]),this.projMatrix=se,this.invProjMatrix=s.invert(new Float64Array(16),this.projMatrix);const ue=s.invert([],W);this.frustumCorners=s.FrustumCorners.fromInvProjectionMatrix(ue,this.horizonLineFromTop(),this.height);const me=new Float32Array(16);s.identity(me),s.scale(me,me,[1,-1,1]),s.rotateX(me,me,this._pitch),s.rotateZ(me,me,this.angle);const De=s.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Ae=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;De[8]=2*-c.x/this.width,De[9]=2*(c.y+Ae)/this.height,this.skyboxMatrix=s.multiply(me,De,me);const Fe=this.point,Ze=Fe.x,at=Fe.y,lt=this.width%2/2,ut=this.height%2/2,et=Math.cos(this.angle),nt=Math.sin(this.angle),mt=Ze-Math.round(Ze)+et*lt+nt*ut,ct=at-Math.round(at)+et*ut+nt*lt,xt=new Float64Array(se);if(s.translate(xt,xt,[mt>.5?mt-1:mt,ct>.5?ct-1:ct,0]),this.alignedProjMatrix=xt,se=s.create(),s.scale(se,se,[this.width/2,-this.height/2,1]),s.translate(se,se,[1,-1,0]),this.labelPlaneMatrix=se,se=s.create(),s.scale(se,se,[1,-1,1]),s.translate(se,se,[-1,-1,0]),s.scale(se,se,[2/this.width,2/this.height,1]),this.glCoordMatrix=se,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},se=s.invert(new Float64Array(16),this.pixelMatrix),!se)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=se,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=s.calculateGlobeMatrix(this);const Pt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=s.transformMat4(Pt,Pt,B),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=se;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const c=this.cameraWorldSizeForFog,p=this.cameraPixelsPerMeter,T=this._camera.position,B=1/this.height/this._pixelsPerMercatorPixel,W=[c,c,p];s.scale$2(W,W,B),s.scale$2(T,T,-1),s.multiply$2(T,T,W);const se=s.create();s.translate(se,se,T),s.scale(se,se,W),this.mercatorFogMatrix=se,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(c,p,B)}_computeCameraPosition(c){const p=(c=c||this.pixelsPerMeter)/this.pixelsPerMeter,T=this._camera.forward(),B=this.point,W=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*p-c/this.worldSize*this._centerAltitude;return[B.x/this.worldSize-T[0]*W,B.y/this.worldSize-T[1]*W,c/this.worldSize*this._centerAltitude-T[2]*W]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(c){const p=this._maxCameraBoundsDistance()*Math.cos(this._pitch),T=this._camera.position[2],B=c[2];let W=1;this.projection.wrap&&(this.center=this.center.wrap()),B>0&&(W=Math.min((p-T)/B,1)),this._camera.position=s.scaleAndAdd([],this._camera.position,c,W),this._updateStateFromCamera()}_updateStateFromCamera(){const c=this._camera.position,p=this._camera.forward(),{pitch:T,bearing:B}=this._camera.getPitchBearing(),W=s.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,se=this._mercatorZfromZoom(this._maxZoom)*Math.cos(s.degToRad(this._maxPitch)),ue=Math.max((c[2]-W)/Math.cos(T),se),me=this._zoomFromMercatorZ(ue);s.scaleAndAdd(c,c,p,ue),this._pitch=s.clamp(T,s.degToRad(this.minPitch),s.degToRad(this.maxPitch)),this.angle=s.wrap(B,-Math.PI,Math.PI),this._setZoom(s.clamp(me,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new s.MercatorCoordinate(c[0],c[1],c[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(c){return Math.pow(2,c)*this.tileSize}_mercatorZfromZoom(c){return this.cameraToCenterDistance/this._worldSizeFromZoom(c)}_minimumHeightOverTerrain(){const c=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(c)}_zoomFromMercatorZ(c){return this.scaleZoom(this.cameraToCenterDistance/(c*this.tileSize))}zoomFromMercatorZAdjusted(c){const p=se=>{const ue=this.getCameraToCenterDistance(this.projection,se);return this.scaleZoom(ue/(c*this.tileSize))};let T,B=p(this.zoom),W=Math.abs(B-p(B));for(;T!==W;)B=p(B),T=W,W=Math.abs(B-p(B));return B}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(s.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(c,p){const T=Math.min(c.x,p.x),B=Math.max(c.x,p.x),W=Math.min(c.y,p.y),se=Math.max(c.y,p.y);if(W<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const ue=[new s.pointGeometry(T,W),new s.pointGeometry(B,se),new s.pointGeometry(T,se),new s.pointGeometry(B,W)],me=this.renderWorldCopies?-3:0,De=this.renderWorldCopies?4:1;for(const Ae of ue){const Fe=this.pointRayIntersection(Ae);if(Fe.t<0)return!0;const Ze=this.rayIntersectionCoordinate(Fe);if(Ze.x<me||Ze.y<0||Ze.x>De||Ze.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+s.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new s.pointGeometry(0,0),new s.pointGeometry(this.width,this.height))}zoomDeltaToMovement(c,p){const T=s.length(s.sub([],this._camera.position,c)),B=this._zoomFromMercatorZ(T)+p;return T-this._mercatorZfromZoom(B)}getCameraPoint(){if(this.projection.name==="globe"){const c=function([p,T,B],W){const se=[p,T,B,1];s.transformMat4$1(se,se,W);const ue=se[3]=Math.max(se[3],1e-6);return se[0]/=ue,se[1]/=ue,se[2]/=ue,se}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new s.pointGeometry(c[0],c[1])}{const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.pointGeometry(0,c))}}getCameraToCenterDistance(c,p=this.zoom){const T=Ei(c,p,this.width,this.height,1024),B=c.pixelSpaceConversion(this.center.lat,this.worldSize,T);return .5/Math.tan(.5*this._fov)*this.height*B}getWorldToCameraMatrix(){const c=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&s.multiply(c,c,this.globeMatrix),c}}function Tl(_,c){let p=!1,T=null;const B=()=>{T=null,p&&(_(),T=setTimeout(B,c),p=!1)};return()=>(p=!0,T||B(),T)}class nn{constructor(c){this._hashName=c&&encodeURIComponent(c),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Tl(this._updateHashUnthrottled.bind(this),300)}addTo(c){return this._map=c,s.window.addEventListener("hashchange",this._onHashChange,!1),c.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),s.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const c=this._map;if(!c)return"";const p=Sl(c);if(this._hashName){const T=this._hashName;let B=!1;const W=s.window.location.hash.slice(1).split("&").map(se=>{const ue=se.split("=")[0];return ue===T?(B=!0,`${ue}=${p}`):se}).filter(se=>se);return B||W.push(`${T}=${p}`),`#${W.join("&")}`}return`#${p}`}_getCurrentHash(){const c=s.window.location.hash.replace("#","");if(this._hashName){let p;return c.split("&").map(T=>T.split("=")).forEach(T=>{T[0]===this._hashName&&(p=T)}),(p&&p[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._map;if(!c)return!1;const p=this._getCurrentHash();if(p.length>=3&&!p.some(T=>isNaN(T))){const T=c.dragRotate.isEnabled()&&c.touchZoomRotate.isEnabled()?+(p[3]||0):c.getBearing();return c.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:T,pitch:+(p[4]||0)}),!0}return!1}_updateHashUnthrottled(){const c=s.window.location.href.replace(/(#.+)?$/,this.getHashString());s.window.history.replaceState(s.window.history.state,null,c)}}function Sl(_,c){const p=_.getCenter(),T=Math.round(100*_.getZoom())/100,B=Math.ceil((T*Math.LN2+Math.log(512/360/.5))/Math.LN10),W=Math.pow(10,B),se=Math.round(p.lng*W)/W,ue=Math.round(p.lat*W)/W,me=_.getBearing(),De=_.getPitch();let Ae=c?`/${se}/${ue}/${T}`:`${T}/${ue}/${se}`;return(me||De)&&(Ae+="/"+Math.round(10*me)/10),De&&(Ae+=`/${Math.round(De)}`),Ae}const Dd={linearity:.3,easing:s.bezier(0,0,.3,1)},_h=s.extend({deceleration:2500,maxSpeed:1400},Dd),pp=s.extend({deceleration:20,maxSpeed:1400},Dd),zu=s.extend({deceleration:1e3,maxSpeed:360},Dd),Ef=s.extend({deceleration:1e3,maxSpeed:90},Dd);class fp{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=s.exported.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new s.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:W}of this._inertiaBuffer)p.zoom+=W.zoomDelta||0,p.bearing+=W.bearingDelta||0,p.pitch+=W.pitchDelta||0,W.panDelta&&p.pan._add(W.panDelta),W.around&&(p.around=W.around),W.pinchAround&&(p.pinchAround=W.pinchAround);const T=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,B={};if(p.pan.mag()){const W=Fs(p.pan.mag(),T,s.extend({},_h,c||{}));B.offset=p.pan.mult(W.amount/p.pan.mag()),B.center=this._map.transform.center,Nu(B,W)}if(p.zoom){const W=Fs(p.zoom,T,pp);B.zoom=this._map.transform.zoom+W.amount,Nu(B,W)}if(p.bearing){const W=Fs(p.bearing,T,zu);B.bearing=this._map.transform.bearing+s.clamp(W.amount,-179,179),Nu(B,W)}if(p.pitch){const W=Fs(p.pitch,T,Ef);B.pitch=this._map.transform.pitch+W.amount,Nu(B,W)}if(B.zoom||B.bearing){const W=p.pinchAround===void 0?p.around:p.pinchAround;B.around=W?this._map.unproject(W):this._map.getCenter()}return this.clear(),B.noMoveStart=!0,B}}function Nu(_,c){(!_.duration||_.duration<c.duration)&&(_.duration=c.duration,_.easing=c.easing)}function Fs(_,c,p){const{maxSpeed:T,linearity:B,deceleration:W}=p,se=s.clamp(_*B/(c/1e3),-T,T),ue=Math.abs(se)/(W*B);return{easing:p.easing,duration:1e3*ue,amount:se*(ue/2)}}class ms extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T,B={}){const W=U(p.getCanvasContainer(),T),se=p.unproject(W);super(c,s.extend({point:W,lngLat:se,originalEvent:T},B)),this._defaultPrevented=!1,this.target=p}}class vh extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T){const B=c==="touchend"?T.changedTouches:T.touches,W=E(p.getCanvasContainer(),B),se=W.map(me=>p.unproject(me)),ue=W.reduce((me,De,Ae,Fe)=>me.add(De.div(Fe.length)),new s.pointGeometry(0,0));super(c,{points:W,point:ue,lngLats:se,lngLat:p.unproject(ue),originalEvent:T}),this._defaultPrevented=!1}}class Fu extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T){super(c,{originalEvent:T}),this._defaultPrevented=!1}}class rm{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){this._mousedownPos=void 0}wheel(c){return this._firePreventable(new Fu(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new ms(c.type,this._map,c))}mouseup(c){this._map.fire(new ms(c.type,this._map,c))}preclick(c){const p=s.extend({},c);p.type="preclick",this._map.fire(new ms(p.type,this._map,p))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||(this.preclick(c),this._map.fire(new ms(c.type,this._map,c)))}dblclick(c){return this._firePreventable(new ms(c.type,this._map,c))}mouseover(c){this._map.fire(new ms(c.type,this._map,c))}mouseout(c){this._map.fire(new ms(c.type,this._map,c))}touchstart(c){return this._firePreventable(new vh(c.type,this._map,c))}touchmove(c){this._map.fire(new vh(c.type,this._map,c))}touchend(c){this._map.fire(new vh(c.type,this._map,c))}touchcancel(c){this._map.fire(new vh(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class qg{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(c){this._map.fire(new ms(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ms("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new ms(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class mp{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(M(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const T=p,B=this._startPos,W=this._lastPos;if(!B||!W||W.equals(T)||!this._box&&T.dist(B)<this._clickTolerance)return;this._lastPos=T,this._box||(this._box=z("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const se=Math.min(B.x,T.x),ue=Math.max(B.x,T.x),me=Math.min(B.y,T.y),De=Math.max(B.y,T.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${se}px,${me}px)`,this._box.style.width=ue-se+"px",this._box.style.height=De-me+"px")})}mouseupWindow(c,p){if(!this._active)return;const T=this._startPos,B=p;if(T&&c.button===0){if(this.reset(),H(),T.x!==B.x||T.y!==B.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:W=>W.fitScreenCoordinates(T,B,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",c)}}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),S(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new s.Event(c,{originalEvent:p}))}}function Mc(_,c){const p={};for(let T=0;T<_.length;T++)p[_[T].identifier]=c[T];return p}class xh{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(c,p,T){(this.centroid||T.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=c.timeStamp),T.length===this.numTouches&&(this.centroid=function(B){const W=new s.pointGeometry(0,0);for(const se of B)W._add(se);return W.div(B.length)}(p),this.touches=Mc(T,p)))}touchmove(c,p,T){if(this.aborted||!this.centroid)return;const B=Mc(T,p);for(const W in this.touches){const se=this.touches[W],ue=B[W];(!ue||ue.dist(se)>30)&&(this.aborted=!0)}}touchend(c,p,T){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),T.length===0){const B=!this.aborted&&this.centroid;if(this.reset(),B)return B}}}class Jc{constructor(c){this.singleTap=new xh(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(c,p,T){this.singleTap.touchstart(c,p,T)}touchmove(c,p,T){this.singleTap.touchmove(c,p,T)}touchend(c,p,T){const B=this.singleTap.touchend(c,p,T);if(B){const W=c.timeStamp-this.lastTime<500,se=!this.lastTap||this.lastTap.dist(B)<30;if(W&&se||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=B,this.count===this.numTaps)return this.reset(),B}}}class ju{constructor(){this._zoomIn=new Jc({numTouches:1,numTaps:2}),this._zoomOut=new Jc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,T){this._zoomIn.touchstart(c,p,T),this._zoomOut.touchstart(c,p,T)}touchmove(c,p,T){this._zoomIn.touchmove(c,p,T),this._zoomOut.touchmove(c,p,T)}touchend(c,p,T){const B=this._zoomIn.touchend(c,p,T),W=this._zoomOut.touchend(c,p,T);return B?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:se=>se.easeTo({duration:300,zoom:se.getZoom()+1,around:se.unproject(B)},{originalEvent:c})}):W?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:se=>se.easeTo({duration:300,zoom:se.getZoom()-1,around:se.unproject(W)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Id={0:1,2:2};class Ld{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(c,p){return!1}_move(c,p){return{}}mousedown(c,p){if(this._lastPoint)return;const T=ie(c);this._correctButton(c,T)&&(this._lastPoint=p,this._eventButton=T)}mousemoveWindow(c,p){const T=this._lastPoint;if(T){if(c.preventDefault(),this._eventButton!=null&&function(B,W){const se=Id[W];return B.buttons===void 0||(B.buttons&se)!==se}(c,this._eventButton))this.reset();else if(this._moved||!(p.dist(T)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(T,p)}}mouseupWindow(c){this._lastPoint&&ie(c)===this._eventButton&&(this._moved&&H(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ou extends Ld{mousedown(c,p){super.mousedown(c,p),this._lastPoint&&(this._active=!0)}_correctButton(c,p){return p===0&&!c.ctrlKey}_move(c,p){return{around:p,panDelta:p.sub(c)}}}class Mf extends Ld{_correctButton(c,p){return p===0&&c.ctrlKey||p===2}_move(c,p){const T=.8*(p.x-c.x);if(T)return this._active=!0,{bearingDelta:T}}contextmenu(c){c.preventDefault()}}class kf extends Ld{_correctButton(c,p){return p===0&&c.ctrlKey||p===2}_move(c,p){const T=-.5*(p.y-c.y);if(T)return this._active=!0,{pitchDelta:T}}contextmenu(c){c.preventDefault()}}class sm{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._minTouches=1,this._clickTolerance=p.clickTolerance||1,this.reset(),s.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new s.pointGeometry(0,0)}touchstart(c,p,T){return this._calculateTransform(c,p,T)}touchmove(c,p,T){if(this._active&&!(T.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(T.length===1&&!s.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return c.cancelable&&c.preventDefault(),this._calculateTransform(c,p,T)}}touchend(c,p,T){this._calculateTransform(c,p,T),this._active&&T.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,T){T.length>0&&(this._active=!0);const B=Mc(T,p),W=new s.pointGeometry(0,0),se=new s.pointGeometry(0,0);let ue=0;for(const De in B){const Ae=B[De],Fe=this._touches[De];Fe&&(W._add(Ae),se._add(Ae.sub(Fe)),ue++,B[De]=Ae)}if(this._touches=B,ue<this._minTouches||!se.mag())return;const me=se.div(ue);return this._sum._add(me),this._sum.mag()<this._clickTolerance?void 0:{around:W.div(ue),panDelta:me}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=z("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class gp{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(c){}_move(c,p,T){return{}}touchstart(c,p,T){this._firstTwoTouches||T.length<2||(this._firstTwoTouches=[T[0].identifier,T[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,T){const B=this._firstTwoTouches;if(!B)return;c.preventDefault();const[W,se]=B,ue=Qc(T,p,W),me=Qc(T,p,se);if(!ue||!me)return;const De=this._aroundCenter?null:ue.add(me).div(2);return this._move([ue,me],De,c)}touchend(c,p,T){if(!this._firstTwoTouches)return;const[B,W]=this._firstTwoTouches,se=Qc(T,p,B),ue=Qc(T,p,W);se&&ue||(this._active&&H(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Qc(_,c,p){for(let T=0;T<_.length;T++)if(_[T].identifier===p)return c[T]}function Uu(_,c){return Math.log(_/c)/Math.LN2}class $u extends gp{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const T=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Uu(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Uu(this._distance,T),pinchAround:p}}}function Af(_,c){return 180*_.angleWith(c)/Math.PI}class it extends gp{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const T=this._vector;if(this._vector=c[0].sub(c[1]),T&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Af(this._vector,T),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,T=this._startVector;if(!T)return!1;const B=Af(c,T);return Math.abs(B)<p}}function ed(_){return Math.abs(_.y)>Math.abs(_.x)}class bh extends gp{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(c){this._lastPoints=c,ed(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,T){const B=this._lastPoints;if(!B)return;const W=c[0].sub(B[0]),se=c[1].sub(B[1]);return this._map._cooperativeGestures&&!s.isFullscreen()&&T.touches.length<3||(this._valid=this.gestureBeginsVertically(W,se,T.timeStamp),!this._valid)?void 0:(this._lastPoints=c,this._active=!0,{pitchDelta:(W.y+se.y)/2*-.5})}gestureBeginsVertically(c,p,T){if(this._valid!==void 0)return this._valid;const B=c.mag()>=2,W=p.mag()>=2;if(!B&&!W)return;if(!B||!W)return this._firstMove==null&&(this._firstMove=T),T-this._firstMove<100&&void 0;const se=c.y>0==p.y>0;return ed(c)&&ed(p)&&se}}const al={panStep:100,bearingStep:15,pitchStep:10};class Jn{constructor(){const c=al;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,T=0,B=0,W=0,se=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?T=-1:(c.preventDefault(),W=-1);break;case 39:c.shiftKey?T=1:(c.preventDefault(),W=1);break;case 38:c.shiftKey?B=1:(c.preventDefault(),se=-1);break;case 40:c.shiftKey?B=-1:(c.preventDefault(),se=1);break;default:return}return this._rotationDisabled&&(T=0,B=0),{cameraAnimation:ue=>{const me=ue.getZoom();ue.easeTo({duration:300,easeId:"keyboardHandler",easing:Xg,zoom:p?Math.round(me)+p*(c.shiftKey?2:1):me,bearing:ue.getBearing()+T*this._bearingStep,pitch:ue.getPitch()+B*this._pitchStep,offset:[-W*this._panStep,-se*this._panStep],center:ue.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Xg(_){return _*(2-_)}const Pf=4.000244140625;class Zg{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(c.ctrlKey||c.metaKey||this.isZooming()||s.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let p=c.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const T=s.exported.now(),B=T-(this._lastWheelEventTime||0);this._lastWheelEventTime=T,p!==0&&p%Pf==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":B>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(B*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=U(this._el,c);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:p,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;this._type==="wheel"&&c.projection.wrap&&(c._center.lng>=180||c._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const p=()=>c._terrainEnabled()&&this._aroundCoord?c.computeZoomRelativeTo(this._aroundCoord):c.zoom;if(this._delta!==0){const me=this._type==="wheel"&&Math.abs(this._delta)>Pf?this._wheelZoomRate:this._defaultZoomRate;let De=2/(1+Math.exp(-Math.abs(this._delta*me)));this._delta<0&&De!==0&&(De=1/De);const Ae=p(),Fe=Math.pow(2,Ae),Ze=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):Fe;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(Ze*De))),this._type==="wheel"&&(this._startZoom=Ae,this._easing=this._smoothOutEasing(200)),this._delta=0}const T=typeof this._targetZoom=="number"?this._targetZoom:p(),B=this._startZoom,W=this._easing;let se,ue=!1;if(this._type==="wheel"&&B&&W){const me=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),De=W(me);se=s.number(B,T,De),me<1?this._frameId||(this._frameId=!0):ue=!0}else se=T,ue=!0;return this._active=!0,ue&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ue,zoomDelta:se-p(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=s.ease;if(this._prevEase){const T=this._prevEase,B=(s.exported.now()-T.start)/T.duration,W=T.easing(B+.01)-T.easing(B),se=.27/Math.sqrt(W*W+1e-4)*.01,ue=Math.sqrt(.0729-se*se);p=s.bezier(se,ue,.25,1)}return this._prevEase={start:s.exported.now(),duration:c,easing:p},p}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=z("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(s.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class au{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class td{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(c,p){return c.preventDefault(),{cameraAnimation:T=>{T.easeTo({duration:300,zoom:T.getZoom()+(c.shiftKey?-1:1),around:T.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class om{constructor(){this._tap=new Jc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(c,p,T){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?T.length>0&&(this._swipePoint=p[0],this._swipeTouch=T[0].identifier):this._tap.touchstart(c,p,T))}touchmove(c,p,T){if(this._tapTime){if(this._swipePoint){if(T[0].identifier!==this._swipeTouch)return;const B=p[0],W=B.y-this._swipePoint.y;return this._swipePoint=B,c.preventDefault(),this._active=!0,{zoomDelta:W/128}}}else this._tap.touchmove(c,p,T)}touchend(c,p,T){this._tapTime?this._swipePoint&&T.length===0&&this.reset():this._tap.touchend(c,p,T)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vu{constructor(c,p,T){this._el=c,this._mousePan=p,this._touchPan=T}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class kc{constructor(c,p,T){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=T}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class yp{constructor(c,p,T,B){this._el=c,this._touchZoom=p,this._touchRotate=T,this._tapDragZoom=B,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const en=_=>_.zoom||_.drag||_.pitch||_.rotate;class am extends s.Event{}class lm{constructor(){this.constants=[1,1,.01],this.radius=0}setup(c,p){const T=s.sub([],p,c);this.radius=s.length(T[2]<0?s.div([],T,this.constants):[T[0],T[1],0])}projectRay(c){s.div(c,c,this.constants),s.normalize(c,c),s.mul$1(c,c,this.constants);const p=s.scale$2([],c,this.radius);if(p[2]>0){const T=s.scale$2([],[0,0,1],s.dot(p,[0,0,1])),B=s.scale$2([],s.normalize([],[p[0],p[1],0]),this.radius),W=s.add([],p,s.scale$2([],s.sub([],s.add([],B,T),p),2));p[0]=W[0],p[1]=W[1]}return p}}function Od(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class wh{constructor(c,p){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fp(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new lm,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(p),s.bindAll(["handleEvent","handleWindowEvent"],this);const T=this._el;this._listeners=[[T,"touchstart",{passive:!0}],[T,"touchmove",{passive:!1}],[T,"touchend",void 0],[T,"touchcancel",void 0],[T,"mousedown",void 0],[T,"mousemove",void 0],[T,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[T,"mouseover",void 0],[T,"mouseout",void 0],[T,"dblclick",void 0],[T,"click",void 0],[T,"keydown",{capture:!1}],[T,"keyup",void 0],[T,"wheel",{passive:!1}],[T,"contextmenu",void 0],[s.window,"blur",void 0]];for(const[B,W,se]of this._listeners)B.addEventListener(W,B===s.window.document?this.handleWindowEvent:this.handleEvent,se)}destroy(){for(const[c,p,T]of this._listeners)c.removeEventListener(p,c===s.window.document?this.handleWindowEvent:this.handleEvent,T)}_addDefaultHandlers(c){const p=this._map,T=p.getCanvasContainer();this._add("mapEvent",new rm(p,c));const B=p.boxZoom=new mp(p,c);this._add("boxZoom",B);const W=new ju,se=new td;p.doubleClickZoom=new au(se,W),this._add("tapZoom",W),this._add("clickZoom",se);const ue=new om;this._add("tapDragZoom",ue);const me=p.touchPitch=new bh(p);this._add("touchPitch",me);const De=new Mf(c),Ae=new kf(c);p.dragRotate=new kc(c,De,Ae),this._add("mouseRotate",De,["mousePitch"]),this._add("mousePitch",Ae,["mouseRotate"]);const Fe=new ou(c),Ze=new sm(p,c);p.dragPan=new Vu(T,Fe,Ze),this._add("mousePan",Fe),this._add("touchPan",Ze,["touchZoom","touchRotate"]);const at=new it,lt=new $u;p.touchZoomRotate=new yp(T,lt,at,ue),this._add("touchRotate",at,["touchPan","touchZoom"]),this._add("touchZoom",lt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new qg(p));const ut=p.scrollZoom=new Zg(p,this);this._add("scrollZoom",ut,["mousePan"]);const et=p.keyboard=new Jn;this._add("keyboard",et);for(const nt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[nt]&&p[nt].enable(c[nt])}_add(c,p,T){this._handlers.push({handlerName:c,handler:p,allowed:T}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!en(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(c,p,T){for(const B in c)if(B!==T&&(!p||p.indexOf(B)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const p=[];for(const T of c)this._el.contains(T.target)&&p.push(T);return p}handleEvent(c,p){this._updatingCamera=!0;const T=c.type==="renderFrame",B=T?void 0:c,W={needsRenderFrame:!1},se={},ue={},me=c.touches?this._getMapTouches(c.touches):void 0,De=me?E(this._el,me):T?void 0:U(this._el,c);for(const{handlerName:Ze,handler:at,allowed:lt}of this._handlers){if(!at.isEnabled())continue;let ut;this._blockedByActive(ue,lt,Ze)?at.reset():at[p||c.type]&&(ut=at[p||c.type](c,De,me),this.mergeHandlerResult(W,se,ut,Ze,B),ut&&ut.needsRenderFrame&&this._triggerRenderFrame()),(ut||at.isActive())&&(ue[Ze]=at)}const Ae={};for(const Ze in this._previousActiveHandlers)ue[Ze]||(Ae[Ze]=B);this._previousActiveHandlers=ue,(Object.keys(Ae).length||Od(W))&&(this._changes.push([W,se,Ae]),this._triggerRenderFrame()),(Object.keys(ue).length||Od(W))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Fe}=W;Fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Fe(this._map))}mergeHandlerResult(c,p,T,B,W){if(!T)return;s.extend(c,T);const se={handlerName:B,originalEvent:T.originalEvent||W};T.zoomDelta!==void 0&&(p.zoom=se),T.panDelta!==void 0&&(p.drag=se),T.pitchDelta!==void 0&&(p.pitch=se),T.bearingDelta!==void 0&&(p.rotate=se)}_applyChanges(){const c={},p={},T={};for(const[B,W,se]of this._changes)B.panDelta&&(c.panDelta=(c.panDelta||new s.pointGeometry(0,0))._add(B.panDelta)),B.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+B.zoomDelta),B.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+B.bearingDelta),B.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+B.pitchDelta),B.around!==void 0&&(c.around=B.around),B.aroundCoord!==void 0&&(c.aroundCoord=B.aroundCoord),B.pinchAround!==void 0&&(c.pinchAround=B.pinchAround),B.noInertia&&(c.noInertia=B.noInertia),s.extend(p,W),s.extend(T,se);this._updateMapTransform(c,p,T),this._changes=[]}_updateMapTransform(c,p,T){const B=this._map,W=B.transform,se=mt=>[mt.x,mt.y,mt.z];if((mt=>{const ct=this._eventsInProgress.drag;return ct&&!this._handlersById[ct.handlerName].isActive()})()&&!Od(c)){const mt=W.zoom;W.cameraElevationReference="sea",W.recenterOnTerrain(),W.cameraElevationReference="ground",mt!==W.zoom&&this._map._update(!0)}if(W._isCameraConstrained&&B._stop(!0),!Od(c))return void this._fireEvents(p,T,!0);let{panDelta:ue,zoomDelta:me,bearingDelta:De,pitchDelta:Ae,around:Fe,aroundCoord:Ze,pinchAround:at}=c;W._isCameraConstrained&&(me>0&&(me=0),W._isCameraConstrained=!1),at!==void 0&&(Fe=at),(mt=>p.drag&&!this._eventsInProgress.drag)()&&Fe&&(this._dragOrigin=se(W.pointCoordinate3D(Fe)),this._trackingEllipsoid.setup(W._camera.position,this._dragOrigin)),W.cameraElevationReference="sea",B._stop(!0),Fe=Fe||B.transform.centerPoint,De&&(W.bearing+=De),Ae&&(W.pitch+=Ae),W._updateCameraState();const lt=[0,0,0];if(ue)if(W.projection.name==="mercator"){const mt=this._trackingEllipsoid.projectRay(W.screenPointToMercatorRay(Fe).dir),ct=this._trackingEllipsoid.projectRay(W.screenPointToMercatorRay(Fe.sub(ue)).dir);lt[0]=ct[0]-mt[0],lt[1]=ct[1]-mt[1]}else{const mt=W.pointCoordinate(Fe);if(W.projection.name==="globe"){ue=ue.rotate(-W.angle);const ct=W._pixelsPerMercatorPixel/W.worldSize;lt[0]=-ue.x*s.mercatorScale(s.latFromMercatorY(mt.y))*ct,lt[1]=-ue.y*s.mercatorScale(W.center.lat)*ct}else{const ct=W.pointCoordinate(Fe.sub(ue));mt&&ct&&(lt[0]=ct.x-mt.x,lt[1]=ct.y-mt.y)}}const ut=W.zoom,et=[0,0,0];if(me){const mt=se(Ze||W.pointCoordinate3D(Fe)),ct={dir:s.normalize([],s.sub([],mt,W._camera.position))};if(ct.dir[2]<0){const xt=W.zoomDeltaToMovement(mt,me);s.scale$2(et,ct.dir,xt)}}const nt=s.add(lt,lt,et);W._translateCameraConstrained(nt),me&&Math.abs(W.zoom-ut)>1e-4&&W.recenterOnTerrain(),W.cameraElevationReference="ground",this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,T,!0)}_fireEvents(c,p,T){const B=en(this._eventsInProgress),W=en(c),se={};for(const Ae in c){const{originalEvent:Fe}=c[Ae];this._eventsInProgress[Ae]||(se[`${Ae}start`]=Fe),this._eventsInProgress[Ae]=c[Ae]}!B&&W&&this._fireEvent("movestart",W.originalEvent);for(const Ae in se)this._fireEvent(Ae,se[Ae]);W&&this._fireEvent("move",W.originalEvent);for(const Ae in c){const{originalEvent:Fe}=c[Ae];this._fireEvent(Ae,Fe)}const ue={};let me;for(const Ae in this._eventsInProgress){const{handlerName:Fe,originalEvent:Ze}=this._eventsInProgress[Ae];this._handlersById[Fe].isActive()||(delete this._eventsInProgress[Ae],me=p[Fe]||Ze,ue[`${Ae}end`]=me)}for(const Ae in ue)this._fireEvent(Ae,ue[Ae]);const De=en(this._eventsInProgress);if(T&&(B||W)&&!De){this._updatingCamera=!0;const Ae=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Fe=Ze=>Ze!==0&&-this._bearingSnap<Ze&&Ze<this._bearingSnap;Ae?(Fe(Ae.bearing||this._map.getBearing())&&(Ae.bearing=0),this._map.easeTo(Ae,{originalEvent:me})):(this._map.fire(new s.Event("moveend",{originalEvent:me})),Fe(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new s.Event(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{this._frameId=void 0,this.handleEvent(new am("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Df="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Ac extends s.Evented{constructor(c,p){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,T){return c=s.pointGeometry.convert(c).mult(-1),this.panTo(this.transform.center,s.extend({offset:c},p),T)}panTo(c,p,T){return this.easeTo(s.extend({center:c},p),T)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,T){return this.easeTo(s.extend({zoom:c},p),T)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,T){return this.easeTo(s.extend({bearing:c},p),T)}resetNorth(c,p){return this.rotateTo(0,s.extend({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=s.LngLatBounds.convert(c);const T=p&&p.bearing||0,B=p&&p.pitch||0,W=c.getNorthWest(),se=c.getSouthEast();return this._cameraForBounds(this.transform,W,se,T,B,p)}_extendCameraOptions(c){const p={top:0,bottom:0,right:0,left:0};if(typeof(c=s.extend({padding:p,offset:[0,0],maxZoom:this.transform.maxZoom},c)).padding=="number"){const T=c.padding;c.padding={top:T,bottom:T,right:T,left:T}}return c.padding=s.extend(p,c.padding),c}_minimumAABBFrustumDistance(c,p){const T=p.max[0]-p.min[0],B=p.max[1]-p.min[1];return T/B>c.aspect?T/(2*Math.tan(.5*c.fovX)*c.aspect):B/(2*Math.tan(.5*c.fovY)*c.aspect)}_cameraForBoundsOnGlobe(c,p,T,B,W,se){const ue=c.clone(),me=this._extendCameraOptions(se);ue.bearing=B,ue.pitch=W;const De=s.LngLat.convert(p),Ae=s.LngLat.convert(T),Fe=.5*(De.lat+Ae.lat),Ze=.5*(De.lng+Ae.lng),at=s.latLngToECEF(Fe,Ze),lt=s.normalize([],at),ut=s.normalize([],s.cross([],lt,[0,1,0])),et=s.cross([],ut,lt),nt=[ut[0],ut[1],ut[2],0,et[0],et[1],et[2],0,lt[0],lt[1],lt[2],0,0,0,0,1],mt=[at,s.latLngToECEF(De.lat,De.lng),s.latLngToECEF(Ae.lat,De.lng),s.latLngToECEF(Ae.lat,Ae.lng),s.latLngToECEF(De.lat,Ae.lng),s.latLngToECEF(Fe,De.lng),s.latLngToECEF(Fe,Ae.lng),s.latLngToECEF(De.lat,Ze),s.latLngToECEF(Ae.lat,Ze)];let ct=s.Aabb.fromPoints(mt.map(Yt=>[s.dot(ut,Yt),s.dot(et,Yt),s.dot(lt,Yt)]));const xt=s.transformMat4([],ct.center,nt);s.squaredLength(xt)===0&&s.set(xt,0,0,1),s.normalize(xt,xt),s.scale$2(xt,xt,s.GLOBE_RADIUS),ue.center=s.ecefToLatLng(xt);const Pt=ue.getWorldToCameraMatrix(),St=s.invert(new Float64Array(16),Pt);ct=s.Aabb.applyTransform(ct,s.multiply([],Pt,nt)),s.transformMat4(xt,xt,Pt);const jt=.5*(ct.max[2]-ct.min[2]),ii=this._minimumAABBFrustumDistance(ue,ct),Jt=s.scale$2([],[0,0,1],jt),Gt=s.add(Jt,xt,Jt),Mi=ii+(ue.pitch===0?0:s.distance(xt,Gt)),Xt=ue.globeCenterInViewSpace,yi=s.sub([],xt,[Xt[0],Xt[1],Xt[2]]);s.normalize(yi,yi),s.scale$2(yi,yi,Mi);const ri=s.add([],xt,yi);s.transformMat4(ri,ri,St);const Ri=s.earthRadius/s.GLOBE_RADIUS,si=s.length(ri),Si=s.mercatorZfromAltitude(si*Ri-s.earthRadius,0),Ni=Math.min(ue.zoomFromMercatorZAdjusted(Si),me.maxZoom);return Ni>.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(ue.setProjection({name:"mercator"}),ue.zoom=Ni,this._cameraForBounds(ue,p,T,B,W,se)):{center:ue.center,zoom:Ni,bearing:B,pitch:W}}queryTerrainElevation(c,p){const T=this.transform.elevation;return T?(p=s.extend({},{exaggerated:!0},p),T.getAtPoint(s.MercatorCoordinate.fromLngLat(c),null,p.exaggerated)):null}_cameraForBounds(c,p,T,B,W,se){if(c.projection.name==="globe")return this._cameraForBoundsOnGlobe(c,p,T,B,W,se);const ue=c.clone(),me=this._extendCameraOptions(se),De=ue.padding;ue.bearing=B,ue.pitch=W;const Ae=s.LngLat.convert(p),Fe=s.LngLat.convert(T),Ze=new s.LngLat(Ae.lng,Fe.lat),at=new s.LngLat(Fe.lng,Ae.lat),lt=ue.project(Ae),ut=ue.project(Fe),et=this.queryTerrainElevation(Ae),nt=this.queryTerrainElevation(Fe),mt=this.queryTerrainElevation(Ze),ct=this.queryTerrainElevation(at),xt=[[lt.x,lt.y,Math.min(et||0,nt||0,mt||0,ct||0)],[ut.x,ut.y,Math.max(et||0,nt||0,mt||0,ct||0)]];let Pt=s.Aabb.fromPoints(xt);const St=ue.getWorldToCameraMatrix(),jt=s.invert(new Float64Array(16),St);Pt=s.Aabb.applyTransform(Pt,St);const ii=s.sub([],Pt.max,Pt.min),Jt=De.left||0,Gt=De.right||0,Mi=De.bottom||0,Xt=De.top||0,{left:yi,right:ri,top:Ri,bottom:si}=me.padding,Si=.5*(Jt+Gt),Ni=.5*(Xt+Mi),Yt=Math.min(ue.scaleZoom(ue.scale*Math.min((ue.width-(Jt+Gt+yi+ri))/ii[0],(ue.height-(Mi+Xt+si+Ri))/ii[1])),me.maxZoom),ni=ue.scale/ue.zoomScale(Yt);Pt=new s.Aabb([Pt.min[0]-(yi+Si)*ni,Pt.min[1]-(si+Ni)*ni,Pt.min[2]],[Pt.max[0]+(ri+Si)*ni,Pt.max[1]+(Ri+Ni)*ni,Pt.max[2]]);const mn=.5*ii[2],Sn=this._minimumAABBFrustumDistance(ue,Pt),gn=[0,0,1,0];s.transformMat4$1(gn,gn,St),s.normalize$2(gn,gn);const jn=s.scale$2([],gn,Sn+mn),or=s.add([],Pt.center,jn),kn=(typeof me.offset.x=="number"&&typeof me.offset.y=="number"?new s.pointGeometry(me.offset.x,me.offset.y):s.pointGeometry.convert(me.offset)).rotate(-s.degToRad(B));Pt.center[0]-=kn.x*ni,Pt.center[1]+=kn.y*ni,s.transformMat4(Pt.center,Pt.center,jt),s.transformMat4(or,or,jt);const ln=[Pt.center[0],Pt.center[1],or[2]*ue.pixelsPerMeter];s.scale$2(ln,ln,1/ue.worldSize);const is=s.lngFromMercatorX(ln[0]),Hr=s.latFromMercatorY(ln[1]),rs=Math.min(ue._zoomFromMercatorZ(ln[2]),me.maxZoom),es=new s.LngLat(is,Hr);return ue.mercatorFromTransition&&rs<.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(ue.setProjection({name:"globe"}),ue.zoom=rs,this._cameraForBounds(ue,p,T,B,W,se)):{center:es,zoom:rs,bearing:B,pitch:W}}fitBounds(c,p,T){const B=this.cameraForBounds(c,p);return this._fitInternal(B,p,T)}fitScreenCoordinates(c,p,T,B,W){const se=s.pointGeometry.convert(c),ue=s.pointGeometry.convert(p),me=new s.pointGeometry(Math.min(se.x,ue.x),Math.min(se.y,ue.y)),De=new s.pointGeometry(Math.max(se.x,ue.x),Math.max(se.y,ue.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(se,ue))return this;const Ae=this.transform.pointLocation3D(me),Fe=this.transform.pointLocation3D(De),Ze=this.transform.pointLocation3D(new s.pointGeometry(me.x,De.y)),at=this.transform.pointLocation3D(new s.pointGeometry(De.x,me.y)),lt=[Math.min(Ae.lng,Fe.lng,Ze.lng,at.lng),Math.min(Ae.lat,Fe.lat,Ze.lat,at.lat)],ut=[Math.max(Ae.lng,Fe.lng,Ze.lng,at.lng),Math.max(Ae.lat,Fe.lat,Ze.lat,at.lat)],et=B&&B.pitch?B.pitch:this.getPitch(),nt=this._cameraForBounds(this.transform,lt,ut,T,et,B);return this._fitInternal(nt,B,W)}_fitInternal(c,p,T){return c?(delete(p=s.extend(c,p)).padding,p.linear?this.easeTo(p,T):this.flyTo(p,T)):this}jumpTo(c,p){this.stop();const T=c.preloadOnly?this.transform.clone():this.transform;let B=!1,W=!1,se=!1;return"zoom"in c&&T.zoom!==+c.zoom&&(B=!0,T.zoom=+c.zoom),c.center!==void 0&&(T.center=s.LngLat.convert(c.center)),"bearing"in c&&T.bearing!==+c.bearing&&(W=!0,T.bearing=+c.bearing),"pitch"in c&&T.pitch!==+c.pitch&&(se=!0,T.pitch=+c.pitch),c.padding==null||T.isPaddingEqual(c.padding)||(T.padding=c.padding),c.preloadOnly?(this._preloadTiles(T),this):(this.fire(new s.Event("movestart",p)).fire(new s.Event("move",p)),B&&this.fire(new s.Event("zoomstart",p)).fire(new s.Event("zoom",p)).fire(new s.Event("zoomend",p)),W&&this.fire(new s.Event("rotatestart",p)).fire(new s.Event("rotate",p)).fire(new s.Event("rotateend",p)),se&&this.fire(new s.Event("pitchstart",p)).fire(new s.Event("pitch",p)).fire(new s.Event("pitchend",p)),this.fire(new s.Event("moveend",p)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||s.warnOnce(Df),this.transform.getFreeCameraOptions()}setFreeCameraOptions(c,p){const T=this.transform;if(!T.projection.supportsFreeCamera)return s.warnOnce(Df),this;this.stop();const B=T.zoom,W=T.pitch,se=T.bearing;T.setFreeCameraOptions(c);const ue=B!==T.zoom,me=W!==T.pitch,De=se!==T.bearing;return this.fire(new s.Event("movestart",p)).fire(new s.Event("move",p)),ue&&this.fire(new s.Event("zoomstart",p)).fire(new s.Event("zoom",p)).fire(new s.Event("zoomend",p)),De&&this.fire(new s.Event("rotatestart",p)).fire(new s.Event("rotate",p)).fire(new s.Event("rotateend",p)),me&&this.fire(new s.Event("pitchstart",p)).fire(new s.Event("pitch",p)).fire(new s.Event("pitchend",p)),this.fire(new s.Event("moveend",p)),this}easeTo(c,p){this._stop(!1,c.easeId),((c=s.extend({offset:[0,0],duration:500,easing:s.ease},c)).animate===!1||!c.essential&&s.exported.prefersReducedMotion)&&(c.duration=0);const T=this.transform,B=this.getZoom(),W=this.getBearing(),se=this.getPitch(),ue=this.getPadding(),me="zoom"in c?+c.zoom:B,De="bearing"in c?this._normalizeBearing(c.bearing,W):W,Ae="pitch"in c?+c.pitch:se,Fe="padding"in c?c.padding:T.padding,Ze=s.pointGeometry.convert(c.offset);let at,lt,ut;if(T.projection.name==="globe"){const Jt=s.MercatorCoordinate.fromLngLat(T.center),Gt=Ze.rotate(-T.angle);Jt.x+=Gt.x/T.worldSize,Jt.y+=Gt.y/T.worldSize;const Mi=Jt.toLngLat(),Xt=s.LngLat.convert(c.center||Mi);this._normalizeCenter(Xt),at=T.centerPoint.add(Gt),lt=new s.pointGeometry(Jt.x,Jt.y).mult(T.worldSize),ut=new s.pointGeometry(s.mercatorXfromLng(Xt.lng),s.mercatorYfromLat(Xt.lat)).mult(T.worldSize).sub(lt)}else{at=T.centerPoint.add(Ze);const Jt=T.pointLocation(at),Gt=s.LngLat.convert(c.center||Jt);this._normalizeCenter(Gt),lt=T.project(Jt),ut=T.project(Gt).sub(lt)}const et=T.zoomScale(me-B);let nt,mt;c.around&&(nt=s.LngLat.convert(c.around),mt=T.locationPoint(nt));const ct=this._zooming||me!==B,xt=this._rotating||W!==De,Pt=this._pitching||Ae!==se,St=!T.isPaddingEqual(Fe),jt=Jt=>Gt=>{if(ct&&(Jt.zoom=s.number(B,me,Gt)),xt&&(Jt.bearing=s.number(W,De,Gt)),Pt&&(Jt.pitch=s.number(se,Ae,Gt)),St&&(Jt.interpolatePadding(ue,Fe,Gt),at=Jt.centerPoint.add(Ze)),nt)Jt.setLocationAtPoint(nt,mt);else{const Mi=Jt.zoomScale(Jt.zoom-B),Xt=me>B?Math.min(2,et):Math.max(.5,et),yi=Math.pow(Xt,1-Gt),ri=Jt.unproject(lt.add(ut.mult(Gt*yi)).mult(Mi));Jt.setLocationAtPoint(Jt.renderWorldCopies?ri.wrap():ri,at)}return c.preloadOnly||this._fireMoveEvents(p),Jt};if(c.preloadOnly){const Jt=this._emulate(jt,c.duration,T);return this._preloadTiles(Jt),this}const ii={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=ct,this._rotating=xt,this._pitching=Pt,this._padding=St,this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,ii),this._ease(jt(T),Jt=>{T.recenterOnTerrain(),this._afterEase(p,Jt)},c),this}_prepareEase(c,p,T={}){this._moving=!0,this.transform.cameraElevationReference="sea",p||T.moving||this.fire(new s.Event("movestart",c)),this._zooming&&!T.zooming&&this.fire(new s.Event("zoomstart",c)),this._rotating&&!T.rotating&&this.fire(new s.Event("rotatestart",c)),this._pitching&&!T.pitching&&this.fire(new s.Event("pitchstart",c))}_fireMoveEvents(c){this.fire(new s.Event("move",c)),this._zooming&&this.fire(new s.Event("zoom",c)),this._rotating&&this.fire(new s.Event("rotate",c)),this._pitching&&this.fire(new s.Event("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const T=this._zooming,B=this._rotating,W=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,T&&this.fire(new s.Event("zoomend",c)),B&&this.fire(new s.Event("rotateend",c)),W&&this.fire(new s.Event("pitchend",c)),this.fire(new s.Event("moveend",c))}flyTo(c,p){if(!c.essential&&s.exported.prefersReducedMotion){const Yt=s.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Yt,p)}this.stop(),c=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},c);const T=this.transform,B=this.getZoom(),W=this.getBearing(),se=this.getPitch(),ue=this.getPadding(),me="zoom"in c?s.clamp(+c.zoom,T.minZoom,T.maxZoom):B,De="bearing"in c?this._normalizeBearing(c.bearing,W):W,Ae="pitch"in c?+c.pitch:se,Fe="padding"in c?c.padding:T.padding,Ze=T.zoomScale(me-B),at=s.pointGeometry.convert(c.offset);let lt=T.centerPoint.add(at);const ut=T.pointLocation(lt),et=s.LngLat.convert(c.center||ut);this._normalizeCenter(et);const nt=T.project(ut),mt=T.project(et).sub(nt);let ct=c.curve;const xt=Math.max(T.width,T.height),Pt=xt/Ze,St=mt.mag();if("minZoom"in c){const Yt=s.clamp(Math.min(c.minZoom,B,me),T.minZoom,T.maxZoom),ni=xt/T.zoomScale(Yt-B);ct=Math.sqrt(ni/St*2)}const jt=ct*ct;function ii(Yt){const ni=(Pt*Pt-xt*xt+(Yt?-1:1)*jt*jt*St*St)/(2*(Yt?Pt:xt)*jt*St);return Math.log(Math.sqrt(ni*ni+1)-ni)}function Jt(Yt){return(Math.exp(Yt)-Math.exp(-Yt))/2}function Gt(Yt){return(Math.exp(Yt)+Math.exp(-Yt))/2}const Mi=ii(0);let Xt=function(Yt){return Gt(Mi)/Gt(Mi+ct*Yt)},yi=function(Yt){return xt*((Gt(Mi)*(Jt(ni=Mi+ct*Yt)/Gt(ni))-Jt(Mi))/jt)/St;var ni},ri=(ii(1)-Mi)/ct;if(Math.abs(St)<1e-6||!isFinite(ri)){if(Math.abs(xt-Pt)<1e-6)return this.easeTo(c,p);const Yt=Pt<xt?-1:1;ri=Math.abs(Math.log(Pt/xt))/ct,yi=function(){return 0},Xt=function(ni){return Math.exp(Yt*ct*ni)}}c.duration="duration"in c?+c.duration:1e3*ri/("screenSpeed"in c?+c.screenSpeed/ct:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0);const Ri=W!==De,si=Ae!==se,Si=!T.isPaddingEqual(Fe),Ni=Yt=>ni=>{const mn=ni*ri,Sn=1/Xt(mn);Yt.zoom=ni===1?me:B+Yt.scaleZoom(Sn),Ri&&(Yt.bearing=s.number(W,De,ni)),si&&(Yt.pitch=s.number(se,Ae,ni)),Si&&(Yt.interpolatePadding(ue,Fe,ni),lt=Yt.centerPoint.add(at));const gn=ni===1?et:Yt.unproject(nt.add(mt.mult(yi(mn))).mult(Sn));return Yt.setLocationAtPoint(Yt.renderWorldCopies?gn.wrap():gn,lt),Yt._updateCameraOnTerrain(),c.preloadOnly||this._fireMoveEvents(p),Yt};if(c.preloadOnly){const Yt=this._emulate(Ni,c.duration,T);return this._preloadTiles(Yt),this}return this._zooming=!0,this._rotating=Ri,this._pitching=si,this._padding=Si,this._prepareEase(p,!1),this._ease(Ni(T),()=>this._afterEase(p),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const T=this._onEaseEnd;this._onEaseEnd=void 0,T.call(this,p)}if(!c){const T=this.handlers;T&&T.stop(!1)}return this}_ease(c,p,T){T.animate===!1||T.duration===0?(c(1),p()):(this._easeStart=s.exported.now(),this._easeOptions=T,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1),p=this._onEaseFrame;p&&p(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,p){c=s.wrap(c,-180,180);const T=Math.abs(c-p);return Math.abs(c-360-p)<T&&(c-=360),Math.abs(c+360-p)<T&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.maxBounds)return;const T=c.lng-p.center.lng;c.lng+=T>180?-360:T<-180?360:0}_emulate(c,p,T){const B=Math.ceil(15*p/1e3),W=[],se=c(T.clone());for(let ue=0;ue<=B;ue++){const me=se(ue/B);W.push(me.clone())}return W}}class If{constructor(c={}){this.options=c,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){const p=this.options&&this.options.compact;return this._map=c,this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=z("button","mapboxgl-ctrl-attrib-button",this._container),z("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=z("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),p===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const T=this._map._getUIString(`AttributionControl.${p}`);c.setAttribute("aria-label",T),c.removeAttribute("title"),c.firstElementChild&&c.firstElementChild.setAttribute("title",T)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));const p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(c){const T=p.reduce((B,W,se)=>(W.value&&(B+=`${W.key}=${W.value}${se<p.length-1?"&":""}`),B),"?");c.href=`${s.config.FEEDBACK_URL}/${T}#${Sl(this._map,!0)}`,c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}}_updateData(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let c=[];if(this._map.style.stylesheet){const B=this._map.style.stylesheet;this.styleOwner=B.owner,this.styleId=B.id}const p=this._map.style._sourceCaches;for(const B in p){const W=p[B];if(W.used){const se=W.getSource();se.attribution&&c.indexOf(se.attribution)<0&&c.push(se.attribution)}}c.sort((B,W)=>B.length-W.length),c=c.filter((B,W)=>{for(let se=W+1;se<c.length;se++)if(c[se].indexOf(B)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=[...this.options.customAttribution,...c]:c.unshift(this.options.customAttribution));const T=c.join(" | ");T!==this._attribHTML&&(this._attribHTML=T,c.length?(this._innerContainer.innerHTML=T,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Lf{constructor(){s.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(c){this._map=c,this._container=z("div","mapboxgl-ctrl");const p=z("a","mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://www.mapbox.com/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const c=this._map.style._sourceCaches;if(Object.entries(c).length===0)return!0;for(const p in c){const T=c[p].getSource();if(T.hasOwnProperty("mapbox_logo")&&!T.mapbox_logo)return!1}return!0}_updateCompact(){const c=this._container.children;if(c.length){const p=c[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("mapboxgl-compact"):p.classList.remove("mapboxgl-compact")}}}class Of{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,T=p?this._queue.concat(p):this._queue;for(const B of T)if(B.id===c)return void(B.cancelled=!0)}run(c=0){const p=this._currentlyRunning=this._queue;this._queue=[];for(const T of p)if(!T.cancelled&&(T.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Rf(_,c,p){if(_=new s.LngLat(_.lng,_.lat),c){const T=new s.LngLat(_.lng-360,_.lat),B=new s.LngLat(_.lng+360,_.lat),W=360*Math.ceil(Math.abs(_.lng-p.center.lng)/360),se=p.locationPoint(_).distSqr(c),ue=c.x<0||c.y<0||c.x>p.width||c.y>p.height;p.locationPoint(T).distSqr(c)<se&&(ue||Math.abs(T.lng-p.center.lng)<W)?_=T:p.locationPoint(B).distSqr(c)<se&&(ue||Math.abs(B.lng-p.center.lng)<W)&&(_=B)}for(;Math.abs(_.lng-p.center.lng)>180;){const T=p.locationPoint(_);if(T.x>=0&&T.y>=0&&T.x<=p.width&&T.y<=p.height)break;_.lng>p.center.lng?_.lng-=360:_.lng+=360}return _}const Gu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class rc extends s.Evented{constructor(c,p){if(super(),(c instanceof s.window.HTMLElement||p)&&(c=s.extend({element:c},p)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=c&&c.occludedOpacity||.2,c&&c.element)this._element=c.element,this._offset=s.pointGeometry.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=z("div");const B=41,W=27,se=q("svg",{display:"block",height:B*this._scale+"px",width:W*this._scale+"px",viewBox:`0 0 ${W} ${B}`},this._element),ue=q("radialGradient",{id:"shadowGradient"},q("defs",{},se));q("stop",{offset:"10%","stop-opacity":.4},ue),q("stop",{offset:"100%","stop-opacity":.05},ue),q("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},se),q("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},se),q("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},se),q("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},se),this._offset=s.pointGeometry.convert(c&&c.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",B=>{B.preventDefault()}),this._element.addEventListener("mousedown",B=>{B.preventDefault()});const T=this._element.classList;for(const B in Gu)T.remove(`mapboxgl-marker-anchor-${B}`);T.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(c){return c===this._map||(this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._updateMoving),c.on("moveend",this._update),c.on("remove",this._clearFadeTimer),c._addMarker(this),this.setDraggable(this._draggable),this._update(),c.on("click",this._onMapClick)),this}remove(){const c=this._map;return c&&(c.off("click",this._onMapClick),c.off("move",this._updateMoving),c.off("moveend",this._update),c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler),c.off("mouseup",this._onUp),c.off("touchend",this._onUp),c.off("mousemove",this._onMove),c.off("touchmove",this._onMove),c.off("remove",this._clearFadeTimer),c._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=s.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const B=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[B,-1*(38.1-13.5+B)],"bottom-right":[-B,-1*(38.1-13.5+B)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,c._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(c){const p=c.code,T=c.charCode||c.keyCode;p!=="Space"&&p!=="Enter"&&T!==32&&T!==13||this.togglePopup()}_onMapClick(c){const p=c.originalEvent.target,T=this._element;this._popup&&(p===T||T.contains(p))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?(c.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(c.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const c=this._map,p=this._pos;if(!c||!p)return!1;const T=c.unproject(p),B=c.getFreeCameraOptions();if(!B.position)return!1;const W=B.position.toLngLat();return W.distanceTo(T)<.9*W.distanceTo(this._lngLat)}_evaluateOpacity(){const c=this._map;if(!c)return;const p=this._pos;if(!p||p.x<0||p.x>c.transform.width||p.y<0||p.y>c.transform.height)return void this._clearFadeTimer();const T=c.unproject(p);let B;c._showingGlobe()&&s.isLngLatBehindGlobe(c.transform,this._lngLat)?B=0:(B=1-c._queryFogOpacity(T),c.transform._terrainEnabled()&&c.getTerrain()&&this._behindTerrain()&&(B*=this._occludedOpacity)),this._element.style.opacity=`${B}`,this._element.style.pointerEvents=B>0?"auto":"none",this._popup&&this._popup._setOpacity(B),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const c=this._pos;if(!c||!this._map)return;const p=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${c.x}px,${c.y}px)
            ${Gu[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${p.x}px,${p.y}px)
        `}_calculateXYTransform(){const c=this._pos,p=this._map,T=this.getPitchAlignment();if(!p||!c||T!=="map")return"";if(!p._showingGlobe()){const me=p.getPitch();return me?`rotateX(${me}deg)`:""}const B=s.radToDeg(s.globeTiltAtLngLat(p.transform,this._lngLat)),W=c.sub(s.globeCenterToScreenPoint(p.transform)),se=Math.abs(W.x)+Math.abs(W.y);if(se===0)return"";const ue=B/se;return`rotateX(${-W.y*ue}deg) rotateY(${W.x*ue}deg)`}_calculateZTransform(){const c=this._pos,p=this._map;if(!p||!c)return"";let T=0;const B=this.getRotationAlignment();if(B==="map")if(p._showingGlobe()){const W=p.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),se=p.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(W);T=s.radToDeg(Math.atan2(se.y,se.x))-90}else T=-p.getBearing();else if(B==="horizon"){const W=s.smoothstep(4,6,p.getZoom()),se=s.globeCenterToScreenPoint(p.transform);se.y+=W*p.transform.height;const ue=c.sub(se),me=s.radToDeg(Math.atan2(ue.y,ue.x));T=(me>90?me-270:me+90)*(1-W)}return T+=this._rotation,T?`rotateZ(${T}deg)`:""}_update(c){s.window.cancelAnimationFrame(this._updateFrameId);const p=this._map;p&&(p.transform.renderWorldCopies&&(this._lngLat=Rf(this._lngLat,this._pos,p.transform)),this._pos=p.project(this._lngLat),c===!0?this._updateFrameId=s.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),p._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(p._showingGlobe()||p.getTerrain()||p.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(c){return this._offset=s.pointGeometry.convert(c),this._update(),this}_onMove(c){const p=this._map;if(!p)return;const T=this._pointerdownPos,B=this._positionDelta;if(T&&B){if(!this._isDragging){const W=this._clickTolerance||p._clickTolerance;if(c.point.dist(T)<W)return;this._isDragging=!0}this._pos=c.point.sub(B),this._lngLat=p.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const c=this._map;c&&(c.off("mousemove",this._onMove),c.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(c){const p=this._map,T=this._pos;p&&T&&this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(T),this._pointerdownPos=c.point,this._state="pending",p.on("mousemove",this._onMove),p.on("touchmove",this._onMove),p.once("mouseup",this._onUp),p.once("touchend",this._onUp))}setDraggable(c){this._draggable=!!c;const p=this._map;return p&&(c?(p.on("mousedown",this._addDragHandler),p.on("touchstart",this._addDragHandler)):(p.off("mousedown",this._addDragHandler),p.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(c){return this._occludedOpacity=c||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const _p={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},cm=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ll(_=new s.pointGeometry(0,0),c="bottom"){if(typeof _=="number"){const p=Math.round(Math.sqrt(.5*Math.pow(_,2)));switch(c){case"top":return new s.pointGeometry(0,_);case"top-left":return new s.pointGeometry(p,p);case"top-right":return new s.pointGeometry(-p,p);case"bottom":return new s.pointGeometry(0,-_);case"bottom-left":return new s.pointGeometry(p,-p);case"bottom-right":return new s.pointGeometry(-p,-p);case"left":return new s.pointGeometry(_,0);case"right":return new s.pointGeometry(-_,0)}return new s.pointGeometry(0,0)}return _ instanceof s.pointGeometry||Array.isArray(_)?s.pointGeometry.convert(_):s.pointGeometry.convert(_[c]||[0,0])}class dm{constructor(c){this.jumpTo(c)}getValue(c){if(c<=this._startTime)return this._start;if(c>=this._endTime)return this._end;const p=s.easeCubicInOut((c-this._startTime)/(this._endTime-this._startTime));return this._start*(1-p)+this._end*p}isEasing(c){return c>=this._startTime&&c<=this._endTime}jumpTo(c){this._startTime=-1/0,this._endTime=-1/0,this._start=c,this._end=c}easeTo(c,p,T){this._start=this.getValue(p),this._end=c,this._startTime=p,this._endTime=p+T}}const um={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},hm={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},pm={showCompass:!0,showZoom:!0,visualizePitch:!1};class fm{constructor(c,p,T=!1){this._clickTolerance=10,this.element=p,this.mouseRotate=new Mf({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,T&&(this.mousePitch=new kf({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),p.addEventListener("mousedown",this.mousedown),p.addEventListener("touchstart",this.touchstart,{passive:!1}),p.addEventListener("touchmove",this.touchmove),p.addEventListener("touchend",this.touchend),p.addEventListener("touchcancel",this.reset)}down(c,p){this.mouseRotate.mousedown(c,p),this.mousePitch&&this.mousePitch.mousedown(c,p),M()}move(c,p){const T=this.map,B=this.mouseRotate.mousemoveWindow(c,p),W=B&&B.bearingDelta;if(W&&T.setBearing(T.getBearing()+W),this.mousePitch){const se=this.mousePitch.mousemoveWindow(c,p),ue=se&&se.pitchDelta;ue&&T.setPitch(T.getPitch()+ue)}}off(){const c=this.element;c.removeEventListener("mousedown",this.mousedown),c.removeEventListener("touchstart",this.touchstart,{passive:!1}),c.removeEventListener("touchmove",this.touchmove),c.removeEventListener("touchend",this.touchend),c.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){S(),s.window.removeEventListener("mousemove",this.mousemove),s.window.removeEventListener("mouseup",this.mouseup)}mousedown(c){this.down(s.extend({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),U(this.element,c)),s.window.addEventListener("mousemove",this.mousemove),s.window.addEventListener("mouseup",this.mouseup)}mousemove(c){this.move(c,U(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=E(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){c.targetTouches.length!==1?this.reset():(this._lastPos=E(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const vp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Bf={maxWidth:100,unit:"metric"};function mm(_,c,p){const T=zf(c),B=T/c,W={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[p];this._map._requestDomTask(()=>{this._container.style.width=_*B+"px",this._container.innerHTML=`${T}&nbsp;${W}`})}function zf(_){const c=Math.pow(10,`${Math.floor(_)}`.length-1);let p=_/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:p>=1?1:function(T){const B=Math.pow(10,Math.ceil(-Math.log(T)/Math.LN10));return Math.round(T*B)/B}(p),c*p}const lu={version:s.version,supported:R,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends Ac{constructor(_){if(s.LivePerformanceUtils.mark(s.PerformanceMarkers.create),(_=s.extend({},hm,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(_.antialias&&s.isSafariWithAntialiasingBug(s.window)&&(_.antialias=!1,s.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Ns(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),_),this._interactive=_.interactive,this._minTileCacheSize=_.minTileCacheSize,this._maxTileCacheSize=_.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=_.crossSourceCollisions,this._collectResourceTiming=_.collectResourceTiming,this._optimizeForTerrain=_.optimizeForTerrain,this._language=this._parseLanguage(_.language),this._worldview=_.worldview,this._renderTaskQueue=new Of,this._domRenderTaskQueue=new Of,this._controls=[],this._markers=[],this._popups=[],this._mapId=s.uniqueId(),this._locale=s.extend({},um,_.locale),this._clickTolerance=_.clickTolerance,this._cooperativeGestures=_.cooperativeGestures,this._performanceMetricsCollection=_.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new dm(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new s.RequestManager(_.transformRequest,_.accessToken,_.testMode),this._silenceAuthErrors=!!_.testMode,typeof _.container=="string"){if(this._container=s.window.document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof s.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(this._container.childNodes.length>0&&s.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),_.maxBounds&&this.setMaxBounds(_.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),s.window!==void 0&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1),s.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new wh(this,_),this._localFontFamily=_.localFontFamily,this._localIdeographFontFamily=_.localIdeographFontFamily,_.style&&this.setStyle(_.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),_.projection&&this.setProjection(_.projection),this._hash=_.hash&&new nn(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,s.extend({},_.fitBoundsOptions,{duration:0})))),this.resize(),_.attributionControl&&this.addControl(new If({customAttribution:_.customAttribution})),this._logoControl=new Lf,this.addControl(this._logoControl,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new s.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new s.Event(`${c.dataType}dataloading`,c))})}_getMapId(){return this._mapId}addControl(_,c){if(c===void 0&&(c=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=_.onAdd(this);this._controls.push(_);const T=this._controlPositions[c];return c.indexOf("bottom")!==-1?T.insertBefore(p,T.firstChild):T.appendChild(p),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(_);return c>-1&&this._controls.splice(c,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(_){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const c=!this._moving;return c&&this.fire(new s.Event("movestart",_)).fire(new s.Event("move",_)),this.fire(new s.Event("resize",_)),c&&this.fire(new s.Event("moveend",_)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(_){return this.transform.setMaxBounds(s.LngLatBounds.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_?this.setZoom(_):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_?this.setZoom(_):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_?this.setPitch(_):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_?this.setPitch(_):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(_){return _==="auto"?s.window.navigator.language:Array.isArray(_)?_.length===0?void 0:_.map(c=>c==="auto"?s.window.navigator.language:c):_}setLanguage(_){const c=this._parseLanguage(_);if(!this.style||c===this._language)return this;this._language=c,this.style._reloadSources();for(const p of this._controls)p._setLanguage&&p._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(_){return this.style&&_!==this._worldview?(this._worldview=_,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(_){return this._lazyInitEmptyStyle(),_?typeof _=="string"&&(_={name:_}):_=null,this._useExplicitProjection=!!_,this._prioritizeAndUpdateProjection(_,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const _=this.transform,c=_.projection.name;let p;c==="globe"&&_.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?(_.setMercatorFromTransition(),p=!0):c==="mercator"&&_.zoom<s.GLOBE_ZOOM_THRESHOLD_MAX&&(_.setProjection({name:"globe"}),p=!0),p&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(_,c){return this._updateProjection(_||c||{name:"mercator"})}_updateProjection(_){let c;if(c=_.name==="globe"&&this.transform.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(_),this.style.applyProjectionUpdate(),c){this.painter.clearBackgroundTiles();for(const p in this.style._sourceCaches)this.style._sourceCaches[p].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(_){return this.transform.locationPoint3D(s.LngLat.convert(_))}unproject(_){return this.transform.pointLocation3D(s.pointGeometry.convert(_))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(_,c,p){if(_==="mouseenter"||_==="mouseover"){let T=!1;const B=se=>{const ue=c.filter(De=>this.getLayer(De)),me=ue.length?this.queryRenderedFeatures(se.point,{layers:ue}):[];me.length?T||(T=!0,p.call(this,new ms(_,this,se.originalEvent,{features:me}))):T=!1},W=()=>{T=!1};return{layers:new Set(c),listener:p,delegates:{mousemove:B,mouseout:W}}}if(_==="mouseleave"||_==="mouseout"){let T=!1;const B=se=>{const ue=c.filter(me=>this.getLayer(me));(ue.length?this.queryRenderedFeatures(se.point,{layers:ue}):[]).length?T=!0:T&&(T=!1,p.call(this,new ms(_,this,se.originalEvent)))},W=se=>{T&&(T=!1,p.call(this,new ms(_,this,se.originalEvent)))};return{layers:new Set(c),listener:p,delegates:{mousemove:B,mouseout:W}}}{const T=B=>{const W=c.filter(ue=>this.getLayer(ue)),se=W.length?this.queryRenderedFeatures(B.point,{layers:W}):[];se.length&&(B.features=se,p.call(this,B),delete B.features)};return{layers:new Set(c),listener:p,delegates:{[_]:T}}}}on(_,c,p){if(p===void 0)return super.on(_,c);Array.isArray(c)||(c=[c]);const T=this._createDelegatedListener(_,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(T);for(const B in T.delegates)this.on(B,T.delegates[B]);return this}once(_,c,p){if(p===void 0)return super.once(_,c);Array.isArray(c)||(c=[c]);const T=this._createDelegatedListener(_,c,p);for(const B in T.delegates)this.once(B,T.delegates[B]);return this}off(_,c,p){if(p===void 0)return super.off(_,c);c=new Set(Array.isArray(c)?c:[c]);const T=(W,se)=>{if(W.size!==se.size)return!1;for(const ue of W)if(!se.has(ue))return!1;return!0},B=this._delegatedListeners?this._delegatedListeners[_]:void 0;return B&&(W=>{for(let se=0;se<W.length;se++){const ue=W[se];if(ue.listener===p&&T(ue.layers,c)){for(const me in ue.delegates)this.off(me,ue.delegates[me]);return W.splice(se,1),this}}})(B),this}queryRenderedFeatures(_,c){return this.style?(c!==void 0||_===void 0||_ instanceof s.pointGeometry||Array.isArray(_)||(c=_,_=void 0),this.style.queryRenderedFeatures(_=_||[[0,0],[this.transform.width,this.transform.height]],c=c||{},this.transform)):[]}querySourceFeatures(_,c){return this.style.querySourceFeatures(_,c)}setStyle(_,c){return(c=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&c.localFontFamily===this._localFontFamily&&this.style&&_?(this._diffStyle(_,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._localFontFamily=c.localFontFamily,this._updateStyle(_,c))}_getUIString(_){const c=this._locale[_];if(c==null)throw new Error(`Missing UI string '${_}'`);return c}_updateStyle(_,c){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),_&&(this.style=new Z(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_):this.style.loadJSON(_)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Z(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,c){if(typeof _=="string"){const p=this._requestManager.normalizeStyleURL(_),T=this._requestManager.transformRequest(p,s.ResourceType.Style);s.getJSON(T,(B,W)=>{B?this.fire(new s.ErrorEvent(B)):W&&this._updateDiff(W,c)})}else typeof _=="object"&&this._updateDiff(_,c)}_updateDiff(_,c){try{this.style.setState(_)&&this._update(!0)}catch(p){s.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(_,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(s.warnOnce("There is no style added to the map."),!1)}addSource(_,c){return this._lazyInitEmptyStyle(),this.style.addSource(_,c),this._update(!0)}isSourceLoaded(_){return!!this.style&&this.style._isSourceCacheLoaded(_)}areTilesLoaded(){const _=this.style&&this.style._sourceCaches;for(const c in _){const p=_[c]._tiles;for(const T in p){const B=p[T];if(B.state!=="loaded"&&B.state!=="errored")return!1}}return!0}addSourceType(_,c,p){this._lazyInitEmptyStyle(),this.style.addSourceType(_,c,p)}removeSource(_){return this.style.removeSource(_),this._updateTerrain(),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,c,{pixelRatio:p=1,sdf:T=!1,stretchX:B,stretchY:W,content:se}={}){if(this._lazyInitEmptyStyle(),c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap){const{width:ue,height:me,data:De}=s.exported.getImageData(c);this.style.addImage(_,{data:new s.RGBAImage({width:ue,height:me},De),pixelRatio:p,stretchX:B,stretchY:W,content:se,sdf:T,version:0})}else if(c.width===void 0||c.height===void 0)this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:ue,height:me}=c,De=c;this.style.addImage(_,{data:new s.RGBAImage({width:ue,height:me},new Uint8Array(De.data)),pixelRatio:p,stretchX:B,stretchY:W,content:se,sdf:T,version:0,userImage:De}),De.onAdd&&De.onAdd(this,_)}}updateImage(_,c){const p=this.style.getImage(_);if(!p)return void this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const T=c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap?s.exported.getImageData(c):c,{width:B,height:W}=T;B!==void 0&&W!==void 0?B===p.data.width&&W===p.data.height?(p.data.replace(T.data,!(c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap)),this.style.updateImage(_,p)):this.fire(new s.ErrorEvent(new Error(`The width and height of the updated image (${B}, ${W})
                must be that same as the previous version of the image
                (${p.data.width}, ${p.data.height})`))):this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,c){s.getImage(this._requestManager.transformRequest(_,s.ResourceType.Image),(p,T)=>{c(p,T instanceof s.window.HTMLImageElement?s.exported.getImageData(T):T)})}listImages(){return this.style.listImages()}addLayer(_,c){return this._lazyInitEmptyStyle(),this.style.addLayer(_,c),this._update(!0)}moveLayer(_,c){return this.style.moveLayer(_,c),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}setLayerZoomRange(_,c,p){return this.style.setLayerZoomRange(_,c,p),this._update(!0)}setFilter(_,c,p={}){return this.style.setFilter(_,c,p),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,c,p,T={}){return this.style.setPaintProperty(_,c,p,T),this._update(!0)}getPaintProperty(_,c){return this.style.getPaintProperty(_,c)}setLayoutProperty(_,c,p,T={}){return this.style.setLayoutProperty(_,c,p,T),this._update(!0)}getLayoutProperty(_,c){return this.style.getLayoutProperty(_,c)}setLight(_,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,c),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(_){return this._lazyInitEmptyStyle(),!_&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(_),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(_){return this._lazyInitEmptyStyle(),this.style.setFog(_),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(_){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(s.LngLat.convert(_),this.transform):0}setFeatureState(_,c){return this.style.setFeatureState(_,c),this._update()}removeFeatureState(_,c){return this.style.removeFeatureState(_,c),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}_updateContainerDimensions(){if(!this._container)return;const _=this._container.getBoundingClientRect().width||400,c=this._container.getBoundingClientRect().height||300;let p,T,B,W=this._container;for(;W&&(!T||!B);){const se=s.window.getComputedStyle(W).transform;se&&se!=="none"&&(p=se.match(/matrix.*\((.+)\)/)[1].split(", "),p[0]&&p[0]!=="0"&&p[0]!=="1"&&(T=p[0]),p[3]&&p[3]!=="0"&&p[3]!=="1"&&(B=p[3])),W=W.parentElement}this._containerWidth=T?Math.abs(_/T):_,this._containerHeight=B?Math.abs(c/B):c}_detectMissingCSS(){s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const _=this._container;_.classList.add("mapboxgl-map"),(this._missingCSSCanary=z("div","mapboxgl-canary",_)).style.visibility="hidden",this._detectMissingCSS();const c=this._canvasContainer=z("div","mapboxgl-canvas-container",_);this._interactive&&c.classList.add("mapboxgl-interactive"),this._canvas=z("canvas","mapboxgl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const p=this._controlContainer=z("div","mapboxgl-control-container",_),T=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(B=>{T[B]=z("div",`mapboxgl-ctrl-${B}`,p)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,c){const p=s.exported.devicePixelRatio||1;this._canvas.width=p*Math.ceil(_),this._canvas.height=p*Math.ceil(c),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${c}px`}_addMarker(_){this._markers.push(_)}_removeMarker(_){const c=this._markers.indexOf(_);c!==-1&&this._markers.splice(c,1)}_addPopup(_){this._popups.push(_)}_removePopup(_){const c=this._popups.indexOf(_);c!==-1&&this._popups.splice(c,1)}_setupPainter(){const _=s.extend({},R.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._canvas.getContext("webgl",_)||this._canvas.getContext("experimental-webgl",_);c?(s.storeAuthState(c,!0),this.painter=new Fn(c,this.transform),this.on("data",p=>{p.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),s.exported$1.testSupport(c)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(_){_.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:_}))}_contextRestored(_){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:_}))}_onMapScroll(_){if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_requestDomTask(_){!this.loaded()||this.loaded()&&!this.isMoving()?_():this._domRenderTaskQueue.add(_)}_render(_){let c;const p=this.painter.context.extTimerQuery,T=s.exported.now();if(this.listens("gpu-timing-frame")&&(c=p.createQueryEXT(),p.beginQueryEXT(p.TIME_ELAPSED_EXT,c)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],s.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],s.window.performance.now())),this._renderTaskQueue.run(_),this._domRenderTaskQueue.run(_),this._removed)return;this._updateProjectionTransition();const B=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const ue=this.transform.zoom,me=this.transform.pitch,De=s.exported.now(),Ae=new s.EvaluationParameters(ue,{now:De,fadeDuration:B,pitch:me,transition:this.style.getTransition()});this.style.update(Ae)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let W=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),W=this._updateAverageElevation(T),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):W=this._updateAverageElevation(T),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,B,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:B,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),c){const ue=s.exported.now()-T;p.endQueryEXT(p.TIME_ELAPSED_EXT,c),setTimeout(()=>{const me=p.getQueryObjectEXT(c,p.QUERY_RESULT_EXT)/1e6;p.deleteQueryEXT(c),this.fire(new s.Event("gpu-timing-frame",{cpuTime:ue,gpuTime:me})),s.window.performance.mark("frame-gpu",{startTime:T,detail:{gpuTime:me}})},50)}if(this.listens("gpu-timing-layer")){const ue=this.painter.collectGpuTimers();setTimeout(()=>{const me=this.painter.queryGpuTimers(ue);this.fire(new s.Event("gpu-timing-layer",{layerTimes:me}))},50)}if(this.listens("gpu-timing-deferred-render")){const ue=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const me=this.painter.queryGpuTimeDeferredRender(ue);this.fire(new s.Event("gpu-timing-deferred-render",{gpuTime:me}))},50)}const se=this._sourcesDirty||this._styleDirty||this._placementDirty||W;if(se||this._repaint)this.triggerRepaint();else{const ue=!this.isMoving()&&this.loaded();if(ue&&(W=this._updateAverageElevation(T,!0)),W)this.triggerRepaint();else if(this._triggerFrame(!1),ue&&(this.fire(new s.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const me=this._calculateSpeedIndex();this.fire(new s.Event("speedindexcompleted",{speedIndex:me})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||se||(this._fullyLoaded=!0,s.LivePerformanceUtils.mark(s.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&s.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(_){for(const c of this._markers)_&&!this.getRenderWorldCopies()&&(c._lngLat=c._lngLat.wrap()),c._update();for(const c of this._popups)!_||this.getRenderWorldCopies()||c._trackPointer||(c._lngLat=c._lngLat.wrap()),c._update()}_updateAverageElevation(_,c=!1){const p=T=>(this.transform.averageElevation=T,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&p(0);if((c||_-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(_)){const T=this.transform.averageElevation;let B=this.transform.sampleAverageElevation(),W=!1;this.transform.elevation&&(W=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(B)?B=0:this._averageElevationLastSampledAt=_;const se=Math.abs(T-B);if(se>1){if(this._isInitialLoad||W)return this._averageElevation.jumpTo(B),p(B);this._averageElevation.easeTo(B,_,300)}else if(se>1e-4)return this._averageElevation.jumpTo(B),p(B)}return!!this._averageElevation.isEasing(_)&&p(this._averageElevation.getValue(_))}_authenticate(){s.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,_=>{if(_&&(_.message===s.AUTH_ERR_MSG||_.status===401)){const c=this.painter.context.gl;s.storeAuthState(c,!1),this._logoControl instanceof Lf&&this._logoControl._updateLogo(),c&&c.clear(c.DEPTH_BUFFER_BIT|c.COLOR_BUFFER_BIT|c.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new s.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),s.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const _=this._isDragging();this.painter.updateTerrain(this.style,_)}_calculateSpeedIndex(){const _=this.painter.canvasCopy(),c=this.painter.getCanvasCopiesAndTimestamps();c.timeStamps.push(performance.now());const p=this.painter.context.gl,T=p.createFramebuffer();function B(W){p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,W,0);const se=new Uint8Array(p.drawingBufferWidth*p.drawingBufferHeight*4);return p.readPixels(0,0,p.drawingBufferWidth,p.drawingBufferHeight,p.RGBA,p.UNSIGNED_BYTE,se),se}return p.bindFramebuffer(p.FRAMEBUFFER,T),this._canvasPixelComparison(B(_),c.canvasCopies.map(B),c.timeStamps)}_canvasPixelComparison(_,c,p){let T=p[1]-p[0];const B=_.length/4;for(let W=0;W<c.length;W++){const se=c[W];let ue=0;for(let me=0;me<se.length;me+=4)se[me]===_[me]&&se[me+1]===_[me+1]&&se[me+2]===_[me+2]&&se[me+3]===_[me+3]&&(ue+=1);T+=(p[W+2]-p[W+1])*(1-ue/B)}return T}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),s.window!==void 0&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1),s.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),s.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(_){this._renderNextFrame=this._renderNextFrame||_,this.style&&!this._frame&&(this._frame=s.exported.frame(c=>{const p=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,p&&this._render(c)}))}_preloadTiles(_){const c=this.style?Object.values(this.style._sourceCaches):[];return s.asyncAll(c,(p,T)=>p._preloadTiles(_,T),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(_){this._trackResize&&this.resize({originalEvent:_})._update()}_onVisibilityChange(){s.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(_){this._showTerrainWireframe!==_&&(this._showTerrainWireframe=_,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(_){this._speedIndexTiming!==_&&(this._speedIndexTiming=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(_){this._showTileAABBs!==_&&(this._showTileAABBs=_,_&&this._update())}_setCacheLimits(_,c){s.setCacheLimits(_,c)}get version(){return s.version}},NavigationControl:class{constructor(_){this.options=s.extend({},pm,_),this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",c=>{this._map&&this._map.zoomIn({},{originalEvent:c})}),z("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",c=>{this._map&&this._map.zoomOut({},{originalEvent:c})}),z("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",c=>{const p=this._map;p&&(this.options.visualizePitch?p.resetNorthPitch({},{originalEvent:c}):p.resetNorth({},{originalEvent:c}))}),this._compassIcon=z("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _=this._map;if(!_)return;const c=_.getZoom(),p=c===_.getMaxZoom(),T=c===_.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=T,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",T.toString())}_rotateCompassArrow(){const _=this._map;if(!_)return;const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(_.transform.pitch*(Math.PI/180)),.5)}) rotateX(${_.transform.pitch}deg) rotateZ(${_.transform.angle*(180/Math.PI)}deg)`:`rotate(${_.transform.angle*(180/Math.PI)}deg)`;_._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=c)})}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),_.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&_.on("pitch",this._rotateCompassArrow),_.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fm(_,this._compass,this.options.visualizePitch)),this._container}onRemove(){const _=this._map;_&&(this._container.remove(),this.options.showZoom&&_.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&_.off("pitch",this._rotateCompassArrow),_.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(_,c){const p=z("button",_,this._container);return p.type="button",p.addEventListener("click",c),p}_setButtonTitle(_,c){if(!this._map)return;const p=this._map._getUIString(`NavigationControl.${c}`);_.setAttribute("aria-label",p),_.firstElementChild&&_.firstElementChild.setAttribute("title",p)}},GeolocateControl:class extends s.Evented{constructor(_){super(),this.options=s.extend({geolocation:s.window.navigator.geolocation},vp,_),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Tl(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(_){return this._map=_,this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(_){const c=(p=!!this.options.geolocation)=>{this._supportsGeolocation=p,_(p)};this._supportsGeolocation!==void 0?_(this._supportsGeolocation):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(p=>c(p.state!=="denied")).catch(()=>c()):c()}_isOutOfMapMaxBounds(_){const c=this._map.getMaxBounds(),p=_.coords;return!!c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(_){if(this._map){if(this._isOutOfMapMaxBounds(_))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",_)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(_),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(_),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",_)),this._finish()}}_updateCamera(_){const c=new s.LngLat(_.coords.longitude,_.coords.latitude),p=_.coords.accuracy,T=this._map.getBearing(),B=s.extend({bearing:T},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(p),B,{geolocateSource:!0})}_updateMarker(_){if(_){const c=new s.LngLat(_.coords.longitude,_.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=_.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const _=this._map.transform,c=s.mercatorZfromAltitude(1,_._center.lat)*_.worldSize,p=Math.ceil(2*this._accuracy*c);this._circleElement.style.width=`${p}px`,this._circleElement.style.height=`${p}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(_){if(this._map){if(this.options.trackUserLocation)if(_.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(_.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",_)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(_){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=z("button","mapboxgl-ctrl-geolocate",this._container),z("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",_===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=z("div","mapboxgl-user-location"),this._dotElement.appendChild(z("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(z("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new rc({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=z("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new rc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))})}}_onDeviceOrientation(_){this._userLocationDotMarker&&(_.webkitCompassHeading?this._heading=_.webkitCompassHeading:_.absolute===!0&&(this._heading=-1*_.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(_={maximumAge:6e5,timeout:0},this._noTimeout=!0):(_=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,_),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const _=()=>{s.window.addEventListener("ondeviceorientationabsolute"in s.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};s.window.DeviceMotionEvent!==void 0&&typeof s.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(c=>{c==="granted"&&_()}).catch(console.error):_()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),s.window.removeEventListener("deviceorientation",this._onDeviceOrientation),s.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:If,ScaleControl:class{constructor(_){this.options=s.extend({},Bf,_),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=mm.bind(this)),s.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const _=this.options.maxWidth||100,c=this._map,p=c._containerHeight/2,T=c._containerWidth/2-_/2,B=c.unproject([T,p]),W=c.unproject([T+_,p]),se=B.distanceTo(W);if(this.options.unit==="imperial"){const ue=3.2808*se;ue>5280?this._setScale(_,ue/5280,"mile"):this._setScale(_,ue,"foot")}else this.options.unit==="nautical"?this._setScale(_,se/1852,"nautical-mile"):se>=1e3?this._setScale(_,se/1e3,"kilometer"):this._setScale(_,se,"meter")}_setScale(_,c,p){const T=zf(c),B=T/c;this._map._requestDomTask(()=>{this._container.style.width=_*B+"px",this._container.innerHTML=p!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:p}).format(T):`${T}&nbsp;nm`})}onAdd(_){return this._map=_,this._language=_.getLanguage(),this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-scale",_.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(_){this._language=_,this._update()}setUnit(_){this.options.unit=_,this._update()}},FullscreenControl:class{constructor(_){this._fullscreen=!1,_&&_.container&&(_.container instanceof s.window.HTMLElement?this._container=_.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in s.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!s.window.document.fullscreenEnabled&&!s.window.document.webkitFullscreenEnabled)}_setupUI(){const _=this._fullscreenButton=z("button","mapboxgl-ctrl-fullscreen",this._controlContainer);z("span","mapboxgl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",_)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(s.window.document.fullscreenElement||s.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends s.Evented{constructor(_){super(),this.options=s.extend(Object.create(_p),_),s.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(_&&_.className?_.className.trim().split(/\s+/):[])}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&_.on("preclick",this._onClose),this.options.closeOnMove&&_.on("move",this._onClose),_.on("remove",this.remove),this._update(),_._addPopup(this),this._focusFirstElement(),this._trackPointer?(_.on("mousemove",this._onMouseEvent),_.on("mouseup",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")):_.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const _=this._map;return _&&(_.off("move",this._update),_.off("move",this._onClose),_.off("preclick",this._onClose),_.off("click",this._onClose),_.off("remove",this.remove),_.off("mousemove",this._onMouseEvent),_.off("mouseup",this._onMouseEvent),_.off("drag",this._onMouseEvent),_._canvasContainer&&_._canvasContainer.classList.remove("mapboxgl-track-pointer"),_._removePopup(this),this._map=void 0),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(_){this._lngLat=s.LngLat.convert(_),this._pos=null,this._trackPointer=!1,this._update();const c=this._map;return c&&(c.on("move",this._update),c.off("mousemove",this._onMouseEvent),c._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const _=this._map;return _&&(_.off("move",this._update),_.on("mousemove",this._onMouseEvent),_.on("drag",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(s.window.document.createTextNode(_))}setHTML(_){const c=s.window.document.createDocumentFragment(),p=s.window.document.createElement("body");let T;for(p.innerHTML=_;T=p.firstChild,T;)c.appendChild(T);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){let c=this._content;if(c)for(;c.hasChildNodes();)c.firstChild&&c.removeChild(c.firstChild);else c=this._content=z("div","mapboxgl-popup-content",this._container||void 0);if(c.appendChild(_),this.options.closeButton){const p=this._closeButton=z("button","mapboxgl-popup-close-button",c);p.type="button",p.setAttribute("aria-label","Close popup"),p.setAttribute("aria-hidden","true"),p.innerHTML="&#215;",p.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(_){return this._classList.add(_),this._updateClassList(),this}removeClassName(_){return this._classList.delete(_),this._updateClassList(),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){let c;return this._classList.delete(_)?c=!1:(this._classList.add(_),c=!0),this._updateClassList(),c}_onMouseEvent(_){this._update(_.point)}_getAnchor(_){if(this.options.anchor)return this.options.anchor;const c=this._map,p=this._container,T=this._pos;if(!c||!p||!T)return"bottom";const B=p.offsetWidth,W=p.offsetHeight,se=T.x<B/2,ue=T.x>c.transform.width-B/2;if(T.y+_<W)return se?"top-left":ue?"top-right":"top";if(T.y>c.transform.height-W){if(se)return"bottom-left";if(ue)return"bottom-right"}return se?"left":ue?"right":"bottom"}_updateClassList(){const _=this._container;if(!_)return;const c=[...this._classList];c.push("mapboxgl-popup"),this._anchor&&c.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&c.push("mapboxgl-popup-track-pointer"),_.className=c.join(" ")}_update(_){const c=this._map,p=this._content;if(!c||!this._lngLat&&!this._trackPointer||!p)return;let T=this._container;if(T||(T=this._container=z("div","mapboxgl-popup",c.getContainer()),this._tip=z("div","mapboxgl-popup-tip",T),T.appendChild(p)),this.options.maxWidth&&T.style.maxWidth!==this.options.maxWidth&&(T.style.maxWidth=this.options.maxWidth),c.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Rf(this._lngLat,this._pos,c.transform)),!this._trackPointer||_){const B=this._pos=this._trackPointer&&_?_:c.project(this._lngLat),W=ll(this.options.offset),se=this._anchor=this._getAnchor(W.y),ue=ll(this.options.offset,se),me=B.add(ue).round();c._requestDomTask(()=>{this._container&&se&&(this._container.style.transform=`${Gu[se]} translate(${me.x}px,${me.y}px)`)})}if(!this._marker&&c._showingGlobe()){const B=s.isLngLatBehindGlobe(c.transform,this._lngLat)?0:1;this._setOpacity(B)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(cm);_&&_.focus()}_onClose(){this.remove()}_setOpacity(_){this._container&&(this._container.style.opacity=`${_}`),this._content&&(this._content.style.pointerEvents=_?"auto":"none")}},Marker:rc,Style:Z,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.pointGeometry,MercatorCoordinate:s.MercatorCoordinate,FreeCameraOptions:we,Evented:s.Evented,config:s.config,prewarm:function(){Hi().acquire(Mn)},clearPrewarmedResources:function(){const _=un;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Mn),un=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(_){s.config.ACCESS_TOKEN=_},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(_){s.config.API_URL=_},get workerCount(){return Cn.workerCount},set workerCount(_){Cn.workerCount=_},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_){s.config.MAX_PARALLEL_IMAGE_REQUESTS=_},clearStorage(_){s.clearTileCache(_)},workerUrl:"",workerClass:null,setNow:s.exported.setNow,restoreNow:s.exported.restoreNow};return lu});var h=o;return h})})(I4);var b$=I4.exports;const vc=Mu(b$);var Wg=T$,w$=Object.prototype.hasOwnProperty;function T$(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)w$.call(n,r)&&(e[r]=n[r])}return e}var O4={exports:{}};(function(e,t){(function(){var n={};e.exports=n,n.simpleFilter=function(r,o){return o.filter(function(d){return n.test(r,d)})},n.test=function(r,o){return n.match(r,o)!==null},n.match=function(r,o,d){d=d||{};var h=0,s=[],v=o.length,R=0,J=0,k=d.pre||"",z=d.post||"",q=d.caseSensitive&&o||o.toLowerCase(),L;r=d.caseSensitive&&r||r.toLowerCase();for(var O=0;O<v;O++)L=o[O],q[O]===r[h]?(L=k+L+z,h+=1,J+=1+J):J=0,R+=J,s[s.length]=L;return h===r.length?(R=q===r?1/0:R,{rendered:s.join(""),score:R}):null},n.filter=function(r,o,d){return!o||o.length===0?[]:typeof r!="string"?o:(d=d||{},o.reduce(function(h,s,v,R){var J=s;d.extract&&(J=d.extract(s));var k=n.match(r,J,d);return k!=null&&(h[h.length]={string:k.rendered,score:k.score,index:v,original:s}),h},[]).sort(function(h,s){var v=s.score-h.score;return v||h.index-s.index}))}})()})(O4);var S$=O4.exports,Wc=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};Wc.prototype.show=function(){this.element.style.display="block"};Wc.prototype.hide=function(){this.element.style.display="none"};Wc.prototype.add=function(e){this.items.push(e)};Wc.prototype.clear=function(){this.items=[],this.active=0};Wc.prototype.isEmpty=function(){return!this.items.length};Wc.prototype.isVisible=function(){return this.element.style.display==="block"};Wc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};Wc.prototype.drawItem=function(e,t){var n=document.createElement("li"),r=document.createElement("a");t&&(n.className+=" active"),r.innerHTML=e.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),n.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};Wc.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};Wc.prototype.move=function(e){this.active=e,this.draw()};Wc.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};Wc.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};Wc.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var C$=Wc,E$=Wg,M$=S$,k$=C$,Vl=function(e,t,n){return n=n||{},this.options=E$({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=e,this.data=t||[],this.list=new k$(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(r){this.handleKeyUp(r.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(r){this.handleKeyDown(r)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(r){this.handlePaste(r)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};Vl.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};Vl.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};Vl.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};Vl.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};Vl.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var n=0;n<t.length&&(this.list.add(t[n]),n!==this.options.limit-1);n++);this.list.draw()}).bind(this))};Vl.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};Vl.prototype.update=function(e){this.data=e,this.handleKeyUp()};Vl.prototype.clear=function(){this.data=[],this.list.clear()};Vl.prototype.normalize=function(e){return e=e.toLowerCase(),e};Vl.prototype.match=function(e,t){return e.indexOf(t)>-1};Vl.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};Vl.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(r){return this.getItemValue(r)}).bind(this)},n;this.options.filter?(n=M$.filter(this.query,this.data,t),n=n.map((function(r){return{original:r.original,string:this.render(r.original,r.string)}}).bind(this))):n=this.data.map((function(r){var o=this.render(r);return{original:r,string:o}}).bind(this)),e(n)};Vl.prototype.getItemValue=function(e){return e};Vl.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),r=this.normalize(n),o=r.lastIndexOf(this.query);o>-1;){var d=o+this.query.length;n=n.slice(0,o)+"<strong>"+n.slice(o,d)+"</strong>"+n.slice(d),o=r.slice(0,o).lastIndexOf(this.query)}return n};Vl.prototype.renderError=function(e){this.list.drawError(e)};var A$=Vl,R4=A$,P$=R4;typeof window<"u"&&(window.Suggestions=R4);var D$="Expected a function",YE=0/0,I$="[object Symbol]",L$=/^\s+|\s+$/g,O$=/^[-+]0x[0-9a-f]+$/i,R$=/^0b[01]+$/i,B$=/^0o[0-7]+$/i,z$=parseInt,N$=typeof Ra=="object"&&Ra&&Ra.Object===Object&&Ra,F$=typeof self=="object"&&self&&self.Object===Object&&self,j$=N$||F$||Function("return this")(),U$=Object.prototype,$$=U$.toString,V$=Math.max,G$=Math.min,A3=function(){return j$.Date.now()};function H$(e,t,n){var r,o,d,h,s,v,R=0,J=!1,k=!1,z=!0;if(typeof e!="function")throw new TypeError(D$);t=qE(t)||0,BT(n)&&(J=!!n.leading,k="maxWait"in n,d=k?V$(qE(n.maxWait)||0,t):d,z="trailing"in n?!!n.trailing:z);function q(E){var ie=r,te=o;return r=o=void 0,R=E,h=e.apply(te,ie),h}function L(E){return R=E,s=setTimeout(M,t),J?q(E):h}function O(E){var ie=E-v,te=E-R,$=t-ie;return k?G$($,d-te):$}function G(E){var ie=E-v,te=E-R;return v===void 0||ie>=t||ie<0||k&&te>=d}function M(){var E=A3();if(G(E))return S(E);s=setTimeout(M,O(E))}function S(E){return s=void 0,z&&r?q(E):(r=o=void 0,h)}function P(){s!==void 0&&clearTimeout(s),R=0,r=v=o=s=void 0}function H(){return s===void 0?h:S(A3())}function U(){var E=A3(),ie=G(E);if(r=arguments,o=this,v=E,ie){if(s===void 0)return L(v);if(k)return s=setTimeout(M,t),q(v)}return s===void 0&&(s=setTimeout(M,t)),h}return U.cancel=P,U.flush=H,U}function BT(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function W$(e){return!!e&&typeof e=="object"}function Y$(e){return typeof e=="symbol"||W$(e)&&$$.call(e)==I$}function qE(e){if(typeof e=="number")return e;if(Y$(e))return YE;if(BT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=BT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(L$,"");var n=R$.test(e);return n||B$.test(e)?z$(e.slice(2),n?2:8):O$.test(e)?YE:+e}var q$=H$,I5={exports:{}},Sg=typeof Reflect=="object"?Reflect:null,XE=Sg&&typeof Sg.apply=="function"?Sg.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},kx;Sg&&typeof Sg.ownKeys=="function"?kx=Sg.ownKeys:Object.getOwnPropertySymbols?kx=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:kx=function(t){return Object.getOwnPropertyNames(t)};function X$(e){console&&console.warn&&console.warn(e)}var B4=Number.isNaN||function(t){return t!==t};function qs(){qs.init.call(this)}I5.exports=qs;I5.exports.once=Q$;qs.EventEmitter=qs;qs.prototype._events=void 0;qs.prototype._eventsCount=0;qs.prototype._maxListeners=void 0;var ZE=10;function s2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(qs,"defaultMaxListeners",{enumerable:!0,get:function(){return ZE},set:function(e){if(typeof e!="number"||e<0||B4(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");ZE=e}});qs.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};qs.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||B4(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function z4(e){return e._maxListeners===void 0?qs.defaultMaxListeners:e._maxListeners}qs.prototype.getMaxListeners=function(){return z4(this)};qs.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=t==="error",d=this._events;if(d!==void 0)o=o&&d.error===void 0;else if(!o)return!1;if(o){var h;if(n.length>0&&(h=n[0]),h instanceof Error)throw h;var s=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw s.context=h,s}var v=d[t];if(v===void 0)return!1;if(typeof v=="function")XE(v,this,n);else for(var R=v.length,J=$4(v,R),r=0;r<R;++r)XE(J[r],this,n);return!0};function N4(e,t,n,r){var o,d,h;if(s2(n),d=e._events,d===void 0?(d=e._events=Object.create(null),e._eventsCount=0):(d.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),d=e._events),h=d[t]),h===void 0)h=d[t]=n,++e._eventsCount;else if(typeof h=="function"?h=d[t]=r?[n,h]:[h,n]:r?h.unshift(n):h.push(n),o=z4(e),o>0&&h.length>o&&!h.warned){h.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=h.length,X$(s)}return e}qs.prototype.addListener=function(t,n){return N4(this,t,n,!1)};qs.prototype.on=qs.prototype.addListener;qs.prototype.prependListener=function(t,n){return N4(this,t,n,!0)};function Z$(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function F4(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=Z$.bind(r);return o.listener=n,r.wrapFn=o,o}qs.prototype.once=function(t,n){return s2(n),this.on(t,F4(this,t,n)),this};qs.prototype.prependOnceListener=function(t,n){return s2(n),this.prependListener(t,F4(this,t,n)),this};qs.prototype.removeListener=function(t,n){var r,o,d,h,s;if(s2(n),o=this._events,o===void 0)return this;if(r=o[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(d=-1,h=r.length-1;h>=0;h--)if(r[h]===n||r[h].listener===n){s=r[h].listener,d=h;break}if(d<0)return this;d===0?r.shift():K$(r,d),r.length===1&&(o[t]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};qs.prototype.off=qs.prototype.removeListener;qs.prototype.removeAllListeners=function(t){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var d=Object.keys(r),h;for(o=0;o<d.length;++o)h=d[o],h!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this};function j4(e,t,n){var r=e._events;if(r===void 0)return[];var o=r[t];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?J$(o):$4(o,o.length)}qs.prototype.listeners=function(t){return j4(this,t,!0)};qs.prototype.rawListeners=function(t){return j4(this,t,!1)};qs.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):U4.call(e,t)};qs.prototype.listenerCount=U4;function U4(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}qs.prototype.eventNames=function(){return this._eventsCount>0?kx(this._events):[]};function $4(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function K$(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function J$(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function Q$(e,t){return new Promise(function(n,r){function o(h){e.removeListener(t,d),r(h)}function d(){typeof e.removeListener=="function"&&e.removeListener("error",o),n([].slice.call(arguments))}V4(e,t,d,{once:!0}),t!=="error"&&eV(e,o,{once:!0})})}function eV(e,t,n){typeof e.on=="function"&&V4(e,"error",t,n)}function V4(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(d){r.once&&e.removeEventListener(t,o),n(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var tV=I5.exports,iV={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function nV(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function rV(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var n=t[1],r=t[2].split(";"),o=null,d=r.reduce(function(h,s){var v=nV(s);return v?v.key==="rel"?(o||(o=v.value),h):(h[v.key]=v.value,h):h},{});return o?{url:n,rel:o,params:d}:null}function sV(e){return e?e.split(/,\s*</).reduce(function(t,n){var r=rV(n);if(!r)return t;var o=r.rel.split(/\s+/);return o.forEach(function(d){t[d]||(t[d]={url:r.url,params:r.params})}),t},{}):{}}var oV=sV,aV=oV;function L5(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=aV(this.headers.link)}L5.prototype.hasNextPage=function(){return!!this.links.next};L5.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var lV=L5,o2={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},KE=o2;function cV(e){var t=e.type||KE.ERROR_HTTP,n;if(e.body)try{n=JSON.parse(e.body)}catch{n=e.body}else n=null;var r=e.message||null;r||(typeof n=="string"?r=n:n&&typeof n.message=="string"?r=n.message:t===KE.ERROR_REQUEST_ABORTED&&(r="Request aborted")),this.message=r,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=n}var dV=cV;function uV(e){var t=e.indexOf(":"),n=e.substring(0,t).trim().toLowerCase(),r=e.substring(t+1).trim();return{name:n,value:r}}function hV(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(n){var r=uV(n);t[r.name]=r.value}),t}var pV=hV,fV=lV,JE=dV,P3=o2,mV=pV,lb={};function gV(e){var t=lb[e.id];t&&(t.abort(),delete lb[e.id])}function yV(e,t){return new fV(e,{body:t.response,headers:mV(t.getAllResponseHeaders()),statusCode:t.status})}function QE(e){var t=e.total,n=e.loaded,r=100*n/t;return{total:t,transferred:n,percent:r}}function G4(e,t){return new Promise(function(n,r){t.onprogress=function(h){e.emitter.emit(P3.EVENT_PROGRESS_DOWNLOAD,QE(h))};var o=e.file;o&&(t.upload.onprogress=function(h){e.emitter.emit(P3.EVENT_PROGRESS_UPLOAD,QE(h))}),t.onerror=function(h){r(h)},t.onabort=function(){var h=new JE({request:e,type:P3.ERROR_REQUEST_ABORTED});r(h)},t.onload=function(){if(delete lb[e.id],t.status<200||t.status>=400){var h=new JE({request:e,body:t.response,statusCode:t.status});r(h);return}n(t)};var d=e.body;typeof d=="string"?t.send(d):d?t.send(JSON.stringify(d)):o?t.send(o):t.send(),lb[e.id]=t}).then(function(n){return yV(e,n)})}function H4(e,t){var n=e.url(t),r=new window.XMLHttpRequest;return r.open(e.method,n),Object.keys(e.headers).forEach(function(o){r.setRequestHeader(o,e.headers[o])}),r}function _V(e){return Promise.resolve().then(function(){var t=H4(e,e.client.accessToken);return G4(e,t)})}var vV={browserAbort:gV,sendRequestXhr:G4,browserSend:_V,createRequestXhr:H4},cb={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */cb.exports;(function(e,t){(function(n){var r=t,o=e&&e.exports==r&&e,d=typeof Ra=="object"&&Ra;(d.global===d||d.window===d)&&(n=d);var h=function(L){this.message=L};h.prototype=new Error,h.prototype.name="InvalidCharacterError";var s=function(L){throw new h(L)},v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=/[\t\n\f\r ]/g,J=function(L){L=String(L).replace(R,"");var O=L.length;O%4==0&&(L=L.replace(/==?$/,""),O=L.length),(O%4==1||/[^+a-zA-Z0-9/]/.test(L))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var G=0,M,S,P="",H=-1;++H<O;)S=v.indexOf(L.charAt(H)),M=G%4?M*64+S:S,G++%4&&(P+=String.fromCharCode(255&M>>(-2*G&6)));return P},k=function(L){L=String(L),/[^\0-\xFF]/.test(L)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var O=L.length%3,G="",M=-1,S,P,H,U,E=L.length-O;++M<E;)S=L.charCodeAt(M)<<16,P=L.charCodeAt(++M)<<8,H=L.charCodeAt(++M),U=S+P+H,G+=v.charAt(U>>18&63)+v.charAt(U>>12&63)+v.charAt(U>>6&63)+v.charAt(U&63);return O==2?(S=L.charCodeAt(M)<<8,P=L.charCodeAt(++M),U=S+P,G+=v.charAt(U>>10)+v.charAt(U>>4&63)+v.charAt(U<<2&63)+"="):O==1&&(U=L.charCodeAt(M),G+=v.charAt(U>>2)+v.charAt(U<<4&63)+"=="),G},z={encode:k,decode:J,version:"0.1.0"};if(r&&!r.nodeType)if(o)o.exports=z;else for(var q in z)z.hasOwnProperty(q)&&(r[q]=z[q]);else n.base64=z})(Ra)})(cb,cb.exports);var xV=cb.exports,bV=xV,D3={};function wV(e){if(D3[e])return D3[e];var t=e.split("."),n=t[0],r=t[1];if(!r)throw new Error("Invalid token");var o=TV(r),d={usage:n,user:o.u};return b0(o,"a")&&(d.authorization=o.a),b0(o,"exp")&&(d.expires=o.exp*1e3),b0(o,"iat")&&(d.created=o.iat*1e3),b0(o,"scopes")&&(d.scopes=o.scopes),b0(o,"client")&&(d.client=o.client),b0(o,"ll")&&(d.lastLogin=o.ll),b0(o,"iu")&&(d.impersonator=o.iu),D3[e]=d,d}function TV(e){try{return JSON.parse(bV.decode(e))}catch{throw new Error("Invalid token")}}function b0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var W4=wV,Y4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(v,R,J){this.fn=v,this.context=R,this.once=J||!1}function d(v,R,J,k,z){if(typeof J!="function")throw new TypeError("The listener must be a function");var q=new o(J,k||v,z),L=n?n+R:R;return v._events[L]?v._events[L].fn?v._events[L]=[v._events[L],q]:v._events[L].push(q):(v._events[L]=q,v._eventsCount++),v}function h(v,R){--v._eventsCount===0?v._events=new r:delete v._events[R]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var R=[],J,k;if(this._eventsCount===0)return R;for(k in J=this._events)t.call(J,k)&&R.push(n?k.slice(1):k);return Object.getOwnPropertySymbols?R.concat(Object.getOwnPropertySymbols(J)):R},s.prototype.listeners=function(R){var J=n?n+R:R,k=this._events[J];if(!k)return[];if(k.fn)return[k.fn];for(var z=0,q=k.length,L=new Array(q);z<q;z++)L[z]=k[z].fn;return L},s.prototype.listenerCount=function(R){var J=n?n+R:R,k=this._events[J];return k?k.fn?1:k.length:0},s.prototype.emit=function(R,J,k,z,q,L){var O=n?n+R:R;if(!this._events[O])return!1;var G=this._events[O],M=arguments.length,S,P;if(G.fn){switch(G.once&&this.removeListener(R,G.fn,void 0,!0),M){case 1:return G.fn.call(G.context),!0;case 2:return G.fn.call(G.context,J),!0;case 3:return G.fn.call(G.context,J,k),!0;case 4:return G.fn.call(G.context,J,k,z),!0;case 5:return G.fn.call(G.context,J,k,z,q),!0;case 6:return G.fn.call(G.context,J,k,z,q,L),!0}for(P=1,S=new Array(M-1);P<M;P++)S[P-1]=arguments[P];G.fn.apply(G.context,S)}else{var H=G.length,U;for(P=0;P<H;P++)switch(G[P].once&&this.removeListener(R,G[P].fn,void 0,!0),M){case 1:G[P].fn.call(G[P].context);break;case 2:G[P].fn.call(G[P].context,J);break;case 3:G[P].fn.call(G[P].context,J,k);break;case 4:G[P].fn.call(G[P].context,J,k,z);break;default:if(!S)for(U=1,S=new Array(M-1);U<M;U++)S[U-1]=arguments[U];G[P].fn.apply(G[P].context,S)}}return!0},s.prototype.on=function(R,J,k){return d(this,R,J,k,!1)},s.prototype.once=function(R,J,k){return d(this,R,J,k,!0)},s.prototype.removeListener=function(R,J,k,z){var q=n?n+R:R;if(!this._events[q])return this;if(!J)return h(this,q),this;var L=this._events[q];if(L.fn)L.fn===J&&(!z||L.once)&&(!k||L.context===k)&&h(this,q);else{for(var O=0,G=[],M=L.length;O<M;O++)(L[O].fn!==J||z&&!L[O].once||k&&L[O].context!==k)&&G.push(L[O]);G.length?this._events[q]=G.length===1?G[0]:G:h(this,q)}return this},s.prototype.removeAllListeners=function(R){var J;return R?(J=n?n+R:R,this._events[J]&&h(this,J)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(Y4);var SV=Y4.exports;function CV(e){return e.map(encodeURIComponent).join(",")}function q4(e){return Array.isArray(e)?CV(e):encodeURIComponent(String(e))}function X4(e,t,n){if(n===!1||n===null)return e;var r=/\?/.test(e)?"&":"?",o=encodeURIComponent(t);return n!==void 0&&n!==""&&n!==!0&&(o+="="+q4(n)),""+e+r+o}function EV(e,t){if(!t)return e;var n=e;return Object.keys(t).forEach(function(r){var o=t[r];o!==void 0&&(Array.isArray(o)&&(o=o.filter(function(d){return d!=null}).join(",")),n=X4(n,r,o))}),n}function MV(e,t){if(!t||e.slice(0,4)==="http")return e;var n=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+n+e}function kV(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(n,r){var o=t[r];if(o===void 0)throw new Error("Unspecified route parameter "+r);var d=q4(o);return"/"+d}):e}var AV={appendQueryObject:EV,appendQueryParam:X4,prependOrigin:MV,interpolateRouteParams:kV},PV=W4,O5=Wg,DV=SV,hx=AV,eM=o2,IV=1;function vf(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};t.body&&(n["content-type"]="application/json");var r=O5(n,t.headers),o=Object.keys(r).reduce(function(d,h){return d[h.toLowerCase()]=r[h],d},{});this.id=IV++,this._options=t,this.emitter=new DV,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=o}vf.prototype.url=function(t){var n=hx.prependOrigin(this.path,this.origin);n=hx.appendQueryObject(n,this.query);var r=this.params,o=t??this.client.accessToken;if(o){n=hx.appendQueryParam(n,"access_token",o);var d=PV(o).user;r=O5({ownerId:d},r)}return n=hx.interpolateRouteParams(n,r),n};vf.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(n){return t.response=n,t.emitter.emit(eM.EVENT_RESPONSE,n),n},function(n){throw t.error=n,t.emitter.emit(eM.EVENT_ERROR,n),n})};vf.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};vf.prototype.eachPage=function(t){var n=this;function r(h){function s(){delete n._nextPageRequest;var v=h.nextPage();v&&(n._nextPageRequest=v,d(v))}t(null,h,s)}function o(h){t(h,null,function(){})}function d(h){h.send().then(r,o)}d(this)};vf.prototype.clone=function(){return this._extend()};vf.prototype._extend=function(t){var n=O5(this._options,t);return new vf(this.client,n)};var LV=vf,OV=W4,RV=LV,BV=o2;function Z4(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");OV(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||BV.API_ORIGIN}Z4.prototype.createRequest=function(t){return new RV(this,t)};var K4=Z4,J4=vV,Q4=K4;function zg(e){Q4.call(this,e)}zg.prototype=Object.create(Q4.prototype);zg.prototype.constructor=zg;zg.prototype.sendRequest=J4.browserSend;zg.prototype.abortRequest=J4.browserAbort;function zV(e){return new zg(e)}var e6=zV,NV=e6,FV=NV,jV=Object.prototype.toString,UV=function(e){var t;return jV.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},$V=UV,VV=Wg,t6="value",I3=`
  `,fo={};fo.assert=function(e,t){return t=t||{},function(n){var r=xf(e,n);if(r){var o=R5(r,t);throw t.apiName&&(o=t.apiName+": "+o),new Error(o)}}};fo.shape=function(t){var n=YV(t);return function(o){var d=xf(fo.plainObject,o);if(d)return d;for(var h,s,v=[],R=0;R<n.length;R++)h=n[R].key,s=n[R].value,d=xf(s,o[h]),d&&v.push([h].concat(d));return v.length<2?v[0]:function(J){v=v.map(function(q){var L=q[0],O=R5(q,J).split(`
`).join(I3);return"- "+L+": "+O});var k=J.path.join("."),z=k===t6?"":" of "+k;return"The following properties"+z+" have invalid values:"+I3+v.join(I3)}}};fo.strictShape=function(t){var n=fo.shape(t);return function(o){var d=n(o);if(d)return d;var h=Object.keys(o).reduce(function(s,v){return t[v]===void 0&&s.push(v),s},[]);if(h.length!==0)return function(){return"The following keys are invalid: "+h.join(", ")}}};fo.arrayOf=function(t){return i6(t)};fo.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return i6(t)};function i6(e){var t=Array.isArray(e),n=function(r){return t?e[r]:e};return function(o){var d=xf(fo.plainArray,o);if(d)return d;if(t&&o.length!==e.length)return"an array with "+e.length+" items";for(var h=0;h<o.length;h++)if(d=xf(n(h),o[h]),d)return[h].concat(d)}}fo.required=function(t){function n(r){return r==null?function(o){return n6(o,r6(o.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return n.__required=!0,n};fo.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(r){var o=t.map(function(d){return xf(d,r)}).filter(Boolean);if(o.length===t.length)return o.every(function(d){return d.length===1&&typeof d[0]=="string"})?GV(o.map(function(d){return d[0]})):o.reduce(function(d,h){return h.length>d.length?h:d})}};fo.equal=function(t){return function(r){if(r!==t)return JSON.stringify(t)}};fo.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),n=t.map(function(r){return fo.equal(r)});return fo.oneOfType.apply(this,n)};fo.range=function(t){var n=t[0],r=t[1];return function(d){var h=xf(fo.number,d);if(h||d<n||d>r)return"number between "+n+" & "+r+" (inclusive)"}};fo.any=function(){};fo.boolean=function(t){if(typeof t!="boolean")return"boolean"};fo.number=function(t){if(typeof t!="number")return"number"};fo.plainArray=function(t){if(!Array.isArray(t))return"array"};fo.plainObject=function(t){if(!$V(t))return"object"};fo.string=function(t){if(typeof t!="string")return"string"};fo.func=function(t){if(typeof t!="function")return"function"};function xf(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var n=e(t);if(n)return Array.isArray(n)?n:[n]}}function R5(e,t){var n=e.length,r=e[n-1],o=e.slice(0,n-1);return o.length===0&&(o=[t6]),t=VV(t,{path:o}),typeof r=="function"?r(t):n6(t,HV(r))}function GV(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function HV(e){return"must be "+WV(e)+"."}function WV(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function n6(e,t){var n=r6(e.path),r=e.path.join(".")+" "+t,o=n?"Item at position ":"";return o+r}function r6(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function YV(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}fo.validate=xf;fo.processMessage=R5;var qV=fo,XV=Wg,Cg=qV;function ZV(e){if(typeof window<"u")return e instanceof Ra.Blob||e instanceof Ra.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function KV(e,t){return Cg.assert(Cg.strictShape(e),t)}function JV(e){var t="date";if(typeof e=="boolean")return t;try{var n=new Date(e);if(n.getTime&&isNaN(n.getTime()))return t}catch{return t}}function QV(e){return Cg.tuple(Cg.number,Cg.number)(e)}var eG=XV(Cg,{file:ZV,date:JV,coordinates:QV,assertShape:KV});function tG(e,t){var n=function(r,o){return t.indexOf(r)!==-1&&o!==void 0};return typeof t=="function"&&(n=t),Object.keys(e).filter(function(r){return n(r,e[r])}).reduce(function(r,o){return r[o]=e[o],r},{})}var iG=tG;function nG(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=t(r,e[r]),n},{})}var rG=nG,sG=rG;function oG(e){return sG(e,function(t,n){return typeof n=="boolean"?JSON.stringify(n):n})}var aG=oG,lG=K4,cG=e6;function dG(e){return function(t){var n;lG.prototype.isPrototypeOf(t)?n=t:n=cG(t);var r=Object.create(e);return r.client=n,r}}var uG=dG,s6=Wg,ss=eG,db=iG,o6=aG,hG=uG,B5={},a6=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];B5.forwardGeocode=function(e){ss.assertShape({query:ss.required(ss.string),mode:ss.oneOf("mapbox.places","mapbox.places-permanent"),countries:ss.arrayOf(ss.string),proximity:ss.oneOf(ss.coordinates,"ip"),types:ss.arrayOf(ss.oneOf(a6)),autocomplete:ss.boolean,bbox:ss.arrayOf(ss.number),limit:ss.number,language:ss.arrayOf(ss.string),routing:ss.boolean,fuzzyMatch:ss.boolean,worldview:ss.string})(e),e.mode=e.mode||"mapbox.places";var t=o6(s6({country:e.countries},db(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:db(e,["mode","query"]),query:t})};B5.reverseGeocode=function(e){ss.assertShape({query:ss.required(ss.coordinates),mode:ss.oneOf("mapbox.places","mapbox.places-permanent"),countries:ss.arrayOf(ss.string),types:ss.arrayOf(ss.oneOf(a6)),bbox:ss.arrayOf(ss.number),limit:ss.number,language:ss.arrayOf(ss.string),reverseMode:ss.oneOf("distance","score"),routing:ss.boolean,worldview:ss.string})(e),e.mode=e.mode||"mapbox.places";var t=o6(s6({country:e.countries},db(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:db(e,["mode","query"]),query:t})};var pG=hG(B5);let fG="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",l6=e=>crypto.getRandomValues(new Uint8Array(e)),c6=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(d=t)=>{let h="";for(;;){let s=n(o),v=o;for(;v--;)if(h+=e[s[v]&r]||"",h.length===d)return h}}},mG=(e,t=21)=>c6(e,t,l6),gG=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const yG=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:mG,customRandom:c6,nanoid:gG,random:l6,urlAlphabet:fG},Symbol.toStringTag,{value:"Module"})),_G=gM(yG);var vG=_G.nanoid;function d6(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}d6.prototype={select:function(e,t){var n=this.getSelectedIndex(e,t),r=this.getEventPayload("search.select",t);if(r.resultIndex=n,r.resultPlaceName=e.place_name,r.resultId=e.id,!(n===this.lastSentIndex&&r.queryString===this.lastSentInput||n==-1)&&(this.lastSentIndex=n,this.lastSentInput=r.queryString,!!r.queryString))return this.push(r)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var n=this.getEventPayload("search.keystroke",t);if(n.lastAction=e.key,!!n.queryString)return this.push(n)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var n=this.getRequestOptions(e);this.request(n,(function(r){if(r)return this.handleError(r,t);if(t)return t()}).bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t){var n;t.options.proximity?typeof t.options.proximity=="object"?n=[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?n=[999,999]:n=t.options.proximity:n=null;var r=t._map?t._map.getZoom():void 0,o={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:n,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:r,keyboardLocale:this.locale};return e==="search.select"?o.queryString=t.inputString:e!="search.select"&&t._inputEl?o.queryString=t._inputEl.value:o.queryString=t.inputString,o},request:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},n.open(e.method,e.host+"/"+e.path,!0);for(var r in e.headers){var o=e.headers[r];n.setRequestHeader(r,o)}n.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return vG()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var n=t._typeahead.data,r=e.id,o=n.map(function(h){return h.id}),d=o.indexOf(r);return d}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var xG=d6,bG={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},wG={placeholder:bG},u6={exports:{}};(function(e){(function(t,n,r){e.exports?e.exports=r():t[n]=r()})(Ra,"subtag",function(){var t="",n=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(v){return v.match(n)||[]}function o(v){return r(v).filter(function(R,J){return R&&J})}function d(v){return v=r(v),{language:v[1]||t,extlang:v[2]||t,script:v[3]||t,region:v[4]||t}}function h(v,R,J){Object.defineProperty(v,R,{value:J,enumerable:!0})}function s(v,R,J){function k(z){return r(z)[v]||t}h(k,"pattern",R),h(d,J,k)}return s(1,/^[a-zA-Z]{2,3}$/,"language"),s(2,/^[a-zA-Z]{3}$/,"extlang"),s(3,/^[a-zA-Z]{4}$/,"script"),s(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),h(d,"split",o),d})})(u6);var TG=u6.exports;function h6(){}h6.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,n){window.navigator.geolocation.getCurrentPosition(t,n,e)})}};var SG=h6;function CG(e,t){const n=p6(e),r=["address","street","place","country"];var o;if(typeof t=="function")return t(n);const d=r.indexOf(t);return d===-1?o=r:o=r.slice(d),o.reduce(function(h,s){return n[s]?(h!==""&&(h=h+", "),h+n[s]):h},"")}function p6(e){const t=e.address||"",n=e.text||"",r=e.place_name||"",d={address:r.split(",")[0],houseNumber:t,street:n,placeName:r};return e.context.forEach(function(h){const s=h.id.split(".")[0];d[s]=h.text}),d}const EG=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var MG={transformFeatureToGeolocationText:CG,getAddressInfo:p6,REVERSE_GEOCODE_COORD_RGX:EG},kG=P$,AG=q$,S0=Wg,PG=tV.EventEmitter,tM=iV,L3=FV,O3=pG,DG=xG,IG=wG,LG=TG,OG=SG,iM=MG;const Zp={FORWARD:0,LOCAL:1,REVERSE:2};function RG(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function f6(e){this._eventEmitter=new PG,this.options=S0({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new OG}f6.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(n,r){if(!document.body.contains(r))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const o=n.onAdd();r.appendChild(o)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const n=document.querySelectorAll(e);if(n.length===0)throw new Error("Element ",e,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,n[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=O3(L3({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new DG(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",AG(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",(function(R){this.eventManager.keyevent(R,this)}).bind(this));var r=document.createElement("div");r.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var o=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(o),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),t.appendChild(n),t.appendChild(this._inputEl),t.appendChild(r),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var d=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(d),r.appendChild(this._geolocateEl),this._showGeolocateButton()}var h=this._typeahead=new kG(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),h.getItemValue=this.options.getItemValue;var s=h.list.draw,v=this._footerNode=RG();return h.list.draw=function(){s.call(this),v.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),v.addEventListener("mouseup",(function(){this.selectingListItem=!1}).bind(this)),this.element.appendChild(v)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then((function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const n={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const r=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(r),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(n).send().then((function(r){const o=r.body.features[0];if(o){const d=iM.transformFeatureToGeolocationText(o,this.options.addressAccuracy);this._setInputValue(d),o.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:o})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}).bind(this))}).bind(this)).catch((function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}).bind(this))},createIcon:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),n.innerHTML=t,n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout((function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}).bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,n=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var r=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,o=r?r.value:"";if(!o)return this.fresh=!0,e.keyCode!==n&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[n,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&r.value.length>=this.options.minLength&&this._geocode(r.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&tM[e.properties.short_code])t=S0({},this.options.flyTo),this._map&&this._map.fitBounds(tM[e.properties.short_code].bbox,t);else if(e.bbox){var n=e.bbox;t=S0({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],t)}else{var r={zoom:this.options.zoom};t=S0({},r,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var n;return e.localGeocoderOnly?n=Zp.LOCAL:e.reverseGeocode&&iM.REVERSE_GEOCODE_COORD_RGX.test(t)?n=Zp.REVERSE:n=Zp.FORWARD,n},_setupConfig:function(e,t){const n=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],r=/[\s,]+/;var o=this,d=n.reduce(function(s,v){if(o.options[v]===void 0||o.options[v]===null)return s;["countries","types","language"].indexOf(v)>-1?s[v]=o.options[v].split(r):s[v]=o.options[v];const R=typeof o.options[v].longitude=="number"&&typeof o.options[v].latitude=="number";if(v==="proximity"&&R){const J=o.options[v].longitude,k=o.options[v].latitude;s[v]=[J,k]}return s},{});switch(e){case Zp.REVERSE:{var h=t.split(r).map(function(s){return parseFloat(s,10)});o.options.flipCoordinates||h.reverse(),d.types&&d.types[0],d=S0(d,{query:h,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(s){s in d&&delete d[s]})}break;case Zp.FORWARD:{const s=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(s)&&(t=t.replace(/,/g," ")),d=S0(d,{query:t})}break}return d},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),n=this._setupConfig(t,e);var r;switch(t){case Zp.LOCAL:r=Promise.resolve();break;case Zp.FORWARD:r=this.geocoderService.forwardGeocode(n).send();break;case Zp.REVERSE:r=this.geocoderService.reverseGeocode(n).send();break}var o=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],d=[],h=null;return r.catch((function(s){h=s}).bind(this)).then((function(s){this._hideLoadingIcon();var v={};return s?s.statusCode=="200"&&(v=s.body,v.request=s.request,v.headers=s.headers):v={type:"FeatureCollection",features:[]},v.config=n,this.fresh&&(this.eventManager.start(this),this.fresh=!1),v.features=v.features?o.concat(v.features):o,this.options.externalGeocoder?(d=this.options.externalGeocoder(e,v.features)||Promise.resolve([]),d.then(function(R){return v.features=v.features?R.concat(v.features):R,v},function(){return v})):v}).bind(this)).then((function(s){if(h)throw h;this.options.filter&&s.features.length&&(s.features=s.features.filter(this.options.filter)),s.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",s),this._typeahead.update(s.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",s))}).bind(this)).catch((function(s){this._hideLoadingIcon(),this._hideAttribution(),o.length&&this.options.localGeocoder||d.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(o)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:o}),this._eventEmitter.emit("error",{error:s})}).bind(this)),r},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var n=t.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=LG.language(e),n=IG.placeholder[t];if(n)return n}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=O3(L3({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=O3(L3({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},n=S0({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(n),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var BG=f6;const zG=Mu(BG);function NG(){return{map:B0("mapbox-map")}}var R3=new Map,FG=/onMb([A-Z])(.+)/;function jG(e){return R3.has(e)||R3.set(e,e.replace(FG,(t,n,r)=>n.toLowerCase()+r)),R3.get(e)}function m6(e,t,n=[],r=null){const o=kS(),d=hn(()=>Object.entries(o).filter(([R,J])=>R.startsWith("on")&&typeof J=="function").map(([R])=>R)),h=new Map;function s(R){Array.isArray(R)&&R.forEach(J=>{const k=h.get(J);typeof k=="function"&&k()})}function v(R){Array.isArray(R)&&R.forEach(J=>{const k=jG(J);if(!n.includes(k))return;const z=(...q)=>{e(`mb-${k}`,...q)};r?(Li(t).on(k,r,z),h.set(J,()=>{Li(t).off(k,r,z)})):(Li(t).on(k,z),h.set(J,()=>{Li(t).off(k,z)}))})}ha(d,(R,J)=>{const k=Array.isArray(R)?(J??[]).filter(q=>!R.includes(q)):J??[],z=Array.isArray(J)?(R??[]).filter(q=>!J.includes(q)):R??[];if(Li(t))s(k),v(z);else{const q=ha(t,L=>{L&&(s(k),v(z),q())})}},{immediate:!0})}function UG(e){return e.charAt(0).toUpperCase()+e.slice(1)}function g6(e,t,n){function r(o){Object.keys(e).filter(d=>e[d]!==void 0&&e[d]!==null).forEach(d=>{var h,s;const v=d==="mapStyle"?"setStyle":`set${UG(d)}`,R=typeof o[v]=="function",J=typeof n[d]>"u"||"bind"in n[d]?(s=(h=n[d])==null?void 0:h.bind)!=null?s:!1:!0;if(!R||!J)return;const{type:k}=e[d],z={deep:k===Object||Array.isArray(k)&&k.includes(Object)};ha(()=>e[d],q=>{o[v](q)},z)})}if(Li(t))r(Li(t));else{const o=ha(t,d=>{d&&(r(d),o())})}}function $G(e,{propsConfig:t,props:n,emit:r,events:o=[]}){const{map:d}=NG(),h=on();return Array.isArray(o)&&o.length&&m6(r,h,o),typeof t<"u"&&g6(n,h,t),ha(()=>n.position,s=>{Li(d)&&Li(d).removeControl(Li(h)).addControl(Li(h),s)}),Ko(async()=>{const s=new e(n);Li(d)&&Li(d).addControl(s,n.position),await _c(),h.value=s}),hh(()=>{Li(h)&&Li(d)&&Li(d).removeControl(Li(h))}),{control:h,map:d}}var y6=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};if(!vc)throw new Error("mapboxgl is not installed.");if(!zG)throw new Error("MapboxGeocoder is not installed.");var VG={key:0},GG={key:1};if(!vc)throw new Error("mapboxgl is not installed.");var{LngLatBounds:nM,LngLat:HG}=vc,rM={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[nM,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[HG,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[nM,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},WG=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],YG={inheritAttrs:!1},qG=Object.assign(YG,{__name:"MapboxMap",props:rM,setup(e,{expose:t,emit:n}){const r=e,o=on();Vg("mapbox-map",o);const d=on(),h=on(!1),s=hn(()=>{const{accessToken:v,mapStyle:R,...J}=r;return!J.container&&d.value&&(J.container=d.value),{style:R,...J}});return m6(n,o,WG),g6(r,o,rM),Ko(()=>{vc.accessToken=r.accessToken,o.value=new vc.Map(s.value),o.value.on("load",()=>{h.value=!0}),n("mb-created",o.value);const v=new ResizeObserver(()=>{o.value.resize()});v.observe(s.value.container),hh(()=>{v.disconnect(),o.value.remove()})}),t({map:o}),(v,R)=>(bt(),Bt(cn,null,[Ye("div",Yo({ref_key:"root",ref:d},v.$attrs),null,16),h.value?(bt(),Bt("div",VG,[xn(v.$slots,"default")])):(bt(),Bt("div",GG,[xn(v.$slots,"loader")]))],64))}}),a2=y6(qG,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!vc)throw new Error("mapboxgl is not installed.");var sM={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},XG={__name:"MapboxNavigationControl",props:sM,setup(e,{expose:t}){const n=e,{NavigationControl:r}=vc,{control:o}=$G(r,{props:n,propsConfig:sM});return t({control:o}),(d,h)=>(bt(),Bt("div"))}},l2=y6(XG,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const zr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},ZG={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},KG={class:"ships-list position-absolute",ref:"cSearch"},JG={class:"card",style:{height:"100%"}},QG={class:"card-header search"},eH={action:"#",method:"get",style:{width:"100%"}},tH={class:"input-icon"},iH=_d('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),nH={class:"card-actions btn-actions"},rH={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},sH=Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),oH=Ye("polyline",{points:"15 6 9 12 15 18"},null,-1),aH=[sH,oH],lH={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},cH=Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),dH=Ye("polyline",{points:"6 9 12 15 18 9"},null,-1),uH=[cH,dH],hH={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},pH={class:"divide-y pointer"},fH=["onClick"],mH={class:"row"},gH=Ye("div",{class:"col-auto"},[Ye("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),yH={class:"col p-0"},_H={class:"text-truncate"},vH={class:"text-muted text-sm"},xH={key:0,class:"col-auto"},bH=Ye("div",{class:"badge bg-success"},null,-1),wH=Ye("span",{class:"text-xs ml-1"},"Online",-1),TH={class:"text-xs"},SH={key:1,class:"col-auto"},CH=Ye("div",{class:"badge bg-danger"},null,-1),EH=Ye("span",{class:"text-xs ml-1"},"Offline",-1),MH={class:"text-xs"};function kH(e,t,n,r,o,d){return bt(),Bt("div",KG,[Ye("div",JG,[Ye("div",QG,[Ye("form",eH,[Ye("div",tH,[iH,po(Ye("input",{type:"text",onKeyup:t[0]||(t[0]=(...h)=>d.search&&d.search(...h)),"onUpdate:modelValue":t[1]||(t[1]=h=>o.keyword=h),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[Su,o.keyword]])])]),Ye("div",nH,[Ye("a",{href:"#",class:"btn-action",onClick:t[2]||(t[2]=(...h)=>d.searchExpand&&d.searchExpand(...h))},[o.isExpand?vi("",!0):(bt(),Bt("svg",rH,aH)),o.isExpand?(bt(),Bt("svg",lH,uH)):vi("",!0)])])]),Ye("div",hH,[Ye("div",pH,[(bt(!0),Bt(cn,null,_r(d.filters,h=>(bt(),Bt("div",{key:h.id,onClick:s=>d.selected(h)},[Ye("div",mH,[gH,Ye("div",yH,[Ye("div",_H,Yi(h.name),1),Ye("div",vH,Yi(h.imo_number),1)]),h.connected?(bt(),Bt("div",xH,[bH,wH,Ye("div",TH,Yi(e.$filters.dateformat(h.last_connection,"DD/MM HH:mm")),1)])):vi("",!0),h.connected?vi("",!0):(bt(),Bt("div",SH,[CH,EH,Ye("div",MH,Yi(e.$filters.dateformat(h.last_connection,"DD/MM HH:mm")),1)]))])],8,fH))),128))])],512)])],512)}const _6=zr(ZG,[["render",kH]]),AH={data(){return{isExpand:!0,notifications:[{id:1,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:2,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:3,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:4,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:5,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:6,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:7,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:8,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Yg=e=>(K0("data-v-cbda607e"),e=e(),J0(),e),PH={class:"ships-notification",ref:"cSearch"},DH={class:"card",style:{height:"100%"}},IH={class:"card-header search"},LH=Yg(()=>Ye("h4",{class:"card-title"}," Active Notifications ",-1)),OH={class:"card-actions btn-actions"},RH={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},BH=Yg(()=>Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),zH=Yg(()=>Ye("polyline",{points:"15 6 9 12 15 18"},null,-1)),NH=[BH,zH],FH={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},jH=Yg(()=>Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),UH=Yg(()=>Ye("polyline",{points:"6 9 12 15 18 9"},null,-1)),$H=[jH,UH],VH={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},GH={class:"divide-y"},HH=_d('<div class="notif-status" data-v-cbda607e><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/alarm.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Alarm</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/volume.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>4</span></div><div data-v-cbda607e>Warning</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/caution.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Caution</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/info-blue.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Info</div></div></div>',1),WH={class:"row"},YH=Yg(()=>Ye("div",{class:"col-auto"},[Ye("img",{src:"img/icons/caution.png",alt:"",width:"20"})],-1)),qH={class:"col"},XH={class:"fw-bold"},ZH={class:"text-sm"};function KH(e,t,n,r,o,d){return bt(),Bt("div",PH,[Ye("div",DH,[Ye("div",IH,[LH,Ye("div",OH,[Ye("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...h)=>d.notifExpand&&d.notifExpand(...h))},[o.isExpand?vi("",!0):(bt(),Bt("svg",RH,NH)),o.isExpand?(bt(),Bt("svg",FH,$H)):vi("",!0)])])]),Ye("div",VH,[Ye("div",GH,[HH,(bt(!0),Bt(cn,null,_r(o.notifications,h=>(bt(),Bt("div",{key:h.id,class:"py-2 border-bottom border-white"},[Ye("div",WH,[YH,Ye("div",qH,[Ye("div",XH,Yi(h.title),1),ds(" "+Yi(h.desc)+" ",1),Ye("div",ZH,Yi(h.date),1)])])]))),128))])],512)])],512)}const v6=zr(AH,[["render",KH],["__scopeId","data-v-cbda607e"]]),JH={},QH={class:"ships-records"},eW=_d('<div class="card" data-v-b06cef02><div class="card-header" data-v-b06cef02><div class="text-center" data-v-b06cef02><img src="img/singapore.png" alt="" data-v-b06cef02><div class="text-white" data-v-b06cef02>PRO</div></div><div class="w-100 d-flex align-items-start justify-content-between" data-v-b06cef02><div class="card-title" data-v-b06cef02><div data-v-b06cef02>Widuri</div><small class="text-white" data-v-b06cef02>Fleet II</small></div><div class="card-status" data-v-b06cef02><div class="status-box bg-online" data-v-b06cef02></div><div class="text-white" data-v-b06cef02>Online</div></div></div></div><div class="card-body" data-v-b06cef02><div data-v-b06cef02>under way using engine</div><div class="d-flex align-items-center justify-content-between" data-v-b06cef02><div data-v-b06cef02>ATD 27/5</div><div data-v-b06cef02>ETA 10/6</div></div><div class="d-flex align-items-center justify-content-between mb-3" data-v-b06cef02><div data-v-b06cef02>Singapura</div><div data-v-b06cef02>Jakarta</div></div><div class="ships-route-ltr" data-v-b06cef02></div></div></div>',1),tW=[eW];function iW(e,t,n,r,o,d){return bt(),Bt("div",QH,tW)}const x6=zr(JH,[["render",iW],["__scopeId","data-v-b06cef02"]]),nW={},rW={class:"ships-navigations"},sW=_d('<div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div><div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div>',2),oW=[sW];function aW(e,t,n,r,o,d){return bt(),Bt("div",rW,oW)}const b6=zr(nW,[["render",aW],["__scopeId","data-v-23fc79b0"]]),lW={},cW={class:"ships-camera"},dW=_d('<a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Front View</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a><a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Bridge</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a>',2),uW=[dW];function hW(e,t,n,r,o,d){return bt(),Bt("div",cW,uW)}const w6=zr(lW,[["render",hW],["__scopeId","data-v-34ce2568"]]),pW={data(){return{isExpand:!0,parameter:[{id:1,title:"SPEED THROUGH WATER",value:"13.8",format:"KNOTS"},{id:2,title:"SPEED OVER GROUND",value:"14.9",format:"KNOTS"},{id:3,title:"ME SHAFT POWER",value:"4852",format:"KW"},{id:4,title:"ME RPM",value:"95",format:"RPM"},{id:5,title:"ME FO",value:"26.5",format:"FO"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Cf=e=>(K0("data-v-82e529c6"),e=e(),J0(),e),fW={class:"ships-parameter",ref:"cSearch"},mW={class:"card",style:{height:"100%"}},gW={class:"card-header search"},yW=Cf(()=>Ye("h4",{class:"card-title"}," KEY PARAMETER ",-1)),_W={class:"card-actions btn-actions"},vW={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},xW=Cf(()=>Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),bW=Cf(()=>Ye("polyline",{points:"15 6 9 12 15 18"},null,-1)),wW=[xW,bW],TW={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},SW=Cf(()=>Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),CW=Cf(()=>Ye("polyline",{points:"6 9 12 15 18 9"},null,-1)),EW=[SW,CW],MW={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},kW={class:"divide-y"},AW=Cf(()=>Ye("ul",{class:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist"},[Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"DAILY AVG")]),Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"PRESENT VALUES")])],-1)),PW={class:"tab-content",id:"pills-tabContent"},DW={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},IW={class:"row align-items-center"},LW={class:"col-6"},OW={class:"fw-bold"},RW={class:"col-6 text-center"},BW={class:"fw-normal"},zW={class:"text-sm"},NW=Cf(()=>Ye("div",{class:"py-2 border-bottom border-white"},[Ye("div",{class:"row align-items-center"},[Ye("div",{class:"col-12"},[Ye("div",{class:""},"NOTE: Daily average is calculated at 12 PM UTC")])])],-1)),FW=Cf(()=>Ye("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"}," ... ",-1));function jW(e,t,n,r,o,d){return bt(),Bt("div",fW,[Ye("div",mW,[Ye("div",gW,[yW,Ye("div",_W,[Ye("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...h)=>d.notifExpand&&d.notifExpand(...h))},[o.isExpand?vi("",!0):(bt(),Bt("svg",vW,wW)),o.isExpand?(bt(),Bt("svg",TW,EW)):vi("",!0)])])]),Ye("div",MW,[Ye("div",kW,[AW,Ye("div",PW,[Ye("div",DW,[(bt(!0),Bt(cn,null,_r(o.parameter,h=>(bt(),Bt("div",{key:h.id,class:"py-2 border-bottom border-white"},[Ye("div",IW,[Ye("div",LW,[Ye("div",OW,Yi(h.title),1)]),Ye("div",RW,[Ye("h2",BW,Yi(h.value),1),Ye("div",zW,Yi(h.format),1)])])]))),128)),NW]),FW])])],512)])],512)}const T6=zr(pW,[["render",jW],["__scopeId","data-v-82e529c6"]]);var UW=["second","minute","hour","day","week","month","year"];function $W(e,t){if(t===0)return["just now","right now"];var n=UW[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]}var VW=["秒","分钟","小时","天","周","个月","年"];function GW(e,t){if(t===0)return["刚刚","片刻后"];var n=VW[~~(t/2)];return[e+" "+n+"前",e+" "+n+"后"]}var zT={},S6=function(e,t){zT[e]=t},HW=function(e){return zT[e]||zT.en_US},B3=[60,60,24,7,365/7/12,12];function oM(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function WW(e,t){var n=e<0?1:0;e=Math.abs(e);for(var r=e,o=0;e>=B3[o]&&o<B3.length;o++)e/=B3[o];return e=Math.floor(e),o*=2,e>(o===0?9:1)&&(o+=1),t(e,o,r)[n].replace("%s",e.toString())}function YW(e,t){var n=t?oM(t):new Date;return(+n-+oM(e))/1e3}var Ng=function(e,t,n){var r=YW(e,n&&n.relativeDate);return WW(r,HW(t))};S6("en_US",$W);S6("zh_CN",GW);const z5="/build/assets/blue-a47985d3.png",N5="/build/assets/green-342241e2.png",F5="/build/assets/red-f4bfe255.png";window.mapboxgl=vc;const qW={components:{"x-search":_6,"x-notification":v6,"x-records":x6,"x-navigation":b6,"x-camera":w6,"x-parameter":T6,MapboxMap:a2,MapboxNavigationControl:l2},data(){return{weatherKey:"dfc256782db426c6a8d3b8daaefa5b33",weathers:[],icons:{ballast:z5,laden:N5,at_port:F5},map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null,fleet:null,showSideInfo:!1,fleets_point:{type:"FeatureCollection",features:[]}}},mounted(){this.timer=setInterval(()=>{this.refreshData()},5*1e3),this.map.loadImage(this.icons.ballast,(e,t)=>{if(e)throw e;this.map.addImage("ship-blue",t)}),this.map.loadImage(this.icons.at_port,(e,t)=>{if(e)throw e;this.map.addImage("ship-red",t)}),this.map.loadImage(this.icons.laden,(e,t)=>{if(e)throw e;this.map.addImage("ship-green",t)}),this.popup=new vc.Popup({closeButton:!0,closeOnClick:!1})},methods:{async fetchData(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,this.fleets_point.features=[],e.forEach(t=>{if(t.navigation){let n="ship-blue";t.fleet_status=="at_port"?n="ship-red":t.fleet_status=="laden"&&(n="ship-green"),this.fleets_point.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.navigation.lng,t.navigation.lat]},properties:{scale:1,id:t.id,heading:t.navigation.heading,name:t.name,image:t.image,status:t.fleet_status,icon:n,sog:t.navigation.sog,cog:t.navigation.cog,last_update:Ng(t.last_connection)}})}})},async loaded(){await this.fetchData(),this.buildLayer()},async refreshData(){await this.fetchData();let e=await this.map.getSource("ship-position");e&&e.setData(this.fleets_point)},buildLayer(){let e=this;this.map.addSource("ship-position",{type:"geojson",data:this.fleets_point}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-position",layout:{"icon-image":["get","icon"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.12,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const t=new vc.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","ship-position",n=>{let r=n.features[0].properties.id;e.showInfo(r)}),this.map.on("mouseenter","ship-position",n=>{e.map.getCanvas().style.cursor="pointer";const r=n.features[0].geometry.coordinates.slice(),o=`<b>${n.features[0].properties.name} [ID]</b> at ${n.features[0].properties.sog} <b>kn</b> / ${n.features[0].properties.cog}&deg;<br>last update: <b>${n.features[0].properties.last_update}</b>`;for(;Math.abs(n.lngLat.lng-r[0])>180;)r[0]+=n.lngLat.lng>r[0]?360:-360;t.setLngLat(r).setHTML(o).addTo(e.map)}),this.map.on("mouseleave","ship-position",()=>{e.map.getCanvas().style.cursor="",t.remove()})},async buildWeathers(){const d=[];for(let R=0;R<10;R++)for(let J=0;J<10;J++)d.push({lat:-80+R*(80- -80)/10,lng:-180+J*(180- -180)/10,val:0,wind:{},weather:{}});const h="https://api.openweathermap.org/data/2.5/weather?units=metric&lat=",s=d.map(R=>h+R.lat+"&lon="+R.lng+"&appid="+this.weatherKey),v=await Promise.all(s.map(async R=>(await fetch(R)).text()));d.forEach((R,J)=>{let k=JSON.parse(v[J]);R.val=k.main.temp,R.wind=k.wind,R.weather=k.weather[0]}),this.weathers=d},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const n=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Ng(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(n).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},showInfo(e){let t=this.fleets.findIndex(function(n){return n.id===e});t>=0&&(this.fleet=this.fleets[t],this.showSideInfo=!0)},buildTrack(e){console.log(e)}}},XW={class:"position-relative"},ZW={class:"pointer-info",ref:"pointerInfo"},KW=_d('<div class="lengend"><div class="title">Fleet Color Information</div><div><img src="'+z5+'"> Ballast</div><div><img src="'+N5+'"> Laden</div><div><img src="'+F5+'"> At Port</div></div>',1);function JW(e,t,n,r,o,d){const h=Tr("x-search"),s=Tr("fleet-side-info"),v=Tr("MapboxNavigationControl"),R=Tr("MapboxMap");return bt(),Bt("div",XW,[dn(h,{fleets:o.fleets,onSelected:d.findFleet},null,8,["fleets","onSelected"]),o.fleet?(bt(),Ir(s,{key:0,fleet:o.fleet,display:o.showSideInfo,onClose:t[0]||(t[0]=J=>o.showSideInfo=!1),onHistory:d.buildTrack},null,8,["fleet","display","onHistory"])):vi("",!0),Ye("div",ZW,null,512),KW,dn(R,{onMbCreated:t[1]||(t[1]=J=>o.map=J),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:o.center,zoom:o.zoom},{default:Yn(()=>[dn(v,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const QW=zr(qW,[["render",JW]]),j5="/build/assets/ship-c94d8078.png",eY=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],tY={components:{MapboxMap:a2,MapboxNavigationControl:l2},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,t={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},n={type:"FeatureCollection",features:[]};eY.forEach((d,h)=>{this.current&&this.calcCrow(this.current[1],this.current[0],d.lat,d.lng)>20||(t.geometry.coordinates.push([d.lng,d.lat]),n.features.push({type:"Feature",properties:{cog:d.cog,sog:d.sog,time:d.terminal_time,lat:d.lat,lng:d.lng,heading:d.heading},geometry:{type:"Point",coordinates:[d.lng,d.lat]}}),this.current=[d.lng,d.lat],this.items.push(d))}),this.map.addSource("route",{type:"geojson",data:t}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:n}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const r=new vc.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",d=>{let h=d.features[0].properties;this.positionShip(h)}),this.map.on("mouseenter","points",d=>{e.map.getCanvas().style.cursor="pointer";const h=d.features[0].geometry.coordinates.slice(),s=`<b>Lat : ${d.features[0].properties.lat} | Lng: ${d.features[0].properties.lng}</b> at ${d.features[0].properties.sog} <b>kn</b> / ${d.features[0].properties.cog}&deg;<br>time: <b>${d.features[0].properties.time}</b>`;for(;Math.abs(d.lngLat.lng-h[0])>180;)h[0]+=d.lngLat.lng>h[0]?360:-360;r.setLngLat(h).setHTML(s).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",r.remove()}),this.map.loadImage(j5,(d,h)=>{if(d)throw d;e.map.addImage("ship-icon",h)});let o=this.items[this.items.length-1];this.positionShip({heading:o.heading,lng:o.lng,lat:o.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},calcCrow(s,t,v,r){var o=6371,d=this.toRad(v-s),h=this.toRad(r-t),s=this.toRad(s),v=this.toRad(v),R=Math.sin(d/2)*Math.sin(d/2)+Math.sin(h/2)*Math.sin(h/2)*Math.cos(s)*Math.cos(v),J=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R)),k=o*J;return k},toRad(e){return e*Math.PI/180}}},iY={class:"row g-0"},nY={class:"col-9"},rY={class:"position-relative"},sY={class:"pointer-info",ref:"pointerInfo"},oY={class:"col-3"},aY=_d('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),lY={class:"information"},cY={class:"histories"},dY={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},uY=Ye("thead",null,[Ye("tr",null,[Ye("th",null,"Time"),Ye("th",null,"Lon"),Ye("th",null,"Lat"),Ye("th",null,"Speed")])],-1),hY=["onClick"];function pY(e,t,n,r,o,d){const h=Tr("MapboxNavigationControl"),s=Tr("MapboxMap");return bt(),Bt("div",iY,[Ye("div",nY,[Ye("div",rY,[Ye("div",sY,null,512),dn(s,{onMbCreated:t[0]||(t[0]=v=>o.map=v),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[105.987732,-5.898973],zoom:7},{default:Yn(()=>[dn(h,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])]),Ye("div",oY,[aY,Ye("div",lY,[Ye("div",cY,[Ye("table",dY,[uY,Ye("tbody",null,[(bt(!0),Bt(cn,null,_r(o.items,v=>(bt(),Bt("tr",{key:v.id,onClick:R=>d.toPotition(v),class:"pointer"},[Ye("td",null,Yi(e.$filters.dateformat(v.terminal_time)),1),Ye("td",null,Yi(e.$filters.str_limit(v.lng,7))+"°",1),Ye("td",null,Yi(e.$filters.str_limit(v.lat,6))+"°",1),Ye("td",null,Yi(v.sog),1)],8,hY))),128))])])])])])])}const fY=zr(tY,[["render",pY]]),mY={components:{MapboxMap:a2,MapboxNavigationControl:l2},props:{fleet:Object,style:Object,sidebar:Boolean},data(){return{map:null,current:[],timer:null,popup:new vc.Popup({closeButton:!0,closeOnClick:!1}),histories:[]}},mounted(){this.map.loadImage(j5,(e,t)=>{if(e)throw e;this.map.addImage("ship-icon",t)})},methods:{setHistory(e){this.histories=e;let t=this;this.current.length>0&&this.map.getLayer("route")!=="undefined"&&this.map.getLayer("points")!=="undefined"&&(this.map.removeLayer("route"),this.map.removeSource("route"),this.map.removeLayer("points"),this.map.removeSource("points"));let n={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},r={type:"FeatureCollection",features:[]};this.histories.forEach((s,v)=>{n.geometry.coordinates.push([s.lng,s.lat]),r.features.push({type:"Feature",properties:{cog:s.cog,sog:s.sog,time:s.terminal_time,lat:s.lat,lng:s.lng,heading:s.heading},geometry:{type:"Point",coordinates:[s.lng,s.lat]}}),this.current=[s.lng,s.lat]}),this.map.addSource("route",{type:"geojson",data:n}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),this.map.addSource("points",{type:"geojson",data:r}),this.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const o=new vc.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",s=>{let v=s.features[0].properties;this.positionShip(v)}),this.map.on("mouseenter","points",s=>{t.map.getCanvas().style.cursor="pointer";const v=s.features[0].geometry.coordinates.slice(),R=`<b>Lat : ${s.features[0].properties.lat} | Lng: ${s.features[0].properties.lng}</b> at ${s.features[0].properties.sog} <b>kn</b> / ${s.features[0].properties.cog}&deg;<br>time: <b>${s.features[0].properties.time}</b>`;for(;Math.abs(s.lngLat.lng-v[0])>180;)v[0]+=s.lngLat.lng>v[0]?360:-360;o.setLngLat(v).setHTML(R).addTo(t.map)}),this.map.on("mouseleave","points",()=>{t.map.getCanvas().style.cursor="",o.remove()});let d=this.histories[this.histories.length-1],h=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:d});this.positionShip(h)},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},loaded(){this.positionShip(this.fleet)},toPotition(e){let t=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:e});this.positionShip(t)},positionShip(e){if(!e.navigation)return;typeof this.map.getLayer("ship-position")<"u"&&this.map.removeLayer("ship-position").removeSource("ship-points"),this.map.addSource("ship-points",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Ng(e.navigation.terminal_time)}}]}}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-points",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.popup.remove();const n=`<b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Ng(e.navigation.updated_at)}</b>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(n).addTo(this.map)}}},gY={class:"position-relative overflow-hidden"},yY={class:"pointer-info",ref:"pointerInfo"},_Y=_d('<div class="lengend"><div class="title">Fleet Color Information</div><div><img src="'+z5+'"> Ballast</div><div><img src="'+N5+'"> Laden</div><div><img src="'+F5+'"> At Port</div></div>',1);function vY(e,t,n,r,o,d){const h=Tr("map-voyage"),s=Tr("MapboxNavigationControl"),v=Tr("MapboxMap");return bt(),Bt("div",gY,[dn(h,{fleet:n.fleet,onHistory:d.setHistory,onSelected:d.toPotition,display:n.sidebar},null,8,["fleet","onHistory","onSelected","display"]),Ye("div",yY,null,512),_Y,dn(v,{onMbCreated:t[0]||(t[0]=R=>o.map=R),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:el(n.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[n.fleet.navigation.lng,n.fleet.navigation.lat],zoom:7},{default:Yn(()=>[dn(s,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","style","center"])])}const xY=zr(mY,[["render",vY]]),bY={props:{fleet:Object,display:Boolean},data(){return{params:{from:null,to:null,interval:900},histories:[]}},methods:{async fetchData(){this.histories=[],(await axios.get(`/api/fleet/${this.fleet.id}/nav/histories`,{params:this.params}).then(t=>t.data)).forEach(t=>{t.lat==0&&t.lng==0||this.histories.push(t)}),this.$emit("history",this.histories)},toggleText(){this.display=!this.display},selected(e){this.$emit("selected",e)}}},wY={class:"voyage-section"},TY={key:0,class:"card voyage-card"},SY={class:"card-header justify-content-between"},CY=["src"],EY=Ye("h5",{class:"fw-normal m-0"},"Voyage",-1),MY={class:"card-body"},kY=Ye("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-center active",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")]),Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-center",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),AY={class:"tab-content",id:"pills-tabContent"},PY={class:"tab-pane fade show active",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},DY={class:"mb-4"},IY={class:"form-group mb-3"},LY=Ye("label",{for:"startDateInput"},"Start Date",-1),OY={class:"form-group mb-3"},RY=Ye("label",{for:"endDateInput"},"End Date",-1),BY=Ye("h6",{class:"text-primary"},"GENERATE REPORT",-1),zY={class:"table text-sm"},NY=Ye("thead",null,[Ye("tr",null,[Ye("th",{scope:"col"},"Time"),Ye("th",{scope:"col"},"Lon"),Ye("th",{scope:"col"},"Lat"),Ye("th",{scope:"col"},"Speed")])],-1),FY=["onClick"],jY={scope:"row"},UY=Ye("div",{class:"tab-pane fade",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},null,-1),$Y=["src"];function VY(e,t,n,r,o,d){return bt(),Bt("div",wY,[n.display?(bt(),Bt("div",TY,[Ye("div",SY,[Ye("button",{onClick:t[0]||(t[0]=h=>n.display=!n.display),class:"btn btn-link bg-transparent p-0"},[Ye("img",{src:"/img/icons/close-fill.png",alt:""},null,8,CY)]),EY]),Ye("div",MY,[kY,Ye("div",AY,[Ye("div",PY,[Ye("div",DY,[Ye("div",IY,[LY,po(Ye("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=h=>o.params.from=h),class:"form-control",id:"startDateInput"},null,512),[[Su,o.params.from]])]),Ye("div",OY,[RY,po(Ye("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=h=>o.params.to=h),class:"form-control",id:"endDateInput"},null,512),[[Su,o.params.to]])]),Ye("button",{onClick:t[3]||(t[3]=(...h)=>d.fetchData&&d.fetchData(...h)),class:"btn btn-outline-primary w-100"},"SHOW")]),BY,Ye("table",zY,[NY,Ye("tbody",null,[(bt(!0),Bt(cn,null,_r(o.histories,h=>(bt(),Bt("tr",{onClick:s=>d.selected(h),key:h.id},[Ye("td",jY,Yi(e.$filters.dateformat(h.terminal_time,"DD/MM/YY HH:mm")),1),Ye("td",null,Yi(h.lng.toFixed(2))+"°",1),Ye("td",null,Yi(h.lat.toFixed(2))+"°",1),Ye("td",null,Yi(h.sog),1)],8,FY))),128))])])]),UY])])])):vi("",!0),Ye("button",{onClick:t[4]||(t[4]=h=>n.display=!n.display),class:"btn btn-light btn-open"},[Ye("img",{src:"/img/icons/location-circle.png",alt:""},null,8,$Y),ds(" Show fleet Track ")])])}const GY=zr(bY,[["render",VY]]),HY={},WY={class:"ships-cctv"},YY=_d('<div class="card" data-v-3e327a0d><div class="card-header" data-v-3e327a0d><div class="card-title" data-v-3e327a0d><div data-v-3e327a0d>Bridge</div></div><div class="card-status" data-v-3e327a0d><a href="#" data-v-3e327a0d><img src="img/icons/fullscreen.png" alt="" data-v-3e327a0d> Fullscreen </a><a href="#" data-v-3e327a0d> Esc to exit </a></div></div><div class="card-body" data-v-3e327a0d><img src="img/image-1.png" alt="" class="w-100" data-v-3e327a0d></div></div>',1),qY=[YY];function XY(e,t,n,r,o,d){return bt(),Bt("div",WY,qY)}const ZY=zr(HY,[["render",XY],["__scopeId","data-v-3e327a0d"]]),KY={components:{"x-search":_6,"x-notification":v6,"x-records":x6,"x-navigation":b6,"x-camera":w6,"x-parameter":T6,"x-cctv":ZY,MapboxMap:a2,MapboxNavigationControl:l2},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(j5,(e,t)=>{if(e)throw e;this.map.addImage("ship",t)}),this.popup=new vc.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(t=>{this.positionShip(t)})},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const n=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Ng(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(n).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let t=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Ng(e.navigation.updated_at)}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const r=new vc.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,o=>{let d=o.features[0].properties.id;location.href=`/fleet/${d}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,o=>{t.map.getCanvas().style.cursor="pointer";const d=o.features[0].geometry.coordinates.slice(),h=`<b>${o.features[0].properties.name} [ID]</b> at ${o.features[0].properties.sog} <b>kn</b> / ${o.features[0].properties.cog}&deg;<br>last update: <b>${o.features[0].properties.last_update}</b>`;for(;Math.abs(o.lngLat.lng-d[0])>180;)d[0]+=o.lngLat.lng>d[0]?360:-360;r.setLngLat(d).setHTML(h).addTo(t.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{t.map.getCanvas().style.cursor="",r.remove()})}}},JY={class:"position-relative"};function QY(e,t,n,r,o,d){const h=Tr("x-records"),s=Tr("x-navigation"),v=Tr("x-camera"),R=Tr("x-notification"),J=Tr("x-parameter"),k=Tr("x-cctv"),z=Tr("MapboxNavigationControl"),q=Tr("MapboxMap");return bt(),Bt("div",JY,[dn(h),dn(s),dn(v),dn(R),dn(J),dn(k),dn(q,{onMbCreated:t[0]||(t[0]=L=>o.map=L),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 0px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:o.center,zoom:o.zoom},{default:Yn(()=>[dn(z,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const eq=zr(KY,[["render",QY]]);function aM(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function U5(e={},t={}){Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:aM(t[n])&&aM(e[n])&&Object.keys(t[n]).length>0&&U5(e[n],t[n])})}const C6={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function im(){const e=typeof document<"u"?document:{};return U5(e,C6),e}const tq={document:C6,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function wd(){const e=typeof window<"u"?window:{};return U5(e,tq),e}function iq(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function NT(e,t=0){return setTimeout(e,t)}function ub(){return Date.now()}function nq(e){const t=wd();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function rq(e,t="x"){const n=wd();let r,o,d;const h=nq(e);return n.WebKitCSSMatrix?(o=h.transform||h.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(s=>s.replace(",",".")).join(", ")),d=new n.WebKitCSSMatrix(o==="none"?"":o)):(d=h.MozTransform||h.OTransform||h.MsTransform||h.msTransform||h.transform||h.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=d.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?o=d.m41:r.length===16?o=parseFloat(r[12]):o=parseFloat(r[4])),t==="y"&&(n.WebKitCSSMatrix?o=d.m42:r.length===16?o=parseFloat(r[13]):o=parseFloat(r[5])),o||0}function px(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function sq(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function hd(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<e.length;r+=1){const o=e[r];if(o!=null&&!sq(o)){const d=Object.keys(Object(o)).filter(h=>n.indexOf(h)<0);for(let h=0,s=d.length;h<s;h+=1){const v=d[h],R=Object.getOwnPropertyDescriptor(o,v);R!==void 0&&R.enumerable&&(px(t[v])&&px(o[v])?o[v].__swiper__?t[v]=o[v]:hd(t[v],o[v]):!px(t[v])&&px(o[v])?(t[v]={},o[v].__swiper__?t[v]=o[v]:hd(t[v],o[v])):t[v]=o[v])}}}return t}function fx(e,t,n){e.style.setProperty(t,n)}function E6({swiper:e,targetPosition:t,side:n}){const r=wd(),o=-e.translate;let d=null,h;const s=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const v=t>o?"next":"prev",R=(k,z)=>v==="next"&&k>=z||v==="prev"&&k<=z,J=()=>{h=new Date().getTime(),d===null&&(d=h);const k=Math.max(Math.min((h-d)/s,1),0),z=.5-Math.cos(k*Math.PI)/2;let q=o+z*(t-o);if(R(q,t)&&(q=t),e.wrapperEl.scrollTo({[n]:q}),R(q,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:q})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(J)};J()}function ch(e,t=""){return[...e.children].filter(n=>n.matches(t))}function $5(e,t=[]){const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:[t]),n}function oq(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function aq(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function tf(e,t){return wd().getComputedStyle(e,null).getPropertyValue(t)}function FT(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function lq(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function lM(e,t,n){const r=wd();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let z3;function cq(){const e=wd(),t=im();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function M6(){return z3||(z3=cq()),z3}let N3;function dq({userAgent:e}={}){const t=M6(),n=wd(),r=n.navigator.platform,o=e||n.navigator.userAgent,d={ios:!1,android:!1},h=n.screen.width,s=n.screen.height,v=o.match(/(Android);?[\s\/]+([\d.]+)?/);let R=o.match(/(iPad).*OS\s([\d_]+)/);const J=o.match(/(iPod)(.*OS\s([\d_]+))?/),k=!R&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),z=r==="Win32";let q=r==="MacIntel";const L=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!R&&q&&t.touch&&L.indexOf(`${h}x${s}`)>=0&&(R=o.match(/(Version)\/([\d.]+)/),R||(R=[0,1,"13_0_0"]),q=!1),v&&!z&&(d.os="android",d.android=!0),(R||k||J)&&(d.os="ios",d.ios=!0),d}function uq(e={}){return N3||(N3=dq(e)),N3}let F3;function hq(){const e=wd();let t=!1;function n(){const r=e.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(n()){const r=String(e.navigator.userAgent);if(r.includes("Version/")){const[o,d]=r.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));t=o<16||o===16&&d<2}}return{isSafari:t||n(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function pq(){return F3||(F3=hq()),F3}function fq({swiper:e,on:t,emit:n}){const r=wd();let o=null,d=null;const h=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},s=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(J=>{d=r.requestAnimationFrame(()=>{const{width:k,height:z}=e;let q=k,L=z;J.forEach(({contentBoxSize:O,contentRect:G,target:M})=>{M&&M!==e.el||(q=G?G.width:(O[0]||O).inlineSize,L=G?G.height:(O[0]||O).blockSize)}),(q!==k||L!==z)&&h()})}),o.observe(e.el))},v=()=>{d&&r.cancelAnimationFrame(d),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},R=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){s();return}r.addEventListener("resize",h),r.addEventListener("orientationchange",R)}),t("destroy",()=>{v(),r.removeEventListener("resize",h),r.removeEventListener("orientationchange",R)})}function mq({swiper:e,extendParams:t,on:n,emit:r}){const o=[],d=wd(),h=(R,J={})=>{const k=d.MutationObserver||d.WebkitMutationObserver,z=new k(q=>{if(e.__preventObserver__)return;if(q.length===1){r("observerUpdate",q[0]);return}const L=function(){r("observerUpdate",q[0])};d.requestAnimationFrame?d.requestAnimationFrame(L):d.setTimeout(L,0)});z.observe(R,{attributes:typeof J.attributes>"u"?!0:J.attributes,childList:typeof J.childList>"u"?!0:J.childList,characterData:typeof J.characterData>"u"?!0:J.characterData}),o.push(z)},s=()=>{if(e.params.observer){if(e.params.observeParents){const R=lq(e.el);for(let J=0;J<R.length;J+=1)h(R[J])}h(e.el,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},v=()=>{o.forEach(R=>{R.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",s),n("destroy",v)}const gq={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const o=n?"unshift":"push";return e.split(" ").forEach(d=>{r.eventsListeners[d]||(r.eventsListeners[d]=[]),r.eventsListeners[d][o](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function o(...d){r.off(e,o),o.__emitterProxy&&delete o.__emitterProxy,t.apply(r,d)}return o.__emitterProxy=t,r.on(e,o,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((o,d)=>{(o===t||o.__emitterProxy&&o.__emitterProxy===t)&&n.eventsListeners[r].splice(d,1)})}),n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let n,r,o;return typeof e[0]=="string"||Array.isArray(e[0])?(n=e[0],r=e.slice(1,e.length),o=t):(n=e[0].events,r=e[0].data,o=e[0].context||t),r.unshift(o),(Array.isArray(n)?n:n.split(" ")).forEach(h=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(s=>{s.apply(o,[h,...r])}),t.eventsListeners&&t.eventsListeners[h]&&t.eventsListeners[h].forEach(s=>{s.apply(o,r)})}),t}};function yq(){const e=this;let t,n;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=r.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(tf(r,"padding-left")||0,10)-parseInt(tf(r,"padding-right")||0,10),n=n-parseInt(tf(r,"padding-top")||0,10)-parseInt(tf(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function _q(){const e=this;function t(j){return e.isHorizontal()?j:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[j]}function n(j,w){return parseFloat(j.getPropertyValue(t(w))||0)}const r=e.params,{wrapperEl:o,slidesEl:d,size:h,rtlTranslate:s,wrongRTL:v}=e,R=e.virtual&&r.virtual.enabled,J=R?e.virtual.slides.length:e.slides.length,k=ch(d,`.${e.params.slideClass}, swiper-slide`),z=R?e.virtual.slides.length:k.length;let q=[];const L=[],O=[];let G=r.slidesOffsetBefore;typeof G=="function"&&(G=r.slidesOffsetBefore.call(e));let M=r.slidesOffsetAfter;typeof M=="function"&&(M=r.slidesOffsetAfter.call(e));const S=e.snapGrid.length,P=e.slidesGrid.length;let H=r.spaceBetween,U=-G,E=0,ie=0;if(typeof h>"u")return;typeof H=="string"&&H.indexOf("%")>=0?H=parseFloat(H.replace("%",""))/100*h:typeof H=="string"&&(H=parseFloat(H)),e.virtualSize=-H,k.forEach(j=>{s?j.style.marginLeft="":j.style.marginRight="",j.style.marginBottom="",j.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(fx(o,"--swiper-centered-offset-before",""),fx(o,"--swiper-centered-offset-after",""));const te=r.grid&&r.grid.rows>1&&e.grid;te&&e.grid.initSlides(z);let $;const V=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(j=>typeof r.breakpoints[j].slidesPerView<"u").length>0;for(let j=0;j<z;j+=1){$=0;let w;if(k[j]&&(w=k[j]),te&&e.grid.updateSlide(j,w,z,t),!(k[j]&&tf(w,"display")==="none")){if(r.slidesPerView==="auto"){V&&(k[j].style[t("width")]="");const I=getComputedStyle(w),m=w.style.transform,g=w.style.webkitTransform;if(m&&(w.style.transform="none"),g&&(w.style.webkitTransform="none"),r.roundLengths)$=e.isHorizontal()?lM(w,"width",!0):lM(w,"height",!0);else{const b=n(I,"width"),A=n(I,"padding-left"),X=n(I,"padding-right"),Y=n(I,"margin-left"),K=n(I,"margin-right"),le=I.getPropertyValue("box-sizing");if(le&&le==="border-box")$=b+Y+K;else{const{clientWidth:he,offsetWidth:pe}=w;$=b+A+X+Y+K+(pe-he)}}m&&(w.style.transform=m),g&&(w.style.webkitTransform=g),r.roundLengths&&($=Math.floor($))}else $=(h-(r.slidesPerView-1)*H)/r.slidesPerView,r.roundLengths&&($=Math.floor($)),k[j]&&(k[j].style[t("width")]=`${$}px`);k[j]&&(k[j].swiperSlideSize=$),O.push($),r.centeredSlides?(U=U+$/2+E/2+H,E===0&&j!==0&&(U=U-h/2-H),j===0&&(U=U-h/2-H),Math.abs(U)<1/1e3&&(U=0),r.roundLengths&&(U=Math.floor(U)),ie%r.slidesPerGroup===0&&q.push(U),L.push(U)):(r.roundLengths&&(U=Math.floor(U)),(ie-Math.min(e.params.slidesPerGroupSkip,ie))%e.params.slidesPerGroup===0&&q.push(U),L.push(U),U=U+$+H),e.virtualSize+=$+H,E=$,ie+=1}}if(e.virtualSize=Math.max(e.virtualSize,h)+M,s&&v&&(r.effect==="slide"||r.effect==="coverflow")&&(o.style.width=`${e.virtualSize+H}px`),r.setWrapperSize&&(o.style[t("width")]=`${e.virtualSize+H}px`),te&&e.grid.updateWrapperSize($,q,t),!r.centeredSlides){const j=[];for(let w=0;w<q.length;w+=1){let I=q[w];r.roundLengths&&(I=Math.floor(I)),q[w]<=e.virtualSize-h&&j.push(I)}q=j,Math.floor(e.virtualSize-h)-Math.floor(q[q.length-1])>1&&q.push(e.virtualSize-h)}if(R&&r.loop){const j=O[0]+H;if(r.slidesPerGroup>1){const w=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),I=j*r.slidesPerGroup;for(let m=0;m<w;m+=1)q.push(q[q.length-1]+I)}for(let w=0;w<e.virtual.slidesBefore+e.virtual.slidesAfter;w+=1)r.slidesPerGroup===1&&q.push(q[q.length-1]+j),L.push(L[L.length-1]+j),e.virtualSize+=j}if(q.length===0&&(q=[0]),H!==0){const j=e.isHorizontal()&&s?"marginLeft":t("marginRight");k.filter((w,I)=>!r.cssMode||r.loop?!0:I!==k.length-1).forEach(w=>{w.style[j]=`${H}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let j=0;O.forEach(I=>{j+=I+(H||0)}),j-=H;const w=j-h;q=q.map(I=>I<0?-G:I>w?w+M:I)}if(r.centerInsufficientSlides){let j=0;if(O.forEach(w=>{j+=w+(H||0)}),j-=H,j<h){const w=(h-j)/2;q.forEach((I,m)=>{q[m]=I-w}),L.forEach((I,m)=>{L[m]=I+w})}}if(Object.assign(e,{slides:k,snapGrid:q,slidesGrid:L,slidesSizesGrid:O}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){fx(o,"--swiper-centered-offset-before",`${-q[0]}px`),fx(o,"--swiper-centered-offset-after",`${e.size/2-O[O.length-1]/2}px`);const j=-e.snapGrid[0],w=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(I=>I+j),e.slidesGrid=e.slidesGrid.map(I=>I+w)}if(z!==J&&e.emit("slidesLengthChange"),q.length!==S&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),L.length!==P&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!R&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const j=`${r.containerModifierClass}backface-hidden`,w=e.el.classList.contains(j);z<=r.maxBackfaceHiddenSlides?w||e.el.classList.add(j):w&&e.el.classList.remove(j)}}function vq(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let o=0,d;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const h=s=>r?t.slides[t.getSlideIndexByData(s)]:t.slides[s];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(s=>{n.push(s)});else for(d=0;d<Math.ceil(t.params.slidesPerView);d+=1){const s=t.activeIndex+d;if(s>t.slides.length&&!r)break;n.push(h(s))}else n.push(h(t.activeIndex));for(d=0;d<n.length;d+=1)if(typeof n[d]<"u"){const s=n[d].offsetHeight;o=s>o?s:o}(o||o===0)&&(t.wrapperEl.style.height=`${o}px`)}function xq(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()}function bq(e=this&&this.translate||0){const t=this,n=t.params,{slides:r,rtlTranslate:o,snapGrid:d}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let h=-e;o&&(h=e),r.forEach(v=>{v.classList.remove(n.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let s=n.spaceBetween;typeof s=="string"&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*t.size:typeof s=="string"&&(s=parseFloat(s));for(let v=0;v<r.length;v+=1){const R=r[v];let J=R.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(J-=r[0].swiperSlideOffset);const k=(h+(n.centeredSlides?t.minTranslate():0)-J)/(R.swiperSlideSize+s),z=(h-d[0]+(n.centeredSlides?t.minTranslate():0)-J)/(R.swiperSlideSize+s),q=-(h-J),L=q+t.slidesSizesGrid[v];(q>=0&&q<t.size-1||L>1&&L<=t.size||q<=0&&L>=t.size)&&(t.visibleSlides.push(R),t.visibleSlidesIndexes.push(v),r[v].classList.add(n.slideVisibleClass)),R.progress=o?-k:k,R.originalProgress=o?-z:z}}function wq(e){const t=this;if(typeof e>"u"){const J=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*J||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:d,isEnd:h,progressLoop:s}=t;const v=d,R=h;if(r===0)o=0,d=!0,h=!0;else{o=(e-t.minTranslate())/r;const J=Math.abs(e-t.minTranslate())<1,k=Math.abs(e-t.maxTranslate())<1;d=J||o<=0,h=k||o>=1,J&&(o=0),k&&(o=1)}if(n.loop){const J=t.getSlideIndexByData(0),k=t.getSlideIndexByData(t.slides.length-1),z=t.slidesGrid[J],q=t.slidesGrid[k],L=t.slidesGrid[t.slidesGrid.length-1],O=Math.abs(e);O>=z?s=(O-z)/L:s=(O+L-q)/L,s>1&&(s-=1)}Object.assign(t,{progress:o,progressLoop:s,isBeginning:d,isEnd:h}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),d&&!v&&t.emit("reachBeginning toEdge"),h&&!R&&t.emit("reachEnd toEdge"),(v&&!d||R&&!h)&&t.emit("fromEdge"),t.emit("progress",o)}function Tq(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:o}=e,d=e.virtual&&n.virtual.enabled,h=v=>ch(r,`.${n.slideClass}${v}, swiper-slide${v}`)[0];t.forEach(v=>{v.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let s;if(d)if(n.loop){let v=o-e.virtual.slidesBefore;v<0&&(v=e.virtual.slides.length+v),v>=e.virtual.slides.length&&(v-=e.virtual.slides.length),s=h(`[data-swiper-slide-index="${v}"]`)}else s=h(`[data-swiper-slide-index="${o}"]`);else s=t[o];if(s){s.classList.add(n.slideActiveClass);let v=aq(s,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!v&&(v=t[0]),v&&v.classList.add(n.slideNextClass);let R=oq(s,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!R===0&&(R=t[t.length-1]),R&&R.classList.add(n.slidePrevClass)}e.emitSlidesClasses()}const Ax=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(n());if(r){const o=r.querySelector(`.${e.params.lazyPreloaderClass}`);o&&o.remove()}},cM=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},jT=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),o=e.activeIndex,d=o+r-1;if(e.params.rewind)for(let h=o-t;h<=d+t;h+=1){const s=(h%n+n)%n;s!==o&&s>d&&cM(e,s)}else for(let h=Math.max(d-t,0);h<=Math.min(d+t,n-1);h+=1)h!==o&&h>d&&cM(e,h)};function Sq(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let o;for(let d=0;d<t.length;d+=1)typeof t[d+1]<"u"?r>=t[d]&&r<t[d+1]-(t[d+1]-t[d])/2?o=d:r>=t[d]&&r<t[d+1]&&(o=d+1):r>=t[d]&&(o=d);return n.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function Cq(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:o,activeIndex:d,realIndex:h,snapIndex:s}=t;let v=e,R;const J=z=>{let q=z-t.virtual.slidesBefore;return q<0&&(q=t.virtual.slides.length+q),q>=t.virtual.slides.length&&(q-=t.virtual.slides.length),q};if(typeof v>"u"&&(v=Sq(t)),r.indexOf(n)>=0)R=r.indexOf(n);else{const z=Math.min(o.slidesPerGroupSkip,v);R=z+Math.floor((v-z)/o.slidesPerGroup)}if(R>=r.length&&(R=r.length-1),v===d){R!==s&&(t.snapIndex=R,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=J(v));return}let k;t.virtual&&o.virtual.enabled&&o.loop?k=J(v):t.slides[v]?k=parseInt(t.slides[v].getAttribute("data-swiper-slide-index")||v,10):k=v,Object.assign(t,{previousSnapIndex:s,snapIndex:R,previousRealIndex:h,realIndex:k,previousIndex:d,activeIndex:v}),t.initialized&&jT(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),h!==k&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function Eq(e){const t=this,n=t.params,r=e.closest(`.${n.slideClass}, swiper-slide`);let o=!1,d;if(r){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===r){o=!0,d=h;break}}if(r&&o)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}n.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const Mq={updateSize:yq,updateSlides:_q,updateAutoHeight:vq,updateSlidesOffset:xq,updateSlidesProgress:bq,updateProgress:wq,updateSlidesClasses:Tq,updateActiveIndex:Cq,updateClickedSlide:Eq};function kq(e=this.isHorizontal()?"x":"y"){const t=this,{params:n,rtlTranslate:r,translate:o,wrapperEl:d}=t;if(n.virtualTranslate)return r?-o:o;if(n.cssMode)return o;let h=rq(d,e);return h+=t.cssOverflowAdjustment(),r&&(h=-h),h||0}function Aq(e,t){const n=this,{rtlTranslate:r,params:o,wrapperEl:d,progress:h}=n;let s=0,v=0;const R=0;n.isHorizontal()?s=r?-e:e:v=e,o.roundLengths&&(s=Math.floor(s),v=Math.floor(v)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?s:v,o.cssMode?d[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-s:-v:o.virtualTranslate||(n.isHorizontal()?s-=n.cssOverflowAdjustment():v-=n.cssOverflowAdjustment(),d.style.transform=`translate3d(${s}px, ${v}px, ${R}px)`);let J;const k=n.maxTranslate()-n.minTranslate();k===0?J=0:J=(e-n.minTranslate())/k,J!==h&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function Pq(){return-this.snapGrid[0]}function Dq(){return-this.snapGrid[this.snapGrid.length-1]}function Iq(e=0,t=this.params.speed,n=!0,r=!0,o){const d=this,{params:h,wrapperEl:s}=d;if(d.animating&&h.preventInteractionOnTransition)return!1;const v=d.minTranslate(),R=d.maxTranslate();let J;if(r&&e>v?J=v:r&&e<R?J=R:J=e,d.updateProgress(J),h.cssMode){const k=d.isHorizontal();if(t===0)s[k?"scrollLeft":"scrollTop"]=-J;else{if(!d.support.smoothScroll)return E6({swiper:d,targetPosition:-J,side:k?"left":"top"}),!0;s.scrollTo({[k?"left":"top"]:-J,behavior:"smooth"})}return!0}return t===0?(d.setTransition(0),d.setTranslate(J),n&&(d.emit("beforeTransitionStart",t,o),d.emit("transitionEnd"))):(d.setTransition(t),d.setTranslate(J),n&&(d.emit("beforeTransitionStart",t,o),d.emit("transitionStart")),d.animating||(d.animating=!0,d.onTranslateToWrapperTransitionEnd||(d.onTranslateToWrapperTransitionEnd=function(z){!d||d.destroyed||z.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onTranslateToWrapperTransitionEnd),d.onTranslateToWrapperTransitionEnd=null,delete d.onTranslateToWrapperTransitionEnd,n&&d.emit("transitionEnd"))}),d.wrapperEl.addEventListener("transitionend",d.onTranslateToWrapperTransitionEnd))),!0}const Lq={getTranslate:kq,setTranslate:Aq,minTranslate:Pq,maxTranslate:Dq,translateTo:Iq};function Oq(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`),n.emit("setTransition",e,t)}function k6({swiper:e,runCallbacks:t,direction:n,step:r}){const{activeIndex:o,previousIndex:d}=e;let h=n;if(h||(o>d?h="next":o<d?h="prev":h="reset"),e.emit(`transition${r}`),t&&o!==d){if(h==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),h==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function Rq(e=!0,t){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),k6({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function Bq(e=!0,t){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),k6({swiper:n,runCallbacks:e,direction:t,step:"End"}))}const zq={setTransition:Oq,transitionStart:Rq,transitionEnd:Bq};function Nq(e=0,t=this.params.speed,n=!0,r,o){typeof e=="string"&&(e=parseInt(e,10));const d=this;let h=e;h<0&&(h=0);const{params:s,snapGrid:v,slidesGrid:R,previousIndex:J,activeIndex:k,rtlTranslate:z,wrapperEl:q,enabled:L}=d;if(d.animating&&s.preventInteractionOnTransition||!L&&!r&&!o)return!1;const O=Math.min(d.params.slidesPerGroupSkip,h);let G=O+Math.floor((h-O)/d.params.slidesPerGroup);G>=v.length&&(G=v.length-1);const M=-v[G];if(s.normalizeSlideIndex)for(let P=0;P<R.length;P+=1){const H=-Math.floor(M*100),U=Math.floor(R[P]*100),E=Math.floor(R[P+1]*100);typeof R[P+1]<"u"?H>=U&&H<E-(E-U)/2?h=P:H>=U&&H<E&&(h=P+1):H>=U&&(h=P)}if(d.initialized&&h!==k&&(!d.allowSlideNext&&M<d.translate&&M<d.minTranslate()||!d.allowSlidePrev&&M>d.translate&&M>d.maxTranslate()&&(k||0)!==h))return!1;h!==(J||0)&&n&&d.emit("beforeSlideChangeStart"),d.updateProgress(M);let S;if(h>k?S="next":h<k?S="prev":S="reset",z&&-M===d.translate||!z&&M===d.translate)return d.updateActiveIndex(h),s.autoHeight&&d.updateAutoHeight(),d.updateSlidesClasses(),s.effect!=="slide"&&d.setTranslate(M),S!=="reset"&&(d.transitionStart(n,S),d.transitionEnd(n,S)),!1;if(s.cssMode){const P=d.isHorizontal(),H=z?M:-M;if(t===0){const U=d.virtual&&d.params.virtual.enabled;U&&(d.wrapperEl.style.scrollSnapType="none",d._immediateVirtual=!0),U&&!d._cssModeVirtualInitialSet&&d.params.initialSlide>0?(d._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{q[P?"scrollLeft":"scrollTop"]=H})):q[P?"scrollLeft":"scrollTop"]=H,U&&requestAnimationFrame(()=>{d.wrapperEl.style.scrollSnapType="",d._immediateVirtual=!1})}else{if(!d.support.smoothScroll)return E6({swiper:d,targetPosition:H,side:P?"left":"top"}),!0;q.scrollTo({[P?"left":"top"]:H,behavior:"smooth"})}return!0}return d.setTransition(t),d.setTranslate(M),d.updateActiveIndex(h),d.updateSlidesClasses(),d.emit("beforeTransitionStart",t,r),d.transitionStart(n,S),t===0?d.transitionEnd(n,S):d.animating||(d.animating=!0,d.onSlideToWrapperTransitionEnd||(d.onSlideToWrapperTransitionEnd=function(H){!d||d.destroyed||H.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onSlideToWrapperTransitionEnd),d.onSlideToWrapperTransitionEnd=null,delete d.onSlideToWrapperTransitionEnd,d.transitionEnd(n,S))}),d.wrapperEl.addEventListener("transitionend",d.onSlideToWrapperTransitionEnd)),!0}function Fq(e=0,t=this.params.speed,n=!0,r){typeof e=="string"&&(e=parseInt(e,10));const o=this;let d=e;return o.params.loop&&(o.virtual&&o.params.virtual.enabled?d=d+o.virtual.slidesBefore:d=o.getSlideIndexByData(d)),o.slideTo(d,t,n,r)}function jq(e=this.params.speed,t=!0,n){const r=this,{enabled:o,params:d,animating:h}=r;if(!o)return r;let s=d.slidesPerGroup;d.slidesPerView==="auto"&&d.slidesPerGroup===1&&d.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));const v=r.activeIndex<d.slidesPerGroupSkip?1:s,R=r.virtual&&d.virtual.enabled;if(d.loop){if(h&&!R&&d.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return d.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+v,e,t,n)}function Uq(e=this.params.speed,t=!0,n){const r=this,{params:o,snapGrid:d,slidesGrid:h,rtlTranslate:s,enabled:v,animating:R}=r;if(!v)return r;const J=r.virtual&&o.virtual.enabled;if(o.loop){if(R&&!J&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const k=s?r.translate:-r.translate;function z(M){return M<0?-Math.floor(Math.abs(M)):Math.floor(M)}const q=z(k),L=d.map(M=>z(M));let O=d[L.indexOf(q)-1];if(typeof O>"u"&&o.cssMode){let M;d.forEach((S,P)=>{q>=S&&(M=P)}),typeof M<"u"&&(O=d[M>0?M-1:M])}let G=0;if(typeof O<"u"&&(G=h.indexOf(O),G<0&&(G=r.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(G=G-r.slidesPerViewDynamic("previous",!0)+1,G=Math.max(G,0))),o.rewind&&r.isBeginning){const M=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(M,e,t,n)}return r.slideTo(G,e,t,n)}function $q(e=this.params.speed,t=!0,n){const r=this;return r.slideTo(r.activeIndex,e,t,n)}function Vq(e=this.params.speed,t=!0,n,r=.5){const o=this;let d=o.activeIndex;const h=Math.min(o.params.slidesPerGroupSkip,d),s=h+Math.floor((d-h)/o.params.slidesPerGroup),v=o.rtlTranslate?o.translate:-o.translate;if(v>=o.snapGrid[s]){const R=o.snapGrid[s],J=o.snapGrid[s+1];v-R>(J-R)*r&&(d+=o.params.slidesPerGroup)}else{const R=o.snapGrid[s-1],J=o.snapGrid[s];v-R<=(J-R)*r&&(d-=o.params.slidesPerGroup)}return d=Math.max(d,0),d=Math.min(d,o.slidesGrid.length-1),o.slideTo(d,e,t,n)}function Gq(){const e=this,{params:t,slidesEl:n}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let o=e.clickedIndex,d;const h=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;d=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-r/2||o>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),o=e.getSlideIndex(ch(n,`${h}[data-swiper-slide-index="${d}"]`)[0]),NT(()=>{e.slideTo(o)})):e.slideTo(o):o>e.slides.length-r?(e.loopFix(),o=e.getSlideIndex(ch(n,`${h}[data-swiper-slide-index="${d}"]`)[0]),NT(()=>{e.slideTo(o)})):e.slideTo(o)}else e.slideTo(o)}const Hq={slideTo:Nq,slideToLoop:Fq,slideNext:jq,slidePrev:Uq,slideReset:$q,slideToClosest:Vq,slideToClickedSlide:Gq};function Wq(e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;ch(r,`.${n.slideClass}, swiper-slide`).forEach((d,h)=>{d.setAttribute("data-swiper-slide-index",h)}),t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})}function Yq({slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:r,activeSlideIndex:o,byController:d,byMousewheel:h}={}){const s=this;if(!s.params.loop)return;s.emit("beforeLoopFix");const{slides:v,allowSlidePrev:R,allowSlideNext:J,slidesEl:k,params:z}=s;if(s.allowSlidePrev=!0,s.allowSlideNext=!0,s.virtual&&z.virtual.enabled){t&&(!z.centeredSlides&&s.snapIndex===0?s.slideTo(s.virtual.slides.length,0,!1,!0):z.centeredSlides&&s.snapIndex<z.slidesPerView?s.slideTo(s.virtual.slides.length+s.snapIndex,0,!1,!0):s.snapIndex===s.snapGrid.length-1&&s.slideTo(s.virtual.slidesBefore,0,!1,!0)),s.allowSlidePrev=R,s.allowSlideNext=J,s.emit("loopFix");return}const q=z.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(z.slidesPerView,10));let L=z.loopedSlides||q;L%z.slidesPerGroup!==0&&(L+=z.slidesPerGroup-L%z.slidesPerGroup),s.loopedSlides=L;const O=[],G=[];let M=s.activeIndex;typeof o>"u"?o=s.getSlideIndex(s.slides.filter(E=>E.classList.contains(z.slideActiveClass))[0]):M=o;const S=n==="next"||!n,P=n==="prev"||!n;let H=0,U=0;if(o<L){H=Math.max(L-o,z.slidesPerGroup);for(let E=0;E<L-o;E+=1){const ie=E-Math.floor(E/v.length)*v.length;O.push(v.length-ie-1)}}else if(o>s.slides.length-L*2){U=Math.max(o-(s.slides.length-L*2),z.slidesPerGroup);for(let E=0;E<U;E+=1){const ie=E-Math.floor(E/v.length)*v.length;G.push(ie)}}if(P&&O.forEach(E=>{s.slides[E].swiperLoopMoveDOM=!0,k.prepend(s.slides[E]),s.slides[E].swiperLoopMoveDOM=!1}),S&&G.forEach(E=>{s.slides[E].swiperLoopMoveDOM=!0,k.append(s.slides[E]),s.slides[E].swiperLoopMoveDOM=!1}),s.recalcSlides(),z.slidesPerView==="auto"&&s.updateSlides(),z.watchSlidesProgress&&s.updateSlidesOffset(),t){if(O.length>0&&P)if(typeof e>"u"){const E=s.slidesGrid[M],te=s.slidesGrid[M+H]-E;h?s.setTranslate(s.translate-te):(s.slideTo(M+H,0,!1,!0),r&&(s.touches[s.isHorizontal()?"startX":"startY"]+=te))}else r&&s.slideToLoop(e,0,!1,!0);else if(G.length>0&&S)if(typeof e>"u"){const E=s.slidesGrid[M],te=s.slidesGrid[M-U]-E;h?s.setTranslate(s.translate-te):(s.slideTo(M-U,0,!1,!0),r&&(s.touches[s.isHorizontal()?"startX":"startY"]+=te))}else s.slideToLoop(e,0,!1,!0)}if(s.allowSlidePrev=R,s.allowSlideNext=J,s.controller&&s.controller.control&&!d){const E={slideRealIndex:e,slideTo:!1,direction:n,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(s.controller.control)?s.controller.control.forEach(ie=>{!ie.destroyed&&ie.params.loop&&ie.loopFix(E)}):s.controller.control instanceof s.constructor&&s.controller.control.params.loop&&s.controller.control.loopFix(E)}s.emit("loopFix")}function qq(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(o=>{const d=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;r[d]=o}),e.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),r.forEach(o=>{n.append(o)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const Xq={loopCreate:Wq,loopFix:Yq,loopDestroy:qq};function Zq(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function Kq(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const Jq={setGrabCursor:Zq,unsetGrabCursor:Kq};function Qq(e,t=this){function n(r){if(!r||r===im()||r===wd())return null;r.assignedSlot&&(r=r.assignedSlot);const o=r.closest(e);return!o&&!r.getRootNode?null:o||n(r.getRootNode().host)}return n(t)}function eX(e){const t=this,n=im(),r=wd(),o=t.touchEventsData;o.evCache.push(e);const{params:d,touches:h,enabled:s}=t;if(!s||!d.simulateTouch&&e.pointerType==="mouse"||t.animating&&d.preventInteractionOnTransition)return;!t.animating&&d.cssMode&&d.loop&&t.loopFix();let v=e;v.originalEvent&&(v=v.originalEvent);let R=v.target;if(d.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(R)||"which"in v&&v.which===3||"button"in v&&v.button>0||o.isTouched&&o.isMoved)return;const J=!!d.noSwipingClass&&d.noSwipingClass!=="",k=e.composedPath?e.composedPath():e.path;J&&v.target&&v.target.shadowRoot&&k&&(R=k[0]);const z=d.noSwipingSelector?d.noSwipingSelector:`.${d.noSwipingClass}`,q=!!(v.target&&v.target.shadowRoot);if(d.noSwiping&&(q?Qq(z,R):R.closest(z))){t.allowClick=!0;return}if(d.swipeHandler&&!R.closest(d.swipeHandler))return;h.currentX=v.pageX,h.currentY=v.pageY;const L=h.currentX,O=h.currentY,G=d.edgeSwipeDetection||d.iOSEdgeSwipeDetection,M=d.edgeSwipeThreshold||d.iOSEdgeSwipeThreshold;if(G&&(L<=M||L>=r.innerWidth-M))if(G==="prevent")e.preventDefault();else return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),h.startX=L,h.startY=O,o.touchStartTime=ub(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,d.threshold>0&&(o.allowThresholdMove=!1);let S=!0;R.matches(o.focusableElements)&&(S=!1,R.nodeName==="SELECT"&&(o.isTouched=!1)),n.activeElement&&n.activeElement.matches(o.focusableElements)&&n.activeElement!==R&&n.activeElement.blur();const P=S&&t.allowTouchMove&&d.touchStartPreventDefault;(d.touchStartForcePreventDefault||P)&&!R.isContentEditable&&v.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!d.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",v)}function tX(e){const t=im(),n=this,r=n.touchEventsData,{params:o,touches:d,rtlTranslate:h,enabled:s}=n;if(!s||!o.simulateTouch&&e.pointerType==="mouse")return;let v=e;if(v.originalEvent&&(v=v.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",v);return}const R=r.evCache.findIndex(E=>E.pointerId===v.pointerId);R>=0&&(r.evCache[R]=v);const J=r.evCache.length>1?r.evCache[0]:v,k=J.pageX,z=J.pageY;if(v.preventedByNestedSwiper){d.startX=k,d.startY=z;return}if(!n.allowTouchMove){v.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(d,{startX:k,startY:z,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:k,currentY:z}),r.touchStartTime=ub());return}if(o.touchReleaseOnEdges&&!o.loop){if(n.isVertical()){if(z<d.startY&&n.translate<=n.maxTranslate()||z>d.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(k<d.startX&&n.translate<=n.maxTranslate()||k>d.startX&&n.translate>=n.minTranslate())return}if(t.activeElement&&v.target===t.activeElement&&v.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",v),v.targetTouches&&v.targetTouches.length>1)return;d.currentX=k,d.currentY=z;const q=d.currentX-d.startX,L=d.currentY-d.startY;if(n.params.threshold&&Math.sqrt(q**2+L**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let E;n.isHorizontal()&&d.currentY===d.startY||n.isVertical()&&d.currentX===d.startX?r.isScrolling=!1:q*q+L*L>=25&&(E=Math.atan2(Math.abs(L),Math.abs(q))*180/Math.PI,r.isScrolling=n.isHorizontal()?E>o.touchAngle:90-E>o.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",v),typeof r.startMoving>"u"&&(d.currentX!==d.startX||d.currentY!==d.startY)&&(r.startMoving=!0),r.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!o.cssMode&&v.cancelable&&v.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&v.stopPropagation();let O=n.isHorizontal()?q:L,G=n.isHorizontal()?d.currentX-d.previousX:d.currentY-d.previousY;o.oneWayMovement&&(O=Math.abs(O)*(h?1:-1),G=Math.abs(G)*(h?1:-1)),d.diff=O,O*=o.touchRatio,h&&(O=-O,G=-G);const M=n.touchesDirection;n.swipeDirection=O>0?"prev":"next",n.touchesDirection=G>0?"prev":"next";const S=n.params.loop&&!o.cssMode;if(!r.isMoved){if(S&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,o.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",v)}let P;r.isMoved&&M!==n.touchesDirection&&S&&Math.abs(O)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),P=!0),n.emit("sliderMove",v),r.isMoved=!0,r.currentTranslate=O+r.startTranslate;let H=!0,U=o.resistanceRatio;if(o.touchReleaseOnEdges&&(U=0),O>0?(S&&!P&&r.currentTranslate>(o.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(H=!1,o.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+O)**U))):O<0&&(S&&!P&&r.currentTranslate<(o.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(o.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(H=!1,o.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-O)**U))),H&&(v.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),o.threshold>0)if(Math.abs(O)>o.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,d.startX=d.currentX,d.startY=d.currentY,r.currentTranslate=r.startTranslate,d.diff=n.isHorizontal()?d.currentX-d.startX:d.currentY-d.startY;return}}else{r.currentTranslate=r.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function iX(e){const t=this,n=t.touchEventsData,r=n.evCache.findIndex(P=>P.pointerId===e.pointerId);if(r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:o,touches:d,rtlTranslate:h,slidesGrid:s,enabled:v}=t;if(!v||!o.simulateTouch&&e.pointerType==="mouse")return;let R=e;if(R.originalEvent&&(R=R.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",R),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const J=ub(),k=J-n.touchStartTime;if(t.allowClick){const P=R.path||R.composedPath&&R.composedPath();t.updateClickedSlide(P&&P[0]||R.target),t.emit("tap click",R),k<300&&J-n.lastClickTime<300&&t.emit("doubleTap doubleClick",R)}if(n.lastClickTime=ub(),NT(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||d.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let z;if(o.followFinger?z=h?t.translate:-t.translate:z=-n.currentTranslate,o.cssMode)return;if(t.params.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:z});return}let q=0,L=t.slidesSizesGrid[0];for(let P=0;P<s.length;P+=P<o.slidesPerGroupSkip?1:o.slidesPerGroup){const H=P<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof s[P+H]<"u"?z>=s[P]&&z<s[P+H]&&(q=P,L=s[P+H]-s[P]):z>=s[P]&&(q=P,L=s[s.length-1]-s[s.length-2])}let O=null,G=null;o.rewind&&(t.isBeginning?G=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(O=0));const M=(z-s[q])/L,S=q<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(k>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(M>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?O:q+S):t.slideTo(q)),t.swipeDirection==="prev"&&(M>1-o.longSwipesRatio?t.slideTo(q+S):G!==null&&M<0&&Math.abs(M)>o.longSwipesRatio?t.slideTo(G):t.slideTo(q))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(R.target===t.navigation.nextEl||R.target===t.navigation.prevEl)?R.target===t.navigation.nextEl?t.slideTo(q+S):t.slideTo(q):(t.swipeDirection==="next"&&t.slideTo(O!==null?O:q+S),t.swipeDirection==="prev"&&t.slideTo(G!==null?G:q))}}function dM(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:d}=e,h=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const s=h&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!s?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!h?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=o,e.allowSlideNext=r,e.params.watchOverflow&&d!==e.snapGrid&&e.checkOverflow()}function nX(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function rX(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let o;const d=e.maxTranslate()-e.minTranslate();d===0?o=0:o=(e.translate-e.minTranslate())/d,o!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function sX(e){const t=this;Ax(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let uM=!1;function oX(){}const A6=(e,t)=>{const n=im(),{params:r,el:o,wrapperEl:d,device:h}=e,s=!!r.nested,v=t==="on"?"addEventListener":"removeEventListener",R=t;o[v]("pointerdown",e.onTouchStart,{passive:!1}),n[v]("pointermove",e.onTouchMove,{passive:!1,capture:s}),n[v]("pointerup",e.onTouchEnd,{passive:!0}),n[v]("pointercancel",e.onTouchEnd,{passive:!0}),n[v]("pointerout",e.onTouchEnd,{passive:!0}),n[v]("pointerleave",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[v]("click",e.onClick,!0),r.cssMode&&d[v]("scroll",e.onScroll),r.updateOnWindowResize?e[R](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",dM,!0):e[R]("observerUpdate",dM,!0),o[v]("load",e.onLoad,{capture:!0})};function aX(){const e=this,t=im(),{params:n}=e;e.onTouchStart=eX.bind(e),e.onTouchMove=tX.bind(e),e.onTouchEnd=iX.bind(e),n.cssMode&&(e.onScroll=rX.bind(e)),e.onClick=nX.bind(e),e.onLoad=sX.bind(e),uM||(t.addEventListener("touchstart",oX),uM=!0),A6(e,"on")}function lX(){A6(this,"off")}const cX={attachEvents:aX,detachEvents:lX},hM=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function dX(){const e=this,{realIndex:t,initialized:n,params:r,el:o}=e,d=r.breakpoints;if(!d||d&&Object.keys(d).length===0)return;const h=e.getBreakpoint(d,e.params.breakpointsBase,e.el);if(!h||e.currentBreakpoint===h)return;const v=(h in d?d[h]:void 0)||e.originalParams,R=hM(e,r),J=hM(e,v),k=r.enabled;R&&!J?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!R&&J&&(o.classList.add(`${r.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&r.grid.fill==="column")&&o.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(O=>{const G=r[O]&&r[O].enabled,M=v[O]&&v[O].enabled;G&&!M&&e[O].disable(),!G&&M&&e[O].enable()});const z=v.direction&&v.direction!==r.direction,q=r.loop&&(v.slidesPerView!==r.slidesPerView||z);z&&n&&e.changeDirection(),hd(e.params,v);const L=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),k&&!L?e.disable():!k&&L&&e.enable(),e.currentBreakpoint=h,e.emit("_beforeBreakpoint",v),q&&n&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",v)}function uX(e,t="window",n){if(!e||t==="container"&&!n)return;let r=!1;const o=wd(),d=t==="window"?o.innerHeight:n.clientHeight,h=Object.keys(e).map(s=>{if(typeof s=="string"&&s.indexOf("@")===0){const v=parseFloat(s.substr(1));return{value:d*v,point:s}}return{value:s,point:s}});h.sort((s,v)=>parseInt(s.value,10)-parseInt(v.value,10));for(let s=0;s<h.length;s+=1){const{point:v,value:R}=h[s];t==="window"?o.matchMedia(`(min-width: ${R}px)`).matches&&(r=v):R<=n.clientWidth&&(r=v)}return r||"max"}const hX={setBreakpoint:dX,getBreakpoint:uX};function pX(e,t){const n=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(o=>{r[o]&&n.push(t+o)}):typeof r=="string"&&n.push(t+r)}),n}function fX(){const e=this,{classNames:t,params:n,rtl:r,el:o,device:d}=e,h=pX(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:d.android},{ios:d.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...h),o.classList.add(...t),e.emitContainerClasses()}function mX(){const e=this,{el:t,classNames:n}=e;t.classList.remove(...n),e.emitContainerClasses()}const gX={addClasses:fX,removeClasses:mX};function yX(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const o=e.slides.length-1,d=e.slidesGrid[o]+e.slidesSizesGrid[o]+r*2;e.isLocked=e.size>d}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const _X={checkOverflow:yX},pM={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function vX(e,t){return function(r={}){const o=Object.keys(r)[0],d=r[o];if(typeof d!="object"||d===null){hd(t,r);return}if(["navigation","pagination","scrollbar"].indexOf(o)>=0&&e[o]===!0&&(e[o]={auto:!0}),!(o in e&&"enabled"in d)){hd(t,r);return}e[o]===!0&&(e[o]={enabled:!0}),typeof e[o]=="object"&&!("enabled"in e[o])&&(e[o].enabled=!0),e[o]||(e[o]={enabled:!1}),hd(t,r)}}const j3={eventsEmitter:gq,update:Mq,translate:Lq,transition:zq,slide:Hq,loop:Xq,grabCursor:Jq,events:cX,breakpoints:hX,checkOverflow:_X,classes:gX},U3={};let o_=class Hh{constructor(...t){let n,r;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?r=t[0]:[n,r]=t,r||(r={}),r=hd({},r),n&&!r.el&&(r.el=n);const o=im();if(r.el&&typeof r.el=="string"&&o.querySelectorAll(r.el).length>1){const v=[];return o.querySelectorAll(r.el).forEach(R=>{const J=hd({},r,{el:R});v.push(new Hh(J))}),v}const d=this;d.__swiper__=!0,d.support=M6(),d.device=uq({userAgent:r.userAgent}),d.browser=pq(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],r.modules&&Array.isArray(r.modules)&&d.modules.push(...r.modules);const h={};d.modules.forEach(v=>{v({params:r,swiper:d,extendParams:vX(r,h),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const s=hd({},pM,h);return d.params=hd({},s,U3,r),d.originalParams=hd({},d.params),d.passedParams=hd({},r),d.params&&d.params.on&&Object.keys(d.params.on).forEach(v=>{d.on(v,d.params.on[v])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getSlideIndex(t){const{slidesEl:n,params:r}=this,o=ch(n,`.${r.slideClass}, swiper-slide`),d=FT(o[0]);return FT(t)-d}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:n,params:r}=t;t.slides=ch(n,`.${r.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const r=this;t=Math.min(Math.max(t,0),1);const o=r.minTranslate(),h=(r.maxTranslate()-o)*t+o;r.translateTo(h,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(r=>{const o=t.getSlideClasses(r);n.push({slideEl:r,classNames:o}),t.emit("_slideClass",r,o)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t="current",n=!1){const r=this,{params:o,slides:d,slidesGrid:h,slidesSizesGrid:s,size:v,activeIndex:R}=r;let J=1;if(o.centeredSlides){let k=d[R].swiperSlideSize,z;for(let q=R+1;q<d.length;q+=1)d[q]&&!z&&(k+=d[q].swiperSlideSize,J+=1,k>v&&(z=!0));for(let q=R-1;q>=0;q-=1)d[q]&&!z&&(k+=d[q].swiperSlideSize,J+=1,k>v&&(z=!0))}else if(t==="current")for(let k=R+1;k<d.length;k+=1)(n?h[k]+s[k]-h[R]<v:h[k]-h[R]<v)&&(J+=1);else for(let k=R-1;k>=0;k-=1)h[R]-h[k]<v&&(J+=1);return J}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(h=>{h.complete&&Ax(t,h)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function o(){const h=t.rtlTranslate?t.translate*-1:t.translate,s=Math.min(Math.max(h,t.maxTranslate()),t.minTranslate());t.setTranslate(s),t.updateActiveIndex(),t.updateSlidesClasses()}let d;if(t.params.freeMode&&t.params.freeMode.enabled)o(),t.params.autoHeight&&t.updateAutoHeight();else{if((t.params.slidesPerView==="auto"||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides){const h=t.virtual&&t.params.virtual.enabled?t.virtual.slides:t.slides;d=t.slideTo(h.length-1,0,!1,!0)}else d=t.slideTo(t.activeIndex,0,!1,!0);d||o()}r.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n=!0){const r=this,o=r.params.direction;return t||(t=o==="horizontal"?"vertical":"horizontal"),t===o||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${o}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(d=>{t==="vertical"?d.style.width="":d.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let r=t||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.shadowEl&&(n.isElement=!0);const o=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let h=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(o()):ch(r,o())[0])();return!h&&n.params.createElements&&(h=$5("div",n.params.wrapperClass),r.append(h),ch(r,`.${n.params.slideClass}`).forEach(s=>{h.append(s)})),Object.assign(n,{el:r,wrapperEl:h,slidesEl:n.isElement?r:h,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||tf(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||tf(r,"direction")==="rtl"),wrongRTL:tf(h,"display")==="-webkit-box"}),!0}init(t){const n=this;return n.initialized||n.mount(t)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete?Ax(n,o):o.addEventListener("load",d=>{Ax(n,d.target)})}),jT(n),n.initialized=!0,jT(n),n.emit("init"),n.emit("afterInit")),n}destroy(t=!0,n=!0){const r=this,{params:o,el:d,wrapperEl:h,slides:s}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),o.loop&&r.loopDestroy(),n&&(r.removeClasses(),d.removeAttribute("style"),h.removeAttribute("style"),s&&s.length&&s.forEach(v=>{v.classList.remove(o.slideVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),v.removeAttribute("style"),v.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(v=>{r.off(v)}),t!==!1&&(r.el.swiper=null,iq(r)),r.destroyed=!0),null}static extendDefaults(t){hd(U3,t)}static get extendedDefaults(){return U3}static get defaults(){return pM}static installModule(t){Hh.prototype.__modules__||(Hh.prototype.__modules__=[]);const n=Hh.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>Hh.installModule(n)),Hh):(Hh.installModule(t),Hh)}};Object.keys(j3).forEach(e=>{Object.keys(j3[e]).forEach(t=>{o_.prototype[t]=j3[e][t]})});o_.use([fq,mq]);function xX(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(o=>{if(!n[o]&&n.auto===!0){let d=ch(e.el,`.${r[o]}`)[0];d||(d=$5("div",r[o]),d.className=r[o],e.el.append(d)),n[o]=d,t[o]=d}}),n}function bX({swiper:e,extendParams:t,on:n,emit:r}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const o=L=>(Array.isArray(L)||(L=[L].filter(O=>!!O)),L);function d(L){let O;return L&&typeof L=="string"&&e.isElement&&(O=e.el.shadowRoot.querySelector(L),O)?O:(L&&(typeof L=="string"&&(O=[...document.querySelectorAll(L)]),e.params.uniqueNavElements&&typeof L=="string"&&O.length>1&&e.el.querySelectorAll(L).length===1&&(O=e.el.querySelector(L))),L&&!O?L:O)}function h(L,O){const G=e.params.navigation;L=o(L),L.forEach(M=>{M&&(M.classList[O?"add":"remove"](...G.disabledClass.split(" ")),M.tagName==="BUTTON"&&(M.disabled=O),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](G.lockClass))})}function s(){const{nextEl:L,prevEl:O}=e.navigation;if(e.params.loop){h(O,!1),h(L,!1);return}h(O,e.isBeginning&&!e.params.rewind),h(L,e.isEnd&&!e.params.rewind)}function v(L){L.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function R(L){L.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function J(){const L=e.params.navigation;if(e.params.navigation=xX(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(L.nextEl||L.prevEl))return;let O=d(L.nextEl),G=d(L.prevEl);Object.assign(e.navigation,{nextEl:O,prevEl:G}),O=o(O),G=o(G);const M=(S,P)=>{S&&S.addEventListener("click",P==="next"?R:v),!e.enabled&&S&&S.classList.add(...L.lockClass.split(" "))};O.forEach(S=>M(S,"next")),G.forEach(S=>M(S,"prev"))}function k(){let{nextEl:L,prevEl:O}=e.navigation;L=o(L),O=o(O);const G=(M,S)=>{M.removeEventListener("click",S==="next"?R:v),M.classList.remove(...e.params.navigation.disabledClass.split(" "))};L.forEach(M=>G(M,"next")),O.forEach(M=>G(M,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?q():(J(),s())}),n("toEdge fromEdge lock unlock",()=>{s()}),n("destroy",()=>{k()}),n("enable disable",()=>{let{nextEl:L,prevEl:O}=e.navigation;L=o(L),O=o(O),[...L,...O].filter(G=>!!G).forEach(G=>G.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),n("click",(L,O)=>{let{nextEl:G,prevEl:M}=e.navigation;G=o(G),M=o(M);const S=O.target;if(e.params.navigation.hideOnClick&&!M.includes(S)&&!G.includes(S)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let P;G.length?P=G[0].classList.contains(e.params.navigation.hiddenClass):M.length&&(P=M[0].classList.contains(e.params.navigation.hiddenClass)),r(P===!0?"navigationShow":"navigationHide"),[...G,...M].filter(H=>!!H).forEach(H=>H.classList.toggle(e.params.navigation.hiddenClass))}});const z=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),J(),s()},q=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),k()};Object.assign(e.navigation,{enable:z,disable:q,update:s,init:J,destroy:k})}function $3(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function wX({swiper:e,extendParams:t,on:n}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let r=null;function o(I){const m=r;m.length!==0&&(m.innerHTML="",m.innerHTML=I)}const d=I=>(Array.isArray(I)||(I=[I].filter(m=>!!m)),I);function h(I=16){const m=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(I).replace(/x/g,m)}function s(I){I=d(I),I.forEach(m=>{m.setAttribute("tabIndex","0")})}function v(I){I=d(I),I.forEach(m=>{m.setAttribute("tabIndex","-1")})}function R(I,m){I=d(I),I.forEach(g=>{g.setAttribute("role",m)})}function J(I,m){I=d(I),I.forEach(g=>{g.setAttribute("aria-roledescription",m)})}function k(I,m){I=d(I),I.forEach(g=>{g.setAttribute("aria-controls",m)})}function z(I,m){I=d(I),I.forEach(g=>{g.setAttribute("aria-label",m)})}function q(I,m){I=d(I),I.forEach(g=>{g.setAttribute("id",m)})}function L(I,m){I=d(I),I.forEach(g=>{g.setAttribute("aria-live",m)})}function O(I){I=d(I),I.forEach(m=>{m.setAttribute("aria-disabled",!0)})}function G(I){I=d(I),I.forEach(m=>{m.setAttribute("aria-disabled",!1)})}function M(I){if(I.keyCode!==13&&I.keyCode!==32)return;const m=e.params.a11y,g=I.target;e.pagination&&e.pagination.el&&(g===e.pagination.el||e.pagination.el.contains(I.target))&&!I.target.matches($3(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&g===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?o(m.lastSlideMessage):o(m.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&g===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?o(m.firstSlideMessage):o(m.prevSlideMessage)),e.pagination&&g.matches($3(e.params.pagination.bulletClass))&&g.click())}function S(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:I,prevEl:m}=e.navigation;m&&(e.isBeginning?(O(m),v(m)):(G(m),s(m))),I&&(e.isEnd?(O(I),v(I)):(G(I),s(I)))}function P(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function H(){return P()&&e.params.pagination.clickable}function U(){const I=e.params.a11y;P()&&e.pagination.bullets.forEach(m=>{e.params.pagination.clickable&&(s(m),e.params.pagination.renderBullet||(R(m,"button"),z(m,I.paginationBulletMessage.replace(/\{\{index\}\}/,FT(m)+1)))),m.matches($3(e.params.pagination.bulletActiveClass))?m.setAttribute("aria-current","true"):m.removeAttribute("aria-current")})}const E=(I,m,g)=>{s(I),I.tagName!=="BUTTON"&&(R(I,"button"),I.addEventListener("keydown",M)),z(I,g),k(I,m)},ie=()=>{e.a11y.clicked=!0},te=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},$=I=>{if(e.a11y.clicked)return;const m=I.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!m||!e.slides.includes(m))return;const g=e.slides.indexOf(m)===e.activeIndex,b=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(m);g||b||I.sourceCapabilities&&I.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(m),0))},V=()=>{const I=e.params.a11y;I.itemRoleDescriptionMessage&&J(e.slides,I.itemRoleDescriptionMessage),I.slideRole&&R(e.slides,I.slideRole);const m=e.slides.length;I.slideLabelMessage&&e.slides.forEach((g,b)=>{const A=e.params.loop?parseInt(g.getAttribute("data-swiper-slide-index"),10):b,X=I.slideLabelMessage.replace(/\{\{index\}\}/,A+1).replace(/\{\{slidesLength\}\}/,m);z(g,X)})},j=()=>{const I=e.params.a11y;e.isElement?e.el.shadowEl.append(r):e.el.append(r);const m=e.el;I.containerRoleDescriptionMessage&&J(m,I.containerRoleDescriptionMessage),I.containerMessage&&z(m,I.containerMessage);const g=e.wrapperEl,b=I.id||g.getAttribute("id")||`swiper-wrapper-${h(16)}`,A=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";q(g,b),L(g,A),V();let{nextEl:X,prevEl:Y}=e.navigation?e.navigation:{};X=d(X),Y=d(Y),X&&X.forEach(K=>E(K,b,I.nextSlideMessage)),Y&&Y.forEach(K=>E(K,b,I.prevSlideMessage)),H()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(le=>{le.addEventListener("keydown",M)}),e.el.addEventListener("focus",$,!0),e.el.addEventListener("pointerdown",ie,!0),e.el.addEventListener("pointerup",te,!0)};function w(){r&&r.remove();let{nextEl:I,prevEl:m}=e.navigation?e.navigation:{};I=d(I),m=d(m),I&&I.forEach(g=>g.removeEventListener("keydown",M)),m&&m.forEach(g=>g.removeEventListener("keydown",M)),H()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(b=>{b.removeEventListener("keydown",M)}),e.el.removeEventListener("focus",$,!0),e.el.removeEventListener("pointerdown",ie,!0),e.el.removeEventListener("pointerup",te,!0)}n("beforeInit",()=>{r=$5("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),n("afterInit",()=>{e.params.a11y.enabled&&j()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&V()}),n("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&S()}),n("paginationUpdate",()=>{e.params.a11y.enabled&&U()}),n("destroy",()=>{e.params.a11y.enabled&&w()})}function q0(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function nf(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:q0(t[r])&&q0(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:nf(e[r],t[r]):e[r]=t[r]})}function P6(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function D6(e={}){return e.pagination&&typeof e.pagination.el>"u"}function I6(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function L6(e=""){const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function TX(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const O6=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function fM(e={},t=!0){const n={on:{}},r={},o={};nf(n,o_.defaults),nf(n,o_.extendedDefaults),n._emitClasses=!0,n.init=!1;const d={},h=O6.map(v=>v.replace(/_/,"")),s=Object.assign({},e);return Object.keys(s).forEach(v=>{typeof e[v]>"u"||(h.indexOf(v)>=0?q0(e[v])?(n[v]={},o[v]={},nf(n[v],e[v]),nf(o[v],e[v])):(n[v]=e[v],o[v]=e[v]):v.search(/on[A-Z]/)===0&&typeof e[v]=="function"?t?r[`${v[2].toLowerCase()}${v.substr(3)}`]=e[v]:n.on[`${v[2].toLowerCase()}${v.substr(3)}`]=e[v]:d[v]=e[v])}),["navigation","pagination","scrollbar"].forEach(v=>{n[v]===!0&&(n[v]={}),n[v]===!1&&delete n[v]}),{params:n,passedParams:o,rest:d,events:r}}function SX({el:e,nextEl:t,prevEl:n,paginationEl:r,scrollbarEl:o,swiper:d},h){P6(h)&&t&&n&&(d.params.navigation.nextEl=t,d.originalParams.navigation.nextEl=t,d.params.navigation.prevEl=n,d.originalParams.navigation.prevEl=n),D6(h)&&r&&(d.params.pagination.el=r,d.originalParams.pagination.el=r),I6(h)&&o&&(d.params.scrollbar.el=o,d.originalParams.scrollbar.el=o),d.init(e)}function CX(e,t,n,r,o){const d=[];if(!t)return d;const h=v=>{d.indexOf(v)<0&&d.push(v)};if(n&&r){const v=r.map(o),R=n.map(o);v.join("")!==R.join("")&&h("children"),r.length!==n.length&&h("children")}return O6.filter(v=>v[0]==="_").map(v=>v.replace(/_/,"")).forEach(v=>{if(v in e&&v in t)if(q0(e[v])&&q0(t[v])){const R=Object.keys(e[v]),J=Object.keys(t[v]);R.length!==J.length?h(v):(R.forEach(k=>{e[v][k]!==t[v][k]&&h(v)}),J.forEach(k=>{e[v][k]!==t[v][k]&&h(v)}))}else e[v]!==t[v]&&h(v)}),d}function V3(e,t,n){e===void 0&&(e={});const r=[],o={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},d=(h,s)=>{Array.isArray(h)&&h.forEach(v=>{const R=typeof v.type=="symbol";s==="default"&&(s="container-end"),R&&v.children?d(v.children,s):v.type&&(v.type.name==="SwiperSlide"||v.type.name==="AsyncComponentWrapper")?r.push(v):o[s]&&o[s].push(v)})};return Object.keys(e).forEach(h=>{if(typeof e[h]!="function")return;const s=e[h]();d(s,h)}),n.value=t.value,t.value=r,{slides:r,slots:o}}function EX({swiper:e,slides:t,passedParams:n,changedParams:r,nextEl:o,prevEl:d,scrollbarEl:h,paginationEl:s}){const v=r.filter(te=>te!=="children"&&te!=="direction"&&te!=="wrapperClass"),{params:R,pagination:J,navigation:k,scrollbar:z,virtual:q,thumbs:L}=e;let O,G,M,S,P,H,U,E;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&R.thumbs&&!R.thumbs.swiper&&(O=!0),r.includes("controller")&&n.controller&&n.controller.control&&R.controller&&!R.controller.control&&(G=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||s)&&(R.pagination||R.pagination===!1)&&J&&!J.el&&(M=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||h)&&(R.scrollbar||R.scrollbar===!1)&&z&&!z.el&&(S=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||d)&&(n.navigation.nextEl||o)&&(R.navigation||R.navigation===!1)&&k&&!k.prevEl&&!k.nextEl&&(P=!0);const ie=te=>{e[te]&&(e[te].destroy(),te==="navigation"?(e.isElement&&(e[te].prevEl.remove(),e[te].nextEl.remove()),R[te].prevEl=void 0,R[te].nextEl=void 0,e[te].prevEl=void 0,e[te].nextEl=void 0):(e.isElement&&e[te].el.remove(),R[te].el=void 0,e[te].el=void 0))};r.includes("loop")&&e.isElement&&(R.loop&&!n.loop?H=!0:!R.loop&&n.loop?U=!0:E=!0),v.forEach(te=>{if(q0(R[te])&&q0(n[te]))nf(R[te],n[te]),(te==="navigation"||te==="pagination"||te==="scrollbar")&&"enabled"in n[te]&&!n[te].enabled&&ie(te);else{const $=n[te];($===!0||$===!1)&&(te==="navigation"||te==="pagination"||te==="scrollbar")?$===!1&&ie(te):R[te]=n[te]}}),v.includes("controller")&&!G&&e.controller&&e.controller.control&&R.controller&&R.controller.control&&(e.controller.control=R.controller.control),r.includes("children")&&t&&q&&R.virtual.enabled&&(q.slides=t,q.update(!0)),r.includes("children")&&t&&R.loop&&(E=!0),O&&L.init()&&L.update(!0),G&&(e.controller.control=R.controller.control),M&&(e.isElement&&(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(s)),s&&(R.pagination.el=s),J.init(),J.render(),J.update()),S&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(h)),h&&(R.scrollbar.el=h),z.init(),z.updateSize(),z.setTranslate()),P&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(o)),(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(d))),o&&(R.navigation.nextEl=o),d&&(R.navigation.prevEl=d),k.init(),k.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&e.changeDirection(n.direction,!1),(H||E)&&e.loopDestroy(),(U||E)&&e.loopCreate(),e.update()}function MX(e,t,n){if(!n)return null;const r=J=>{let k=J;return J<0?k=t.length+J:k>=t.length&&(k=k-t.length),k},o=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:d,to:h}=n,s=e.value.params.loop?-t.length:0,v=e.value.params.loop?t.length*2:t.length,R=[];for(let J=s;J<v;J+=1)J>=d&&J<=h&&R.push(t[r(J)]);return R.map(J=>(J.props||(J.props={}),J.props.style||(J.props.style={}),J.props.swiperRef=e,J.props.style=o,Uc(J.type,{...J.props},J.children)))}const kX=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},AX={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:n,emit:r}=t;const{tag:o,wrapperTag:d}=e,h=on("swiper"),s=on(null),v=on(!1),R=on(!1),J=on(null),k=on(null),z=on(null),q={value:[]},L={value:[]},O=on(null),G=on(null),M=on(null),S=on(null),{params:P,passedParams:H}=fM(e,!1);V3(n,q,L),z.value=H,L.value=q.value;const U=()=>{V3(n,q,L),v.value=!0};P.onAny=function(te){for(var $=arguments.length,V=new Array($>1?$-1:0),j=1;j<$;j++)V[j-1]=arguments[j];r(te,...V)},Object.assign(P.on,{_beforeBreakpoint:U,_containerClasses(te,$){h.value=$}});const E={...P};if(delete E.wrapperClass,k.value=new o_(E),k.value.virtual&&k.value.params.virtual.enabled){k.value.virtual.slides=q.value;const te={cache:!1,slides:q.value,renderExternal:$=>{s.value=$},renderExternalUpdate:!1};nf(k.value.params.virtual,te),nf(k.value.originalParams.virtual,te)}Q0(()=>{!R.value&&k.value&&(k.value.emitSlidesClasses(),R.value=!0);const{passedParams:te}=fM(e,!1),$=CX(te,z.value,q.value,L.value,V=>V.props&&V.props.key);z.value=te,($.length||v.value)&&k.value&&!k.value.destroyed&&EX({swiper:k.value,slides:q.value,passedParams:te,changedParams:$,nextEl:O.value,prevEl:G.value,scrollbarEl:S.value,paginationEl:M.value}),v.value=!1}),Vg("swiper",k),ha(s,()=>{_c(()=>{kX(k.value)})}),Ko(()=>{J.value&&(SX({el:J.value,nextEl:O.value,prevEl:G.value,paginationEl:M.value,scrollbarEl:S.value,swiper:k.value},P),r("swiper",k.value))}),em(()=>{k.value&&!k.value.destroyed&&k.value.destroy(!0,!1)});function ie(te){return P.virtual?MX(k,te,s.value):(te.forEach(($,V)=>{$.props||($.props={}),$.props.swiperRef=k,$.props.swiperSlideIndex=V}),te)}return()=>{const{slides:te,slots:$}=V3(n,q,L);return Uc(o,{ref:J,class:L6(h.value)},[$["container-start"],Uc(d,{class:TX(P.wrapperClass)},[$["wrapper-start"],ie(te),$["wrapper-end"]]),P6(e)&&[Uc("div",{ref:G,class:"swiper-button-prev"}),Uc("div",{ref:O,class:"swiper-button-next"})],I6(e)&&Uc("div",{ref:S,class:"swiper-scrollbar"}),D6(e)&&Uc("div",{ref:M,class:"swiper-pagination"}),$["container-end"]])}}},PX={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:n}=t,r=!1;const{swiperRef:o}=e,d=on(null),h=on("swiper-slide"),s=on(!1);function v(k,z,q){z===d.value&&(h.value=q)}Ko(()=>{!o||!o.value||(o.value.on("_slideClass",v),r=!0)}),p_(()=>{r||!o||!o.value||(o.value.on("_slideClass",v),r=!0)}),Q0(()=>{!d.value||!o||!o.value||(typeof e.swiperSlideIndex<"u"&&(d.value.swiperSlideIndex=e.swiperSlideIndex),o.value.destroyed&&h.value!=="swiper-slide"&&(h.value="swiper-slide"))}),em(()=>{!o||!o.value||o.value.off("_slideClass",v)});const R=hn(()=>({isActive:h.value.indexOf("swiper-slide-active")>=0,isVisible:h.value.indexOf("swiper-slide-visible")>=0,isPrev:h.value.indexOf("swiper-slide-prev")>=0,isNext:h.value.indexOf("swiper-slide-next")>=0}));Vg("swiperSlide",R);const J=()=>{s.value=!0};return()=>Uc(e.tag,{class:L6(`${h.value}`),ref:d,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&o&&o.value&&o.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:J},e.zoom?Uc("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[n.default&&n.default(R.value),e.lazy&&!s.value&&Uc("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(R.value),e.lazy&&!s.value&&Uc("div",{class:"swiper-lazy-preloader"})])}},DX={props:{fleet:Object,active:String},components:{Swiper:AX,SwiperSlide:PX},setup(){return{auto:!0,onSwiper:n=>{},onSlideChange:()=>{},modules:[bX,wX]}}},IX={class:"swiper-button-prev"},LX=["src"],OX=["href"],RX=["href"],BX=["href"],zX=["href"],NX=["href"],FX=["href"],jX={class:"swiper-button-next"},UX=["src"];function $X(e,t,n,r,o,d){const h=Tr("swiper-slide"),s=Tr("swiper");return bt(),Ir(s,{"slides-per-view":"auto","space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:r.onSwiper,onSlideChange:r.onSlideChange},{default:Yn(()=>[Ye("div",IX,[Ye("img",{src:"/img/icons/chevron-prev.png",alt:""},null,8,LX)]),dn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}`,class:ar(["submenu-item",{active:n.active=="info"}])},"NAVIGASI",10,OX)]),_:1}),dn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}/engine`,class:ar(["submenu-item",{active:n.active=="engine"}])},"ENGINE",10,RX)]),_:1}),dn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}/cargo`,class:ar(["submenu-item",{active:n.active=="cargo"}])},"CARGO",10,BX)]),_:1}),dn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}/bunker`,class:ar(["submenu-item",{active:n.active=="bunker"}])},"BUNKER",10,zX)]),_:1}),dn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}/balast`,class:ar(["submenu-item",{active:n.active=="balast"}])},"BALAST",10,NX)]),_:1}),dn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}/alarms`,class:ar(["submenu-item",{active:n.active=="alarms"}])},"ALARM",10,FX)]),_:1}),Ye("div",jX,[Ye("img",{src:"/img/icons/chevron-next.png",alt:""},null,8,UX)])]),_:1},8,["navigation","onSwiper","onSlideChange"])}const VX=zr(DX,[["render",$X]]);var R6={exports:{}},G3={exports:{}},mM;function B6(){return mM||(mM=1,function(e){(function(t,n){e.exports?(n.default=n,e.exports=t.document?n(t):n):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=n(t))})(typeof window<"u"?window:Ra,function(t){function n(o,d,h,s){o.hasOwnProperty(d)||(o[d]=s.apply(null,h),typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:d,module:o[d]}})))}var r={};return n(r,"Core/Globals.js",[],function(){var o;return function(d){d.SVG_NS="http://www.w3.org/2000/svg",d.product="Highcharts",d.version="11.0.1",d.win=typeof t<"u"?t:{},d.doc=d.win.document,d.svg=d.doc&&d.doc.createElementNS&&!!d.doc.createElementNS(d.SVG_NS,"svg").createSVGRect,d.userAgent=d.win.navigator&&d.win.navigator.userAgent||"",d.isChrome=d.userAgent.indexOf("Chrome")!==-1,d.isFirefox=d.userAgent.indexOf("Firefox")!==-1,d.isMS=/(edge|msie|trident)/i.test(d.userAgent)&&!d.win.opera,d.isSafari=!d.isChrome&&d.userAgent.indexOf("Safari")!==-1,d.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(d.userAgent),d.isWebKit=d.userAgent.indexOf("AppleWebKit")!==-1,d.deg2rad=2*Math.PI/360,d.hasBidiBug=d.isFirefox&&4>parseInt(d.userAgent.split("Firefox/")[1],10),d.hasTouch=!!d.win.TouchEvent,d.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],d.noop=function(){},d.supportsPassiveEvents=function(){let h=!1;if(!d.isMS){const s=Object.defineProperty({},"passive",{get:function(){h=!0}});d.win.addEventListener&&d.win.removeEventListener&&(d.win.addEventListener("testPassive",d.noop,s),d.win.removeEventListener("testPassive",d.noop,s))}return h}(),d.charts=[],d.dateFormats={},d.seriesTypes={},d.symbolSizes={},d.chartCount=0}(o||(o={})),o}),n(r,"Core/Utilities.js",[r["Core/Globals.js"]],function(o){function d(g,b,A,X){const Y=b?"Highcharts error":"Highcharts warning";g===32&&(g=`${Y}: Deprecated member`);const K=q(g);let le=K?`${Y} #${g}: www.highcharts.com/errors/${g}/`:g.toString();if(typeof X<"u"){let he="";K&&(le+="?"),E(X,function(pe,F){he+=`
 - ${F}: ${pe}`,K&&(le+=encodeURI(F)+"="+encodeURI(pe))}),le+=he}te(o,"displayError",{chart:A,code:g,message:le,params:X},function(){if(b)throw Error(le);j.console&&d.messages.indexOf(le)===-1&&console.warn(le)}),d.messages.push(le)}function h(g,b){const A={};return E(g,function(X,Y){J(g[Y],!0)&&!g.nodeType&&b[Y]?(X=h(g[Y],b[Y]),Object.keys(X).length&&(A[Y]=X)):(J(g[Y])||g[Y]!==b[Y]||Y in g&&!(Y in b))&&(A[Y]=g[Y])}),A}function s(g,b){return parseInt(g,b||10)}function v(g){return typeof g=="string"}function R(g){return g=Object.prototype.toString.call(g),g==="[object Array]"||g==="[object Array Iterator]"}function J(g,b){return!!g&&typeof g=="object"&&(!b||!R(g))}function k(g){return J(g)&&typeof g.nodeType=="number"}function z(g){const b=g&&g.constructor;return!(!J(g,!0)||k(g)||!b||!b.name||b.name==="Object")}function q(g){return typeof g=="number"&&!isNaN(g)&&1/0>g&&-1/0<g}function L(g){return typeof g<"u"&&g!==null}function O(g,b,A){const X=v(b)&&!L(A);let Y;const K=(le,he)=>{L(le)?g.setAttribute(he,le):X?(Y=g.getAttribute(he))||he!=="class"||(Y=g.getAttribute(he+"Name")):g.removeAttribute(he)};return v(b)?K(A,b):E(b,K),Y}function G(g,b){let A;g||(g={});for(A in b)g[A]=b[A];return g}function M(){const g=arguments,b=g.length;for(let A=0;A<b;A++){const X=g[A];if(typeof X<"u"&&X!==null)return X}}function S(g,b){o.isMS&&!o.svg&&b&&L(b.opacity)&&(b.filter=`alpha(opacity=${100*b.opacity})`),G(g.style,b)}function P(g){return Math.pow(10,Math.floor(Math.log(g)/Math.LN10))}function H(g,b){return 1e14<g?g:parseFloat(g.toPrecision(b||14))}function U(g,b,A){let X;return b==="width"?(b=Math.min(g.offsetWidth,g.scrollWidth),A=g.getBoundingClientRect&&g.getBoundingClientRect().width,A<b&&A>=b-1&&(b=Math.floor(A)),Math.max(0,b-(U(g,"padding-left",!0)||0)-(U(g,"padding-right",!0)||0))):b==="height"?Math.max(0,Math.min(g.offsetHeight,g.scrollHeight)-(U(g,"padding-top",!0)||0)-(U(g,"padding-bottom",!0)||0)):((g=j.getComputedStyle(g,void 0))&&(X=g.getPropertyValue(b),M(A,b!=="opacity")&&(X=s(X))),X)}function E(g,b,A){for(const X in g)Object.hasOwnProperty.call(g,X)&&b.call(A||g[X],g[X],X,g)}function ie(g,b,A){function X(le,he){const pe=g.removeEventListener;pe&&pe.call(g,le,he,!1)}function Y(le){let he,pe;g.nodeName&&(b?(he={},he[b]=!0):he=le,E(he,function(F,Q){if(le[Q])for(pe=le[Q].length;pe--;)X(Q,le[Q][pe].fn)}))}var K=typeof g=="function"&&g.prototype||g;if(Object.hasOwnProperty.call(K,"hcEvents")){const le=K.hcEvents;b?(K=le[b]||[],A?(le[b]=K.filter(function(he){return A!==he.fn}),X(b,A)):(Y(le),le[b]=[])):(Y(le),delete K.hcEvents)}}function te(g,b,A,X){if(A=A||{},V.createEvent&&(g.dispatchEvent||g.fireEvent&&g!==o)){var Y=V.createEvent("Events");Y.initEvent(b,!0,!0),A=G(Y,A),g.dispatchEvent?g.dispatchEvent(A):g.fireEvent(b,A)}else if(g.hcEvents){A.target||G(A,{preventDefault:function(){A.defaultPrevented=!0},target:g,type:b}),Y=[];let K=g,le=!1;for(;K.hcEvents;)Object.hasOwnProperty.call(K,"hcEvents")&&K.hcEvents[b]&&(Y.length&&(le=!0),Y.unshift.apply(Y,K.hcEvents[b])),K=Object.getPrototypeOf(K);le&&Y.sort((he,pe)=>he.order-pe.order),Y.forEach(he=>{he.fn.call(g,A)===!1&&A.preventDefault()})}X&&!A.defaultPrevented&&X.call(g,A)}const{charts:$,doc:V,win:j}=o;(d||(d={})).messages=[],Math.easeInOutSine=function(g){return-.5*(Math.cos(Math.PI*g)-1)};var w=Array.prototype.find?function(g,b){return g.find(b)}:function(g,b){let A;const X=g.length;for(A=0;A<X;A++)if(b(g[A],A))return g[A]};E({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(g,b){o[b]=function(A){return d(32,!1,void 0,{[`Highcharts.${b}`]:`use Array.${g}`}),Array.prototype[g].apply(A,[].slice.call(arguments,1))}});let I;const m=function(){const g=Math.random().toString(36).substring(2,9)+"-";let b=0;return function(){return"highcharts-"+(I?"":g)+b++}}();return j.jQuery&&(j.jQuery.fn.highcharts=function(){const g=[].slice.call(arguments);if(this[0])return g[0]?(new o[v(g[0])?g.shift():"Chart"](this[0],g[0],g[1]),this):$[O(this[0],"data-highcharts-chart")]}),w={addEvent:function(g,b,A,X={}){var Y=typeof g=="function"&&g.prototype||g;Object.hasOwnProperty.call(Y,"hcEvents")||(Y.hcEvents={}),Y=Y.hcEvents,o.Point&&g instanceof o.Point&&g.series&&g.series.chart&&(g.series.chart.runTrackerClick=!0);const K=g.addEventListener;return K&&K.call(g,b,A,o.supportsPassiveEvents?{passive:X.passive===void 0?b.indexOf("touch")!==-1:X.passive,capture:!1}:!1),Y[b]||(Y[b]=[]),Y[b].push({fn:A,order:typeof X.order=="number"?X.order:1/0}),Y[b].sort((le,he)=>le.order-he.order),function(){ie(g,b,A)}},arrayMax:function(g){let b=g.length,A=g[0];for(;b--;)g[b]>A&&(A=g[b]);return A},arrayMin:function(g){let b=g.length,A=g[0];for(;b--;)g[b]<A&&(A=g[b]);return A},attr:O,clamp:function(g,b,A){return g>b?g<A?g:A:b},cleanRecursively:h,clearTimeout:function(g){L(g)&&clearTimeout(g)},correctFloat:H,createElement:function(g,b,A,X,Y){return g=V.createElement(g),b&&G(g,b),Y&&S(g,{padding:"0",border:"none",margin:"0"}),A&&S(g,A),X&&X.appendChild(g),g},css:S,defined:L,destroyObjectProperties:function(g,b){E(g,function(A,X){A&&A!==b&&A.destroy&&A.destroy(),delete g[X]})},discardElement:function(g){g&&g.parentElement&&g.parentElement.removeChild(g)},erase:function(g,b){let A=g.length;for(;A--;)if(g[A]===b){g.splice(A,1);break}},error:d,extend:G,extendClass:function(g,b){const A=function(){};return A.prototype=new g,G(A.prototype,b),A},find:w,fireEvent:te,getMagnitude:P,getNestedProperty:function(g,b){for(g=g.split(".");g.length&&L(b);){const A=g.shift();if(typeof A>"u"||A==="__proto__"||(b=b[A],!L(b)||typeof b=="function"||typeof b.nodeType=="number"||b===j))return}return b},getStyle:U,inArray:function(g,b,A){return d(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),b.indexOf(g,A)},isArray:R,isClass:z,isDOMElement:k,isFunction:function(g){return typeof g=="function"},isNumber:q,isObject:J,isString:v,keys:function(g){return d(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(g)},merge:function(){let g,b=arguments,A={};const X=function(K,le){return typeof K!="object"&&(K={}),E(le,function(he,pe){pe!=="__proto__"&&pe!=="constructor"&&(!J(he,!0)||z(he)||k(he)?K[pe]=le[pe]:K[pe]=X(K[pe]||{},he))}),K};b[0]===!0&&(A=b[1],b=Array.prototype.slice.call(b,2));const Y=b.length;for(g=0;g<Y;g++)A=X(A,b[g]);return A},normalizeTickInterval:function(g,b,A,X,Y){let K=g;A=M(A,P(g));const le=g/A;for(b||(b=Y?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],X===!1&&(A===1?b=b.filter(function(he){return he%1===0}):.1>=A&&(b=[1/A]))),X=0;X<b.length&&(K=b[X],!(Y&&K*A>=g||!Y&&le<=(b[X]+(b[X+1]||b[X]))/2));X++);return K=H(K*A,-Math.round(Math.log(.001)/Math.LN10))},objectEach:E,offset:function(g){const b=V.documentElement;return g=g.parentElement||g.parentNode?g.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:g.top+(j.pageYOffset||b.scrollTop)-(b.clientTop||0),left:g.left+(j.pageXOffset||b.scrollLeft)-(b.clientLeft||0),width:g.width,height:g.height}},pad:function(g,b,A){return Array((b||2)+1-String(g).replace("-","").length).join(A||"0")+g},pick:M,pInt:s,pushUnique:function(g,b){return 0>g.indexOf(b)&&!!g.push(b)},relativeLength:function(g,b,A){return/%$/.test(g)?b*parseFloat(g)/100+(A||0):parseFloat(g)},removeEvent:ie,splat:function(g){return R(g)?g:[g]},stableSort:function(g,b){const A=g.length;let X,Y;for(Y=0;Y<A;Y++)g[Y].safeI=Y;for(g.sort(function(K,le){return X=b(K,le),X===0?K.safeI-le.safeI:X}),Y=0;Y<A;Y++)delete g[Y].safeI},syncTimeout:function(g,b,A){return 0<b?setTimeout(g,b,A):(g.call(0,A),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:m,useSerialIds:function(g){return I=M(g,I)},wrap:function(g,b,A){const X=g[b];g[b]=function(){const Y=arguments,K=this;return A.apply(this,[function(){return X.apply(K,arguments.length?arguments:Y)}].concat([].slice.call(arguments)))}}},w}),n(r,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),n(r,"Core/Color/Color.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d){const{isNumber:h,merge:s,pInt:v}=d;class R{static parse(k){return k?new R(k):R.None}constructor(k){this.rgba=[NaN,NaN,NaN,NaN],this.input=k;const z=o.Color;if(z&&z!==R)return new z(k);this.init(k)}init(k){let z,q;if(typeof k=="object"&&typeof k.stops<"u")this.stops=k.stops.map(G=>new R(G[1]));else if(typeof k=="string"){if(this.input=k=R.names[k.toLowerCase()]||k,k.charAt(0)==="#"){var L=k.length,O=parseInt(k.substr(1),16);L===7?z=[(O&16711680)>>16,(O&65280)>>8,O&255,1]:L===4&&(z=[(O&3840)>>4|(O&3840)>>8,(O&240)>>4|O&240,(O&15)<<4|O&15,1])}if(!z)for(O=R.parsers.length;O--&&!z;)q=R.parsers[O],(L=q.regex.exec(k))&&(z=q.parse(L))}z&&(this.rgba=z)}get(k){const z=this.input,q=this.rgba;if(typeof z=="object"&&typeof this.stops<"u"){const L=s(z);return L.stops=[].slice.call(L.stops),this.stops.forEach((O,G)=>{L.stops[G]=[L.stops[G][0],O.get(k)]}),L}return q&&h(q[0])?k==="rgb"||!k&&q[3]===1?"rgb("+q[0]+","+q[1]+","+q[2]+")":k==="a"?`${q[3]}`:"rgba("+q.join(",")+")":z}brighten(k){const z=this.rgba;if(this.stops)this.stops.forEach(function(q){q.brighten(k)});else if(h(k)&&k!==0)for(let q=0;3>q;q++)z[q]+=v(255*k),0>z[q]&&(z[q]=0),255<z[q]&&(z[q]=255);return this}setOpacity(k){return this.rgba[3]=k,this}tweenTo(k,z){const q=this.rgba,L=k.rgba;return!h(q[0])||!h(L[0])?k.input||"none":(k=L[3]!==1||q[3]!==1,(k?"rgba(":"rgb(")+Math.round(L[0]+(q[0]-L[0])*(1-z))+","+Math.round(L[1]+(q[1]-L[1])*(1-z))+","+Math.round(L[2]+(q[2]-L[2])*(1-z))+(k?","+(L[3]+(q[3]-L[3])*(1-z)):"")+")")}}return R.names={white:"#ffffff",black:"#000000"},R.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(J){return[v(J[1]),v(J[2]),v(J[3]),parseFloat(J[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(J){return[v(J[1]),v(J[2]),v(J[3]),1]}}],R.None=new R(""),R}),n(r,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),n(r,"Core/Time.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d){const{win:h}=o,{defined:s,error:v,extend:R,isObject:J,merge:k,objectEach:z,pad:q,pick:L,splat:O,timeUnits:G}=d,M=o.isSafari&&h.Intl&&h.Intl.DateTimeFormat.prototype.formatRange,S=o.isSafari&&h.Intl&&!h.Intl.DateTimeFormat.prototype.formatRange;class P{constructor(U){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=h.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(U)}get(U,E){if(this.variableTimezone||this.timezoneOffset){const ie=E.getTime(),te=ie-this.getTimezoneOffset(E);return E.setTime(te),U=E["getUTC"+U](),E.setTime(ie),U}return this.useUTC?E["getUTC"+U]():E["get"+U]()}set(U,E,ie){if(this.variableTimezone||this.timezoneOffset){if(U==="Milliseconds"||U==="Seconds"||U==="Minutes"&&this.getTimezoneOffset(E)%36e5===0)return E["setUTC"+U](ie);var te=this.getTimezoneOffset(E);return te=E.getTime()-te,E.setTime(te),E["setUTC"+U](ie),U=this.getTimezoneOffset(E),te=E.getTime()+U,E.setTime(te)}return this.useUTC||M&&U==="FullYear"?E["setUTC"+U](ie):E["set"+U](ie)}update(U={}){const E=L(U.useUTC,!0);this.options=U=k(!0,this.options,U),this.Date=U.Date||h.Date||Date,this.timezoneOffset=(this.useUTC=E)&&U.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=E&&!(!U.getTimezoneOffset&&!U.timezone)}makeTime(U,E,ie,te,$,V){let j,w,I;return this.useUTC?(j=this.Date.UTC.apply(0,arguments),w=this.getTimezoneOffset(j),j+=w,I=this.getTimezoneOffset(j),w!==I?j+=I-w:w-36e5!==this.getTimezoneOffset(j-36e5)||S||(j-=36e5)):j=new this.Date(U,E,L(ie,1),L(te,0),L($,0),L(V,0)).getTime(),j}timezoneOffsetFunction(){const U=this,E=this.options,ie=E.getTimezoneOffset,te=E.moment||h.moment;if(!this.useUTC)return function($){return 6e4*new Date($.toString()).getTimezoneOffset()};if(E.timezone){if(te)return function($){return 6e4*-te.tz($,E.timezone).utcOffset()};v(25)}return this.useUTC&&ie?function($){return 6e4*ie($.valueOf())}:function(){return 6e4*(U.timezoneOffset||0)}}dateFormat(U,E,ie){if(!s(E)||isNaN(E))return o.defaultOptions.lang&&o.defaultOptions.lang.invalidDate||"";U=L(U,"%Y-%m-%d %H:%M:%S");const te=this;var $=new this.Date(E);const V=this.get("Hours",$),j=this.get("Day",$),w=this.get("Date",$),I=this.get("Month",$),m=this.get("FullYear",$),g=o.defaultOptions.lang,b=g&&g.weekdays,A=g&&g.shortWeekdays;return $=R({a:A?A[j]:b[j].substr(0,3),A:b[j],d:q(w),e:q(w,2," "),w:j,b:g.shortMonths[I],B:g.months[I],m:q(I+1),o:I+1,y:m.toString().substr(2,2),Y:m,H:q(V),k:V,I:q(V%12||12),l:V%12||12,M:q(this.get("Minutes",$)),p:12>V?"AM":"PM",P:12>V?"am":"pm",S:q($.getSeconds()),L:q(Math.floor(E%1e3),3)},o.dateFormats),z($,function(X,Y){for(;U.indexOf("%"+Y)!==-1;)U=U.replace("%"+Y,typeof X=="function"?X.call(te,E):X)}),ie?U.substr(0,1).toUpperCase()+U.substr(1):U}resolveDTLFormat(U){return J(U,!0)?U:(U=O(U),{main:U[0],from:U[1],to:U[2]})}getTimeTicks(U,E,ie,te){const $=this,V=[],j={};var w=new $.Date(E);const I=U.unitRange,m=U.count||1;let g;if(te=L(te,1),s(E)){if($.set("Milliseconds",w,I>=G.second?0:m*Math.floor($.get("Milliseconds",w)/m)),I>=G.second&&$.set("Seconds",w,I>=G.minute?0:m*Math.floor($.get("Seconds",w)/m)),I>=G.minute&&$.set("Minutes",w,I>=G.hour?0:m*Math.floor($.get("Minutes",w)/m)),I>=G.hour&&$.set("Hours",w,I>=G.day?0:m*Math.floor($.get("Hours",w)/m)),I>=G.day&&$.set("Date",w,I>=G.month?1:Math.max(1,m*Math.floor($.get("Date",w)/m))),I>=G.month){$.set("Month",w,I>=G.year?0:m*Math.floor($.get("Month",w)/m));var b=$.get("FullYear",w)}I>=G.year&&$.set("FullYear",w,b-b%m),I===G.week&&(b=$.get("Day",w),$.set("Date",w,$.get("Date",w)-b+te+(b<te?-7:0))),b=$.get("FullYear",w),te=$.get("Month",w);const A=$.get("Date",w),X=$.get("Hours",w);for(E=w.getTime(),!$.variableTimezone&&$.useUTC||!s(ie)||(g=ie-E>4*G.month||$.getTimezoneOffset(E)!==$.getTimezoneOffset(ie)),E=w.getTime(),w=1;E<ie;)V.push(E),E=I===G.year?$.makeTime(b+w*m,0):I===G.month?$.makeTime(b,te+w*m):!g||I!==G.day&&I!==G.week?g&&I===G.hour&&1<m?$.makeTime(b,te,A,X+w*m):E+I*m:$.makeTime(b,te,A+w*m*(I===G.day?1:7)),w++;V.push(E),I<=G.hour&&1e4>V.length&&V.forEach(function(Y){Y%18e5===0&&$.dateFormat("%H%M%S%L",Y)==="000000000"&&(j[Y]="day")})}return V.info=R(U,{higherRanks:j,totalRange:I*m}),V}getDateFormat(U,E,ie,te){const $=this.dateFormat("%m-%d %H:%M:%S.%L",E),V={millisecond:15,second:12,minute:9,hour:6,day:3};let j,w="millisecond";for(j in G){if(U===G.week&&+this.dateFormat("%w",E)===ie&&$.substr(6)==="00:00:00.000"){j="week";break}if(G[j]>U){j=w;break}if(V[j]&&$.substr(V[j])!=="01-01 00:00:00.000".substr(V[j]))break;j!=="week"&&(w=j)}return this.resolveDTLFormat(te[j]).main}}return P}),n(r,"Core/Defaults.js",[r["Core/Chart/ChartDefaults.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Color/Palettes.js"],r["Core/Time.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R){const{isTouchDevice:J,svg:k}=h,{merge:z}=R,q={colors:s.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:o,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:k,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:J?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};q.chart.styledMode=!1;const L=new v(q.time);return o={defaultOptions:q,defaultTime:L,getOptions:function(){return q},setOptions:function(O){return z(!0,q,O),(O.time||O.global)&&(h.time?h.time.update(z(q.global,q.time,O.global,O.time)):h.time=L),q}},o}),n(r,"Core/Animation/Fx.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{parse:s}=o,{win:v}=d,{isNumber:R,objectEach:J}=h;class k{constructor(q,L,O){this.pos=NaN,this.options=L,this.elem=q,this.prop=O}dSetter(){var q=this.paths;const L=q&&q[0];q=q&&q[1];const O=this.now||0;let G=[];if(O!==1&&L&&q)if(L.length===q.length&&1>O)for(let M=0;M<q.length;M++){const S=L[M],P=q[M],H=[];for(let U=0;U<P.length;U++){const E=S[U],ie=P[U];R(E)&&R(ie)&&(P[0]!=="A"||U!==4&&U!==5)?H[U]=E+O*(ie-E):H[U]=ie}G.push(H)}else G=q;else G=this.toD||[];this.elem.attr("d",G,void 0,!0)}update(){const q=this.elem,L=this.prop,O=this.now,G=this.options.step;this[L+"Setter"]?this[L+"Setter"]():q.attr?q.element&&q.attr(L,O,null,!0):q.style[L]=O+this.unit,G&&G.call(q,O,this)}run(q,L,O){const G=this,M=G.options,S=function(U){return S.stopped?!1:G.step(U)},P=v.requestAnimationFrame||function(U){setTimeout(U,13)},H=function(){for(let U=0;U<k.timers.length;U++)k.timers[U]()||k.timers.splice(U--,1);k.timers.length&&P(H)};q!==L||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=q,this.end=L,this.unit=O,this.now=this.start,this.pos=0,S.elem=this.elem,S.prop=this.prop,S()&&k.timers.push(S)===1&&P(H)):(delete M.curAnim[this.prop],M.complete&&Object.keys(M.curAnim).length===0&&M.complete.call(this.elem))}step(q){const L=+new Date,O=this.options,G=this.elem,M=O.complete,S=O.duration,P=O.curAnim;let H;return G.attr&&!G.element?q=!1:q||L>=S+this.startTime?(this.now=this.end,this.pos=1,this.update(),H=P[this.prop]=!0,J(P,function(U){U!==!0&&(H=!1)}),H&&M&&M.call(G),q=!1):(this.pos=O.easing((L-this.startTime)/S),this.now=this.start+(this.end-this.start)*this.pos,this.update(),q=!0),q}initPath(q,L,O){function G($,V){for(;$.length<ie;){var j=$[0];const w=V[ie-$.length];w&&j[0]==="M"&&($[0]=w[0]==="C"?["C",j[1],j[2],j[1],j[2],j[1],j[2]]:["L",j[1],j[2]]),$.unshift(j),H&&(j=$.pop(),$.push($[$.length-1],j))}}function M($,V){for(;$.length<ie;)if(V=$[Math.floor($.length/U)-1].slice(),V[0]==="C"&&(V[1]=V[5],V[2]=V[6]),H){const j=$[Math.floor($.length/U)].slice();$.splice($.length/2,0,V,j)}else $.push(V)}const S=q.startX,P=q.endX;O=O.slice();const H=q.isArea,U=H?2:1;let E,ie,te;if(L=L&&L.slice(),!L)return[O,O];if(S&&P&&P.length){for(q=0;q<S.length;q++)if(S[q]===P[0]){E=q;break}else if(S[0]===P[P.length-S.length+q]){E=q,te=!0;break}else if(S[S.length-1]===P[P.length-S.length+q]){E=S.length-q;break}typeof E>"u"&&(L=[])}return L.length&&R(E)&&(ie=O.length+E*U,te?(G(L,O),M(O,L)):(G(O,L),M(L,O))),[L,O]}fillSetter(){k.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}}return k.timers=[],k}),n(r,"Core/Animation/AnimationUtilities.js",[r["Core/Animation/Fx.js"],r["Core/Utilities.js"]],function(o,d){function h(G){return z(G)?q({duration:500,defer:0},G):{duration:G?500:0,defer:0}}function s(G,M){let S=o.timers.length;for(;S--;)o.timers[S].elem!==G||M&&M!==o.timers[S].prop||(o.timers[S].stopped=!0)}const{defined:v,getStyle:R,isArray:J,isNumber:k,isObject:z,merge:q,objectEach:L,pick:O}=d;return{animate:function(G,M,S){let P,H="",U,E,ie;z(S)||(ie=arguments,S={duration:ie[2],easing:ie[3],complete:ie[4]}),k(S.duration)||(S.duration=400),S.easing=typeof S.easing=="function"?S.easing:Math[S.easing]||Math.easeInOutSine,S.curAnim=q(M),L(M,function(te,$){s(G,$),E=new o(G,S,$),U=void 0,$==="d"&&J(M.d)?(E.paths=E.initPath(G,G.pathArray,M.d),E.toD=M.d,P=0,U=1):G.attr?P=G.attr($):(P=parseFloat(R(G,$))||0,$!=="opacity"&&(H="px")),U||(U=te),typeof U=="string"&&U.match("px")&&(U=U.replace(/px/g,"")),E.run(P,U,H)})},animObject:h,getDeferredAnimation:function(G,M,S){const P=h(M);let H=0,U=0;return(S?[S]:G.series).forEach(E=>{E=h(E.options.animation),H=M&&v(M.defer)?P.defer:Math.max(H,E.duration+E.defer),U=Math.min(P.duration,E.duration)}),G.renderer.forExport&&(H=0),{defer:Math.max(0,H-U),duration:Math.min(H,U)}},setAnimation:function(G,M){M.renderer.globalAnimation=O(G,M.options.chart.animation,!0)},stop:s}}),n(r,"Core/Renderer/HTML/AST.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d){const{SVG_NS:h,win:s}=o,{attr:v,createElement:R,css:J,error:k,isFunction:z,isString:q,objectEach:L,splat:O}=d;({trustedTypes:d}=s);const G=d&&z(d.createPolicy)&&d.createPolicy("highcharts",{createHTML:H=>H});d=G?G.createHTML(""):"";try{var M=!!new DOMParser().parseFromString(d,"text/html")}catch{M=!1}const S=M;class P{static filterUserAttributes(U){return L(U,(E,ie)=>{let te=!0;P.allowedAttributes.indexOf(ie)===-1&&(te=!1),["background","dynsrc","href","lowsrc","src"].indexOf(ie)!==-1&&(te=q(E)&&P.allowedReferences.some($=>E.indexOf($)===0)),te||(k(33,!1,void 0,{"Invalid attribute in config":`${ie}`}),delete U[ie]),q(E)&&U[ie]&&(U[ie]=E.replace(/</g,"&lt;"))}),U}static parseStyle(U){return U.split(";").reduce((E,ie)=>{ie=ie.split(":").map($=>$.trim());const te=ie.shift();return te&&ie.length&&(E[te.replace(/-([a-z])/g,$=>$[1].toUpperCase())]=ie.join(":")),E},{})}static setElementHTML(U,E){U.innerHTML=P.emptyHTML,E&&new P(E).addToDOM(U)}constructor(U){this.nodes=typeof U=="string"?this.parseMarkup(U):U}addToDOM(U){function E(ie,te){let $;return O(ie).forEach(function(V){var j=V.tagName;const w=V.textContent?o.doc.createTextNode(V.textContent):void 0,I=P.bypassHTMLFiltering;let m;if(j)if(j==="#text")m=w;else if(P.allowedTags.indexOf(j)!==-1||I){j=o.doc.createElementNS(j==="svg"?h:te.namespaceURI||h,j);const g=V.attributes||{};L(V,function(b,A){A!=="tagName"&&A!=="attributes"&&A!=="children"&&A!=="style"&&A!=="textContent"&&(g[A]=b)}),v(j,I?g:P.filterUserAttributes(g)),V.style&&J(j,V.style),w&&j.appendChild(w),E(V.children||[],j),m=j}else k(33,!1,void 0,{"Invalid tagName in config":j});m&&te.appendChild(m),$=m}),$}return E(this.nodes,U)}parseMarkup(U){const E=[];if(U=U.trim().replace(/ style=(["'])/g," data-style=$1"),S)U=new DOMParser().parseFromString(G?G.createHTML(U):U,"text/html");else{const te=R("div");te.innerHTML=U,U={body:te}}const ie=(te,$)=>{var V=te.nodeName.toLowerCase();const j={tagName:V};if(V==="#text"&&(j.textContent=te.textContent||""),V=te.attributes){const w={};[].forEach.call(V,I=>{I.name==="data-style"?j.style=P.parseStyle(I.value):w[I.name]=I.value}),j.attributes=w}if(te.childNodes.length){const w=[];[].forEach.call(te.childNodes,I=>{ie(I,w)}),w.length&&(j.children=w)}$.push(j)};return[].forEach.call(U.body.childNodes,te=>ie(te,E)),E}}return P.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),P.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),P.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),P.emptyHTML=d,P.bypassHTMLFiltering=!1,P}),n(r,"Core/FormatUtilities.js",[r["Core/Defaults.js"],r["Core/Utilities.js"]],function(o,d){function h(q,L,O,G){q=+q||0,L=+L;const M=s.lang;var S=(q.toString().split(".")[1]||"").split("e")[0].length;const P=q.toString().split("e"),H=L;if(L===-1)L=Math.min(S,20);else if(!J(L))L=2;else if(L&&P[1]&&0>P[1]){var U=L+ +P[1];0<=U?(P[0]=(+P[0]).toExponential(U).split("e")[0],L=U):(P[0]=P[0].split(".")[0]||0,q=20>L?(P[0]*Math.pow(10,P[1])).toFixed(L):0,P[1]=0)}U=(Math.abs(P[1]?P[0]:q)+Math.pow(10,-Math.max(L,S)-1)).toFixed(L),S=String(z(U));const E=3<S.length?S.length%3:0;return O=k(O,M.decimalPoint),G=k(G,M.thousandsSep),q=(0>q?"-":"")+(E?S.substr(0,E)+G:""),q=0>+P[1]&&!H?"0":q+S.substr(E).replace(/(\d{3})(?=\d)/g,"$1"+G),L&&(q+=O+U.slice(-L)),P[1]&&+q!=0&&(q+="e"+P[1]),q}const{defaultOptions:s,defaultTime:v}=o,{getNestedProperty:R,isNumber:J,pick:k,pInt:z}=d;return{dateFormat:function(q,L,O){return v.dateFormat(q,L,O)},format:function(q,L,O){var G="{";let M=!1,S;const P=/f$/,H=/\.([0-9])/,U=s.lang,E=O&&O.time||v;O=O&&O.numberFormatter||h;const ie=[];for(;q&&(S=q.indexOf(G),S!==-1);){var te=q.slice(0,S);if(M){if(te=te.split(":"),G=R(te.shift()||"",L),te.length&&typeof G=="number")if(te=te.join(":"),P.test(te)){const $=parseInt((te.match(H)||["","-1"])[1],10);G!==null&&(G=O(G,$,U.decimalPoint,-1<te.indexOf(",")?U.thousandsSep:""))}else G=E.dateFormat(te,G);ie.push(G)}else ie.push(te);q=q.slice(S+1),G=(M=!M)?"}":"{"}return ie.push(q),ie.join("")},numberFormat:h}}),n(r,"Core/Renderer/RendererUtilities.js",[r["Core/Utilities.js"]],function(o){const{clamp:d,pick:h,stableSort:s}=o;var v;return function(R){function J(k,z,q){const L=k;var O=L.reducedLen||z,G=(E,ie)=>(ie.rank||0)-(E.rank||0);const M=(E,ie)=>E.target-ie.target;let S,P=!0,H=[],U=0;for(S=k.length;S--;)U+=k[S].size;if(U>O){for(s(k,G),U=S=0;U<=O;)U+=k[S].size,S++;H=k.splice(S-1,k.length)}for(s(k,M),k=k.map(E=>({size:E.size,targets:[E.target],align:h(E.align,.5)}));P;){for(S=k.length;S--;)O=k[S],G=(Math.min.apply(0,O.targets)+Math.max.apply(0,O.targets))/2,O.pos=d(G-O.size*O.align,0,z-O.size);for(S=k.length,P=!1;S--;)0<S&&k[S-1].pos+k[S-1].size>k[S].pos&&(k[S-1].size+=k[S].size,k[S-1].targets=k[S-1].targets.concat(k[S].targets),k[S-1].align=.5,k[S-1].pos+k[S-1].size>z&&(k[S-1].pos=z-k[S-1].size),k.splice(S,1),P=!0)}return L.push.apply(L,H),S=0,k.some(E=>{let ie=0;return(E.targets||[]).some(()=>(L[S].pos=E.pos+ie,typeof q<"u"&&Math.abs(L[S].pos-L[S].target)>q?(L.slice(0,S+1).forEach(te=>delete te.pos),L.reducedLen=(L.reducedLen||z)-.1*z,L.reducedLen>.1*z&&J(L,z,q),!0):(ie+=L[S].size,S++,!1)))}),s(L,M),L}R.distribute=J}(v||(v={})),v}),n(r,"Core/Renderer/SVG/SVGElement.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h,s){const{animate:v,animObject:R,stop:J}=o,{deg2rad:k,doc:z,svg:q,SVG_NS:L,win:O}=h,{addEvent:G,attr:M,createElement:S,css:P,defined:H,erase:U,extend:E,fireEvent:ie,isArray:te,isFunction:$,isObject:V,isString:j,merge:w,objectEach:I,pick:m,pInt:g,syncTimeout:b,uniqueKey:A}=s;class X{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=L}_defaultGetter(K){return K=m(this[K+"Value"],this[K],this.element?this.element.getAttribute(K):null,0),/^[\-0-9\.]+$/.test(K)&&(K=parseFloat(K)),K}_defaultSetter(K,le,he){he.setAttribute(le,K)}add(K){const le=this.renderer,he=this.element;let pe;return K&&(this.parentGroup=K),typeof this.textStr<"u"&&this.element.nodeName==="text"&&le.buildText(this),this.added=!0,(!K||K.handleZ||this.zIndex)&&(pe=this.zIndexSetter()),pe||(K?K.element:le.box).appendChild(he),this.onAdd&&this.onAdd(),this}addClass(K,le){const he=le?"":this.attr("class")||"";return K=(K||"").split(/ /g).reduce(function(pe,F){return he.indexOf(F)===-1&&pe.push(F),pe},he?[he]:[]).join(" "),K!==he&&this.attr("class",K),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(K,le,he){const pe={};var F=this.renderer,Q=F.alignedObjects,ce;let ge,ke;K?(this.alignOptions=K,this.alignByTranslate=le,(!he||j(he))&&(this.alignTo=ce=he||"renderer",U(Q,this),Q.push(this),he=void 0)):(K=this.alignOptions,le=this.alignByTranslate,ce=this.alignTo),he=m(he,F[ce],ce==="scrollablePlotBox"?F.plotBox:void 0,F),ce=K.align;const re=K.verticalAlign;return F=(he.x||0)+(K.x||0),Q=(he.y||0)+(K.y||0),ce==="right"?ge=1:ce==="center"&&(ge=2),ge&&(F+=(he.width-(K.width||0))/ge),pe[le?"translateX":"x"]=Math.round(F),re==="bottom"?ke=1:re==="middle"&&(ke=2),ke&&(Q+=(he.height-(K.height||0))/ke),pe[le?"translateY":"y"]=Math.round(Q),this[this.placed?"animate":"attr"](pe),this.placed=!0,this.alignAttr=pe,this}alignSetter(K){const le={left:"start",center:"middle",right:"end"};le[K]&&(this.alignValue=K,this.element.setAttribute("text-anchor",le[K]))}animate(K,le,he){const pe=R(m(le,this.renderer.globalAnimation,!0));return le=pe.defer,z.hidden&&(pe.duration=0),pe.duration!==0?(he&&(pe.complete=he),b(()=>{this.element&&v(this,K,pe)},le)):(this.attr(K,void 0,he||pe.complete),I(K,function(F,Q){pe.step&&pe.step.call(this,F,{prop:Q,pos:1,elem:this})},this)),this}applyTextOutline(K){const le=this.element;K.indexOf("contrast")!==-1&&(K=K.replace(/contrast/g,this.renderer.getContrast(le.style.fill)));var he=K.split(" ");if(K=he[he.length-1],(he=he[0])&&he!=="none"&&h.svg){this.fakeTS=!0,he=he.replace(/(^[\d\.]+)(.*?)$/g,function(Q,ce,ge){return 2*Number(ce)+ge}),this.removeTextOutline();const pe=z.createElementNS(L,"tspan");M(pe,{class:"highcharts-text-outline",fill:K,stroke:K,"stroke-width":he,"stroke-linejoin":"round"}),K=le.querySelector("textPath")||le,[].forEach.call(K.childNodes,Q=>{const ce=Q.cloneNode(!0);ce.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(ge=>ce.removeAttribute(ge)),pe.appendChild(ce)});let F=0;[].forEach.call(K.querySelectorAll("text tspan"),Q=>{F+=Number(Q.getAttribute("dy"))}),he=z.createElementNS(L,"tspan"),he.textContent="​",M(he,{x:Number(le.getAttribute("x")),dy:-F}),pe.appendChild(he),K.insertBefore(pe,K.firstChild)}}attr(K,le,he,pe){const F=this.element,Q=X.symbolCustomAttribs;let ce,ge,ke=this,re,ve;return typeof K=="string"&&typeof le<"u"&&(ce=K,K={},K[ce]=le),typeof K=="string"?ke=(this[K+"Getter"]||this._defaultGetter).call(this,K,F):(I(K,function(_e,oe){re=!1,pe||J(this,oe),this.symbolName&&Q.indexOf(oe)!==-1&&(ge||(this.symbolAttr(K),ge=!0),re=!0),!this.rotation||oe!=="x"&&oe!=="y"||(this.doTransform=!0),re||(ve=this[oe+"Setter"]||this._defaultSetter,ve.call(this,_e,oe,F))},this),this.afterSetters()),he&&he.call(this),ke}clip(K){return this.attr("clip-path",K?"url("+this.renderer.url+"#"+K.id+")":"none")}crisp(K,le){le=le||K.strokeWidth||0;const he=Math.round(le)%2/2;return K.x=Math.floor(K.x||this.x||0)+he,K.y=Math.floor(K.y||this.y||0)+he,K.width=Math.floor((K.width||this.width||0)-2*he),K.height=Math.floor((K.height||this.height||0)-2*he),H(K.strokeWidth)&&(K.strokeWidth=le),K}complexColor(K,le,he){const pe=this.renderer;let F,Q,ce,ge,ke,re,ve,_e,oe,ye,Se=[],Re;ie(this.renderer,"complexColor",{args:arguments},function(){if(K.radialGradient?Q="radialGradient":K.linearGradient&&(Q="linearGradient"),Q){if(ce=K[Q],ke=pe.gradients,re=K.stops,oe=he.radialReference,te(ce)&&(K[Q]=ce={x1:ce[0],y1:ce[1],x2:ce[2],y2:ce[3],gradientUnits:"userSpaceOnUse"}),Q==="radialGradient"&&oe&&!H(ce.gradientUnits)&&(ge=ce,ce=w(ce,pe.getRadialAttr(oe,ge),{gradientUnits:"userSpaceOnUse"})),I(ce,function(Oe,Ue){Ue!=="id"&&Se.push(Ue,Oe)}),I(re,function(Oe){Se.push(Oe)}),Se=Se.join(","),ke[Se])ye=ke[Se].attr("id");else{ce.id=ye=A();const Oe=ke[Se]=pe.createElement(Q).attr(ce).add(pe.defs);Oe.radAttr=ge,Oe.stops=[],re.forEach(function(Ue){Ue[1].indexOf("rgba")===0?(F=d.parse(Ue[1]),ve=F.get("rgb"),_e=F.get("a")):(ve=Ue[1],_e=1),Ue=pe.createElement("stop").attr({offset:Ue[0],"stop-color":ve,"stop-opacity":_e}).add(Oe),Oe.stops.push(Ue)})}Re="url("+pe.url+"#"+ye+")",he.setAttribute(le,Re),he.gradient=Se,K.toString=function(){return Re}}})}css(K){const le=this.styles,he={},pe=this.element;let F,Q=!le;if(K.color&&(K.fill=K.color),le&&I(K,function(ce,ge){le&&le[ge]!==ce&&(he[ge]=ce,Q=!0)}),Q){le&&(K=E(le,he)),K.width===null||K.width==="auto"?delete this.textWidth:pe.nodeName.toLowerCase()==="text"&&K.width&&(F=this.textWidth=g(K.width)),this.styles=K,F&&!q&&this.renderer.forExport&&delete K.width;const ce=w(K);pe.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(ge=>ce&&delete ce[ge]),P(pe,ce)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),K.textOutline&&this.applyTextOutline(K.textOutline)),this}dashstyleSetter(K){let le=this["stroke-width"];if(le==="inherit"&&(le=1),K=K&&K.toLowerCase()){const he=K.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(K=he.length;K--;)he[K]=""+g(he[K])*m(le,NaN);K=he.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",K)}}destroy(){const K=this;var le=K.element||{};const he=K.renderer;var pe=le.ownerSVGElement;let F=le.nodeName==="SPAN"&&K.parentGroup||void 0;if(le.onclick=le.onmouseout=le.onmouseover=le.onmousemove=le.point=null,J(K),K.clipPath&&pe){const Q=K.clipPath;[].forEach.call(pe.querySelectorAll("[clip-path],[CLIP-PATH]"),function(ce){-1<ce.getAttribute("clip-path").indexOf(Q.element.id)&&ce.removeAttribute("clip-path")}),K.clipPath=Q.destroy()}if(K.stops){for(pe=0;pe<K.stops.length;pe++)K.stops[pe].destroy();K.stops.length=0,K.stops=void 0}for(K.safeRemoveChild(le);F&&F.div&&F.div.childNodes.length===0;)le=F.parentGroup,K.safeRemoveChild(F.div),delete F.div,F=le;K.alignTo&&U(he.alignedObjects,K),I(K,function(Q,ce){K[ce]&&K[ce].parentGroup===K&&K[ce].destroy&&K[ce].destroy(),delete K[ce]})}dSetter(K,le,he){te(K)&&(typeof K[0]=="string"&&(K=this.renderer.pathToSegments(K)),this.pathArray=K,K=K.reduce((pe,F,Q)=>F&&F.join?(Q?pe+" ":"")+F.join(" "):(F||"").toString(),"")),/(NaN| {2}|^$)/.test(K)&&(K="M 0 0"),this[le]!==K&&(he.setAttribute(le,K),this[le]=K)}fadeOut(K){const le=this;le.animate({opacity:0},{duration:m(K,150),complete:function(){le.hide()}})}fillSetter(K,le,he){typeof K=="string"?he.setAttribute(le,K):K&&this.complexColor(K,le,he)}getBBox(K,le){const{alignValue:he,element:pe,renderer:F,styles:Q,textStr:ce}=this,{cache:ge,cacheKeys:ke}=F;var re=pe.namespaceURI===this.SVG_NS;le=m(le,this.rotation,0);var ve=F.styledMode?pe&&X.prototype.getStyle.call(pe,"font-size"):Q&&Q.fontSize;let _e,oe;if(H(ce)&&(oe=ce.toString(),oe.indexOf("<")===-1&&(oe=oe.replace(/[0-9]/g,"0")),oe+=["",F.rootFontSize,ve,le,this.textWidth,he,Q&&Q.textOverflow,Q&&Q.fontWeight].join()),oe&&!K&&(_e=ge[oe]),!_e){if(re||F.forExport){try{var ye=this.fakeTS&&function(st){const Qe=pe.querySelector(".highcharts-text-outline");Qe&&P(Qe,{display:st})};$(ye)&&ye("none"),_e=pe.getBBox?E({},pe.getBBox()):{width:pe.offsetWidth,height:pe.offsetHeight,x:0,y:0},$(ye)&&ye("")}catch{}(!_e||0>_e.width)&&(_e={x:0,y:0,width:0,height:0})}else _e=this.htmlGetBBox();if(ye=_e.width,K=_e.height,re&&(_e.height=K={"11px,17":14,"13px,20":16}[`${ve||""},${Math.round(K)}`]||K),le){re=Number(pe.getAttribute("y")||0)-_e.y,ve={right:1,center:.5}[he||0]||0;var Se=le*k,Re=(le-90)*k,Oe=ye*Math.cos(Se);le=ye*Math.sin(Se);var Ue=Math.cos(Re);Se=Math.sin(Re),ye=_e.x+ve*(ye-Oe)+re*Ue,Re=ye+Oe,Ue=Re-K*Ue,Oe=Ue-Oe,re=_e.y+re-ve*le+re*Se,ve=re+le,K=ve-K*Se,le=K-le,_e.x=Math.min(ye,Re,Ue,Oe),_e.y=Math.min(re,ve,K,le),_e.width=Math.max(ye,Re,Ue,Oe)-_e.x,_e.height=Math.max(re,ve,K,le)-_e.y}}if(oe&&(ce===""||0<_e.height)){for(;250<ke.length;)delete ge[ke.shift()];ge[oe]||ke.push(oe),ge[oe]=_e}return _e}getStyle(K){return O.getComputedStyle(this.element||this,"").getPropertyValue(K)}hasClass(K){return(""+this.attr("class")).split(" ").indexOf(K)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(K,le){this.element=le==="span"?S(le):z.createElementNS(this.SVG_NS,le),this.renderer=K,ie(this,"afterInit")}on(K,le){const{onEvents:he}=this;return he[K]&&he[K](),he[K]=G(this.element,K,le),this}opacitySetter(K,le,he){this.opacity=K=Number(Number(K).toFixed(3)),he.setAttribute(le,K)}removeClass(K){return this.attr("class",(""+this.attr("class")).replace(j(K)?new RegExp(`(^| )${K}( |$)`):K," ").replace(/ +/g," ").trim())}removeTextOutline(){const K=this.element.querySelector("tspan.highcharts-text-outline");K&&this.safeRemoveChild(K)}safeRemoveChild(K){const le=K.parentNode;le&&le.removeChild(K)}setRadialReference(K){const le=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=K,le&&le.radAttr&&le.animate(this.renderer.getRadialAttr(K,le.radAttr)),this}setTextPath(K,le){le=w(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},le);const he=this.renderer.url,pe=this.text||this,F=pe.textPath,{attributes:Q,enabled:ce}=le;return K=K||F&&F.path,F&&F.undo(),K&&ce?(le=G(pe,"afterModifyTree",ge=>{if(K&&ce){let re=K.attr("id");re||K.attr("id",re=A());var ke={x:0,y:0};H(Q.dx)&&(ke.dx=Q.dx,delete Q.dx),H(Q.dy)&&(ke.dy=Q.dy,delete Q.dy),pe.attr(ke),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),ke=ge.nodes.slice(0),ge.nodes.length=0,ge.nodes[0]={tagName:"textPath",attributes:E(Q,{"text-anchor":Q.textAnchor,href:`${he}#${re}`}),children:ke}}}),pe.textPath={path:K,undo:le}):(pe.attr({dx:0,dy:0}),delete pe.textPath),this.added&&(pe.textCache="",this.renderer.buildText(pe)),this}shadow(K){var le;const{renderer:he}=this,pe=w(((le=this.parentGroup)===null||le===void 0?void 0:le.rotation)===90?{offsetX:-1,offsetY:-1}:{},V(K)?K:{});return le=he.shadowDefinition(pe),this.attr({filter:K?`url(${he.url}#${le})`:"none"})}show(K=!0){return this.attr({visibility:K?"inherit":"visible"})}"stroke-widthSetter"(K,le,he){this[le]=K,he.setAttribute(le,K)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const K=this.getStyle("stroke-width");let le=0,he;return K.indexOf("px")===K.length-2?le=g(K):K!==""&&(he=z.createElementNS(L,"rect"),M(he,{width:K,"stroke-width":0}),this.element.parentNode.appendChild(he),le=he.getBBox().width,he.parentNode.removeChild(he)),le}symbolAttr(K){const le=this;X.symbolCustomAttribs.forEach(function(he){le[he]=m(K[he],le[he])}),le.attr({d:le.renderer.symbols[le.symbolName](le.x,le.y,le.width,le.height,le)})}textSetter(K){K!==this.textStr&&(delete this.textPxLength,this.textStr=K,this.added&&this.renderer.buildText(this))}titleSetter(K){const le=this.element,he=le.getElementsByTagName("title")[0]||z.createElementNS(this.SVG_NS,"title");le.insertBefore?le.insertBefore(he,le.firstChild):le.appendChild(he),he.textContent=String(m(K,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const K=this.element;return K.parentNode.appendChild(K),this}translate(K,le){return this.attr({translateX:K,translateY:le})}updateTransform(){const{element:K,matrix:le,rotation:he=0,scaleX:pe,scaleY:F,translateX:Q=0,translateY:ce=0}=this,ge=["translate("+Q+","+ce+")"];H(le)&&ge.push("matrix("+le.join(",")+")"),he&&ge.push("rotate("+he+" "+m(this.rotationOriginX,K.getAttribute("x"),0)+" "+m(this.rotationOriginY,K.getAttribute("y")||0)+")"),(H(pe)||H(F))&&ge.push("scale("+m(pe,1)+" "+m(F,1)+")"),ge.length&&!(this.text||this).textPath&&K.setAttribute("transform",ge.join(" "))}visibilitySetter(K,le,he){K==="inherit"?he.removeAttribute(le):this[le]!==K&&he.setAttribute(le,K),this[le]=K}xGetter(K){return this.element.nodeName==="circle"&&(K==="x"?K="cx":K==="y"&&(K="cy")),this._defaultGetter(K)}zIndexSetter(K,le){var he=this.renderer,pe=this.parentGroup;const F=(pe||he).element||he.box,Q=this.element;he=F===he.box;let ce=!1,ge;var ke=this.added;let re;if(H(K)?(Q.setAttribute("data-z-index",K),K=+K,this[le]===K&&(ke=!1)):H(this[le])&&Q.removeAttribute("data-z-index"),this[le]=K,ke){for((K=this.zIndex)&&pe&&(pe.handleZ=!0),le=F.childNodes,re=le.length-1;0<=re&&!ce;re--)pe=le[re],ke=pe.getAttribute("data-z-index"),ge=!H(ke),pe!==Q&&(0>K&&ge&&!he&&!re?(F.insertBefore(Q,le[re]),ce=!0):(g(ke)<=K||ge&&(!H(K)||0<=K))&&(F.insertBefore(Q,le[re+1]),ce=!0));ce||(F.insertBefore(Q,le[he?3:0]),ce=!0)}return ce}}return X.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),X.prototype.strokeSetter=X.prototype.fillSetter,X.prototype.yGetter=X.prototype.xGetter,X.prototype.matrixSetter=X.prototype.rotationOriginXSetter=X.prototype.rotationOriginYSetter=X.prototype.rotationSetter=X.prototype.scaleXSetter=X.prototype.scaleYSetter=X.prototype.translateXSetter=X.prototype.translateYSetter=X.prototype.verticalAlignSetter=function(Y,K){this[K]=Y,this.doTransform=!0},X}),n(r,"Core/Renderer/RendererRegistry.js",[r["Core/Globals.js"]],function(o){var d;return function(h){h.rendererTypes={};let s;h.getRendererType=function(v=s){return h.rendererTypes[v]||h.rendererTypes[s]},h.registerRendererType=function(v,R,J){h.rendererTypes[v]=R,(!s||J)&&(s=v,o.Renderer=R)}}(d||(d={})),d}),n(r,"Core/Renderer/SVG/SVGLabel.js",[r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,d){const{defined:h,extend:s,isNumber:v,merge:R,pick:J,removeEvent:k}=d;class z extends o{constructor(L,O,G,M,S,P,H,U,E,ie){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(L,"g"),this.textStr=O,this.x=G,this.y=M,this.anchorX=P,this.anchorY=H,this.baseline=E,this.className=ie,this.addClass(ie==="button"?"highcharts-no-tooltip":"highcharts-label"),ie&&this.addClass("highcharts-"+ie),this.text=L.text(void 0,0,0,U).attr({zIndex:1});let te;typeof S=="string"&&((te=/^url\((.*?)\)$/.test(S))||this.renderer.symbols[S])&&(this.symbolKey=S),this.bBox=z.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=L.styledMode||te,this.deferredAttr={},this.alignFactor=0}alignSetter(L){L={left:0,center:.5,right:1}[L],L!==this.alignFactor&&(this.alignFactor=L,this.bBox&&v(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(L,O){this.anchorX=L,this.boxAttr(O,Math.round(L)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(L,O){this.anchorY=L,this.boxAttr(O,L-this.ySetting)}boxAttr(L,O){this.box?this.box.attr(L,O):this.deferredAttr[L]=O}css(L){if(L){const O={};L=R(L),z.textProps.forEach(G=>{typeof L[G]<"u"&&(O[G]=L[G],delete L[G])}),this.text.css(O),"fontSize"in O||"fontWeight"in O?this.updateTextPadding():("width"in O||"textOverflow"in O)&&this.updateBoxSize()}return o.prototype.css.call(this,L)}destroy(){k(this.element,"mouseenter"),k(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),o.prototype.destroy.call(this)}fillSetter(L,O){L&&(this.needsBox=!0),this.fill=L,this.boxAttr(O,L)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const L=this.padding,O=J(this.paddingLeft,L);return{width:this.width,height:this.height,x:this.bBox.x-O,y:this.bBox.y-L}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(L){this.heightSetting=L}onAdd(){this.text.add(this),this.attr({text:J(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&h(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(L,O){v(L)?L!==this[O]&&(this[O]=L,this.updateTextPadding()):this[O]=void 0}rSetter(L,O){this.boxAttr(O,L)}strokeSetter(L,O){this.stroke=L,this.boxAttr(O,L)}"stroke-widthSetter"(L,O){L&&(this.needsBox=!0),this["stroke-width"]=L,this.boxAttr(O,L)}"text-alignSetter"(L){this.textAlign=L}textSetter(L){typeof L<"u"&&this.text.attr({text:L}),this.updateTextPadding()}updateBoxSize(){var L=this.text;const O={},G=this.padding,M=this.bBox=v(this.widthSetting)&&v(this.heightSetting)&&!this.textAlign||!h(L.textStr)?z.emptyBBox:L.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||M.height||0)+2*G;const S=this.renderer.fontMetrics(L);this.baselineOffset=G+Math.min((this.text.firstLineMetrics||S).b,M.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-S.h)/2),this.needsBox&&!L.textPath&&(this.box||(L=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),L.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),L.add(this)),L=this.getCrispAdjust(),O.x=L,O.y=(this.baseline?-this.baselineOffset:0)+L,O.width=Math.round(this.width),O.height=Math.round(this.height),this.box.attr(s(O,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const L=this.text;if(!L.textPath){this.updateBoxSize();const O=this.baseline?0:this.baselineOffset;let G=J(this.paddingLeft,this.padding);h(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(G+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(G!==L.x||O!==L.y)&&(L.attr("x",G),L.hasBoxWidthChanged&&(this.bBox=L.getBBox(!0)),typeof O<"u"&&L.attr("y",O)),L.x=G,L.y=O}}widthSetter(L){this.widthSetting=v(L)?L:void 0}getPaddedWidth(){var L=this.padding;const O=J(this.paddingLeft,L);return L=J(this.paddingRight,L),(this.widthSetting||this.bBox.width||0)+O+L}xSetter(L){this.x=L,this.alignFactor&&(L-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(L),this.attr("translateX",this.xSetting)}ySetter(L){this.ySetting=this.y=Math.round(L),this.attr("translateY",this.ySetting)}}return z.emptyBBox={width:0,height:0,x:0,y:0},z.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),z}),n(r,"Core/Renderer/SVG/Symbols.js",[r["Core/Utilities.js"]],function(o){function d(k,z,q,L,O){const G=[];if(O){const M=O.start||0,S=J(O.r,q);q=J(O.r,L||q),L=(O.end||0)-.001;const P=O.innerR,H=J(O.open,.001>Math.abs((O.end||0)-M-2*Math.PI)),U=Math.cos(M),E=Math.sin(M),ie=Math.cos(L),te=Math.sin(L),$=J(O.longArc,.001>L-M-Math.PI?0:1);let V=["A",S,q,0,$,J(O.clockwise,1),k+S*ie,z+q*te];V.params={start:M,end:L,cx:k,cy:z},G.push(["M",k+S*U,z+q*E],V),v(P)&&(V=["A",P,P,0,$,v(O.clockwise)?1-O.clockwise:0,k+P*U,z+P*E],V.params={start:L,end:M,cx:k,cy:z},G.push(H?["M",k+P*ie,z+P*te]:["L",k+P*ie,z+P*te],V)),H||G.push(["Z"])}return G}function h(k,z,q,L,O){return O&&O.r?s(k,z,q,L,O):[["M",k,z],["L",k+q,z],["L",k+q,z+L],["L",k,z+L],["Z"]]}function s(k,z,q,L,O){return O=(O==null?void 0:O.r)||0,[["M",k+O,z],["L",k+q-O,z],["A",O,O,0,0,1,k+q,z+O],["L",k+q,z+L-O],["A",O,O,0,0,1,k+q-O,z+L],["L",k+O,z+L],["A",O,O,0,0,1,k,z+L-O],["L",k,z+O],["A",O,O,0,0,1,k+O,z],["Z"]]}const{defined:v,isNumber:R,pick:J}=o;return{arc:d,callout:function(k,z,q,L,O){const G=Math.min(O&&O.r||0,q,L),M=G+6,S=O&&O.anchorX;O=O&&O.anchorY||0;const P=s(k,z,q,L,{r:G});return R(S)&&(k+S>=q?O>z+M&&O<z+L-M?P.splice(3,1,["L",k+q,O-6],["L",k+q+6,O],["L",k+q,O+6],["L",k+q,z+L-G]):P.splice(3,1,["L",k+q,L/2],["L",S,O],["L",k+q,L/2],["L",k+q,z+L-G]):0>=k+S?O>z+M&&O<z+L-M?P.splice(7,1,["L",k,O+6],["L",k-6,O],["L",k,O-6],["L",k,z+G]):P.splice(7,1,["L",k,L/2],["L",S,O],["L",k,L/2],["L",k,z+G]):O&&O>L&&S>k+M&&S<k+q-M?P.splice(5,1,["L",S+6,z+L],["L",S,z+L+6],["L",S-6,z+L],["L",k+G,z+L]):O&&0>O&&S>k+M&&S<k+q-M&&P.splice(1,1,["L",S-6,z],["L",S,z-6],["L",S+6,z],["L",q-G,z])),P},circle:function(k,z,q,L){return d(k+q/2,z+L/2,q/2,L/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(k,z,q,L){return[["M",k+q/2,z],["L",k+q,z+L/2],["L",k+q/2,z+L],["L",k,z+L/2],["Z"]]},rect:h,roundedRect:s,square:h,triangle:function(k,z,q,L){return[["M",k+q/2,z],["L",k+q,z+L],["L",k,z+L],["Z"]]},"triangle-down":function(k,z,q,L){return[["M",k,z],["L",k+q,z],["L",k+q/2,z+L],["Z"]]}}}),n(r,"Core/Renderer/SVG/TextBuilder.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{doc:s,SVG_NS:v,win:R}=d,{attr:J,extend:k,fireEvent:z,isString:q,objectEach:L,pick:O}=h;class G{constructor(S){const P=S.styles;this.renderer=S.renderer,this.svgElement=S,this.width=S.textWidth,this.textLineHeight=P&&P.lineHeight,this.textOutline=P&&P.textOutline,this.ellipsis=!(!P||P.textOverflow!=="ellipsis"),this.noWrap=!(!P||P.whiteSpace!=="nowrap")}buildSVG(){const S=this.svgElement,P=S.element;var H=S.renderer,U=O(S.textStr,"").toString();const E=U.indexOf("<")!==-1,ie=P.childNodes;H=!S.added&&H.box;const te=/<br.*?>/g;var $=[U,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,S.getStyle("font-size"),this.width].join();if($!==S.textCache){for(S.textCache=$,delete S.actualWidth,$=ie.length;$--;)P.removeChild(ie[$]);E||this.ellipsis||this.width||S.textPath||U.indexOf(" ")!==-1&&(!this.noWrap||te.test(U))?U!==""&&(H&&H.appendChild(P),U=new o(U),this.modifyTree(U.nodes),U.addToDOM(P),this.modifyDOM(),this.ellipsis&&(P.textContent||"").indexOf("…")!==-1&&S.attr("title",this.unescapeEntities(S.textStr||"",["&lt;","&gt;"])),H&&H.removeChild(P)):P.appendChild(s.createTextNode(this.unescapeEntities(U))),q(this.textOutline)&&S.applyTextOutline&&S.applyTextOutline(this.textOutline)}}modifyDOM(){const S=this.svgElement,P=J(S.element,"x");S.firstLineMetrics=void 0;let H;for(;(H=S.element.firstChild)&&/^[\s\u200B]*$/.test(H.textContent||" ");)S.element.removeChild(H);[].forEach.call(S.element.querySelectorAll("tspan.highcharts-br"),(te,$)=>{te.nextSibling&&te.previousSibling&&($===0&&te.previousSibling.nodeType===1&&(S.firstLineMetrics=S.renderer.fontMetrics(te.previousSibling)),J(te,{dy:this.getLineHeight(te.nextSibling),x:P}))});const U=this.width||0;if(U){var E=(te,$)=>{var V=te.textContent||"";const j=V.replace(/([^\^])-/g,"$1- ").split(" ");var w=!this.noWrap&&(1<j.length||1<S.element.childNodes.length);const I=this.getLineHeight($);let m=0,g=S.actualWidth;if(this.ellipsis)V&&this.truncate(te,V,void 0,0,Math.max(0,U-.8*I),(b,A)=>b.substring(0,A)+"…");else if(w){for(V=[],w=[];$.firstChild&&$.firstChild!==te;)w.push($.firstChild),$.removeChild($.firstChild);for(;j.length;)j.length&&!this.noWrap&&0<m&&(V.push(te.textContent||""),te.textContent=j.join(" ").replace(/- /g,"-")),this.truncate(te,void 0,j,m===0&&g||0,U,(b,A)=>j.slice(0,A).join(" ").replace(/- /g,"-")),g=S.actualWidth,m++;w.forEach(b=>{$.insertBefore(b,te)}),V.forEach(b=>{$.insertBefore(s.createTextNode(b),te),b=s.createElementNS(v,"tspan"),b.textContent="​",J(b,{dy:I,x:P}),$.insertBefore(b,te)})}},ie=te=>{[].slice.call(te.childNodes).forEach($=>{$.nodeType===R.Node.TEXT_NODE?E($,te):($.className.baseVal.indexOf("highcharts-br")!==-1&&(S.actualWidth=0),ie($))})};ie(S.element)}}getLineHeight(S){return S=S.nodeType===R.Node.TEXT_NODE?S.parentElement:S,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(S||this.svgElement.element).h}modifyTree(S){const P=(H,U)=>{const{attributes:E={},children:ie,style:te={},tagName:$}=H,V=this.renderer.styledMode;$==="b"||$==="strong"?V?E.class="highcharts-strong":te.fontWeight="bold":($==="i"||$==="em")&&(V?E.class="highcharts-emphasized":te.fontStyle="italic"),te&&te.color&&(te.fill=te.color),$==="br"?(E.class="highcharts-br",H.textContent="​",(U=S[U+1])&&U.textContent&&(U.textContent=U.textContent.replace(/^ +/gm,""))):$==="a"&&ie&&ie.some(j=>j.tagName==="#text")&&(H.children=[{children:ie,tagName:"tspan"}]),$!=="#text"&&$!=="a"&&(H.tagName="tspan"),k(H,{attributes:E,style:te}),ie&&ie.filter(j=>j.tagName!=="#text").forEach(P)};S.forEach(P),z(this.svgElement,"afterModifyTree",{nodes:S})}truncate(S,P,H,U,E,ie){const te=this.svgElement,{rotation:$}=te,V=[];let j=H?1:0,w=(P||H||"").length,I=w,m,g;const b=function(A,X){if(A=X||A,(X=S.parentNode)&&typeof V[A]>"u"&&X.getSubStringLength)try{V[A]=U+X.getSubStringLength(0,H?A+1:A)}catch{}return V[A]};if(te.rotation=0,g=b(S.textContent.length),U+g>E){for(;j<=w;)I=Math.ceil((j+w)/2),H&&(m=ie(H,I)),g=b(I,m&&m.length-1),j===w?j=w+1:g>E?w=I-1:j=I;w===0?S.textContent="":P&&w===P.length-1||(S.textContent=m||ie(P||H,I))}H&&H.splice(0,I),te.actualWidth=g,te.rotation=$}unescapeEntities(S,P){return L(this.renderer.escapes,function(H,U){P&&P.indexOf(H)!==-1||(S=S.toString().replace(new RegExp(H,"g"),U))}),S}}return G}),n(r,"Core/Renderer/SVG/SVGRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGLabel.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Renderer/SVG/TextBuilder.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R,J,k,z){const{charts:q,deg2rad:L,doc:O,isFirefox:G,isMS:M,isWebKit:S,noop:P,SVG_NS:H,symbolSizes:U,win:E}=h,{addEvent:ie,attr:te,createElement:$,css:V,defined:j,destroyObjectProperties:w,extend:I,isArray:m,isNumber:g,isObject:b,isString:A,merge:X,pick:Y,pInt:K,uniqueKey:le}=z;let he;class pe{constructor(Q,ce,ge,ke,re,ve,_e){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(Q,ce,ge,ke,re,ve,_e)}init(Q,ce,ge,ke,re,ve,_e){const oe=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ye=oe.element;_e||oe.css(this.getStyle(ke)),Q.appendChild(ye),te(Q,"dir","ltr"),Q.innerHTML.indexOf("xmlns")===-1&&te(ye,"xmlns",this.SVG_NS),this.box=ye,this.boxWrapper=oe,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(O.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=ve,this.forExport=re,this.styledMode=_e,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=oe.getStyle("font-size"),this.setSize(ce,ge,!1);let Se;G&&Q.getBoundingClientRect&&(ce=function(){V(Q,{left:0,top:0}),Se=Q.getBoundingClientRect(),V(Q,{left:Math.ceil(Se.left)-Se.left+"px",top:Math.ceil(Se.top)-Se.top+"px"})},ce(),this.unSubPixelFix=ie(E,"resize",ce))}definition(Q){return new o([Q]).addToDOM(this.defs.element)}getReferenceURL(){if((G||S)&&O.getElementsByTagName("base").length){if(!j(he)){var Q=le();Q=new o([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:Q},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${Q})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(O.body),V(Q,{position:"fixed",top:0,left:0,zIndex:9e5});const ce=O.elementFromPoint(6,6);he=(ce&&ce.id)==="hitme",O.body.removeChild(Q)}if(he)return E.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(Q){return this.style=I({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},Q)}setStyle(Q){this.boxWrapper.css(this.getStyle(Q))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const Q=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),w(this.gradients||{}),this.gradients=null,this.defs=Q.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(Q){const ce=new this.Element;return ce.init(this,Q),ce}getRadialAttr(Q,ce){return{cx:Q[0]-Q[2]/2+(ce.cx||0)*Q[2],cy:Q[1]-Q[2]/2+(ce.cy||0)*Q[2],r:(ce.r||0)*Q[2]}}shadowDefinition(Q){const ce=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(Q).map(ke=>Q[ke])].join("-").replace(/[^a-z0-9\-]/g,""),ge=X({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},Q);return this.defs.element.querySelector(`#${ce}`)||this.definition({tagName:"filter",attributes:{id:ce},children:[{tagName:"feDropShadow",attributes:{dx:ge.offsetX,dy:ge.offsetY,"flood-color":ge.color,"flood-opacity":Math.min(5*ge.opacity,1),stdDeviation:ge.width/2}}]}),ce}buildText(Q){new k(Q).buildSVG()}getContrast(Q){return Q=d.parse(Q).rgba.map(ce=>(ce/=255,.03928>=ce?ce/12.92:Math.pow((ce+.055)/1.055,2.4))),Q=.2126*Q[0]+.7152*Q[1]+.0722*Q[2],1.05/(Q+.05)>(Q+.05)/.05?"#FFFFFF":"#000000"}button(Q,ce,ge,ke,re={},ve,_e,oe,ye,Se){const Re=this.label(Q,ce,ge,ye,void 0,void 0,Se,void 0,"button"),Oe=this.styledMode;Q=re.states||{};let Ue=0;re=X(re),delete re.states;const st=X({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},re.style);delete re.style;let Qe=o.filterUserAttributes(re);Re.attr(X({padding:8,r:2},Qe));let qe,xe,Ie;return Oe||(Qe=X({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},Qe),ve=X(Qe,{fill:"#e6e6e6"},o.filterUserAttributes(ve||Q.hover||{})),qe=ve.style,delete ve.style,_e=X(Qe,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},o.filterUserAttributes(_e||Q.select||{})),xe=_e.style,delete _e.style,oe=X(Qe,{style:{color:"#cccccc"}},o.filterUserAttributes(oe||Q.disabled||{})),Ie=oe.style,delete oe.style),ie(Re.element,M?"mouseover":"mouseenter",function(){Ue!==3&&Re.setState(1)}),ie(Re.element,M?"mouseout":"mouseleave",function(){Ue!==3&&Re.setState(Ue)}),Re.setState=function(Be){Be!==1&&(Re.state=Ue=Be),Re.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Be||0]),Oe||(Re.attr([Qe,ve,_e,oe][Be||0]),Be=[st,qe,xe,Ie][Be||0],b(Be)&&Re.css(Be))},Oe||(Re.attr(Qe).css(I({cursor:"default"},st)),Se&&Re.text.css({pointerEvents:"none"})),Re.on("touchstart",Be=>Be.stopPropagation()).on("click",function(Be){Ue!==3&&ke.call(Re,Be)})}crispLine(Q,ce,ge="round"){const ke=Q[0],re=Q[1];return j(ke[1])&&ke[1]===re[1]&&(ke[1]=re[1]=Math[ge](ke[1])-ce%2/2),j(ke[2])&&ke[2]===re[2]&&(ke[2]=re[2]=Math[ge](ke[2])+ce%2/2),Q}path(Q){const ce=this.styledMode?{}:{fill:"none"};return m(Q)?ce.d=Q:b(Q)&&I(ce,Q),this.createElement("path").attr(ce)}circle(Q,ce,ge){return Q=b(Q)?Q:typeof Q>"u"?{}:{x:Q,y:ce,r:ge},ce=this.createElement("circle"),ce.xSetter=ce.ySetter=function(ke,re,ve){ve.setAttribute("c"+re,ke)},ce.attr(Q)}arc(Q,ce,ge,ke,re,ve){return b(Q)?(ke=Q,ce=ke.y,ge=ke.r,Q=ke.x):ke={innerR:ke,start:re,end:ve},Q=this.symbol("arc",Q,ce,ge,ge,ke),Q.r=ge,Q}rect(Q,ce,ge,ke,re,ve){Q=b(Q)?Q:typeof Q>"u"?{}:{x:Q,y:ce,r:re,width:Math.max(ge||0,0),height:Math.max(ke||0,0)};const _e=this.createElement("rect");return this.styledMode||(typeof ve<"u"&&(Q["stroke-width"]=ve,I(Q,_e.crisp(Q))),Q.fill="none"),_e.rSetter=function(oe,ye,Se){_e.r=oe,te(Se,{rx:oe,ry:oe})},_e.rGetter=function(){return _e.r||0},_e.attr(Q)}roundedRect(Q){return this.symbol("roundedRect").attr(Q)}setSize(Q,ce,ge){this.width=Q,this.height=ce,this.boxWrapper.animate({width:Q,height:ce},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Y(ge,!0)?void 0:0}),this.alignElements()}g(Q){const ce=this.createElement("g");return Q?ce.attr({class:"highcharts-"+Q}):ce}image(Q,ce,ge,ke,re,ve){const _e={preserveAspectRatio:"none"},oe=function(Se,Re){Se.setAttributeNS?Se.setAttributeNS("http://www.w3.org/1999/xlink","href",Re):Se.setAttribute("hc-svg-href",Re)};g(ce)&&(_e.x=ce),g(ge)&&(_e.y=ge),g(ke)&&(_e.width=ke),g(re)&&(_e.height=re);const ye=this.createElement("image").attr(_e);return ce=function(Se){oe(ye.element,Q),ve.call(ye,Se)},ve?(oe(ye.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ge=new E.Image,ie(ge,"load",ce),ge.src=Q,ge.complete&&ce({})):oe(ye.element,Q),ye}symbol(Q,ce,ge,ke,re,ve){const _e=this,oe=/^url\((.*?)\)$/,ye=oe.test(Q),Se=!ye&&(this.symbols[Q]?Q:"circle"),Re=Se&&this.symbols[Se];let Oe,Ue,st,Qe;if(Re)typeof ce=="number"&&(Ue=Re.call(this.symbols,Math.round(ce||0),Math.round(ge||0),ke||0,re||0,ve)),Oe=this.path(Ue),_e.styledMode||Oe.attr("fill","none"),I(Oe,{symbolName:Se||void 0,x:ce,y:ge,width:ke,height:re}),ve&&I(Oe,ve);else if(ye){st=Q.match(oe)[1];const qe=Oe=this.image(st);qe.imgwidth=Y(ve&&ve.width,U[st]&&U[st].width),qe.imgheight=Y(ve&&ve.height,U[st]&&U[st].height),Qe=xe=>xe.attr({width:xe.width,height:xe.height}),["width","height"].forEach(function(xe){qe[xe+"Setter"]=function(Ie,Be){this[Be]=Ie;const{alignByTranslate:Xe,element:Ke,width:pt,height:Tt,imgwidth:Lt,imgheight:gi}=this;if(Ie=this["img"+Be],j(Ie)){let Wt=1;ve&&ve.backgroundSize==="within"&&pt&&Tt?(Wt=Math.min(pt/Lt,Tt/gi),te(Ke,{width:Math.round(Lt*Wt),height:Math.round(gi*Wt)})):Ke&&Ke.setAttribute(Be,Ie),Xe||this.translate(((pt||0)-Lt*Wt)/2,((Tt||0)-gi*Wt)/2)}}}),j(ce)&&qe.attr({x:ce,y:ge}),qe.isImg=!0,j(qe.imgwidth)&&j(qe.imgheight)?Qe(qe):(qe.attr({width:0,height:0}),$("img",{onload:function(){const xe=q[_e.chartIndex];this.width===0&&(V(this,{position:"absolute",top:"-999em"}),O.body.appendChild(this)),U[st]={width:this.width,height:this.height},qe.imgwidth=this.width,qe.imgheight=this.height,qe.element&&Qe(qe),this.parentNode&&this.parentNode.removeChild(this),_e.imgCount--,!_e.imgCount&&xe&&!xe.hasLoaded&&xe.onload()},src:st}),this.imgCount++)}return Oe}clipRect(Q,ce,ge,ke){const re=le()+"-",ve=this.createElement("clipPath").attr({id:re}).add(this.defs);return Q=this.rect(Q,ce,ge,ke,0).add(ve),Q.id=re,Q.clipPath=ve,Q.count=0,Q}text(Q,ce,ge,ke){const re={};return ke&&(this.allowHTML||!this.forExport)?this.html(Q,ce,ge):(re.x=Math.round(ce||0),ge&&(re.y=Math.round(ge)),j(Q)&&(re.text=Q),Q=this.createElement("text").attr(re),(!ke||this.forExport&&!this.allowHTML)&&(Q.xSetter=function(ve,_e,oe){const ye=oe.getElementsByTagName("tspan"),Se=oe.getAttribute(_e);for(let Re=0,Oe;Re<ye.length;Re++)Oe=ye[Re],Oe.getAttribute(_e)===Se&&Oe.setAttribute(_e,ve);oe.setAttribute(_e,ve)}),Q)}fontMetrics(Q){Q=K(v.prototype.getStyle.call(Q,"font-size")||0);const ce=24>Q?Q+3:Math.round(1.2*Q);return{h:ce,b:Math.round(.8*ce),f:Q}}rotCorr(Q,ce,ge){let ke=Q;return ce&&ge&&(ke=Math.max(ke*Math.cos(ce*L),4)),{x:-Q/3*Math.sin(ce*L),y:ke}}pathToSegments(Q){const ce=[],ge=[],ke={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let re=0;re<Q.length;re++)A(ge[0])&&g(Q[re])&&ge.length===ke[ge[0].toUpperCase()]&&Q.splice(re,0,ge[0].replace("M","L").replace("m","l")),typeof Q[re]=="string"&&(ge.length&&ce.push(ge.slice(0)),ge.length=0),ge.push(Q[re]);return ce.push(ge.slice(0)),ce}label(Q,ce,ge,ke,re,ve,_e,oe,ye){return new R(this,Q,ce,ge,ke,re,ve,_e,oe,ye)}alignElements(){this.alignedObjects.forEach(Q=>Q.align())}}return I(pe.prototype,{Element:v,SVG_NS:H,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:J,draw:P}),s.registerRendererType("svg",pe,!0),pe}),n(r,"Core/Renderer/HTML/HTMLElement.js",[r["Core/Globals.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,d,h){const{isFirefox:s,isMS:v,isWebKit:R,win:J}=o,{css:k,defined:z,extend:q,pick:L,pInt:O}=h,G=[];class M extends d{static compose(P){if(h.pushUnique(G,P)){const H=M.prototype,U=P.prototype;U.getSpanCorrection=H.getSpanCorrection,U.htmlCss=H.htmlCss,U.htmlGetBBox=H.htmlGetBBox,U.htmlUpdateTransform=H.htmlUpdateTransform,U.setSpanRotation=H.setSpanRotation}return P}getSpanCorrection(P,H,U){this.xCorr=-P*U,this.yCorr=-H}htmlCss(P){const H=this.element.tagName==="SPAN"&&P&&"width"in P,U=L(H&&P.width,void 0);let E;return H&&(delete P.width,this.textWidth=U,E=!0),P&&P.textOverflow==="ellipsis"&&(P.whiteSpace="nowrap",P.overflow="hidden"),this.styles=q(this.styles,P),k(this.element,P),E&&this.htmlUpdateTransform(),this}htmlGetBBox(){const P=this.element;return{x:P.offsetLeft,y:P.offsetTop,width:P.offsetWidth,height:P.offsetHeight}}htmlUpdateTransform(){if(this.added){var P=this.renderer,H=this.element,U=this.x||0,E=this.y||0,ie=this.textAlign||"left",te={left:0,center:.5,right:1}[ie],$=this.styles,V=$&&$.whiteSpace;if(k(H,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),H.tagName==="SPAN"){$=this.rotation;const w=this.textWidth&&O(this.textWidth),I=[$,ie,H.innerHTML,this.textWidth,this.textAlign].join();let m=!1;if(w!==this.oldTextWidth){if(this.textPxLength)var j=this.textPxLength;else k(H,{width:"",whiteSpace:V||"nowrap"}),j=H.offsetWidth;(w>this.oldTextWidth||j>w)&&(/[ \-]/.test(H.textContent||H.innerText)||H.style.textOverflow==="ellipsis")&&(k(H,{width:j>w||$?w+"px":"auto",display:"block",whiteSpace:V||"normal"}),this.oldTextWidth=w,m=!0)}this.hasBoxWidthChanged=m,I!==this.cTT&&(P=P.fontMetrics(H).b,!z($)||$===(this.oldRotation||0)&&ie===this.oldAlign||this.setSpanRotation($,te,P),this.getSpanCorrection(!z($)&&this.textPxLength||H.offsetWidth,P,te,$,ie)),k(H,{left:U+(this.xCorr||0)+"px",top:E+(this.yCorr||0)+"px"}),this.cTT=I,this.oldRotation=$,this.oldAlign=ie}}else this.alignOnAdd=!0}setSpanRotation(P,H,U){const E={},ie=v&&!/Edge/.test(J.navigator.userAgent)?"-ms-transform":R?"-webkit-transform":s?"MozTransform":J.opera?"-o-transform":void 0;ie&&(E[ie]=E.transform="rotate("+P+"deg)",E[ie+(s?"Origin":"-origin")]=E.transformOrigin=100*H+"% "+U+"px",k(this.element,E))}}return M}),n(r,"Core/Renderer/HTML/HTMLRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(o,d,h,s){const{attr:v,createElement:R,extend:J,pick:k}=s,z=[];class q extends h{static compose(O){return s.pushUnique(z,O)&&(O.prototype.html=q.prototype.html),O}html(O,G,M){const S=this.createElement("span"),P=S.element,H=S.renderer,U=function(E,ie){["opacity","visibility"].forEach(function(te){E[te+"Setter"]=function($,V,j){const w=E.div?E.div.style:ie;d.prototype[te+"Setter"].call(this,$,V,j),w&&(w[V]=$)}}),E.addedSetters=!0};return S.textSetter=function(E){E!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,o.setElementHTML(this.element,k(E,"")),this.textStr=E,S.doTransform=!0)},U(S,S.element.style),S.xSetter=S.ySetter=S.alignSetter=S.rotationSetter=function(E,ie){ie==="align"?S.alignValue=S.textAlign=E:S[ie]=E,S.doTransform=!0},S.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},S.attr({text:O,x:Math.round(G),y:Math.round(M)}).css({position:"absolute"}),H.styledMode||S.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),P.style.whiteSpace="nowrap",S.css=S.htmlCss,S.add=function(E){const ie=H.box.parentNode,te=[];let $;if(this.parentGroup=E){if($=E.div,!$){for(;E;)te.push(E),E=E.parentGroup;te.reverse().forEach(function(V){function j(g,b){V[b]=g,b==="translateX"?m.left=g+"px":m.top=g+"px",V.doTransform=!0}const w=v(V.element,"class"),I=V.styles||{};$=V.div=V.div||R("div",w?{className:w}:void 0,{position:"absolute",left:(V.translateX||0)+"px",top:(V.translateY||0)+"px",display:V.display,opacity:V.opacity,visibility:V.visibility},$||ie);const m=$.style;J(V,{classSetter:function(g){return function(b){this.element.setAttribute("class",b),g.className=b}}($),css:function(g){return S.css.call(V,g),["cursor","pointerEvents"].forEach(b=>{g[b]&&(m[b]=g[b])}),V},on:function(){return te[0].div&&S.on.apply({element:te[0].div,onEvents:V.onEvents},arguments),V},translateXSetter:j,translateYSetter:j}),V.addedSetters||U(V),V.css(I)})}}else $=ie;return $.appendChild(P),S.added=!0,S.alignOnAdd&&S.htmlUpdateTransform(),S},S}}return q}),n(r,"Core/Axis/AxisDefaults.js",[],function(){var o;return function(d){d.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},d.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:h}=this.axis.chart;return h(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},d.defaultLeftAxisOptions={title:{rotation:270}},d.defaultRightAxisOptions={title:{rotation:90}},d.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},d.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(o||(o={})),o}),n(r,"Core/Foundation.js",[r["Core/Utilities.js"]],function(o){const{addEvent:d,isFunction:h,objectEach:s,removeEvent:v}=o;var R;return function(J){J.registerEventOptions=function(k,z){k.eventOptions=k.eventOptions||{},s(z.events,function(q,L){k.eventOptions[L]!==q&&(k.eventOptions[L]&&(v(k,L,k.eventOptions[L]),delete k.eventOptions[L]),h(q)&&(k.eventOptions[L]=q,d(k,L,q,{order:0})))})}}(R||(R={})),R}),n(r,"Core/Axis/Tick.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{deg2rad:s}=d,{clamp:v,correctFloat:R,defined:J,destroyObjectProperties:k,extend:z,fireEvent:q,isNumber:L,merge:O,objectEach:G,pick:M}=h;class S{constructor(H,U,E,ie,te){this.isNewLabel=this.isNew=!0,this.axis=H,this.pos=U,this.type=E||"",this.parameters=te||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,q(this,"init"),E||ie||this.addLabel()}addLabel(){const H=this,U=H.axis;var E=U.options;const ie=U.chart;var te=U.categories;const $=U.logarithmic,V=U.names,j=H.pos,w=M(H.options&&H.options.labels,E.labels);var I=U.tickPositions;const m=j===I[0],g=j===I[I.length-1],b=(!w.step||w.step===1)&&U.tickInterval===1;I=I.info;let A=H.label,X,Y,K;te=this.parameters.category||(te?M(te[j],V[j],j):j),$&&L(te)&&(te=R($.lin2log(te))),U.dateTime&&(I?(Y=ie.time.resolveDTLFormat(E.dateTimeLabelFormats[!E.grid&&I.higherRanks[j]||I.unitName]),X=Y.main):L(te)&&(X=U.dateTime.getXDateFormat(te,E.dateTimeLabelFormats||{}))),H.isFirst=m,H.isLast=g;const le={axis:U,chart:ie,dateTimeLabelFormat:X,isFirst:m,isLast:g,pos:j,tick:H,tickPositionInfo:I,value:te};q(this,"labelFormat",le);const he=F=>w.formatter?w.formatter.call(F,F):w.format?(F.text=U.defaultLabelFormatter.call(F,F),o.format(w.format,F,ie)):U.defaultLabelFormatter.call(F,F);E=he.call(le,le);const pe=Y&&Y.list;H.shortenLabel=pe?function(){for(K=0;K<pe.length;K++)if(z(le,{dateTimeLabelFormat:pe[K]}),A.attr({text:he.call(le,le)}),A.getBBox().width<U.getSlotWidth(H)-2*w.padding)return;A.attr({text:""})}:void 0,b&&U._addedPlotLB&&H.moveLabel(E,w),J(A)||H.movedLabel?A&&A.textStr!==E&&!b&&(!A.textWidth||w.style.width||A.styles.width||A.css({width:null}),A.attr({text:E}),A.textPxLength=A.getBBox().width):(H.label=A=H.createLabel({x:0,y:0},E,w),H.rotation=0)}createLabel(H,U,E){const ie=this.axis,te=ie.chart;return(H=J(U)&&E.enabled?te.renderer.text(U,H.x,H.y,E.useHTML).add(ie.labelGroup):null)&&(te.styledMode||H.css(O(E.style)),H.textPxLength=H.getBBox().width),H}destroy(){k(this,this.axis)}getPosition(H,U,E,ie){const te=this.axis,$=te.chart,V=ie&&$.oldChartHeight||$.chartHeight;return H={x:H?R(te.translate(U+E,void 0,void 0,ie)+te.transB):te.left+te.offset+(te.opposite?(ie&&$.oldChartWidth||$.chartWidth)-te.right-te.left:0),y:H?V-te.bottom+te.offset-(te.opposite?te.height:0):R(V-te.translate(U+E,void 0,void 0,ie)-te.transB)},H.y=v(H.y,-1e5,1e5),q(this,"afterGetPosition",{pos:H}),H}getLabelPosition(H,U,E,ie,te,$,V,j){const w=this.axis,I=w.transA,m=w.isLinked&&w.linkedParent?w.linkedParent.reversed:w.reversed,g=w.staggerLines,b=w.tickRotCorr||{x:0,y:0},A=ie||w.reserveSpaceDefault?0:-w.labelOffset*(w.labelAlign==="center"?.5:1),X=te.distance,Y={};return E=w.side===0?E.rotation?-X:-E.getBBox().height:w.side===2?b.y+X:Math.cos(E.rotation*s)*(b.y-E.getBBox(!1,0).height/2),J(te.y)&&(E=w.side===0&&w.horiz?te.y+E:te.y),H=H+M(te.x,[0,1,0,-1][w.side]*X)+A+b.x-($&&ie?$*I*(m?-1:1):0),U=U+E-($&&!ie?$*I*(m?1:-1):0),g&&(ie=V/(j||1)%g,w.opposite&&(ie=g-ie-1),U+=w.labelOffset/g*ie),Y.x=H,Y.y=Math.round(U),q(this,"afterGetLabelPosition",{pos:Y,tickmarkOffset:$,index:V}),Y}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(H,U,E,ie,te,$){return $.crispLine([["M",H,U],["L",H+(te?0:-E),U+(te?E:0)]],ie)}handleOverflow(H){const U=this.axis,E=U.options.labels,ie=H.x;var te=U.chart.chartWidth,$=U.chart.spacing;const V=M(U.labelLeft,Math.min(U.pos,$[3]));$=M(U.labelRight,Math.max(U.isRadial?0:U.pos+U.len,te-$[1]));const j=this.label,w=this.rotation,I={left:0,center:.5,right:1}[U.labelAlign||j.attr("align")],m=j.getBBox().width,g=U.getSlotWidth(this),b={};let A=g,X=1,Y;w||E.overflow!=="justify"?0>w&&ie-I*m<V?Y=Math.round(ie/Math.cos(w*s)-V):0<w&&ie+I*m>$&&(Y=Math.round((te-ie)/Math.cos(w*s))):(te=ie+(1-I)*m,ie-I*m<V?A=H.x+A*(1-I)-V:te>$&&(A=$-H.x+A*I,X=-1),A=Math.min(g,A),A<g&&U.labelAlign==="center"&&(H.x+=X*(g-A-I*(g-Math.min(m,A)))),(m>A||U.autoRotation&&(j.styles||{}).width)&&(Y=A)),Y&&(this.shortenLabel?this.shortenLabel():(b.width=Math.floor(Y)+"px",(E.style||{}).textOverflow||(b.textOverflow="ellipsis"),j.css(b)))}moveLabel(H,U){const E=this;var ie=E.label;const te=E.axis;let $=!1;ie&&ie.textStr===H?(E.movedLabel=ie,$=!0,delete E.label):G(te.ticks,function(V){$||V.isNew||V===E||!V.label||V.label.textStr!==H||(E.movedLabel=V.label,$=!0,V.labelPos=E.movedLabel.xy,delete V.label)}),$||!E.labelPos&&!ie||(ie=E.labelPos||ie.xy,E.movedLabel=E.createLabel(ie,H,U),E.movedLabel&&E.movedLabel.attr({opacity:0}))}render(H,U,E){var ie=this.axis,te=ie.horiz,$=this.pos,V=M(this.tickmarkOffset,ie.tickmarkOffset);$=this.getPosition(te,$,V,U),V=$.x;const j=$.y;ie=te&&V===ie.pos+ie.len||!te&&j===ie.pos?-1:1,te=M(E,this.label&&this.label.newOpacity,1),E=M(E,1),this.isActive=!0,this.renderGridLine(U,E,ie),this.renderMark($,E,ie),this.renderLabel($,U,te,H),this.isNew=!1,q(this,"afterRender")}renderGridLine(H,U,E){const ie=this.axis,te=ie.options,$={},V=this.pos,j=this.type,w=M(this.tickmarkOffset,ie.tickmarkOffset),I=ie.chart.renderer;let m=this.gridLine,g=te.gridLineWidth,b=te.gridLineColor,A=te.gridLineDashStyle;this.type==="minor"&&(g=te.minorGridLineWidth,b=te.minorGridLineColor,A=te.minorGridLineDashStyle),m||(ie.chart.styledMode||($.stroke=b,$["stroke-width"]=g||0,$.dashstyle=A),j||($.zIndex=1),H&&(U=0),this.gridLine=m=I.path().attr($).addClass("highcharts-"+(j?j+"-":"")+"grid-line").add(ie.gridGroup)),m&&(E=ie.getPlotLinePath({value:V+w,lineWidth:m.strokeWidth()*E,force:"pass",old:H,acrossPanes:!1}))&&m[H||this.isNew?"attr":"animate"]({d:E,opacity:U})}renderMark(H,U,E){const ie=this.axis;var te=ie.options;const $=ie.chart.renderer,V=this.type,j=ie.tickSize(V?V+"Tick":"tick"),w=H.x;H=H.y;const I=M(te[V!=="minor"?"tickWidth":"minorTickWidth"],!V&&ie.isXAxis?1:0);te=te[V!=="minor"?"tickColor":"minorTickColor"];let m=this.mark;const g=!m;j&&(ie.opposite&&(j[0]=-j[0]),m||(this.mark=m=$.path().addClass("highcharts-"+(V?V+"-":"")+"tick").add(ie.axisGroup),ie.chart.styledMode||m.attr({stroke:te,"stroke-width":I})),m[g?"attr":"animate"]({d:this.getMarkPath(w,H,j[0],m.strokeWidth()*E,ie.horiz,$),opacity:U}))}renderLabel(H,U,E,ie){var te=this.axis;const $=te.horiz,V=te.options,j=this.label,w=V.labels,I=w.step;te=M(this.tickmarkOffset,te.tickmarkOffset);const m=H.x;H=H.y;let g=!0;j&&L(m)&&(j.xy=H=this.getLabelPosition(m,H,j,$,w,te,ie,I),this.isFirst&&!this.isLast&&!V.showFirstLabel||this.isLast&&!this.isFirst&&!V.showLastLabel?g=!1:!$||w.step||w.rotation||U||E===0||this.handleOverflow(H),I&&ie%I&&(g=!1),g&&L(H.y)?(H.opacity=E,j[this.isNewLabel?"attr":"animate"](H).show(!0),this.isNewLabel=!1):(j.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const H=this.label,U=this.axis;H&&!this.isNew&&(H.animate({opacity:0},void 0,H.destroy),delete this.label),U.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return S}),n(r,"Core/Axis/Axis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/AxisDefaults.js"],r["Core/Color/Color.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Axis/Tick.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R,J,k){const{animObject:z}=o,{defaultOptions:q}=s,{registerEventOptions:L}=v,{deg2rad:O}=R,{arrayMax:G,arrayMin:M,clamp:S,correctFloat:P,defined:H,destroyObjectProperties:U,erase:E,error:ie,extend:te,fireEvent:$,isArray:V,isNumber:j,isString:w,merge:I,normalizeTickInterval:m,objectEach:g,pick:b,relativeLength:A,removeEvent:X,splat:Y,syncTimeout:K}=k,le=(pe,F)=>m(F,void 0,void 0,b(pe.options.allowDecimals,.5>F||pe.tickAmount!==void 0),!!pe.tickAmount);class he{constructor(F,Q){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(F,Q)}init(F,Q){const ce=Q.isX;this.chart=F,this.horiz=F.inverted&&!this.isZAxis?!ce:ce,this.isXAxis=ce,this.coll=this.coll||(ce?"xAxis":"yAxis"),$(this,"init",{userOptions:Q}),this.opposite=b(Q.opposite,this.opposite),this.side=b(Q.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(Q);const ge=this.options,ke=ge.labels,re=ge.type;this.userOptions=Q,this.minPixelPadding=0,this.reversed=b(ge.reversed,this.reversed),this.visible=ge.visible,this.zoomEnabled=ge.zoomEnabled,this.hasNames=re==="category"||ge.categories===!0,this.categories=ge.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=H(ge.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=ge.minRange||ge.maxZoom,this.range=ge.range,this.offset=ge.offset||0,this.min=this.max=null,Q=b(ge.crosshair,Y(F.options.tooltip.crosshairs)[ce?0:1]),this.crosshair=Q===!0?{}:Q,F.axes.indexOf(this)===-1&&(ce?F.axes.splice(F.xAxis.length,0,this):F.axes.push(this),F[this.coll].push(this)),this.series=this.series||[],F.inverted&&!this.isZAxis&&ce&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=j(ke.rotation)?ke.rotation:void 0,L(this,ge),$(this,"afterInit")}setOptions(F){this.options=I(d.defaultXAxisOptions,this.coll==="yAxis"&&d.defaultYAxisOptions,[d.defaultTopAxisOptions,d.defaultRightAxisOptions,d.defaultBottomAxisOptions,d.defaultLeftAxisOptions][this.side],I(q[this.coll],F)),$(this,"afterSetOptions",{userOptions:F})}defaultLabelFormatter(F){var Q=this.axis;({numberFormatter:F}=this.chart);const ce=j(this.value)?this.value:NaN,ge=Q.chart.time,ke=this.dateTimeLabelFormat;var re=q.lang;const ve=re.numericSymbols;re=re.numericSymbolMagnitude||1e3;const _e=Q.logarithmic?Math.abs(ce):Q.tickInterval;let oe=ve&&ve.length,ye;if(Q.categories)ye=`${this.value}`;else if(ke)ye=ge.dateFormat(ke,ce);else if(oe&&1e3<=_e)for(;oe--&&typeof ye>"u";)Q=Math.pow(re,oe+1),_e>=Q&&10*ce%Q===0&&ve[oe]!==null&&ce!==0&&(ye=F(ce/Q,-1)+ve[oe]);return typeof ye>"u"&&(ye=1e4<=Math.abs(ce)?F(ce,-1):F(ce,-1,void 0,"")),ye}getSeriesExtremes(){const F=this,Q=F.chart;let ce;$(this,"getSeriesExtremes",null,function(){F.hasVisibleSeries=!1,F.dataMin=F.dataMax=F.threshold=null,F.softThreshold=!F.isXAxis,F.series.forEach(function(ge){if(ge.visible||!Q.options.chart.ignoreHiddenSeries){var ke=ge.options;let re=ke.threshold,ve,_e;F.hasVisibleSeries=!0,F.positiveValuesOnly&&0>=re&&(re=null),F.isXAxis?(ke=ge.xData)&&ke.length&&(ke=F.logarithmic?ke.filter(oe=>0<oe):ke,ce=ge.getXExtremes(ke),ve=ce.min,_e=ce.max,j(ve)||ve instanceof Date||(ke=ke.filter(j),ce=ge.getXExtremes(ke),ve=ce.min,_e=ce.max),ke.length&&(F.dataMin=Math.min(b(F.dataMin,ve),ve),F.dataMax=Math.max(b(F.dataMax,_e),_e))):(ge=ge.applyExtremes(),j(ge.dataMin)&&(ve=ge.dataMin,F.dataMin=Math.min(b(F.dataMin,ve),ve)),j(ge.dataMax)&&(_e=ge.dataMax,F.dataMax=Math.max(b(F.dataMax,_e),_e)),H(re)&&(F.threshold=re),(!ke.softThreshold||F.positiveValuesOnly)&&(F.softThreshold=!1))}})}),$(this,"afterGetSeriesExtremes")}translate(F,Q,ce,ge,ke,re){const ve=this.linkedParent||this,_e=ge&&ve.old?ve.old.min:ve.min;if(!j(_e))return NaN;const oe=ve.minPixelPadding;ke=(ve.isOrdinal||ve.brokenAxis&&ve.brokenAxis.hasBreaks||ve.logarithmic&&ke)&&ve.lin2val;let ye=1,Se=0;return ge=ge&&ve.old?ve.old.transA:ve.transA,ge||(ge=ve.transA),ce&&(ye*=-1,Se=ve.len),ve.reversed&&(ye*=-1,Se-=ye*(ve.sector||ve.len)),Q?(re=(F*ye+Se-oe)/ge+_e,ke&&(re=ve.lin2val(re))):(ke&&(F=ve.val2lin(F)),F=ye*(F-_e)*ge,re=(ve.isRadial?F:P(F))+Se+ye*oe+(j(re)?ge*re:0)),re}toPixels(F,Q){return this.translate(F,!1,!this.horiz,void 0,!0)+(Q?0:this.pos)}toValue(F,Q){return this.translate(F-(Q?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(F){function Q(Be,Xe,Ke){return Ue!=="pass"&&(Be<Xe||Be>Ke)&&(Ue?Be=S(Be,Xe,Ke):Ie=!0),Be}const ce=this,ge=ce.chart,ke=ce.left,re=ce.top,ve=F.old,_e=F.value,oe=F.lineWidth,ye=ve&&ge.oldChartHeight||ge.chartHeight,Se=ve&&ge.oldChartWidth||ge.chartWidth,Re=ce.transB;let Oe=F.translatedValue,Ue=F.force,st,Qe,qe,xe,Ie;return F={value:_e,lineWidth:oe,old:ve,force:Ue,acrossPanes:F.acrossPanes,translatedValue:Oe},$(this,"getPlotLinePath",F,function(Be){Oe=b(Oe,ce.translate(_e,void 0,void 0,ve)),Oe=S(Oe,-1e5,1e5),st=qe=Math.round(Oe+Re),Qe=xe=Math.round(ye-Oe-Re),j(Oe)?ce.horiz?(Qe=re,xe=ye-ce.bottom,st=qe=Q(st,ke,ke+ce.width)):(st=ke,qe=Se-ce.right,Qe=xe=Q(Qe,re,re+ce.height)):(Ie=!0,Ue=!1),Be.path=Ie&&!Ue?null:ge.renderer.crispLine([["M",st,Qe],["L",qe,xe]],oe||1)}),F.path}getLinearTickPositions(F,Q,ce){const ge=P(Math.floor(Q/F)*F);ce=P(Math.ceil(ce/F)*F);const ke=[];let re,ve;if(P(ge+F)===ge&&(ve=20),this.single)return[Q];for(Q=ge;Q<=ce&&(ke.push(Q),Q=P(Q+F,ve),Q!==re);)re=Q;return ke}getMinorTickInterval(){const F=this.options;return F.minorTicks===!0?b(F.minorTickInterval,"auto"):F.minorTicks===!1?null:F.minorTickInterval}getMinorTickPositions(){var F=this.options;const Q=this.tickPositions,ce=this.minorTickInterval;var ge=this.pointRangePadding||0;const ke=this.min-ge;ge=this.max+ge;const re=ge-ke;let ve=[];if(re&&re/ce<this.len/3){const _e=this.logarithmic;if(_e)this.paddedTicks.forEach(function(oe,ye,Se){ye&&ve.push.apply(ve,_e.getLogTickPositions(ce,Se[ye-1],Se[ye],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ve=ve.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(ce),ke,ge,F.startOfWeek));else for(F=ke+(Q[0]-ke)%ce;F<=ge&&F!==ve[0];F+=ce)ve.push(F)}return ve.length!==0&&this.trimTicks(ve),ve}adjustForMinRange(){const F=this.options,Q=this.logarithmic;let ce=this.min;var ge=this.max;let ke,re=0,ve,_e,oe,ye,Se;if(this.isXAxis&&typeof this.minRange>"u"&&!Q&&(H(F.min)||H(F.max)||H(F.floor)||H(F.ceiling)?this.minRange=null:(this.series.forEach(function(Oe){if(oe=Oe.xData,ye=Oe.xIncrement?1:oe.length-1,1<oe.length)for(ve=ye;0<ve;ve--)_e=oe[ve]-oe[ve-1],(!re||_e<re)&&(re=_e)}),this.minRange=Math.min(5*re,this.dataMax-this.dataMin))),ge-ce<this.minRange){ke=this.dataMax-this.dataMin>=this.minRange,Se=this.minRange;var Re=(Se-ge+ce)/2;Re=[ce-Re,b(F.min,ce-Re)],ke&&(Re[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),ce=G(Re),ge=[ce+Se,b(F.max,ce+Se)],ke&&(ge[2]=Q?Q.log2lin(this.dataMax):this.dataMax),ge=M(ge),ge-ce<Se&&(Re[0]=ge-Se,Re[1]=b(F.min,ge-Se),ce=G(Re))}this.min=ce,this.max=ge}getClosest(){let F;return this.categories?F=1:this.series.forEach(function(Q){const ce=Q.closestPointRange,ge=Q.visible||!Q.chart.options.chart.ignoreHiddenSeries;!Q.noSharedTooltip&&H(ce)&&ge&&(F=H(F)?Math.min(F,ce):ce)}),F}nameToX(F){const Q=V(this.options.categories),ce=Q?this.categories:this.names;let ge=F.options.x,ke;return F.series.requireSorting=!1,H(ge)||(ge=this.options.uniqueNames&&ce?Q?ce.indexOf(F.name):b(ce.keys[F.name],-1):F.series.autoIncrement()),ge===-1?!Q&&ce&&(ke=ce.length):ke=ge,typeof ke<"u"?(this.names[ke]=F.name,this.names.keys[F.name]=ke):F.x&&(ke=F.x),ke}updateNames(){const F=this,Q=this.names;0<Q.length&&(Object.keys(Q.keys).forEach(function(ce){delete Q.keys[ce]}),Q.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(ce){ce.xIncrement=null,(!ce.points||ce.isDirtyData)&&(F.max=Math.max(F.max,ce.xData.length-1),ce.processData(),ce.generatePoints()),ce.data.forEach(function(ge,ke){let re;ge&&ge.options&&typeof ge.name<"u"&&(re=F.nameToX(ge),typeof re<"u"&&re!==ge.x&&(ge.x=re,ce.xData[ke]=re))})}))}setAxisTranslation(){const F=this,Q=F.max-F.min;var ce=F.linkedParent;const ge=!!F.categories,ke=F.isXAxis;let re=F.axisPointRange||0,ve,_e=0,oe=0,ye=F.transA;(ke||ge||re)&&(ve=F.getClosest(),ce?(_e=ce.minPointOffset,oe=ce.pointRangePadding):F.series.forEach(function(Se){const Re=ge?1:ke?b(Se.options.pointRange,ve,0):F.axisPointRange||0,Oe=Se.options.pointPlacement;re=Math.max(re,Re),(!F.single||ge)&&(Se=Se.is("xrange")?!ke:ke,_e=Math.max(_e,Se&&w(Oe)?0:Re/2),oe=Math.max(oe,Se&&Oe==="on"?0:Re))}),ce=F.ordinal&&F.ordinal.slope&&ve?F.ordinal.slope/ve:1,F.minPointOffset=_e*=ce,F.pointRangePadding=oe*=ce,F.pointRange=Math.min(re,F.single&&ge?1:Q),ke&&(F.closestPointRange=ve)),F.translationSlope=F.transA=ye=F.staticScale||F.len/(Q+oe||1),F.transB=F.horiz?F.left:F.bottom,F.minPixelPadding=ye*_e,$(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(F){var Q=this.chart;const ce=this.logarithmic,ge=this.options,ke=this.isXAxis,re=this.isLinked,ve=ge.tickPixelInterval,_e=this.categories,oe=this.softThreshold;let ye=ge.maxPadding,Se=ge.minPadding,Re=j(ge.tickInterval)&&0<=ge.tickInterval?ge.tickInterval:void 0,Oe=j(this.threshold)?this.threshold:null,Ue,st,Qe;if(this.dateTime||_e||re||this.getTickAmount(),st=b(this.userMin,ge.min),Qe=b(this.userMax,ge.max),re){this.linkedParent=Q[this.coll][ge.linkedTo];var qe=this.linkedParent.getExtremes();this.min=b(qe.min,qe.dataMin),this.max=b(qe.max,qe.dataMax),ge.type!==this.linkedParent.options.type&&ie(11,1,Q)}else oe&&H(Oe)&&(this.dataMin>=Oe?(qe=Oe,Se=0):this.dataMax<=Oe&&(Ue=Oe,ye=0)),this.min=b(st,qe,this.dataMin),this.max=b(Qe,Ue,this.dataMax);if(ce&&(this.positiveValuesOnly&&!F&&0>=Math.min(this.min,b(this.dataMin,this.min))&&ie(10,1,Q),this.min=P(ce.log2lin(this.min),16),this.max=P(ce.log2lin(this.max),16)),this.range&&H(this.max)&&(this.userMin=this.min=st=Math.max(this.dataMin,this.minFromRange()),this.userMax=Qe=this.max,this.range=null),$(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(_e||this.axisPointRange||this.stacking&&this.stacking.usePercentage||re)&&H(this.min)&&H(this.max)&&(Q=this.max-this.min)&&(!H(st)&&Se&&(this.min-=Q*Se),!H(Qe)&&ye&&(this.max+=Q*ye)),j(this.userMin)||(j(ge.softMin)&&ge.softMin<this.min&&(this.min=st=ge.softMin),j(ge.floor)&&(this.min=Math.max(this.min,ge.floor))),j(this.userMax)||(j(ge.softMax)&&ge.softMax>this.max&&(this.max=Qe=ge.softMax),j(ge.ceiling)&&(this.max=Math.min(this.max,ge.ceiling))),oe&&H(this.dataMin)&&(Oe=Oe||0,!H(st)&&this.min<Oe&&this.dataMin>=Oe?this.min=this.options.minRange?Math.min(Oe,this.max-this.minRange):Oe:!H(Qe)&&this.max>Oe&&this.dataMax<=Oe&&(this.max=this.options.minRange?Math.max(Oe,this.min+this.minRange):Oe)),j(this.min)&&j(this.max)&&!this.chart.polar&&this.min>this.max&&(H(this.options.min)?this.max=this.min:H(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:re&&this.linkedParent&&!Re&&ve===this.linkedParent.options.tickPixelInterval?Re=this.linkedParent.tickInterval:b(Re,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,_e?1:(this.max-this.min)*ve/Math.max(this.len,ve)),ke&&!F){const xe=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Ie){Ie.forceCrop=Ie.forceCropping&&Ie.forceCropping(),Ie.processData(xe)}),$(this,"postProcessData",{hasExtremesChanged:xe})}this.setAxisTranslation(),$(this,"initialAxisTranslation"),this.pointRange&&!Re&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),F=b(ge.minTickInterval,this.dateTime&&!this.series.some(xe=>xe.noSharedTooltip)?this.closestPointRange:0),!Re&&this.tickInterval<F&&(this.tickInterval=F),this.dateTime||this.logarithmic||Re||(this.tickInterval=le(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var F=this.options;const Q=F.tickPositions,ce=F.tickPositioner;var ge=this.getMinorTickInterval(),ke=this.hasVerticalPanning(),re=this.coll==="colorAxis";const ve=(re||!ke)&&F.startOnTick;ke=(re||!ke)&&F.endOnTick,re=[];let _e;if(this.tickmarkOffset=this.categories&&F.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=ge==="auto"&&this.tickInterval?this.tickInterval/F.minorTicksPerMajor:ge,this.single=this.min===this.max&&H(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||F.allowDecimals!==!1),Q)re=Q.slice();else if(j(this.min)&&j(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)re=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,F.units),this.min,this.max,F.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)re=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(ge=F=this.tickInterval;ge<=2*F&&(re=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&re.length>this.tickAmount);)this.tickInterval=le(this,ge*=1.1);else re=[this.min,this.max],ie(19,!1,this.chart);re.length>this.len&&(re=[re[0],re[re.length-1]],re[0]===re[1]&&(re.length=1)),ce&&(this.tickPositions=re,(_e=ce.apply(this,[this.min,this.max]))&&(re=_e))}this.tickPositions=re,this.paddedTicks=re.slice(0),this.trimTicks(re,ve,ke),!this.isLinked&&j(this.min)&&j(this.max)&&(this.single&&2>re.length&&!this.categories&&!this.series.some(oe=>oe.is("heatmap")&&oe.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),Q||_e||this.adjustTickAmount()),$(this,"afterSetTickPositions")}trimTicks(F,Q,ce){const ge=F[0],ke=F[F.length-1],re=!this.isOrdinal&&this.minPointOffset||0;if($(this,"trimTicks"),!this.isLinked){if(Q&&ge!==-1/0)this.min=ge;else for(;this.min-re>F[0];)F.shift();if(ce)this.max=ke;else for(;this.max+re<F[F.length-1];)F.pop();F.length===0&&H(ge)&&!this.options.tickPositions&&F.push((ke+ge)/2)}}alignToOthers(){const F=this,Q=[this],ce=F.options,ge=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,ke=[];let re;if(F.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&ce.alignTicks||ge)&&ce.startOnTick!==!1&&ce.endOnTick!==!1&&!F.logarithmic){const ve=oe=>{const{horiz:ye,options:Se}=oe;return[ye?Se.left:Se.top,Se.width,Se.height,Se.pane].join()},_e=ve(this);this.chart[this.coll].forEach(function(oe){const{series:ye}=oe;ye.length&&ye.some(Se=>Se.visible)&&oe!==F&&ve(oe)===_e&&(re=!0,Q.push(oe))})}if(re&&ge){Q.forEach(_e=>{_e=_e.getThresholdAlignment(F),j(_e)&&ke.push(_e)});const ve=1<ke.length?ke.reduce((_e,oe)=>_e+oe,0)/ke.length:void 0;Q.forEach(_e=>{_e.thresholdAlignment=ve})}return re}getThresholdAlignment(F){if((!j(this.dataMin)||this!==F&&this.series.some(Q=>Q.isDirty||Q.isDirtyData))&&this.getSeriesExtremes(),j(this.threshold))return F=S((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(F=1-F),F}getTickAmount(){const F=this.options,Q=F.tickPixelInterval;let ce=F.tickAmount;!H(F.tickInterval)&&!ce&&this.len<Q&&!this.isRadial&&!this.logarithmic&&F.startOnTick&&F.endOnTick&&(ce=2),!ce&&this.alignToOthers()&&(ce=Math.ceil(this.len/Q)+1),4>ce&&(this.finalTickAmt=ce,ce=5),this.tickAmount=ce}adjustTickAmount(){const F=this,{finalTickAmt:Q,max:ce,min:ge,options:ke,tickPositions:re,tickAmount:ve,thresholdAlignment:_e}=F,oe=re&&re.length;var ye=b(F.threshold,F.softThreshold?0:null),Se=F.tickInterval;let Re;if(j(_e)&&(Re=.5>_e?Math.ceil(_e*(ve-1)):Math.floor(_e*(ve-1)),ke.reversed&&(Re=ve-1-Re)),F.hasData()&&j(ge)&&j(ce)){const Oe=()=>{F.transA*=(oe-1)/(ve-1),F.min=ke.startOnTick?re[0]:Math.min(ge,re[0]),F.max=ke.endOnTick?re[re.length-1]:Math.max(ce,re[re.length-1])};if(j(Re)&&j(F.threshold)){for(;re[Re]!==ye||re.length!==ve||re[0]>ge||re[re.length-1]<ce;){for(re.length=0,re.push(F.threshold);re.length<ve;)re[Re]===void 0||re[Re]>F.threshold?re.unshift(P(re[0]-Se)):re.push(P(re[re.length-1]+Se));if(Se>8*F.tickInterval)break;Se*=2}Oe()}else if(oe<ve){for(;re.length<ve;)re.length%2||ge===ye?re.push(P(re[re.length-1]+Se)):re.unshift(P(re[0]-Se));Oe()}if(H(Q)){for(Se=ye=re.length;Se--;)(Q===3&&Se%2===1||2>=Q&&0<Se&&Se<ye-1)&&re.splice(Se,1);F.finalTickAmt=void 0}}}setScale(){let F=!1,Q=!1;this.series.forEach(function(ge){F=F||ge.isDirtyData||ge.isDirty,Q=Q||ge.xAxis&&ge.xAxis.isDirty||!1}),this.setAxisSize();const ce=this.len!==(this.old&&this.old.len);ce||F||Q||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=ce||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),F&&this.panningState&&(this.panningState.isDirty=!0),$(this,"afterSetScale")}setExtremes(F,Q,ce,ge,ke){const re=this,ve=re.chart;ce=b(ce,!0),re.series.forEach(function(_e){delete _e.kdTree}),ke=te(ke,{min:F,max:Q}),$(re,"setExtremes",ke,function(){re.userMin=F,re.userMax=Q,re.eventArgs=ke,ce&&ve.redraw(ge)})}zoom(F,Q){const ce=this,ge=this.dataMin,ke=this.dataMax,re=this.options,ve=Math.min(ge,b(re.min,ge)),_e=Math.max(ke,b(re.max,ke));return F={newMin:F,newMax:Q},$(this,"zoom",F,function(oe){let ye=oe.newMin,Se=oe.newMax;(ye!==ce.min||Se!==ce.max)&&(ce.allowZoomOutside||(H(ge)&&(ye<ve&&(ye=ve),ye>_e&&(ye=_e)),H(ke)&&(Se<ve&&(Se=ve),Se>_e&&(Se=_e))),ce.displayBtn=typeof ye<"u"||typeof Se<"u",ce.setExtremes(ye,Se,!1,void 0,{trigger:"zoom"})),oe.zoomed=!0}),F.zoomed}setAxisSize(){const F=this.chart;var Q=this.options;const ce=Q.offsets||[0,0,0,0],ge=this.horiz,ke=this.width=Math.round(A(b(Q.width,F.plotWidth-ce[3]+ce[1]),F.plotWidth)),re=this.height=Math.round(A(b(Q.height,F.plotHeight-ce[0]+ce[2]),F.plotHeight)),ve=this.top=Math.round(A(b(Q.top,F.plotTop+ce[0]),F.plotHeight,F.plotTop));Q=this.left=Math.round(A(b(Q.left,F.plotLeft+ce[3]),F.plotWidth,F.plotLeft)),this.bottom=F.chartHeight-re-ve,this.right=F.chartWidth-ke-Q,this.len=Math.max(ge?ke:re,0),this.pos=ge?Q:ve}getExtremes(){const F=this.logarithmic;return{min:F?P(F.lin2log(this.min)):this.min,max:F?P(F.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(F){var Q=this.logarithmic;const ce=Q?Q.lin2log(this.min):this.min;return Q=Q?Q.lin2log(this.max):this.max,F===null||F===-1/0?F=ce:F===1/0?F=Q:ce>F?F=ce:Q<F&&(F=Q),this.translate(F,0,1,0,1)}autoLabelAlign(F){const Q=(b(F,0)-90*this.side+720)%360;return F={align:"center"},$(this,"autoLabelAlign",F,function(ce){15<Q&&165>Q?ce.align="right":195<Q&&345>Q&&(ce.align="left")}),F.align}tickSize(F){const Q=this.options,ce=b(Q[F==="tick"?"tickWidth":"minorTickWidth"],F==="tick"&&this.isXAxis&&!this.categories?1:0);let ge=Q[F==="tick"?"tickLength":"minorTickLength"],ke;return ce&&ge&&(Q[F+"Position"]==="inside"&&(ge=-ge),ke=[ge,ce]),F={tickSize:ke},$(this,"afterTickSize",F),F.tickSize}labelMetrics(){const F=this.chart.renderer;var Q=this.ticks;return Q=Q[Object.keys(Q)[0]]||{},this.chart.renderer.fontMetrics(Q.label||Q.movedLabel||F.box)}unsquish(){const F=this.options.labels;var Q=this.horiz;const ce=this.tickInterval,ge=this.len/(((this.categories?1:0)+this.max-this.min)/ce),ke=F.rotation,re=.75*this.labelMetrics().h,ve=Math.max(this.max-this.min,0),_e=function(Oe){let Ue=Oe/(ge||1);return Ue=1<Ue?Math.ceil(Ue):1,Ue*ce>ve&&Oe!==1/0&&ge!==1/0&&ve&&(Ue=Math.ceil(ve/ce)),P(Ue*ce)};let oe=ce,ye,Se=Number.MAX_VALUE,Re;if(Q){if(F.staggerLines||(j(ke)?Re=[ke]:ge<F.autoRotationLimit&&(Re=F.autoRotation)),Re){let Oe;for(const Ue of Re)(Ue===ke||Ue&&-90<=Ue&&90>=Ue)&&(Q=_e(Math.abs(re/Math.sin(O*Ue))),Oe=Q+Math.abs(Ue/360),Oe<Se&&(Se=Oe,ye=Ue,oe=Q))}}else oe=_e(re);return this.autoRotation=Re,this.labelRotation=b(ye,j(ke)?ke:0),F.step?ce:oe}getSlotWidth(F){const Q=this.chart,ce=this.horiz,ge=this.options.labels,ke=Math.max(this.tickPositions.length-(this.categories?0:1),1),re=Q.margin[3];if(F&&j(F.slotWidth))return F.slotWidth;if(ce&&2>ge.step)return ge.rotation?0:(this.staggerLines||1)*this.len/ke;if(!ce){if(F=ge.style.width,F!==void 0)return parseInt(String(F),10);if(re)return re-Q.spacing[3]}return .33*Q.chartWidth}renderUnsquish(){const F=this.chart,Q=F.renderer,ce=this.tickPositions,ge=this.ticks,ke=this.options.labels,re=ke.style,ve=this.horiz,_e=this.getSlotWidth();var oe=Math.max(1,Math.round(_e-2*ke.padding));const ye={},Se=this.labelMetrics(),Re=re.textOverflow;let Oe,Ue,st=0;if(w(ke.rotation)||(ye.rotation=ke.rotation||0),ce.forEach(function(qe){qe=ge[qe],qe.movedLabel&&qe.replaceMovedLabel(),qe&&qe.label&&qe.label.textPxLength>st&&(st=qe.label.textPxLength)}),this.maxLabelLength=st,this.autoRotation)st>oe&&st>Se.h?ye.rotation=this.labelRotation:this.labelRotation=0;else if(_e&&(Oe=oe,!Re))for(Ue="clip",oe=ce.length;!ve&&oe--;){var Qe=ce[oe];(Qe=ge[Qe].label)&&(Qe.styles&&Qe.styles.textOverflow==="ellipsis"?Qe.css({textOverflow:"clip"}):Qe.textPxLength>_e&&Qe.css({width:_e+"px"}),Qe.getBBox().height>this.len/ce.length-(Se.h-Se.f)&&(Qe.specificTextOverflow="ellipsis"))}ye.rotation&&(Oe=st>.5*F.chartHeight?.33*F.chartHeight:st,Re||(Ue="ellipsis")),(this.labelAlign=ke.align||this.autoLabelAlign(this.labelRotation))&&(ye.align=this.labelAlign),ce.forEach(function(qe){const xe=(qe=ge[qe])&&qe.label,Ie=re.width,Be={};xe&&(xe.attr(ye),qe.shortenLabel?qe.shortenLabel():Oe&&!Ie&&re.whiteSpace!=="nowrap"&&(Oe<xe.textPxLength||xe.element.tagName==="SPAN")?(Be.width=Oe+"px",Re||(Be.textOverflow=xe.specificTextOverflow||Ue),xe.css(Be)):xe.styles&&xe.styles.width&&!Be.width&&!Ie&&xe.css({width:null}),delete xe.specificTextOverflow,qe.rotation=ye.rotation)},this),this.tickRotCorr=Q.rotCorr(Se.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(F){return F.hasData()})||this.options.showEmpty&&H(this.min)&&H(this.max)}addTitle(F){const Q=this.chart.renderer,ce=this.horiz,ge=this.opposite,ke=this.options.title,re=this.chart.styledMode;let ve;this.axisTitle||((ve=ke.textAlign)||(ve=(ce?{low:"left",middle:"center",high:"right"}:{low:ge?"right":"left",middle:"center",high:ge?"left":"right"})[ke.align]),this.axisTitle=Q.text(ke.text||"",0,0,ke.useHTML).attr({zIndex:7,rotation:ke.rotation,align:ve}).addClass("highcharts-axis-title"),re||this.axisTitle.css(I(ke.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),re||ke.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[F?"show":"hide"](F)}generateTick(F){const Q=this.ticks;Q[F]?Q[F].addLabel():Q[F]=new J(this,F)}getOffset(){const F=this,{chart:Q,horiz:ce,options:ge,side:ke,ticks:re,tickPositions:ve,coll:_e,axisParent:oe}=F,ye=Q.renderer,Se=Q.inverted&&!F.isZAxis?[1,0,3,2][ke]:ke;var Re=F.hasData();const Oe=ge.title;var Ue=ge.labels;const st=j(ge.crossing);var Qe=Q.axisOffset;const qe=Q.clipOffset,xe=[-1,1,1,-1][ke],Ie=ge.className;let Be,Xe=0,Ke;var pt=0;let Tt=0;if(F.showAxis=Be=Re||ge.showEmpty,F.staggerLines=F.horiz&&Ue.staggerLines||void 0,!F.axisGroup){const Lt=(gi,Wt,pi)=>ye.g(gi).attr({zIndex:pi}).addClass(`highcharts-${_e.toLowerCase()}${Wt} `+(this.isRadial?`highcharts-radial-axis${Wt} `:"")+(Ie||"")).add(oe);F.gridGroup=Lt("grid","-grid",ge.gridZIndex),F.axisGroup=Lt("axis","",ge.zIndex),F.labelGroup=Lt("axis-labels","-labels",Ue.zIndex)}Re||F.isLinked?(ve.forEach(function(Lt){F.generateTick(Lt)}),F.renderUnsquish(),F.reserveSpaceDefault=ke===0||ke===2||{1:"left",3:"right"}[ke]===F.labelAlign,b(Ue.reserveSpace,st?!1:null,F.labelAlign==="center"?!0:null,F.reserveSpaceDefault)&&ve.forEach(function(Lt){Tt=Math.max(re[Lt].getLabelSize(),Tt)}),F.staggerLines&&(Tt*=F.staggerLines),F.labelOffset=Tt*(F.opposite?-1:1)):g(re,function(Lt,gi){Lt.destroy(),delete re[gi]}),Oe&&Oe.text&&Oe.enabled!==!1&&(F.addTitle(Be),Be&&!st&&Oe.reserveSpace!==!1&&(F.titleOffset=Xe=F.axisTitle.getBBox()[ce?"height":"width"],Ke=Oe.offset,pt=H(Ke)?0:b(Oe.margin,ce?5:10))),F.renderLine(),F.offset=xe*b(ge.offset,Qe[ke]?Qe[ke]+(ge.margin||0):0),F.tickRotCorr=F.tickRotCorr||{x:0,y:0},Re=ke===0?-F.labelMetrics().h:ke===2?F.tickRotCorr.y:0,pt=Math.abs(Tt)+pt,Tt&&(pt=pt-Re+xe*(ce?b(Ue.y,F.tickRotCorr.y+xe*Ue.distance):b(Ue.x,xe*Ue.distance))),F.axisTitleMargin=b(Ke,pt),F.getMaxLabelDimensions&&(F.maxLabelDimensions=F.getMaxLabelDimensions(re,ve)),_e!=="colorAxis"&&(Ue=this.tickSize("tick"),Qe[ke]=Math.max(Qe[ke],(F.axisTitleMargin||0)+Xe+xe*F.offset,pt,ve&&ve.length&&Ue?Ue[0]+xe*F.offset:0),Qe=!F.axisLine||ge.offset?0:2*Math.floor(F.axisLine.strokeWidth()/2),qe[Se]=Math.max(qe[Se],Qe)),$(this,"afterGetOffset")}getLinePath(F){const Q=this.chart,ce=this.opposite;var ge=this.offset;const ke=this.horiz,re=this.left+(ce?this.width:0)+ge;return ge=Q.chartHeight-this.bottom-(ce?this.height:0)+ge,ce&&(F*=-1),Q.renderer.crispLine([["M",ke?this.left:re,ke?ge:this.top],["L",ke?Q.chartWidth-this.right:re,ke?ge:Q.chartHeight-this.bottom]],F)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(F){var Q=this.horiz,ce=this.left;const ge=this.top;var ke=this.len;const re=this.options.title,ve=Q?ce:ge,_e=this.opposite,oe=this.offset,ye=re.x,Se=re.y,Re=this.chart.renderer.fontMetrics(F);return F=F?Math.max(F.getBBox(!1,0).height-Re.h-1,0):0,ke={low:ve+(Q?0:ke),middle:ve+ke/2,high:ve+(Q?ke:0)}[re.align],ce=(Q?ge+this.height:ce)+(Q?1:-1)*(_e?-1:1)*(this.axisTitleMargin||0)+[-F,F,Re.f,-F][this.side],Q={x:Q?ke+ye:ce+(_e?this.width:0)+oe+ye,y:Q?ce+Se-(_e?this.height:0)+oe:ke+Se},$(this,"afterGetTitlePosition",{titlePosition:Q}),Q}renderMinorTick(F,Q){const ce=this.minorTicks;ce[F]||(ce[F]=new J(this,F,"minor")),Q&&ce[F].isNew&&ce[F].render(null,!0),ce[F].render(null,!1,1)}renderTick(F,Q,ce){const ge=this.ticks;(!this.isLinked||F>=this.min&&F<=this.max||this.grid&&this.grid.isColumn)&&(ge[F]||(ge[F]=new J(this,F)),ce&&ge[F].isNew&&ge[F].render(Q,!0,-1),ge[F].render(Q))}render(){const F=this,Q=F.chart,ce=F.logarithmic,ge=F.options,ke=F.isLinked,re=F.tickPositions,ve=F.axisTitle,_e=F.ticks,oe=F.minorTicks,ye=F.alternateBands,Se=ge.stackLabels,Re=ge.alternateGridColor,Oe=ge.crossing,Ue=F.tickmarkOffset,st=F.axisLine,Qe=F.showAxis,qe=z(Q.renderer.globalAnimation);let xe,Ie;if(F.labelEdge.length=0,F.overlap=!1,[_e,oe,ye].forEach(function(Be){g(Be,function(Xe){Xe.isActive=!1})}),j(Oe)){const Be=this.isXAxis?Q.yAxis[0]:Q.xAxis[0],Xe=[1,-1,-1,1][this.side];Be&&(this.offset=Xe*Be.toPixels(Oe,!0))}if(F.hasData()||ke){const Be=F.chart.hasRendered&&F.old&&j(F.old.min);F.minorTickInterval&&!F.categories&&F.getMinorTickPositions().forEach(function(Xe){F.renderMinorTick(Xe,Be)}),re.length&&(re.forEach(function(Xe,Ke){F.renderTick(Xe,Ke,Be)}),Ue&&(F.min===0||F.single)&&(_e[-1]||(_e[-1]=new J(F,-1,null,!0)),_e[-1].render(-1))),Re&&re.forEach(function(Xe,Ke){Ie=typeof re[Ke+1]<"u"?re[Ke+1]+Ue:F.max-Ue,Ke%2===0&&Xe<F.max&&Ie<=F.max+(Q.polar?-Ue:Ue)&&(ye[Xe]||(ye[Xe]=new R.PlotLineOrBand(F)),xe=Xe+Ue,ye[Xe].options={from:ce?ce.lin2log(xe):xe,to:ce?ce.lin2log(Ie):Ie,color:Re,className:"highcharts-alternate-grid"},ye[Xe].render(),ye[Xe].isActive=!0)}),F._addedPlotLB||(F._addedPlotLB=!0,(ge.plotLines||[]).concat(ge.plotBands||[]).forEach(function(Xe){F.addPlotBandOrLine(Xe)}))}[_e,oe,ye].forEach(function(Be){const Xe=[],Ke=qe.duration;g(Be,function(pt,Tt){pt.isActive||(pt.render(Tt,!1,0),pt.isActive=!1,Xe.push(Tt))}),K(function(){let pt=Xe.length;for(;pt--;)Be[Xe[pt]]&&!Be[Xe[pt]].isActive&&(Be[Xe[pt]].destroy(),delete Be[Xe[pt]])},Be!==ye&&Q.hasRendered&&Ke?Ke:0)}),st&&(st[st.isPlaced?"animate":"attr"]({d:this.getLinePath(st.strokeWidth())}),st.isPlaced=!0,st[Qe?"show":"hide"](Qe)),ve&&Qe&&(ve[ve.isNew?"attr":"animate"](F.getTitlePosition(ve)),ve.isNew=!1),Se&&Se.enabled&&F.stacking&&F.stacking.renderStackTotals(),F.old={len:F.len,max:F.max,min:F.min,transA:F.transA,userMax:F.userMax,userMin:F.userMin},F.isDirty=!1,$(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(F){F.render()})),this.series.forEach(function(F){F.isDirty=!0})}getKeepProps(){return this.keepProps||he.keepProps}destroy(F){const Q=this,ce=Q.plotLinesAndBands,ge=this.eventOptions;if($(this,"destroy",{keepEvents:F}),F||X(Q),[Q.ticks,Q.minorTicks,Q.alternateBands].forEach(function(ke){U(ke)}),ce)for(F=ce.length;F--;)ce[F].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(ke){Q[ke]&&(Q[ke]=Q[ke].destroy())});for(const ke in Q.plotLinesAndBandsGroups)Q.plotLinesAndBandsGroups[ke]=Q.plotLinesAndBandsGroups[ke].destroy();g(Q,function(ke,re){Q.getKeepProps().indexOf(re)===-1&&delete Q[re]}),this.eventOptions=ge}drawCrosshair(F,Q){const ce=this.crosshair;var ge=b(ce&&ce.snap,!0);const ke=this.chart;let re,ve=this.cross;if($(this,"drawCrosshair",{e:F,point:Q}),F||(F=this.cross&&this.cross.e),ce&&(H(Q)||!ge)!==!1){if(ge?H(Q)&&(re=b(this.coll!=="colorAxis"?Q.crosshairPos:null,this.isXAxis?Q.plotX:this.len-Q.plotY)):re=F&&(this.horiz?F.chartX-this.pos:this.len-F.chartY+this.pos),H(re)){var _e={value:Q&&(this.isXAxis?Q.x:b(Q.stackY,Q.y)),translatedValue:re};ke.polar&&te(_e,{isCrosshair:!0,chartX:F&&F.chartX,chartY:F&&F.chartY,point:Q}),_e=this.getPlotLinePath(_e)||null}if(!H(_e)){this.hideCrosshair();return}ge=this.categories&&!this.isRadial,ve||(this.cross=ve=ke.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(ge?"category ":"thin ")+(ce.className||"")).attr({zIndex:b(ce.zIndex,2)}).add(),ke.styledMode||(ve.attr({stroke:ce.color||(ge?h.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":b(ce.width,1)}).css({"pointer-events":"none"}),ce.dashStyle&&ve.attr({dashstyle:ce.dashStyle}))),ve.show().attr({d:_e}),ge&&!ce.width&&ve.attr({"stroke-width":this.transA}),this.cross.e=F}else this.hideCrosshair();$(this,"afterDrawCrosshair",{e:F,point:Q})}hideCrosshair(){this.cross&&this.cross.hide(),$(this,"afterHideCrosshair")}hasVerticalPanning(){const F=this.chart.options.chart.panning;return!!(F&&F.enabled&&/y/.test(F.type))}update(F,Q){const ce=this.chart;F=I(this.userOptions,F),this.destroy(!0),this.init(ce,F),ce.isDirtyBox=!0,b(Q,!0)&&ce.redraw()}remove(F){const Q=this.chart,ce=this.coll,ge=this.series;let ke=ge.length;for(;ke--;)ge[ke]&&ge[ke].remove(!1);E(Q.axes,this),E(Q[ce],this),Q[ce].forEach(function(re,ve){re.options.index=re.userOptions.index=ve}),this.destroy(),Q.isDirtyBox=!0,b(F,!0)&&Q.redraw()}setTitle(F,Q){this.update({title:F},Q)}setCategories(F,Q){this.update({categories:F},Q)}}return he.defaultOptions=d.defaultXAxisOptions,he.keepProps="extKey hcEvents names series userMax userMin".split(" "),he}),n(r,"Core/Axis/DateTimeAxis.js",[r["Core/Utilities.js"]],function(o){const{addEvent:d,getMagnitude:h,normalizeTickInterval:s,timeUnits:v}=o;var R;return function(J){function k(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function z(O){O.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new L(this))}const q=[];J.compose=function(O){return o.pushUnique(q,O)&&(O.keepProps.push("dateTime"),O.prototype.getTimeTicks=k,d(O,"init",z)),O};class L{constructor(G){this.axis=G}normalizeTimeTickInterval(G,M){const S=M||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];M=S[S.length-1];let P=v[M[0]],H=M[1],U;for(U=0;U<S.length&&(M=S[U],P=v[M[0]],H=M[1],!(S[U+1]&&G<=(P*H[H.length-1]+v[S[U+1][0]])/2));U++);return P===v.year&&G<5*P&&(H=[1,2,5]),G=s(G/P,H,M[0]==="year"?Math.max(h(G/P),1):1),{unitRange:P,count:G,unitName:M[0]}}getXDateFormat(G,M){const{axis:S}=this,P=S.chart.time;return S.closestPointRange?P.getDateFormat(S.closestPointRange,G,S.options.startOfWeek,M)||P.resolveDTLFormat(M.year).main:P.resolveDTLFormat(M.day).main}}J.Additions=L}(R||(R={})),R}),n(r,"Core/Axis/LogarithmicAxis.js",[r["Core/Utilities.js"]],function(o){const{addEvent:d,normalizeTickInterval:h,pick:s}=o;var v;return function(R){function J(L){let O=this.logarithmic;L.userOptions.type!=="logarithmic"?this.logarithmic=void 0:O||(this.logarithmic=new q(this))}function k(){const L=this.logarithmic;L&&(this.lin2val=function(O){return L.lin2log(O)},this.val2lin=function(O){return L.log2lin(O)})}const z=[];R.compose=function(L){return o.pushUnique(z,L)&&(L.keepProps.push("logarithmic"),d(L,"init",J),d(L,"afterInit",k)),L};class q{constructor(O){this.axis=O}getLogTickPositions(O,G,M,S){const P=this.axis;var H=P.len,U=P.options;let E=[];if(S||(this.minorAutoInterval=void 0),.5<=O)O=Math.round(O),E=P.getLinearTickPositions(O,G,M);else if(.08<=O){U=Math.floor(G);let ie,te,$,V,j;for(H=.3<O?[1,2,4]:.15<O?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];U<M+1&&!j;U++)for(te=H.length,ie=0;ie<te&&!j;ie++)$=this.log2lin(this.lin2log(U)*H[ie]),$>G&&(!S||V<=M)&&typeof V<"u"&&E.push(V),V>M&&(j=!0),V=$}else G=this.lin2log(G),M=this.lin2log(M),O=S?P.getMinorTickInterval():U.tickInterval,O=s(O==="auto"?null:O,this.minorAutoInterval,U.tickPixelInterval/(S?5:1)*(M-G)/((S?H/P.tickPositions.length:H)||1)),O=h(O),E=P.getLinearTickPositions(O,G,M).map(this.log2lin),S||(this.minorAutoInterval=O/5);return S||(P.tickInterval=O),E}lin2log(O){return Math.pow(10,O)}log2lin(O){return Math.log(O)/Math.LN10}}R.Additions=q}(v||(v={})),v}),n(r,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[r["Core/Utilities.js"]],function(o){const{erase:d,extend:h,isNumber:s}=o;var v;return function(R){function J(P){return this.addPlotBandOrLine(P,"plotBands")}function k(P,H){const U=this.userOptions;let E=new S(this,P);if(this.visible&&(E=E.render()),E){if(this._addedPlotLB||(this._addedPlotLB=!0,(U.plotLines||[]).concat(U.plotBands||[]).forEach(ie=>{this.addPlotBandOrLine(ie)})),H){const ie=U[H]||[];ie.push(P),U[H]=ie}this.plotLinesAndBands.push(E)}return E}function z(P){return this.addPlotBandOrLine(P,"plotLines")}function q(P,H,U=this.options){const E=this.getPlotLinePath({value:H,force:!0,acrossPanes:U.acrossPanes}),ie=[],te=this.horiz;H=!s(this.min)||!s(this.max)||P<this.min&&H<this.min||P>this.max&&H>this.max,P=this.getPlotLinePath({value:P,force:!0,acrossPanes:U.acrossPanes}),U=1;let $;if(P&&E)for(H&&($=P.toString()===E.toString(),U=0),H=0;H<P.length;H+=2){const V=P[H],j=P[H+1],w=E[H],I=E[H+1];V[0]!=="M"&&V[0]!=="L"||j[0]!=="M"&&j[0]!=="L"||w[0]!=="M"&&w[0]!=="L"||I[0]!=="M"&&I[0]!=="L"||(te&&w[1]===V[1]?(w[1]+=U,I[1]+=U):te||w[2]!==V[2]||(w[2]+=U,I[2]+=U),ie.push(["M",V[1],V[2]],["L",j[1],j[2]],["L",I[1],I[2]],["L",w[1],w[2]],["Z"])),ie.isFlat=$}return ie}function L(P){this.removePlotBandOrLine(P)}function O(P){const H=this.plotLinesAndBands,U=this.options,E=this.userOptions;if(H){let ie=H.length;for(;ie--;)H[ie].id===P&&H[ie].destroy();[U.plotLines||[],E.plotLines||[],U.plotBands||[],E.plotBands||[]].forEach(function(te){for(ie=te.length;ie--;)(te[ie]||{}).id===P&&d(te,te[ie])})}}function G(P){this.removePlotBandOrLine(P)}const M=[];let S;R.compose=function(P,H){return S||(S=P),o.pushUnique(M,H)&&h(H.prototype,{addPlotBand:J,addPlotLine:z,addPlotBandOrLine:k,getPlotBandPath:q,removePlotBand:L,removePlotLine:G,removePlotBandOrLine:O}),H}}(v||(v={})),v}),n(r,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[r["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],r["Core/Utilities.js"]],function(o,d){const{arrayMax:h,arrayMin:s,defined:v,destroyObjectProperties:R,erase:J,fireEvent:k,merge:z,objectEach:q,pick:L}=d;class O{static compose(M){return o.compose(O,M)}constructor(M,S){this.axis=M,S&&(this.options=S,this.id=S.id)}render(){k(this,"render");const M=this,S=M.axis,P=S.horiz;var H=S.logarithmic;const U=M.options,E=U.color,ie=L(U.zIndex,0),te=U.events,$={},V=S.chart.renderer;let j=U.label,w=M.label,I=U.to,m=U.from,g=U.value,b=M.svgElem;var A=[];const X=v(m)&&v(I);A=v(g);const Y=!b,K={class:"highcharts-plot-"+(X?"band ":"line ")+(U.className||"")};let le=X?"bands":"lines";if(H&&(m=H.log2lin(m),I=H.log2lin(I),g=H.log2lin(g)),S.chart.styledMode||(A?(K.stroke=E||"#999999",K["stroke-width"]=L(U.width,1),U.dashStyle&&(K.dashstyle=U.dashStyle)):X&&(K.fill=E||"#e6e9ff",U.borderWidth&&(K.stroke=U.borderColor,K["stroke-width"]=U.borderWidth))),$.zIndex=ie,le+="-"+ie,(H=S.plotLinesAndBandsGroups[le])||(S.plotLinesAndBandsGroups[le]=H=V.g("plot-"+le).attr($).add()),Y&&(M.svgElem=b=V.path().attr(K).add(H)),A)A=S.getPlotLinePath({value:g,lineWidth:b.strokeWidth(),acrossPanes:U.acrossPanes});else if(X)A=S.getPlotBandPath(m,I,U);else return;return!M.eventsAdded&&te&&(q(te,function(he,pe){b.on(pe,function(F){te[pe].apply(M,[F])})}),M.eventsAdded=!0),(Y||!b.d)&&A&&A.length?b.attr({d:A}):b&&(A?(b.show(),b.animate({d:A})):b.d&&(b.hide(),w&&(M.label=w=w.destroy()))),j&&(v(j.text)||v(j.formatter))&&A&&A.length&&0<S.width&&0<S.height&&!A.isFlat?(j=z({align:P&&X&&"center",x:P?!X&&4:10,verticalAlign:!P&&X&&"middle",y:P?X?16:10:X?6:-4,rotation:P&&!X&&90},j),this.renderLabel(j,A,X,ie)):w&&w.hide(),M}renderLabel(M,S,P,H){const U=this.axis;var E=U.chart.renderer;let ie=this.label;ie||(this.label=ie=E.text(this.getLabelText(M),0,0,M.useHTML).attr({align:M.textAlign||M.align,rotation:M.rotation,class:"highcharts-plot-"+(P?"band":"line")+"-label "+(M.className||""),zIndex:H}).add(),U.chart.styledMode||ie.css(z({fontSize:"0.8em",textOverflow:"ellipsis"},M.style))),H=S.xBounds||[S[0][1],S[1][1],P?S[2][1]:S[0][1]],S=S.yBounds||[S[0][2],S[1][2],P?S[2][2]:S[0][2]],P=s(H),E=s(S),ie.align(M,!1,{x:P,y:E,width:h(H)-P,height:h(S)-E}),ie.alignValue&&ie.alignValue!=="left"||(M=M.clip?U.width:U.chart.chartWidth,ie.css({width:(ie.rotation===90?U.height-(ie.alignAttr.y-U.top):M-(ie.alignAttr.x-U.left))+"px"})),ie.show(!0)}getLabelText(M){return v(M.formatter)?M.formatter.call(this):M.text}destroy(){J(this.axis.plotLinesAndBands,this),delete this.axis,R(this)}}return O}),n(r,"Core/Tooltip.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,v){const{format:R}=o,{doc:J,isSafari:k}=d,{distribute:z}=h,{addEvent:q,clamp:L,css:O,discardElement:G,extend:M,fireEvent:S,isArray:P,isNumber:H,isString:U,merge:E,pick:ie,splat:te,syncTimeout:$}=v;class V{constructor(w,I){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=w,this.init(w,I)}bodyFormatter(w){return w.map(function(I){const m=I.series.tooltipOptions;return(m[(I.point.formatPrefix||"point")+"Formatter"]||I.point.tooltipFormatter).call(I.point,m[(I.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(w){this.chart.series.forEach(function(I){const m=I&&I.tt;m&&(!m.isActive||w?I.tt=m.destroy():m.isActive=!1)})}defaultFormatter(w){const I=this.points||te(this);let m;return m=[w.tooltipFooterHeaderFormatter(I[0])],m=m.concat(w.bodyFormatter(I)),m.push(w.tooltipFooterHeaderFormatter(I[0],!0)),m}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),G(this.container)),v.clearTimeout(this.hideTimer),v.clearTimeout(this.tooltipTimeout)}getAnchor(w,I){var m=this.chart;const g=m.pointer,b=m.inverted,A=m.plotTop;if(m=m.plotLeft,w=te(w),w[0].series&&w[0].series.yAxis&&!w[0].series.yAxis.options.reversedStacks&&(w=w.slice().reverse()),this.followPointer&&I)typeof I.chartX>"u"&&(I=g.normalize(I)),w=[I.chartX-m,I.chartY-A];else if(w[0].tooltipPos)w=w[0].tooltipPos;else{let X=0,Y=0;w.forEach(function(K){(K=K.pos(!0))&&(X+=K[0],Y+=K[1])}),X/=w.length,Y/=w.length,this.shared&&1<w.length&&I&&(b?X=I.chartX:Y=I.chartY),w=[X-m,Y-A]}return w.map(Math.round)}getClassName(w,I,m){const g=w.series,b=g.options;return[this.options.className,"highcharts-label",m&&"highcharts-tooltip-header",I?"highcharts-tooltip-box":"highcharts-tooltip",!m&&"highcharts-color-"+ie(w.colorIndex,g.colorIndex),b&&b.className].filter(U).join(" ")}getLabel(){const w=this,I=this.chart.styledMode,m=this.options,g=this.split&&this.allowShared,b=m.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let A,X=this.chart.renderer;if(this.label){var Y=!this.label.hasClass("highcharts-label");(!g&&Y||g&&!Y)&&this.destroy()}if(!this.label){if(this.outside){Y=this.chart.options.chart.style;const K=s.getRendererType();this.container=A=d.doc.createElement("div"),A.className="highcharts-tooltip-container",O(A,{position:"absolute",top:"1px",pointerEvents:b,zIndex:Math.max(this.options.style.zIndex||0,(Y&&Y.zIndex||0)+3)}),d.doc.body.appendChild(A),this.renderer=X=new K(A,0,0,Y,void 0,void 0,X.styledMode)}if(g?this.label=X.g("tooltip"):(this.label=X.label("",0,0,m.shape,void 0,void 0,m.useHTML,void 0,"tooltip").attr({padding:m.padding,r:m.borderRadius}),I||this.label.attr({fill:m.backgroundColor,"stroke-width":m.borderWidth||0}).css(m.style).css({pointerEvents:b})),w.outside){const K=this.label,{xSetter:le,ySetter:he}=K;K.xSetter=function(pe){le.call(K,w.distance),A.style.left=pe+"px"},K.ySetter=function(pe){he.call(K,w.distance),A.style.top=pe+"px"}}this.label.attr({zIndex:8}).shadow(m.shadow).add()}return this.label}getPlayingField(){const{body:w,documentElement:I}=J,{chart:m,distance:g,outside:b}=this;return{width:b?Math.max(w.scrollWidth,I.scrollWidth,w.offsetWidth,I.offsetWidth,I.clientWidth)-2*g:m.chartWidth,height:b?Math.max(w.scrollHeight,I.scrollHeight,w.offsetHeight,I.offsetHeight,I.clientHeight):m.chartHeight}}getPosition(w,I,m){const g=this.chart,b=this.distance,A={},X=g.inverted&&m.h||0,Y=this.outside;var K=this.getPlayingField();const le=K.width,he=K.height,pe=g.pointer.getChartPosition();K=oe=>{const ye=oe==="x";return[oe,ye?le:he,ye?w:I].concat(Y?[ye?w*pe.scaleX:I*pe.scaleY,ye?pe.left-b+(m.plotX+g.plotLeft)*pe.scaleX:pe.top-b+(m.plotY+g.plotTop)*pe.scaleY,0,ye?le:he]:[ye?w:I,ye?m.plotX+g.plotLeft:m.plotY+g.plotTop,ye?g.plotLeft:g.plotTop,ye?g.plotLeft+g.plotWidth:g.plotTop+g.plotHeight])};let F=K("y"),Q=K("x"),ce;K=!!m.negative,!g.polar&&g.hoverSeries&&g.hoverSeries.yAxis&&g.hoverSeries.yAxis.reversed&&(K=!K);const ge=!this.followPointer&&ie(m.ttBelow,!g.inverted===K),ke=function(oe,ye,Se,Re,Oe,Ue,st){const Qe=Y?oe==="y"?b*pe.scaleY:b*pe.scaleX:b,qe=(Se-Re)/2,xe=Re<Oe-b,Ie=Oe+b+Re<ye,Be=Oe-Qe-Se+qe;if(Oe=Oe+Qe-qe,ge&&Ie)A[oe]=Oe;else if(!ge&&xe)A[oe]=Be;else if(xe)A[oe]=Math.min(st-Re,0>Be-X?Be:Be-X);else if(Ie)A[oe]=Math.max(Ue,Oe+X+Se>ye?Oe:Oe+X);else return!1},re=function(oe,ye,Se,Re,Oe){let Ue;return Oe<b||Oe>ye-b?Ue=!1:A[oe]=Oe<Se/2?1:Oe>ye-Re/2?ye-Re-2:Oe-Se/2,Ue},ve=function(oe){const ye=F;F=Q,Q=ye,ce=oe},_e=function(){ke.apply(0,F)!==!1?re.apply(0,Q)!==!1||ce||(ve(!0),_e()):ce?A.x=A.y=0:(ve(!0),_e())};return(g.inverted||1<this.len)&&ve(),_e(),A}hide(w){const I=this;v.clearTimeout(this.hideTimer),w=ie(w,this.options.hideDelay),this.isHidden||(this.hideTimer=$(function(){I.getLabel().fadeOut(w&&void 0),I.isHidden=!0},w))}init(w,I){this.chart=w,this.options=I,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=I.split&&!w.inverted&&!w.polar,this.shared=I.shared||this.split,this.outside=ie(I.outside,!(!w.scrollablePixelsX&&!w.scrollablePixelsY))}shouldStickOnContact(w){return!(this.followPointer||!this.options.stickOnContact||w&&!this.chart.pointer.inClass(w.target,"highcharts-tooltip"))}move(w,I,m,g){const b=this,A=b.now,X=b.options.animation!==!1&&!b.isHidden&&(1<Math.abs(w-A.x)||1<Math.abs(I-A.y)),Y=b.followPointer||1<b.len;M(A,{x:X?(2*A.x+w)/3:w,y:X?(A.y+I)/2:I,anchorX:Y?void 0:X?(2*A.anchorX+m)/3:m,anchorY:Y?void 0:X?(A.anchorY+g)/2:g}),b.getLabel().attr(A),b.drawTracker(),X&&(v.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){b&&b.move(w,I,m,g)},32))}refresh(w,I){const m=this.chart,g=this.options,b=m.pointer,A=te(w),X=A[0],Y=[];var K=g.formatter||this.defaultFormatter,le=this.shared;const he=m.styledMode;let pe={};if(g.enabled&&X.series){v.clearTimeout(this.hideTimer),this.allowShared=!(!P(w)&&w.series&&w.series.noSharedTooltip),this.followPointer=!this.split&&X.series.tooltipOptions.followPointer,w=this.getAnchor(w,I);var F=w[0],Q=w[1];if(le&&this.allowShared?(b.applyInactiveState(A),A.forEach(function(ce){ce.setState("hover"),Y.push(ce.getLabelConfig())}),pe={x:X.category,y:X.y},pe.points=Y):pe=X.getLabelConfig(),this.len=Y.length,K=K.call(pe,this),le=X.series,this.distance=ie(le.tooltipOptions.distance,16),K===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(K,A);else{let ce=F,ge=Q;if(I&&b.isDirectTouch&&(ce=I.chartX-m.plotLeft,ge=I.chartY-m.plotTop),m.polar||le.options.clip===!1||A.some(ke=>b.isDirectTouch||ke.series.shouldShowTooltip(ce,ge)))I=this.getLabel(),g.style.width&&!he||I.css({width:(this.outside?this.getPlayingField():m.spacingBox).width+"px"}),I.attr({text:K&&K.join?K.join(""):K}),I.addClass(this.getClassName(X),!0),he||I.attr({stroke:g.borderColor||X.color||le.color||"#666666"}),this.updatePosition({plotX:F,plotY:Q,negative:X.negative,ttBelow:X.ttBelow,h:w[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}S(this,"refresh")}}renderSplit(w,I){function m(Ke,pt,Tt,Lt,gi=!0){return Tt?(pt=Se?0:Qe,Ke=L(Ke-Lt/2,_e.left,_e.right-Lt-(g.outside?Re:0))):(pt-=Ue,Ke=gi?Ke-Lt-ke:Ke+ke,Ke=L(Ke,gi?Ke:_e.left,_e.right)),{x:Ke,y:pt}}const g=this,{chart:b,chart:{chartWidth:A,chartHeight:X,plotHeight:Y,plotLeft:K,plotTop:le,pointer:he,scrollablePixelsY:pe=0,scrollablePixelsX:F,scrollingContainer:{scrollLeft:Q,scrollTop:ce}={scrollLeft:0,scrollTop:0},styledMode:ge},distance:ke,options:re,options:{positioner:ve}}=g,_e=g.outside&&typeof F!="number"?J.documentElement.getBoundingClientRect():{left:Q,right:Q+A,top:ce,bottom:ce+X},oe=g.getLabel(),ye=this.renderer||b.renderer,Se=!(!b.xAxis[0]||!b.xAxis[0].opposite),{left:Re,top:Oe}=he.getChartPosition();let Ue=le+ce,st=0,Qe=Y-pe;U(w)&&(w=[!1,w]),w=w.slice(0,I.length+1).reduce(function(Ke,pt,Tt){if(pt!==!1&&pt!==""){Tt=I[Tt-1]||{isHeader:!0,plotX:I[0].plotX,plotY:Y,series:{}};const ht=Tt.isHeader;var Lt=ht?g:Tt.series,gi;{var Wt=Tt;pt=pt.toString();var pi=Lt.tt;const{isHeader:Pi,series:an}=Wt;pi||(pi={padding:re.padding,r:re.borderRadius},ge||(pi.fill=re.backgroundColor,pi["stroke-width"]=(gi=re.borderWidth)!==null&&gi!==void 0?gi:1),pi=ye.label("",0,0,re[Pi?"headerShape":"shape"],void 0,void 0,re.useHTML).addClass(g.getClassName(Wt,!0,Pi)).attr(pi).add(oe)),pi.isActive=!0,pi.attr({text:pt}),ge||pi.css(re.style).attr({stroke:re.borderColor||Wt.color||an.color||"#333333"}),gi=pi}gi=Lt.tt=gi,Wt=gi.getBBox(),Lt=Wt.width+gi.strokeWidth(),ht&&(st=Wt.height,Qe+=st,Se&&(Ue-=st));{const{isHeader:Pi,plotX:an=0,plotY:Gn=0,series:Kr}=Tt;if(Pi){pt=K+an;var Gi=le+Y/2}else{const{xAxis:di,yAxis:$i}=Kr;pt=di.pos+L(an,-ke,di.len+ke),Kr.shouldShowTooltip(0,$i.pos-le+Gn,{ignoreX:!0})&&(Gi=$i.pos+Gn)}pt=L(pt,_e.left-ke,_e.right+ke),Gi={anchorX:pt,anchorY:Gi}}const{anchorX:It,anchorY:ei}=Gi;typeof ei=="number"?(Gi=Wt.height+1,Wt=ve?ve.call(g,Lt,Gi,Tt):m(It,ei,ht,Lt),Ke.push({align:ve?0:void 0,anchorX:It,anchorY:ei,boxWidth:Lt,point:Tt,rank:ie(Wt.rank,ht?1:0),size:Gi,target:Wt.y,tt:gi,x:Wt.x})):gi.isActive=!1}return Ke},[]),!ve&&w.some(Ke=>{var{outside:pt}=g;return pt=(pt?Re:0)+Ke.anchorX,pt<_e.left&&pt+Ke.boxWidth<_e.right?!0:pt<Re-_e.left+Ke.boxWidth&&_e.right-pt>pt})&&(w=w.map(Ke=>{const{x:pt,y:Tt}=m(Ke.anchorX,Ke.anchorY,Ke.point.isHeader,Ke.boxWidth,!1);return M(Ke,{target:Tt,x:pt})})),g.cleanSplit(),z(w,Qe);var qe=Re,xe=Re;w.forEach(function(Ke){const{x:pt,boxWidth:Tt,isHeader:Lt}=Ke;Lt||(g.outside&&Re+pt<qe&&(qe=Re+pt),!Lt&&g.outside&&qe+Tt>xe&&(xe=Re+pt))}),w.forEach(function(Ke){const{x:pt,anchorX:Tt,anchorY:Lt,pos:gi,point:{isHeader:Wt}}=Ke,pi={visibility:typeof gi>"u"?"hidden":"inherit",x:pt,y:(gi||0)+Ue,anchorX:Tt,anchorY:Lt};if(g.outside&&pt<Tt){const Gi=Re-qe;0<Gi&&(Wt||(pi.x=pt+Gi,pi.anchorX=Tt+Gi),Wt&&(pi.x=(xe-qe)/2,pi.anchorX=Tt+Gi))}Ke.tt.attr(pi)});const{container:Ie,outside:Be,renderer:Xe}=g;if(Be&&Ie&&Xe){const{width:Ke,height:pt,x:Tt,y:Lt}=oe.getBBox();Xe.setSize(Ke+Tt,pt+Lt,!1),Ie.style.left=qe+"px",Ie.style.top=Oe+"px"}k&&oe.attr({opacity:oe.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var w=this.chart,I=this.label,m=this.shared?w.hoverPoints:w.hoverPoint;if(I&&m){var g={x:0,y:0,width:0,height:0};m=this.getAnchor(m);var b=I.getBBox();m[0]+=w.plotLeft-I.translateX,m[1]+=w.plotTop-I.translateY,g.x=Math.min(0,m[0]),g.y=Math.min(0,m[1]),g.width=0>m[0]?Math.max(Math.abs(m[0]),b.width-m[0]):Math.max(Math.abs(m[0]),b.width),g.height=0>m[1]?Math.max(Math.abs(m[1]),b.height-Math.abs(m[1])):Math.max(Math.abs(m[1]),b.height),this.tracker?this.tracker.attr(g):(this.tracker=I.renderer.rect(g).addClass("highcharts-tracker").add(I),w.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(w){return w.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(w,I){const m=w.series,g=m.tooltipOptions;var b=m.xAxis;const A=b&&b.dateTime;b={isFooter:I,labelConfig:w};let X=g.xDateFormat,Y=g[I?"footerFormat":"headerFormat"];return S(this,"headerFormatter",b,function(K){A&&!X&&H(w.key)&&(X=A.getXDateFormat(w.key,g.dateTimeLabelFormats)),A&&X&&(w.point&&w.point.tooltipDateKeys||["key"]).forEach(function(le){Y=Y.replace("{point."+le+"}","{point."+le+":"+X+"}")}),m.chart.styledMode&&(Y=this.styledModeFormat(Y)),K.text=R(Y,{point:w,series:m},this.chart)}),b.text}update(w){this.destroy(),E(!0,this.chart.options.tooltip.userOptions,w),this.init(this.chart,E(!0,this.options,w))}updatePosition(w){const{chart:I,distance:m,options:g}=this;var b=I.pointer;const A=this.getLabel(),{left:X,top:Y,scaleX:K,scaleY:le}=b.getChartPosition();b=(g.positioner||this.getPosition).call(this,A.width,A.height,w);let he=(w.plotX||0)+I.plotLeft;w=(w.plotY||0)+I.plotTop;let pe;this.outside&&(g.positioner&&(b.x+=X-m,b.y+=Y-m),pe=(g.borderWidth||0)+2*m,this.renderer.setSize(A.width+pe,A.height+pe,!1),(K!==1||le!==1)&&(O(this.container,{transform:`scale(${K}, ${le})`}),he*=K,w*=le),he+=X-b.x,w+=Y-b.y),this.move(Math.round(b.x),Math.round(b.y||0),he,w)}}return function(j){const w=[];j.compose=function(I){v.pushUnique(w,I)&&q(I,"afterInit",function(){const m=this.chart;m.options.tooltip&&(m.tooltip=new j(m,m.options.tooltip))})}}(V||(V={})),V}),n(r,"Core/Series/Point.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(o,d,h,s,v){const{animObject:R}=d,{defaultOptions:J}=h,{format:k}=s,{addEvent:z,defined:q,erase:L,extend:O,fireEvent:G,getNestedProperty:M,isArray:S,isFunction:P,isNumber:H,isObject:U,merge:E,objectEach:ie,pick:te,syncTimeout:$,removeEvent:V,uniqueKey:j}=v;class w{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const m=this,g={x:m.startXPos,opacity:0},b=m.getGraphicalProps();b.singular.forEach(function(A){m[A]=m[A].animate(A==="dataLabel"?{x:m[A].startXPos,y:m[A].startYPos,opacity:0}:g)}),b.plural.forEach(function(A){m[A].forEach(function(X){X.element&&X.animate(O({x:m.startXPos},X.startYPos?{x:X.startXPos,y:X.startYPos}:{}))})})}applyOptions(m,g){const b=this.series,A=b.options.pointValKey||b.pointValKey;return m=w.prototype.optionsToObject.call(this,m),O(this,m),this.options=this.options?O(this.options,m):m,m.group&&delete this.group,m.dataLabels&&delete this.dataLabels,A&&(this.y=w.prototype.getNestedProperty.call(this,A)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof g>"u"&&b.xAxis&&b.xAxis.hasNames&&(this.x=b.xAxis.nameToX(this)),typeof this.x>"u"&&b?this.x=typeof g>"u"?b.autoIncrement():g:H(m.x)&&b.options.relativeXValue&&(this.x=b.autoIncrement(m.x)),this}destroy(){if(!this.destroyed){const g=this;var m=g.series;const b=m.chart;m=m.options.dataSorting;const A=b.hoverPoints,X=R(g.series.chart.renderer.globalAnimation),Y=()=>{(g.graphic||g.graphics||g.dataLabel||g.dataLabels)&&(V(g),g.destroyElements());for(const K in g)delete g[K]};g.legendItem&&b.legend.destroyItem(g),A&&(g.setState(),L(A,g),A.length||(b.hoverPoints=null)),g===b.hoverPoint&&g.onMouseOut(),m&&m.enabled?(this.animateBeforeDestroy(),$(Y,X.duration)):Y(),b.pointCount--}this.destroyed=!0}destroyElements(m){const g=this;m=g.getGraphicalProps(m),m.singular.forEach(function(b){g[b]=g[b].destroy()}),m.plural.forEach(function(b){g[b].forEach(function(A){A&&A.element&&A.destroy()}),delete g[b]})}firePointEvent(m,g,b){const A=this,X=this.series.options;(X.point.events[m]||A.options&&A.options.events&&A.options.events[m])&&A.importEvents(),m==="click"&&X.allowPointSelect&&(b=function(Y){A.select&&A.select(null,Y.ctrlKey||Y.metaKey||Y.shiftKey)}),G(A,m,g,b)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(m){const g=this,b=[],A={singular:[],plural:[]};let X,Y;for(m=m||{graphic:1,dataLabel:1},m.graphic&&b.push("graphic"),m.dataLabel&&b.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),Y=b.length;Y--;)X=b[Y],g[X]&&A.singular.push(X);return["graphic","dataLabel","connector"].forEach(function(K){const le=K+"s";m[K]&&g[le]&&A.plural.push(le)}),A}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(m){if(m)return m.indexOf("custom.")===0?M(m,this.options):this[m]}getZone(){var m=this.series;const g=m.zones;m=m.zoneAxis||"y";let b,A=0;for(b=g[A];this[m]>=b.value;)b=g[++A];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=b&&b.color&&!this.options.color?b.color:this.nonZonedColor,b}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(m,g,b){return this.series=m,this.applyOptions(g,b),this.id=q(this.id)?this.id:j(),this.resolveColor(),m.chart.pointCount++,G(this,"afterInit"),this}isValid(){return this.x!==null&&H(this.y)}optionsToObject(m){var g=this.series;const b=g.options.keys,A=b||g.pointArrayMap||["y"],X=A.length;let Y={},K=0,le=0;if(H(m)||m===null)Y[A[0]]=m;else if(S(m))for(!b&&m.length>X&&(g=typeof m[0],g==="string"?Y.name=m[0]:g==="number"&&(Y.x=m[0]),K++);le<X;)b&&typeof m[K]>"u"||(0<A[le].indexOf(".")?w.prototype.setNestedProperty(Y,m[K],A[le]):Y[A[le]]=m[K]),K++,le++;else typeof m=="object"&&(Y=m,m.dataLabels&&(g._hasPointLabels=!0),m.marker&&(g._hasPointMarkers=!0));return Y}pos(m,g=this.plotY){if(!this.destroyed){const{plotX:b,series:A}=this,{chart:X,xAxis:Y,yAxis:K}=A;let le=0,he=0;if(H(b)&&H(g))return m&&(le=Y?Y.pos:X.plotLeft,he=K?K.pos:X.plotTop),X.inverted&&Y&&K?[K.len-g+he,Y.len-b+le]:[b+le,g+he]}}resolveColor(){const m=this.series;var g=m.chart.styledMode;let b;var A=m.chart.options.chart.colorCount;delete this.nonZonedColor,m.options.colorByPoint?(g||(A=m.options.colors||m.chart.options.colors,b=A[m.colorCounter],A=A.length),g=m.colorCounter,m.colorCounter++,m.colorCounter===A&&(m.colorCounter=0)):(g||(b=m.color),g=m.colorIndex),this.colorIndex=te(this.options.colorIndex,g),this.color=te(this.options.color,b)}setNestedProperty(m,g,b){return b.split(".").reduce(function(A,X,Y,K){return A[X]=K.length-1===Y?g:U(A[X],!0)?A[X]:{},A[X]},m),m}shouldDraw(){return!this.isNull}tooltipFormatter(m){const g=this.series,b=g.tooltipOptions,A=te(b.valueDecimals,""),X=b.valuePrefix||"",Y=b.valueSuffix||"";return g.chart.styledMode&&(m=g.chart.tooltip.styledModeFormat(m)),(g.pointArrayMap||["y"]).forEach(function(K){K="{point."+K,(X||Y)&&(m=m.replace(RegExp(K+"}","g"),X+K+"}"+Y)),m=m.replace(RegExp(K+"}","g"),K+":,."+A+"f}")}),k(m,{point:this,series:this.series},g.chart)}update(m,g,b,A){function X(){Y.applyOptions(m);var Q=le&&Y.hasMockGraphic;Q=Y.y===null?!Q:Q,le&&Q&&(Y.graphic=le.destroy(),delete Y.hasMockGraphic),U(m,!0)&&(le&&le.element&&m&&m.marker&&typeof m.marker.symbol<"u"&&(Y.graphic=le.destroy()),m&&m.dataLabels&&Y.dataLabel&&(Y.dataLabel=Y.dataLabel.destroy()),Y.connector&&(Y.connector=Y.connector.destroy())),F=Y.index,K.updateParallelArrays(Y,F),pe.data[F]=U(pe.data[F],!0)||U(m,!0)?Y.options:te(m,pe.data[F]),K.isDirty=K.isDirtyData=!0,!K.fixedBox&&K.hasCartesianSeries&&(he.isDirtyBox=!0),pe.legendType==="point"&&(he.isDirtyLegend=!0),g&&he.redraw(b)}const Y=this,K=Y.series,le=Y.graphic,he=K.chart,pe=K.options;let F;g=te(g,!0),A===!1?X():Y.firePointEvent("update",{options:m},X)}remove(m,g){this.series.removePoint(this.series.data.indexOf(this),m,g)}select(m,g){const b=this,A=b.series,X=A.chart;this.selectedStaging=m=te(m,!b.selected),b.firePointEvent(m?"select":"unselect",{accumulate:g},function(){b.selected=b.options.selected=m,A.options.data[A.data.indexOf(b)]=b.options,b.setState(m&&"select"),g||X.getSelectedPoints().forEach(function(Y){const K=Y.series;Y.selected&&Y!==b&&(Y.selected=Y.options.selected=!1,K.options.data[K.data.indexOf(Y)]=Y.options,Y.setState(X.hoverPoints&&K.options.inactiveOtherPoints?"inactive":""),Y.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(m){const g=this.series.chart,b=g.pointer;m=m?b.normalize(m):b.getChartCoordinatesFromPoint(this,g.inverted),b.runPointActions(m,this)}onMouseOut(){const m=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(m.hoverPoints||[]).forEach(function(g){g.setState()}),m.hoverPoints=m.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const m=this,g=E(m.series.options.point,m.options).events;m.events=g,ie(g,function(b,A){P(b)&&z(m,A,b)}),this.hasImportedEvents=!0}}setState(m,g){const b=this.series;var A=this.state,X=b.options.states[m||"normal"]||{},Y=J.plotOptions[b.type].marker&&b.options.marker;const K=Y&&Y.enabled===!1,le=Y&&Y.states&&Y.states[m||"normal"]||{},he=le.enabled===!1,pe=this.marker||{},F=b.chart,Q=Y&&b.markerAttribs;let ce=b.halo;var ge;let ke;var re=b.stateMarkerGraphic;if(m=m||"",!(m===this.state&&!g||this.selected&&m!=="select"||X.enabled===!1||m&&(he||K&&le.enabled===!1)||m&&pe.states&&pe.states[m]&&pe.states[m].enabled===!1)){if(this.state=m,Q&&(ge=b.markerAttribs(this,m)),this.graphic&&!this.hasMockGraphic){if(A&&this.graphic.removeClass("highcharts-point-"+A),m&&this.graphic.addClass("highcharts-point-"+m),!F.styledMode){A=b.pointAttribs(this,m),ke=te(F.options.chart.animation,X.animation);const ve=A.opacity;b.options.inactiveOtherPoints&&H(ve)&&((this.dataLabels||[]).forEach(function(_e){_e&&!_e.hasClass("highcharts-data-label-hidden")&&_e.animate({opacity:ve},ke)}),this.connector&&this.connector.animate({opacity:ve},ke)),this.graphic.animate(A,ke)}ge&&this.graphic.animate(ge,te(F.options.chart.animation,le.animation,Y.animation)),re&&re.hide()}else m&&le&&(Y=pe.symbol||b.symbol,re&&re.currentSymbol!==Y&&(re=re.destroy()),ge&&(re?re[g?"animate":"attr"]({x:ge.x,y:ge.y}):Y&&(b.stateMarkerGraphic=re=F.renderer.symbol(Y,ge.x,ge.y,ge.width,ge.height).add(b.markerGroup),re.currentSymbol=Y)),!F.styledMode&&re&&this.state!=="inactive"&&re.attr(b.pointAttribs(this,m))),re&&(re[m&&this.isInside?"show":"hide"](),re.element.point=this,re.addClass(this.getClassName(),!0));X=X.halo,ge=(re=this.graphic||re)&&re.visibility||"inherit",X&&X.size&&re&&ge!=="hidden"&&!this.isCluster?(ce||(b.halo=ce=F.renderer.path().add(re.parentGroup)),ce.show()[g?"animate":"attr"]({d:this.haloPath(X.size)}),ce.attr({class:"highcharts-halo highcharts-color-"+te(this.colorIndex,b.colorIndex)+(this.className?" "+this.className:""),visibility:ge,zIndex:-1}),ce.point=this,F.styledMode||ce.attr(O({fill:this.color||b.color,"fill-opacity":X.opacity},o.filterUserAttributes(X.attributes||{})))):ce&&ce.point&&ce.point.haloPath&&ce.animate({d:ce.point.haloPath(0)},null,ce.hide),G(this,"afterSetState",{state:m})}}haloPath(m){const g=this.pos();return g?this.series.chart.renderer.symbols.circle(Math.floor(g[0])-m,g[1]-m,2*m,2*m):[]}}return w}),n(r,"Core/Pointer.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{parse:s}=o,{charts:v,noop:R}=d,{addEvent:J,attr:k,css:z,defined:q,extend:L,find:O,fireEvent:G,isNumber:M,isObject:S,objectEach:P,offset:H,pick:U,splat:E}=h;class ie{constructor($,V){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=$,this.hasDragged=!1,this.options=V,this.init($,V)}applyInactiveState($){let V=[],j;($||[]).forEach(function(w){j=w.series,V.push(j),j.linkedParent&&V.push(j.linkedParent),j.linkedSeries&&(V=V.concat(j.linkedSeries)),j.navigatorSeries&&V.push(j.navigatorSeries)}),this.chart.series.forEach(function(w){V.indexOf(w)===-1?w.setState("inactive",!0):w.options.inactiveOtherPoints&&w.setAllPointsToState("inactive")})}destroy(){const $=this;this.eventsToUnbind.forEach(V=>V()),this.eventsToUnbind=[],d.chartCount||(ie.unbindDocumentMouseUp&&(ie.unbindDocumentMouseUp=ie.unbindDocumentMouseUp()),ie.unbindDocumentTouchEnd&&(ie.unbindDocumentTouchEnd=ie.unbindDocumentTouchEnd())),clearInterval($.tooltipTimeout),P($,function(V,j){$[j]=void 0})}getSelectionMarkerAttrs($,V){const j={args:{chartX:$,chartY:V},attrs:{},shapeType:"rect"};return G(this,"getSelectionMarkerAttrs",j,w=>{const{chart:I,mouseDownX:m=0,mouseDownY:g=0,zoomHor:b,zoomVert:A}=this;w=w.attrs;let X;w.x=I.plotLeft,w.y=I.plotTop,w.width=b?1:I.plotWidth,w.height=A?1:I.plotHeight,b&&(X=$-m,w.width=Math.abs(X),w.x=(0<X?0:X)+m),A&&(X=V-g,w.height=Math.abs(X),w.y=(0<X?0:X)+g)}),j}drag($){const V=this.chart,j=V.options.chart;var w=V.plotLeft;const I=V.plotTop,m=V.plotWidth,g=V.plotHeight,b=this.mouseDownX||0,A=this.mouseDownY||0,X=S(j.panning)?j.panning&&j.panning.enabled:j.panning,Y=j.panKey&&$[j.panKey+"Key"];let K=$.chartX,le=$.chartY,he=this.selectionMarker;if((!he||!he.touch)&&(K<w?K=w:K>w+m&&(K=w+m),le<I?le=I:le>I+g&&(le=I+g),this.hasDragged=Math.sqrt(Math.pow(b-K,2)+Math.pow(A-le,2)),10<this.hasDragged)){w=V.isInsidePlot(b-w,A-I,{visiblePlotOnly:!0});const{shapeType:pe,attrs:F}=this.getSelectionMarkerAttrs(K,le);!V.hasCartesianSeries&&!V.mapView||!this.zoomX&&!this.zoomY||!w||Y||he||(this.selectionMarker=he=V.renderer[pe](),he.attr({class:"highcharts-selection-marker",zIndex:7}).add(),V.styledMode||he.attr({fill:j.selectionMarkerFill||s("#334eff").setOpacity(.25).get()})),he&&he.attr(F),w&&!he&&X&&V.pan($,j.panning)}}dragStart($){const V=this.chart;V.mouseIsDown=$.type,V.cancelClick=!1,V.mouseDownX=this.mouseDownX=$.chartX,V.mouseDownY=this.mouseDownY=$.chartY}getSelectionBox($){const V={args:{marker:$},result:{}};return G(this,"getSelectionBox",V,j=>{j.result={x:$.attr?+$.attr("x"):$.x,y:$.attr?+$.attr("y"):$.y,width:$.attr?$.attr("width"):$.width,height:$.attr?$.attr("height"):$.height}}),V.result}drop($){const V=this,j=this.chart,w=this.hasPinched;if(this.selectionMarker){const{x:I,y:m,width:g,height:b}=this.getSelectionBox(this.selectionMarker),A={originalEvent:$,xAxis:[],yAxis:[],x:I,y:m,width:g,height:b};let X=!!j.mapView;(this.hasDragged||w)&&(j.axes.forEach(function(Y){if(Y.zoomEnabled&&q(Y.min)&&(w||V[{xAxis:"zoomX",yAxis:"zoomY"}[Y.coll]])&&M(I)&&M(m)&&M(g)&&M(b)){var K=Y.horiz;const le=$.type==="touchend"?Y.minPixelPadding:0,he=Y.toValue((K?I:m)+le);K=Y.toValue((K?I+g:m+b)-le),A[Y.coll].push({axis:Y,min:Math.min(he,K),max:Math.max(he,K)}),X=!0}}),X&&G(j,"selection",A,function(Y){j.zoom(L(Y,w?{animation:!1}:null))})),M(j.index)&&(this.selectionMarker=this.selectionMarker.destroy()),w&&this.scaleGroups()}j&&M(j.index)&&(z(j.container,{cursor:j._cursor}),j.cancelClick=10<this.hasDragged,j.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint($,V,j){let w;return $.forEach(function(I){var m=!(I.noSharedTooltip&&V)&&0>I.options.findNearestPointBy.indexOf("y");if(I=I.searchPoint(j,m),(m=S(I,!0)&&I.series)&&!(m=!S(w,!0))){{m=w.distX-I.distX;const g=w.dist-I.dist,b=(I.series.group&&I.series.group.zIndex)-(w.series.group&&w.series.group.zIndex);m=m!==0&&V?m:g!==0?g:b!==0?b:w.series.index>I.series.index?-1:1}m=0<m}m&&(w=I)}),w}getChartCoordinatesFromPoint($,V){var j=$.series;const w=j.xAxis;j=j.yAxis;const I=$.shapeArgs;if(w&&j){let m=U($.clientX,$.plotX),g=$.plotY||0;return $.isNode&&I&&M(I.x)&&M(I.y)&&(m=I.x,g=I.y),V?{chartX:j.len+j.pos-g,chartY:w.len+w.pos-m}:{chartX:m+w.pos,chartY:g+j.pos}}if(I&&I.x&&I.y)return{chartX:I.x,chartY:I.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:$}=this.chart;const V=H($);this.chartPosition={left:V.left,top:V.top,scaleX:1,scaleY:1};const j=$.offsetWidth;return $=$.offsetHeight,2<j&&2<$&&(this.chartPosition.scaleX=V.width/j,this.chartPosition.scaleY=V.height/$),this.chartPosition}getCoordinates($){const V={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(j){V[j.isXAxis?"xAxis":"yAxis"].push({axis:j,value:j.toValue($[j.horiz?"chartX":"chartY"])})}),V}getHoverData($,V,j,w,I,m){const g=[];w=!(!w||!$);const b=function(K){return K.visible&&!(!I&&K.directTouch)&&U(K.options.enableMouseTracking,!0)};let A,X={chartX:m?m.chartX:void 0,chartY:m?m.chartY:void 0,shared:I};G(this,"beforeGetHoverData",X),A=V&&!V.stickyTracking?[V]:j.filter(K=>K.stickyTracking&&(X.filter||b)(K));const Y=w||!m?$:this.findNearestKDPoint(A,I,m);return V=Y&&Y.series,Y&&(I&&!V.noSharedTooltip?(A=j.filter(function(K){return X.filter?X.filter(K):b(K)&&!K.noSharedTooltip}),A.forEach(function(K){let le=O(K.points,function(he){return he.x===Y.x&&!he.isNull});S(le)&&(K.boosted&&K.boost&&(le=K.boost.getPoint(le)),g.push(le))})):g.push(Y)),X={hoverPoint:Y},G(this,"afterGetHoverData",X),{hoverPoint:X.hoverPoint,hoverSeries:V,hoverPoints:g}}getPointFromEvent($){$=$.target;let V;for(;$&&!V;)V=$.point,$=$.parentNode;return V}onTrackerMouseOut($){$=$.relatedTarget;const V=this.chart.hoverSeries;this.isDirectTouch=!1,!V||!$||V.stickyTracking||this.inClass($,"highcharts-tooltip")||this.inClass($,"highcharts-series-"+V.index)&&this.inClass($,"highcharts-tracker")||V.onMouseOut()}inClass($,V){let j;for(;$;){if(j=k($,"class")){if(j.indexOf(V)!==-1)return!0;if(j.indexOf("highcharts-container")!==-1)return!1}$=$.parentElement}}init($,V){this.options=V,this.chart=$,this.runChartClick=!(!V.chart.events||!V.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),G(this,"afterInit")}normalize($,V){var j=$.touches,w=j?j.length?j.item(0):U(j.changedTouches,$.changedTouches)[0]:$;return V||(V=this.getChartPosition()),j=w.pageX-V.left,w=w.pageY-V.top,j/=V.scaleX,w/=V.scaleY,L($,{chartX:Math.round(j),chartY:Math.round(w)})}onContainerClick($){const V=this.chart,j=V.hoverPoint;$=this.normalize($);const w=V.plotLeft,I=V.plotTop;V.cancelClick||(j&&this.inClass($.target,"highcharts-tracker")?(G(j.series,"click",L($,{point:j})),V.hoverPoint&&j.firePointEvent("click",$)):(L($,this.getCoordinates($)),V.isInsidePlot($.chartX-w,$.chartY-I,{visiblePlotOnly:!0})&&G(V,"click",$)))}onContainerMouseDown($){const V=(($.buttons||$.button)&1)===1;$=this.normalize($),d.isFirefox&&$.button!==0&&this.onContainerMouseMove($),(typeof $.button>"u"||V)&&(this.zoomOption($),V&&$.preventDefault&&$.preventDefault(),this.dragStart($))}onContainerMouseLeave($){const V=v[U(ie.hoverChartIndex,-1)];$=this.normalize($),V&&$.relatedTarget&&!this.inClass($.relatedTarget,"highcharts-tooltip")&&(V.pointer.reset(),V.pointer.chartPosition=void 0)}onContainerMouseEnter($){delete this.chartPosition}onContainerMouseMove($){const V=this.chart,j=V.tooltip;$=this.normalize($),this.setHoverChartIndex(),(V.mouseIsDown==="mousedown"||this.touchSelect($))&&this.drag($),V.openMenu||!this.inClass($.target,"highcharts-tracker")&&!V.isInsidePlot($.chartX-V.plotLeft,$.chartY-V.plotTop,{visiblePlotOnly:!0})||j&&j.shouldStickOnContact($)||(this.inClass($.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions($))}onDocumentTouchEnd($){const V=v[U(ie.hoverChartIndex,-1)];V&&V.pointer.drop($)}onContainerTouchMove($){this.touchSelect($)?this.onContainerMouseMove($):this.touch($)}onContainerTouchStart($){this.touchSelect($)?this.onContainerMouseDown($):(this.zoomOption($),this.touch($,!0))}onDocumentMouseMove($){const V=this.chart,j=V.tooltip,w=this.chartPosition;$=this.normalize($,w),!w||V.isInsidePlot($.chartX-V.plotLeft,$.chartY-V.plotTop,{visiblePlotOnly:!0})||j&&j.shouldStickOnContact($)||this.inClass($.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp($){const V=v[U(ie.hoverChartIndex,-1)];V&&V.pointer.drop($)}pinch($){const V=this,j=V.chart,w=V.pinchDown,I=$.touches||[],m=I.length,g=V.lastValidTouch,b=V.hasZoom,A={},X=m===1&&(V.inClass($.target,"highcharts-tracker")&&j.runTrackerClick||V.runChartClick),Y={};var K=V.chart.tooltip;K=m===1&&U(K&&K.options.followTouchMove,!0);let le=V.selectionMarker;1<m?V.initiated=!0:K&&(V.initiated=!1),b&&V.initiated&&!X&&$.cancelable!==!1&&$.preventDefault(),[].map.call(I,function(he){return V.normalize(he)}),$.type==="touchstart"?([].forEach.call(I,function(he,pe){w[pe]={chartX:he.chartX,chartY:he.chartY}}),g.x=[w[0].chartX,w[1]&&w[1].chartX],g.y=[w[0].chartY,w[1]&&w[1].chartY],j.axes.forEach(function(he){if(he.zoomEnabled){const pe=j.bounds[he.horiz?"h":"v"],F=he.minPixelPadding,Q=he.toPixels(Math.min(U(he.options.min,he.dataMin),he.dataMin)),ce=he.toPixels(Math.max(U(he.options.max,he.dataMax),he.dataMax)),ge=Math.max(Q,ce);pe.min=Math.min(he.pos,Math.min(Q,ce)-F),pe.max=Math.max(he.pos+he.len,ge+F)}}),V.res=!0):K?this.runPointActions(V.normalize($)):w.length&&(G(j,"touchpan",{originalEvent:$},()=>{le||(V.selectionMarker=le=L({destroy:R,touch:!0},j.plotBox)),V.pinchTranslate(w,I,A,le,Y,g),V.hasPinched=b,V.scaleGroups(A,Y)}),V.res&&(V.res=!1,this.reset(!1,0)))}pinchTranslate($,V,j,w,I,m){this.zoomHor&&this.pinchTranslateDirection(!0,$,V,j,w,I,m),this.zoomVert&&this.pinchTranslateDirection(!1,$,V,j,w,I,m)}pinchTranslateDirection($,V,j,w,I,m,g,b){const A=this.chart,X=$?"x":"y",Y=$?"X":"Y",K="chart"+Y,le=$?"width":"height",he=A["plot"+($?"Left":"Top")],pe=A.inverted,F=A.bounds[$?"h":"v"],Q=V.length===1,ce=V[0][K],ge=!Q&&V[1][K];V=function(){typeof oe=="number"&&20<Math.abs(ce-ge)&&(ve=b||Math.abs(_e-oe)/Math.abs(ce-ge)),re=(he-_e)/ve+ce,ke=A["plot"+($?"Width":"Height")]/ve};let ke,re,ve=b||1,_e=j[0][K],oe=!Q&&j[1][K],ye;V(),j=re,j<F.min?(j=F.min,ye=!0):j+ke>F.max&&(j=F.max-ke,ye=!0),ye?(_e-=.8*(_e-g[X][0]),typeof oe=="number"&&(oe-=.8*(oe-g[X][1])),V()):g[X]=[_e,oe],pe||(m[X]=re-he,m[le]=ke),m=pe?1/ve:ve,I[le]=ke,I[X]=j,w[pe?$?"scaleY":"scaleX":"scale"+Y]=ve,w["translate"+Y]=m*he+(_e-m*ce)}reset($,V){const j=this.chart,w=j.hoverSeries,I=j.hoverPoint,m=j.hoverPoints,g=j.tooltip,b=g&&g.shared?m:I;$&&b&&E(b).forEach(function(A){A.series.isCartesian&&typeof A.plotX>"u"&&($=!1)}),$?g&&b&&E(b).length&&(g.refresh(b),g.shared&&m?m.forEach(function(A){A.setState(A.state,!0),A.series.isCartesian&&(A.series.xAxis.crosshair&&A.series.xAxis.drawCrosshair(null,A),A.series.yAxis.crosshair&&A.series.yAxis.drawCrosshair(null,A))}):I&&(I.setState(I.state,!0),j.axes.forEach(function(A){A.crosshair&&I.series[A.coll]===A&&A.drawCrosshair(null,I)}))):(I&&I.onMouseOut(),m&&m.forEach(function(A){A.setState()}),w&&w.onMouseOut(),g&&g.hide(V),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),j.axes.forEach(function(A){A.hideCrosshair()}),this.hoverX=j.hoverPoints=j.hoverPoint=null)}runPointActions($,V,j){const w=this.chart,I=w.tooltip&&w.tooltip.options.enabled?w.tooltip:void 0,m=I?I.shared:!1;let g=V||w.hoverPoint,b=g&&g.series||w.hoverSeries;V=this.getHoverData(g,b,w.series,(!$||$.type!=="touchmove")&&(!!V||b&&b.directTouch&&this.isDirectTouch),m,$),g=V.hoverPoint,b=V.hoverSeries;const A=V.hoverPoints;V=b&&b.tooltipOptions.followPointer&&!b.tooltipOptions.split;const X=m&&b&&!b.noSharedTooltip;if(g&&(j||g!==w.hoverPoint||I&&I.isHidden)){if((w.hoverPoints||[]).forEach(function(Y){A.indexOf(Y)===-1&&Y.setState()}),w.hoverSeries!==b&&b.onMouseOver(),this.applyInactiveState(A),(A||[]).forEach(function(Y){Y.setState("hover")}),w.hoverPoint&&w.hoverPoint.firePointEvent("mouseOut"),!g.series)return;w.hoverPoints=A,w.hoverPoint=g,g.firePointEvent("mouseOver",void 0,()=>{I&&g&&I.refresh(X?A:g,$)})}else V&&I&&!I.isHidden&&(j=I.getAnchor([{}],$),w.isInsidePlot(j[0],j[1],{visiblePlotOnly:!0})&&I.updatePosition({plotX:j[0],plotY:j[1]}));this.unDocMouseMove||(this.unDocMouseMove=J(w.container.ownerDocument,"mousemove",function(Y){const K=v[ie.hoverChartIndex];K&&K.pointer.onDocumentMouseMove(Y)}),this.eventsToUnbind.push(this.unDocMouseMove)),w.axes.forEach(function(Y){const K=U((Y.crosshair||{}).snap,!0);let le;K&&((le=w.hoverPoint)&&le.series[Y.coll]===Y||(le=O(A,he=>he.series&&he.series[Y.coll]===Y))),le||!K?Y.drawCrosshair($,le):Y.hideCrosshair()})}scaleGroups($,V){const j=this.chart;j.series.forEach(function(w){const I=$||w.getPlotBox();w.group&&(w.xAxis&&w.xAxis.zoomEnabled||j.mapView)&&(w.group.attr(I),w.markerGroup&&(w.markerGroup.attr(I),w.markerGroup.clip(V?j.clipRect:null)),w.dataLabelsGroup&&w.dataLabelsGroup.attr(I))}),j.clipRect.attr(V||j.clipBox)}setDOMEvents(){const $=this.chart.container,V=$.ownerDocument;$.onmousedown=this.onContainerMouseDown.bind(this),$.onmousemove=this.onContainerMouseMove.bind(this),$.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(J($,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(J($,"mouseleave",this.onContainerMouseLeave.bind(this))),ie.unbindDocumentMouseUp||(ie.unbindDocumentMouseUp=J(V,"mouseup",this.onDocumentMouseUp.bind(this)));let j=this.chart.renderTo.parentElement;for(;j&&j.tagName!=="BODY";)this.eventsToUnbind.push(J(j,"scroll",()=>{delete this.chartPosition})),j=j.parentElement;d.hasTouch&&(this.eventsToUnbind.push(J($,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(J($,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ie.unbindDocumentTouchEnd||(ie.unbindDocumentTouchEnd=J(V,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const $=this.chart,V=d.charts[U(ie.hoverChartIndex,-1)];V&&V!==$&&V.pointer.onContainerMouseLeave({relatedTarget:$.container}),V&&V.mouseIsDown||(ie.hoverChartIndex=$.index)}touch($,V){const j=this.chart;let w;this.setHoverChartIndex(),$.touches.length===1?($=this.normalize($),j.isInsidePlot($.chartX-j.plotLeft,$.chartY-j.plotTop,{visiblePlotOnly:!0})&&!j.openMenu?(V&&this.runPointActions($),$.type==="touchmove"&&(V=this.pinchDown,w=V[0]?4<=Math.sqrt(Math.pow(V[0].chartX-$.chartX,2)+Math.pow(V[0].chartY-$.chartY,2)):!1),U(w,!0)&&this.pinch($)):V&&this.reset()):$.touches.length===2&&this.pinch($)}touchSelect($){return!(!this.chart.options.chart.zooming.singleTouch||!$.touches||$.touches.length!==1)}zoomOption($){var V=this.chart,j=V.options.chart;V=V.inverted;let w=j.zooming.type||"";/touch/.test($.type)&&(w=U(j.zooming.pinchType,w)),this.zoomX=$=/x/.test(w),this.zoomY=j=/y/.test(w),this.zoomHor=$&&!V||j&&V,this.zoomVert=j&&!V||$&&V,this.hasZoom=$||j}}return function(te){const $=[],V=[];te.compose=function(j){h.pushUnique(V,j)&&J(j,"beforeRender",function(){this.pointer=new te(this,this.options)})},te.dissolve=function(){for(let j=0,w=$.length;j<w;++j)$[j]();$.length=0}}(ie||(ie={})),ie}),n(r,"Core/Legend/Legend.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Series/Point.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R){const{animObject:J,setAnimation:k}=o,{format:z}=d,{marginNames:q}=h,{distribute:L}=v,{addEvent:O,createElement:G,css:M,defined:S,discardElement:P,find:H,fireEvent:U,isNumber:E,merge:ie,pick:te,relativeLength:$,stableSort:V,syncTimeout:j}=R;class w{constructor(m,g){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=m,this.init(m,g)}init(m,g){this.chart=m,this.setOptions(g),g.enabled&&(this.render(),O(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),O(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(m){const g=te(m.padding,8);this.options=m,this.chart.styledMode||(this.itemStyle=m.itemStyle,this.itemHiddenStyle=ie(this.itemStyle,m.itemHiddenStyle)),this.itemMarginTop=m.itemMarginTop,this.itemMarginBottom=m.itemMarginBottom,this.padding=g,this.initialItemY=g-5,this.symbolWidth=te(m.symbolWidth,16),this.pages=[],this.proximate=m.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(m,g){const b=this.chart;this.setOptions(ie(!0,this.options,m)),this.destroy(),b.isDirtyLegend=b.isDirtyBox=!0,te(g,!0)&&b.redraw(),U(this,"afterUpdate")}colorizeItem(m,g){const{group:b,label:A,line:X,symbol:Y}=m.legendItem||{};if(b&&b[g?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var K=this.options;const le=this.itemHiddenStyle.color;K=g?K.itemStyle.color:le;const he=g&&m.color||le,pe=m.options&&m.options.marker;let F={fill:he};A&&A.css({fill:K}),X&&X.attr({stroke:he}),Y&&(pe&&Y.isMarker&&(F=m.pointAttribs(),g||(F.stroke=F.fill=le)),Y.attr(F))}U(this,"afterColorizeItem",{item:m,visible:g})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(m){const{group:g,x:b=0,y:A=0}=m.legendItem||{};var X=this.options,Y=X.symbolPadding;const K=!X.rtl;X=m.checkbox,g&&g.element&&(Y={translateX:K?b:this.legendWidth-b-2*Y-4,translateY:A},g[S(g.translateY)?"animate":"attr"](Y,void 0,()=>{U(this,"afterPositionItem",{item:m})})),X&&(X.x=b,X.y=A)}destroyItem(m){const g=m.checkbox,b=m.legendItem||{};for(const A of["group","label","line","symbol"])b[A]&&(b[A]=b[A].destroy());g&&P(g),m.legendItem=void 0}destroy(){for(const m of this.getAllItems())this.destroyItem(m);for(const m of"clipRect up down pager nav box title group".split(" "))this[m]&&(this[m]=this[m].destroy());this.display=null}positionCheckboxes(){const m=this.group&&this.group.alignAttr,g=this.clipHeight||this.legendHeight,b=this.titleHeight;let A;m&&(A=m.translateY,this.allItems.forEach(function(X){const Y=X.checkbox;let K;Y&&(K=A+b+Y.y+(this.scrollOffset||0)+3,M(Y,{left:m.translateX+X.checkboxOffset+Y.x-20+"px",top:K+"px",display:this.proximate||K>A-6&&K<A+g-6?"":"none"}))},this))}renderTitle(){var m=this.options;const g=this.padding,b=m.title;let A=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,g-3,g-4,void 0,void 0,void 0,m.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(b.style),this.title.add(this.group)),b.width||this.title.css({width:this.maxLegendWidth+"px"}),m=this.title.getBBox(),A=m.height,this.offsetWidth=m.width,this.contentGroup.attr({translateY:A})),this.titleHeight=A}setText(m){const g=this.options;m.legendItem.label.attr({text:g.labelFormat?z(g.labelFormat,m,this.chart):g.labelFormatter.call(m)})}renderItem(m){const g=m.legendItem=m.legendItem||{};var b=this.chart,A=b.renderer;const X=this.options,Y=this.symbolWidth,K=X.symbolPadding||0,le=this.itemStyle,he=this.itemHiddenStyle,pe=X.layout==="horizontal"?te(X.itemDistance,20):0,F=!X.rtl,Q=!m.series,ce=!Q&&m.series.drawLegendSymbol?m.series:m;var ge=ce.options;const ke=this.createCheckboxForItem&&ge&&ge.showCheckbox,re=X.useHTML,ve=m.options.className;let _e=g.label;ge=Y+K+pe+(ke?20:0),_e||(g.group=A.g("legend-item").addClass("highcharts-"+ce.type+"-series highcharts-color-"+m.colorIndex+(ve?" "+ve:"")+(Q?" highcharts-series-"+m.index:"")).attr({zIndex:1}).add(this.scrollGroup),g.label=_e=A.text("",F?Y+K:-K,this.baseline||0,re),b.styledMode||_e.css(ie(m.visible?le:he)),_e.attr({align:F?"left":"right",zIndex:2}).add(g.group),this.baseline||(this.fontMetrics=A.fontMetrics(_e),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_e.attr("y",this.baseline),this.symbolHeight=te(X.symbolHeight,this.fontMetrics.f),X.squareSymbol&&(this.symbolWidth=te(X.symbolWidth,Math.max(this.symbolHeight,16)),ge=this.symbolWidth+K+pe+(ke?20:0),F&&_e.attr("x",this.symbolWidth+K))),ce.drawLegendSymbol(this,m),this.setItemEvents&&this.setItemEvents(m,_e,re)),ke&&!m.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(m),this.colorizeItem(m,m.visible),!b.styledMode&&le.width||_e.css({width:(X.itemWidth||this.widthOption||b.spacingBox.width)-ge+"px"}),this.setText(m),b=_e.getBBox(),A=this.fontMetrics&&this.fontMetrics.h||0,m.itemWidth=m.checkboxOffset=X.itemWidth||g.labelWidth||b.width+ge,this.maxItemWidth=Math.max(this.maxItemWidth,m.itemWidth),this.totalItemWidth+=m.itemWidth,this.itemHeight=m.itemHeight=Math.round(g.labelHeight||(b.height>1.5*A?b.height:A))}layoutItem(m){var g=this.options;const b=this.padding,A=g.layout==="horizontal",X=m.itemHeight,Y=this.itemMarginBottom,K=this.itemMarginTop,le=A?te(g.itemDistance,20):0,he=this.maxLegendWidth;g=g.alignColumns&&this.totalItemWidth>he?this.maxItemWidth:m.itemWidth;const pe=m.legendItem||{};A&&this.itemX-b+g>he&&(this.itemX=b,this.lastLineHeight&&(this.itemY+=K+this.lastLineHeight+Y),this.lastLineHeight=0),this.lastItemY=K+this.itemY+Y,this.lastLineHeight=Math.max(X,this.lastLineHeight),pe.x=this.itemX,pe.y=this.itemY,A?this.itemX+=g:(this.itemY+=K+X+Y,this.lastLineHeight=X),this.offsetWidth=this.widthOption||Math.max((A?this.itemX-b-(m.checkbox?0:le):g)+b,this.offsetWidth)}getAllItems(){let m=[];return this.chart.series.forEach(function(g){const b=g&&g.options;g&&te(b.showInLegend,S(b.linkedTo)?!1:void 0,!0)&&(m=m.concat((g.legendItem||{}).labels||(b.legendType==="point"?g.data:g)))}),U(this,"afterGetAllItems",{allItems:m}),m}getAlignment(){const m=this.options;return this.proximate?m.align.charAt(0)+"tv":m.floating?"":m.align.charAt(0)+m.verticalAlign.charAt(0)+m.layout.charAt(0)}adjustMargins(m,g){const b=this.chart,A=this.options,X=this.getAlignment();X&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(Y,K){Y.test(X)&&!S(m[K])&&(b[q[K]]=Math.max(b[q[K]],b.legend[(K+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][K]*A[K%2?"x":"y"]+te(A.margin,12)+g[K]+(b.titleOffset[K]||0)))})}proximatePositions(){const m=this.chart,g=[],b=this.options.align==="left";this.allItems.forEach(function(X){var Y,K=b;let le;X.yAxis&&(X.xAxis.options.reversed&&(K=!K),X.points&&(Y=H(K?X.points:X.points.slice(0).reverse(),function(he){return E(he.plotY)})),K=this.itemMarginTop+X.legendItem.label.getBBox().height+this.itemMarginBottom,le=X.yAxis.top-m.plotTop,X.visible?(Y=Y?Y.plotY:X.yAxis.height,Y+=le-.3*K):Y=le+X.yAxis.height,g.push({target:Y,size:K,item:X}))},this);let A;for(const X of L(g,m.plotHeight))A=X.item.legendItem||{},E(X.pos)&&(A.y=m.plotTop-m.spacing[0]+X.pos)}render(){const m=this.chart,g=m.renderer,b=this.options,A=this.padding;var X=this.getAllItems();let Y,K=this.group,le=this.box;this.itemX=A,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=$(b.width,m.spacingBox.width-A);var he=m.spacingBox.width-2*A-b.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(he/=2),this.maxLegendWidth=this.widthOption||he,K||(this.group=K=g.g("legend").addClass(b.className||"").attr({zIndex:7}).add(),this.contentGroup=g.g().attr({zIndex:1}).add(K),this.scrollGroup=g.g().add(this.contentGroup)),this.renderTitle(),V(X,(pe,F)=>(pe.options&&pe.options.legendIndex||0)-(F.options&&F.options.legendIndex||0)),b.reversed&&X.reverse(),this.allItems=X,this.display=he=!!X.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,X.forEach(this.renderItem,this),X.forEach(this.layoutItem,this),X=(this.widthOption||this.offsetWidth)+A,Y=this.lastItemY+this.lastLineHeight+this.titleHeight,Y=this.handleOverflow(Y),Y+=A,le||(this.box=le=g.rect().addClass("highcharts-legend-box").attr({r:b.borderRadius}).add(K)),m.styledMode||le.attr({stroke:b.borderColor,"stroke-width":b.borderWidth||0,fill:b.backgroundColor||"none"}).shadow(b.shadow),0<X&&0<Y&&le[le.placed?"animate":"attr"](le.crisp.call({},{x:0,y:0,width:X,height:Y},le.strokeWidth())),K[he?"show":"hide"](),m.styledMode&&K.getStyle("display")==="none"&&(X=Y=0),this.legendWidth=X,this.legendHeight=Y,he&&this.align(),this.proximate||this.positionItems(),U(this,"afterRender")}align(m=this.chart.spacingBox){const g=this.chart,b=this.options;let A=m.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<g.titleOffset[0]?A+=g.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<g.titleOffset[2]&&(A-=g.titleOffset[2]),A!==m.y&&(m=ie(m,{y:A})),g.hasRendered||(this.group.placed=!1),this.group.align(ie(b,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":b.verticalAlign}),!0,m)}handleOverflow(m){const g=this,b=this.chart,A=b.renderer,X=this.options;var Y=X.y;const K=X.verticalAlign==="top",le=this.padding,he=X.maxHeight,pe=X.navigation,F=te(pe.animation,!0),Q=pe.arrowSize||12,ce=this.pages,ge=this.allItems,ke=function(Re){typeof Re=="number"?Se.attr({height:Re}):Se&&(g.clipRect=Se.destroy(),g.contentGroup.clip()),g.contentGroup.div&&(g.contentGroup.div.style.clip=Re?"rect("+le+"px,9999px,"+(le+Re)+"px,0)":"auto")},re=function(Re){return g[Re]=A.circle(0,0,1.3*Q).translate(Q/2,Q/2).add(ye),b.styledMode||g[Re].attr("fill","rgba(0,0,0,0.0001)"),g[Re]};let ve,_e,oe;Y=b.spacingBox.height+(K?-Y:Y)-le;let ye=this.nav,Se=this.clipRect;return X.layout!=="horizontal"||X.verticalAlign==="middle"||X.floating||(Y/=2),he&&(Y=Math.min(Y,he)),ce.length=0,m&&0<Y&&m>Y&&pe.enabled!==!1?(this.clipHeight=ve=Math.max(Y-20-this.titleHeight-le,0),this.currentPage=te(this.currentPage,1),this.fullHeight=m,ge.forEach((Re,Oe)=>{oe=Re.legendItem||{},Re=oe.y||0;const Ue=Math.round(oe.label.getBBox().height);let st=ce.length;(!st||Re-ce[st-1]>ve&&(_e||Re)!==ce[st-1])&&(ce.push(_e||Re),st++),oe.pageIx=st-1,_e&&((ge[Oe-1].legendItem||{}).pageIx=st-1),Oe===ge.length-1&&Re+Ue-ce[st-1]>ve&&Re>ce[st-1]&&(ce.push(Re),oe.pageIx=st),Re!==_e&&(_e=Re)}),Se||(Se=g.clipRect=A.clipRect(0,le-2,9999,0),g.contentGroup.clip(Se)),ke(ve),ye||(this.nav=ye=A.g().attr({zIndex:1}).add(this.group),this.up=A.symbol("triangle",0,0,Q,Q).add(ye),re("upTracker").on("click",function(){g.scroll(-1,F)}),this.pager=A.text("",15,10).addClass("highcharts-legend-navigation"),!b.styledMode&&pe.style&&this.pager.css(pe.style),this.pager.add(ye),this.down=A.symbol("triangle-down",0,0,Q,Q).add(ye),re("downTracker").on("click",function(){g.scroll(1,F)})),g.scroll(0),m=Y):ye&&(ke(),this.nav=ye.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),m}scroll(m,g){const b=this.chart,A=this.pages,X=A.length,Y=this.clipHeight,K=this.options.navigation,le=this.pager,he=this.padding;let pe=this.currentPage+m;pe>X&&(pe=X),0<pe&&(typeof g<"u"&&k(g,b),this.nav.attr({translateX:he,translateY:Y+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(F){F.attr({class:pe===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),le.attr({text:pe+"/"+X}),[this.down,this.downTracker].forEach(function(F){F.attr({x:18+this.pager.getBBox().width,class:pe===X?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),b.styledMode||(this.up.attr({fill:pe===1?K.inactiveColor:K.activeColor}),this.upTracker.css({cursor:pe===1?"default":"pointer"}),this.down.attr({fill:pe===X?K.inactiveColor:K.activeColor}),this.downTracker.css({cursor:pe===X?"default":"pointer"})),this.scrollOffset=-A[pe-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=pe,this.positionCheckboxes(),m=J(te(g,b.renderer.globalAnimation,!0)),j(()=>{U(this,"afterScroll",{currentPage:pe})},m.duration))}setItemEvents(m,g,b){const A=this,X=m.legendItem||{},Y=A.chart.renderer.boxWrapper,K=m instanceof s,le="highcharts-legend-"+(K?"point":"series")+"-active",he=A.chart.styledMode;b=b?[g,X.symbol]:[X.group];const pe=F=>{A.allItems.forEach(Q=>{m!==Q&&[Q].concat(Q.linkedSeries||[]).forEach(ce=>{ce.setState(F,!K)})})};for(const F of b)F&&F.on("mouseover",function(){m.visible&&pe("inactive"),m.setState("hover"),m.visible&&Y.addClass(le),he||g.css(A.options.itemHoverStyle)}).on("mouseout",function(){A.chart.styledMode||g.css(ie(m.visible?A.itemStyle:A.itemHiddenStyle)),pe(""),Y.removeClass(le),m.setState()}).on("click",function(Q){const ce=function(){m.setVisible&&m.setVisible(),pe(m.visible?"inactive":"")};Y.removeClass(le),Q={browserEvent:Q},m.firePointEvent?m.firePointEvent("legendItemClick",Q,ce):U(m,"legendItemClick",Q,ce)})}createCheckboxForItem(m){m.checkbox=G("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:m.selected,defaultChecked:m.selected},this.options.itemCheckboxStyle,this.chart.container),O(m.checkbox,"click",function(g){U(m.series||m,"checkboxClick",{checked:g.target.checked,item:m},function(){m.select()})})}}return function(I){const m=[];I.compose=function(g){R.pushUnique(m,g)&&O(g,"beforeMargins",function(){this.legend=new I(this,this.options.legend)})}}(w||(w={})),w}),n(r,"Core/Series/SeriesRegistry.js",[r["Core/Globals.js"],r["Core/Defaults.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(o,d,h,s){const{defaultOptions:v}=d,{extendClass:R,merge:J}=s;var k;return function(z){function q(L,O){const G=v.plotOptions||{},M=O.defaultOptions,S=O.prototype;S.type=L,S.pointClass||(S.pointClass=h),M&&(G[L]=M),z.seriesTypes[L]=O}z.seriesTypes=o.seriesTypes,z.registerSeriesType=q,z.seriesType=function(L,O,G,M,S){const P=v.plotOptions||{};return O=O||"",P[L]=J(P[O],G),q(L,R(z.seriesTypes[O]||function(){},M)),z.seriesTypes[L].prototype.type=L,S&&(z.seriesTypes[L].prototype.pointClass=R(h,S)),z.seriesTypes[L]}}(k||(k={})),k}),n(r,"Core/Chart/Chart.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Time.js"],r["Core/Utilities.js"],r["Core/Renderer/HTML/AST.js"]],function(o,d,h,s,v,R,J,k,z,q,L,O){const{animate:G,animObject:M,setAnimation:S}=o,{defaultOptions:P,defaultTime:H}=h,{numberFormat:U}=s,{registerEventOptions:E}=v,{charts:ie,doc:te,marginNames:$,svg:V,win:j}=R,{seriesTypes:w}=k,{addEvent:I,attr:m,cleanRecursively:g,createElement:b,css:A,defined:X,discardElement:Y,erase:K,error:le,extend:he,find:pe,fireEvent:F,getStyle:Q,isArray:ce,isNumber:ge,isObject:ke,isString:re,merge:ve,objectEach:_e,pick:oe,pInt:ye,relativeLength:Se,removeEvent:Re,splat:Oe,syncTimeout:Ue,uniqueKey:st}=L;class Qe{static chart(xe,Ie,Be){return new Qe(xe,Ie,Be)}constructor(xe,Ie,Be){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(xe,Ie,Be)}getArgs(xe,Ie,Be){re(xe)||xe.nodeName?(this.renderTo=xe,this.init(Ie,Be)):this.init(xe,Ie)}init(xe,Ie){const Be=xe.plotOptions||{};F(this,"init",{args:arguments},function(){const Xe=ve(P,xe),Ke=Xe.chart;_e(Xe.plotOptions,function(Tt,Lt){ke(Tt)&&(Tt.tooltip=Be[Lt]&&ve(Be[Lt].tooltip)||void 0)}),Xe.tooltip.userOptions=xe.chart&&xe.chart.forExport&&xe.tooltip.userOptions||xe.tooltip,this.userOptions=xe,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Ie,this.isResizing=0;const pt=Ke.zooming=Ke.zooming||{};xe.chart&&!xe.chart.zooming&&(pt.resetButton=Ke.resetZoomButton),pt.key=oe(pt.key,Ke.zoomKey),pt.pinchType=oe(pt.pinchType,Ke.pinchType),pt.singleTouch=oe(pt.singleTouch,Ke.zoomBySingleTouch),pt.type=oe(pt.type,Ke.zoomType),this.options=Xe,this.axes=[],this.series=[],this.time=xe.time&&Object.keys(xe.time).length?new q(xe.time):R.time,this.numberFormatter=Ke.numberFormatter||U,this.styledMode=Ke.styledMode,this.hasCartesianSeries=Ke.showAxes,this.index=ie.length,ie.push(this),R.chartCount++,E(this,Ke),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,F(this,"afterInit"),this.firstRender()})}initSeries(xe){var Ie=this.options.chart;Ie=xe.type||Ie.type;const Be=w[Ie];return Be||le(17,!0,this,{missingModuleFor:Ie}),Ie=new Be,typeof Ie.init=="function"&&Ie.init(this,xe),Ie}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(xe){xe.points||xe.data||!xe.enabledDataSorting||xe.setData(xe.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(xe,Ie){return xe.linkedSeries.length||Ie.linkedSeries.length?Ie.linkedSeries.length-xe.linkedSeries.length:0})}orderSeries(xe){const Ie=this.series;for(let Be=xe||0,Xe=Ie.length;Be<Xe;++Be)Ie[Be]&&(Ie[Be].index=Be,Ie[Be].name=Ie[Be].getName())}isInsidePlot(xe,Ie,Be={}){const{inverted:Xe,plotBox:Ke,plotLeft:pt,plotTop:Tt,scrollablePlotBox:Lt}=this;var gi=0;let Wt=0;Be.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:gi,scrollTop:Wt}=this.scrollingContainer);const pi=Be.series,Gi=Be.visiblePlotOnly&&Lt||Ke;var ht=Be.inverted?Ie:xe;if(Ie=Be.inverted?xe:Ie,xe={x:ht,y:Ie,isInsidePlot:!0,options:Be},!Be.ignoreX){const It=pi&&(Xe&&!this.polar?pi.yAxis:pi.xAxis)||{pos:pt,len:1/0};ht=Be.paneCoordinates?It.pos+ht:pt+ht,ht>=Math.max(gi+pt,It.pos)&&ht<=Math.min(gi+pt+Gi.width,It.pos+It.len)||(xe.isInsidePlot=!1)}return!Be.ignoreY&&xe.isInsidePlot&&(gi=!Xe&&Be.axis&&!Be.axis.isXAxis&&Be.axis||pi&&(Xe?pi.xAxis:pi.yAxis)||{pos:Tt,len:1/0},Be=Be.paneCoordinates?gi.pos+Ie:Tt+Ie,Be>=Math.max(Wt+Tt,gi.pos)&&Be<=Math.min(Wt+Tt+Gi.height,gi.pos+gi.len)||(xe.isInsidePlot=!1)),F(this,"afterIsInsidePlot",xe),xe.isInsidePlot}redraw(xe){F(this,"beforeRedraw");const Ie=this.hasCartesianSeries?this.axes:this.colorAxis||[],Be=this.series,Xe=this.pointer,Ke=this.legend,pt=this.userOptions.legend,Tt=this.renderer,Lt=Tt.isHidden(),gi=[];let Wt,pi,Gi=this.isDirtyBox,ht=this.isDirtyLegend,It;for(Tt.rootFontSize=Tt.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),S(this.hasRendered?xe:!1,this),Lt&&this.temporaryDisplay(),this.layOutTitles(),xe=Be.length;xe--;)if(It=Be[xe],(It.options.stacking||It.options.centerInCategory)&&(pi=!0,It.isDirty)){Wt=!0;break}if(Wt)for(xe=Be.length;xe--;)It=Be[xe],It.options.stacking&&(It.isDirty=!0);Be.forEach(function(ei){ei.isDirty&&(ei.options.legendType==="point"?(typeof ei.updateTotals=="function"&&ei.updateTotals(),ht=!0):pt&&(pt.labelFormatter||pt.labelFormat)&&(ht=!0)),ei.isDirtyData&&F(ei,"updatedData")}),ht&&Ke&&Ke.options.enabled&&(Ke.render(),this.isDirtyLegend=!1),pi&&this.getStacks(),Ie.forEach(function(ei){ei.updateNames(),ei.setScale()}),this.getMargins(),Ie.forEach(function(ei){ei.isDirty&&(Gi=!0)}),Ie.forEach(function(ei){const Pi=ei.min+","+ei.max;ei.extKey!==Pi&&(ei.extKey=Pi,gi.push(function(){F(ei,"afterSetExtremes",he(ei.eventArgs,ei.getExtremes())),delete ei.eventArgs})),(Gi||pi)&&ei.redraw()}),Gi&&this.drawChartBox(),F(this,"predraw"),Be.forEach(function(ei){(Gi||ei.isDirty)&&ei.visible&&ei.redraw(),ei.isDirtyData=!1}),Xe&&Xe.reset(!0),Tt.draw(),F(this,"redraw"),F(this,"render"),Lt&&this.temporaryDisplay(!0),gi.forEach(function(ei){ei.call()})}get(xe){function Ie(Ke){return Ke.id===xe||Ke.options&&Ke.options.id===xe}const Be=this.series;let Xe=pe(this.axes,Ie)||pe(this.series,Ie);for(let Ke=0;!Xe&&Ke<Be.length;Ke++)Xe=pe(Be[Ke].points||[],Ie);return Xe}getAxes(){const xe=this;var Ie=this.options;const Be=Ie.xAxis=Oe(Ie.xAxis||{});Ie=Ie.yAxis=Oe(Ie.yAxis||{}),F(this,"getAxes"),Be.forEach(function(Xe,Ke){Xe.index=Ke,Xe.isX=!0}),Ie.forEach(function(Xe,Ke){Xe.index=Ke}),Be.concat(Ie).forEach(function(Xe){new d(xe,Xe)}),F(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((xe,Ie)=>(Ie.getPointsCollection().forEach(Be=>{oe(Be.selectedStaging,Be.selected)&&xe.push(Be)}),xe),[])}getSelectedSeries(){return this.series.filter(function(xe){return xe.selected})}setTitle(xe,Ie,Be){this.applyDescription("title",xe),this.applyDescription("subtitle",Ie),this.applyDescription("caption",void 0),this.layOutTitles(Be)}applyDescription(xe,Ie){const Be=this;var Xe=xe==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};Xe=this.options[xe]=ve(!this.styledMode&&{style:Xe},this.options[xe],Ie);let Ke=this[xe];Ke&&Ie&&(this[xe]=Ke=Ke.destroy()),Xe&&!Ke&&(Ke=this.renderer.text(Xe.text,0,0,Xe.useHTML).attr({align:Xe.align,class:"highcharts-"+xe,zIndex:Xe.zIndex||4}).add(),Ke.update=function(pt){Be[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[xe]](pt)},this.styledMode||Ke.css(Xe.style),this[xe]=Ke)}layOutTitles(xe){const Ie=[0,0,0],Be=this.renderer,Xe=this.spacingBox;["title","subtitle","caption"].forEach(function(pt){const Tt=this[pt],Lt=this.options[pt],gi=Lt.verticalAlign||"top";if(pt=pt==="title"?gi==="top"?-3:0:gi==="top"?Ie[0]+2:0,Tt){Tt.css({width:(Lt.width||Xe.width+(Lt.widthAdjust||0))+"px"});const Wt=Be.fontMetrics(Tt).b,pi=Math.round(Tt.getBBox(Lt.useHTML).height);Tt.align(he({y:gi==="bottom"?Wt:pt+Wt,height:pi},Lt),!1,"spacingBox"),Lt.floating||(gi==="top"?Ie[0]=Math.ceil(Ie[0]+pi):gi==="bottom"&&(Ie[2]=Math.ceil(Ie[2]+pi)))}},this),Ie[0]&&(this.options.title.verticalAlign||"top")==="top"&&(Ie[0]+=this.options.title.margin),Ie[2]&&this.options.caption.verticalAlign==="bottom"&&(Ie[2]+=this.options.caption.margin);const Ke=!this.titleOffset||this.titleOffset.join(",")!==Ie.join(",");this.titleOffset=Ie,F(this,"afterLayOutTitles"),!this.isDirtyBox&&Ke&&(this.isDirtyBox=this.isDirtyLegend=Ke,this.hasRendered&&oe(xe,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:Q(this.renderTo,"width",!0)||0,height:Q(this.renderTo,"height",!0)||0}}getChartSize(){var xe=this.options.chart;const Ie=xe.width;xe=xe.height;const Be=this.getContainerBox();this.chartWidth=Math.max(0,Ie||Be.width||600),this.chartHeight=Math.max(0,Se(xe,this.chartWidth)||(1<Be.height?Be.height:400)),this.containerBox=Be}temporaryDisplay(xe){let Ie=this.renderTo;if(xe)for(;Ie&&Ie.style;)Ie.hcOrigStyle&&(A(Ie,Ie.hcOrigStyle),delete Ie.hcOrigStyle),Ie.hcOrigDetached&&(te.body.removeChild(Ie),Ie.hcOrigDetached=!1),Ie=Ie.parentNode;else for(;Ie&&Ie.style&&(te.body.contains(Ie)||Ie.parentNode||(Ie.hcOrigDetached=!0,te.body.appendChild(Ie)),(Q(Ie,"display",!1)==="none"||Ie.hcOricDetached)&&(Ie.hcOrigStyle={display:Ie.style.display,height:Ie.style.height,overflow:Ie.style.overflow},xe={display:"block",overflow:"hidden"},Ie!==this.renderTo&&(xe.height=0),A(Ie,xe),Ie.offsetWidth||Ie.style.setProperty("display","block","important")),Ie=Ie.parentNode,Ie!==te.body););}setClassName(xe){this.container.className="highcharts-container "+(xe||"")}getContainer(){const xe=this.options,Ie=xe.chart;var Be=st();let Xe,Ke=this.renderTo;Ke||(this.renderTo=Ke=Ie.renderTo),re(Ke)&&(this.renderTo=Ke=te.getElementById(Ke)),Ke||le(13,!0,this);var pt=ye(m(Ke,"data-highcharts-chart"));ge(pt)&&ie[pt]&&ie[pt].hasRendered&&ie[pt].destroy(),m(Ke,"data-highcharts-chart",this.index),Ke.innerHTML=O.emptyHTML,Ie.skipClone||Ke.offsetWidth||this.temporaryDisplay(),this.getChartSize(),pt=this.chartWidth;const Tt=this.chartHeight;if(A(Ke,{overflow:"hidden"}),this.styledMode||(Xe=he({position:"relative",overflow:"hidden",width:pt+"px",height:Tt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Ie.style||{})),this.container=Be=b("div",{id:Be},Xe,Ke),this._cursor=Be.style.cursor,this.renderer=new(Ie.renderer||!V?J.getRendererType(Ie.renderer):z)(Be,pt,Tt,void 0,Ie.forExport,xe.exporting&&xe.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),S(void 0,this),this.setClassName(Ie.className),this.styledMode)for(const Lt in xe.defs)this.renderer.definition(xe.defs[Lt]);else this.renderer.setStyle(Ie.style);this.renderer.chartIndex=this.index,F(this,"afterGetContainer")}getMargins(xe){const{spacing:Ie,margin:Be,titleOffset:Xe}=this;this.resetMargins(),Xe[0]&&!X(Be[0])&&(this.plotTop=Math.max(this.plotTop,Xe[0]+Ie[0])),Xe[2]&&!X(Be[2])&&(this.marginBottom=Math.max(this.marginBottom,Xe[2]+Ie[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Be,Ie),F(this,"getMargins"),xe||this.getAxisMargins()}getAxisMargins(){const xe=this,Ie=xe.axisOffset=[0,0,0,0],Be=xe.colorAxis,Xe=xe.margin,Ke=function(pt){pt.forEach(function(Tt){Tt.visible&&Tt.getOffset()})};xe.hasCartesianSeries?Ke(xe.axes):Be&&Be.length&&Ke(Be),$.forEach(function(pt,Tt){X(Xe[Tt])||(xe[pt]+=Ie[Tt])}),xe.setChartSize()}reflow(xe){const Ie=this;var Be=Ie.options.chart;Be=X(Be.width)&&X(Be.height);const Xe=Ie.containerBox,Ke=Ie.getContainerBox();delete Ie.pointer.chartPosition,!Be&&!Ie.isPrinting&&Xe&&Ke.width&&((Ke.width!==Xe.width||Ke.height!==Xe.height)&&(L.clearTimeout(Ie.reflowTimeout),Ie.reflowTimeout=Ue(function(){Ie.container&&Ie.setSize(void 0,void 0,!1)},xe?100:0)),Ie.containerBox=Ke)}setReflow(){const xe=this;var Ie=Be=>{var Xe;!((Xe=xe.options)===null||Xe===void 0)&&Xe.chart.reflow&&xe.hasLoaded&&xe.reflow(Be)};typeof ResizeObserver=="function"?new ResizeObserver(Ie).observe(xe.renderTo):(Ie=I(j,"resize",Ie),I(this,"destroy",Ie))}setSize(xe,Ie,Be){const Xe=this,Ke=Xe.renderer;Xe.isResizing+=1,S(Be,Xe),Be=Ke.globalAnimation,Xe.oldChartHeight=Xe.chartHeight,Xe.oldChartWidth=Xe.chartWidth,typeof xe<"u"&&(Xe.options.chart.width=xe),typeof Ie<"u"&&(Xe.options.chart.height=Ie),Xe.getChartSize(),Xe.styledMode||(Be?G:A)(Xe.container,{width:Xe.chartWidth+"px",height:Xe.chartHeight+"px"},Be),Xe.setChartSize(!0),Ke.setSize(Xe.chartWidth,Xe.chartHeight,Be),Xe.axes.forEach(function(pt){pt.isDirty=!0,pt.setScale()}),Xe.isDirtyLegend=!0,Xe.isDirtyBox=!0,Xe.layOutTitles(),Xe.getMargins(),Xe.redraw(Be),Xe.oldChartHeight=null,F(Xe,"resize"),Ue(function(){Xe&&F(Xe,"endResize",null,function(){--Xe.isResizing})},M(Be).duration)}setChartSize(xe){var Ie=this.inverted;const Be=this.renderer;var Xe=this.chartWidth,Ke=this.chartHeight;const pt=this.options.chart,Tt=this.spacing,Lt=this.clipOffset;let gi,Wt,pi,Gi;this.plotLeft=gi=Math.round(this.plotLeft),this.plotTop=Wt=Math.round(this.plotTop),this.plotWidth=pi=Math.max(0,Math.round(Xe-gi-this.marginRight)),this.plotHeight=Gi=Math.max(0,Math.round(Ke-Wt-this.marginBottom)),this.plotSizeX=Ie?Gi:pi,this.plotSizeY=Ie?pi:Gi,this.plotBorderWidth=pt.plotBorderWidth||0,this.spacingBox=Be.spacingBox={x:Tt[3],y:Tt[0],width:Xe-Tt[3]-Tt[1],height:Ke-Tt[0]-Tt[2]},this.plotBox=Be.plotBox={x:gi,y:Wt,width:pi,height:Gi},Ie=2*Math.floor(this.plotBorderWidth/2),Xe=Math.ceil(Math.max(Ie,Lt[3])/2),Ke=Math.ceil(Math.max(Ie,Lt[0])/2),this.clipBox={x:Xe,y:Ke,width:Math.floor(this.plotSizeX-Math.max(Ie,Lt[1])/2-Xe),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Ie,Lt[2])/2-Ke))},xe||(this.axes.forEach(function(ht){ht.setAxisSize(),ht.setAxisTranslation()}),Be.alignElements()),F(this,"afterSetChartSize",{skipAxes:xe})}resetMargins(){F(this,"resetMargins");const xe=this,Ie=xe.options.chart;["margin","spacing"].forEach(function(Be){const Xe=Ie[Be],Ke=ke(Xe)?Xe:[Xe,Xe,Xe,Xe];["Top","Right","Bottom","Left"].forEach(function(pt,Tt){xe[Be][Tt]=oe(Ie[Be+pt],Ke[Tt])})}),$.forEach(function(Be,Xe){xe[Be]=oe(xe.margin[Xe],xe.spacing[Xe])}),xe.axisOffset=[0,0,0,0],xe.clipOffset=[0,0,0,0]}drawChartBox(){const xe=this.options.chart,Ie=this.renderer,Be=this.chartWidth,Xe=this.chartHeight,Ke=this.styledMode,pt=this.plotBGImage;var Tt=xe.backgroundColor;const Lt=xe.plotBackgroundColor,gi=xe.plotBackgroundImage,Wt=this.plotLeft,pi=this.plotTop,Gi=this.plotWidth,ht=this.plotHeight,It=this.plotBox,ei=this.clipRect,Pi=this.clipBox;let an=this.chartBackground,Gn=this.plotBackground,Kr=this.plotBorder,di,$i,Wi="animate";an||(this.chartBackground=an=Ie.rect().addClass("highcharts-background").add(),Wi="attr"),Ke?di=$i=an.strokeWidth():(di=xe.borderWidth||0,$i=di+(xe.shadow?8:0),Tt={fill:Tt||"none"},(di||an["stroke-width"])&&(Tt.stroke=xe.borderColor,Tt["stroke-width"]=di),an.attr(Tt).shadow(xe.shadow)),an[Wi]({x:$i/2,y:$i/2,width:Be-$i-di%2,height:Xe-$i-di%2,r:xe.borderRadius}),Wi="animate",Gn||(Wi="attr",this.plotBackground=Gn=Ie.rect().addClass("highcharts-plot-background").add()),Gn[Wi](It),Ke||(Gn.attr({fill:Lt||"none"}).shadow(xe.plotShadow),gi&&(pt?(gi!==pt.attr("href")&&pt.attr("href",gi),pt.animate(It)):this.plotBGImage=Ie.image(gi,Wt,pi,Gi,ht).add())),ei?ei.animate({width:Pi.width,height:Pi.height}):this.clipRect=Ie.clipRect(Pi),Wi="animate",Kr||(Wi="attr",this.plotBorder=Kr=Ie.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Ke||Kr.attr({stroke:xe.plotBorderColor,"stroke-width":xe.plotBorderWidth||0,fill:"none"}),Kr[Wi](Kr.crisp({x:Wt,y:pi,width:Gi,height:ht},-Kr.strokeWidth())),this.isDirtyBox=!1,F(this,"afterDrawChartBox")}propFromSeries(){const xe=this,Ie=xe.options.chart,Be=xe.options.series;let Xe,Ke,pt;["inverted","angular","polar"].forEach(function(Tt){for(Ke=w[Ie.type],pt=Ie[Tt]||Ke&&Ke.prototype[Tt],Xe=Be&&Be.length;!pt&&Xe--;)(Ke=w[Be[Xe].type])&&Ke.prototype[Tt]&&(pt=!0);xe[Tt]=pt})}linkSeries(xe){const Ie=this,Be=Ie.series;Be.forEach(function(Xe){Xe.linkedSeries.length=0}),Be.forEach(function(Xe){let Ke=Xe.options.linkedTo;re(Ke)&&(Ke=Ke===":previous"?Ie.series[Xe.index-1]:Ie.get(Ke))&&Ke.linkedParent!==Xe&&(Ke.linkedSeries.push(Xe),Xe.linkedParent=Ke,Ke.enabledDataSorting&&Xe.setDataSortingOptions(),Xe.visible=oe(Xe.options.visible,Ke.options.visible,Xe.visible))}),F(this,"afterLinkSeries",{isUpdating:xe})}renderSeries(){this.series.forEach(function(xe){xe.translate(),xe.render()})}render(){const xe=this.axes,Ie=this.colorAxis,Be=this.renderer,Xe=function(Wt){Wt.forEach(function(pi){pi.visible&&pi.render()})};let Ke=0;this.setTitle(),F(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const pt=this.plotWidth;xe.some(function(Wt){if(Wt.horiz&&Wt.visible&&Wt.options.labels.enabled&&Wt.series.length)return Ke=21,!0});const Tt=this.plotHeight=Math.max(this.plotHeight-Ke,0);xe.forEach(function(Wt){Wt.setScale()}),this.getAxisMargins();const Lt=1.1<pt/this.plotWidth,gi=1.05<Tt/this.plotHeight;(Lt||gi)&&(xe.forEach(function(Wt){(Wt.horiz&&Lt||!Wt.horiz&&gi)&&Wt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?Xe(xe):Ie&&Ie.length&&Xe(Ie),this.seriesGroup||(this.seriesGroup=Be.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(xe){const Ie=this,Be=ve(!0,this.options.credits,xe);Be.enabled&&!this.credits&&(this.credits=this.renderer.text(Be.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Be.href&&(j.location.href=Be.href)}).attr({align:Be.position.align,zIndex:8}),Ie.styledMode||this.credits.css(Be.style),this.credits.add().align(Be.position),this.credits.update=function(Xe){Ie.credits=Ie.credits.destroy(),Ie.addCredits(Xe)})}destroy(){const xe=this,Ie=xe.axes,Be=xe.series,Xe=xe.container,Ke=Xe&&Xe.parentNode;let pt;for(F(xe,"destroy"),xe.renderer.forExport?K(ie,xe):ie[xe.index]=void 0,R.chartCount--,xe.renderTo.removeAttribute("data-highcharts-chart"),Re(xe),pt=Ie.length;pt--;)Ie[pt]=Ie[pt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),pt=Be.length;pt--;)Be[pt]=Be[pt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Tt){const Lt=xe[Tt];Lt&&Lt.destroy&&(xe[Tt]=Lt.destroy())}),Xe&&(Xe.innerHTML=O.emptyHTML,Re(Xe),Ke&&Y(Xe)),_e(xe,function(Tt,Lt){delete xe[Lt]})}firstRender(){const xe=this,Ie=xe.options;xe.getContainer(),xe.resetMargins(),xe.setChartSize(),xe.propFromSeries(),xe.getAxes(),(ce(Ie.series)?Ie.series:[]).forEach(function(Be){xe.initSeries(Be)}),xe.linkSeries(),xe.setSeriesData(),F(xe,"beforeRender"),xe.render(),xe.pointer.getChartPosition(),!xe.renderer.imgCount&&!xe.hasLoaded&&xe.onload(),xe.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(xe){xe&&typeof this.index<"u"&&xe.apply(this,[this])},this),F(this,"load"),F(this,"render"),X(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:xe,title:Ie}=this;xe&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Ie&&Ie.element.textContent||"").replace(/</g,"&lt;")}),xe.accessibility&&xe.accessibility.enabled===!1||le('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(xe,Ie,Be){const Xe=this;let Ke;return xe&&(Ie=oe(Ie,!0),F(Xe,"addSeries",{options:xe},function(){Ke=Xe.initSeries(xe),Xe.isDirtyLegend=!0,Xe.linkSeries(),Ke.enabledDataSorting&&Ke.setData(xe.data,!1),F(Xe,"afterAddSeries",{series:Ke}),Ie&&Xe.redraw(Be)})),Ke}addAxis(xe,Ie,Be,Xe){return this.createAxis(Ie?"xAxis":"yAxis",{axis:xe,redraw:Be,animation:Xe})}addColorAxis(xe,Ie,Be){return this.createAxis("colorAxis",{axis:xe,redraw:Ie,animation:Be})}createAxis(xe,Ie){return xe=new d(this,ve(Ie.axis,{index:this[xe].length,isX:xe==="xAxis"})),oe(Ie.redraw,!0)&&this.redraw(Ie.animation),xe}showLoading(xe){const Ie=this,Be=Ie.options,Xe=Be.loading,Ke=function(){pt&&A(pt,{left:Ie.plotLeft+"px",top:Ie.plotTop+"px",width:Ie.plotWidth+"px",height:Ie.plotHeight+"px"})};let pt=Ie.loadingDiv,Tt=Ie.loadingSpan;pt||(Ie.loadingDiv=pt=b("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Ie.container)),Tt||(Ie.loadingSpan=Tt=b("span",{className:"highcharts-loading-inner"},null,pt),I(Ie,"redraw",Ke)),pt.className="highcharts-loading",O.setElementHTML(Tt,oe(xe,Be.lang.loading,"")),Ie.styledMode||(A(pt,he(Xe.style,{zIndex:10})),A(Tt,Xe.labelStyle),Ie.loadingShown||(A(pt,{opacity:0,display:""}),G(pt,{opacity:Xe.style.opacity||.5},{duration:Xe.showDuration||0}))),Ie.loadingShown=!0,Ke()}hideLoading(){const xe=this.options,Ie=this.loadingDiv;Ie&&(Ie.className="highcharts-loading highcharts-loading-hidden",this.styledMode||G(Ie,{opacity:0},{duration:xe.loading.hideDuration||100,complete:function(){A(Ie,{display:"none"})}})),this.loadingShown=!1}update(xe,Ie,Be,Xe){const Ke=this,pt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Tt=xe.isResponsiveOptions,Lt=[];let gi,Wt;F(Ke,"update",{options:xe}),Tt||Ke.setResponsive(!1,!0),xe=g(xe,Ke.options),Ke.userOptions=ve(Ke.userOptions,xe);var pi=xe.chart;if(pi){if(ve(!0,Ke.options.chart,pi),"className"in pi&&Ke.setClassName(pi.className),"inverted"in pi||"polar"in pi||"type"in pi){Ke.propFromSeries();var Gi=!0}"alignTicks"in pi&&(Gi=!0),"events"in pi&&E(this,pi),_e(pi,function(ht,It){Ke.propsRequireUpdateSeries.indexOf("chart."+It)!==-1&&(gi=!0),Ke.propsRequireDirtyBox.indexOf(It)!==-1&&(Ke.isDirtyBox=!0),Ke.propsRequireReflow.indexOf(It)!==-1&&(Tt?Ke.isDirtyBox=!0:Wt=!0)}),!Ke.styledMode&&pi.style&&Ke.renderer.setStyle(Ke.options.chart.style||{})}!Ke.styledMode&&xe.colors&&(this.options.colors=xe.colors),xe.time&&(this.time===H&&(this.time=new q(xe.time)),ve(!0,Ke.options.time,xe.time)),_e(xe,function(ht,It){Ke[It]&&typeof Ke[It].update=="function"?Ke[It].update(ht,!1):typeof Ke[pt[It]]=="function"?Ke[pt[It]](ht):It!=="colors"&&Ke.collectionsWithUpdate.indexOf(It)===-1&&ve(!0,Ke.options[It],xe[It]),It!=="chart"&&Ke.propsRequireUpdateSeries.indexOf(It)!==-1&&(gi=!0)}),this.collectionsWithUpdate.forEach(function(ht){let It;xe[ht]&&(It=[],Ke[ht].forEach(function(ei,Pi){ei.options.isInternal||It.push(oe(ei.options.index,Pi))}),Oe(xe[ht]).forEach(function(ei,Pi){const an=X(ei.id);let Gn;an&&(Gn=Ke.get(ei.id)),!Gn&&Ke[ht]&&(Gn=Ke[ht][It?It[Pi]:Pi])&&an&&X(Gn.options.id)&&(Gn=void 0),Gn&&Gn.coll===ht&&(Gn.update(ei,!1),Be&&(Gn.touched=!0)),!Gn&&Be&&Ke.collectionsWithInit[ht]&&(Ke.collectionsWithInit[ht][0].apply(Ke,[ei].concat(Ke.collectionsWithInit[ht][1]||[]).concat([!1])).touched=!0)}),Be&&Ke[ht].forEach(function(ei){ei.touched||ei.options.isInternal?delete ei.touched:Lt.push(ei)}))}),Lt.forEach(function(ht){ht.chart&&ht.remove&&ht.remove(!1)}),Gi&&Ke.axes.forEach(function(ht){ht.update({},!1)}),gi&&Ke.getSeriesOrderByLinks().forEach(function(ht){ht.chart&&ht.update({},!1)},this),Gi=pi&&pi.width,pi=pi&&(re(pi.height)?Se(pi.height,Gi||Ke.chartWidth):pi.height),Wt||ge(Gi)&&Gi!==Ke.chartWidth||ge(pi)&&pi!==Ke.chartHeight?Ke.setSize(Gi,pi,Xe):oe(Ie,!0)&&Ke.redraw(Xe),F(Ke,"afterUpdate",{options:xe,redraw:Ie,animation:Xe})}setSubtitle(xe,Ie){this.applyDescription("subtitle",xe),this.layOutTitles(Ie)}setCaption(xe,Ie){this.applyDescription("caption",xe),this.layOutTitles(Ie)}showResetZoom(){function xe(){Ie.zoomOut()}const Ie=this,Be=P.lang,Xe=Ie.options.chart.zooming.resetButton,Ke=Xe.theme,pt=Xe.relativeTo==="chart"||Xe.relativeTo==="spacingBox"?null:"scrollablePlotBox";F(this,"beforeShowResetZoom",null,function(){Ie.resetZoomButton=Ie.renderer.button(Be.resetZoom,null,null,xe,Ke).attr({align:Xe.position.align,title:Be.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Xe.position,!1,pt)}),F(this,"afterShowResetZoom")}zoomOut(){F(this,"selection",{resetSelection:!0},this.zoom)}zoom(xe){const Ie=this,Be=Ie.pointer;let Xe=!1,Ke;!xe||xe.resetSelection?(Ie.axes.forEach(function(Tt){Ke=Tt.zoom()}),Be.initiated=!1):xe.xAxis.concat(xe.yAxis).forEach(function(Tt){const Lt=Tt.axis;(Be[Lt.isXAxis?"zoomX":"zoomY"]&&X(Be.mouseDownX)&&X(Be.mouseDownY)&&Ie.isInsidePlot(Be.mouseDownX-Ie.plotLeft,Be.mouseDownY-Ie.plotTop,{axis:Lt})||!X(Ie.inverted?Be.mouseDownX:Be.mouseDownY))&&(Ke=Lt.zoom(Tt.min,Tt.max),Lt.displayBtn&&(Xe=!0))});const pt=Ie.resetZoomButton;Xe&&!pt?Ie.showResetZoom():!Xe&&ke(pt)&&(Ie.resetZoomButton=pt.destroy()),Ke&&Ie.redraw(oe(Ie.options.chart.animation,xe&&xe.animation,100>Ie.pointCount))}pan(xe,Ie){const Be=this,Xe=Be.hoverPoints;Ie=typeof Ie=="object"?Ie:{enabled:Ie,type:"x"};const Ke=Be.options.chart;Ke&&Ke.panning&&(Ke.panning=Ie);const pt=Ie.type;let Tt;F(this,"pan",{originalEvent:xe},function(){Xe&&Xe.forEach(function(Wt){Wt.setState()});let Lt=Be.xAxis;pt==="xy"?Lt=Lt.concat(Be.yAxis):pt==="y"&&(Lt=Be.yAxis);const gi={};Lt.forEach(function(Wt){if(Wt.options.panningEnabled&&!Wt.options.isInternal){var pi=Wt.horiz,Gi=xe[pi?"chartX":"chartY"];pi=pi?"mouseDownX":"mouseDownY";var ht=Be[pi],It=Wt.minPointOffset||0,ei=Wt.reversed&&!Be.inverted||!Wt.reversed&&Be.inverted?-1:1,Pi=Wt.getExtremes(),an=Wt.toValue(ht-Gi,!0)+It*ei,Gn=Wt.toValue(ht+Wt.len-Gi,!0)-(It*ei||Wt.isXAxis&&Wt.pointRangePadding||0),Kr=Gn<an;ei=Wt.hasVerticalPanning(),ht=Kr?Gn:an,an=Kr?an:Gn;var di=Wt.panningState;!ei||Wt.isXAxis||di&&!di.isDirty||Wt.series.forEach(function($i){var Wi=$i.getProcessedData(!0);Wi=$i.getExtremes(Wi.yData,!0),di||(di={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),ge(Wi.dataMin)&&ge(Wi.dataMax)&&(di.startMin=Math.min(oe($i.options.threshold,1/0),Wi.dataMin,di.startMin),di.startMax=Math.max(oe($i.options.threshold,-1/0),Wi.dataMax,di.startMax))}),ei=Math.min(oe(di&&di.startMin,Pi.dataMin),It?Pi.min:Wt.toValue(Wt.toPixels(Pi.min)-Wt.minPixelPadding)),Gn=Math.max(oe(di&&di.startMax,Pi.dataMax),It?Pi.max:Wt.toValue(Wt.toPixels(Pi.max)+Wt.minPixelPadding)),Wt.panningState=di,Wt.isOrdinal||(It=ei-ht,0<It&&(an+=It,ht=ei),It=an-Gn,0<It&&(an=Gn,ht-=It),Wt.series.length&&ht!==Pi.min&&an!==Pi.max&&ht>=ei&&an<=Gn&&(Wt.setExtremes(ht,an,!1,!1,{trigger:"pan"}),!Be.resetZoomButton&&ht!==ei&&an!==Gn&&pt.match("y")&&(Be.showResetZoom(),Wt.displayBtn=!1),Tt=!0),gi[pi]=Gi)}}),_e(gi,(Wt,pi)=>{Be[pi]=Wt}),Tt&&Be.redraw(!1),A(Be.container,{cursor:"move"})})}}return he(Qe.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Qe.prototype.addAxis,[!0]],yAxis:[Qe.prototype.addAxis,[!1]],series:[Qe.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Qe}),n(r,"Core/Legend/LegendSymbol.js",[r["Core/Utilities.js"]],function(o){const{extend:d,merge:h,pick:s}=o;var v;return function(R){R.lineMarker=function(J,k){k=this.legendItem=this.legendItem||{};var z=this.options;const q=J.symbolWidth,L=J.symbolHeight,O=L/2,G=this.chart.renderer,M=k.group;J=J.baseline-Math.round(.3*J.fontMetrics.b);let S={},P=z.marker,H=0;this.chart.styledMode||(S={"stroke-width":Math.min(z.lineWidth||0,24)},z.dashStyle?S.dashstyle=z.dashStyle:z.linecap!=="square"&&(S["stroke-linecap"]="round")),k.line=G.path().addClass("highcharts-graph").attr(S).add(M),S["stroke-linecap"]&&(H=Math.min(k.line.strokeWidth(),q)/2),q&&k.line.attr({d:[["M",H,J],["L",q-H,J]]}),P&&P.enabled!==!1&&q&&(z=Math.min(s(P.radius,O),O),this.symbol.indexOf("url")===0&&(P=h(P,{width:L,height:L}),z=0),k.symbol=k=G.symbol(this.symbol,q/2-z,J-z,2*z,2*z,d({context:"legend"},P)).addClass("highcharts-point").add(M),k.isMarker=!0)},R.rectangle=function(J,k){k=k.legendItem||{};const z=J.symbolHeight,q=J.options.squareSymbol;k.symbol=this.chart.renderer.rect(q?(J.symbolWidth-z)/2:0,J.baseline-z+1,q?z:J.symbolWidth,z,s(J.options.symbolRadius,z/2)).addClass("highcharts-point").attr({zIndex:3}).add(k.group)}}(v||(v={})),v}),n(r,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:o}=this.series.chart;return typeof this.y!="number"?"":o(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),n(r,"Core/Series/Series.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/Point.js"],r["Core/Series/SeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R,J,k,z,q){const{animObject:L,setAnimation:O}=o,{defaultOptions:G}=d,{registerEventOptions:M}=h,{hasTouch:S,svg:P,win:H}=s,{seriesTypes:U}=k,{arrayMax:E,arrayMin:ie,clamp:te,cleanRecursively:$,correctFloat:V,defined:j,erase:w,error:I,extend:m,find:g,fireEvent:b,getNestedProperty:A,isArray:X,isNumber:Y,isString:K,merge:le,objectEach:he,pick:pe,removeEvent:F,splat:Q,syncTimeout:ce}=q;class ge{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(re,ve){b(this,"init",{options:ve});const _e=this,oe=re.series;this.eventsToUnbind=[],_e.chart=re,_e.options=_e.setOptions(ve),ve=_e.options,_e.linkedSeries=[],_e.bindAxes(),m(_e,{name:ve.name,state:"",visible:ve.visible!==!1,selected:ve.selected===!0}),M(this,ve);const ye=ve.events;(ye&&ye.click||ve.point&&ve.point.events&&ve.point.events.click||ve.allowPointSelect)&&(re.runTrackerClick=!0),_e.getColor(),_e.getSymbol(),_e.parallelArrays.forEach(function(Re){_e[Re+"Data"]||(_e[Re+"Data"]=[])}),_e.isCartesian&&(re.hasCartesianSeries=!0);let Se;oe.length&&(Se=oe[oe.length-1]),_e._i=pe(Se&&Se._i,-1)+1,_e.opacity=_e.options.opacity,re.orderSeries(this.insert(oe)),ve.dataSorting&&ve.dataSorting.enabled?_e.setDataSortingOptions():_e.points||_e.data||_e.setData(ve.data,!1),b(this,"afterInit")}is(re){return U[re]&&this instanceof U[re]}insert(re){const ve=this.options.index;let _e;if(Y(ve)){for(_e=re.length;_e--;)if(ve>=pe(re[_e].options.index,re[_e]._i)){re.splice(_e+1,0,this);break}_e===-1&&re.unshift(this),_e+=1}else re.push(this);return pe(_e,re.length-1)}bindAxes(){const re=this,ve=re.options,_e=re.chart;let oe;b(this,"bindAxes",null,function(){(re.axisTypes||[]).forEach(function(ye){let Se=0;_e[ye].forEach(function(Re){oe=Re.options,(ve[ye]===Se&&!oe.isInternal||typeof ve[ye]<"u"&&ve[ye]===oe.id||typeof ve[ye]>"u"&&oe.index===0)&&(re.insert(Re.series),re[ye]=Re,Re.isDirty=!0),oe.isInternal||Se++}),re[ye]||re.optionalAxis===ye||I(18,!0,_e)})}),b(this,"afterBindAxes")}updateParallelArrays(re,ve,_e){const oe=re.series,ye=Y(ve)?function(Se){const Re=Se==="y"&&oe.toYData?oe.toYData(re):re[Se];oe[Se+"Data"][ve]=Re}:function(Se){Array.prototype[ve].apply(oe[Se+"Data"],_e)};oe.parallelArrays.forEach(ye)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(re){var ve=this.options;const _e=ve.pointIntervalUnit,oe=ve.relativeXValue,ye=this.chart.time;let Se=this.xIncrement,Re;return Se=pe(Se,ve.pointStart,0),this.pointInterval=Re=pe(this.pointInterval,ve.pointInterval,1),oe&&Y(re)&&(Re*=re),_e&&(ve=new ye.Date(Se),_e==="day"?ye.set("Date",ve,ye.get("Date",ve)+Re):_e==="month"?ye.set("Month",ve,ye.get("Month",ve)+Re):_e==="year"&&ye.set("FullYear",ve,ye.get("FullYear",ve)+Re),Re=ve.getTime()-Se),oe&&Y(re)?Se+Re:(this.xIncrement=Se+Re,Se)}setDataSortingOptions(){const re=this.options;m(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),j(re.pointRange)||(re.pointRange=1)}setOptions(re){var ve=this.chart,_e=ve.options,oe=_e.plotOptions,ye=ve.userOptions||{};re=le(re),ve=ve.styledMode;const Se={plotOptions:oe,userOptions:re};b(this,"setOptions",Se);const Re=Se.plotOptions[this.type],Oe=ye.plotOptions||{};return this.userOptions=Se.userOptions,ye=le(Re,oe.series,ye.plotOptions&&ye.plotOptions[this.type],re),this.tooltipOptions=le(G.tooltip,G.plotOptions.series&&G.plotOptions.series.tooltip,G.plotOptions[this.type].tooltip,_e.tooltip.userOptions,oe.series&&oe.series.tooltip,oe[this.type].tooltip,re.tooltip),this.stickyTracking=pe(re.stickyTracking,Oe[this.type]&&Oe[this.type].stickyTracking,Oe.series&&Oe.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:ye.stickyTracking),Re.marker===null&&delete ye.marker,this.zoneAxis=ye.zoneAxis,oe=this.zones=(ye.zones||[]).slice(),!ye.negativeColor&&!ye.negativeFillColor||ye.zones||(_e={value:ye[this.zoneAxis+"Threshold"]||ye.threshold||0,className:"highcharts-negative"},ve||(_e.color=ye.negativeColor,_e.fillColor=ye.negativeFillColor),oe.push(_e)),oe.length&&j(oe[oe.length-1].value)&&oe.push(ve?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:ye}),ye}getName(){return pe(this.options.name,"Series "+(this.index+1))}getCyclic(re,ve,_e){const oe=this.chart,ye=this.userOptions,Se=re+"Index",Re=re+"Counter",Oe=_e?_e.length:pe(oe.options.chart[re+"Count"],oe[re+"Count"]);if(!ve){var Ue=pe(ye[Se],ye["_"+Se]);j(Ue)||(oe.series.length||(oe[Re]=0),ye["_"+Se]=Ue=oe[Re]%Oe,oe[Re]+=1),_e&&(ve=_e[Ue])}typeof Ue<"u"&&(this[Se]=Ue),this[re]=ve}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||G.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(re,ve){const _e=re.id,oe=re.x,ye=this.points;var Se=this.options.dataSorting,Re;let Oe,Ue;if(_e)Se=this.chart.get(_e),Se instanceof R&&(Re=Se);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Re=st=>!st.touched&&st.index===re.index,Se&&Se.matchByName?Re=st=>!st.touched&&st.name===re.name:this.options.relativeXValue&&(Re=st=>!st.touched&&st.options.x===re.x),Re=g(ye,Re),!Re))return;return Re&&(Ue=Re&&Re.index,typeof Ue<"u"&&(Oe=!0)),typeof Ue>"u"&&Y(oe)&&(Ue=this.xData.indexOf(oe,ve)),Ue!==-1&&typeof Ue<"u"&&this.cropped&&(Ue=Ue>=this.cropStart?Ue-this.cropStart:Ue),!Oe&&Y(Ue)&&ye[Ue]&&ye[Ue].touched&&(Ue=void 0),Ue}updateData(re,ve){const _e=this.options,oe=_e.dataSorting,ye=this.points,Se=[],Re=this.requireSorting,Oe=re.length===ye.length;let Ue,st,Qe,qe=!0;if(this.xIncrement=null,re.forEach(function(xe,Ie){var Be=j(xe)&&this.pointClass.prototype.optionsToObject.call({series:this},xe)||{};const Xe=Be.x;Be.id||Y(Xe)?(Be=this.findPointIndex(Be,Qe),Be===-1||typeof Be>"u"?Se.push(xe):ye[Be]&&xe!==_e.data[Be]?(ye[Be].update(xe,!1,null,!1),ye[Be].touched=!0,Re&&(Qe=Be+1)):ye[Be]&&(ye[Be].touched=!0),(!Oe||Ie!==Be||oe&&oe.enabled||this.hasDerivedData)&&(Ue=!0)):Se.push(xe)},this),Ue)for(re=ye.length;re--;)(st=ye[re])&&!st.touched&&st.remove&&st.remove(!1,ve);else!Oe||oe&&oe.enabled?qe=!1:(re.forEach(function(xe,Ie){xe===ye[Ie].y||ye[Ie].destroyed||ye[Ie].update(xe,!1,null,!1)}),Se.length=0);return ye.forEach(function(xe){xe&&(xe.touched=!1)}),qe?(Se.forEach(function(xe){this.addPoint(xe,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=E(this.xData),this.autoIncrement()),!0):!1}setData(re,ve=!0,_e,oe){var ye;const Se=this,Re=Se.points,Oe=Re&&Re.length||0,Ue=Se.options,st=Se.chart,Qe=Ue.dataSorting,qe=Se.xAxis,xe=Ue.turboThreshold,Ie=this.xData,Be=this.yData;var Xe=Se.pointArrayMap;Xe=Xe&&Xe.length;const Ke=Ue.keys;let pt,Tt=0,Lt=1,gi=null;if(!st.options.chart.allowMutatingData){Ue.data&&delete Se.options.data,Se.userOptions.data&&delete Se.userOptions.data;var Wt=le(!0,re)}if(re=Wt||re||[],Wt=re.length,Qe&&Qe.enabled&&(re=this.sortData(re)),st.options.chart.allowMutatingData&&oe!==!1&&Wt&&Oe&&!Se.cropped&&!Se.hasGroupedData&&Se.visible&&!Se.boosted&&(pt=this.updateData(re,_e)),!pt){if(Se.xIncrement=null,Se.colorCounter=0,this.parallelArrays.forEach(function(pi){Se[pi+"Data"].length=0}),xe&&Wt>xe)if(gi=Se.getFirstValidPoint(re),Y(gi))for(_e=0;_e<Wt;_e++)Ie[_e]=this.autoIncrement(),Be[_e]=re[_e];else if(X(gi))if(Xe)if(gi.length===Xe)for(_e=0;_e<Wt;_e++)Ie[_e]=this.autoIncrement(),Be[_e]=re[_e];else for(_e=0;_e<Wt;_e++)oe=re[_e],Ie[_e]=oe[0],Be[_e]=oe.slice(1,Xe+1);else if(Ke&&(Tt=Ke.indexOf("x"),Lt=Ke.indexOf("y"),Tt=0<=Tt?Tt:0,Lt=0<=Lt?Lt:1),gi.length===1&&(Lt=0),Tt===Lt)for(_e=0;_e<Wt;_e++)Ie[_e]=this.autoIncrement(),Be[_e]=re[_e][Lt];else for(_e=0;_e<Wt;_e++)oe=re[_e],Ie[_e]=oe[Tt],Be[_e]=oe[Lt];else I(12,!1,st);else for(_e=0;_e<Wt;_e++)oe={series:Se},Se.pointClass.prototype.applyOptions.apply(oe,[re[_e]]),Se.updateParallelArrays(oe,_e);for(Be&&K(Be[0])&&I(14,!0,st),Se.data=[],Se.options.data=Se.userOptions.data=re,_e=Oe;_e--;)(ye=Re[_e])===null||ye===void 0||ye.destroy();qe&&(qe.minRange=qe.userMinRange),Se.isDirty=st.isDirtyBox=!0,Se.isDirtyData=!!Re,_e=!1}Ue.legendType==="point"&&(this.processData(),this.generatePoints()),ve&&st.redraw(_e)}sortData(re){const ve=this,_e=ve.options.dataSorting.sortKey||"y",oe=function(ye,Se){return j(Se)&&ye.pointClass.prototype.optionsToObject.call({series:ye},Se)||{}};return re.forEach(function(ye,Se){re[Se]=oe(ve,ye),re[Se].index=Se},this),re.concat().sort((ye,Se)=>(ye=A(_e,ye),Se=A(_e,Se),Se<ye?-1:Se>ye?1:0)).forEach(function(ye,Se){ye.x=Se},this),ve.linkedSeries&&ve.linkedSeries.forEach(function(ye){const Se=ye.options,Re=Se.data;Se.dataSorting&&Se.dataSorting.enabled||!Re||(Re.forEach(function(Oe,Ue){Re[Ue]=oe(ye,Oe),re[Ue]&&(Re[Ue].x=re[Ue].x,Re[Ue].index=Ue)}),ye.setData(Re,!1))}),re}getProcessedData(re){var ve=this.xAxis,_e=this.options,oe=_e.cropThreshold;const ye=re||this.getExtremesFromAll||_e.getExtremesFromAll,Se=this.isCartesian;re=ve&&ve.val2lin,_e=!(!ve||!ve.logarithmic);let Re=0,Oe,Ue,st,Qe=this.xData,qe=this.yData,xe=this.requireSorting;var Ie=!1;const Be=Qe.length;if(ve&&(Ie=ve.getExtremes(),Ue=Ie.min,st=Ie.max,Ie=!(!ve.categories||ve.names.length)),Se&&this.sorted&&!ye&&(!oe||Be>oe||this.forceCrop)){if(Qe[Be-1]<Ue||Qe[0]>st)Qe=[],qe=[];else if(this.yData&&(Qe[0]<Ue||Qe[Be-1]>st)){var Xe=this.cropData(this.xData,this.yData,Ue,st);Qe=Xe.xData,qe=Xe.yData,Re=Xe.start,Xe=!0}}for(oe=Qe.length||1;--oe;)ve=_e?re(Qe[oe])-re(Qe[oe-1]):Qe[oe]-Qe[oe-1],0<ve&&(typeof Oe>"u"||ve<Oe)?Oe=ve:0>ve&&xe&&!Ie&&(I(15,!1,this.chart),xe=!1);return{xData:Qe,yData:qe,cropped:Xe,cropStart:Re,closestPointRange:Oe}}processData(re){const ve=this.xAxis;if(this.isCartesian&&!this.isDirty&&!ve.isDirty&&!this.yAxis.isDirty&&!re)return!1;re=this.getProcessedData(),this.cropped=re.cropped,this.cropStart=re.cropStart,this.processedXData=re.xData,this.processedYData=re.yData,this.closestPointRange=this.basePointRange=re.closestPointRange,b(this,"afterProcessData")}cropData(re,ve,_e,oe,ye){const Se=re.length;let Re,Oe=0,Ue=Se;for(ye=pe(ye,this.cropShoulder),Re=0;Re<Se;Re++)if(re[Re]>=_e){Oe=Math.max(0,Re-ye);break}for(_e=Re;_e<Se;_e++)if(re[_e]>oe){Ue=_e+ye;break}return{xData:re.slice(Oe,Ue),yData:ve.slice(Oe,Ue),start:Oe,end:Ue}}generatePoints(){var re=this.options;const ve=this.processedData||re.data,_e=this.processedXData,oe=this.processedYData,ye=this.pointClass,Se=_e.length,Re=this.cropStart||0,Oe=this.hasGroupedData,Ue=re.keys,st=[];re=re.dataGrouping&&re.dataGrouping.groupAll?Re:0;let Qe,qe,xe,Ie=this.data;if(!Ie&&!Oe){var Be=[];Be.length=ve.length,Ie=this.data=Be}for(Ue&&Oe&&(this.options.keys=!1),xe=0;xe<Se;xe++)Be=Re+xe,Oe?(qe=new ye().init(this,[_e[xe]].concat(Q(oe[xe]))),qe.dataGroup=this.groupMap[re+xe],qe.dataGroup.options&&(qe.options=qe.dataGroup.options,m(qe,qe.dataGroup.options),delete qe.dataLabels)):(qe=Ie[Be])||typeof ve[Be]>"u"||(Ie[Be]=qe=new ye().init(this,ve[Be],_e[xe])),qe&&(qe.index=Oe?re+xe:Be,st[xe]=qe);if(this.options.keys=Ue,Ie&&(Se!==(Qe=Ie.length)||Oe))for(xe=0;xe<Qe;xe++)xe!==Re||Oe||(xe+=Se),Ie[xe]&&(Ie[xe].destroyElements(),Ie[xe].plotX=void 0);this.data=Ie,this.points=st,b(this,"afterGeneratePoints")}getXExtremes(re){return{min:ie(re),max:E(re)}}getExtremes(re,ve){const _e=this.xAxis;var oe=this.yAxis;const ye=this.processedXData||this.xData,Se=[],Re=this.requireSorting?this.cropShoulder:0;oe=oe?oe.positiveValuesOnly:!1;let Oe,Ue=0,st=0,Qe=0;re=re||this.stackedYData||this.processedYData||[];const qe=re.length;if(_e){var xe=_e.getExtremes();Ue=xe.min,st=xe.max}for(Oe=0;Oe<qe;Oe++){var Ie=ye[Oe];xe=re[Oe];var Be=(Y(xe)||X(xe))&&(xe.length||0<xe||!oe);if(Ie=ve||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!_e||(ye[Oe+Re]||Ie)>=Ue&&(ye[Oe-Re]||Ie)<=st,Be&&Ie)if(Be=xe.length)for(;Be--;)Y(xe[Be])&&(Se[Qe++]=xe[Be]);else Se[Qe++]=xe}return re={activeYData:Se,dataMin:ie(Se),dataMax:E(Se)},b(this,"afterGetExtremes",{dataExtremes:re}),re}applyExtremes(){const re=this.getExtremes();return this.dataMin=re.dataMin,this.dataMax=re.dataMax,re}getFirstValidPoint(re){const ve=re.length;let _e=0,oe=null;for(;oe===null&&_e<ve;)oe=re[_e],_e++;return oe}translate(){var re;this.processedXData||this.processData(),this.generatePoints();const ve=this.options,_e=ve.stacking,oe=this.xAxis,ye=oe.categories,Se=this.enabledDataSorting,Re=this.yAxis,Oe=this.points,Ue=Oe.length,st=this.pointPlacementToXValue(),Qe=!!st,qe=ve.threshold,xe=ve.startFromThreshold?qe:0,Ie=this.zoneAxis||"y";let Be,Xe,Ke,pt,Tt=Number.MAX_VALUE;for(Be=0;Be<Ue;Be++){const Lt=Oe[Be],gi=Lt.x;let Wt,pi,Gi=Lt.y,ht=Lt.low;const It=_e&&((re=Re.stacking)===null||re===void 0?void 0:re.stacks[(this.negStacks&&Gi<(xe?0:qe)?"-":"")+this.stackKey]);Xe=oe.translate(gi,!1,!1,!1,!0,st),Lt.plotX=Y(Xe)?V(te(Xe,-1e5,1e5)):void 0,_e&&this.visible&&It&&It[gi]&&(pt=this.getStackIndicator(pt,gi,this.index),!Lt.isNull&&pt.key&&(Wt=It[gi],pi=Wt.points[pt.key]),Wt&&X(pi)&&(ht=pi[0],Gi=pi[1],ht===xe&&pt.key===It[gi].base&&(ht=pe(Y(qe)?qe:Re.min)),Re.positiveValuesOnly&&j(ht)&&0>=ht&&(ht=void 0),Lt.total=Lt.stackTotal=pe(Wt.total),Lt.percentage=j(Lt.y)&&Wt.total?Lt.y/Wt.total*100:void 0,Lt.stackY=Gi,this.irregularWidths||Wt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Lt.yBottom=j(ht)?te(Re.translate(ht,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(Gi=this.dataModify.modifyValue(Gi,Be));let ei;Y(Gi)&&Lt.plotX!==void 0&&(ei=Re.translate(Gi,!1,!0,!1,!0),ei=Y(ei)?te(ei,-1e5,1e5):void 0),Lt.plotY=ei,Lt.isInside=this.isPointInside(Lt),Lt.clientX=Qe?V(oe.translate(gi,!1,!1,!1,!0,st)):Xe,Lt.negative=Lt[Ie]<(ve[Ie+"Threshold"]||qe||0),Lt.category=pe(ye&&ye[Lt.x],Lt.x),Lt.isNull||Lt.visible===!1||(typeof Ke<"u"&&(Tt=Math.min(Tt,Math.abs(Xe-Ke))),Ke=Xe),Lt.zone=this.zones.length?Lt.getZone():void 0,!Lt.graphic&&this.group&&Se&&(Lt.isNew=!0)}this.closestPointRangePx=Tt,b(this,"afterTranslate")}getValidPoints(re,ve,_e){const oe=this.chart;return(re||this.points||[]).filter(function(ye){const{plotX:Se,plotY:Re}=ye;return!_e&&(ye.isNull||!Y(Re))||ve&&!oe.isInsidePlot(Se,Re,{inverted:oe.inverted})?!1:ye.visible!==!1})}getClipBox(){const{chart:re,xAxis:ve,yAxis:_e}=this,oe=le(re.clipBox);return ve&&ve.len!==re.plotSizeX&&(oe.width=ve.len),_e&&_e.len!==re.plotSizeY&&(oe.height=_e.len),oe}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:re,group:ve,markerGroup:_e}=this,oe=re.sharedClips,ye=re.renderer,Se=this.getClipBox(),Re=this.getSharedClipKey();let Oe=oe[Re];Oe?Oe.animate(Se):oe[Re]=Oe=ye.clipRect(Se),ve&&ve.clip(this.options.clip===!1?void 0:Oe),_e&&_e.clip()}animate(re){const{chart:ve,group:_e,markerGroup:oe}=this,ye=ve.inverted;var Se=L(this.options.animation),Re=[this.getSharedClipKey(),Se.duration,Se.easing,Se.defer].join();let Oe=ve.sharedClips[Re],Ue=ve.sharedClips[Re+"m"];if(re&&_e)Se=this.getClipBox(),Oe?Oe.attr("height",Se.height):(Se.width=0,ye&&(Se.x=ve.plotHeight),Oe=ve.renderer.clipRect(Se),ve.sharedClips[Re]=Oe,Ue=ve.renderer.clipRect({x:-99,y:-99,width:ye?ve.plotWidth+199:99,height:ye?99:ve.plotHeight+199}),ve.sharedClips[Re+"m"]=Ue),_e.clip(Oe),oe&&oe.clip(Ue);else if(Oe&&!Oe.hasClass("highcharts-animating")){Re=this.getClipBox();const st=Se.step;oe&&oe.element.childNodes.length&&(Se.step=function(Qe,qe){st&&st.apply(qe,arguments),qe.prop==="width"&&Ue&&Ue.element&&Ue.attr(ye?"height":"width",Qe+99)}),Oe.addClass("highcharts-animating").animate(Re,Se)}}afterAnimate(){this.setClip(),he(this.chart.sharedClips,(re,ve,_e)=>{re&&!this.chart.container.querySelector(`[clip-path="url(#${re.id})"]`)&&(re.destroy(),delete _e[ve])}),this.finishedAnimating=!0,b(this,"afterAnimate")}drawPoints(re=this.points){const ve=this.chart,_e=ve.styledMode,{colorAxis:oe,options:ye}=this,Se=ye.marker,Re=this[this.specialGroup||"markerGroup"],Oe=this.xAxis,Ue=pe(Se.enabled,!Oe||Oe.isRadial?!0:null,this.closestPointRangePx>=Se.enabledThreshold*Se.radius);let st,Qe,qe,xe,Ie,Be;if(Se.enabled!==!1||this._hasPointMarkers)for(st=0;st<re.length;st++){Qe=re[st],xe=(qe=Qe.graphic)?"animate":"attr";var Xe=Qe.marker||{};if(Ie=!!Qe.marker,(Ue&&typeof Xe.enabled>"u"||Xe.enabled)&&!Qe.isNull&&Qe.visible!==!1){const Ke=pe(Xe.symbol,this.symbol,"rect");Be=this.markerAttribs(Qe,Qe.selected&&"select"),this.enabledDataSorting&&(Qe.startXPos=Oe.reversed?-(Be.width||0):Oe.width);const pt=Qe.isInside!==!1;!qe&&pt&&(0<(Be.width||0)||Qe.hasImage)&&(Qe.graphic=qe=ve.renderer.symbol(Ke,Be.x,Be.y,Be.width,Be.height,Ie?Xe:Se).add(Re),this.enabledDataSorting&&ve.hasRendered&&(qe.attr({x:Qe.startXPos}),xe="animate")),qe&&xe==="animate"&&qe[pt?"show":"hide"](pt).animate(Be),qe&&(Xe=this.pointAttribs(Qe,_e||!Qe.selected?void 0:"select"),_e?oe&&qe.css({fill:Xe.fill}):qe[xe](Xe)),qe&&qe.addClass(Qe.getClassName(),!0)}else qe&&(Qe.graphic=qe.destroy())}}markerAttribs(re,ve){const _e=this.options;var oe=_e.marker;const ye=re.marker||{},Se=ye.symbol||oe.symbol,Re={};let Oe=pe(ye.radius,oe&&oe.radius);return ve&&(oe=oe.states[ve],ve=ye.states&&ye.states[ve],Oe=pe(ve&&ve.radius,oe&&oe.radius,Oe&&Oe+(oe&&oe.radiusPlus||0))),re.hasImage=Se&&Se.indexOf("url")===0,re.hasImage&&(Oe=0),re=re.pos(),Y(Oe)&&re&&(Re.x=re[0]-Oe,Re.y=re[1]-Oe,_e.crisp&&(Re.x=Math.floor(Re.x))),Oe&&(Re.width=Re.height=2*Oe),Re}pointAttribs(re,ve){var _e=this.options.marker,oe=re&&re.options;const ye=oe&&oe.marker||{};var Se=oe&&oe.color,Re=re&&re.color;const Oe=re&&re.zone&&re.zone.color;let Ue=this.color;return re=pe(ye.lineWidth,_e.lineWidth),oe=1,Ue=Se||Oe||Re||Ue,Se=ye.fillColor||_e.fillColor||Ue,Re=ye.lineColor||_e.lineColor||Ue,ve=ve||"normal",_e=_e.states[ve]||{},ve=ye.states&&ye.states[ve]||{},re=pe(ve.lineWidth,_e.lineWidth,re+pe(ve.lineWidthPlus,_e.lineWidthPlus,0)),Se=ve.fillColor||_e.fillColor||Se,Re=ve.lineColor||_e.lineColor||Re,oe=pe(ve.opacity,_e.opacity,oe),{stroke:Re,"stroke-width":re,fill:Se,opacity:oe}}destroy(re){const ve=this,_e=ve.chart,oe=/AppleWebKit\/533/.test(H.navigator.userAgent),ye=ve.data||[];let Se,Re,Oe,Ue;for(b(ve,"destroy",{keepEventsForUpdate:re}),this.removeEvents(re),(ve.axisTypes||[]).forEach(function(st){(Ue=ve[st])&&Ue.series&&(w(Ue.series,ve),Ue.isDirty=Ue.forceRedraw=!0)}),ve.legendItem&&ve.chart.legend.destroyItem(ve),Re=ye.length;Re--;)(Oe=ye[Re])&&Oe.destroy&&Oe.destroy();ve.clips&&ve.clips.forEach(st=>st.destroy()),q.clearTimeout(ve.animationTimeout),he(ve,function(st,Qe){st instanceof z&&!st.survive&&(Se=oe&&Qe==="group"?"hide":"destroy",st[Se]())}),_e.hoverSeries===ve&&(_e.hoverSeries=void 0),w(_e.series,ve),_e.orderSeries(),he(ve,function(st,Qe){re&&Qe==="hcEvents"||delete ve[Qe]})}applyZones(){const re=this,ve=this.chart,_e=ve.renderer,oe=this.zones,ye=this.clips||[],Se=this.graph,Re=this.area,Oe=Math.max(ve.plotWidth,ve.plotHeight),Ue=this[(this.zoneAxis||"y")+"Axis"],st=ve.inverted;let Qe,qe,xe,Ie,Be,Xe,Ke,pt,Tt,Lt,gi,Wt=!1;oe.length&&(Se||Re)&&Ue&&typeof Ue.min<"u"?(Be=Ue.reversed,Xe=Ue.horiz,Se&&!this.showLine&&Se.hide(),Re&&Re.hide(),Ie=Ue.getExtremes(),oe.forEach(function(pi,Gi){Qe=Be?Xe?ve.plotWidth:0:Xe?0:Ue.toPixels(Ie.min)||0,Qe=te(pe(qe,Qe),0,Oe),qe=te(Math.round(Ue.toPixels(pe(pi.value,Ie.max),!0)||0),0,Oe),Wt&&(Qe=qe=Ue.toPixels(Ie.max)),Ke=Math.abs(Qe-qe),pt=Math.min(Qe,qe),Tt=Math.max(Qe,qe),Ue.isXAxis?(xe={x:st?Tt:pt,y:0,width:Ke,height:Oe},Xe||(xe.x=ve.plotHeight-xe.x)):(xe={x:0,y:st?Tt:pt,width:Oe,height:Ke},Xe&&(xe.y=ve.plotWidth-xe.y)),ye[Gi]?ye[Gi].animate(xe):ye[Gi]=_e.clipRect(xe),Lt=re["zone-area-"+Gi],gi=re["zone-graph-"+Gi],Se&&gi&&gi.clip(ye[Gi]),Re&&Lt&&Lt.clip(ye[Gi]),Wt=pi.value>Ie.max,re.resetZones&&qe===0&&(qe=void 0)}),this.clips=ye):re.visible&&(Se&&Se.show(),Re&&Re.show())}plotGroup(re,ve,_e,oe,ye){let Se=this[re];const Re=!Se;return _e={visibility:_e,zIndex:oe||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(_e.opacity=this.opacity),Re&&(this[re]=Se=this.chart.renderer.g().add(ye)),Se.addClass("highcharts-"+ve+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(j(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Se.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Se.attr(_e)[Re?"attr":"animate"](this.getPlotBox(ve)),Se}getPlotBox(re){let ve=this.xAxis,_e=this.yAxis;const oe=this.chart;return re=oe.inverted&&!oe.polar&&ve&&this.invertible!==!1&&re==="series",oe.inverted&&(ve=_e,_e=this.xAxis),{translateX:ve?ve.left:oe.plotLeft,translateY:_e?_e.top:oe.plotTop,rotation:re?90:0,rotationOriginX:re?(ve.len-_e.len)/2:0,rotationOriginY:re?(ve.len+_e.len)/2:0,scaleX:re?-1:1,scaleY:1}}removeEvents(re){re||F(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ve){ve()}),this.eventsToUnbind.length=0)}render(){const re=this;var ve=re.chart;const _e=re.options,oe=L(_e.animation),ye=re.visible?"inherit":"hidden",Se=_e.zIndex,Re=re.hasRendered;ve=ve.seriesGroup;let Oe=re.finishedAnimating?0:oe.duration;b(this,"render"),re.plotGroup("group","series",ye,Se,ve),re.markerGroup=re.plotGroup("markerGroup","markers",ye,Se,ve),_e.clip!==!1&&re.setClip(),re.animate&&Oe&&re.animate(!0),re.drawGraph&&(re.drawGraph(),re.applyZones()),re.visible&&re.drawPoints(),re.drawDataLabels&&re.drawDataLabels(),re.redrawPoints&&re.redrawPoints(),re.drawTracker&&re.options.enableMouseTracking!==!1&&re.drawTracker(),re.animate&&Oe&&re.animate(),Re||(Oe&&oe.defer&&(Oe+=oe.defer),re.animationTimeout=ce(function(){re.afterAnimate()},Oe||0)),re.isDirty=!1,re.hasRendered=!0,b(re,"afterRender")}redraw(){const re=this.isDirty||this.isDirtyData;this.translate(),this.render(),re&&delete this.kdTree}searchPoint(re,ve){const _e=this.xAxis,oe=this.yAxis,ye=this.chart.inverted;return this.searchKDTree({clientX:ye?_e.len-re.chartY+_e.pos:re.chartX-_e.pos,plotY:ye?oe.len-re.chartX+oe.pos:re.chartY-oe.pos},ve,re)}buildKDTree(re){function ve(ye,Se,Re){var Oe=ye&&ye.length;let Ue;if(Oe)return Ue=_e.kdAxisArray[Se%Re],ye.sort(function(st,Qe){return st[Ue]-Qe[Ue]}),Oe=Math.floor(Oe/2),{point:ye[Oe],left:ve(ye.slice(0,Oe),Se+1,Re),right:ve(ye.slice(Oe+1),Se+1,Re)}}this.buildingKdTree=!0;const _e=this,oe=-1<_e.options.findNearestPointBy.indexOf("y")?2:1;delete _e.kdTree,ce(function(){_e.kdTree=ve(_e.getValidPoints(null,!_e.directTouch),oe,oe),_e.buildingKdTree=!1},_e.options.kdNow||re&&re.type==="touchstart"?0:1)}searchKDTree(re,ve,_e){function oe(Ue,st,Qe,qe){const xe=st.point;var Ie=ye.kdAxisArray[Qe%qe];let Be=xe;var Xe=j(Ue[Se])&&j(xe[Se])?Math.pow(Ue[Se]-xe[Se],2):null,Ke=j(Ue[Re])&&j(xe[Re])?Math.pow(Ue[Re]-xe[Re],2):null;return Ke=(Xe||0)+(Ke||0),xe.dist=j(Ke)?Math.sqrt(Ke):Number.MAX_VALUE,xe.distX=j(Xe)?Math.sqrt(Xe):Number.MAX_VALUE,Ie=Ue[Ie]-xe[Ie],Ke=0>Ie?"left":"right",Xe=0>Ie?"right":"left",st[Ke]&&(Ke=oe(Ue,st[Ke],Qe+1,qe),Be=Ke[Oe]<Be[Oe]?Ke:xe),st[Xe]&&Math.sqrt(Ie*Ie)<Be[Oe]&&(Ue=oe(Ue,st[Xe],Qe+1,qe),Be=Ue[Oe]<Be[Oe]?Ue:Be),Be}const ye=this,Se=this.kdAxisArray[0],Re=this.kdAxisArray[1],Oe=ve?"distX":"dist";if(ve=-1<ye.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(_e),this.kdTree)return oe(re,this.kdTree,ve,ve)}pointPlacementToXValue(){const{options:{pointPlacement:re,pointRange:ve},xAxis:_e}=this;let oe=re;return oe==="between"&&(oe=_e.reversed?-.5:.5),Y(oe)?oe*(ve||_e.pointRange):0}isPointInside(re){const{chart:ve,xAxis:_e,yAxis:oe}=this;return typeof re.plotY<"u"&&typeof re.plotX<"u"&&0<=re.plotY&&re.plotY<=(oe?oe.len:ve.plotHeight)&&0<=re.plotX&&re.plotX<=(_e?_e.len:ve.plotWidth)}drawTracker(){const re=this,ve=re.options,_e=ve.trackByArea,oe=[].concat(_e?re.areaPath:re.graphPath),ye=re.chart,Se=ye.pointer,Re=ye.renderer,Oe=ye.options.tooltip.snap,Ue=re.tracker,st=function(qe){ye.hoverSeries!==re&&re.onMouseOver()},Qe="rgba(192,192,192,"+(P?1e-4:.002)+")";Ue?Ue.attr({d:oe}):re.graph&&(re.tracker=Re.path(oe).attr({visibility:re.visible?"inherit":"hidden",zIndex:2}).addClass(_e?"highcharts-tracker-area":"highcharts-tracker-line").add(re.group),ye.styledMode||re.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Qe,fill:_e?Qe:"none","stroke-width":re.graph.strokeWidth()+(_e?0:2*Oe)}),[re.tracker,re.markerGroup,re.dataLabelsGroup].forEach(function(qe){qe&&(qe.addClass("highcharts-tracker").on("mouseover",st).on("mouseout",function(xe){Se.onTrackerMouseOut(xe)}),ve.cursor&&!ye.styledMode&&qe.css({cursor:ve.cursor}),S)&&qe.on("touchstart",st)})),b(this,"afterDrawTracker")}addPoint(re,ve,_e,oe,ye){const Se=this.options,Re=this.data,Oe=this.chart;var Ue=this.xAxis;Ue=Ue&&Ue.hasNames&&Ue.names;const st=Se.data,Qe=this.xData;let qe,xe;ve=pe(ve,!0);const Ie={series:this};this.pointClass.prototype.applyOptions.apply(Ie,[re]);const Be=Ie.x;if(xe=Qe.length,this.requireSorting&&Be<Qe[xe-1])for(qe=!0;xe&&Qe[xe-1]>Be;)xe--;this.updateParallelArrays(Ie,"splice",[xe,0,0]),this.updateParallelArrays(Ie,xe),Ue&&Ie.name&&(Ue[Be]=Ie.name),st.splice(xe,0,re),(qe||this.processedData)&&(this.data.splice(xe,0,null),this.processData()),Se.legendType==="point"&&this.generatePoints(),_e&&(Re[0]&&Re[0].remove?Re[0].remove(!1):(Re.shift(),this.updateParallelArrays(Ie,"shift"),st.shift())),ye!==!1&&b(this,"addPoint",{point:Ie}),this.isDirtyData=this.isDirty=!0,ve&&Oe.redraw(oe)}removePoint(re,ve,_e){const oe=this,ye=oe.data,Se=ye[re],Re=oe.points,Oe=oe.chart,Ue=function(){Re&&Re.length===ye.length&&Re.splice(re,1),ye.splice(re,1),oe.options.data.splice(re,1),oe.updateParallelArrays(Se||{series:oe},"splice",[re,1]),Se&&Se.destroy(),oe.isDirty=!0,oe.isDirtyData=!0,ve&&Oe.redraw()};O(_e,Oe),ve=pe(ve,!0),Se?Se.firePointEvent("remove",null,Ue):Ue()}remove(re,ve,_e,oe){function ye(){Se.destroy(oe),Re.isDirtyLegend=Re.isDirtyBox=!0,Re.linkSeries(oe),pe(re,!0)&&Re.redraw(ve)}const Se=this,Re=Se.chart;_e!==!1?b(Se,"remove",null,ye):ye()}update(re,ve){re=$(re,this.userOptions),b(this,"update",{options:re});const _e=this,oe=_e.chart;var ye=_e.userOptions;const Se=_e.initialType||_e.type;var Re=oe.options.plotOptions;const Oe=U[Se].prototype;var Ue=_e.finishedAnimating&&{animation:!1};const st={};let Qe,qe=["eventOptions","navigatorSeries","baseSeries"],xe=re.type||ye.type||oe.options.chart.type;const Ie=!(this.hasDerivedData||xe&&xe!==this.type||typeof re.pointStart<"u"||typeof re.pointInterval<"u"||typeof re.relativeXValue<"u"||re.joinBy||re.mapData||_e.hasOptionChanged("dataGrouping")||_e.hasOptionChanged("pointStart")||_e.hasOptionChanged("pointInterval")||_e.hasOptionChanged("pointIntervalUnit")||_e.hasOptionChanged("keys"));if(xe=xe||Se,Ie&&(qe.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),re.visible!==!1&&qe.push("area","graph"),_e.parallelArrays.forEach(function(Be){qe.push(Be+"Data")}),re.data&&(re.dataSorting&&m(_e.options.dataSorting,re.dataSorting),this.setData(re.data,!1))),re=le(ye,Ue,{index:typeof ye.index>"u"?_e.index:ye.index,pointStart:pe(Re&&Re.series&&Re.series.pointStart,ye.pointStart,_e.xData[0])},!Ie&&{data:_e.options.data},re),Ie&&re.data&&(re.data=_e.options.data),qe=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(qe),qe.forEach(function(Be){qe[Be]=_e[Be],delete _e[Be]}),Re=!1,U[xe]){if(Re=xe!==_e.type,_e.remove(!1,!1,!1,!0),Re)if(Object.setPrototypeOf)Object.setPrototypeOf(_e,U[xe].prototype);else{Ue=Object.hasOwnProperty.call(_e,"hcEvents")&&_e.hcEvents;for(Qe in Oe)_e[Qe]=void 0;m(_e,U[xe].prototype),Ue?_e.hcEvents=Ue:delete _e.hcEvents}}else I(17,!0,oe,{missingModuleFor:xe});if(qe.forEach(function(Be){_e[Be]=qe[Be]}),_e.init(oe,re),Ie&&this.points){if(re=_e.options,re.visible===!1)st.graphic=1,st.dataLabel=1;else if(!_e._hasPointLabels){const{marker:Be,dataLabels:Xe}=re;ye=ye.marker||{},!Be||Be.enabled!==!1&&ye.symbol===Be.symbol&&ye.height===Be.height&&ye.width===Be.width||(st.graphic=1),Xe&&Xe.enabled===!1&&(st.dataLabel=1)}for(const Be of this.points)Be&&Be.series&&(Be.resolveColor(),Object.keys(st).length&&Be.destroyElements(st),re.showInLegend===!1&&Be.legendItem&&oe.legend.destroyItem(Be))}_e.initialType=Se,oe.linkSeries(),Re&&_e.linkedSeries.length&&(_e.isDirtyData=!0),b(this,"afterUpdate"),pe(ve,!0)&&oe.redraw(Ie?void 0:!1)}setName(re){this.name=this.options.name=this.userOptions.name=re,this.chart.isDirtyLegend=!0}hasOptionChanged(re){const ve=this.options[re],_e=this.chart.options.plotOptions,oe=this.userOptions[re];return oe?ve!==oe:ve!==pe(_e&&_e[this.type]&&_e[this.type][re],_e&&_e.series&&_e.series[re],ve)}onMouseOver(){const re=this.chart,ve=re.hoverSeries;re.pointer.setHoverChartIndex(),ve&&ve!==this&&ve.onMouseOut(),this.options.events.mouseOver&&b(this,"mouseOver"),this.setState("hover"),re.hoverSeries=this}onMouseOut(){const re=this.options,ve=this.chart,_e=ve.tooltip,oe=ve.hoverPoint;ve.hoverSeries=null,oe&&oe.onMouseOut(),this&&re.events.mouseOut&&b(this,"mouseOut"),!_e||this.stickyTracking||_e.shared&&!this.noSharedTooltip||_e.hide(),ve.series.forEach(function(ye){ye.setState("",!0)})}setState(re,ve){const _e=this;var oe=_e.options;const ye=_e.graph,Se=oe.inactiveOtherPoints,Re=oe.states,Oe=pe(Re[re||"normal"]&&Re[re||"normal"].animation,_e.chart.options.chart.animation);let Ue=oe.lineWidth,st=0,Qe=oe.opacity;if(re=re||"",_e.state!==re&&([_e.group,_e.markerGroup,_e.dataLabelsGroup].forEach(function(qe){qe&&(_e.state&&qe.removeClass("highcharts-series-"+_e.state),re&&qe.addClass("highcharts-series-"+re))}),_e.state=re,!_e.chart.styledMode)){if(Re[re]&&Re[re].enabled===!1)return;if(re&&(Ue=Re[re].lineWidth||Ue+(Re[re].lineWidthPlus||0),Qe=pe(Re[re].opacity,Qe)),ye&&!ye.dashstyle&&Y(Ue))for(oe={"stroke-width":Ue},ye.animate(oe,Oe);_e["zone-graph-"+st];)_e["zone-graph-"+st].animate(oe,Oe),st+=1;Se||[_e.group,_e.markerGroup,_e.dataLabelsGroup,_e.labelBySeries].forEach(function(qe){qe&&qe.animate({opacity:Qe},Oe)})}ve&&Se&&_e.points&&_e.setAllPointsToState(re||void 0)}setAllPointsToState(re){this.points.forEach(function(ve){ve.setState&&ve.setState(re)})}setVisible(re,ve){const _e=this,oe=_e.chart,ye=oe.options.chart.ignoreHiddenSeries,Se=_e.visible,Re=(_e.visible=re=_e.options.visible=_e.userOptions.visible=typeof re>"u"?!Se:re)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Oe){_e[Oe]&&_e[Oe][Re]()}),(oe.hoverSeries===_e||(oe.hoverPoint&&oe.hoverPoint.series)===_e)&&_e.onMouseOut(),_e.legendItem&&oe.legend.colorizeItem(_e,re),_e.isDirty=!0,_e.options.stacking&&oe.series.forEach(function(Oe){Oe.options.stacking&&Oe.visible&&(Oe.isDirty=!0)}),_e.linkedSeries.forEach(function(Oe){Oe.setVisible(re,!1)}),ye&&(oe.isDirtyBox=!0),b(_e,Re),ve!==!1&&oe.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(re){this.selected=re=this.options.selected=typeof re>"u"?!this.selected:re,this.checkbox&&(this.checkbox.checked=re),b(this,re?"select":"unselect")}shouldShowTooltip(re,ve,_e={}){return _e.series=this,_e.visiblePlotOnly=!0,this.chart.isInsidePlot(re,ve,_e)}drawLegendSymbol(re,ve){var _e;(_e=v[this.options.legendSymbol||"rectangle"])===null||_e===void 0||_e.call(this,re,ve)}}return ge.defaultOptions=J,ge.types=k.seriesTypes,ge.registerType=k.registerSeriesType,m(ge.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:R,requireSorting:!0,sorted:!0}),k.series=ge,ge}),n(r,"Extensions/ScrollablePlotArea.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Chart/Chart.js"],r["Core/Series/Series.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R){const{stop:J}=o,{addEvent:k,createElement:z,defined:q,merge:L,pick:O}=R;k(h,"afterSetChartSize",function(G){var M=this.options.chart.scrollablePlotArea,S=M&&M.minWidth;M=M&&M.minHeight;let P;this.renderer.forExport||(S?(this.scrollablePixelsX=S=Math.max(0,S-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=L(this.plotBox),this.plotBox.width=this.plotWidth+=S,this.inverted?this.clipBox.height+=S:this.clipBox.width+=S,P={1:{name:"right",value:S}}):M&&(this.scrollablePixelsY=S=Math.max(0,M-this.chartHeight),q(S)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=L(this.plotBox),this.plotBox.height=this.plotHeight+=S,this.inverted?this.clipBox.width+=S:this.clipBox.height+=S,P={2:{name:"bottom",value:S}})),P&&!G.skipAxes&&this.axes.forEach(function(H){P[H.side]?H.getPlotLinePath=function(){let U=P[H.side].name,E=this[U],ie;return this[U]=E-P[H.side].value,ie=d.prototype.getPlotLinePath.apply(this,arguments),this[U]=E,ie}:(H.setAxisSize(),H.setAxisTranslation())}))}),k(h,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),h.prototype.setUpScrolling=function(){const G={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(G.overflowX="auto"),this.scrollablePixelsY&&(G.overflowY="auto"),this.scrollingParent=z("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=z("div",{className:"highcharts-scrolling"},G,this.scrollingParent);let M;k(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(M=this.hoverPoint),this.pointer.runPointActions(void 0,M,!0))}),this.innerContainer=z("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},h.prototype.moveFixedElements=function(){let G=this.container,M=this.fixedRenderer,S=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),P;this.scrollablePixelsX&&!this.inverted?P=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?P=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(P=".highcharts-yaxis"),P&&S.push(`${P}:not(.highcharts-radial-axis)`,`${P}-labels:not(.highcharts-radial-axis-labels)`),S.forEach(function(H){[].forEach.call(G.querySelectorAll(H),function(U){(U.namespaceURI===M.SVG_NS?M.box:M.box.parentNode).appendChild(U),U.style.pointerEvents="auto"})})},h.prototype.applyFixed=function(){var G=!this.fixedDiv,M=this.options.chart,S=M.scrollablePlotArea,P=v.getRendererType();G?(this.fixedDiv=z("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(M.style&&M.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=M=new P(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=M.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":O(S.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),k(this,"afterShowResetZoom",this.moveFixedElements),k(this,"afterApplyDrilldown",this.moveFixedElements),k(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||G)&&(this.scrollableDirty=!1,this.moveFixedElements()),M=this.chartWidth+(this.scrollablePixelsX||0),P=this.chartHeight+(this.scrollablePixelsY||0),J(this.container),this.container.style.width=M+"px",this.container.style.height=P+"px",this.renderer.boxWrapper.attr({width:M,height:P,viewBox:[0,0,M,P].join(" ")}),this.chartBackground.attr({width:M,height:P}),this.scrollingContainer.style.height=this.chartHeight+"px",G&&(S.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*S.scrollPositionX),S.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*S.scrollPositionY)),P=this.axisOffset,G=this.plotTop-P[0]-1,S=this.plotLeft-P[3]-1,M=this.plotTop+this.plotHeight+P[2]+1,P=this.plotLeft+this.plotWidth+P[1]+1;let H=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),U=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);G=this.scrollablePixelsX?[["M",0,G],["L",this.plotLeft-1,G],["L",this.plotLeft-1,M],["L",0,M],["Z"],["M",H,G],["L",this.chartWidth,G],["L",this.chartWidth,M],["L",H,M],["Z"]]:this.scrollablePixelsY?[["M",S,0],["L",S,this.plotTop-1],["L",P,this.plotTop-1],["L",P,0],["Z"],["M",S,U],["L",S,this.chartHeight],["L",P,this.chartHeight],["L",P,U],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:G})},k(d,"afterInit",function(){this.chart.scrollableDirty=!0}),k(s,"show",function(){this.chart.scrollableDirty=!0})}),n(r,"Core/Axis/Stacking/StackItem.js",[r["Core/FormatUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{format:s}=o,{series:v}=d,{destroyObjectProperties:R,fireEvent:J,isNumber:k,pick:z}=h;class q{constructor(O,G,M,S,P){const H=O.chart.inverted,U=O.reversed;this.axis=O,O=this.isNegative=!!M!=!!U,this.options=G=G||{},this.x=S,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=P,this.rightCliff=this.leftCliff=0,this.alignOptions={align:G.align||(H?O?"left":"right":"center"),verticalAlign:G.verticalAlign||(H?"middle":O?"bottom":"top"),y:G.y,x:G.x},this.textAlign=G.textAlign||(H?O?"right":"left":"center")}destroy(){R(this,this.axis)}render(O){const G=this.axis.chart,M=this.options;var S=M.format;S=S?s(S,this,G):M.formatter.call(this),this.label?this.label.attr({text:S,visibility:"hidden"}):(this.label=G.renderer.label(S,null,void 0,M.shape,void 0,void 0,M.useHTML,!1,"stack-labels"),S={r:M.borderRadius||0,text:S,padding:z(M.padding,5),visibility:"hidden"},G.styledMode||(S.fill=M.backgroundColor,S.stroke=M.borderColor,S["stroke-width"]=M.borderWidth,this.label.css(M.style||{})),this.label.attr(S),this.label.added||this.label.add(O)),this.label.labelrank=G.plotSizeY,J(this,"afterRender")}setOffset(O,G,M,S,P,H){const{alignOptions:U,axis:E,label:ie,options:te,textAlign:$}=this,V=E.chart;M=this.getStackBox({xOffset:O,width:G,boxBottom:M,boxTop:S,defaultX:P,xAxis:H});var{verticalAlign:j}=U;if(ie&&M){S=ie.getBBox(),P=ie.padding,H=z(te.overflow,"justify")==="justify",U.x=te.x||0,U.y=te.y||0;const{x:w,y:I}=this.adjustStackPosition({labelBox:S,verticalAlign:j,textAlign:$});M.x-=w,M.y-=I,ie.align(U,!1,M),(j=V.isInsidePlot(ie.alignAttr.x+U.x+w,ie.alignAttr.y+U.y+I))||(H=!1),H&&v.prototype.justifyDataLabel.call(E,ie,U,ie.alignAttr,S,M),ie.attr({x:ie.alignAttr.x,y:ie.alignAttr.y,rotation:te.rotation,rotationOriginX:S.width/2,rotationOriginY:S.height/2}),z(!H&&te.crop,!0)&&(j=k(ie.x)&&k(ie.y)&&V.isInsidePlot(ie.x-P+ie.width,ie.y)&&V.isInsidePlot(ie.x+P,ie.y)),ie[j?"show":"hide"]()}J(this,"afterSetOffset",{xOffset:O,width:G})}adjustStackPosition({labelBox:O,verticalAlign:G,textAlign:M}){const S={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:O.width/2+O.width/2*S[M],y:O.height/2*S[G]}}getStackBox(O){var G=this.axis;const M=G.chart,{boxTop:S,defaultX:P,xOffset:H,width:U,boxBottom:E}=O;var ie=G.stacking.usePercentage?100:z(S,this.total,0);ie=G.toPixels(ie),O=O.xAxis||M.xAxis[0];const te=z(P,O.translate(this.x))+H;G=G.toPixels(E||k(G.min)&&G.logarithmic&&G.logarithmic.lin2log(G.min)||0),G=Math.abs(ie-G);const $=this.isNegative;return M.inverted?{x:($?ie:ie-G)-M.plotLeft,y:O.height-te-U,width:G,height:U}:{x:te+O.transB-M.plotLeft,y:($?ie-G:ie)-M.plotTop,width:U,height:G}}}return q}),n(r,"Core/Axis/Stacking/StackingAxis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Utilities.js"]],function(o,d,h,s,v){function R(){const m=this,g=m.inverted;m.yAxis.forEach(b=>{b.stacking&&b.stacking.stacks&&b.hasVisibleSeries&&(b.stacking.oldStacks=b.stacking.stacks)}),m.series.forEach(b=>{const A=b.xAxis&&b.xAxis.options||{};!b.options.stacking||b.visible!==!0&&m.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=[b.type,j(b.options.stack,""),g?A.top:A.left,g?A.height:A.width].join())})}function J(){const m=this.stacking;if(m){var g=m.stacks;V(g,function(b,A){E(b),g[A]=null}),m&&m.stackTotalGroup&&m.stackTotalGroup.destroy()}}function k(){this.coll!=="yAxis"||this.stacking||(this.stacking=new w(this))}function z(m,g,b,A){return!U(m)||m.x!==g||A&&m.stackKey!==A?m={x:g,index:0,key:A,stackKey:A}:m.index++,m.key=[b,g,m.index].join(),m}function q(){const m=this,g=m.stackKey,b=m.yAxis.stacking.stacks,A=m.processedXData,X=m[m.options.stacking+"Stacker"];let Y;X&&[g,"-"+g].forEach(K=>{let le=A.length,he;for(;le--;){var pe=A[le];Y=m.getStackIndicator(Y,pe,m.index,K),(he=(pe=b[K]&&b[K][pe])&&pe.points[Y.key])&&X.call(m,he,pe,le)}})}function L(m,g,b){g=g.total?100/g.total:0,m[0]=H(m[0]*g),m[1]=H(m[1]*g),this.stackedYData[b]=m[1]}function O(){const m=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?S.setStackedPoints.call(this,"group"):m&&V(m.stacks,(g,b)=>{b.slice(-5)==="group"&&(V(g,A=>A.destroy()),delete m.stacks[b])})}function G(m){var g=this.chart;const b=m||this.options.stacking;if(b&&(this.visible===!0||g.options.chart.ignoreHiddenSeries===!1)){var A=this.processedXData,X=this.processedYData,Y=[],K=X.length,le=this.options,he=le.threshold,pe=j(le.startFromThreshold&&he,0);le=le.stack,m=m?`${this.type},${b}`:this.stackKey;var F="-"+m,Q=this.negStacks;g=b==="group"?g.yAxis[0]:this.yAxis;var ce=g.stacking.stacks,ge=g.stacking.oldStacks,ke,re;for(g.stacking.stacksTouched+=1,re=0;re<K;re++){var ve=A[re],_e=X[re],oe=this.getStackIndicator(oe,ve,this.index),ye=oe.key,Se=(ke=Q&&_e<(pe?0:he))?F:m;ce[Se]||(ce[Se]={}),ce[Se][ve]||(ge[Se]&&ge[Se][ve]?(ce[Se][ve]=ge[Se][ve],ce[Se][ve].total=null):ce[Se][ve]=new s(g,g.options.stackLabels,!!ke,ve,le)),Se=ce[Se][ve],_e!==null?(Se.points[ye]=Se.points[this.index]=[j(Se.cumulative,pe)],U(Se.cumulative)||(Se.base=ye),Se.touched=g.stacking.stacksTouched,0<oe.index&&this.singleStacks===!1&&(Se.points[ye][0]=Se.points[this.index+","+ve+",0"][0])):Se.points[ye]=Se.points[this.index]=null,b==="percent"?(ke=ke?m:F,Q&&ce[ke]&&ce[ke][ve]?(ke=ce[ke][ve],Se.total=ke.total=Math.max(ke.total,Se.total)+Math.abs(_e)||0):Se.total=H(Se.total+(Math.abs(_e)||0))):b==="group"?(te(_e)&&(_e=_e[0]),_e!==null&&(Se.total=(Se.total||0)+1)):Se.total=H(Se.total+(_e||0)),Se.cumulative=b==="group"?(Se.total||1)-1:H(j(Se.cumulative,pe)+(_e||0)),_e!==null&&(Se.points[ye].push(Se.cumulative),Y[re]=Se.cumulative,Se.hasValidPoints=!0)}b==="percent"&&(g.stacking.usePercentage=!0),b!=="group"&&(this.stackedYData=Y),g.stacking.oldStacks={}}}const{getDeferredAnimation:M}=o,{series:{prototype:S}}=h,{addEvent:P,correctFloat:H,defined:U,destroyObjectProperties:E,fireEvent:ie,isArray:te,isNumber:$,objectEach:V,pick:j}=v;class w{constructor(g){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=g}buildStacks(){const g=this.axis,b=g.series,A=g.options.reversedStacks,X=b.length;let Y,K;for(this.usePercentage=!1,K=X;K--;)Y=b[A?K:X-K-1],Y.setStackedPoints(),Y.setGroupedPoints();for(K=0;K<X;K++)b[K].modifyStacks();ie(g,"afterBuildStacks")}cleanStacks(){let g;this.oldStacks&&(g=this.stacks=this.oldStacks),V(g,function(b){V(b,function(A){A.cumulative=A.total})})}resetStacks(){V(this.stacks,g=>{V(g,(b,A)=>{$(b.touched)&&b.touched<this.stacksTouched?(b.destroy(),delete g[A]):(b.total=null,b.cumulative=null)})})}renderStackTotals(){var g=this.axis;const b=g.chart,A=b.renderer,X=this.stacks;g=M(b,g.options.stackLabels&&g.options.stackLabels.animation||!1);const Y=this.stackTotalGroup=this.stackTotalGroup||A.g("stack-labels").attr({zIndex:6,opacity:0}).add();Y.translate(b.plotLeft,b.plotTop),V(X,function(K){V(K,function(le){le.render(Y)})}),Y.animate({opacity:1},g)}}var I;return function(m){const g=[];m.compose=function(b,A,X){v.pushUnique(g,b)&&(P(b,"init",k),P(b,"destroy",J)),v.pushUnique(g,A)&&(A.prototype.getStacks=R),v.pushUnique(g,X)&&(b=X.prototype,b.getStackIndicator=z,b.modifyStacks=q,b.percentStacker=L,b.setGroupedPoints=O,b.setStackedPoints=G)}}(I||(I={})),I}),n(r,"Series/Line/LineSeries.js",[r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{defined:s,merge:v}=h;class R extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const k=this,z=this.options,q=(this.gappedPath||this.getGraphPath).call(this),L=this.chart.styledMode;let O=[["graph","highcharts-graph"]];L||O[0].push(z.lineColor||this.color||"#cccccc",z.dashStyle),O=k.getZonesGraphs(O),O.forEach(function(G,M){var S=G[0];let P=k[S];const H=P?"animate":"attr";P?(P.endX=k.preventGraphAnimation?null:q.xMap,P.animate({d:q})):q.length&&(k[S]=P=k.chart.renderer.path(q).addClass(G[1]).attr({zIndex:1}).add(k.group)),P&&!L&&(S={stroke:G[2],"stroke-width":z.lineWidth||0,fill:k.fillGraph&&k.color||"none"},G[3]?S.dashstyle=G[3]:z.linecap!=="square"&&(S["stroke-linecap"]=S["stroke-linejoin"]="round"),P[H](S).shadow(2>M&&z.shadow)),P&&(P.startX=q.xMap,P.isArea=q.isArea)})}getGraphPath(k,z,q){const L=this,O=L.options,G=[],M=[];let S,P=O.step;k=k||L.points;const H=k.reversed;return H&&k.reverse(),(P={right:1,center:2}[P]||P&&3)&&H&&(P=4-P),k=this.getValidPoints(k,!1,!(O.connectNulls&&!z&&!q)),k.forEach(function(U,E){const ie=U.plotX,te=U.plotY,$=k[E-1],V=U.isNull||typeof te!="number";(U.leftCliff||$&&$.rightCliff)&&!q&&(S=!0),V&&!s(z)&&0<E?S=!O.connectNulls:V&&!z?S=!0:(E===0||S?E=[["M",U.plotX,U.plotY]]:L.getPointSpline?E=[L.getPointSpline(k,U,E)]:P?(E=P===1?[["L",$.plotX,te]]:P===2?[["L",($.plotX+ie)/2,$.plotY],["L",($.plotX+ie)/2,te]]:[["L",ie,$.plotY]],E.push(["L",ie,te])):E=[["L",ie,te]],M.push(U.x),P&&(M.push(U.x),P===2&&M.push(U.x)),G.push.apply(G,E),S=!1)}),G.xMap=M,L.graphPath=G}getZonesGraphs(k){return this.zones.forEach(function(z,q){q=["zone-graph-"+q,"highcharts-graph highcharts-zone-graph-"+q+" "+(z.className||"")],this.chart.styledMode||q.push(z.color||this.color,z.dashStyle||this.options.dashStyle),k.push(q)},this),k}}return R.defaultOptions=v(o.defaultOptions,{legendSymbol:"lineMarker"}),d.registerSeriesType("line",R),R}),n(r,"Series/Area/AreaSeries.js",[r["Core/Color/Color.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{parse:s}=o,{seriesTypes:{line:v}}=d,{extend:R,merge:J,objectEach:k,pick:z}=h;class q extends v{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const O=this,G=this.areaPath,M=this.options,S=[["area","highcharts-area",this.color,M.fillColor]];this.zones.forEach(function(P,H){S.push(["zone-area-"+H,"highcharts-area highcharts-zone-area-"+H+" "+P.className,P.color||O.color,P.fillColor||M.fillColor])}),S.forEach(function(P){const H=P[0],U={};let E=O[H];const ie=E?"animate":"attr";E?(E.endX=O.preventGraphAnimation?null:G.xMap,E.animate({d:G})):(U.zIndex=0,E=O[H]=O.chart.renderer.path(G).addClass(P[1]).add(O.group),E.isArea=!0),O.chart.styledMode||(U.fill=z(P[3],s(P[2]).setOpacity(z(M.fillOpacity,.75)).get())),E[ie](U),E.startX=G.xMap,E.shiftUnit=M.step?2:1})}getGraphPath(O){var G=v.prototype.getGraphPath,M=this.options;const S=M.stacking,P=this.yAxis,H=[],U=[],E=this.index,ie=P.stacking.stacks[this.stackKey],te=M.threshold,$=Math.round(P.getThreshold(M.threshold));M=z(M.connectNulls,S==="percent");var V=function(m,g,b){var A=O[m];m=S&&ie[A.x].points[E];const X=A[b+"Null"]||0;b=A[b+"Cliff"]||0;let Y,K;A=!0,b||X?(Y=(X?m[0]:m[1])+b,K=m[0]+b,A=!!X):!S&&O[g]&&O[g].isNull&&(Y=K=te),typeof Y<"u"&&(U.push({plotX:j,plotY:Y===null?$:P.getThreshold(Y),isNull:A,isCliff:!0}),H.push({plotX:j,plotY:K===null?$:P.getThreshold(K),doCurve:!1}))};let j;O=O||this.points,S&&(O=this.getStackPoints(O));for(let m=0,g=O.length;m<g;++m){S||(O[m].leftCliff=O[m].rightCliff=O[m].leftNull=O[m].rightNull=void 0);var w=O[m].isNull;j=z(O[m].rectPlotX,O[m].plotX);var I=S?z(O[m].yBottom,$):$;(!w||M)&&(M||V(m,m-1,"left"),w&&!S&&M||(U.push(O[m]),H.push({x:m,plotX:j,plotY:I})),M||V(m,m+1,"right"))}return V=G.call(this,U,!0,!0),H.reversed=!0,w=G.call(this,H,!0,!0),(I=w[0])&&I[0]==="M"&&(w[0]=["L",I[1],I[2]]),w=V.concat(w),w.length&&w.push(["Z"]),G=G.call(this,U,!1,M),w.xMap=V.xMap,this.areaPath=w,G}getStackPoints(O){const G=this,M=[],S=[],P=this.xAxis,H=this.yAxis,U=H.stacking.stacks[this.stackKey],E={},ie=H.series,te=ie.length,$=H.options.reversedStacks?1:-1,V=ie.indexOf(G);if(O=O||this.points,this.options.stacking){for(let w=0;w<O.length;w++)O[w].leftNull=O[w].rightNull=void 0,E[O[w].x]=O[w];k(U,function(w,I){w.total!==null&&S.push(I)}),S.sort(function(w,I){return w-I});const j=ie.map(w=>w.visible);S.forEach(function(w,I){let m=0,g,b;if(E[w]&&!E[w].isNull)M.push(E[w]),[-1,1].forEach(function(A){const X=A===1?"rightNull":"leftNull",Y=U[S[I+A]];let K=0;if(Y){let le=V;for(;0<=le&&le<te;){const he=ie[le].index;g=Y.points[he],g||(he===G.index?E[w][X]=!0:j[le]&&(b=U[w].points[he])&&(K-=b[1]-b[0])),le+=$}}E[w][A===1?"rightCliff":"leftCliff"]=K});else{let A=V;for(;0<=A&&A<te;){if(g=U[w].points[ie[A].index]){m=g[1];break}A+=$}m=z(m,0),m=H.translate(m,0,1,0,1),M.push({isNull:!0,plotX:P.translate(w,0,0,0,1),x:w,plotY:m,yBottom:m})}})}return M}}return q.defaultOptions=J(v.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),R(q.prototype,{singleStacks:!1}),d.registerSeriesType("area",q),q}),n(r,"Series/Spline/SplineSeries.js",[r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d){const{line:h}=o.seriesTypes,{merge:s,pick:v}=d;class R extends h{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(k,z,q){const L=z.plotX||0,O=z.plotY||0,G=k[q-1];q=k[q+1];let M,S,P;if(G&&!G.isNull&&G.doCurve!==!1&&!z.isCliff&&q&&!q.isNull&&q.doCurve!==!1&&!z.isCliff){k=G.plotY||0;var H=q.plotX||0;q=q.plotY||0;let U=0;M=(1.5*L+(G.plotX||0))/2.5,S=(1.5*O+k)/2.5,H=(1.5*L+H)/2.5,P=(1.5*O+q)/2.5,H!==M&&(U=(P-S)*(H-L)/(H-M)+O-P),S+=U,P+=U,S>k&&S>O?(S=Math.max(k,O),P=2*O-S):S<k&&S<O&&(S=Math.min(k,O),P=2*O-S),P>q&&P>O?(P=Math.max(q,O),S=2*O-P):P<q&&P<O&&(P=Math.min(q,O),S=2*O-P),z.rightContX=H,z.rightContY=P}return z=["C",v(G.rightContX,G.plotX,0),v(G.rightContY,G.plotY,0),v(M,L,0),v(S,O,0),L,O],G.rightContX=G.rightContY=void 0,z}}return R.defaultOptions=s(h.defaultOptions),o.registerSeriesType("spline",R),R}),n(r,"Series/AreaSpline/AreaSplineSeries.js",[r["Series/Spline/SplineSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{area:s,area:{prototype:v}}=d.seriesTypes,{extend:R,merge:J}=h;class k extends o{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return k.defaultOptions=J(o.defaultOptions,s.defaultOptions),R(k.prototype,{getGraphPath:v.getGraphPath,getStackPoints:v.getStackPoints,drawGraph:v.drawGraph}),d.registerSeriesType("areaspline",k),k}),n(r,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),n(r,"Series/Column/ColumnSeries.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Series/Column/ColumnSeriesDefaults.js"],r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R,J){const{animObject:k}=o,{parse:z}=d,{hasTouch:q,noop:L}=s,{clamp:O,defined:G,extend:M,fireEvent:S,isArray:P,isNumber:H,merge:U,pick:E,objectEach:ie}=J;class te extends v{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(V){const j=this,w=this.yAxis,I=w.pos,m=j.options,g=this.chart.inverted,b={},A=g?"translateX":"translateY";let X;V?(b.scaleY=.001,V=O(w.toPixels(m.threshold),I,I+w.len),g?b.translateX=V-w.len:b.translateY=V,j.clipBox&&j.setClip(),j.group.attr(b)):(X=Number(j.group.attr(A)),j.group.animate({scaleY:1},M(k(j.options.animation),{step:function(Y,K){j.group&&(b[A]=X+K.pos*(I-X),j.group.attr(b))}})))}init(V,j){super.init.apply(this,arguments);const w=this;V=w.chart,V.hasRendered&&V.series.forEach(function(I){I.type===w.type&&(I.isDirty=!0)})}getColumnMetrics(){const V=this;var j=V.options;const w=V.xAxis,I=V.yAxis;var m=w.options.reversedStacks;m=w.reversed&&!m||!w.reversed&&m;const g={};let b,A=0;j.grouping===!1?A=1:V.chart.series.forEach(function(le){const he=le.yAxis,pe=le.options;let F;le.type!==V.type||!le.visible&&V.chart.options.chart.ignoreHiddenSeries||I.len!==he.len||I.pos!==he.pos||(pe.stacking&&pe.stacking!=="group"?(b=le.stackKey,typeof g[b]>"u"&&(g[b]=A++),F=g[b]):pe.grouping!==!1&&(F=A++),le.columnIndex=F)});const X=Math.min(Math.abs(w.transA)*(w.ordinal&&w.ordinal.slope||j.pointRange||w.closestPointRange||w.tickInterval||1),w.len),Y=X*j.groupPadding,K=(X-2*Y)/(A||1);return j=Math.min(j.maxPointWidth||w.len,E(j.pointWidth,K*(1-2*j.pointPadding))),V.columnMetrics={width:j,offset:(K-j)/2+(Y+((V.columnIndex||0)+(m?1:0))*K-X/2)*(m?-1:1),paddedWidth:K,columnCount:A},V.columnMetrics}crispCol(V,j,w,I){var m=this.borderWidth,g=-(m%2?.5:0);return m=m%2?.5:1,this.options.crisp&&(w=Math.round(V+w)+g,V=Math.round(V)+g,w-=V),I=Math.round(j+I)+m,g=.5>=Math.abs(j)&&.5<I,j=Math.round(j)+m,I-=j,g&&I&&(--j,I+=1),{x:V,y:j,width:w,height:I}}adjustForMissingColumns(V,j,w,I){const m=this.options.stacking;if(!w.isNull&&1<I.columnCount){const g=this.yAxis.options.reversedStacks;let b=0,A=g?0:-I.columnCount;ie(this.yAxis.stacking&&this.yAxis.stacking.stacks,X=>{if(typeof w.x=="number"){const Y=X[w.x.toString()];Y&&(X=Y.points[this.index],m?(X&&(b=A),Y.hasValidPoints&&(g?A++:A--)):P(X)&&(X=Object.keys(Y.points).filter(K=>!K.match(",")&&Y.points[K]&&1<Y.points[K].length).map(parseFloat).sort((K,le)=>le-K),b=X.indexOf(this.index),A=X.length))}}),V=(w.plotX||0)+((A-1)*I.paddedWidth+j)/2-j-b*I.paddedWidth}return V}translate(){const V=this,j=V.chart,w=V.options;var I=V.dense=2>V.closestPointRange*V.xAxis.transA;I=V.borderWidth=E(w.borderWidth,I?0:1);const m=V.xAxis,g=V.yAxis,b=w.threshold,A=E(w.minPointLength,5),X=V.getColumnMetrics(),Y=X.width,K=V.pointXOffset=X.offset,le=V.dataMin,he=V.dataMax;let pe=V.barW=Math.max(Y,1+2*I),F=V.translatedThreshold=g.getThreshold(b);j.inverted&&(F-=.5),w.pointPadding&&(pe=Math.ceil(pe)),v.prototype.translate.apply(V),V.points.forEach(function(Q){const ce=E(Q.yBottom,F);var ge=999+Math.abs(ce),ke=Q.plotX||0;ge=O(Q.plotY,-ge,g.len+ge);let re=Math.min(ge,ce),ve=Math.max(ge,ce)-re,_e=Y,oe=ke+K,ye=pe;A&&Math.abs(ve)<A&&(ve=A,ke=!g.reversed&&!Q.negative||g.reversed&&Q.negative,H(b)&&H(he)&&Q.y===b&&he<=b&&(g.min||0)<b&&(le!==he||(g.max||0)<=b)&&(ke=!ke),re=Math.abs(re-F)>A?ce-A:F-(ke?A:0)),G(Q.options.pointWidth)&&(_e=ye=Math.ceil(Q.options.pointWidth),oe-=Math.round((_e-Y)/2)),w.centerInCategory&&(oe=V.adjustForMissingColumns(oe,_e,Q,X)),Q.barX=oe,Q.pointWidth=_e,Q.tooltipPos=j.inverted?[O(g.len+g.pos-j.plotLeft-ge,g.pos-j.plotLeft,g.len+g.pos-j.plotLeft),m.len+m.pos-j.plotTop-oe-ye/2,ve]:[m.left-j.plotLeft+oe+ye/2,O(ge+g.pos-j.plotTop,g.pos-j.plotTop,g.len+g.pos-j.plotTop),ve],Q.shapeType=V.pointClass.prototype.shapeType||"roundedRect",Q.shapeArgs=V.crispCol(oe,Q.isNull?F:re,ye,Q.isNull?0:ve)}),S(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(V,j){const w=this.options;var I=this.pointAttrToOptions||{},m=I.stroke||"borderColor";const g=I["stroke-width"]||"borderWidth";let b,A=V&&V.color||this.color,X=V&&V[m]||w[m]||A;I=V&&V.options.dashStyle||w.dashStyle;let Y=V&&V[g]||w[g]||this[g]||0,K=E(V&&V.opacity,w.opacity,1);return V&&this.zones.length&&(b=V.getZone(),A=V.options.color||b&&(b.color||V.nonZonedColor)||this.color,b&&(X=b.borderColor||X,I=b.dashStyle||I,Y=b.borderWidth||Y)),j&&V&&(V=U(w.states[j],V.options.states&&V.options.states[j]||{}),j=V.brightness,A=V.color||typeof j<"u"&&z(A).brighten(V.brightness).get()||A,X=V[m]||X,Y=V[g]||Y,I=V.dashStyle||I,K=E(V.opacity,K)),m={fill:A,stroke:X,"stroke-width":Y,opacity:K},I&&(m.dashstyle=I),m}drawPoints(V=this.points){const j=this,w=this.chart,I=j.options,m=w.renderer,g=I.animationLimit||250;let b;V.forEach(function(A){let X=A.graphic,Y=!!X,K=X&&w.pointCount<g?"animate":"attr";H(A.plotY)&&A.y!==null?(b=A.shapeArgs,X&&A.hasNewShapeType()&&(X=X.destroy()),j.enabledDataSorting&&(A.startXPos=j.xAxis.reversed?-(b&&b.width||0):j.xAxis.width),X||(A.graphic=X=m[A.shapeType](b).add(A.group||j.group))&&j.enabledDataSorting&&w.hasRendered&&w.pointCount<g&&(X.attr({x:A.startXPos}),Y=!0,K="animate"),X&&Y&&X[K](U(b)),w.styledMode||X[K](j.pointAttribs(A,A.selected&&"select")).shadow(A.allowShadow!==!1&&I.shadow),X&&(X.addClass(A.getClassName(),!0),X.attr({visibility:A.visible?"inherit":"hidden"}))):X&&(A.graphic=X.destroy())})}drawTracker(V=this.points){const j=this,w=j.chart,I=w.pointer,m=function(b){const A=I.getPointFromEvent(b);typeof A<"u"&&(I.isDirectTouch=!0,A.onMouseOver(b))};let g;V.forEach(function(b){g=P(b.dataLabels)?b.dataLabels:b.dataLabel?[b.dataLabel]:[],b.graphic&&(b.graphic.element.point=b),g.forEach(function(A){A.div?A.div.point=b:A.element.point=b})}),j._hasTracking||(j.trackerGroups.forEach(function(b){j[b]&&(j[b].addClass("highcharts-tracker").on("mouseover",m).on("mouseout",function(A){I.onTrackerMouseOut(A)}),q&&j[b].on("touchstart",m),!w.styledMode&&j.options.cursor&&j[b].css({cursor:j.options.cursor}))}),j._hasTracking=!0),S(this,"afterDrawTracker")}remove(){const V=this,j=V.chart;j.hasRendered&&j.series.forEach(function(w){w.type===V.type&&(w.isDirty=!0)}),v.prototype.remove.apply(V,arguments)}}return te.defaultOptions=U(v.defaultOptions,h),M(te.prototype,{cropShoulder:0,directTouch:!0,getSymbol:L,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),R.registerSeriesType("column",te),te}),n(r,"Core/Series/DataLabel.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(o,d,h){const{getDeferredAnimation:s}=o,{format:v}=d,{defined:R,extend:J,fireEvent:k,isArray:z,isString:q,merge:L,objectEach:O,pick:G,splat:M}=h;var S;return function(P){function H(I,m,g,b,A){const X=this.chart;var Y=this.isCartesian&&X.inverted;const K=this.enabledDataSorting;var le=I.plotX,he=I.plotY;const pe=g.rotation;var F=g.align;he=R(le)&&R(he)&&X.isInsidePlot(le,Math.round(he),{inverted:Y,paneCoordinates:!0,series:this});let Q=G(g.overflow,K?"none":"justify")==="justify";if(Y=this.visible&&I.visible!==!1&&R(le)&&(I.series.forceDL||K&&!Q||he||G(g.inside,!!this.options.stacking)&&b&&X.isInsidePlot(le,Y?b.x+1:b.y+b.height-1,{inverted:Y,paneCoordinates:!0,series:this})),le=I.pos(),Y&&le){pe&&m.attr({align:F}),F=m.getBBox(!0);var ce=[0,0],ge=X.renderer.fontMetrics(m).b;if(b=J({x:le[0],y:Math.round(le[1]),width:0,height:0},b),J(g,{width:F.width,height:F.height}),pe?(Q=!1,ce=X.renderer.rotCorr(ge,pe),ge={x:b.x+(g.x||0)+b.width/2+ce.x,y:b.y+(g.y||0)+{top:0,middle:.5,bottom:1}[g.verticalAlign]*b.height},ce=[F.x-Number(m.attr("x")),F.y-Number(m.attr("y"))],K&&this.xAxis&&!Q&&this.setDataLabelStartPos(I,m,A,he,ge),m[A?"attr":"animate"](ge)):(K&&this.xAxis&&!Q&&this.setDataLabelStartPos(I,m,A,he,b),m.align(g,void 0,b),ge=m.alignAttr),Q&&0<=b.height)this.justifyDataLabel(m,g,ge,F,b,A);else if(G(g.crop,!0)){let{x:ke,y:re}=ge;ke+=ce[0],re+=ce[1],Y=X.isInsidePlot(ke,re,{paneCoordinates:!0,series:this})&&X.isInsidePlot(ke+F.width,re+F.height,{paneCoordinates:!0,series:this})}g.shape&&!pe&&m[A?"attr":"animate"]({anchorX:le[0],anchorY:le[1]})}A&&K&&(m.placed=!1),Y||K&&!Q?m.show():(m.hide(),m.placed=!1)}function U(I,m){var g=m.filter;return g?(m=g.operator,I=I[g.property],g=g.value,m===">"&&I>g||m==="<"&&I<g||m===">="&&I>=g||m==="<="&&I<=g||m==="=="&&I==g||m==="==="&&I===g):!0}function E(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function ie(I){const m=this.hasRendered||0,g=this.initDataLabelsGroup().attr({opacity:+m});return!m&&g&&(this.visible&&g.show(),this.options.animation?g.animate({opacity:1},I):g.attr({opacity:1})),g}function te(I=this.points){const m=this,g=m.chart,b=m.options,A=g.renderer,{backgroundColor:X,plotBackgroundColor:Y}=g.options.chart,K=A.getContrast(q(Y)&&Y||q(X)&&X||"#000000");let le=b.dataLabels,he,pe;var F=M(le)[0];const Q=F.animation;F=F.defer?s(g,Q,m):{defer:0,duration:0},le=V(V(g.options.plotOptions&&g.options.plotOptions.series&&g.options.plotOptions.series.dataLabels,g.options.plotOptions&&g.options.plotOptions[m.type]&&g.options.plotOptions[m.type].dataLabels),le),k(this,"drawDataLabels"),(z(le)||le.enabled||m._hasPointLabels)&&(pe=this.initDataLabels(F),I.forEach(ce=>{he=M(V(le,ce.dlOptions||ce.options&&ce.options.dataLabels)),he.forEach((ge,ke)=>{const re=ge.enabled&&(!ce.isNull||ce.dataLabelOnNull)&&U(ce,ge),ve=ce.connectors?ce.connectors[ke]:ce.connector;let _e,oe,ye=ce.dataLabels?ce.dataLabels[ke]:ce.dataLabel,Se=!ye;const Re=G(ge.distance,ce.labelDistance);if(re){var Oe=ce.getLabelConfig(),Ue=G(ge[ce.formatPrefix+"Format"],ge.format);if(Oe=R(Ue)?v(Ue,Oe,g):(ge[ce.formatPrefix+"Formatter"]||ge.formatter).call(Oe,ge),Ue=ge.style,_e=ge.rotation,g.styledMode||(Ue.color=G(ge.color,Ue.color,m.color,"#000000"),Ue.color==="contrast"?(ce.contrastColor=A.getContrast(ce.color||m.color),Ue.color=!R(Re)&&ge.inside||0>Re||b.stacking?ce.contrastColor:K):delete ce.contrastColor,b.cursor&&(Ue.cursor=b.cursor)),oe={r:ge.borderRadius||0,rotation:_e,padding:ge.padding,zIndex:1},!g.styledMode){const{backgroundColor:st,borderColor:Qe}=ge;oe.fill=st==="auto"?ce.color:st,oe.stroke=Qe==="auto"?ce.color:Qe,oe["stroke-width"]=ge.borderWidth}O(oe,function(st,Qe){typeof st>"u"&&delete oe[Qe]})}!ye||re&&R(Oe)&&!!ye.div==!!ge.useHTML&&(ye.rotation&&ge.rotation||ye.rotation===ge.rotation)||(Se=!0,ce.dataLabel=ye=ce.dataLabel&&ce.dataLabel.destroy(),ce.dataLabels&&(ce.dataLabels.length===1?delete ce.dataLabels:delete ce.dataLabels[ke]),ke||delete ce.dataLabel,ve&&(ce.connector=ce.connector.destroy(),ce.connectors&&(ce.connectors.length===1?delete ce.connectors:delete ce.connectors[ke]))),re&&R(Oe)?(ye?oe.text=Oe:(ce.dataLabels=ce.dataLabels||[],ye=ce.dataLabels[ke]=_e?A.text(Oe,0,0,ge.useHTML).addClass("highcharts-data-label"):A.label(Oe,0,0,ge.shape,null,null,ge.useHTML,null,"data-label"),ke||(ce.dataLabel=ye),ye.addClass(" highcharts-data-label-color-"+ce.colorIndex+" "+(ge.className||"")+(ge.useHTML?" highcharts-tracker":""))),ye.options=ge,ye.attr(oe),g.styledMode||ye.css(Ue).shadow(ge.shadow),(ke=ge[ce.formatPrefix+"TextPath"]||ge.textPath)&&!ge.useHTML&&(ye.setTextPath(ce.getDataLabelPath&&ce.getDataLabelPath(ye)||ce.graphic,ke),ce.dataLabelPath&&!ke.enabled&&(ce.dataLabelPath=ce.dataLabelPath.destroy())),ye.added||ye.add(pe),m.alignDataLabel(ce,ye,ge,null,Se)):ye&&ye.hide()})})),k(this,"afterDrawDataLabels")}function $(I,m,g,b,A,X){const Y=this.chart,K=m.align,le=m.verticalAlign,he=I.box?0:I.padding||0;let{x:pe=0,y:F=0}=m,Q,ce;return Q=(g.x||0)+he,0>Q&&(K==="right"&&0<=pe?(m.align="left",m.inside=!0):pe-=Q,ce=!0),Q=(g.x||0)+b.width-he,Q>Y.plotWidth&&(K==="left"&&0>=pe?(m.align="right",m.inside=!0):pe+=Y.plotWidth-Q,ce=!0),Q=g.y+he,0>Q&&(le==="bottom"&&0<=F?(m.verticalAlign="top",m.inside=!0):F-=Q,ce=!0),Q=(g.y||0)+b.height-he,Q>Y.plotHeight&&(le==="top"&&0>=F?(m.verticalAlign="bottom",m.inside=!0):F+=Y.plotHeight-Q,ce=!0),ce&&(m.x=pe,m.y=F,I.placed=!X,I.align(m,void 0,A)),ce}function V(I,m){let g=[],b;if(z(I)&&!z(m))g=I.map(function(A){return L(A,m)});else if(z(m)&&!z(I))g=m.map(function(A){return L(I,A)});else if(z(I)||z(m))for(b=Math.max(I.length,m.length);b--;)g[b]=L(I[b],m[b]);else g=L(I,m);return g}function j(I,m,g,b,A){const X=this.chart,Y=X.inverted,K=this.xAxis,le=K.reversed,he=Y?m.height/2:m.width/2;I=(I=I.pointWidth)?I/2:0,m.startXPos=Y?A.x:le?-he-I:K.width-he+I,m.startYPos=Y?le?this.yAxis.height-he+I:-he-I:A.y,b?m.visibility==="hidden"&&(m.show(),m.attr({opacity:0}).animate({opacity:1})):m.attr({opacity:1}).animate({opacity:0},void 0,m.hide),X.hasRendered&&(g&&m.attr({x:m.startXPos,y:m.startYPos}),m.placed=!0)}const w=[];P.compose=function(I){h.pushUnique(w,I)&&(I=I.prototype,I.initDataLabelsGroup=E,I.initDataLabels=ie,I.alignDataLabel=H,I.drawDataLabels=te,I.justifyDataLabel=$,I.setDataLabelStartPos=j)}}(S||(S={})),S}),n(r,"Series/Column/ColumnDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{series:s}=d,{merge:v,pick:R}=h;var J;return function(k){function z(L,O,G,M,S){let P=this.chart.inverted;var H=L.series;let U=(H.xAxis?H.xAxis.len:this.chart.plotSizeX)||0;H=(H.yAxis?H.yAxis.len:this.chart.plotSizeY)||0;var E=L.dlBox||L.shapeArgs;let ie=R(L.below,L.plotY>R(this.translatedThreshold,H)),te=R(G.inside,!!this.options.stacking);E&&(M=v(E),0>M.y&&(M.height+=M.y,M.y=0),E=M.y+M.height-H,0<E&&E<M.height&&(M.height-=E),P&&(M={x:H-M.y-M.height,y:U-M.x-M.width,width:M.height,height:M.width}),te||(P?(M.x+=ie?0:M.width,M.width=0):(M.y+=ie?M.height:0,M.height=0))),G.align=R(G.align,!P||te?"center":ie?"right":"left"),G.verticalAlign=R(G.verticalAlign,P||te?"middle":ie?"top":"bottom"),s.prototype.alignDataLabel.call(this,L,O,G,M,S),G.inside&&L.contrastColor&&O.css({color:L.contrastColor})}const q=[];k.compose=function(L){o.compose(s),h.pushUnique(q,L)&&(L.prototype.alignDataLabel=z)}}(J||(J={})),J}),n(r,"Series/Bar/BarSeries.js",[r["Series/Column/ColumnSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{extend:s,merge:v}=h;class R extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return R.defaultOptions=v(o.defaultOptions,{}),s(R.prototype,{inverted:!0}),d.registerSeriesType("bar",R),R}),n(r,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),n(r,"Series/Scatter/ScatterSeries.js",[r["Series/Scatter/ScatterSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{column:s,line:v}=d.seriesTypes,{addEvent:R,extend:J,merge:k}=h;class z extends v{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const L=this,O=this.options.jitter,G=this.points.length;O&&this.points.forEach(function(M,S){["x","y"].forEach(function(P,H){let U="plot"+P.toUpperCase(),E,ie;if(O[P]&&!M.isNull){var te=L[P+"Axis"];ie=O[P]*te.transA,te&&!te.isLog&&(E=Math.max(0,M[U]-ie),te=Math.min(te.len,M[U]+ie),H=1e4*Math.sin(S+H*G),H-=Math.floor(H),M[U]=E+(te-E)*H,P==="x"&&(M.clientX=M.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return z.defaultOptions=k(v.defaultOptions,o),J(z.prototype,{drawTracker:s.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),R(z,"afterTranslate",function(){this.applyJitter()}),d.registerSeriesType("scatter",z),z}),n(r,"Series/CenteredUtilities.js",[r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(o,d,h){const{deg2rad:s}=o,{fireEvent:v,isNumber:R,pick:J,relativeLength:k}=h;var z;return function(q){q.getCenter=function(){var L=this.options,O=this.chart;const G=2*(L.slicedOffset||0),M=O.plotWidth-2*G,S=O.plotHeight-2*G;var P=L.center;const H=Math.min(M,S),U=L.thickness;var E=L.size;let ie=L.innerSize||0;for(typeof E=="string"&&(E=parseFloat(E)),typeof ie=="string"&&(ie=parseFloat(ie)),L=[J(P[0],"50%"),J(P[1],"50%"),J(E&&0>E?void 0:L.size,"100%"),J(ie&&0>ie?void 0:L.innerSize||0,"0%")],!O.angular||this instanceof d||(L[3]=0),P=0;4>P;++P)E=L[P],O=2>P||P===2&&/%$/.test(E),L[P]=k(E,[M,S,H,L[2]][P])+(O?G:0);return L[3]>L[2]&&(L[3]=L[2]),R(U)&&2*U<L[2]&&0<U&&(L[3]=L[2]-2*U),v(this,"afterGetCenter",{positions:L}),L},q.getStartAndEndRadians=function(L,O){return L=R(L)?L:0,O=R(O)&&O>L&&360>O-L?O:L+360,{start:s*(L+-90),end:s*(O+-90)}}}(z||(z={})),z}),n(r,"Series/Pie/PiePoint.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(o,d,h){const{setAnimation:s}=o,{addEvent:v,defined:R,extend:J,isNumber:k,pick:z,relativeLength:q}=h;class L extends d{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const G=this.labelPosition,M=this.series.options.dataLabels,S=this.connectorShapes;let P=M.connectorShape;return S[P]&&(P=S[P]),P.call(this,{x:G.computed.x,y:G.computed.y,alignment:G.alignment},G.connectorPosition,M)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(G){const M=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(M.x,M.y,M.r+G,M.r+G,{innerR:M.r-1,start:M.start,end:M.end,borderRadius:M.borderRadius})}init(){super.init.apply(this,arguments),this.name=z(this.name,"Slice");const G=M=>{this.slice(M.type==="select")};return v(this,"select",G),v(this,"unselect",G),this}isValid(){return k(this.y)&&0<=this.y}setVisible(G,M){const S=this.series,P=S.chart,H=S.options.ignoreHiddenPoint;M=z(M,H),G!==this.visible&&(this.visible=this.options.visible=G=typeof G>"u"?!this.visible:G,S.options.data[S.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(U=>{this[U]&&this[U][G?"show":"hide"](G)}),this.legendItem&&P.legend.colorizeItem(this,G),G||this.state!=="hover"||this.setState(""),H&&(S.isDirty=!0),M&&P.redraw())}slice(G,M,S){const P=this.series;s(S,P.chart),z(M,!0),this.sliced=this.options.sliced=R(G)?G:!this.sliced,P.options.data[P.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return J(L.prototype,{connectorShapes:{fixedOffset:function(O,G,M){const S=G.breakAt;return G=G.touchingSliceAt,[["M",O.x,O.y],M.softConnector?["C",O.x+(O.alignment==="left"?-5:5),O.y,2*S.x-G.x,2*S.y-G.y,S.x,S.y]:["L",S.x,S.y],["L",G.x,G.y]]},straight:function(O,G){return G=G.touchingSliceAt,[["M",O.x,O.y],["L",G.x,G.y]]},crookedLine:function(O,G,M){const{breakAt:S,touchingSliceAt:P}=G;({series:G}=this);const[H,U,E]=G.center,ie=E/2,te=G.chart.plotWidth,$=G.chart.plotLeft;G=O.alignment==="left";const{x:V,y:j}=O;return M.crookDistance?(O=q(M.crookDistance,1),O=G?H+ie+(te+$-H-ie)*(1-O):$+(H-ie)*O):O=H+(U-j)*Math.tan((this.angle||0)-Math.PI/2),M=[["M",V,j]],(G?O<=V&&O>=S.x:O>=V&&O<=S.x)&&M.push(["L",O,j]),M.push(["L",S.x,S.y],["L",P.x,P.y]),M}}}),L}),n(r,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),n(r,"Series/Pie/PieSeries.js",[r["Series/CenteredUtilities.js"],r["Series/Column/ColumnSeries.js"],r["Core/Globals.js"],r["Series/Pie/PiePoint.js"],r["Series/Pie/PieSeriesDefaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R,J,k,z){const{getStartAndEndRadians:q}=o;({noop:h}=h);const{clamp:L,extend:O,fireEvent:G,merge:M,pick:S,relativeLength:P}=z;class H extends R{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(E){const ie=this,te=ie.points,$=ie.startAngleRad;E||te.forEach(function(V){const j=V.graphic,w=V.shapeArgs;j&&w&&(j.attr({r:S(V.startR,ie.center&&ie.center[3]/2),start:$,end:$}),j.animate({r:w.r,start:w.start,end:w.end},ie.options.animation))})}drawEmpty(){const E=this.startAngleRad,ie=this.endAngleRad,te=this.options;let $,V;this.total===0&&this.center?($=this.center[0],V=this.center[1],this.graph||(this.graph=this.chart.renderer.arc($,V,this.center[1]/2,0,E,ie).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:k.arc($,V,this.center[2]/2,0,{start:E,end:ie,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":te.borderWidth,fill:te.fillColor||"none",stroke:te.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const E=this.chart.renderer;this.points.forEach(function(ie){ie.graphic&&ie.hasNewShapeType()&&(ie.graphic=ie.graphic.destroy()),ie.graphic||(ie.graphic=E[ie.shapeType](ie.shapeArgs).add(ie.series.group),ie.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(E,ie,te){const $=this.center,V=this.radii?this.radii[te.index]||0:$[2]/2;return E=Math.asin(L((E-$[1])/(V+te.labelDistance),-1,1)),$[0]+(ie?-1:1)*Math.cos(E)*(V+te.labelDistance)+(0<te.labelDistance?(ie?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const E=this,ie=E.chart;let te,$,V,j;this.drawEmpty(),E.group&&!ie.styledMode&&E.group.shadow(E.options.shadow),E.points.forEach(function(w){const I={};$=w.graphic,!w.isNull&&$?(j=w.shapeArgs,te=w.getTranslate(),ie.styledMode||(V=E.pointAttribs(w,w.selected&&"select")),w.delayedRendering?($.setRadialReference(E.center).attr(j).attr(te),ie.styledMode||$.attr(V).attr({"stroke-linejoin":"round"}),w.delayedRendering=!1):($.setRadialReference(E.center),ie.styledMode||M(!0,I,V),M(!0,I,j,te),$.animate(I)),$.attr({visibility:w.visible?"inherit":"hidden"}),$.addClass(w.getClassName(),!0)):$&&(w.graphic=$.destroy())})}sortByAngle(E,ie){E.sort(function(te,$){return typeof te.angle<"u"&&($.angle-te.angle)*ie})}translate(E){G(this,"translate"),this.generatePoints();var ie=this.options;const te=ie.slicedOffset,$=te+(ie.borderWidth||0);var V=q(ie.startAngle,ie.endAngle);const j=this.startAngleRad=V.start;V=(this.endAngleRad=V.end)-j;const w=this.points,I=ie.dataLabels.distance;ie=ie.ignoreHiddenPoint;const m=w.length;let g,b,A,X=0;for(E||(this.center=E=this.getCenter()),b=0;b<m;b++){A=w[b];var Y=j+X*V;!A.isValid()||ie&&!A.visible||(X+=A.percentage/100);var K=j+X*V,le={x:E[0],y:E[1],r:E[2]/2,innerR:E[3]/2,start:Math.round(1e3*Y)/1e3,end:Math.round(1e3*K)/1e3};A.shapeType="arc",A.shapeArgs=le,A.labelDistance=S(A.options.dataLabels&&A.options.dataLabels.distance,I),A.labelDistance=P(A.labelDistance,le.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,A.labelDistance),K=(K+Y)/2,K>1.5*Math.PI?K-=2*Math.PI:K<-Math.PI/2&&(K+=2*Math.PI),A.slicedTranslation={translateX:Math.round(Math.cos(K)*te),translateY:Math.round(Math.sin(K)*te)},le=Math.cos(K)*E[2]/2,g=Math.sin(K)*E[2]/2,A.tooltipPos=[E[0]+.7*le,E[1]+.7*g],A.half=K<-Math.PI/2||K>Math.PI/2?1:0,A.angle=K,Y=Math.min($,A.labelDistance/5),A.labelPosition={natural:{x:E[0]+le+Math.cos(K)*A.labelDistance,y:E[1]+g+Math.sin(K)*A.labelDistance},computed:{},alignment:0>A.labelDistance?"center":A.half?"right":"left",connectorPosition:{breakAt:{x:E[0]+le+Math.cos(K)*Y,y:E[1]+g+Math.sin(K)*Y},touchingSliceAt:{x:E[0]+le,y:E[1]+g}}}}G(this,"afterTranslate")}updateTotals(){const E=this.points,ie=E.length,te=this.options.ignoreHiddenPoint;let $,V,j=0;for($=0;$<ie;$++)V=E[$],!V.isValid()||te&&!V.visible||(j+=V.y);for(this.total=j,$=0;$<ie;$++)V=E[$],V.percentage=0<j&&(V.visible||!te)?V.y/j*100:0,V.total=j}}return H.defaultOptions=M(R.defaultOptions,v),O(H.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:d.prototype.drawTracker,getCenter:o.getCenter,getSymbol:h,isCartesian:!1,noSharedTooltip:!0,pointAttribs:d.prototype.pointAttribs,pointClass:s,requireSorting:!1,searchPoint:h,trackerGroups:["group","dataLabelsGroup"]}),J.registerSeriesType("pie",H),H}),n(r,"Series/Pie/PieDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,v){const{noop:R}=d,{distribute:J}=h,{series:k}=s,{arrayMax:z,clamp:q,defined:L,merge:O,pick:G,relativeLength:M}=v;var S;return function(P){function H(){const $=this,V=$.data,j=$.chart,w=$.options.dataLabels||{},I=w.connectorPadding,m=j.plotWidth,g=j.plotHeight,b=j.plotLeft,A=Math.round(j.chartWidth/3),X=$.center,Y=X[2]/2,K=X[1],le=[[],[]],he=[0,0,0,0],pe=$.dataLabelPositioners;let F,Q,ce,ge,ke,re,ve,_e,oe,ye,Se,Re;$.visible&&(w.enabled||$._hasPointLabels)&&(V.forEach(function(Oe){Oe.dataLabel&&Oe.visible&&Oe.dataLabel.shortened&&(Oe.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Oe.dataLabel.shortened=!1)}),k.prototype.drawDataLabels.apply($),V.forEach(function(Oe){Oe.dataLabel&&(Oe.visible?(le[Oe.half].push(Oe),Oe.dataLabel._pos=null,!L(w.style.width)&&!L(Oe.options.dataLabels&&Oe.options.dataLabels.style&&Oe.options.dataLabels.style.width)&&Oe.dataLabel.getBBox().width>A&&(Oe.dataLabel.css({width:Math.round(.7*A)+"px"}),Oe.dataLabel.shortened=!0)):(Oe.dataLabel=Oe.dataLabel.destroy(),Oe.dataLabels&&Oe.dataLabels.length===1&&delete Oe.dataLabels))}),le.forEach((Oe,Ue)=>{const st=Oe.length,Qe=[];let qe,xe=0;if(st){if($.sortByAngle(Oe,Ue-.5),0<$.maxLabelDistance){var Ie=Math.max(0,K-Y-$.maxLabelDistance);qe=Math.min(K+Y+$.maxLabelDistance,j.plotHeight),Oe.forEach(function(Be){0<Be.labelDistance&&Be.dataLabel&&(Be.top=Math.max(0,K-Y-Be.labelDistance),Be.bottom=Math.min(K+Y+Be.labelDistance,j.plotHeight),xe=Be.dataLabel.getBBox().height||21,Be.distributeBox={target:Be.labelPosition.natural.y-Be.top+xe/2,size:xe,rank:Be.y},Qe.push(Be.distributeBox))}),Ie=qe+xe-Ie,J(Qe,Ie,Ie/5)}for(Se=0;Se<st;Se++){if(F=Oe[Se],re=F.labelPosition,ge=F.dataLabel,ye=F.visible===!1?"hidden":"inherit",oe=Ie=re.natural.y,Qe&&L(F.distributeBox)&&(typeof F.distributeBox.pos>"u"?ye="hidden":(ve=F.distributeBox.size,oe=pe.radialDistributionY(F))),delete F.positionIndex,w.justify)_e=pe.justify(F,Y,X);else switch(w.alignTo){case"connectors":_e=pe.alignToConnectors(Oe,Ue,m,b);break;case"plotEdges":_e=pe.alignToPlotEdges(ge,Ue,m,b);break;default:_e=pe.radialDistributionX($,F,oe,Ie)}ge._attr={visibility:ye,align:re.alignment},Re=F.options.dataLabels||{},ge._pos={x:_e+G(Re.x,w.x)+({left:I,right:-I}[re.alignment]||0),y:oe+G(Re.y,w.y)-ge.getBBox().height/2},re&&(re.computed.x=_e,re.computed.y=oe),G(w.crop,!0)&&(ke=ge.getBBox().width,Ie=null,_e-ke<I&&Ue===1?(Ie=Math.round(ke-_e+I),he[3]=Math.max(Ie,he[3])):_e+ke>m-I&&Ue===0&&(Ie=Math.round(_e+ke-m+I),he[1]=Math.max(Ie,he[1])),0>oe-ve/2?he[0]=Math.max(Math.round(-oe+ve/2),he[0]):oe+ve/2>g&&(he[2]=Math.max(Math.round(oe+ve/2-g),he[2])),ge.sideOverflow=Ie)}}}),z(he)===0||this.verifyDataLabelOverflow(he))&&(this.placeDataLabels(),this.points.forEach(function(Oe){if(Re=O(w,Oe.options.dataLabels),Q=G(Re.connectorWidth,1)){let Ue;ce=Oe.connector,(ge=Oe.dataLabel)&&ge._pos&&Oe.visible&&0<Oe.labelDistance?(ye=ge._attr.visibility,(Ue=!ce)&&(Oe.connector=ce=j.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Oe.colorIndex+(Oe.className?" "+Oe.className:"")).add($.dataLabelsGroup),j.styledMode||ce.attr({"stroke-width":Q,stroke:Re.connectorColor||Oe.color||"#666666"})),ce[Ue?"attr":"animate"]({d:Oe.getConnectorPath()}),ce.attr("visibility",ye)):ce&&(Oe.connector=ce.destroy())}}))}function U(){this.points.forEach(function($){let V=$.dataLabel,j;V&&$.visible&&((j=V._pos)?(V.sideOverflow&&(V._attr.width=Math.max(V.getBBox().width-V.sideOverflow,0),V.css({width:V._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),V.shortened=!0),V.attr(V._attr),V[V.moved?"animate":"attr"](j),V.moved=!0):V&&V.attr({y:-9999})),delete $.distributeBox},this)}function E($){let V=this.center,j=this.options,w=j.center,I=j.minSize||80,m,g=j.size!==null;return g||(w[0]!==null?m=Math.max(V[2]-Math.max($[1],$[3]),I):(m=Math.max(V[2]-$[1]-$[3],I),V[0]+=($[3]-$[1])/2),w[1]!==null?m=q(m,I,V[2]-Math.max($[0],$[2])):(m=q(m,I,V[2]-$[0]-$[2]),V[1]+=($[0]-$[2])/2),m<V[2]?(V[2]=m,V[3]=Math.min(j.thickness?Math.max(0,m-2*j.thickness):Math.max(0,M(j.innerSize||0,m)),m),this.translate(V),this.drawDataLabels&&this.drawDataLabels()):g=!0),g}const ie=[],te={radialDistributionY:function($){return $.top+$.distributeBox.pos},radialDistributionX:function($,V,j,w){return $.getX(j<V.top+2||j>V.bottom-2?w:j,V.half,V)},justify:function($,V,j){return j[0]+($.half?-1:1)*(V+$.labelDistance)},alignToPlotEdges:function($,V,j,w){return $=$.getBBox().width,V?$+w:j-$-w},alignToConnectors:function($,V,j,w){let I=0,m;return $.forEach(function(g){m=g.dataLabel.getBBox().width,m>I&&(I=m)}),V?I+w:j-I-w}};P.compose=function($){o.compose(k),v.pushUnique(ie,$)&&($=$.prototype,$.dataLabelPositioners=te,$.alignDataLabel=R,$.drawDataLabels=H,$.placeDataLabels=U,$.verifyDataLabelOverflow=E)}}(S||(S={})),S}),n(r,"Extensions/OverlappingDataLabels.js",[r["Core/Chart/Chart.js"],r["Core/Utilities.js"]],function(o,d){function h(q,L){let O,G=!1;return q&&(O=q.newOpacity,q.oldOpacity!==O&&(q.alignAttr&&q.placed?(q[O?"removeClass":"addClass"]("highcharts-data-label-hidden"),G=!0,q.alignAttr.opacity=O,q[q.isOld?"animate":"attr"](q.alignAttr,null,function(){L.styledMode||q.css({pointerEvents:O?"auto":"none"})}),v(L,"afterHideOverlappingLabel")):q.attr({opacity:O})),q.isOld=!0),G}const{addEvent:s,fireEvent:v,isArray:R,isNumber:J,objectEach:k,pick:z}=d;s(o,"render",function(){let q=this,L=[];(this.labelCollectors||[]).forEach(function(O){L=L.concat(O())}),(this.yAxis||[]).forEach(function(O){O.stacking&&O.options.stackLabels&&!O.options.stackLabels.allowOverlap&&k(O.stacking.stacks,function(G){k(G,function(M){M.label&&L.push(M.label)})})}),(this.series||[]).forEach(function(O){var G=O.options.dataLabels;O.visible&&(G.enabled!==!1||O._hasPointLabels)&&(G=M=>M.forEach(S=>{S.visible&&(R(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[]).forEach(function(P){const H=P.options;P.labelrank=z(H.labelrank,S.labelrank,S.shapeArgs&&S.shapeArgs.height),H.allowOverlap?(P.oldOpacity=P.opacity,P.newOpacity=1,h(P,q)):L.push(P)})}),G(O.nodes||[]),G(O.points))}),this.hideOverlappingLabels(L)}),o.prototype.hideOverlappingLabels=function(q){let L=this,O=q.length,G=L.renderer;var M;let S,P,H,U,E=!1;var ie=function(te){let $,V;var j;let w=te.box?0:te.padding||0,I=j=0,m,g;if(te&&(!te.alignAttr||te.placed))return $=te.alignAttr||{x:te.attr("x"),y:te.attr("y")},V=te.parentGroup,te.width||(j=te.getBBox(),te.width=j.width,te.height=j.height,j=G.fontMetrics(te.element).h),m=te.width-2*w,(g={left:"0",center:"0.5",right:"1"}[te.alignValue])?I=+g*m:J(te.x)&&Math.round(te.x)!==te.translateX&&(I=te.x-te.translateX),{x:$.x+(V.translateX||0)+w-(I||0),y:$.y+(V.translateY||0)+w-j,width:te.width-2*w,height:te.height-2*w}};for(S=0;S<O;S++)(M=q[S])&&(M.oldOpacity=M.opacity,M.newOpacity=1,M.absoluteBox=ie(M));for(q.sort(function(te,$){return($.labelrank||0)-(te.labelrank||0)}),S=0;S<O;S++)for(H=(ie=q[S])&&ie.absoluteBox,M=S+1;M<O;++M)U=(P=q[M])&&P.absoluteBox,!H||!U||ie===P||ie.newOpacity===0||P.newOpacity===0||ie.visibility==="hidden"||P.visibility==="hidden"||U.x>=H.x+H.width||U.x+U.width<=H.x||U.y>=H.y+H.height||U.y+U.height<=H.y||((ie.labelrank<P.labelrank?ie:P).newOpacity=0);q.forEach(function(te){h(te,L)&&(E=!0)}),E&&v(L,"afterHideAllOverlappingLabels")}}),n(r,"Extensions/BorderRadius.js",[r["Core/Defaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R){const{defaultOptions:J}=o;({seriesTypes:o}=h);const{addEvent:k,extend:z,isObject:q,merge:L,relativeLength:O}=R,G={radius:0,scope:"stack",where:void 0},M=(S,P)=>(q(S)||(S={radius:S||0}),L(G,P,S));if(s.symbolCustomAttribs.indexOf("borderRadius")===-1){s.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const S=v.prototype.symbols.arc;v.prototype.symbols.arc=function(H,U,E,ie,te={}){H=S(H,U,E,ie,te);const{innerR:$=0,r:V=E,start:j=0,end:w=0}=te;if(te.open||!te.borderRadius)return H;for(E=w-j,U=Math.sin(E/2),te=Math.max(Math.min(O(te.borderRadius||0,V-$),(V-$)/2,V*U/(1+U)),0),E=Math.min(te,E/Math.PI*2*$),U=H.length-1;U--;){let Y,K,le;ie=H;var I=U,m=1<U?E:te,g=ie[I],b=ie[I+1];if(b[0]==="Z"&&(b=ie[0]),g[0]!=="M"&&g[0]!=="L"||b[0]!=="A"?g[0]!=="A"||b[0]!=="M"&&b[0]!=="L"||(le=b,K=g):(le=g,K=b,Y=!0),le&&K&&K.params){g=K[1];var A=K[5];b=K.params;const{start:he,end:pe,cx:F,cy:Q}=b;var X=A?g-m:g+m;const ce=X?Math.asin(m/X):0;A=A?ce:-ce,X*=Math.cos(ce),Y?(b.start=he+A,le[1]=F+X*Math.cos(he),le[2]=Q+X*Math.sin(he),ie.splice(I+1,0,["A",m,m,0,0,1,F+g*Math.cos(b.start),Q+g*Math.sin(b.start)])):(b.end=pe-A,K[6]=F+g*Math.cos(b.end),K[7]=Q+g*Math.sin(b.end),ie.splice(I+1,0,["A",m,m,0,0,1,F+X*Math.cos(pe),Q+X*Math.sin(pe)])),K[4]=Math.abs(b.end-b.start)<Math.PI?0:1}}return H};const P=v.prototype.symbols.roundedRect;v.prototype.symbols.roundedRect=function(H,U,E,ie,te={}){const $=P(H,U,E,ie,te),{r:V=0,brBoxHeight:j=ie,brBoxY:w=U}=te;var I=U-w,m=w+j-(U+ie);te=-.1<I-V?0:V;const g=-.1<m-V?0:V;var b=Math.max(te&&I,0);const A=Math.max(g&&m,0);m=[H+te,U],I=[H+E-te,U];const X=[H+E,U+te],Y=[H+E,U+ie-g],K=[H+E-g,U+ie],le=[H+g,U+ie],he=[H,U+ie-g],pe=[H,U+te];if(b){const F=Math.sqrt(Math.pow(te,2)-Math.pow(te-b,2));m[0]-=F,I[0]+=F,X[1]=pe[1]=U+te-b}return ie<te-b&&(b=Math.sqrt(Math.pow(te,2)-Math.pow(te-b-ie,2)),X[0]=Y[0]=H+E-te+b,K[0]=Math.min(X[0],K[0]),le[0]=Math.max(Y[0],le[0]),he[0]=pe[0]=H+te-b,X[1]=pe[1]=U+ie),A&&(b=Math.sqrt(Math.pow(g,2)-Math.pow(g-A,2)),K[0]+=b,le[0]-=b,Y[1]=he[1]=U+ie-g+A),ie<g-A&&(ie=Math.sqrt(Math.pow(g,2)-Math.pow(g-A-ie,2)),X[0]=Y[0]=H+E-g+ie,I[0]=Math.min(X[0],I[0]),m[0]=Math.max(Y[0],m[0]),he[0]=pe[0]=H+g-ie,Y[1]=he[1]=U),$.length=0,$.push(["M",...m],["L",...I],["A",te,te,0,0,1,...X],["L",...Y],["A",g,g,0,0,1,...K],["L",...le],["A",g,g,0,0,1,...he],["L",...pe],["A",te,te,0,0,1,...m],["Z"]),$},k(o.pie,"afterTranslate",function(){const H=M(this.options.borderRadius);for(const U of this.points){const E=U.shapeArgs;E&&(E.borderRadius=O(H.radius,(E.r||0)-(E.innerR||0)))}}),k(d,"afterColumnTranslate",function(){var H,U;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:$,yAxis:V}=this,j=$.stacking==="percent";var E=(U=(H=J.plotOptions)===null||H===void 0?void 0:H[this.type])===null||U===void 0?void 0:U.borderRadius;H=M($.borderRadius,q(E)?E:{}),U=V.options.reversed;for(const w of this.points)if({shapeArgs:E}=w,w.shapeType==="roundedRect"&&E){const{width:I=0,height:m=0,y:g=0}=E;var ie=g,te=m;H.scope==="stack"&&w.stackTotal&&(ie=V.translate(j?100:w.stackTotal,!1,!0,!1,!0),te=V.translate($.threshold||0,!1,!0,!1,!0),te=this.crispCol(0,Math.min(ie,te),0,Math.abs(ie-te)),ie=te.y,te=te.height);const b=(w.negative?-1:1)*(U?-1:1)===-1;let A=H.where;!A&&this.is("waterfall")&&Math.abs((w.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(A="all"),A||(A="end");const X=Math.min(O(H.radius,I),I/2,A==="all"?m/2:1/0)||0;A==="end"&&(b&&(ie-=X),te+=X),z(E,{brBoxHeight:te,brBoxY:ie,r:X})}}},{order:9})}return d={optionsToObject:M},d}),n(r,"Core/Responsive.js",[r["Core/Utilities.js"]],function(o){const{extend:d,find:h,isArray:s,isObject:v,merge:R,objectEach:J,pick:k,splat:z,uniqueKey:q}=o;var L;return function(O){function G(H){function U(te,$,V,j){let w;J(te,function(I,m){if(!j&&-1<E.collectionsWithUpdate.indexOf(m)&&$[m])for(I=z(I),V[m]=[],w=0;w<Math.max(I.length,$[m].length);w++)$[m][w]&&(I[w]===void 0?V[m][w]=$[m][w]:(V[m][w]={},U(I[w],$[m][w],V[m][w],j+1)));else v(I)?(V[m]=s(I)?[]:{},U(I,$[m]||{},V[m],j+1)):V[m]=typeof $[m]>"u"?null:$[m]})}const E=this,ie={};return U(H,this.options,ie,0),ie}function M(H,U){const E=H.condition;(E.callback||function(){return this.chartWidth<=k(E.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=k(E.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=k(E.minWidth,0)&&this.chartHeight>=k(E.minHeight,0)}).call(this)&&U.push(H._id)}function S(H,U){const E=this.options.responsive;var ie=this.currentResponsive;let te=[];!U&&E&&E.rules&&E.rules.forEach($=>{typeof $._id>"u"&&($._id=q()),this.matchResponsiveRule($,te)},this),U=R(...te.map($=>h((E||{}).rules||[],V=>V._id===$)).map($=>$&&$.chartOptions)),U.isResponsiveOptions=!0,te=te.toString()||void 0,te!==(ie&&ie.ruleIds)&&(ie&&this.update(ie.undoOptions,H,!0),te?(ie=this.currentOptions(U),ie.isResponsiveOptions=!0,this.currentResponsive={ruleIds:te,mergedOptions:U,undoOptions:ie},this.update(U,H,!0)):this.currentResponsive=void 0)}const P=[];O.compose=function(H){return o.pushUnique(P,H)&&d(H.prototype,{currentOptions:G,matchResponsiveRule:M,setResponsive:S}),H}}(L||(L={})),L}),n(r,"masters/highcharts.src.js",[r["Core/Globals.js"],r["Core/Utilities.js"],r["Core/Defaults.js"],r["Core/Animation/Fx.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Renderer/HTML/AST.js"],r["Core/FormatUtilities.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Renderer/HTML/HTMLElement.js"],r["Core/Renderer/HTML/HTMLRenderer.js"],r["Core/Axis/Axis.js"],r["Core/Axis/DateTimeAxis.js"],r["Core/Axis/LogarithmicAxis.js"],r["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],r["Core/Axis/Tick.js"],r["Core/Tooltip.js"],r["Core/Series/Point.js"],r["Core/Pointer.js"],r["Core/Legend/Legend.js"],r["Core/Chart/Chart.js"],r["Core/Axis/Stacking/StackingAxis.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Series/Column/ColumnSeries.js"],r["Series/Column/ColumnDataLabel.js"],r["Series/Pie/PieSeries.js"],r["Series/Pie/PieDataLabel.js"],r["Core/Series/DataLabel.js"],r["Core/Responsive.js"],r["Core/Color/Color.js"],r["Core/Time.js"]],function(o,d,h,s,v,R,J,k,z,q,L,O,G,M,S,P,H,U,E,ie,te,$,V,j,w,I,m,g,b,A,X,Y,K,le){return o.animate=v.animate,o.animObject=v.animObject,o.getDeferredAnimation=v.getDeferredAnimation,o.setAnimation=v.setAnimation,o.stop=v.stop,o.timers=s.timers,o.AST=R,o.Axis=G,o.Chart=$,o.chart=$.chart,o.Fx=s,o.Legend=te,o.PlotLineOrBand=P,o.Point=E,o.Pointer=ie,o.Series=w,o.StackItem=j,o.SVGElement=z,o.SVGRenderer=q,o.Tick=H,o.Time=le,o.Tooltip=U,o.Color=K,o.color=K.parse,O.compose(q),L.compose(z),ie.compose($),te.compose($),o.defaultOptions=h.defaultOptions,o.getOptions=h.getOptions,o.time=h.defaultTime,o.setOptions=h.setOptions,o.dateFormat=J.dateFormat,o.format=J.format,o.numberFormat=J.numberFormat,o.addEvent=d.addEvent,o.arrayMax=d.arrayMax,o.arrayMin=d.arrayMin,o.attr=d.attr,o.clearTimeout=d.clearTimeout,o.correctFloat=d.correctFloat,o.createElement=d.createElement,o.css=d.css,o.defined=d.defined,o.destroyObjectProperties=d.destroyObjectProperties,o.discardElement=d.discardElement,o.distribute=k.distribute,o.erase=d.erase,o.error=d.error,o.extend=d.extend,o.extendClass=d.extendClass,o.find=d.find,o.fireEvent=d.fireEvent,o.getMagnitude=d.getMagnitude,o.getStyle=d.getStyle,o.inArray=d.inArray,o.isArray=d.isArray,o.isClass=d.isClass,o.isDOMElement=d.isDOMElement,o.isFunction=d.isFunction,o.isNumber=d.isNumber,o.isObject=d.isObject,o.isString=d.isString,o.keys=d.keys,o.merge=d.merge,o.normalizeTickInterval=d.normalizeTickInterval,o.objectEach=d.objectEach,o.offset=d.offset,o.pad=d.pad,o.pick=d.pick,o.pInt=d.pInt,o.relativeLength=d.relativeLength,o.removeEvent=d.removeEvent,o.seriesType=I.seriesType,o.splat=d.splat,o.stableSort=d.stableSort,o.syncTimeout=d.syncTimeout,o.timeUnits=d.timeUnits,o.uniqueKey=d.uniqueKey,o.useSerialIds=d.useSerialIds,o.wrap=d.wrap,g.compose(m),X.compose(w),M.compose(G),S.compose(G),A.compose(b),P.compose(G),Y.compose($),V.compose(G,$,w),U.compose(ie),o}),r["masters/highcharts.src.js"]._modules=r,r["masters/highcharts.src.js"]})}(G3)),G3.exports}const GX=gM(R9);(function(e,t){(function(n,r){e.exports=r(B6(),GX)})(window,function(n,r){return h={},o.m=d=[function(s,v){s.exports=n},function(s,v){s.exports=r},function(s,J,R){R.r(J),R.d(J,"Chart",function(){return H}),R.d(J,"default",function(){return U});var J=R(0),k=R.n(J);function z(E,ie){return function te($,V,j){function w(I,m){!k.a.isObject(I,!j)||k.a.isClass(I)||k.a.isDOMElement(I)?$[m]=V[m]:$[m]=te($[m]||k.a.isArray(I)?[]:{},I,j)}return k.a.isArray(V)?V.forEach(w):k.a.objectEach(V,w),$}({},E,ie)}var q=R(1);function L(E){return function(ie){if(Array.isArray(ie))return O(ie)}(E)||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(E)||function(ie,te){if(ie){if(typeof ie=="string")return O(ie,te);var $=Object.prototype.toString.call(ie).slice(8,-1);return($=$==="Object"&&ie.constructor?ie.constructor.name:$)==="Map"||$==="Set"?Array.from(ie):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?O(ie,te):void 0}}(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O(E,ie){(ie==null||ie>E.length)&&(ie=E.length);for(var te=0,$=new Array(ie);te<ie;te++)$[te]=E[te];return $}function G(E,ie){var te,$=Object.keys(E);return Object.getOwnPropertySymbols&&(te=Object.getOwnPropertySymbols(E),ie&&(te=te.filter(function(V){return Object.getOwnPropertyDescriptor(E,V).enumerable})),$.push.apply($,te)),$}function M(E){for(var ie=1;ie<arguments.length;ie++){var te=arguments[ie]!=null?arguments[ie]:{};ie%2?G(Object(te),!0).forEach(function($){var V,j;V=E,$=te[j=$],j in V?Object.defineProperty(V,j,{value:$,enumerable:!0,configurable:!0,writable:!0}):V[j]=$}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(te)):G(Object(te)).forEach(function($){Object.defineProperty(E,$,Object.getOwnPropertyDescriptor(te,$))})}return E}function S(){this.chart&&this.chart.destroy()}var P=function(E,ie){return ie=ie.split(".")[0]<3?{render:function(te){return te("div",{ref:"chart"})},beforeDestroy:S}:{render:function(){return Object(q.h)("div",{ref:"chart"})},beforeUnmount:S},M({template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(te){var $;($=this.chart).update.apply($,[z(te,this.deepCopyOnUpdate)].concat(L(this.updateArgs)))},deep:!0}},mounted:function(){var te=this.highcharts||E;this.options&&te[this.constructorType]?this.chart=te[this.constructorType](this.$refs.chart,z(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}},ie)},H=P(k.a,q.version||R.n(q).a.version);function U(E){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};E.component(ie.tagName||"highcharts",P(ie.highcharts||k.a,E.version))}}],o.c=h,o.d=function(s,v,R){o.o(s,v)||Object.defineProperty(s,v,{enumerable:!0,get:R})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,v){if(1&v&&(s=o(s)),8&v||4&v&&typeof s=="object"&&s&&s.__esModule)return s;var R=Object.create(null);if(o.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:s}),2&v&&typeof s!="string")for(var J in s)o.d(R,J,(function(k){return s[k]}).bind(null,J));return R},o.n=function(s){var v=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(v,"a",v),v},o.o=function(s,v){return Object.prototype.hasOwnProperty.call(s,v)},o.p="",o(o.s=2);function o(s){if(h[s])return h[s].exports;var v=h[s]={i:s,l:!1,exports:{}};return d[s].call(v.exports,v,v.exports,o),v.l=!0,v.exports}var d,h})})(R6);var nm=R6.exports,HX=B6();const pc=Mu(HX);var z6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function n(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},n(t,"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){function v(M,S,P,H,U){let E=!0;const ie=P[0],te=P[1],$=Math.sqrt(Math.pow(M-ie,2)+Math.pow(S-te,2));return k(H)&&k(U)&&(M=Math.atan2(J(S-te,8),J(M-ie,8)),U!==H&&(E=H>U?M>=H&&M<=Math.PI||M<=U&&M>=-Math.PI:M>=H&&M<=J(U,8))),$<=Math.ceil(P[2]/2)&&E}const{addEvent:R,correctFloat:J,defined:k,extend:z,merge:q,pick:L,splat:O}=s;r.prototype.collectionsWithUpdate.push("pane");class G{constructor(S,P){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(S,P)}init(S,P){this.chart=P,this.background=[],P.pane.push(this),this.setOptions(S)}setOptions(S){this.options=q(this.defaultOptions,this.chart.angular?{background:{}}:void 0,S)}render(){var S=this.options;let P=this.options.background;var H=this.chart.renderer;if(this.group||(this.group=H.g("pane-group").attr({zIndex:S.zIndex||0}).add()),this.updateCenter(),P)for(P=O(P),S=Math.max(P.length,this.background.length||0),H=0;H<S;H++)P[H]&&this.axis?this.renderBackground(q(this.defaultBackgroundOptions,P[H]),H):this.background[H]&&(this.background[H]=this.background[H].destroy(),this.background.splice(H,1))}renderBackground(S,P){let H="animate",U={class:"highcharts-pane "+(S.className||"")};this.chart.styledMode||z(U,{fill:S.backgroundColor,stroke:S.borderColor,"stroke-width":S.borderWidth}),this.background[P]||(this.background[P]=this.chart.renderer.path().add(this.group),H="attr"),this.background[P][H]({d:this.axis.getPlotBandPath(S.from,S.to,S)}).attr(U)}updateCenter(S){this.center=(S||this.axis||{}).center=o.getCenter.call(this)}update(S,P){q(!0,this.options,S),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(H){H.pane===this&&(H.pane=null,H.update({},P))},this)}}return r.prototype.getHoverPane=function(M){const S=this;let P;return M&&S.pane.forEach(H=>{v(M.chartX-S.plotLeft,M.chartY-S.plotTop,H.center)&&(P=H)}),P},R(r,"afterIsInsidePlot",function(M){this.polar&&(M.options.inverted&&([M.x,M.y]=[M.y,M.x]),M.isInsidePlot=this.pane.some(S=>v(M.x,M.y,S.center,S.axis&&S.axis.normalizedStartAngleRad,S.axis&&S.axis.normalizedEndAngleRad)))}),R(h,"beforeGetHoverData",function(M){const S=this.chart;S.polar?(S.hoverPane=S.getHoverPane(M),M.filter=function(P){return P.visible&&!(!M.shared&&P.directTouch)&&L(P.options.enableMouseTracking,!0)&&(!S.hoverPane||P.xAxis.pane===S.hoverPane)}):S.hoverPane=void 0}),R(h,"afterGetHoverData",function(M){const S=this.chart;M.hoverPoint&&M.hoverPoint.plotX&&M.hoverPoint.plotY&&S.hoverPane&&!v(M.hoverPoint.plotX,M.hoverPoint.plotY,S.hoverPane.center)&&(M.hoverPoint=void 0)}),d.Pane=G,d.Pane}),n(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){const{area:{prototype:{pointClass:d,pointClass:{prototype:h}}}}=r.seriesTypes,{defined:s,isNumber:v}=o;class R extends d{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const k=this.state,z=this.series,q=z.chart.polar;s(this.plotHigh)||(this.plotHigh=z.yAxis.toPixels(this.high,!0)),s(this.plotLow)||(this.plotLow=this.plotY=z.yAxis.toPixels(this.low,!0)),z.stateMarkerGraphic&&(z.lowerStateMarkerGraphic=z.stateMarkerGraphic,z.stateMarkerGraphic=z.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,q&&v(this.plotHighX)&&(this.plotX=this.plotHighX),h.setState.apply(this,arguments),this.state=k,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],q&&v(this.plotLowX)&&(this.plotX=this.plotLowX),z.stateMarkerGraphic&&(z.upperStateMarkerGraphic=z.stateMarkerGraphic,z.stateMarkerGraphic=z.lowerStateMarkerGraphic,z.lowerStateMarkerGraphic=void 0),h.setState.apply(this,arguments)}haloPath(){const k=this.series.chart.polar;let z=[];return this.plotY=this.plotLow,k&&v(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(z=h.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,k&&v(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(z=z.concat(h.haloPath.apply(this,arguments))),z}isValid(){return v(this.low)&&v(this.high)}}return R}),n(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{area:s,area:{prototype:v},column:{prototype:R}}=d.seriesTypes,{addEvent:J,defined:k,extend:z,isArray:q,isNumber:L,pick:O,merge:G}=h;class M extends s{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(P){return[P.low,P.high]}highToXY(P){const H=this.chart,U=this.xAxis.postTranslate(P.rectPlotX||0,this.yAxis.len-(P.plotHigh||0));P.plotHighX=U.x-H.plotLeft,P.plotHigh=U.y-H.plotTop,P.plotLowX=P.plotX}getGraphPath(P){var H=[],U=[];const E=v.getGraphPath;var ie=this.options;const te=this.chart.polar,$=te&&ie.connectEnds!==!1,V=ie.connectNulls;let j,w,I,m=ie.step;for(P=P||this.points,j=P.length;j--;){w=P[j];const g=te?{plotX:w.rectPlotX,plotY:w.yBottom,doCurve:!1}:{plotX:w.plotX,plotY:w.plotY,doCurve:!1};w.isNull||$||V||P[j+1]&&!P[j+1].isNull||U.push(g),I={polarPlotY:w.polarPlotY,rectPlotX:w.rectPlotX,yBottom:w.yBottom,plotX:O(w.plotHighX,w.plotX),plotY:w.plotHigh,isNull:w.isNull},U.push(I),H.push(I),w.isNull||$||V||P[j-1]&&!P[j-1].isNull||U.push(g)}return P=E.call(this,P),m&&(m===!0&&(m="left"),ie.step={left:"right",center:"center",right:"left"}[m]),H=E.call(this,H),U=E.call(this,U),ie.step=m,ie=[].concat(P,H),!this.chart.polar&&U[0]&&U[0][0]==="M"&&(U[0]=["L",U[0][1],U[0][2]]),this.graphPath=ie,this.areaPath=P.concat(U),ie.isArea=!0,ie.xMap=P.xMap,this.areaPath.xMap=P.xMap,ie}drawDataLabels(){const P=this.points,H=P.length,U=[],E=this.options.dataLabels,ie=this.chart.inverted;let te,$,V,j,w;if(E){if(q(E)?(j=E[0]||{enabled:!1},w=E[1]||{enabled:!1}):(j=z({},E),j.x=E.xHigh,j.y=E.yHigh,w=z({},E),w.x=E.xLow,w.y=E.yLow),j.enabled||this._hasPointLabels){for(te=H;te--;)if($=P[te]){const{plotHigh:I=0,plotLow:m=0}=$;V=j.inside?I<m:I>m,$.y=$.high,$._plotY=$.plotY,$.plotY=I,U[te]=$.dataLabel,$.dataLabel=$.dataLabelUpper,$.below=V,ie?j.align||(j.align=V?"right":"left"):j.verticalAlign||(j.verticalAlign=V?"top":"bottom")}for(this.options.dataLabels=j,v.drawDataLabels&&v.drawDataLabels.apply(this,arguments),te=H;te--;)($=P[te])&&($.dataLabelUpper=$.dataLabel,$.dataLabel=U[te],delete $.dataLabels,$.y=$.low,$.plotY=$._plotY)}if(w.enabled||this._hasPointLabels){for(te=H;te--;)if($=P[te]){const{plotHigh:I=0,plotLow:m=0}=$;V=w.inside?I<m:I>m,$.below=!V,ie?w.align||(w.align=V?"left":"right"):w.verticalAlign||(w.verticalAlign=V?"bottom":"top")}this.options.dataLabels=w,v.drawDataLabels&&v.drawDataLabels.apply(this,arguments)}if(j.enabled)for(te=H;te--;)($=P[te])&&($.dataLabels=[$.dataLabelUpper,$.dataLabel].filter(function(I){return!!I}));this.options.dataLabels=E}}alignDataLabel(){R.alignDataLabel.apply(this,arguments)}drawPoints(){const P=this.points.length;let H,U;for(v.drawPoints.apply(this,arguments),H=0;H<P;)U=this.points[H],U.graphics=U.graphics||[],U.origProps={plotY:U.plotY,plotX:U.plotX,isInside:U.isInside,negative:U.negative,zone:U.zone,y:U.y},(U.graphic||U.graphics[0])&&(U.graphics[0]=U.graphic),U.graphic=U.graphics[1],U.plotY=U.plotHigh,k(U.plotHighX)&&(U.plotX=U.plotHighX),U.y=O(U.high,U.origProps.y),U.negative=U.y<(this.options.threshold||0),this.zones.length&&(U.zone=U.getZone()),this.chart.polar||(U.isInside=U.isTopInside=typeof U.plotY<"u"&&0<=U.plotY&&U.plotY<=this.yAxis.len&&0<=U.plotX&&U.plotX<=this.xAxis.len),H++;for(v.drawPoints.apply(this,arguments),H=0;H<P;)U=this.points[H],U.graphics=U.graphics||[],(U.graphic||U.graphics[1])&&(U.graphics[1]=U.graphic),U.graphic=U.graphics[0],U.origProps&&(z(U,U.origProps),delete U.origProps),H++}}return M.defaultOptions=G(s.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),J(M,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(S=>{const P=S.high,H=S.plotY;S.isNull?S.plotY=void 0:(S.plotLow=H,S.plotHigh=L(P)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(P):P,!1,!0,void 0,!0):void 0,this.dataModify&&(S.yBottom=S.plotHigh))})},{order:0}),J(M,"afterTranslate",function(){this.points.forEach(S=>{if(this.chart.polar)this.highToXY(S),S.plotLow=S.plotY,S.tooltipPos=[((S.plotHighX||0)+(S.plotLowX||0))/2,((S.plotHigh||0)+(S.plotLow||0))/2];else{const P=S.pos(!1,S.plotLow),H=S.pos(!1,S.plotHigh);P&&H&&(P[0]=(P[0]+H[0])/2,P[1]=(P[1]+H[1])/2),S.tooltipPos=P}})},{order:3}),z(M.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:r,pointValKey:"low",setStackedPoints:o}),d.registerSeriesType("arearange",M),M}),n(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){const{spline:{prototype:h}}=o.seriesTypes,{merge:s,extend:v}=d;class R extends r{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return R.defaultOptions=s(r.defaultOptions),v(R.prototype,{getPointSpline:h.getPointSpline}),o.registerSeriesType("areasplinerange",R),R}),n(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{extend:s,merge:v,pick:R}=h;class J extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const z=this.yAxis,q=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(L){q.forEach(function(O){L[O]!==null&&(L[O+"Plot"]=z.translate(L[O],0,1,0,1))}),L.plotHigh=L.highPlot})}drawPoints(){let z=this,q=z.options,L=z.chart,O=L.renderer,G,M,S,P,H,U,E=0,ie,te,$,V,j=z.doQuartiles!==!1,w,I=z.options.whiskerLength;z.points.forEach(function(m){var g=m.graphic;let b=g?"animate":"attr",A=m.shapeArgs,X={},Y={},K={},le={},he=m.color||z.color;typeof m.plotY<"u"&&(ie=Math.round(A.width),te=Math.floor(A.x),$=te+ie,V=Math.round(ie/2),G=Math.floor(j?m.q1Plot:m.lowPlot),M=Math.floor(j?m.q3Plot:m.lowPlot),S=Math.floor(m.highPlot),P=Math.floor(m.lowPlot),g||(m.graphic=g=O.g("point").add(z.group),m.stem=O.path().addClass("highcharts-boxplot-stem").add(g),I&&(m.whiskers=O.path().addClass("highcharts-boxplot-whisker").add(g)),j&&(m.box=O.path(void 0).addClass("highcharts-boxplot-box").add(g)),m.medianShape=O.path(void 0).addClass("highcharts-boxplot-median").add(g)),L.styledMode||(Y.stroke=m.stemColor||q.stemColor||he,Y["stroke-width"]=R(m.stemWidth,q.stemWidth,q.lineWidth),Y.dashstyle=m.stemDashStyle||q.stemDashStyle||q.dashStyle,m.stem.attr(Y),I&&(K.stroke=m.whiskerColor||q.whiskerColor||he,K["stroke-width"]=R(m.whiskerWidth,q.whiskerWidth,q.lineWidth),K.dashstyle=m.whiskerDashStyle||q.whiskerDashStyle||q.dashStyle,m.whiskers.attr(K)),j&&(X.fill=m.fillColor||q.fillColor||he,X.stroke=q.lineColor||he,X["stroke-width"]=q.lineWidth||0,X.dashstyle=m.boxDashStyle||q.boxDashStyle||q.dashStyle,m.box.attr(X)),le.stroke=m.medianColor||q.medianColor||he,le["stroke-width"]=R(m.medianWidth,q.medianWidth,q.lineWidth),le.dashstyle=m.medianDashStyle||q.medianDashStyle||q.dashStyle,m.medianShape.attr(le)),U=m.stem.strokeWidth()%2/2,E=te+V+U,g=[["M",E,M],["L",E,S],["M",E,G],["L",E,P]],m.stem[b]({d:g}),j&&(U=m.box.strokeWidth()%2/2,G=Math.floor(G)+U,M=Math.floor(M)+U,te+=U,$+=U,g=[["M",te,M],["L",te,G],["L",$,G],["L",$,M],["L",te,M],["Z"]],m.box[b]({d:g})),I&&(U=m.whiskers.strokeWidth()%2/2,S+=U,P+=U,w=/%$/.test(I)?V*parseFloat(I)/100:I/2,g=[["M",E-w,S],["L",E+w,S],["M",E-w,P],["L",E+w,P]],m.whiskers[b]({d:g})),H=Math.round(m.medianPlot),U=m.medianShape.strokeWidth()%2/2,H+=U,g=[["M",te,H],["L",$,H]],m.medianShape[b]({d:g}))})}toYData(z){return[z.low,z.q1,z.median,z.q3,z.high]}}return J.defaultOptions=v(r.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),s(J.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:o,setStackedPoints:o}),d.registerSeriesType("boxplot",J),J}),n(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),n(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{parse:s}=r,{noop:v}=d,{arrayMax:R,arrayMin:J,isNumber:k,merge:z,pick:q,stableSort:L}=h;class O{constructor(M,S){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=v,this.init(M,S)}init(M,S){this.options=M,this.visible=!0,this.chart=S.chart,this.legend=S}addToLegend(M){M.splice(this.options.legendIndex,0,this)}drawLegendSymbol(M){const S=q(M.options.itemDistance,20),P=this.legendItem||{},H=this.options;var U=H.ranges,E=H.connectorDistance;if(U&&U.length&&k(U[0].value)){L(U,function(te,$){return $.value-te.value}),this.ranges=U,this.setOptions(),this.render(),M=this.getMaxLabelSize();var ie=this.ranges[0].radius;U=2*ie,E=E-ie+M.width,E=0<E?E:0,this.maxLabel=M,this.movementX=H.labels.align==="left"?E:0,P.labelWidth=U+E+S,P.labelHeight=U+M.height/2}else M.options.bubbleLegend.autoRanges=!0}setOptions(){const M=this.ranges,S=this.options,P=this.chart.series[S.seriesIndex],H=this.legend.baseline,U={zIndex:S.zIndex,"stroke-width":S.borderWidth},E={zIndex:S.zIndex,"stroke-width":S.connectorWidth},ie={align:this.legend.options.rtl||S.labels.align==="left"?"right":"left",zIndex:S.zIndex},te=P.options.marker.fillOpacity,$=this.chart.styledMode;M.forEach(function(V,j){$||(U.stroke=q(V.borderColor,S.borderColor,P.color),U.fill=q(V.color,S.color,te!==1?s(P.color).setOpacity(te).get("rgba"):P.color),E.stroke=q(V.connectorColor,S.connectorColor,P.color)),M[j].radius=this.getRangeRadius(V.value),M[j]=z(M[j],{center:M[0].radius-M[j].radius+H}),$||z(!0,M[j],{bubbleAttribs:z(U),connectorAttribs:z(E),labelAttribs:ie})},this)}getRangeRadius(M){const S=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,S.ranges[S.ranges.length-1].value,S.ranges[0].value,S.minSize,S.maxSize,M)}render(){const M=this.legendItem||{},S=this.chart.renderer,P=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),M.symbol=S.g("bubble-legend"),M.label=S.g("bubble-legend-item"),M.symbol.translateX=0,M.symbol.translateY=0,M.symbol.add(M.label),M.label.add(M.group);for(const H of this.ranges)H.value>=P&&this.renderRange(H);this.hideOverlappingLabels()}renderRange(M){var S=this.options;const P=S.labels;var H=this.chart;const U=H.series[S.seriesIndex],E=H.renderer,ie=this.symbols;H=ie.labels;const te=M.center,$=Math.abs(M.radius);var V=S.connectorDistance||0;const j=P.align,w=S.connectorWidth,I=this.ranges[0].radius||0,m=te-$-S.borderWidth/2+w/2,g=E.styledMode;V=this.legend.options.rtl||j==="left"?-V:V,j==="center"&&(V=0,S.connectorDistance=0,M.labelAttribs.align="center"),ie.bubbleItems.push(E.circle(I,te+((m%1?1:.5)-(w%2?0:.5)),$).attr(g?{}:M.bubbleAttribs).addClass((g?"highcharts-color-"+U.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(S.className||"")).add(this.legendItem.symbol)),ie.connectors.push(E.path(E.crispLine([["M",I,m],["L",I+V,m]],S.connectorWidth)).attr(g?{}:M.connectorAttribs).addClass((g?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(S.connectorClassName||"")).add(this.legendItem.symbol)),M=E.text(this.formatLabel(M)).attr(g?{}:M.labelAttribs).css(g?{}:P.style).addClass("highcharts-bubble-legend-labels "+(S.labels.className||"")).add(this.legendItem.symbol),S={x:I+V+S.labels.x,y:m+S.labels.y+.4*M.getBBox().height},M.attr(S),H.push(M),M.placed=!0,M.alignAttr=S}getMaxLabelSize(){let M,S;return this.symbols.labels.forEach(function(P){S=P.getBBox(!0),M=M?S.width>M.width?S:M:S}),M||{}}formatLabel(M){var S=this.options;const P=S.labels.formatter;S=S.labels.format;const{numberFormatter:H}=this.chart;return S?o.format(S,M):P?P.call(M):H(M.value,1)}hideOverlappingLabels(){const M=this.chart,S=this.symbols;!this.options.labels.allowOverlap&&S&&(M.hideOverlappingLabels(S.labels),S.labels.forEach(function(P,H){P.newOpacity?P.newOpacity!==P.oldOpacity&&S.connectors[H].show():S.connectors[H].hide()}))}getRanges(){const M=this.legend.bubbleLegend,S=M.options.ranges;let P,H,U=Number.MAX_VALUE,E=-Number.MAX_VALUE;return M.chart.series.forEach(function(ie){ie.isBubble&&!ie.ignoreSeries&&(H=ie.zData.filter(k),H.length&&(U=q(ie.options.zMin,Math.min(U,Math.max(J(H),ie.options.displayNegative===!1?ie.options.zThreshold:-Number.MAX_VALUE))),E=q(ie.options.zMax,Math.max(E,R(H)))))}),P=U===E?[{value:E}]:[{value:U},{value:(U+E)/2},{value:E,autoRanges:!0}],S.length&&S[0].radius&&P.reverse(),P.forEach(function(ie,te){S&&S[te]&&(P[te]=z(S[te],ie))}),P}predictBubbleSizes(){var M=this.chart,S=M.legend.options,P=S.floating;const H=(S=S.layout==="horizontal")?M.legend.lastLineHeight:0,U=M.plotSizeX,E=M.plotSizeY;var ie=M.series[this.options.seriesIndex],te=ie.getPxExtremes();M=Math.ceil(te.minPxSize),te=Math.ceil(te.maxPxSize);const $=Math.min(E,U);return ie=ie.options.maxSize,P||!/%$/.test(ie)?P=te:(ie=parseFloat(ie),P=($+H)*ie/100/(ie/100+1),(S&&E-P>=U||!S&&U-P>=E)&&(P=te)),[M,Math.ceil(P)]}updateRanges(M,S){const P=this.legend.options.bubbleLegend;P.minSize=M,P.maxSize=S,P.ranges=this.getRanges()}correctSizes(){const M=this.legend,S=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(S.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,S.maxPxSize),M.render())}}return O}),n(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(r,o,d,h){function s(S,P,H){const U=this.legend;var E=0<=v(this);let ie,te;U&&U.options.enabled&&U.bubbleLegend&&U.options.bubbleLegend.autoRanges&&E?(ie=U.bubbleLegend.options,E=U.bubbleLegend.predictBubbleSizes(),U.bubbleLegend.updateRanges(E[0],E[1]),ie.placed||(U.group.placed=!1,U.allItems.forEach($=>{te=$.legendItem||{},te.group&&(te.group.translateY=null)})),U.render(),this.getMargins(),this.axes.forEach(function($){$.visible&&$.render(),ie.placed||($.setScale(),$.updateNames(),O($.ticks,function(V){V.isNew=!0,V.isNewLabel=!0}))}),ie.placed=!0,this.getMargins(),S.call(this,P,H),U.bubbleLegend.correctSizes(),z(U,R(U))):(S.call(this,P,H),U&&U.options.enabled&&U.bubbleLegend&&(U.render(),z(U,R(U))))}function v(S){S=S.series;let P=0;for(;P<S.length;){if(S[P]&&S[P].isBubble&&S[P].visible&&S[P].zData.length)return P;P++}return-1}function R(S){S=S.allItems;const P=[],H=S.length;let U,E,ie=0;for(E=0;E<H;E++){var te=S[E].legendItem||{};if(U=(S[E+1]||{}).legendItem||{},te.labelHeight&&(S[E].itemHeight=te.labelHeight),S[E]===S[H-1]||te.y!==U.y){for(P.push({height:0}),te=P[P.length-1],ie;ie<=E;ie++)S[ie].itemHeight>te.height&&(te.height=S[ie].itemHeight);te.step=E}}return P}function J(S){const P=this.bubbleLegend,H=this.options,U=H.bubbleLegend,E=v(this.chart);P&&P.ranges&&P.ranges.length&&(U.ranges.length&&(U.autoRanges=!!U.ranges[0].autoRanges),this.destroyItem(P)),0<=E&&H.enabled&&U.enabled&&(U.seriesIndex=E,this.bubbleLegend=new o(U,this),this.bubbleLegend.addToLegend(S.allItems))}function k(S){if(S.defaultPrevented)return!1;var P=this.chart;S=this.visible;const H=this.chart.legend;H&&H.bubbleLegend&&(this.visible=!S,this.ignoreSeries=S,P=0<=v(P),H.bubbleLegend.visible!==P&&(H.update({bubbleLegend:{enabled:P}}),H.bubbleLegend.visible=P),this.visible=S)}function z(S,P){const H=S.options.rtl;let U,E,ie,te,$=0;S.allItems.forEach((V,j)=>{te=V.legendItem||{},te.group&&(U=te.group.translateX||0,E=te.y||0,((ie=V.movementX)||H&&V.ranges)&&(ie=H?U-V.options.maxSize/2:U+ie,te.group.attr({translateX:ie})),j>P[$].step&&$++,te.group.attr({translateY:Math.round(E+P[$].height/2)}),te.y=E+P[$].height/2)})}const{setOptions:q}=d,{addEvent:L,objectEach:O,wrap:G}=h,M=[];return{compose:function(S,P,H){h.pushUnique(M,S)&&(q({legend:{bubbleLegend:r}}),G(S.prototype,"drawChartBox",s)),h.pushUnique(M,P)&&L(P,"afterGetAllItems",J),h.pushUnique(M,H)&&L(H,"legendItemClick",k)}}}),n(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){({seriesTypes:{scatter:{prototype:{pointClass:o}}}}=o),{extend:d}=d;class h extends o{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(v){return r.prototype.haloPath.call(this,v===0?0:(this.marker&&this.marker.radius||0)+v)}}return d(h.prototype,{ttBelow:!1}),h}),n(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){function R(){const te=this.len,$=this.chart,V=this.isXAxis,j=V?"xData":"yData",w=this.min,I=this.max-w;let m=0,g=te,b=te/I,A;this.series.forEach(X=>{if(X.bubblePadding&&(X.visible||!$.options.chart.ignoreHiddenSeries)){A=this.allowZoomOutside=!0;const Y=X[j];if(V&&((X.onPoint||X).getRadii(0,0,X),X.onPoint&&(X.radii=X.onPoint.radii)),0<I){let K=Y.length;for(;K--;)if(P(Y[K])&&this.dataMin<=Y[K]&&Y[K]<=this.max){const le=X.radii&&X.radii[K]||0;m=Math.min((Y[K]-w)*b-le,m),g=Math.max((Y[K]-w)*b+le,g)}}}}),A&&0<I&&!this.logarithmic&&(g-=te,b*=(te+Math.max(0,m)-Math.min(g,te))/te,[["min","userMin",m],["max","userMax",g]].forEach(X=>{typeof U(this.options[X[0]],this[X[1]])>"u"&&(this[X[0]]+=X[2]/b)}))}const{parse:J}=d;({noop:d}=h);const{series:k,seriesTypes:{column:{prototype:z},scatter:q}}=s,{addEvent:L,arrayMax:O,arrayMin:G,clamp:M,extend:S,isNumber:P,merge:H,pick:U}=v,E=[];class ie extends q{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose($,V,j,w){r.compose(V,j,w),v.pushUnique(E,$)&&($.prototype.beforePadding=R)}animate($){!$&&this.points.length<this.options.animationLimit&&this.points.forEach(function(V){const{graphic:j}=V;j&&j.width&&(this.hasRendered||j.attr({x:V.plotX,y:V.plotY,width:1,height:1}),j.animate(this.markerAttribs(V),this.options.animation))},this)}getRadii(){const $=this.zData,V=this.yData,j=[];let w,I,m,g=this.chart.bubbleZExtremes;const{minPxSize:b,maxPxSize:A}=this.getPxExtremes();if(!g){let X=Number.MAX_VALUE,Y=-Number.MAX_VALUE,K;this.chart.series.forEach(le=>{le.bubblePadding&&(le.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(le=(le.onPoint||le).getZExtremes())&&(X=Math.min(U(X,le.zMin),le.zMin),Y=Math.max(U(Y,le.zMax),le.zMax),K=!0)}),K?(g={zMin:X,zMax:Y},this.chart.bubbleZExtremes=g):g={zMin:0,zMax:0}}for(I=0,w=$.length;I<w;I++)m=$[I],j.push(this.getRadius(g.zMin,g.zMax,b,A,m,V&&V[I]));this.radii=j}getRadius($,V,j,w,I,m){const g=this.options,b=g.sizeBy!=="width",A=g.zThreshold;let X=V-$,Y=.5;if(m===null||I===null)return null;if(P(I)){if(g.sizeByAbsoluteValue&&(I=Math.abs(I-A),X=Math.max(V-A,Math.abs($-A)),$=0),I<$)return j/2-1;0<X&&(Y=(I-$)/X)}return b&&0<=Y&&(Y=Math.sqrt(Y)),Math.ceil(j+Y*(w-j))/2}hasData(){return!!this.processedXData.length}pointAttribs($,V){const j=this.options.marker.fillOpacity;return $=k.prototype.pointAttribs.call(this,$,V),j!==1&&($.fill=J($.fill).setOpacity(j).get("rgba")),$}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:$,radii:V}=this,{minPxSize:j}=this.getPxExtremes();let w=$.length;for(;w--;){const I=$[w],m=V?V[w]:0;P(m)&&m>=j/2?(I.marker=S(I.marker,{radius:m,width:2*m,height:2*m}),I.dlBox={x:I.plotX-m,y:I.plotY-m,width:2*m,height:2*m}):(I.shapeArgs=I.plotY=I.dlBox=void 0,I.isInside=!1)}}getPxExtremes(){const $=Math.min(this.chart.plotWidth,this.chart.plotHeight);var V=w=>{let I;return typeof w=="string"&&(I=/%$/.test(w),w=parseInt(w,10)),I?$*w/100:w};const j=V(U(this.options.minSize,8));return V=Math.max(V(U(this.options.maxSize,"20%")),j),{minPxSize:j,maxPxSize:V}}getZExtremes(){var $=this.options;const V=(this.zData||[]).filter(P);if(V.length){const j=U($.zMin,M(G(V),$.displayNegative===!1?$.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if($=U($.zMax,O(V)),P(j)&&P($))return{zMin:j,zMax:$}}}}return ie.defaultOptions=H(q.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:te}=this.series.chart,{z:$}=this.point;return P($)?te($,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),S(ie.prototype,{alignDataLabel:z.alignDataLabel,applyZones:d,bubblePadding:!0,buildKDTree:d,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:o,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),L(ie,"updatedData",te=>{delete te.target.chart.bubbleZExtremes}),L(ie,"remove",te=>{delete te.target.chart.bubbleZExtremes}),s.registerSeriesType("bubble",ie),ie}),n(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){const{seriesTypes:{column:{prototype:{pointClass:{prototype:d}}},arearange:{prototype:{pointClass:h}}}}=r,{extend:s,isNumber:v}=o;class R extends h{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return v(this.low)}}return s(R.prototype,{setState:d.setState}),R}),n(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{seriesTypes:{arearange:s,column:v,column:{prototype:R}}}=d,{addEvent:J,clamp:k,extend:z,isNumber:q,merge:L,pick:O}=h;class G extends s{setOptions(){return L(!0,arguments[0],{stacking:void 0}),s.prototype.setOptions.apply(this,arguments)}translate(){return R.translate.apply(this)}pointAttribs(){return R.pointAttribs.apply(this,arguments)}translate3dPoints(){return R.translate3dPoints.apply(this,arguments)}translate3dShapes(){return R.translate3dShapes.apply(this,arguments)}}return G.defaultOptions=L(v.defaultOptions,s.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),J(G,"afterColumnTranslate",function(){const M=this.yAxis,S=this.xAxis,P=S.startAngleRad,H=this.chart,U=this.xAxis.isRadial,E=Math.max(H.chartWidth,H.chartHeight)+999;let ie,te,$,V;this.points.forEach(j=>{const w=j.shapeArgs||{},I=this.options.minPointLength,m=j.plotY,g=M.translate(j.high,0,1,0,1);if(q(g)&&q(m))if(j.plotHigh=k(g,-E,E),j.plotLow=k(m,-E,E),V=j.plotHigh,ie=O(j.rectPlotY,j.plotY)-j.plotHigh,Math.abs(ie)<I?(te=I-ie,ie+=te,V-=te/2):0>ie&&(ie*=-1,V-=ie),U&&this.polar)$=j.barX+P,j.shapeType="arc",j.shapeArgs=this.polar.arc(V+ie,V,$,$+j.pointWidth);else{w.height=ie,w.y=V;const{x:b=0,width:A=0}=w;j.shapeArgs=L(j.shapeArgs,this.crispCol(b,V,A,ie)),j.tooltipPos=H.inverted?[M.len+M.pos-H.plotLeft-V-ie/2,S.len+S.pos-H.plotTop-b-A/2,ie]:[S.left-H.plotLeft+b+A/2,M.pos-H.plotTop+V+ie/2,ie]}})},{order:5}),z(G.prototype,{directTouch:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:R.adjustForMissingColumns,animate:R.animate,crispCol:R.crispCol,drawGraph:o,drawPoints:R.drawPoints,getSymbol:o,drawTracker:R.drawTracker,getColumnMetrics:R.getColumnMetrics}),d.registerSeriesType("columnrange",G),G}),n(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){const{prototype:h}=r,{clamp:s,merge:v,pick:R}=d;class J extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let z=this,q=z.chart,L=z.options;var O=z.dense=2>z.closestPointRange*z.xAxis.transA;O=z.borderWidth=R(L.borderWidth,O?0:1);let G=z.yAxis,M=L.threshold,S=z.translatedThreshold=G.getThreshold(M),P=R(L.minPointLength,5),H=z.getColumnMetrics(),U=H.width,E=z.barW=Math.max(U,1+2*O),ie=z.pointXOffset=H.offset;q.inverted&&(S-=.5),L.pointPadding&&(E=Math.ceil(E)),h.translate.apply(z),z.points.forEach(function(te){var $=R(te.yBottom,S),V=999+Math.abs($),j=s(te.plotY,-V,G.len+V);V=te.plotX+ie;let w=E/2,I=Math.min(j,$);$=Math.max(j,$)-I;var m;let g,b;te.barX=V,te.pointWidth=U,te.tooltipPos=q.inverted?[G.len+G.pos-q.plotLeft-j,z.xAxis.len-V-w,$]:[V+w,j+G.pos-q.plotTop,$],j=M+(te.total||te.y),L.stacking==="percent"&&(j=M+(0>te.y)?-100:100),j=G.toPixels(j,!0);var A=(m=q.plotHeight-j-(q.plotHeight-S))?w*(I-j)/m:0,X=m?w*(I+$-j)/m:0;m=V-A+w,A=V+A+w;var Y=V+X+w;X=V-X+w,g=I-P,b=I+$,0>te.y&&(g=I,b=I+$+P),q.inverted&&(Y=G.width-I,m=j-(G.width-S),A=w*(j-Y)/m,X=w*(j-(Y-$))/m,m=V+w+A,A=m-2*A,Y=V-X+w,X=V+X+w,g=I,b=I+$-P,0>te.y&&(b=I+$+P)),te.shapeType="path",te.shapeArgs={x:m,y:g,width:A-m,height:$,d:[["M",m,g],["L",A,g],["L",Y,b],["L",X,b],["Z"]]}})}}return J.defaultOptions=v(r.defaultOptions,{}),o.registerSeriesType("columnpyramid",J),J}),n(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),n(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{arearange:v}=h.seriesTypes,{addEvent:R,merge:J,extend:k}=s;class z extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||o.prototype.getColumnMetrics.call(this)}drawDataLabels(){const L=this.pointValKey;v&&(v.prototype.drawDataLabels.call(this),this.data.forEach(function(O){O.y=O[L]}))}toYData(L){return[L.low,L.high]}}return z.defaultOptions=J(r.defaultOptions,d),R(z,"afterTranslate",function(){this.points.forEach(q=>{q.plotLow=q.plotY})},{order:0}),k(z.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),h.registerSeriesType("errorbar",z),z}),n(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({series:{prototype:{pointClass:r}}}=r);class o extends r{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(h){this.state=h}}return o}),n(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{series:s,seriesTypes:{column:v}}=d,{clamp:R,isNumber:J,extend:k,merge:z,pick:q,pInt:L,defined:O}=h;class G extends s{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const S=this.yAxis,P=this.options,H=S.center;this.generatePoints(),this.points.forEach(U=>{const E=z(P.dial,U.dial),ie=L(E.radius)*H[2]/200,te=L(E.baseLength)*ie/100,$=L(E.rearLength)*ie/100,V=E.baseWidth,j=E.topWidth;let w=P.overshoot,I=S.startAngleRad+S.translate(U.y,void 0,void 0,void 0,!0);(J(w)||P.wrap===!1)&&(w=J(w)?w/180*Math.PI:0,I=R(I,S.startAngleRad-w,S.endAngleRad+w)),I=180*I/Math.PI,U.shapeType="path",U.shapeArgs={d:E.path||[["M",-$,-V/2],["L",te,-V/2],["L",ie,-j/2],["L",ie,j/2],["L",te,V/2],["L",-$,V/2],["Z"]],translateX:H[0],translateY:H[1],rotation:I},U.plotX=H[0],U.plotY=H[1],O(U.y)&&S.max-S.min&&(U.percentage=(U.y-S.min)/(S.max-S.min)*100)})}drawPoints(){const S=this,P=S.chart,H=S.yAxis.center,U=S.pivot,E=S.options,ie=E.pivot,te=P.renderer;S.points.forEach($=>{const V=$.graphic,j=$.shapeArgs,w=j.d,I=z(E.dial,$.dial);V?(V.animate(j),j.d=w):$.graphic=te[$.shapeType](j).addClass("highcharts-dial").add(S.group),P.styledMode||$.graphic[V?"animate":"attr"]({stroke:I.borderColor,"stroke-width":I.borderWidth,fill:I.backgroundColor})}),U?U.animate({translateX:H[0],translateY:H[1]}):ie&&(S.pivot=te.circle(0,0,ie.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(H[0],H[1]).add(S.group),P.styledMode||S.pivot.attr({fill:ie.backgroundColor,stroke:ie.borderColor,"stroke-width":ie.borderWidth}))}animate(S){const P=this;S||P.points.forEach(H=>{const U=H.graphic;U&&(U.attr({rotation:180*P.yAxis.startAngleRad/Math.PI}),U.animate({rotation:H.shapeArgs.rotation},P.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),s.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(S,P){s.prototype.setData.call(this,S,!1),this.processData(),this.generatePoints(),q(P,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return G.defaultOptions=z(s.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),k(G.prototype,{angular:!0,directTouch:!0,drawGraph:o,drawTracker:v.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"]}),d.registerSeriesType("gauge",G),G}),n(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(r){function o(){const s=this;let v,R,J;s.container&&(v=d(s.container,"mousedown",k=>{const z=s.hoverPoint;z&&z.series&&z.series.hasDraggableNodes&&z.series.options.draggable&&(z.series.onMouseDown(z,k),R=d(s.container,"mousemove",q=>z&&z.series&&z.series.onMouseMove(z,q)),J=d(s.container.ownerDocument,"mouseup",q=>(R(),J(),z&&z.series&&z.series.onMouseUp(z,q))))})),d(s,"destroy",function(){v()})}const{addEvent:d}=r,h=[];return{compose:function(s){r.pushUnique(h,s)&&d(s,"load",o)},onMouseDown:function(s,v){v=this.chart.pointer.normalize(v),s.fixedPosition={chartX:v.chartX,chartY:v.chartY,plotX:s.plotX,plotY:s.plotY},s.inDragMode=!0},onMouseMove:function(s,v){if(s.fixedPosition&&s.inDragMode){const k=this.chart;v=k.pointer.normalize(v);var R=s.fixedPosition.chartX-v.chartX,J=s.fixedPosition.chartY-v.chartY;v=k.graphLayoutsLookup,(5<Math.abs(R)||5<Math.abs(J))&&(R=s.fixedPosition.plotX-R,J=s.fixedPosition.plotY-J,k.isInsidePlot(R,J)&&(s.plotX=R,s.plotY=J,s.hasDragged=!0,this.redrawHalo(s),v.forEach(z=>{z.restartSimulation()})))}},onMouseUp:function(s,v){s.fixedPosition&&(s.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),s.inDragMode=s.hasDragged=!1,this.options.fixedDraggable||delete s.fixedPosition)},redrawHalo:function(s){s&&this.halo&&this.halo.attr({d:s.haloPath(this.options.states.hover.halo.size)})}}}),n(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(r,o){function d(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(z=>{z.updateSimulation()}),this.redraw())}function h(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(z=>{z.updateSimulation(!1)}),this.redraw())}function s(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(z=>{z.stop()})}function v(){let z,q=!1;const L=O=>{O.maxIterations--&&isFinite(O.temperature)&&!O.isStable()&&!O.enableSimulation&&(O.beforeStep&&O.beforeStep(),O.step(),z=!1,q=!0)};if(this.graphLayoutsLookup){for(R(!1,this),this.graphLayoutsLookup.forEach(O=>O.start());!z;)z=!0,this.graphLayoutsLookup.forEach(L);q&&this.series.forEach(O=>{O&&O.layout&&O.render()})}}const{setAnimation:R}=r,{addEvent:J}=o,k=[];return{compose:function(z){o.pushUnique(k,z)&&(J(z,"afterPrint",d),J(z,"beforePrint",h),J(z,"predraw",s),J(z,"render",v))},integrations:{},layouts:{}}}),n(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(r,o,d){({seriesTypes:{bubble:{prototype:{pointClass:d}}}}=d);class h extends d{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),o.prototype.destroy.apply(this,arguments)}firePointEvent(){const v=this.series.options;if(this.isParentNode&&v.parentNode){const R=v.allowPointSelect;v.allowPointSelect=v.parentNode.allowPointSelect,o.prototype.firePointEvent.apply(this,arguments),v.allowPointSelect=R}else o.prototype.firePointEvent.apply(this,arguments)}select(){const v=this.series.chart;this.isParentNode?(v.getSelectedPoints=v.getSelectedParentNodes,o.prototype.select.apply(this,arguments),v.getSelectedPoints=r.prototype.getSelectedPoints):o.prototype.select.apply(this,arguments)}}return h}),n(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(r){const{isNumber:o}=r;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:d}=this.series.chart,{value:h}=this.point;return o(h)?d(h,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),n(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(r,o,d){const h=r.getMass(),s=-d.x*o*this.diffTemperature;o=-d.y*o*this.diffTemperature,r.fromNode.fixedPosition||(r.fromNode.plotX-=s*h.fromNode/r.fromNode.degree,r.fromNode.plotY-=o*h.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.plotX+=s*h.toNode/r.toNode.degree,r.toNode.plotY+=o*h.toNode/r.toNode.degree)},attractiveForceFunction:function(r,o){return(o-r)/r},barycenter:function(){let r=this.options.gravitationalConstant,o=this.barycenter.xFactor,d=this.barycenter.yFactor;o=(o-(this.box.left+this.box.width)/2)*r,d=(d-(this.box.top+this.box.height)/2)*r,this.nodes.forEach(function(h){h.fixedPosition||(h.plotX-=o/h.mass/h.degree,h.plotY-=d/h.mass/h.degree)})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.5)},integrate:function(r,o){var d=-r.options.friction;let h=r.options.maxSpeed,s=(o.plotX+o.dispX-o.prevX)*d;d*=o.plotY+o.dispY-o.prevY;var v=Math.abs;let R=v(s)/(s||1);v=v(d)/(d||1),s=R*Math.min(h,Math.abs(s)),d=v*Math.min(h,Math.abs(d)),o.prevX=o.plotX+o.dispX,o.prevY=o.plotY+o.dispY,o.plotX+=s,o.plotY+=d,o.temperature=r.vectorLength({x:s,y:d})},repulsive:function(r,o,d){o=o*this.diffTemperature/r.mass/r.degree,r.fixedPosition||(r.plotX+=d.x*o,r.plotY+=d.y*o)},repulsiveForceFunction:function(r,o){return(o-r)/r*(o>r?1:0)}}}),n(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,o){return{noop:r}=r,{barycenter:function(){const d=this.options.gravitationalConstant,h=this.box,s=this.nodes;let v,R;for(const J of s)this.options.splitSeries&&!J.isParentNode?(v=J.series.parentNode.plotX,R=J.series.parentNode.plotY):(v=h.width/2,R=h.height/2),J.fixedPosition||(J.plotX-=(J.plotX-v)*d/(J.mass*Math.sqrt(s.length)),J.plotY-=(J.plotY-R)*d/(J.mass*Math.sqrt(s.length)))},getK:r,integrate:o.integrate,repulsive:function(d,h,s,v){const R=h*this.diffTemperature/d.mass/d.degree;h=s.x*R,s=s.y*R,d.fixedPosition||(d.plotX+=h,d.plotY+=s),v.fixedPosition||(v.plotX-=h,v.plotY-=s)},repulsiveForceFunction:function(d,h,s,v){return Math.min(d,(s.marker.radius+v.marker.radius)/2)}}}),n(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(r,o,d,h){const s=r.getMass(),v=d.x/h*o;o*=d.y/h,r.fromNode.fixedPosition||(r.fromNode.dispX-=v*s.fromNode/r.fromNode.degree,r.fromNode.dispY-=o*s.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.dispX+=v*s.toNode/r.toNode.degree,r.toNode.dispY+=o*s.toNode/r.toNode.degree)},attractiveForceFunction:function(r,o){return r*r/o},barycenter:function(){const r=this.options.gravitationalConstant,o=this.barycenter.xFactor,d=this.barycenter.yFactor;this.nodes.forEach(function(h){if(!h.fixedPosition){var s=h.getDegree();s*=1+s/2,h.dispX+=(o-h.plotX)*r*s/h.degree,h.dispY+=(d-h.plotY)*r*s/h.degree}})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.3)},integrate:function(r,o){let d;o.dispX+=o.dispX*r.options.friction,o.dispY+=o.dispY*r.options.friction,d=o.temperature=r.vectorLength({x:o.dispX,y:o.dispY}),d!==0&&(o.plotX+=o.dispX/d*Math.min(Math.abs(o.dispX),r.temperature),o.plotY+=o.dispY/d*Math.min(Math.abs(o.dispY),r.temperature))},repulsive:function(r,o,d,h){r.dispX+=d.x/h*o/r.degree,r.dispY+=d.y/h*o/r.degree},repulsiveForceFunction:function(r,o){return o*o/r}}}),n(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class r{constructor(d){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=d,this.boxSize=Math.min(d.width,d.height)}divideBox(){const d=this.box.width/2,h=this.box.height/2;this.nodes[0]=new r({left:this.box.left,top:this.box.top,width:d,height:h}),this.nodes[1]=new r({left:this.box.left+d,top:this.box.top,width:d,height:h}),this.nodes[2]=new r({left:this.box.left+d,top:this.box.top+h,width:d,height:h}),this.nodes[3]=new r({left:this.box.left,top:this.box.top+h,width:d,height:h})}getBoxPosition(d){const h=d.plotY<this.box.top+this.box.height/2;return d.plotX<this.box.left+this.box.width/2?h?0:3:h?1:2}insert(d,h){this.isInternal?this.nodes[this.getBoxPosition(d)].insert(d,h-1):(this.isEmpty=!1,this.body?h?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,h-1),this.body=!0),this.nodes[this.getBoxPosition(d)].insert(d,h-1)):(h=new r({top:d.plotX||NaN,left:d.plotY||NaN,width:.1,height:.1}),h.body=d,h.isInternal=!1,this.nodes.push(h)):(this.isInternal=!1,this.body=d))}updateMassAndCenter(){let d=0,h=0,s=0;if(this.isInternal){for(const v of this.nodes)v.isEmpty||(d+=v.mass,h+=v.plotX*v.mass,s+=v.plotY*v.mass);h/=d,s/=d}else this.body&&(d=this.body.mass,h=this.body.plotX,s=this.body.plotY);this.mass=d,this.plotX=h,this.plotY=s}}return r}),n(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(r){class o{constructor(h,s,v,R){this.box={left:h,top:s,width:v,height:R},this.maxDepth=25,this.root=new r(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(h){h.updateMassAndCenter()})}insertNodes(h){for(const s of h)this.root.insert(s,this.maxDepth)}visitNodeRecursive(h,s,v){let R;if(h||(h=this.root),h===this.root&&s&&(R=s(h)),R!==!1){for(const J of h.nodes){if(J.isInternal){if(s&&(R=s(J)),R===!1)continue;this.visitNodeRecursive(J,s,v)}else J.body&&s&&s(J.body);v&&v(J)}h===this.root&&v&&v(h)}}}return o}),n(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,o,d,h,s,v){const{win:R}=o,{clamp:J,defined:k,isFunction:z,fireEvent:q,pick:L}=s;class O{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(M){d.compose(M),d.integrations.euler=r,d.integrations.verlet=v,d.layouts["reingold-fruchterman"]=O}init(M){this.options=M,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=d.integrations[M.integration],this.enableSimulation=M.enableSimulation,this.attractiveForce=L(M.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=L(M.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=M.approximation}updateSimulation(M){this.enableSimulation=L(M,this.options.enableSimulation)}start(){const M=this.series,S=this.options;this.currentStep=0,this.forces=M[0]&&M[0].forces||[],this.chart=M[0]&&M[0].chart,this.initialRendering&&(this.initPositions(),M.forEach(function(P){P.finishedAnimating=!0,P.render()})),this.setK(),this.resetSimulation(S),this.enableSimulation&&this.step()}step(){const M=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const S of this.forces||[])this[S+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const S of M)S.chart&&S.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&R.cancelAnimationFrame(this.simulation),this.simulation=R.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(S=>{q(S,"afterSimulation")}))}}stop(){this.simulation&&R.cancelAnimationFrame(this.simulation)}setArea(M,S,P,H){this.box={left:M,top:S,width:P,height:H}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(M,S){for(const P of M)S.indexOf(P)===-1&&S.push(P)}removeElementFromCollection(M,S){M=S.indexOf(M),M!==-1&&S.splice(M,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(M){this.maxIterations=L(M,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(M){this.initialRendering=M}createQuadTree(){this.quadTree=new h(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const M=this.options.initialPositions;if(z(M)){M.call(this);for(const S of this.nodes)k(S.prevX)||(S.prevX=S.plotX),k(S.prevY)||(S.prevY=S.plotY),S.dispX=0,S.dispY=0}else M==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const M=this.box;var S=this.nodes;const P=2*Math.PI/(S.length+1),H=S.filter(function($){return $.linksTo.length===0}),U={},E=this.options.initialPositionRadius,ie=$=>{for(const V of $.linksFrom||[])U[V.toNode.id]||(U[V.toNode.id]=!0,te.push(V.toNode),ie(V.toNode))};let te=[];for(const $ of H)te.push($),ie($);if(te.length)for(const $ of S)te.indexOf($)===-1&&te.push($);else te=S;for(let $=0,V=te.length;$<V;++$)S=te[$],S.plotX=S.prevX=L(S.plotX,M.width/2+E*Math.cos($*P)),S.plotY=S.prevY=L(S.plotY,M.height/2+E*Math.sin($*P)),S.dispX=0,S.dispY=0}setRandomPositions(){const M=this.box,S=this.nodes,P=S.length+1,H=E=>(E=E*E/Math.PI,E-=Math.floor(E));let U;for(let E=0,ie=S.length;E<ie;++E)U=S[E],U.plotX=U.prevX=L(U.plotX,M.width*H(E)),U.plotY=U.prevY=L(U.plotY,M.height*H(P+E)),U.dispX=0,U.dispY=0}force(M,...S){this.integration[M].apply(this,S)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let M=0,S=0,P=0;for(const H of this.nodes)S+=H.plotX*H.mass,P+=H.plotY*H.mass,M+=H.mass;return this.barycenter={x:S,y:P,xFactor:S/M,yFactor:P/M}}barnesHutApproximation(M,S){const P=this.getDistXY(M,S),H=this.vectorLength(P);let U,E;return M!==S&&H!==0&&(S.isInternal?S.boxSize/H<this.options.theta&&H!==0?(E=this.repulsiveForce(H,this.k),this.force("repulsive",M,E*S.mass,P,H),U=!1):U=!0:(E=this.repulsiveForce(H,this.k),this.force("repulsive",M,E*S.mass,P,H))),U}repulsiveForces(){if(this.approximation==="barnes-hut")for(const M of this.nodes)this.quadTree.visitNodeRecursive(null,S=>this.barnesHutApproximation(M,S));else{let M,S,P;for(const H of this.nodes)for(const U of this.nodes)H===U||H.fixedPosition||(P=this.getDistXY(H,U),S=this.vectorLength(P),S!==0&&(M=this.repulsiveForce(S,this.k),this.force("repulsive",H,M*U.mass,P,S)))}}attractiveForces(){let M,S,P;for(const H of this.links)H.fromNode&&H.toNode&&(M=this.getDistXY(H.fromNode,H.toNode),S=this.vectorLength(M),S!==0&&(P=this.attractiveForce(S,this.k),this.force("attractive",H,P,M,S)))}applyLimits(){const M=this.nodes;for(const S of M){if(S.fixedPosition)break;this.integration.integrate(this,S),this.applyLimitBox(S,this.box),S.dispX=0,S.dispY=0}}applyLimitBox(M,S){const P=M.radius;M.plotX=J(M.plotX,S.left+P,S.width-P),M.plotY=J(M.plotY,S.top+P,S.height-P)}coolDown(M,S,P){return M-S*P}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let M=0;for(const S of this.nodes)M+=S.temperature;return M}vectorLength(M){return Math.sqrt(M.x*M.x+M.y*M.y)}getDistR(M,S){return M=this.getDistXY(M,S),this.vectorLength(M)}getDistXY(M,S){const P=M.plotX-S.plotX;return M=M.plotY-S.plotY,{x:P,y:M,absX:Math.abs(P),absY:Math.abs(M)}}}return O}),n(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(r,o,d,h){function s(){const q=[];return this.series.forEach(L=>{L.parentNode&&L.parentNode.selected&&q.push(L.parentNode)}),q}function v(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:R,pick:J}=h,k=[];class z extends d{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(L){d.compose(L),r.integrations.packedbubble=o,r.layouts.packedbubble=z,h.pushUnique(k,L)&&(R(L,"beforeRedraw",v),L.prototype.getSelectedParentNodes=s)}beforeStep(){this.options.marker&&this.series.forEach(L=>{L&&L.calculateParentRadius()})}isStable(){const L=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>L||0>=this.temperature}setCircularPositions(){const L=this.box;var O=this.nodes;const G=2*Math.PI/(O.length+1),M=this.options.initialPositionRadius;let S,P=0;for(const H of O)this.options.splitSeries&&!H.isParentNode?(O=H.series.parentNode.plotX,S=H.series.parentNode.plotY):(O=L.width/2,S=L.height/2),H.plotX=H.prevX=J(H.plotX,O+M*Math.cos(H.index||P*G)),H.plotY=H.prevY=J(H.plotY,S+M*Math.sin(H.index||P*G)),H.dispX=0,H.dispY=0,P++}repulsiveForces(){const L=this,O=L.options.bubblePadding;let G,M,S;L.nodes.forEach(P=>{P.degree=P.mass,P.neighbours=0,L.nodes.forEach(H=>{G=0,P===H||P.fixedPosition||!L.options.seriesInteraction&&P.series!==H.series||(S=L.getDistXY(P,H),M=L.vectorLength(S)-(P.marker.radius+H.marker.radius+O),0>M&&(P.degree+=.01,P.neighbours++,G=L.repulsiveForce(-M/Math.sqrt(P.neighbours),L.k,P,H)),L.force("repulsive",P,G*H.mass,S,H,M))})})}applyLimitBox(L,O){let G,M;this.options.splitSeries&&!L.isParentNode&&this.options.parentNodeLimit&&(G=this.getDistXY(L,L.series.parentNode),M=L.series.parentNodeRadius-L.marker.radius-this.vectorLength(G),0>M&&M>-2*L.marker.radius&&(L.plotX-=.01*G.x,L.plotY-=.01*G.y)),super.applyLimitBox(L,O)}}return r.layouts.packedbubble=z}),n(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(r,o){const{syncTimeout:d}=r,{animObject:h}=o;return{initDataLabels:function(){const s=this.options.dataLabels;if(!this.dataLabelsGroup){const v=this.initDataLabelsGroup();return!this.chart.styledMode&&(s!=null&&s.style)&&v.css(s.style),v.attr({opacity:0}),this.visible&&v.show(),v}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var s;const v=this.options.dataLabels;v!=null&&v.defer&&(!((s=this.options.layoutAlgorithm)===null||s===void 0)&&s.enableSimulation)?d(()=>{this.deferDataLabels=!1},v?h(v.animation).defer:0):this.deferDataLabels=!1}}}),n(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(r,o,d,h,s,v,R,J,k,z,q){const{parse:L}=r;({noop:r}=h);const{series:{prototype:O},seriesTypes:{bubble:G}}=J,{initDataLabels:M,initDataLabelsDefer:S}=k,{addEvent:P,clamp:H,defined:U,extend:E,fireEvent:ie,isArray:te,isNumber:$,merge:V,pick:j}=z;class w extends G{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(m,g,b,A){G.compose(m,g,b,A),o.compose(g),R.compose(g)}accumulateAllPoints(){const m=this.chart,g=[];let b;for(const A of m.series)if(A.is("packedbubble")&&A.visible||!m.options.chart.ignoreHiddenSeries){b=A.yData||[];for(let X=0;X<b.length;X++)g.push([null,null,b[X],A.index,X,{id:X,marker:{radius:0}}])}return g}addLayout(){const m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},g=m.type||"packedbubble",b=this.chart.options.chart;let A=this.chart.graphLayoutsStorage,X=this.chart.graphLayoutsLookup,Y;A||(this.chart.graphLayoutsStorage=A={},this.chart.graphLayoutsLookup=X=[]),Y=A[g],Y||(m.enableSimulation=U(b.forExport)?!b.forExport:m.enableSimulation,A[g]=Y=new d.layouts[g],Y.init(m),X.splice(Y.index,0,Y)),this.layout=Y,this.points.forEach(K=>{K.mass=2,K.degree=1,K.collisionNmb=1}),Y.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),Y.addElementsToCollection([this],Y.series),Y.addElementsToCollection(this.points,Y.nodes)}addSeriesLayout(){var m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const g=m.type||"packedbubble",b=this.chart.graphLayoutsStorage,A=this.chart.graphLayoutsLookup;m=V(m,m.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let X=b[g+"-series"];X||(b[g+"-series"]=X=new d.layouts[g],X.init(m),A.splice(X.index,0,X)),this.parentNodeLayout=X,this.createParentNodes()}calculateParentRadius(){const m=this.seriesBox();this.parentNodeRadius=H(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,m?Math.max(Math.sqrt(Math.pow(m.width,2)+Math.pow(m.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let m=this.options.zMin,g=this.options.zMax,b=1/0,A=-1/0;return m&&g?[m,g]:(this.chart.series.forEach(X=>{X.yData.forEach(Y=>{U(Y)&&(Y>A&&(A=Y),Y<b&&(b=Y))})}),m=j(m,b),g=j(g,A),[m,g])}checkOverlap(m,g){const b=m[0]-g[0],A=m[1]-g[1];return-.001>Math.sqrt(b*b+A*A)-Math.abs(m[2]+g[2])}createParentNodes(){const m=this.pointClass,g=this.chart,b=this.parentNodeLayout,A=this.layout.options;let X,Y=this.parentNode,K={radius:this.parentNodeRadius,lineColor:this.color,fillColor:L(this.color).brighten(.4).get()};A.parentNodeOptions&&(K=V(A.parentNodeOptions.marker||{},K)),this.parentNodeMass=0,this.points.forEach(le=>{this.parentNodeMass+=Math.PI*Math.pow(le.marker.radius,2)}),this.calculateParentRadius(),b.nodes.forEach(le=>{le.seriesIndex===this.index&&(X=!0)}),b.setArea(0,0,g.plotWidth,g.plotHeight),X||(Y||(Y=new m().init(this,{mass:this.parentNodeRadius/2,marker:K,dataLabels:{inside:!1},states:{normal:{marker:K},hover:{marker:K}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(Y.plotX=this.parentNode.plotX,Y.plotY=this.parentNode.plotY),this.parentNode=Y,b.addElementsToCollection([this],b.series),b.addElementsToCollection([Y],b.nodes))}deferLayout(){const m=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),m.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(m=>{m.removeElementFromCollection(this,m.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),O.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(O.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",O.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var m=this.chart,g=this.layout.options.parentNodeOptions.marker;g={fill:g.fillColor||L(this.color).brighten(.4).get(),opacity:g.fillOpacity,stroke:g.lineColor||this.color,"stroke-width":j(g.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,m.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var b=V({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},g);this.parentNode.graphic||(this.graph=this.parentNode.graphic=m.renderer.symbol(g.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(b)}}drawTracker(){const m=this.parentNode;let g;super.drawTracker(),m&&(g=te(m.dataLabels)?m.dataLabels:m.dataLabel?[m.dataLabel]:[],m.graphic&&(m.graphic.element.point=m),g.forEach(b=>{b.div?b.div.point=m:b.element.point=m}))}getPointRadius(){const m=this.chart,g=this.options,b=g.useSimulation,A=Math.min(m.plotWidth,m.plotHeight),X={},Y=[],K=m.allDataPoints||[],le=K.length;let he,pe,F,Q;["minSize","maxSize"].forEach(ge=>{const ke=parseInt(g[ge],10),re=/%$/.test(g[ge]);X[ge]=re?A*ke/100:ke*Math.sqrt(le)}),m.minRadius=he=X.minSize/Math.sqrt(le),m.maxRadius=pe=X.maxSize/Math.sqrt(le);const ce=b?this.calculateZExtremes():[he,pe];K.forEach((ge,ke)=>{F=b?H(ge[2],ce[0],ce[1]):ge[2],Q=this.getRadius(ce[0],ce[1],he,pe,F),Q===0&&(Q=null),K[ke][2]=Q,Y.push(Q)}),this.radii=Y}init(){return O.init.apply(this,arguments),S.call(this),this.eventsToUnbind.push(P(this,"updatedData",function(){this.chart.series.forEach(m=>{m.type===this.type&&(m.isDirty=!0)},this)})),this}onMouseUp(m){const g=m;if(g.fixedPosition&&!g.removed){const b=this.layout,A=this.parentNodeLayout;let X,Y;A&&b.options.dragBetweenSeries&&A.nodes.forEach(K=>{g&&g.marker&&K!==g.series.parentNode&&(X=b.getDistXY(g,K),Y=b.vectorLength(X)-K.marker.radius-g.marker.radius,0>Y&&(K.series.addPoint(V(g.options,{plotX:g.plotX,plotY:g.plotY}),!1),b.removeElementFromCollection(g,b.nodes),g.remove()))}),o.onMouseUp.apply(this,arguments)}}placeBubbles(m){const g=this.checkOverlap,b=this.positionBubble,A=[];let X=1,Y=0,K=0;var le=[];let he;if(m=m.sort((pe,F)=>F[2]-pe[2]),m.length){if(A.push([[0,0,m[0][2],m[0][3],m[0][4]]]),1<m.length)for(A.push([[0,0-m[1][2]-m[0][2],m[1][2],m[1][3],m[1][4]]]),he=2;he<m.length;he++)m[he][2]=m[he][2]||1,le=b(A[X][Y],A[X-1][K],m[he]),g(le,A[X][0])?(A.push([]),K=0,A[X+1].push(b(A[X][Y],A[X][0],m[he])),X++,Y=0):1<X&&A[X-1][K+1]&&g(le,A[X-1][K+1])?(K++,A[X].push(b(A[X][Y],A[X-1][K],m[he])),Y++):(Y++,A[X].push(le));this.chart.stages=A,this.chart.rawPositions=[].concat.apply([],A),this.resizeRadius(),le=this.chart.rawPositions}return le}pointAttribs(m,g){var b=this.options;let A=b.marker;return m&&m.isParentNode&&b.layoutAlgorithm&&b.layoutAlgorithm.parentNodeOptions&&(A=b.layoutAlgorithm.parentNodeOptions.marker),b=A.fillOpacity,m=O.pointAttribs.call(this,m,g),b!==1&&(m["fill-opacity"]=b),m}positionBubble(m,g,b){var A=Math.sqrt,X=Math.asin,Y=Math.acos;const K=Math.pow,le=Math.abs;return A=A(K(m[0]-g[0],2)+K(m[1]-g[1],2)),Y=Y((K(A,2)+K(b[2]+g[2],2)-K(b[2]+m[2],2))/(2*(b[2]+g[2])*A)),X=X(le(m[0]-g[0])/A),m=(0>m[1]-g[1]?0:Math.PI)+Y+X*(0>(m[0]-g[0])*(m[1]-g[1])?1:-1),[g[0]+(g[2]+b[2])*Math.sin(m),g[1]-(g[2]+b[2])*Math.cos(m),b[2],b[3],b[4]]}render(){const m=[];O.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(g=>{te(g.dataLabels)&&g.dataLabels.forEach(b=>{m.push(b)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(m))}resizeRadius(){const m=this.chart,g=m.rawPositions;var b=Math.min,A=Math.max;const X=m.plotLeft,Y=m.plotTop,K=m.plotHeight,le=m.plotWidth;let he,pe,F,Q,ce;he=F=Number.POSITIVE_INFINITY,pe=Q=Number.NEGATIVE_INFINITY;for(const ge of g)ce=ge[2],he=b(he,ge[0]-ce),pe=A(pe,ge[0]+ce),F=b(F,ge[1]-ce),Q=A(Q,ge[1]+ce);if(A=[pe-he,Q-F],b=b.apply([],[(le-X)/A[0],(K-Y)/A[1]]),1e-10<Math.abs(b-1)){for(const ge of g)ge[2]*=b;this.placeBubbles(g)}else m.diffY=K/2+Y-F-(Q-F)/2,m.diffX=le/2+X-he-(pe-he)/2}seriesBox(){const m=this.chart,g=Math.max,b=Math.min,A=[m.plotLeft,m.plotLeft+m.plotWidth,m.plotTop,m.plotTop+m.plotHeight];let X;return this.data.forEach(Y=>{U(Y.plotX)&&U(Y.plotY)&&Y.marker.radius&&(X=Y.marker.radius,A[0]=b(A[0],Y.plotX-X),A[1]=g(A[1],Y.plotX+X),A[2]=b(A[2],Y.plotY-X),A[3]=g(A[3],Y.plotY+X))}),$(A.width/A.height)?A:null}setVisible(){const m=this;O.setVisible.apply(m,arguments),m.parentNodeLayout&&m.graph?m.visible?(m.graph.show(),m.parentNode.dataLabel&&m.parentNode.dataLabel.show()):(m.graph.hide(),m.parentNodeLayout.removeElementFromCollection(m.parentNode,m.parentNodeLayout.nodes),m.parentNode.dataLabel&&m.parentNode.dataLabel.hide()):m.layout&&(m.visible?m.layout.addElementsToCollection(m.points,m.layout.nodes):m.points.forEach(g=>{m.layout.removeElementFromCollection(g,m.layout.nodes)}))}translate(){const m=this.chart,g=this.data,b=this.index,A=this.options.useSimulation;let X;if(this.processedXData=this.xData,this.generatePoints(),U(m.allDataPoints)||(m.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),A)var Y=m.allDataPoints;else Y=this.placeBubbles(m.allDataPoints),this.options.draggable=!1;for(const K of Y)K[3]===b&&(Y=g[K[4]],X=j(K[2],void 0),A||(Y.plotX=K[0]-m.plotLeft+m.diffX,Y.plotY=K[1]-m.plotTop+m.diffY),$(X)&&(Y.marker=E(Y.marker,{radius:X,width:2*X,height:2*X}),Y.radius=X));A&&this.deferLayout(),ie(this,"afterTranslate")}}return w.defaultOptions=V(G.defaultOptions,v),E(w.prototype,{pointClass:s,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:M,alignDataLabel:O.alignDataLabel,indexateNodes:r,onMouseDown:o.onMouseDown,onMouseMove:o.onMouseMove,redrawHalo:o.redrawHalo,searchPoint:r}),J.registerSeriesType("packedbubble",w),w}),n(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){({noop:r}=r);const{series:h,seriesTypes:{area:s,line:v,scatter:R}}=o,{extend:J,merge:k}=d;class z extends R{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let L=v.prototype.getGraphPath.call(this),O=L.length+1;for(;O--;)(O===L.length||L[O][0]==="M")&&0<O&&L.splice(O,0,["Z"]);return this.areaPath=L}drawGraph(){this.options.fillColor=this.color,s.prototype.drawGraph.call(this)}}return z.defaultOptions=k(R.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),J(z.prototype,{type:"polygon",drawTracker:h.prototype.drawTracker,setStackedPoints:r}),o.registerSeriesType("polygon",z),z}),n(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d,objectEach:h}=o;var s;return function(v){function R(){const L=this.waterfall.stacks;L&&(L.changed=!1,delete L.alreadyChanged)}function J(){const L=this.options.stackLabels;L&&L.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function k(){let L=this.axes,O=this.series,G=O.length;for(;G--;)O[G].options.stacking&&(L.forEach(function(M){M.isXAxis||(M.waterfall.stacks.changed=!0)}),G=0)}function z(){this.waterfall||(this.waterfall=new q(this))}class q{constructor(O){this.axis=O,this.stacks={changed:!1}}renderStackTotals(){const O=this.axis,G=O.waterfall.stacks,M=O.stacking&&O.stacking.stackTotalGroup,S=new r(O,O.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=S,M&&h(G,function(P){h(P,function(H,U){S.total=H.stackTotal,S.x=+U,H.label&&(S.label=H.label),r.prototype.render.call(S,M),H.label=S.label,delete S.label})}),S.total=null}}v.Composition=q,v.compose=function(L,O){d(L,"init",z),d(L,"afterBuildStacks",R),d(L,"afterRender",J),d(O,"beforeRedraw",k)}}(s||(s={})),s}),n(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(r,o,d){const{isNumber:h}=d;class s extends r.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let R=o.prototype.getClassName.call(this);return this.isSum?R+=" highcharts-sum":this.isIntermediateSum&&(R+=" highcharts-intermediate-sum"),R}isValid(){return h(this.y)||this.isSum||!!this.isIntermediateSum}}return s}),n(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],function(r,o,d,h,s,v){const{seriesTypes:{column:R,line:J}}=d,{addEvent:k,arrayMax:z,arrayMin:q,correctFloat:L,extend:O,isNumber:G,merge:M,objectEach:S,pick:P}=h;class H extends R{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){R.prototype.generatePoints.apply(this);for(let E=0,ie=this.points.length;E<ie;E++){const te=this.points[E],$=this.processedYData[E];G($)&&(te.isIntermediateSum||te.isSum)&&(te.y=L($))}}processData(E){let ie=this.options,te=this.yData,$=ie.data,V,j=te.length,w=ie.threshold||0,I,m,g,b,A,X;for(X=m=I=g=b=0;X<j;X++)A=te[X],V=$&&$[X]?$[X]:{},A==="sum"||V.isSum?te[X]=L(m):A==="intermediateSum"||V.isIntermediateSum?(te[X]=L(I),I=0):(m+=A,I+=A),g=Math.min(m,g),b=Math.max(m,b);super.processData.call(this,E),ie.stacking||(this.dataMin=g+w,this.dataMax=b)}toYData(E){return E.isSum?"sum":E.isIntermediateSum?"intermediateSum":E.y}updateParallelArrays(E,ie){super.updateParallelArrays.call(this,E,ie),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(E,ie){const te=this.options.upColor;return te&&!E.options.color&&G(E.y)&&(E.color=0<E.y?te:void 0),E=R.prototype.pointAttribs.call(this,E,ie),delete E.dashstyle,E}getGraphPath(){return[["M",0,0]]}getCrispPath(){let E=this.data.filter(X=>G(X.y)),ie=this.yAxis,te=E.length,$=Math.round(this.graph.strokeWidth())%2/2,V=Math.round(this.borderWidth)%2/2,j=this.xAxis.reversed,w=this.yAxis.reversed,I=this.options.stacking,m=[];for(let X=1;X<te;X++){if(!this.options.connectNulls&&!G(this.data[E[X].index-1].y))continue;var g=E[X].box,b=E[X-1];const Y=b.y||0,K=E[X-1].box;if(!g||!K)continue;var A=ie.waterfall.stacks[this.stackKey];const le=0<Y?-K.height:0;A&&K&&g&&(A=A[X-1],b=I?Math.round(ie.translate(A.connectorThreshold,!1,!0,!1,!0)+(w?le:0))-$:K.y+b.minPointLengthOffset+V-$,m.push(["M",(K.x||0)+(j?0:K.width||0),b],["L",(g.x||0)+(j&&g.width||0),b])),K&&m.length&&(!I&&0>Y&&!w||0<Y&&w)&&((g=m[m.length-2])&&typeof g[2]=="number"&&(g[2]+=K.height||0),(g=m[m.length-1])&&typeof g[2]=="number"&&(g[2]+=K.height||0))}return m}drawGraph(){J.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function E(ce,ge,ke,re){if(g){if(Y)for(ke;ke<Y;ke++)g.stackState[ke]+=re;else g.stackState[0]=ce,Y=g.stackState.length;g.stackState.push(g.stackState[Y-1]+ge)}}let ie=this.options,te=this.yAxis.waterfall.stacks,$=ie.threshold||0,V=$,j=V,w=this.stackKey,I=this.xData,m=I.length,g,b,A,X,Y,K,le,he;var pe;let F;if(this.yAxis.stacking.usePercentage=!1,b=A=X=V,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(F=te.changed,(pe=te.alreadyChanged)&&0>pe.indexOf(w)&&(F=!0),te[w]||(te[w]={}),pe=te[w])for(let ce=0;ce<m;ce++){var Q=I[ce];(!pe[Q]||F)&&(pe[Q]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:F&&pe[Q]?pe[Q].label:void 0}),g=pe[Q],he=this.yData[ce],0<=he?g.posTotal+=he:g.negTotal+=he,le=ie.data[ce],Q=g.absolutePos=g.posTotal,K=g.absoluteNeg=g.negTotal,g.stackTotal=Q+K,Y=g.stackState.length,le&&le.isIntermediateSum?(E(X,A,0,X),X=A,A=$,V^=j,j^=V,V^=j):le&&le.isSum?(E($,b,Y,0),V=$):(E(V,he,0,b),le&&(b+=he,A+=he)),g.stateIndex++,g.threshold=V,V+=g.stackTotal}te.changed=!1,te.alreadyChanged||(te.alreadyChanged=[]),te.alreadyChanged.push(w)}}getExtremes(){let E=this.options.stacking,ie,te;if(E){var $=this.yAxis;return $=$.waterfall.stacks,ie=this.stackedYNeg=[],te=this.stackedYPos=[],E==="overlap"?S($[this.stackKey],function(V){ie.push(q(V.stackState)),te.push(z(V.stackState))}):S($[this.stackKey],function(V){ie.push(V.negTotal+V.threshold),te.push(V.posTotal+V.threshold)}),{dataMin:q(ie),dataMax:z(te)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return H.defaultOptions=M(R.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),k(H,"afterColumnTranslate",function(){const{options:U,points:E,yAxis:ie}=this,te=P(U.minPointLength,5),$=te/2,V=U.threshold||0,j=U.stacking,w=ie.waterfall.stacks[this.stackKey];let I=V,m=V;for(let Y=0;Y<E.length;Y++){const K=E[Y];var g=this.processedYData[Y];const le=O({x:0,y:0,width:0,height:0},K.shapeArgs||{});K.box=le;var b=[0,g],A=K.y||0;if(j){if(w){if(b=w[Y],j==="overlap"){var X=b.stackState[b.stateIndex--];X=0<=A?X:X-A,Object.hasOwnProperty.call(b,"absolutePos")&&delete b.absolutePos,Object.hasOwnProperty.call(b,"absoluteNeg")&&delete b.absoluteNeg}else 0<=A?(X=b.threshold+b.posTotal,b.posTotal-=A):(X=b.threshold+b.negTotal,b.negTotal-=A,X-=A),!b.posTotal&&G(b.absolutePos)&&Object.hasOwnProperty.call(b,"absolutePos")&&(b.posTotal=b.absolutePos,delete b.absolutePos),!b.negTotal&&G(b.absoluteNeg)&&Object.hasOwnProperty.call(b,"absoluteNeg")&&(b.negTotal=b.absoluteNeg,delete b.absoluteNeg);K.isSum||(b.connectorThreshold=b.threshold+b.stackTotal),ie.reversed?g=0<=A?X-A:X+A:(g=X,X-=A),K.below=g<=V,le.y=ie.translate(g,!1,!0,!1,!0),le.height=Math.abs(le.y-ie.translate(X,!1,!0,!1,!0)),(X=ie.waterfall.dummyStackItem)&&(X.x=Y,X.label=w[Y].label,X.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[Y],this.stackedYPos[Y],void 0,this.xAxis))}}else X=Math.max(m,m+A)+b[0],le.y=ie.translate(X,!1,!0,!1,!0),K.isSum?(le.y=ie.translate(b[1],!1,!0,!1,!0),le.height=Math.min(ie.translate(b[0],!1,!0,!1,!0),ie.len)-le.y,K.below=b[1]<=V):K.isIntermediateSum?(0<=A?(g=b[1]+I,X=I):(g=I,X=b[1]+I),ie.reversed&&(g^=X,X^=g,g^=X),le.y=ie.translate(g,!1,!0,!1,!0),le.height=Math.abs(le.y-Math.min(ie.translate(X,!1,!0,!1,!0),ie.len)),I+=b[1],K.below=g<=V):(le.height=0<g?ie.translate(m,!1,!0,!1,!0)-le.y:ie.translate(m,!1,!0,!1,!0)-ie.translate(m-g,!1,!0,!1,!0),m+=g,K.below=m<V),0>le.height&&(le.y+=le.height,le.height*=-1);K.plotY=le.y=Math.round(le.y||0)-this.borderWidth%2/2,le.height=Math.max(Math.round(le.height||0),.001),K.yBottom=le.y+le.height,le.height<=te&&!K.isNull?(le.height=te,le.y-=$,K.plotY=le.y,K.minPointLengthOffset=0>A?-$:$):(K.isNull&&(le.width=0),K.minPointLengthOffset=0),A=K.plotY+(K.negative?le.height:0),K.below&&(K.plotY+=le.height),K.tooltipPos&&(this.chart.inverted?K.tooltipPos[0]=ie.len-A:K.tooltipPos[1]=A),K.isInside=this.isPointInside(K),M(!0,K.shapeArgs,le)}},{order:2}),O(H.prototype,{getZonesGraphs:J.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:v}),d.registerSeriesType("waterfall",H),s.compose(r,o),H}),n(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{defaultOptions:s}=o,{noop:v}=d,{addEvent:R,correctFloat:J,defined:k,extend:z,fireEvent:q,merge:L,pick:O,relativeLength:G,wrap:M}=h;var S;return function(P){function H(){this.autoConnect=this.isCircular&&typeof O(this.userMax,this.options.max)>"u"&&J(this.endAngleRad-this.startAngleRad)===J(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function U(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(oe=>this.ticks[oe]&&this.ticks[oe].label).filter(oe=>!!oe)}}function E(){return v}function ie(oe,ye,Se){const Re=this.pane.center;let Oe=oe.value,Ue;if(this.isCircular){if(k(Oe))oe.point&&(st=oe.point.shapeArgs||{},st.start&&(Oe=this.chart.inverted?this.translate(oe.point.rectPlotY,!0):oe.point.x));else{var st=oe.chartX||0;Ue=oe.chartY||0,Oe=this.translate(Math.atan2(Ue-Se,st-ye)-this.startAngleRad,!0)}oe=this.getPosition(Oe),st=oe.x,Ue=oe.y}else k(Oe)||(st=oe.chartX,Ue=oe.chartY),k(st)&&k(Ue)&&(Se=Re[1]+this.chart.plotTop,Oe=this.translate(Math.min(Math.sqrt(Math.pow(st-ye,2)+Math.pow(Ue-Se,2)),Re[2]/2)-Re[3]/2,!0));return[Oe,st||0,Ue||0]}function te(oe,ye,Se){oe=this.pane.center;const Re=this.chart,Oe=this.left||0,Ue=this.top||0;let st=O(ye,oe[2]/2-this.offset);return typeof Se>"u"&&(Se=this.horiz?0:this.center&&-this.center[3]/2),Se&&(st+=Se),this.isCircular||typeof ye<"u"?(ye=this.chart.renderer.symbols.arc(Oe+oe[0],Ue+oe[1],st,st,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),ye.xBounds=[Oe+oe[0]],ye.yBounds=[Ue+oe[1]-st]):(ye=this.postTranslate(this.angleRad,st),ye=[["M",this.center[0]+Re.plotLeft,this.center[1]+Re.plotTop],["L",ye.x,ye.y]]),ye}function $(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function V(oe,ye,Se){const Re=this.chart;var Oe=Lt=>{if(typeof Lt=="string"){let gi=parseInt(Lt,10);return Be.test(Lt)&&(gi=gi*Qe/100),gi}return Lt};const Ue=this.center;var st=this.startAngleRad;const Qe=Ue[2]/2;var qe=Math.min(this.offset,0),xe=this.left||0;const Ie=this.top||0,Be=/%$/;var Xe=this.isCircular;let Ke,pt=O(Oe(Se.outerRadius),Qe),Tt=Oe(Se.innerRadius);return Oe=O(Oe(Se.thickness),10),this.options.gridLineInterpolation==="polygon"?qe=this.getPlotLinePath({value:oe}).concat(this.getPlotLinePath({value:ye,reverse:!0})):(oe=Math.max(oe,this.min),ye=Math.min(ye,this.max),oe=this.translate(oe),ye=this.translate(ye),Xe||(pt=oe||0,Tt=ye||0),Se.shape!=="circle"&&Xe?(Se=st+(oe||0),st+=ye||0):(Se=-Math.PI/2,st=1.5*Math.PI,Ke=!0),pt-=qe,qe=Re.renderer.symbols.arc(xe+Ue[0],Ie+Ue[1],pt,pt,{start:Math.min(Se,st),end:Math.max(Se,st),innerR:O(Tt,pt-(Oe-qe)),open:Ke}),Xe&&(Xe=(st+Se)/2,xe=xe+Ue[0]+Ue[2]/2*Math.cos(Xe),qe.xBounds=Xe>-Math.PI/2&&Xe<Math.PI/2?[xe,Re.plotWidth]:[0,xe],qe.yBounds=[Ie+Ue[1]+Ue[2]/2*Math.sin(Xe)],qe.yBounds[0]+=Xe>-Math.PI&&0>Xe||Xe>Math.PI?-10:10)),qe}function j(oe){var ye=this.pane.center,Se=this.chart;const Re=Se.inverted;var Oe=oe.reverse,Ue=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const st=Ue.innerRadius||"0%",Qe=Ue.outerRadius||"100%";var qe=ye[0]+Se.plotLeft,xe=ye[1]+Se.plotTop;const Ie=this.height,Be=oe.isCrosshair;Ue=ye[3]/2;var Xe=oe.value;let Ke;var pt=this.getPosition(Xe);let Tt=pt.x;if(pt=pt.y,Be&&(pt=this.getCrosshairPosition(oe,qe,xe),Xe=pt[0],Tt=pt[1],pt=pt[2]),this.isCircular)Xe=Math.sqrt(Math.pow(Tt-qe,2)+Math.pow(pt-xe,2)),Oe=typeof st=="string"?G(st,1):st/Xe,Se=typeof Qe=="string"?G(Qe,1):Qe/Xe,ye&&Ue&&(Ue/=Xe,Oe<Ue&&(Oe=Ue),Se<Ue&&(Se=Ue)),ye=[["M",qe+Oe*(Tt-qe),xe-Oe*(xe-pt)],["L",Tt-(1-Se)*(Tt-qe),pt+(1-Se)*(xe-pt)]];else if((Xe=this.translate(Xe))&&(0>Xe||Xe>Ie)&&(Xe=0),this.options.gridLineInterpolation==="circle")ye=this.getLinePath(0,Xe,Ue);else if(ye=[],Se[Re?"yAxis":"xAxis"].forEach(Lt=>{Lt.pane===this.pane&&(Ke=Lt)}),Ke)for(qe=Ke.tickPositions,Ke.autoConnect&&(qe=qe.concat([qe[0]])),Oe&&(qe=qe.slice().reverse()),Xe&&(Xe+=Ue),xe=0;xe<qe.length;xe++)Ue=Ke.getPosition(qe[xe],Xe),ye.push(xe?["L",Ue.x,Ue.y]:["M",Ue.x,Ue.y]);return ye}function w(oe,ye){return oe=this.translate(oe),this.postTranslate(this.isCircular?oe:this.angleRad,O(this.isCircular?ye:0>oe?0:oe,this.center[2]/2)-this.offset)}function I(){const oe=this.center,ye=this.chart,Se=this.options.title;return{x:ye.plotLeft+oe[0]+(Se.x||0),y:ye.plotTop+oe[1]-{high:.5,middle:.25,low:0}[Se.align]*oe[2]+(Se.y||0)}}function m(oe){oe.beforeSetTickPositions=H,oe.createLabelCollector=U,oe.getCrosshairPosition=ie,oe.getLinePath=te,oe.getOffset=$,oe.getPlotBandPath=V,oe.getPlotLinePath=j,oe.getPosition=w,oe.getTitlePosition=I,oe.postTranslate=he,oe.setAxisSize=F,oe.setAxisTranslation=Q,oe.setOptions=ce}function g(){var oe=this.chart,ye=this.options,Se=this.pane,Re=Se&&Se.options;oe.angular&&this.isXAxis||!Se||!oe.angular&&!oe.polar||(oe=2*Math.PI,Se=(O(Re.startAngle,0)-90)*Math.PI/180,Re=(O(Re.endAngle,O(Re.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(ye.angle||0)*Math.PI/180,this.startAngleRad=Se,this.endAngleRad=Re,this.offset=ye.offset||0,ye=(Se%oe+oe)%oe,Re=(Re%oe+oe)%oe,ye>Math.PI&&(ye-=oe),Re>Math.PI&&(Re-=oe),this.normalizedStartAngleRad=ye,this.normalizedEndAngleRad=Re)}function b(oe){this.isRadial&&(oe.align=void 0,oe.preventDefault())}function A(){if(this.chart&&this.chart.labelCollectors){const oe=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=oe&&this.chart.labelCollectors.splice(oe,1)}}function X(oe){const ye=this.chart,Se=ye.inverted,Re=ye.angular,Oe=ye.polar,Ue=this.isXAxis,st=this.coll,Qe=Re&&Ue;oe=oe.userOptions.pane||0,oe=this.pane=ye.pane&&ye.pane[oe];let qe;st==="colorAxis"?this.isRadial=!1:(Re?(Qe?(this.isHidden=!0,this.createLabelCollector=E,this.getOffset=v,this.render=this.redraw=pe,this.setTitle=this.setCategories=this.setScale=v):m(this),(qe=!Ue)&&(this.defaultPolarOptions=ve)):Oe&&(m(this),this.defaultPolarOptions=(qe=this.horiz)?re:L(st==="xAxis"?r.defaultXAxisOptions:r.defaultYAxisOptions,_e),Se&&st==="yAxis"&&(this.defaultPolarOptions.stackLabels=r.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Re||Oe?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&ye.labelCollectors.push(this.labelCollector)):this.isRadial=!1,oe&&qe&&(oe.axis=this),this.isCircular=qe)}function Y(){this.isRadial&&this.beforeSetTickPositions()}function K(oe){const ye=this.label;if(ye){var Se=this.axis,Re=ye.getBBox(),Oe=Se.options.labels,Ue=(Se.translate(this.pos)+Se.startAngleRad+Math.PI/2)/Math.PI*180%360,st=Math.round(Ue),Qe=k(Oe.y)?0:.3*-Re.height,qe=Oe.y,xe=20,Ie=Oe.align,Be="end",Xe=0>st?st+360:st,Ke=Xe,pt=0,Tt=0;if(Se.isRadial){var Lt=Se.getPosition(this.pos,Se.center[2]/2+G(O(Oe.distance,-25),Se.center[2]/2,-Se.center[2]/2));Oe.rotation==="auto"?ye.attr({rotation:Ue}):k(qe)||(qe=Se.chart.renderer.fontMetrics(ye).b-Re.height/2),k(Ie)||(Se.isCircular?(Re.width>Se.len*Se.tickInterval/(Se.max-Se.min)&&(xe=0),Ie=Ue>xe&&Ue<180-xe?"left":Ue>180+xe&&Ue<360-xe?"right":"center"):Ie="center",ye.attr({align:Ie})),Ie==="auto"&&Se.tickPositions.length===2&&Se.isCircular&&(90<Xe&&180>Xe?Xe=180-Xe:270<Xe&&360>=Xe&&(Xe=540-Xe),180<Ke&&360>=Ke&&(Ke=360-Ke),(Se.pane.options.startAngle===st||Se.pane.options.startAngle===st+360||Se.pane.options.startAngle===st-360)&&(Be="start"),Ie=-90<=st&&90>=st||-360<=st&&-270>=st||270<=st&&360>=st?Be==="start"?"right":"left":Be==="start"?"left":"right",70<Ke&&110>Ke&&(Ie="center"),15>Xe||180<=Xe&&195>Xe?pt=.3*Re.height:15<=Xe&&35>=Xe?pt=Be==="start"?0:.75*Re.height:195<=Xe&&215>=Xe?pt=Be==="start"?.75*Re.height:0:35<Xe&&90>=Xe?pt=Be==="start"?.25*-Re.height:Re.height:215<Xe&&270>=Xe&&(pt=Be==="start"?Re.height:.25*-Re.height),15>Ke?Tt=Be==="start"?.15*-Re.height:.15*Re.height:165<Ke&&180>=Ke&&(Tt=Be==="start"?.15*Re.height:.15*-Re.height),ye.attr({align:Ie}),ye.translate(Tt,pt+Qe)),oe.pos.x=Lt.x+(Oe.x||0),oe.pos.y=Lt.y+(qe||0)}}}function le(oe){this.axis.getPosition&&z(oe.pos,this.axis.getPosition(this.pos))}function he(oe,ye){const Se=this.chart,Re=this.center;return oe=this.startAngleRad+oe,{x:Se.plotLeft+Re[0]+Math.cos(oe)*ye,y:Se.plotTop+Re[1]+Math.sin(oe)*ye}}function pe(){this.isDirty=!1}function F(){let oe,ye;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),oe=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(ye=this.postTranslate(this.angleRad,oe[3]/2),oe[0]=ye.x-this.chart.plotLeft,oe[1]=ye.y-this.chart.plotTop),this.len=this.width=this.height=(oe[2]-oe[3])*O(this.sector,1)/2)}function Q(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function ce(oe){oe=this.options=L(this.constructor.defaultOptions,this.defaultPolarOptions,s[this.coll],oe),oe.plotBands||(oe.plotBands=[]),q(this,"afterSetOptions")}function ge(oe,ye,Se,Re,Oe,Ue,st){const Qe=this.axis;return Qe.isRadial?(oe=Qe.getPosition(this.pos,Qe.center[2]/2+Re),ye=["M",ye,Se,"L",oe.x,oe.y]):ye=oe.call(this,ye,Se,Re,Oe,Ue,st),ye}const ke=[],re={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},ve={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},_e={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};P.compose=function(oe,ye){return h.pushUnique(ke,oe)&&(R(oe,"afterInit",g),R(oe,"autoLabelAlign",b),R(oe,"destroy",A),R(oe,"init",X),R(oe,"initialAxisTranslation",Y)),h.pushUnique(ke,ye)&&(R(ye,"afterGetLabelPosition",K),R(ye,"afterGetPosition",le),M(ye.prototype,"getMarkPath",ge)),oe}}(S||(S={})),S}),n(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){function R(F,Q,ce,ge){var ke=ge?1:0,re=0<=Q&&Q<=F.length-1?Q:0>Q?F.length-1+Q:0;Q=0>re-1?F.length-(1+ke):re-1;var ve=F[Q];ke=F[re+1>F.length-1?ke:re+1];var _e=ve.plotY,oe=ke.plotX,ye=ke.plotY;ke=F[re].plotX,re=F[re].plotY,ve=(1.5*ke+ve.plotX)/2.5,_e=(1.5*re+_e)/2.5,oe=(1.5*ke+oe)/2.5;var Se=(1.5*re+ye)/2.5;ye=Math.sqrt(Math.pow(ve-ke,2)+Math.pow(_e-re,2));const Re=Math.sqrt(Math.pow(oe-ke,2)+Math.pow(Se-re,2));return ve=Math.atan2(_e-re,ve-ke),Se=Math.PI/2+(ve+Math.atan2(Se-re,oe-ke))/2,Math.abs(ve-Se)>Math.PI/2&&(Se-=Math.PI),ve=ke+Math.cos(Se)*ye,_e=re+Math.sin(Se)*ye,oe=ke+Math.cos(Math.PI+Se)*Re,Se=re+Math.sin(Math.PI+Se)*Re,ke={rightContX:oe,rightContY:Se,leftContX:ve,leftContY:_e,plotX:ke,plotY:re},ce&&(ke.prevPointCont=R(F,Q,!1,ge)),ke}function J(){(this.pane||[]).forEach(F=>{F.render()})}function k(F){const Q=F.args[0].xAxis,ce=F.args[0].yAxis;F=F.args[0].chart,Q&&ce&&(ce.gridLineInterpolation==="polygon"?(Q.startOnTick=!0,Q.endOnTick=!0):Q.gridLineInterpolation==="polygon"&&F.inverted&&(ce.startOnTick=!0,ce.endOnTick=!0))}function z(){this.pane||(this.pane=[]),this.options.pane=Y(this.options.pane),this.options.pane.forEach(F=>{new h(F,this)},this)}function q(F){var Q=F.args.marker,ce=this.chart.xAxis[0],ge=this.chart.yAxis[0],ke=this.chart.inverted;const re=ke?ge:ce;if(ce=ke?ce:ge,this.chart.polar){F.preventDefault(),ge=(Q.attr?Q.attr("start"):Q.start)-re.startAngleRad,ke=Q.attr?Q.attr("r"):Q.r;let ve=(Q.attr?Q.attr("end"):Q.end)-re.startAngleRad;Q=Q.attr?Q.attr("innerR"):Q.innerR,F.result.x=ge+re.pos,F.result.width=ve-ge,F.result.y=ce.len+ce.pos-Q,F.result.height=Q-ke}}function L(F){var Q=this.chart;if(Q.polar&&Q.hoverPane&&Q.hoverPane.axis){F.preventDefault();var ce=Q.hoverPane.center,ge=this.mouseDownX||0;const Ue=this.mouseDownY||0;var ke=F.args.chartY;const st=F.args.chartX;var re=2*Math.PI,ve=Q.hoverPane.axis.startAngleRad,_e=Q.hoverPane.axis.endAngleRad,oe=Q.inverted?Q.xAxis[0]:Q.yAxis[0];const Qe={};var ye="arc";if(Qe.x=ce[0]+Q.plotLeft,Qe.y=ce[1]+Q.plotTop,this.zoomHor){var Se=0<ve?_e-ve:Math.abs(ve)+Math.abs(_e),Re=Math.atan2(Ue-Q.plotTop-ce[1],ge-Q.plotLeft-ce[0])-ve,Oe=Math.atan2(ke-Q.plotTop-ce[1],st-Q.plotLeft-ce[0])-ve;if(Qe.r=ce[2]/2,Qe.innerR=ce[3]/2,0>=Re&&(Re+=re),0>=Oe&&(Oe+=re),Oe<Re&&(Oe=[Re,Re=Oe][0]),Se<re&&ve+Oe>_e+(re-Se)/2&&(Oe=Re,Re=0>=ve?ve:0),re=Qe.start=Math.max(Re+ve,ve),Se=Qe.end=Math.min(Oe+ve,_e),oe.options.gridLineInterpolation==="polygon"){if(ye=Q.hoverPane.axis,Oe=re-ye.startAngleRad+ye.pos,Re=Se-re,re=oe.getPlotLinePath({value:oe.max}),Se=ye.toValue(Oe),Oe=ye.toValue(Oe+Re),Se<ye.getExtremes().min){const{min:qe,max:xe}=ye.getExtremes();Se=xe-(qe-Se)}if(Oe<ye.getExtremes().min){const{min:qe,max:xe}=ye.getExtremes();Oe=xe-(qe-Oe)}Oe<Se&&(Oe=[Se,Se=Oe][0]),re=S(re,Se,Oe,ye),re.push(["L",ce[0]+Q.plotLeft,Q.plotTop+ce[1]]),Qe.d=re,ye="path"}}this.zoomVert&&(Oe=Q.inverted?Q.xAxis[0]:Q.yAxis[0],ge=Math.sqrt(Math.pow(ge-Q.plotLeft-ce[0],2)+Math.pow(Ue-Q.plotTop-ce[1],2)),ke=Math.sqrt(Math.pow(st-Q.plotLeft-ce[0],2)+Math.pow(ke-Q.plotTop-ce[1],2)),ke<ge&&(ge=[ke,ke=ge][0]),ke>ce[2]/2&&(ke=ce[2]/2),ge<ce[3]/2&&(ge=ce[3]/2),this.zoomHor||(Qe.start=ve,Qe.end=_e),Qe.r=ke,Qe.innerR=ge,Oe.options.gridLineInterpolation==="polygon"&&(ce=Oe.toValue(Oe.len+Oe.pos-ge),ve=Oe.toValue(Oe.len+Oe.pos-ke),ce=Oe.getPlotLinePath({value:ve}).concat(Oe.getPlotLinePath({value:ce,reverse:!0})),Qe.d=ce,ye="path")),this.zoomHor&&this.zoomVert&&oe.options.gridLineInterpolation==="polygon"&&(ce=Q.hoverPane.axis,oe=Qe.start||0,ve=oe-ce.startAngleRad+ce.pos,_e=(Qe.end||0)-oe,oe=ce.toValue(ve),ce=ce.toValue(ve+_e),Qe.d instanceof Array&&(ve=Qe.d.slice(0,Qe.d.length/2),_e=Qe.d.slice(Qe.d.length/2,Qe.d.length),_e=[..._e].reverse(),Q=Q.hoverPane.axis,ve=S(ve,oe,ce,Q),(_e=S(_e,oe,ce,Q))&&(_e[0][0]="L"),_e=[..._e].reverse(),Qe.d=ve.concat(_e),ye="path")),F.attrs=Qe,F.shapeType=ye}}function O(){const F=this.chart;F.polar&&(this.polar=new pe(this),F.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function G(){if(this.chart.polar&&this.xAxis){const{xAxis:F,yAxis:Q}=this,ce=this.chart;(this.kdByAngle=ce.tooltip&&ce.tooltip.shared)?this.searchPoint=M:this.options.findNearestPointBy="xy";const ge=this.points;let ke=ge.length;for(;ke--;)this.is("column")||this.is("columnrange")||this.polar.toXY(ge[ke]),ce.hasParallelCoordinates||this.yAxis.reversed||(A(ge[ke].y,Number.MIN_VALUE)<Q.min||ge[ke].x<F.min||ge[ke].x>F.max?(ge[ke].isNull=!0,ge[ke].plotY=NaN):ge[ke].isNull=ge[ke].isValid&&!ge[ke].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(w(this,"afterRender",function(){if(ce.polar){var re=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:re[0],y:re[1],r:re[2]/2,innerR:re[3]/2});else{{var ve=ce.renderer,_e=re[0],oe=re[1],ye=re[2]/2,Se=re[3]/2;re=K();const Re=ve.createElement("clipPath").attr({id:re}).add(ve.defs);ve=Se?ve.arc(_e,oe,ye,Se,0,2*Math.PI).add(Re):ve.circle(_e,oe,ye).add(Re),ve.id=re,ve.clipPath=Re}this.clipCircle=ve}this.group.clip(this.clipCircle),this.setClip=o.noop}})))}}function M(F){const Q=this.chart;var ce=this.xAxis;return ce=ce.pane&&ce.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(F.chartX-(ce&&ce[0]||0)-Q.plotLeft,F.chartY-(ce&&ce[1]||0)-Q.plotTop)})}function S(F,Q,ce,ge){const ke=ge.tickInterval;ge=ge.tickPositions;let re=m(ge,_e=>_e>=ce),ve=m([...ge].reverse(),_e=>_e<=Q);return I(re)||(re=ge[ge.length-1]),I(ve)||(ve=ge[0],re+=ke,F[0][0]="L",F.unshift(F[F.length-3])),F=F.slice(ge.indexOf(ve),ge.indexOf(re)+1),F[0][0]="M",F}function P(F,Q){return m(this.pane||[],function(ce){return ce.options.id===Q})||F.call(this,Q)}function H(F,Q,ce,ge,ke,re){const ve=this.chart;var _e=A(ge.inside,!!this.options.stacking);ve.polar?(F=Q.rectPlotX/Math.PI*180,ve.inverted?(this.forceDL=ve.isInsidePlot(Q.plotX,Q.plotY),_e&&Q.shapeArgs?(_e=Q.shapeArgs,_e=this.yAxis.postTranslate(((_e.start||0)+(_e.end||0))/2-this.xAxis.startAngleRad,Q.barX+Q.pointWidth/2),ke=b(ke,{x:_e.x-ve.plotLeft,y:_e.y-ve.plotTop})):Q.tooltipPos&&(ke=b(ke,{x:Q.tooltipPos[0],y:Q.tooltipPos[1]})),ge.align=A(ge.align,"center"),ge.verticalAlign=A(ge.verticalAlign,"middle")):(ge.align===null&&(ge.align=20<F&&160>F?"left":200<F&&340>F?"right":"center"),ge.verticalAlign===null&&(ge.verticalAlign=45>F||315<F?"bottom":135<F&&225>F?"top":"middle")),d.prototype.alignDataLabel.call(this,Q,ce,ge,ke,re),this.isRadialBar&&Q.shapeArgs&&Q.shapeArgs.start===Q.shapeArgs.end?ce.hide():ce.show()):F.call(this,Q,ce,ge,ke,re)}function U(){const F=this.options,Q=F.stacking,ce=this.chart;var ge=this.xAxis;const ke=this.yAxis,re=ke.reversed,ve=ke.center,_e=ge.startAngleRad,oe=ge.endAngleRad-_e;let ye=0,Se,Re,Oe,Ue=0;var st=0;if(ge.isRadial){ge=this.points,Se=ge.length,Re=ke.translate(ke.min),Oe=ke.translate(ke.max);var Qe=F.threshold||0;for(ce.inverted&&g(Qe)&&(ye=ke.translate(Qe),I(ye)&&(0>ye?ye=0:ye>oe&&(ye=oe),this.translatedThreshold=ye+_e));Se--;){Qe=ge[Se];var qe=Qe.barX,xe=Qe.x,Ie=Qe.y;if(Qe.shapeType="arc",ce.inverted){Qe.plotY=ke.translate(Ie),Q&&ke.stacking?(Ie=ke.stacking.stacks[(0>Ie?"-":"")+this.stackKey],this.visible&&Ie&&Ie[xe]&&!Qe.isNull&&(st=Ie[xe].points[this.getStackIndicator(void 0,xe,this.index).key],Ue=ke.translate(st[0]),st=ke.translate(st[1]),I(Ue)&&(Ue=v.clamp(Ue,0,oe)))):(Ue=ye,st=Qe.plotY),Ue>st&&(st=[Ue,Ue=st][0]),re?st>Re?st=Re:Ue<Oe?Ue=Oe:(Ue>Re||st<Oe)&&(Ue=st=oe):Ue<Re?Ue=Re:st>Oe?st=Oe:(st<Re||Ue>Oe)&&(Ue=st=0),ke.min>ke.max&&(Ue=st=re?oe:0),Ue+=_e,st+=_e,ve&&(Qe.barX=qe+=ve[3]/2),xe=Math.max(qe,0),Ie=Math.max(qe+Qe.pointWidth,0);var Be=F.borderRadius;Be=X((typeof Be=="object"?Be.radius:Be)||0,Ie-xe),Qe.shapeArgs={x:ve[0],y:ve[1],r:Ie,innerR:xe,start:Ue,end:st,borderRadius:Be},Qe.opacity=Ue===st?0:void 0,Qe.plotY=(I(this.translatedThreshold)&&(Ue<this.translatedThreshold?Ue:st))-_e}else Ue=qe+_e,Qe.shapeArgs=this.polar.arc(Qe.yBottom,Qe.plotY,Ue,Ue+Qe.pointWidth),Qe.shapeArgs.borderRadius=0;this.polar.toXY(Qe),ce.inverted?(qe=ke.postTranslate(Qe.rectPlotY,qe+Qe.pointWidth/2),Qe.tooltipPos=[qe.x-ce.plotLeft,qe.y-ce.plotTop]):Qe.tooltipPos=[Qe.plotX,Qe.plotY],ve&&(Qe.ttBelow=Qe.plotY>ve[1])}}}function E(F,Q){const ce=this;let ge;if(this.chart.polar){Q=Q||this.points;for(let re=0;re<Q.length;re++)if(!Q[re].isNull){var ke=re;break}this.options.connectEnds!==!1&&typeof ke<"u"&&(this.connectEnds=!0,Q.splice(Q.length,0,Q[ke]),ge=!0),Q.forEach(re=>{typeof re.polarPlotY>"u"&&ce.polar.toXY(re)})}return ke=F.apply(this,[].slice.call(arguments,1)),ge&&Q.pop(),ke}function ie(F,Q){const ce=this.chart;let ge={xAxis:[],yAxis:[]};return ce.polar?ce.axes.forEach(ke=>{if(ke.coll!=="colorAxis"){var re=ke.isXAxis,ve=ke.center,_e=Q.chartX-ve[0]-ce.plotLeft;ve=Q.chartY-ve[1]-ce.plotTop,ge[re?"xAxis":"yAxis"].push({axis:ke,value:ke.translate(re?Math.PI-Math.atan2(_e,ve):Math.sqrt(Math.pow(_e,2)+Math.pow(ve,2)),!0)})}}):ge=F.call(this,Q),ge}function te(F,Q){this.chart.polar||F.call(this,Q)}function $(F,Q){const ce=this,ge=this.chart,ke=this.group,re=this.markerGroup,ve=this.xAxis&&this.xAxis.center,_e=ge.plotLeft,oe=ge.plotTop;let ye=this.options.animation,Se,Re,Oe,Ue,st;ge.polar?ce.isRadialBar?Q||(ce.startAngleRad=A(ce.translatedThreshold,ce.xAxis.startAngleRad),o.seriesTypes.pie.prototype.animate.call(ce,Q)):(ye=j(ye),ce.is("column")?Q||(Se=ve[3]/2,ce.points.forEach(Qe=>{Re=Qe.graphic,Ue=(Oe=Qe.shapeArgs)&&Oe.r,st=Oe&&Oe.innerR,Re&&Oe&&(Re.attr({r:Se,innerR:Se}),Re.animate({r:Ue,innerR:st},ce.options.animation))})):Q?(F={translateX:ve[0]+_e,translateY:ve[1]+oe,scaleX:.001,scaleY:.001},ke.attr(F),re&&re.attr(F)):(F={translateX:_e,translateY:oe,scaleX:1,scaleY:1},ke.animate(F,ye),re&&re.animate(F,ye))):F.call(this,Q)}function V(F,Q,ce,ge){return this.chart.polar?ge?(F=R(Q,ge,!0,this.connectEnds),Q=F.prevPointCont&&F.prevPointCont.rightContX,ce=F.prevPointCont&&F.prevPointCont.rightContY,F=["C",g(Q)?Q:F.plotX,g(ce)?ce:F.plotY,g(F.leftContX)?F.leftContX:F.plotX,g(F.leftContY)?F.leftContY:F.plotY,F.plotX,F.plotY]):F=["M",ce.plotX,ce.plotY]:F=F.call(this,Q,ce,ge),F}const{animObject:j}=r,{addEvent:w,defined:I,find:m,isNumber:g,merge:b,pick:A,relativeLength:X,splat:Y,uniqueKey:K,wrap:le}=v,he=[];class pe{static compose(Q,ce,ge,ke,re,ve,_e,oe,ye){s.compose(Q,re),v.pushUnique(he,ce)&&(w(ce,"afterDrawChartBox",J),w(ce,"getAxes",z),w(ce,"init",k),le(ce.prototype,"get",P)),v.pushUnique(he,ge)&&(Q=ge.prototype,le(Q,"getCoordinates",ie),le(Q,"pinch",te),w(ge,"getSelectionMarkerAttrs",L),w(ge,"getSelectionBox",q)),v.pushUnique(he,ke)&&(w(ke,"afterInit",O),w(ke,"afterTranslate",G,{order:2}),w(ke,"afterColumnTranslate",U,{order:4}),le(ke.prototype,"animate",$)),_e&&v.pushUnique(he,_e)&&(ge=_e.prototype,le(ge,"alignDataLabel",H),le(ge,"animate",$)),oe&&v.pushUnique(he,oe)&&le(oe.prototype,"getGraphPath",E),ye&&v.pushUnique(he,ye)&&(oe=ye.prototype,le(oe,"getPointSpline",V),ve&&v.pushUnique(he,ve)&&(ve.prototype.getPointSpline=oe.getPointSpline))}constructor(Q){this.series=Q}arc(Q,ce,ge,ke){const re=this.series,ve=re.xAxis.center,_e=re.yAxis.len,oe=ve[3]/2;return ce=_e-ce+oe,Q=_e-A(Q,_e)+oe,re.yAxis.reversed&&(0>ce&&(ce=oe),0>Q&&(Q=oe)),{x:ve[0],y:ve[1],r:ce,innerR:Q,start:ge,end:ke}}toXY(Q){var ce=this.series;const ge=ce.chart,ke=ce.xAxis;var re=ce.yAxis;const ve=Q.plotX,_e=ge.inverted,oe=Q.y;let ye=Q.plotY,Se=_e?ve:re.len-ye;_e&&ce&&!ce.isRadialBar&&(Q.plotY=ye=g(oe)?re.translate(oe):0),Q.rectPlotX=ve,Q.rectPlotY=ye,re.center&&(Se+=re.center[3]/2),g(ye)&&(re=_e?re.postTranslate(ye,Se):ke.postTranslate(ve,Se),Q.plotX=Q.polarPlotX=re.x-ge.plotLeft,Q.plotY=Q.polarPlotY=re.y-ge.plotTop),ce.kdByAngle?(ce=(ve/Math.PI*180+ke.pane.options.startAngle)%360,0>ce&&(ce+=360),Q.clientX=ce):Q.clientX=Q.plotX}}return pe}),n(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],function(r,o,d,h,s){d.compose(r.Axis,r.Chart,r.Legend,r.Series),h.compose(r.Axis,r.Chart,r.Legend,r.Series),s.compose(r.Axis,r.Chart,r.Pointer,r.Series,r.Tick,o.seriesTypes.areasplinerange,o.seriesTypes.column,o.seriesTypes.line,o.seriesTypes.spline)})})})(z6);var WX=z6.exports;const N6=Mu(WX);N6(pc);const YX={components:{highcharts:nm.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var t=e.series[0].points[0],n,r=Math.round((Math.random()-.5)*20);n=t.y+r,(n<0||n>200)&&(n=t.y-r),t.update(n)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10,enabled:!1},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},gh=e=>(K0("data-v-7c7fa323"),e=e(),J0(),e),qX={class:"row"},XX={class:"col position-relative"},ZX=gh(()=>Ye("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HFO (KL)",-1)),KX=gh(()=>Ye("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"15.08 KL",-1)),JX={class:"col position-relative"},QX=gh(()=>Ye("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total LS HFO (KL)",-1)),eZ=gh(()=>Ye("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.94",-1)),tZ={class:"col position-relative"},iZ=gh(()=>Ye("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total MDO (KL)",-1)),nZ=gh(()=>Ye("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"1.22",-1)),rZ={class:"col position-relative"},sZ=gh(()=>Ye("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HSD (KL)",-1)),oZ=gh(()=>Ye("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.01",-1)),aZ={class:"col position-relative"},lZ=gh(()=>Ye("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total (KL)",-1)),cZ=gh(()=>Ye("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"21.25",-1));function dZ(e,t,n,r,o,d){const h=Tr("highcharts");return bt(),Bt("div",qX,[Ye("div",XX,[dn(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),ZX,KX]),Ye("div",JX,[dn(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),QX,eZ]),Ye("div",tZ,[dn(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),iZ,nZ]),Ye("div",rZ,[dn(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),sZ,oZ]),Ye("div",aZ,[dn(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),lZ,cZ])])}const uZ=zr(YX,[["render",dZ],["__scopeId","data-v-7c7fa323"]]);var F6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function n(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},n(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d,find:h,fireEvent:s,isArray:v,isNumber:R,pick:J}=o;var k;return function(z){function q(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function L(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function O(){const ie=this.brokenAxis;if(ie&&ie.hasBreaks){const te=this.tickPositions,$=this.tickPositions.info,V=[];for(let j=0;j<te.length;j++)ie.isInAnyBreak(te[j])||V.push(te[j]);this.tickPositions=V,this.tickPositions.info=$}}function G(){this.brokenAxis||(this.brokenAxis=new E(this))}function M(){const{isDirty:ie,options:{connectNulls:te},points:$,xAxis:V,yAxis:j}=this;if(ie){let w=$.length;for(;w--;){const I=$[w],m=!(I.y===null&&te===!1)&&(V&&V.brokenAxis&&V.brokenAxis.isInAnyBreak(I.x,!0)||j&&j.brokenAxis&&j.brokenAxis.isInAnyBreak(I.y,!0));I.visible=m?!1:I.options.visible!==!1}}}function S(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,J(this.pointArrayMap,["y"]))}function P(ie,te){const $=this,V=$.points;let j,w,I,m;if(ie&&ie.brokenAxis&&ie.brokenAxis.hasBreaks){const g=ie.brokenAxis;te.forEach(function(b){j=g&&g.breakArray||[],w=ie.isXAxis?ie.min:J($.options.threshold,ie.min),V.forEach(function(A){m=J(A["stack"+b.toUpperCase()],A[b]),j.forEach(function(X){R(w)&&R(m)&&(I=!1,w<X.from&&m>X.to||w>X.from&&m<X.from?I="pointBreak":(w<X.from&&m>X.from&&m<X.to||w>X.from&&m>X.to&&m<X.from)&&(I="pointInBreak"),I&&s(ie,I,{point:A,brk:X}))})})})}}function H(){var ie=this.currentDataGrouping,te=ie&&ie.gapSize;ie=this.points.slice();const $=this.yAxis;let V=this.options.gapSize,j=ie.length-1;var w;if(V&&0<j)for(this.options.gapUnit!=="value"&&(V*=this.basePointRange),te&&te>V&&te>=this.basePointRange&&(V=te);j--;)w&&w.visible!==!1||(w=ie[j+1]),te=ie[j],w.visible!==!1&&te.visible!==!1&&(w.x-te.x>V&&(w=(te.x+w.x)/2,ie.splice(j+1,0,{isNull:!0,x:w}),$.stacking&&this.options.stacking&&(w=$.stacking.stacks[this.stackKey][w]=new r($,$.options.stackLabels,!1,w,this.stack),w.total=0)),w=te);return this.getGraphPath(ie)}const U=[];z.compose=function(ie,te){if(o.pushUnique(U,ie)&&(ie.keepProps.push("brokenAxis"),d(ie,"init",G),d(ie,"afterInit",q),d(ie,"afterSetTickPositions",O),d(ie,"afterSetOptions",L)),o.pushUnique(U,te)){const $=te.prototype;$.drawBreaks=P,$.gappedPath=H,d(te,"afterGeneratePoints",M),d(te,"afterRender",S)}return ie};class E{static isInBreak(te,$){const V=te.repeat||1/0,j=te.from,w=te.to-te.from;return $=$>=j?($-j)%V:V-(j-$)%V,te.inclusive?$<=w:$<w&&$!==0}static lin2Val(te){var $=this.brokenAxis;if($=$&&$.breakArray,!$||!R(te))return te;let V,j;for(j=0;j<$.length&&(V=$[j],!(V.from>=te));j++)(V.to<te||E.isInBreak(V,te))&&(te+=V.len);return te}static val2Lin(te){var $=this.brokenAxis;if($=$&&$.breakArray,!$||!R(te))return te;let V=te,j,w;for(w=0;w<$.length;w++)if(j=$[w],j.to<=te)V-=j.len;else{if(j.from>=te)break;if(E.isInBreak(j,te)){V-=te-j.from;break}}return V}constructor(te){this.hasBreaks=!1,this.axis=te}findBreakAt(te,$){return h($,function(V){return V.from<te&&te<V.to})}isInAnyBreak(te,$){const V=this.axis,j=V.options.breaks||[];let w=j.length,I,m,g;if(w&&R(te)){for(;w--;)E.isInBreak(j[w],te)&&(I=!0,m||(m=J(j[w].showPoints,!V.isXAxis)));g=I&&$?I&&!m:I}return g}setBreaks(te,$){const V=this,j=V.axis,w=v(te)&&!!te.length;j.isDirty=V.hasBreaks!==w,V.hasBreaks=w,j.options.breaks=j.userOptions.breaks=te,j.forceRedraw=!0,j.series.forEach(function(I){I.isDirty=!0}),w||j.val2lin!==E.val2Lin||(delete j.val2lin,delete j.lin2val),w&&(j.userOptions.ordinal=!1,j.lin2val=E.lin2Val,j.val2lin=E.val2Lin,j.setExtremes=function(I,m,g,b,A){if(V.hasBreaks){const X=this.options.breaks||[];let Y;for(;Y=V.findBreakAt(I,X);)I=Y.to;for(;Y=V.findBreakAt(m,X);)m=Y.from;m<I&&(m=I)}j.constructor.prototype.setExtremes.call(this,I,m,g,b,A)},j.setAxisTranslation=function(){if(j.constructor.prototype.setAxisTranslation.call(this),V.unitLength=void 0,V.hasBreaks){const I=j.options.breaks||[],m=[],g=[],b=J(j.pointRangePadding,0);let A=0,X,Y,K=j.userMin||j.min,le=j.userMax||j.max,he,pe;I.forEach(function(F){Y=F.repeat||1/0,R(K)&&R(le)&&(E.isInBreak(F,K)&&(K+=F.to%Y-K%Y),E.isInBreak(F,le)&&(le-=le%Y-F.from%Y))}),I.forEach(function(F){if(he=F.from,Y=F.repeat||1/0,R(K)&&R(le)){for(;he-Y>K;)he-=Y;for(;he<K;)he+=Y;for(pe=he;pe<le;pe+=Y)m.push({value:pe,move:"in"}),m.push({value:pe+F.to-F.from,move:"out",size:F.breakSize})}}),m.sort(function(F,Q){return F.value===Q.value?(F.move==="in"?0:1)-(Q.move==="in"?0:1):F.value-Q.value}),X=0,he=K,m.forEach(function(F){X+=F.move==="in"?1:-1,X===1&&F.move==="in"&&(he=F.value),X===0&&R(he)&&(g.push({from:he,to:F.value,len:F.value-he-(F.size||0)}),A+=F.value-he-(F.size||0))}),V.breakArray=g,R(K)&&R(le)&&R(j.min)&&(V.unitLength=le-K-A+b,s(j,"afterBreaks"),j.staticScale?j.transA=j.staticScale:V.unitLength&&(j.transA*=(le-j.min+b)/V.unitLength),b&&(j.minPixelPadding=j.transA*(j.minPointOffset||0)),j.min=K,j.max=le)}}),J($,!0)&&j.chart.redraw()}}z.Additions=E}(k||(k={})),k}),n(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(r,o){o.compose(r.Axis,r.Series)}),n(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),n(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(r,o){function d(z){const q=z.length;return z=h(z),k(z)&&q&&(z=R(z/q)),z}function h(z){let q=z.length,L;if(!q&&z.hasNulls)L=null;else if(q)for(L=0;q--;)L+=z[q];return L}const{arrayMax:s,arrayMin:v,correctFloat:R,extend:J,isNumber:k}=o;return o={average:d,averages:function(){const z=[];return[].forEach.call(arguments,function(q){z.push(d(q))}),typeof z[0]>"u"?void 0:z},close:function(z){return z.length?z[z.length-1]:z.hasNulls?null:void 0},high:function(z){return z.length?s(z):z.hasNulls?null:void 0},hlc:function(z,q,L){if(z=r.high(z),q=r.low(q),L=r.close(L),k(z)||k(q)||k(L))return[z,q,L]},low:function(z){return z.length?v(z):z.hasNulls?null:void 0},ohlc:function(z,q,L,O){if(z=r.open(z),q=r.high(q),L=r.low(L),O=r.close(O),k(z)||k(q)||k(L)||k(O))return[z,q,L,O]},open:function(z){return z.length?z[0]:z.hasNulls?null:void 0},range:function(z,q){if(z=r.low(z),q=r.high(q),k(z)||k(q))return[z,q];if(z===null&&q===null)return null},sum:h},J(r,o),o}),n(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),n(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(r,o){function d(O){const G=this,M=G.series;M.forEach(function(S){S.groupPixelWidth=void 0}),M.forEach(function(S){S.groupPixelWidth=G.getGroupPixelWidth&&G.getGroupPixelWidth(),S.groupPixelWidth&&(S.hasProcessed=!0),S.applyGrouping(!!O.hasExtremesChanged)})}function h(){const O=this.series;let G=O.length,M=0,S=!1,P,H;for(;G--;)(H=O[G].options.dataGrouping)&&(M=Math.max(M,z(H.groupPixelWidth,r.common.groupPixelWidth)),P=(O[G].processedXData||O[G].data).length,(O[G].groupPixelWidth||P>this.chart.plotSizeX/M||P&&H.forced)&&(S=!0));return S?M:0}function s(){this.series.forEach(function(O){O.hasProcessed=!1})}function v(O,G){let M;if(G=z(G,!0),O||(O={forced:!1,units:null}),this instanceof L)for(M=this.series.length;M--;)this.series[M].update({dataGrouping:O},!1);else this.chart.options.series.forEach(function(S){S.dataGrouping=typeof O=="boolean"?O:k(O,S.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),G&&this.chart.redraw()}const{addEvent:R,extend:J,merge:k,pick:z}=o,q=[];let L;return{compose:function(O){L=O,o.pushUnique(q,O)&&(R(O,"afterSetScale",s),R(O,"postProcessData",d),J(O.prototype,{applyGrouping:d,getGroupPixelWidth:h,setDataGrouping:v}))}}}),n(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){function R($){var V=this.chart,j=this.options.dataGrouping,w=this.allowDG!==!1&&j&&E(j.enabled,V.options.isStock),I=this.visible||!V.options.chart.ignoreHiddenSeries;const m=this.currentDataGrouping;var g=!1;if(w&&!this.requireSorting&&(this.requireSorting=g=!0),$=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!$)||!w,g&&(this.requireSorting=!1),!$){this.destroyGroupedData(),$=j.groupAll?this.xData:this.processedXData,w=j.groupAll?this.yData:this.processedYData;var b=V.plotSizeX;g=this.xAxis;var A=g.options.ordinal,X=this.groupPixelWidth,Y;let ce;if(X&&$&&$.length&&b){this.isDirty=ce=!0,this.points=null;var K=g.getExtremes(),le=K.min;K=K.max,A=A&&g.ordinal&&g.ordinal.getGroupIntervalFactor(le,K,this)||1,b=g.getTimeTicks(d.Additions.prototype.normalizeTimeTickInterval(X*(K-le)/b*A,j.units||o.units),Math.min(le,$[0]),Math.max(K,$[$.length-1]),g.options.startOfWeek,$,this.closestPointRange),X=O.groupData.apply(this,[$,w,b,j.approximation]),$=X.groupedXData,w=X.groupedYData,A=0,j&&j.smoothed&&$.length&&(j.firstAnchor="firstPoint",j.anchor="middle",j.lastAnchor="lastPoint",S(32,!1,V,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),V=$;var he=K,pe=this.options.dataGrouping;if(K=this.currentDataGrouping&&this.currentDataGrouping.gapSize,pe&&this.xData&&K&&this.groupMap){le=V.length-1;var F=pe.anchor;const ge=E(pe.firstAnchor,F);if(pe=E(pe.lastAnchor,F),F&&F!=="start"){var Q=K*{middle:.5,end:1}[F];for(F=V.length-1;F--&&0<F;)V[F]+=Q}ge&&ge!=="start"&&this.xData[0]>=V[0]&&(F=this.groupMap[0].start,Q=this.groupMap[0].length,H(F)&&H(Q)&&(Y=F+(Q-1)),V[0]={middle:V[0]+.5*K,end:V[0]+K,firstPoint:this.xData[0],lastPoint:Y&&this.xData[Y]}[ge]),pe&&pe!=="start"&&K&&V[le]>=he-K&&(Y=this.groupMap[this.groupMap.length-1].start,V[le]={middle:V[le]+.5*K,end:V[le]+K,firstPoint:Y&&this.xData[Y],lastPoint:this.xData[this.xData.length-1]}[pe])}for(Y=1;Y<b.length;Y++)b.info.segmentStarts&&b.info.segmentStarts.indexOf(Y)!==-1||(A=Math.max(b[Y]-b[Y-1],A));K=b.info,K.gapSize=A,this.closestPointRange=b.info.totalRange,this.groupMap=X.groupMap,I&&(I=g,Y=$,M(Y[0])&&H(I.min)&&H(I.dataMin)&&Y[0]<I.min&&((!M(I.options.min)&&I.min<=I.dataMin||I.min===I.dataMin)&&(I.min=Math.min(Y[0],I.min)),I.dataMin=Math.min(Y[0],I.dataMin)),M(Y[Y.length-1])&&H(I.max)&&H(I.dataMax)&&Y[Y.length-1]>I.max&&((!M(I.options.max)&&H(I.dataMax)&&I.max>=I.dataMax||I.max===I.dataMax)&&(I.max=Math.max(Y[Y.length-1],I.max)),I.dataMax=Math.max(Y[Y.length-1],I.dataMax))),j.groupAll&&(this.allGroupedData=w,j=this.cropData($,w,g.min,g.max,1),$=j.xData,w=j.yData,this.cropStart=j.start),this.processedXData=$,this.processedYData=w}else this.groupMap=null;this.hasGroupedData=ce,this.currentDataGrouping=K,this.preventGraphAnimation=(m&&m.totalRange)!==(K&&K.totalRange)}}function J(){this.groupedData&&(this.groupedData.forEach(function($,V){$&&(this.groupedData[V]=$.destroy?$.destroy():null)},this),this.groupedData.length=0)}function k(){ie.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function z(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function q($,V,j,w){const I=this,m=I.data,g=I.options&&I.options.data,b=[],A=[],X=[],Y=$.length,K=!!V,le=[],he=I.pointArrayMap,pe=he&&he.length,F=["x"].concat(he||["y"]),Q=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let ce=0,ge=0;if(w=typeof w=="function"?w:w&&r[w]?r[w]:r[I.getDGApproximation&&I.getDGApproximation()||"average"],pe)for(var ke=he.length;ke--;)le.push([]);else le.push([]);ke=pe||1;for(let _e=0;_e<=Y;_e++)if(!($[_e]<j[0])){for(;typeof j[ce+1]<"u"&&$[_e]>=j[ce+1]||_e===Y;){var re=j[ce];I.dataGroupInfo={start:Q?ge:I.cropStart+ge,length:le[0].length};var ve=w.apply(I,le);for(I.pointClass&&!M(I.dataGroupInfo.options)&&(I.dataGroupInfo.options=U(I.pointClass.prototype.optionsToObject.call({series:I},I.options.data[I.cropStart+ge])),F.forEach(function(oe){delete I.dataGroupInfo.options[oe]})),typeof ve<"u"&&(b.push(re),A.push(ve),X.push(I.dataGroupInfo)),ge=_e,re=0;re<ke;re++)le[re].length=0,le[re].hasNulls=!1;if(ce+=1,_e===Y)break}if(_e===Y)break;if(he){re=I.options.dataGrouping&&I.options.dataGrouping.groupAll?_e:I.cropStart+_e,re=m&&m[re]||I.pointClass.prototype.applyOptions.apply({series:I},[g[re]]);for(let oe=0;oe<pe;oe++)ve=re[he[oe]],H(ve)?le[oe].push(ve):ve===null&&(le[oe].hasNulls=!0)}else re=K?V[_e]:null,H(re)?le[0].push(re):re===null&&(le[0].hasNulls=!0)}return{groupedXData:b,groupedYData:A,groupMap:X}}function L($){$=$.options;const V=this.type,j=this.chart.options.plotOptions,w=this.useCommonDataGrouping&&o.common,I=o.seriesSpecific;let m=h.defaultOptions.plotOptions[V].dataGrouping;if(j&&(I[V]||w)){const g=this.chart.rangeSelector;m||(m=U(o.common,I[V])),$.dataGrouping=U(w,m,j.series&&j.series.dataGrouping,j[V].dataGrouping,this.userOptions.dataGrouping,!$.isInternal&&g&&H(g.selected)&&g.buttonOptions[g.selected].dataGrouping)}}const{series:{prototype:O}}=s,{addEvent:G,defined:M,error:S,extend:P,isNumber:H,merge:U,pick:E}=v,ie=O.generatePoints,te=[];return{compose:function($){const V=$.prototype.pointClass;v.pushUnique(te,V)&&G(V,"update",function(){if(this.dataGroup)return S(24,!1,this.series.chart),!1}),v.pushUnique(te,$)&&(G($,"afterSetOptions",L),G($,"destroy",J),P($.prototype,{applyGrouping:R,destroyGroupedData:J,generatePoints:k,getDGApproximation:z,groupData:q}))},groupData:q}}),n(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){function v(L){const O=this.chart,G=O.time,M=L.labelConfig,S=M.series;var P=S.tooltipOptions,H=S.options.dataGrouping;const U=S.xAxis;var E=P.xDateFormat;let ie,te,$=P[L.isFooter?"footerFormat":"headerFormat"];U&&U.options.type==="datetime"&&H&&z(M.key)&&(te=S.currentDataGrouping,H=H.dateTimeLabelFormats||o.common.dateTimeLabelFormats,te?(P=H[te.unitName],te.count===1?E=P[0]:(E=P[1],ie=P[2])):!E&&H&&U.dateTime&&(E=U.dateTime.getXDateFormat(M.x,P.dateTimeLabelFormats)),E=G.dateFormat(E,M.key),ie&&(E+=G.dateFormat(ie,M.key+te.totalRange-1)),S.chart.styledMode&&($=this.styledModeFormat($)),L.text=R($,{point:k(M.point,{key:E}),series:S},O),L.preventDefault())}const{format:R}=h,{addEvent:J,extend:k,isNumber:z}=s,q=[];return h={compose:function(L,O,G){r.compose(L),d.compose(O),G&&s.pushUnique(q,G)&&J(G,"headerFormatter",v)},groupData:d.groupData},h}),n(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(r,o,d,h){r.dataGrouping={approximationDefaults:o,approximations:d},h.compose(r.Axis,r.Series,r.Tooltip)}),n(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{prototype:{tooltipFormatter:s}}=o,{addEvent:v,arrayMax:R,arrayMin:J,correctFloat:k,defined:z,isArray:q,isNumber:L,isString:O,pick:G}=h;var M;return function(S){function P(m,g,b){this.isXAxis||(this.series.forEach(function(A){m==="compare"&&typeof g!="boolean"?A.setCompare(g,!1):m!=="cumulative"||O(g)||A.setCumulative(g,!1)}),G(b,!0)&&this.chart.redraw())}function H(m){const g=this,{numberFormatter:b}=g.series.chart,A=function(X){m=m.replace("{point."+X+"}",(0<g[X]&&X==="change"?"+":"")+b(g[X],G(g.series.tooltipOptions.changeDecimals,2)))};return z(g.change)&&A("change"),z(g.cumulativeSum)&&A("cumulativeSum"),s.apply(this,[m])}function U(){const m=this.options.compare;let g;(m==="percent"||m==="value"||this.options.cumulative)&&(g=new I(this),m==="percent"||m==="value"?g.initCompare(m):g.initCumulative()),this.dataModify=g}function E(m){m=m.dataExtremes;const g=m.activeYData;if(this.dataModify&&m){let b;this.options.compare?b=[this.dataModify.modifyValue(m.dataMin),this.dataModify.modifyValue(m.dataMax)]:this.options.cumulative&&q(g)&&2<=g.length&&(b=I.getCumulativeExtremes(g)),b&&(m.dataMin=J(b),m.dataMax=R(b))}}function ie(m,g){this.options.compare=this.userOptions.compare=m,this.update({},G(g,!0)),!this.dataModify||m!=="value"&&m!=="percent"?this.points.forEach(b=>{delete b.change}):this.dataModify.initCompare(m)}function te(){if(this.xAxis&&this.processedYData&&this.dataModify){const m=this.processedXData,g=this.processedYData,b=g.length,A=this.options.compareStart===!0?0:1;let X=-1,Y;for(this.pointArrayMap&&(X=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),Y=0;Y<b-A;Y++){const K=g[Y]&&-1<X?g[Y][X]:g[Y];if(L(K)&&K!==0&&m[Y+A]>=(this.xAxis.min||0)){this.dataModify.compareValue=K;break}}}}function $(m,g){this.setModifier("compare",m,g)}function V(m,g){m=G(m,!1),this.options.cumulative=this.userOptions.cumulative=m,this.update({},G(g,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(b=>{delete b.cumulativeSum})}function j(m,g){this.setModifier("cumulative",m,g)}const w=[];S.compose=function(m,g,b){if(h.pushUnique(w,m)){const A=m.prototype;A.setCompare=ie,A.setCumulative=V,v(m,"afterInit",U),v(m,"afterGetExtremes",E),v(m,"afterProcessData",te)}return h.pushUnique(w,g)&&(g=g.prototype,g.setCompare=$,g.setModifier=P,g.setCumulative=j),h.pushUnique(w,b)&&(b.prototype.tooltipFormatter=H),m};class I{constructor(g){this.series=g}modifyValue(){return 0}static getCumulativeExtremes(g){let b=1/0,A=-1/0;return g.reduce((X,Y)=>(Y=X+Y,b=Math.min(b,Y,X),A=Math.max(A,Y,X),Y)),[b,A]}initCompare(g){this.modifyValue=function(b,A){b===null&&(b=0);const X=this.compareValue;return typeof b<"u"&&typeof X<"u"?(b=g==="value"?b-X:b/X*100-(this.series.options.compareBase===100?0:100),typeof A<"u"&&(A=this.series.points[A])&&(A.change=b),b):0}}initCumulative(){this.modifyValue=function(g,b){if(g===null&&(g=0),g!==void 0&&b!==void 0){const A=0<b?this.series.points[b-1]:null;return A&&A.cumulativeSum&&(g=k(A.cumulativeSum+g)),(b=this.series.points[b])&&(b.cumulativeSum=g),g}return 0}}}S.Additions=I}(M||(M={})),M}),n(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){function d(){this.navigatorAxis||(this.navigatorAxis=new L(this))}function h(O){var G=this.chart.options,M=G.navigator;const S=this.navigatorAxis,P=G.chart.zooming.pinchType,H=G.rangeSelector;G=G.chart.zooming.type,this.isXAxis&&(M&&M.enabled||H&&H.enabled)&&(G==="y"?O.zoomed=!1:(!s&&G==="xy"||s&&P==="xy")&&this.options.range&&(M=S.previousZoom,J(O.newMin)?S.previousZoom=[this.min,this.max]:M&&(O.newMin=M[0],O.newMax=M[1],S.previousZoom=void 0))),typeof O.zoomed<"u"&&O.preventDefault()}const{isTouchDevice:s}=r,{addEvent:v,correctFloat:R,defined:J,isNumber:k,pick:z}=o,q=[];class L{static compose(G){o.pushUnique(q,G)&&(G.keepProps.push("navigatorAxis"),v(G,"init",d),v(G,"zoom",h))}constructor(G){this.axis=G}destroy(){this.axis=void 0}toFixedRange(G,M,S,P){var H=this.axis,U=H.chart;G=z(S,H.translate(G,!0,!H.horiz)),M=z(P,H.translate(M,!0,!H.horiz)),U=U&&U.fixedRange,H=(H.pointRange||0)/2;const E=U&&(M-G)/U;return J(S)||(G=R(G+H)),J(P)||(M=R(M-H)),.7<E&&1.3>E&&(P?G=M-U:M=G+U),k(G)&&k(M)||(G=M=void 0),{min:G,max:M}}}return L}),n(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(r,o){return{parse:r}=r,{seriesTypes:o}=o,o={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:r("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof o.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},o}),n(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(r,o,d,h,s={}){return r=s.width?s.width/2:d,o=Math.round(r/3)+.5,h=s.height||h,[["M",-r-1,.5],["L",r,.5],["L",r,h+.5],["L",-r-1,h+.5],["L",-r-1,.5],["M",-o,4],["L",-o,h-3],["M",o-1,4],["L",o-1,h-3]]}}}),n(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R){function J(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function k(){var w;const I=this.legend,m=this.navigator;let g,b,A;if(m){g=I&&I.options,b=m.xAxis,A=m.yAxis;const{scrollbarHeight:X,scrollButtonSize:Y}=m;this.inverted?(m.left=m.opposite?this.chartWidth-X-m.height:this.spacing[3]+X,m.top=this.plotTop+Y):(m.left=$(b.left,this.plotLeft+Y),m.top=m.navigatorOptions.top||this.chartHeight-m.height-X-(((w=this.scrollbar)===null||w===void 0?void 0:w.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(g&&g.verticalAlign==="bottom"&&g.layout!=="proximate"&&g.enabled&&!g.floating?I.legendHeight+$(g.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),b&&A&&(this.inverted?b.options.left=A.options.left=m.left:b.options.top=A.options.top=m.top,b.setAxisSize(),A.setAxisSize())}}function z(w){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new j(this),$(w.redraw,!0)&&this.redraw(w.animation))}function q(){const w=this.options;(w.navigator.enabled||w.scrollbar.enabled)&&(this.scroller=this.navigator=new j(this))}function L(){const w=this.options,I=w.navigator,m=w.rangeSelector;if((I&&I.enabled||m&&m.enabled)&&(!H&&w.chart.zooming.type==="x"||H&&w.chart.zooming.pinchType==="x"))return!1}function O(w){const I=w.navigator;I&&w.xAxis[0]&&(w=w.xAxis[0].getExtremes(),I.render(w.min,w.max))}function G(w){const I=w.options.navigator||{},m=w.options.scrollbar||{};this.navigator||this.scroller||!I.enabled&&!m.enabled||(te(!0,this.options.navigator,I),te(!0,this.options.scrollbar,m),delete w.options.navigator,delete w.options.scrollbar)}function M(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:S,setOptions:P}=r,{isTouchDevice:H}=o,{getRendererType:U}=v,{addEvent:E,extend:ie,merge:te,pick:$}=R,V=[];let j;return{compose:function(w,I,m,g){d.compose(w),j=m,R.pushUnique(V,I)&&(I.prototype.callbacks.push(O),E(I,"afterAddSeries",J),E(I,"afterSetChartSize",k),E(I,"afterUpdate",z),E(I,"beforeRender",q),E(I,"beforeShowResetZoom",L),E(I,"update",G)),R.pushUnique(V,g)&&E(g,"afterUpdate",M),R.pushUnique(V,U)&&ie(U().prototype.symbols,s),R.pushUnique(V,P)&&ie(S,{navigator:h})}}}),n(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(r){const{addEvent:o,defined:d,pick:h}=r,s=[];class v{static compose(J,k){if(!r.pushUnique(s,J))return J;const z=q=>{const L=h(q.options&&q.options.min,q.min),O=h(q.options&&q.options.max,q.max);return{axisMin:L,axisMax:O,scrollMin:d(q.dataMin)?Math.min(L,q.min,q.dataMin,h(q.threshold,1/0)):L,scrollMax:d(q.dataMax)?Math.max(O,q.max,q.dataMax,h(q.threshold,-1/0)):O}};return o(J,"afterInit",function(){const q=this;q.options&&q.options.scrollbar&&q.options.scrollbar.enabled&&(q.options.scrollbar.vertical=!q.horiz,q.options.startOnTick=q.options.endOnTick=!1,q.scrollbar=new k(q.chart.renderer,q.options.scrollbar,q.chart),o(q.scrollbar,"changed",function(L){let{axisMin:O,axisMax:G,scrollMin:M,scrollMax:S}=z(q);var P=S-M;let H;d(O)&&d(G)&&(q.horiz&&!q.reversed||!q.horiz&&q.reversed?(H=M+P*this.to,P=M+P*this.from):(H=M+P*(1-this.from),P=M+P*(1-this.to)),this.shouldUpdateExtremes(L.DOMType)?q.setExtremes(P,H,!0,L.DOMType==="mousemove"||L.DOMType==="touchmove"?!1:void 0,L):this.setRange(this.from,this.to))}))}),o(J,"afterRender",function(){let{scrollMin:q,scrollMax:L}=z(this),O=this.scrollbar;var G=this.axisTitleMargin+(this.titleOffset||0),M=this.chart.scrollbarsOffsets;let S=this.options.margin||0;O&&(this.horiz?(this.opposite||(M[1]+=G),O.position(this.left,this.top+this.height+2+M[1]-(this.opposite?S:0),this.width,this.height),this.opposite||(M[1]+=S),G=1):(this.opposite&&(M[0]+=G),O.position(O.options.opposite?this.left+this.width+2+M[0]-(this.opposite?0:S):this.opposite?0:S,this.top,this.width,this.height),this.opposite&&(M[0]+=S),G=0),M[G]+=O.size+(O.options.margin||0),isNaN(q)||isNaN(L)||!d(this.min)||!d(this.max)||this.min===this.max?O.setRange(0,1):(M=(this.min-q)/(L-q),G=(this.max-q)/(L-q),this.horiz&&!this.reversed||!this.horiz&&this.reversed?O.setRange(M,G):O.setRange(1-G,1-M)))}),o(J,"afterGetOffset",function(){const q=this.scrollbar;var L=q&&!q.options.opposite;L=this.horiz?2:L?3:1,q&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[L]+=q.size+(q.options.margin||0))}),J}}return v}),n(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(r){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),n(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{defaultOptions:v}=r,{addEvent:R,correctFloat:J,defined:k,destroyObjectProperties:z,fireEvent:q,merge:L,pick:O,removeEvent:G}=s;class M{static compose(P){d.compose(P,M)}static swapXY(P,H){return H&&P.forEach(U=>{const E=U.length;let ie;for(let te=0;te<E;te+=2)ie=U[te+1],typeof ie=="number"&&(U[te+1]=U[te+2],U[te+2]=ie)}),P}constructor(P,H,U){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(P,H,U)}addEvents(){var P=this.options.inverted?[1,0]:[0,1];const H=this.scrollbarButtons,U=this.scrollbarGroup.element,E=this.track.element,ie=this.mouseDownHandler.bind(this),te=this.mouseMoveHandler.bind(this),$=this.mouseUpHandler.bind(this);P=[[H[P[0]].element,"click",this.buttonToMinClick.bind(this)],[H[P[1]].element,"click",this.buttonToMaxClick.bind(this)],[E,"click",this.trackClick.bind(this)],[U,"mousedown",ie],[U.ownerDocument,"mousemove",te],[U.ownerDocument,"mouseup",$]],o.hasTouch&&P.push([U,"touchstart",ie],[U.ownerDocument,"touchmove",te],[U.ownerDocument,"touchend",$]),P.forEach(function(V){R.apply(null,V)}),this._events=P}buttonToMaxClick(P){const H=(this.to-this.from)*O(this.options.step,.2);this.updatePosition(this.from+H,this.to+H),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}buttonToMinClick(P){const H=J(this.to-this.from)*O(this.options.step,.2);this.updatePosition(J(this.from-H),J(this.to-H)),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}cursorToScrollbarPosition(P){var H=this.options;return H=H.minWidth>this.calculatedWidth?H.minWidth:0,{chartX:(P.chartX-this.x-this.xOffset)/(this.barWidth-H),chartY:(P.chartY-this.y-this.yOffset)/(this.barWidth-H)}}destroy(){const P=this,H=P.chart.scroller;P.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(U){P[U]&&P[U].destroy&&(P[U]=P[U].destroy())}),H&&P===H.scrollbar&&(H.scrollbar=null,z(H.scrollbarButtons))}drawScrollbarButton(P){const H=this.renderer,U=this.scrollbarButtons,E=this.options,ie=this.size;var te=H.g().add(this.group);U.push(te),E.buttonsEnabled&&(te=H.rect().addClass("highcharts-scrollbar-button").add(te),this.chart.styledMode||te.attr({stroke:E.buttonBorderColor,"stroke-width":E.buttonBorderWidth,fill:E.buttonBackgroundColor}),te.attr(te.crisp({x:-.5,y:-.5,width:ie+1,height:ie+1,r:E.buttonBorderRadius},te.strokeWidth())),P=H.path(M.swapXY([["M",ie/2+(P?-1:1),ie/2-3],["L",ie/2+(P?-1:1),ie/2+3],["L",ie/2+(P?2:-2),ie/2]],E.vertical)).addClass("highcharts-scrollbar-arrow").add(U[P]),this.chart.styledMode||P.attr({fill:E.buttonArrowColor}))}init(P,H,U){this.scrollbarButtons=[],this.renderer=P,this.userOptions=H,this.options=L(h,v.scrollbar,H),this.options.margin=O(this.options.margin,10),this.chart=U,this.size=O(this.options.size,this.options.height),H.enabled&&(this.render(),this.addEvents())}mouseDownHandler(P){P=this.chart.pointer.normalize(P),P=this.cursorToScrollbarPosition(P),this.chartX=P.chartX,this.chartY=P.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(P){var H=this.chart.pointer.normalize(P),U=this.options.vertical?"chartY":"chartX";const E=this.initPositions||[];!this.grabbedCenter||P.touches&&P.touches[0][U]===0||(H=this.cursorToScrollbarPosition(H)[U],U=this[U],U=H-U,this.hasDragged=!0,this.updatePosition(E[0]+U,E[1]+U),this.hasDragged&&q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}))}mouseUpHandler(P){this.hasDragged&&q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(P,H,U,E){const{buttonsEnabled:ie,margin:te=0,vertical:$}=this.options,V=this.rendered?"animate":"attr";let j=E,w=0;this.group.show(),this.x=P,this.y=H+this.trackBorderWidth,this.width=U,this.height=E,this.xOffset=j,this.yOffset=w,$?(this.width=this.yOffset=U=this.size,this.xOffset=j=0,this.yOffset=w=ie?this.size:0,this.barWidth=E-(ie?2*U:0),this.x=P+=te):(this.height=E=this.size,this.xOffset=j=ie?this.size:0,this.barWidth=U-(ie?2*E:0),this.y+=te),this.group[V]({translateX:P,translateY:this.y}),this.track[V]({width:U,height:E}),this.scrollbarButtons[1][V]({translateX:$?0:U-j,translateY:$?E-w:0})}removeEvents(){this._events.forEach(function(P){G.apply(null,P)}),this._events.length=0}render(){const P=this.renderer,H=this.options,U=this.size,E=this.chart.styledMode,ie=P.g("scrollbar").attr({zIndex:H.zIndex}).hide().add();this.group=ie,this.track=P.rect().addClass("highcharts-scrollbar-track").attr({r:H.trackBorderRadius||0,height:U,width:U}).add(ie),E||this.track.attr({fill:H.trackBackgroundColor,stroke:H.trackBorderColor,"stroke-width":H.trackBorderWidth});const te=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-te%2/2,y:-te%2/2}),this.scrollbarGroup=P.g().add(ie),this.scrollbar=P.rect().addClass("highcharts-scrollbar-thumb").attr({height:U-te,width:U-te,r:H.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=P.path(M.swapXY([["M",-3,U/4],["L",-3,2*U/3],["M",0,U/4],["L",0,2*U/3],["M",3,U/4],["L",3,2*U/3]],H.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),E||(this.scrollbar.attr({fill:H.barBackgroundColor,stroke:H.barBorderColor,"stroke-width":H.barBorderWidth}),this.scrollbarRifles.attr({stroke:H.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(P,H){const U=this.options,E=U.vertical;var ie=U.minWidth,te=this.barWidth;const $=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(k(te)){var V=te*Math.min(H,1);P=Math.max(P,0);var j=Math.ceil(te*P);this.calculatedWidth=V=J(V-j),V<ie&&(j=(te-ie+V)*P,V=ie),ie=Math.floor(j+this.xOffset+this.yOffset),te=V/2-.5,this.from=P,this.to=H,E?(this.scrollbarGroup[$]({translateY:ie}),this.scrollbar[$]({height:V}),this.scrollbarRifles[$]({translateY:te}),this.scrollbarTop=ie,this.scrollbarLeft=0):(this.scrollbarGroup[$]({translateX:ie}),this.scrollbar[$]({width:V}),this.scrollbarRifles[$]({translateX:te}),this.scrollbarLeft=ie,this.scrollbarTop=0),12>=V?this.scrollbarRifles.hide():this.scrollbarRifles.show(),U.showFull===!1&&(0>=P&&1<=H?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(P){return O(this.options.liveRedraw,o.svg&&!o.isTouchDevice&&!this.chart.boosted)||P==="mouseup"||P==="touchend"||!k(P)}trackClick(P){const H=this.chart.pointer.normalize(P),U=this.to-this.from,E=this.y+this.scrollbarTop,ie=this.x+this.scrollbarLeft;this.options.vertical&&H.chartY>E||!this.options.vertical&&H.chartX>ie?this.updatePosition(this.from+U,this.to+U):this.updatePosition(this.from-U,this.to-U),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}update(P){this.destroy(),this.init(this.chart.renderer,L(!0,this.options,P),this.chart)}updatePosition(P,H){1<H&&(P=J(1-J(H-P)),H=1),0>P&&(H=J(H-P),P=0),this.from=P,this.to=H}}return M.defaultOptions=h,v.scrollbar=L(!0,M.defaultOptions,v.scrollbar),M}),n(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R){function J(I,...m){if(m=[].filter.call(m,ie),m.length)return Math[I].apply(0,m)}const{defaultOptions:k}=o,{hasTouch:z,isTouchDevice:q}=d,{addEvent:L,clamp:O,correctFloat:G,defined:M,destroyObjectProperties:S,erase:P,extend:H,find:U,isArray:E,isNumber:ie,merge:te,pick:$,removeEvent:V,splat:j}=R;class w{static compose(m,g,b){s.compose(m,g,w,b)}constructor(m){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(m)}drawHandle(m,g,b,A){const X=this.navigatorOptions.handles.height;this.handles[g][A](b?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(m,10)+.5-X)}:{translateX:Math.round(this.left+parseInt(m,10)),translateY:Math.round(this.top+this.height/2-X/2-1)})}drawOutline(m,g,b,A){const X=this.navigatorOptions.maskInside;var Y=this.outline.strokeWidth();const K=Y/2;var le=Y%2/2;const he=this.scrollButtonSize,pe=this.size,F=this.top;Y=this.height;const Q=F-K,ce=F+Y;let ge=this.left;b?(b=F+g+le,g=F+m+le,le=[["M",ge+Y,F-he-le],["L",ge+Y,b],["L",ge,b],["M",ge,g],["L",ge+Y,g],["L",ge+Y,F+pe+he]],X&&le.push(["M",ge+Y,b-K],["L",ge+Y,g+K])):(ge-=he,m+=ge+he-le,g+=ge+he-le,le=[["M",ge,Q],["L",m,Q],["L",m,ce],["M",g,ce],["L",g,Q],["L",ge+pe+2*he,F+K]],X&&le.push(["M",m-K,Q],["L",g+K,Q])),this.outline[A]({d:le})}drawMasks(m,g,b,A){const X=this.left,Y=this.top,K=this.height;let le,he,pe,F;b?(pe=[X,X,X],F=[Y,Y+m,Y+g],he=[K,K,K],le=[m,g-m,this.size-g]):(pe=[X,X+m,X+g],F=[Y,Y,Y],he=[m,g-m,this.size-g],le=[K,K,K]),this.shades.forEach((Q,ce)=>{Q[A]({x:pe[ce],y:F[ce],width:he[ce],height:le[ce]})})}renderElements(){const m=this,g=m.navigatorOptions,b=g.maskInside,A=m.chart,X=A.renderer,Y={cursor:A.inverted?"ns-resize":"ew-resize"},K=m.navigatorGroup=X.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!b,b,!b].forEach((le,he)=>{const pe=X.rect().addClass("highcharts-navigator-mask"+(he===1?"-inside":"-outside")).add(K);A.styledMode||(pe.attr({fill:le?g.maskFill:"rgba(0,0,0,0)"}),he===1&&pe.css(Y)),m.shades[he]=pe}),m.outline=X.path().addClass("highcharts-navigator-outline").add(K),A.styledMode||m.outline.attr({"stroke-width":g.outlineWidth,stroke:g.outlineColor}),g.handles&&g.handles.enabled){const le=g.handles,{height:he,width:pe}=le;[0,1].forEach(F=>{m.handles[F]=X.symbol(le.symbols[F],-pe/2-1,0,pe,he,le),A.inverted&&m.handles[F].attr({rotation:90,rotationOriginX:Math.floor(-pe/2),rotationOriginY:(he+pe)/2}),m.handles[F].attr({zIndex:7-F}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][F]).add(K),A.styledMode||m.handles[F].attr({fill:le.backgroundColor,stroke:le.borderColor,"stroke-width":le.lineWidth}).css(Y)})}}update(m){(this.series||[]).forEach(g=>{g.baseSeries&&delete g.baseSeries.navigatorSeries}),this.destroy(),te(!0,this.chart.options.navigator,m),this.init(this.chart)}render(m,g,b,A){var X=this.chart;const Y=this.xAxis,K=Y.pointRange||0;var le=Y.navigatorAxis.fake?X.xAxis[0]:Y;const he=this.navigatorEnabled;var pe=this.rendered,F=X.inverted;const Q=X.xAxis[0].minRange,ce=X.xAxis[0].options.maxRange,ge=this.scrollButtonSize;let ke=this.scrollbarHeight,re;if(!this.hasDragged||M(b)){if(m=G(m-K/2),g=G(g+K/2),!ie(m)||!ie(g))if(pe)b=0,A=$(Y.width,le.width);else return;this.left=$(Y.left,X.plotLeft+ge+(F?X.plotWidth:0));var ve=this.size=re=$(Y.len,(F?X.plotHeight:X.plotWidth)-2*ge);X=F?ke:re+2*ge,b=$(b,Y.toPixels(m,!0)),A=$(A,Y.toPixels(g,!0)),ie(b)&&Math.abs(b)!==1/0||(b=0,A=X),m=Y.toValue(b,!0),g=Y.toValue(A,!0);var _e=Math.abs(G(g-m));_e<Q?this.grabbedLeft?b=Y.toPixels(g-Q-K,!0):this.grabbedRight&&(A=Y.toPixels(m+Q+K,!0)):M(ce)&&G(_e-K)>ce&&(this.grabbedLeft?b=Y.toPixels(g-ce-K,!0):this.grabbedRight&&(A=Y.toPixels(m+ce+K,!0))),this.zoomedMax=O(Math.max(b,A),0,ve),this.zoomedMin=O(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(b,A),0,ve),this.range=this.zoomedMax-this.zoomedMin,ve=Math.round(this.zoomedMax),b=Math.round(this.zoomedMin),he&&(this.navigatorGroup.attr({visibility:"inherit"}),pe=pe&&!this.hasDragged?"animate":"attr",this.drawMasks(b,ve,F,pe),this.drawOutline(b,ve,F,pe),this.navigatorOptions.handles.enabled&&(this.drawHandle(b,0,F,pe),this.drawHandle(ve,1,F,pe))),this.scrollbar&&(F?(F=this.top-ge,le=this.left-ke+(he||!le.opposite?0:(le.titleOffset||0)+le.axisTitleMargin),ke=re+2*ge):(F=this.top+(he?this.height:-ke),le=this.left-ge),this.scrollbar.position(le,F,X,ke),this.scrollbar.setRange(this.zoomedMin/(re||1),this.zoomedMax/(re||1))),this.rendered=!0}}addMouseEvents(){const m=this,g=m.chart,b=g.container;let A=[],X,Y;m.mouseMoveHandler=X=function(K){m.onMouseMove(K)},m.mouseUpHandler=Y=function(K){m.onMouseUp(K)},A=m.getPartsEvents("mousedown"),A.push(L(g.renderTo,"mousemove",X),L(b.ownerDocument,"mouseup",Y)),z&&(A.push(L(g.renderTo,"touchmove",X),L(b.ownerDocument,"touchend",Y)),A.concat(m.getPartsEvents("touchstart"))),m.eventsToUnbind=A,m.series&&m.series[0]&&A.push(L(m.series[0].xAxis,"foundExtremes",function(){g.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(m){const g=this,b=[];return["shades","handles"].forEach(function(A){g[A].forEach(function(X,Y){b.push(L(X.element,m,function(K){g[A+"Mousedown"](K,Y)}))})}),b}shadesMousedown(m,g){m=this.chart.pointer.normalize(m);const b=this.chart,A=this.xAxis,X=this.zoomedMin,Y=this.size,K=this.range;let le=this.left,he=m.chartX,pe,F;b.inverted&&(he=m.chartY,le=this.top),g===1?(this.grabbedCenter=he,this.fixedWidth=K,this.dragOffset=he-X):(m=he-le-K/2,g===0?m=Math.max(0,m):g===2&&m+K>=Y&&(m=Y-K,this.reversedExtremes?(m-=K,F=this.getUnionExtremes().dataMin):pe=this.getUnionExtremes().dataMax),m!==X&&(this.fixedWidth=K,g=A.navigatorAxis.toFixedRange(m,m+K,F,pe),M(g.min)&&b.xAxis[0].setExtremes(Math.min(g.min,g.max),Math.max(g.min,g.max),!0,null,{trigger:"navigator"})))}handlesMousedown(m,g){this.chart.pointer.normalize(m),m=this.chart;const b=m.xAxis[0],A=this.reversedExtremes;g===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=A?b.min:b.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=A?b.max:b.min),m.fixedRange=null}onMouseMove(m){const g=this;var b=g.chart;const A=g.navigatorSize,X=g.range,Y=g.dragOffset,K=b.inverted;let le=g.left;m.touches&&m.touches[0].pageX===0||(m=b.pointer.normalize(m),b=m.chartX,K&&(le=g.top,b=m.chartY),g.grabbedLeft?(g.hasDragged=!0,g.render(0,0,b-le,g.otherHandlePos)):g.grabbedRight?(g.hasDragged=!0,g.render(0,0,g.otherHandlePos,b-le)):g.grabbedCenter&&(g.hasDragged=!0,b<Y?b=Y:b>A+Y-X&&(b=A+Y-X),g.render(0,0,b-Y,b-Y+X)),g.hasDragged&&g.scrollbar&&$(g.scrollbar.options.liveRedraw,!q&&!this.chart.boosted)&&(m.DOMType=m.type,setTimeout(function(){g.onMouseUp(m)},0)))}onMouseUp(m){var g=this.chart,b=this.xAxis,A=this.scrollbar;const X=m.DOMEvent||m,Y=g.inverted,K=this.rendered&&!this.hasDragged?"animate":"attr";let le,he;(!this.hasDragged||A&&A.hasDragged)&&m.trigger!=="scrollbar"||(A=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?le=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(he=this.fixedExtreme),this.zoomedMax===this.size&&(he=this.reversedExtremes?A.dataMin:A.dataMax),this.zoomedMin===0&&(le=this.reversedExtremes?A.dataMax:A.dataMin),b=b.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,le,he),M(b.min)&&g.xAxis[0].setExtremes(Math.min(b.min,b.max),Math.max(b.min,b.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:X})),m.DOMType!=="mousemove"&&m.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ie(this.zoomedMin)&&ie(this.zoomedMax)&&(g=Math.round(this.zoomedMin),m=Math.round(this.zoomedMax),this.shades&&this.drawMasks(g,m,Y,K),this.outline&&this.drawOutline(g,m,Y,K),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(g,0,Y,K),this.drawHandle(m,1,Y,K)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(m){m()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const m=this.baseSeries||[];this.navigatorEnabled&&m[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&m.forEach(function(g){V(g,"updatedData",this.updatedDataHandler)},this),m[0].xAxis&&V(m[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(m){var g=m.options,b=g.navigator||{},A=b.enabled,X=g.scrollbar||{},Y=X.enabled;g=A&&b.height||0;var K=Y&&X.height||0;const le=X.buttonsEnabled&&K||0;this.handles=[],this.shades=[],this.chart=m,this.setBaseSeries(),this.height=g,this.scrollbarHeight=K,this.scrollButtonSize=le,this.scrollbarEnabled=Y,this.navigatorEnabled=A,this.navigatorOptions=b,this.scrollbarOptions=X,this.opposite=$(b.opposite,!(A||!m.inverted));const he=this;A=he.baseSeries,X=m.xAxis.length,Y=m.yAxis.length,K=A&&A[0]&&A[0].xAxis||m.xAxis[0]||{options:{}},m.isDirtyBox=!0,he.navigatorEnabled?(he.xAxis=new r(m,te({breaks:K.options.breaks,ordinal:K.options.ordinal},b.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:X,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},m.inverted?{offsets:[le,0,-le,0],width:g}:{offsets:[0,-le,0,le],height:g})),he.yAxis=new r(m,te(b.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:Y,isInternal:!0,reversed:$(b.yAxis&&b.yAxis.reversed,m.yAxis[0]&&m.yAxis[0].reversed,!1),zoomEnabled:!1},m.inverted?{width:g}:{height:g})),A||b.series.data?he.updateNavigatorSeries(!1):m.series.length===0&&(he.unbindRedraw=L(m,"beforeRedraw",function(){0<m.series.length&&!he.series&&(he.setBaseSeries(),he.unbindRedraw())})),he.reversedExtremes=m.inverted&&!he.xAxis.reversed||!m.inverted&&he.xAxis.reversed,he.renderElements(),he.addMouseEvents()):(he.xAxis={chart:m,navigatorAxis:{fake:!0},translate:function(pe,F){var Q=m.xAxis[0];const ce=Q.getExtremes(),ge=Q.len-2*le,ke=J("min",Q.options.min,ce.dataMin);return Q=J("max",Q.options.max,ce.dataMax)-ke,F?pe*Q/ge+ke:ge*(pe-ke)/Q},toPixels:function(pe){return this.translate(pe)},toValue:function(pe){return this.translate(pe,!0)}},he.xAxis.navigatorAxis.axis=he.xAxis,he.xAxis.navigatorAxis.toFixedRange=h.prototype.toFixedRange.bind(he.xAxis.navigatorAxis)),m.options.scrollbar.enabled&&(b=te(m.options.scrollbar,{vertical:m.inverted}),!ie(b.margin)&&he.navigatorEnabled&&(b.margin=m.inverted?-3:3),m.scrollbar=he.scrollbar=new v(m.renderer,b,m),L(he.scrollbar,"changed",function(pe){var F=he.size;const Q=F*this.to;F*=this.from,he.hasDragged=he.scrollbar.hasDragged,he.render(0,0,F,Q),this.shouldUpdateExtremes(pe.DOMType)&&setTimeout(function(){he.onMouseUp(pe)})})),he.addBaseSeriesEvents(),he.addChartEvents()}getUnionExtremes(m){const g=this.chart.xAxis[0],b=this.xAxis,A=b.options,X=g.options;let Y;return m&&g.dataMin===null||(Y={dataMin:$(A&&A.min,J("min",X.min,g.dataMin,b.dataMin,b.min)),dataMax:$(A&&A.max,J("max",X.max,g.dataMax,b.dataMax,b.max))}),Y}setBaseSeries(m,g){const b=this.chart,A=this.baseSeries=[];m=m||b.options&&b.options.navigator.baseSeries||(b.series.length?U(b.series,X=>!X.options.isInternal).index:0),(b.series||[]).forEach((X,Y)=>{X.options.isInternal||!X.options.showInNavigator&&(Y!==m&&X.options.id!==m||X.options.showInNavigator===!1)||A.push(X)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,g)}updateNavigatorSeries(m,g){const b=this,A=b.chart,X=b.baseSeries,Y={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},K=b.series=(b.series||[]).filter(Q=>{const ce=Q.baseSeries;return 0>X.indexOf(ce)?(ce&&(V(ce,"updatedData",b.updatedDataHandler),delete ce.navigatorSeries),Q.chart&&Q.destroy(),!1):!0});let le,he,pe=b.navigatorOptions.series,F;X&&X.length&&X.forEach(Q=>{const ce=Q.navigatorSeries;var ge=H({color:Q.color,visible:Q.visible},E(pe)?k.navigator.series:pe);ce&&b.navigatorOptions.adaptToUpdatedData===!1||(Y.name="Navigator "+X.length,le=Q.options||{},F=le.navigatorOptions||{},ge.dataLabels=j(ge.dataLabels),he=te(le,Y,ge,F),he.pointRange=$(ge.pointRange,F.pointRange,k.plotOptions[he.type||"line"].pointRange),ge=F.data||ge.data,b.hasNavigatorData=b.hasNavigatorData||!!ge,he.data=ge||le.data&&le.data.slice(0),ce&&ce.options?ce.update(he,g):(Q.navigatorSeries=A.initSeries(he),Q.navigatorSeries.baseSeries=Q,K.push(Q.navigatorSeries)))}),(pe.data&&(!X||!X.length)||E(pe))&&(b.hasNavigatorData=!1,pe=j(pe),pe.forEach((Q,ce)=>{Y.name="Navigator "+(K.length+1),he=te(k.navigator.series,{color:A.series[ce]&&!A.series[ce].options.isInternal&&A.series[ce].color||A.options.colors[ce]||A.options.colors[0]},Y,Q),he.data=Q.data,he.data&&(b.hasNavigatorData=!0,K.push(A.initSeries(he)))})),m&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const m=this,g=m.baseSeries||[];g[0]&&g[0].xAxis&&g[0].eventsToUnbind.push(L(g[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),g.forEach(b=>{b.eventsToUnbind.push(L(b,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),b.eventsToUnbind.push(L(b,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&b.xAxis&&b.eventsToUnbind.push(L(b,"updatedData",this.updatedDataHandler)),b.eventsToUnbind.push(L(b,"remove",function(){this.navigatorSeries&&(P(m.series,this.navigatorSeries),M(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(m){return this.baseSeries.reduce(function(g,b){return Math.min(g,b.xData&&b.xData.length?b.xData[0]:g)},m)}modifyNavigatorAxisExtremes(){const m=this.xAxis;if(typeof m.getExtremes<"u"){const g=this.getUnionExtremes(!0);!g||g.dataMin===m.min&&g.dataMax===m.max||(m.min=g.dataMin,m.max=g.dataMax)}}modifyBaseAxisExtremes(){const m=this.chart.navigator;var g=this.getExtremes();const b=g.dataMin,A=g.dataMax;g=g.max-g.min;const X=m.stickToMin,Y=m.stickToMax,K=$(this.options.overscroll,0),le=m.series&&m.series[0],he=!!this.setExtremes;let pe,F;this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton"||(X&&(F=b,pe=F+g),Y&&(pe=A+K,X||(F=Math.max(b,pe-g,m.getBaseSeriesMin(le&&le.xData?le.xData[0]:-Number.MAX_VALUE)))),he&&(X||Y)&&ie(F)&&(this.min=this.userMin=F,this.max=this.userMax=pe)),m.stickToMin=m.stickToMax=null}updatedDataHandler(){const m=this.chart.navigator,g=this.navigatorSeries;m.stickToMax=$(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,m.reversedExtremes?Math.round(m.zoomedMin)===0:Math.round(m.zoomedMax)>=Math.round(m.size)),m.stickToMin=m.shouldStickToMin(this,m),g&&!m.hasNavigatorData&&(g.options.pointStart=this.xData[0],g.setData(this.options.data,!1,null,!1))}shouldStickToMin(m,g){g=g.getBaseSeriesMin(m.xData[0]);var b=m.xAxis;m=b.max;const A=b.min;return b=b.options.range,ie(m)&&ie(A)?b&&0<m-g?m-g<b:A<=g:!1}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(L(this.chart,"redraw",function(){const m=this.navigator,g=m&&(m.baseSeries&&m.baseSeries[0]&&m.baseSeries[0].xAxis||this.xAxis[0]);g&&m.render(g.min,g.max)}),L(this.chart,"getMargins",function(){let m=this.navigator,g=m.opposite?"plotTop":"marginBottom";this.inverted&&(g=m.opposite?"marginRight":"plotLeft"),this[g]=(this[g]||0)+(m.navigatorEnabled||!this.inverted?m.height+m.scrollbarHeight:0)+m.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(P(this.chart.xAxis,this.xAxis),P(this.chart.axes,this.xAxis)),this.yAxis&&(P(this.chart.yAxis,this.yAxis),P(this.chart.axes,this.yAxis)),(this.series||[]).forEach(m=>{m.destroy&&m.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(m=>{this[m]&&this[m].destroy&&this[m].destroy(),this[m]=null}),[this.handles].forEach(m=>{S(m)})}}return w}),n(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),n(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(r,o,d){function h(){const V=this.range,j=V.type,w=this.max,I=this.chart.time,m=function(X,Y){const K=j==="year"?"FullYear":"Month",le=new I.Date(X),he=I.get(K,le);return I.set(K,le,he+Y),he===I.get(K,le)&&I.set("Date",le,0),le.getTime()-X};let g,b;H(V)?(g=w-V,b=V):V&&(g=w+m(w,-(V.count||1)),this.chart&&(this.chart.fixedRange=w-g));const A=E(this.dataMin,Number.MIN_VALUE);return H(g)||(g=A),g<=A&&(g=A,typeof b>"u"&&(b=m(g,V.count)),this.newMax=Math.min(g+b,E(this.dataMax,Number.MAX_VALUE))),H(w)?!H(V)&&V&&V._offsetMin&&(g+=V._offsetMin):g=void 0,g}function s(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new $(this))}function v(){var V=this.axes;const j=this.rangeSelector;j&&(H(j.deferredYTDClick)&&(j.clickButton(j.deferredYTDClick),delete j.deferredYTDClick),V.forEach(w=>{w.updateNames(),w.setScale()}),this.getAxisMargins(),j.render(),V=j.options.verticalAlign,j.options.floating||(V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0)))}function R(V){let j,w,I,m;const g=V.rangeSelector,b=()=>{g&&(j=V.xAxis[0].getExtremes(),w=V.legend,m=g&&g.options.verticalAlign,H(j.min)&&g.render(j.min,j.max),w.display&&m==="top"&&m===w.options.verticalAlign&&(I=U(V.spacingBox),I.y=w.options.layout==="vertical"?V.plotTop:I.y+g.getHeight(),w.group.placed=!1,w.align(I)))};g&&(P(ie,A=>A[0]===V)||ie.push([V,[G(V.xAxis[0],"afterSetExtremes",function(A){g&&g.render(A.min,A.max)}),G(V,"redraw",b)]]),b())}function J(){for(let V=0,j=ie.length;V<j;++V){const w=ie[V];if(w[0]===this){w[1].forEach(I=>I()),ie.splice(V,1);break}}}function k(){var V=this.rangeSelector;V&&(V=V.getHeight(),this.extraTopMargin&&(this.plotTop+=V),this.extraBottomMargin&&(this.marginBottom+=V))}function z(){var V=this.rangeSelector;V&&!V.options.floating&&(V.render(),V=V.options.verticalAlign,V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0))}function q(V){var j=V.options.rangeSelector;V=this.extraBottomMargin;const w=this.extraTopMargin;let I=this.rangeSelector;j&&j.enabled&&!M(I)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=I=new $(this)),this.extraTopMargin=this.extraBottomMargin=!1,I&&(R(this),j=j&&j.verticalAlign||I.options&&I.options.verticalAlign,I.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==V||this.extraTopMargin!==w)&&(this.isDirtyBox=!0)}const{defaultOptions:L,setOptions:O}=r,{addEvent:G,defined:M,extend:S,find:P,isNumber:H,merge:U,pick:E}=d,ie=[],te=[];let $;return{compose:function(V,j,w){$=w,d.pushUnique(te,V)&&(V.prototype.minFromRange=h),d.pushUnique(te,j)&&(G(j,"afterGetContainer",s),G(j,"beforeRender",v),G(j,"destroy",J),G(j,"getMargins",k),G(j,"render",z),G(j,"update",q),j.prototype.callbacks.push(R)),d.pushUnique(te,O)&&(S(L,{rangeSelector:o.rangeSelector}),S(L.lang,o.lang))}}}),n(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){function R(j){if(j.indexOf("%L")!==-1)return"text";const w="aAdewbBmoyY".split("").some(m=>j.indexOf("%"+m)!==-1),I="HkIlMS".split("").some(m=>j.indexOf("%"+m)!==-1);return w&&I?"datetime-local":w?"date":I?"time":"text"}const{defaultOptions:J}=o,{addEvent:k,createElement:z,css:q,defined:L,destroyObjectProperties:O,discardElement:G,extend:M,fireEvent:S,isNumber:P,merge:H,objectEach:U,pad:E,pick:ie,pInt:te,splat:$}=v;class V{static compose(w,I){h.compose(w,I,V)}constructor(w){this.buttons=void 0,this.buttonOptions=V.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=w,this.init(w)}clickButton(w,I){const m=this.chart,g=this.buttonOptions[w],b=m.xAxis[0];var A=m.scroller&&m.scroller.getUnionExtremes()||b||{},X=g.type;const Y=g.dataGrouping;let K=A.dataMin,le=A.dataMax,he,pe=b&&Math.round(Math.min(b.max,ie(le,b.max))),F;A=g._range;let Q,ce,ge,ke=!0;if(K!==null&&le!==null){if(m.fixedRange=A,this.setSelected(w),Y&&(this.forcedDataGrouping=!0,r.prototype.setDataGrouping.call(b||{chart:this.chart},Y,!1),this.frozenStates=g.preserveDataGrouping),X==="month"||X==="year")b?(X={range:g,max:pe,chart:m,dataMin:K,dataMax:le},he=b.minFromRange.call(X),P(X.newMax)&&(pe=X.newMax),ke=!1):A=g;else if(A)he=Math.max(pe-A,K),pe=Math.min(he+A,le),ke=!1;else if(X==="ytd")if(b)(typeof le>"u"||typeof K>"u")&&(K=Number.MAX_VALUE,le=Number.MIN_VALUE,m.series.forEach(re=>{(re=re.xData)&&(K=Math.min(re[0],K),le=Math.max(re[re.length-1],le))}),I=!1),X=this.getYTDExtremes(le,K,m.time.useUTC),he=Q=X.min,pe=X.max;else{this.deferredYTDClick=w;return}else X==="all"&&b&&(m.navigator&&m.navigator.baseSeries[0]&&(m.navigator.baseSeries[0].xAxis.options.range=void 0),he=K,pe=le);ke&&g._offsetMin&&L(he)&&(he+=g._offsetMin),g._offsetMax&&L(pe)&&(pe+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=w+1),b?b.setExtremes(he,pe,ie(I,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(F=$(m.options.xAxis)[0],ge=F.range,F.range=A,ce=F.min,F.min=Q,k(m,"load",function(){F.range=ge,F.min=ce})),S(this,"afterBtnClick")}}setSelected(w){this.selected=this.options.selected=w}init(w){const I=this,m=w.options.rangeSelector,g=m.buttons||I.defaultButtons.slice(),b=m.selected,A=function(){const X=I.minInput,Y=I.maxInput;X&&X.blur&&S(X,"blur"),Y&&Y.blur&&S(Y,"blur")};I.chart=w,I.options=m,I.buttons=[],I.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(k(w.container,"mousedown",A)),this.eventsToUnbind.push(k(w,"resize",A)),g.forEach(I.computeButtonRange),typeof b<"u"&&g[b]&&this.clickButton(b,!1),this.eventsToUnbind.push(k(w,"load",function(){w.xAxis&&w.xAxis[0]&&k(w.xAxis[0],"setExtremes",function(X){this.max-this.min!==w.fixedRange&&X.trigger!=="rangeSelectorButton"&&X.trigger!=="updatedData"&&I.forcedDataGrouping&&!I.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const w=this;var I=this.chart;const m=this.dropdown,g=I.xAxis[0],b=Math.round(g.max-g.min),A=!g.hasVisibleSeries,X=I.scroller&&I.scroller.getUnionExtremes()||g,Y=X.dataMin,K=X.dataMax;I=w.getYTDExtremes(K,Y,I.time.useUTC);const le=I.min,he=I.max,pe=w.selected,F=w.options.allButtonsEnabled,Q=w.buttons;let ce=P(pe);w.buttonOptions.forEach((ge,ke)=>{var re=ge._range,ve=ge.type,_e=ge.count||1;const oe=Q[ke],ye=ge._offsetMax-ge._offsetMin,Se=ke===pe,Re=re>K-Y,Oe=re<g.minRange;ge=0;let Ue=!1,st=!1;re=re===b,(ve==="month"||ve==="year")&&b+36e5>=864e5*{month:28,year:365}[ve]*_e-ye&&b-36e5<=864e5*{month:31,year:366}[ve]*_e+ye?re=!0:ve==="ytd"?(re=he-le+ye===b,Ue=!Se):ve==="all"&&(re=g.max-g.min>=K-Y,st=!Se&&ce&&re),ve=!F&&(Re||Oe||st||A),_e=Se&&re||re&&!ce&&!Ue||Se&&w.frozenStates,ve?ge=3:_e&&(ce=!0,ge=2),oe.state!==ge&&(oe.setState(ge),m&&(m.options[ke+1].disabled=ve,ge===2&&(m.selectedIndex=ke+1)),ge===0&&pe===ke&&w.setSelected())})}computeButtonRange(w){const I=w.type,m=w.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[I]?w._range=g[I]*m:(I==="month"||I==="year")&&(w._range=864e5*{month:30,year:365}[I]*m),w._offsetMin=ie(w.offsetMin,0),w._offsetMax=ie(w.offsetMax,0),w._range+=w._offsetMax-w._offsetMin}getInputValue(w){w=w==="min"?this.minInput:this.maxInput;const I=this.chart.options.rangeSelector,m=this.chart.time;return w?(w.type==="text"&&I.inputDateParser||this.defaultInputDateParser)(w.value,m.useUTC,m):0}setInputValue(w,I){const m=this.options,g=this.chart.time,b=w==="min"?this.minInput:this.maxInput;if(w=w==="min"?this.minDateBox:this.maxDateBox,b){var A=b.getAttribute("data-hc-time");A=L(A)?Number(A):void 0,L(I)&&(L(A)&&b.setAttribute("data-hc-time-previous",A),b.setAttribute("data-hc-time",I),A=I),b.value=g.dateFormat(this.inputTypeFormats[b.type]||m.inputEditDateFormat,A),w&&w.attr({text:g.dateFormat(m.inputDateFormat,A)})}}setInputExtremes(w,I,m){if(w=w==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[w.type],b=this.chart.time;g&&(I=b.dateFormat(g,I),w.min!==I&&(w.min=I),m=b.dateFormat(g,m),w.max!==m&&(w.max=m))}}showInput(w){const I=w==="min"?this.minDateBox:this.maxDateBox;if((w=w==="min"?this.minInput:this.maxInput)&&I&&this.inputGroup){const m=w.type==="text",{translateX:g,translateY:b}=this.inputGroup,{inputBoxWidth:A}=this.options;q(w,{width:m?I.width+(A?-2:20)+"px":"auto",height:I.height-2+"px",border:"2px solid silver"}),m&&A?q(w,{left:g+I.x+"px",top:b+"px"}):q(w,{left:Math.min(Math.round(I.x+g-(w.offsetWidth-I.width)/2),this.chart.chartWidth-w.offsetWidth)+"px",top:b-(w.offsetHeight-I.height)/2+"px"})}}hideInput(w){(w=w==="min"?this.minInput:this.maxInput)&&q(w,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(w,I,m){var g=w.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),I)g+="Z";else{var b;(b=d.isSafari)&&(b=g,b=!(6<b.length&&(b.lastIndexOf("-")===b.length-6||b.lastIndexOf("+")===b.length-6))),b&&(b=new Date(g).getTimezoneOffset()/60,g+=0>=b?`+${E(-b)}:00`:`-${E(b)}:00`)}return g=Date.parse(g),P(g)||(w=w.split("-"),g=Date.UTC(te(w[0]),te(w[1])-1,te(w[2]))),m&&I&&P(g)&&(g+=m.getTimezoneOffset(g)),g}drawInput(w){function I(){const{maxInput:Q,minInput:ce}=A,ge=m.xAxis[0];var ke=m.scroller&&m.scroller.xAxis?m.scroller.xAxis:ge;const re=ke.dataMin;ke=ke.dataMax;let ve=A.getInputValue(w);ve!==Number(pe.getAttribute("data-hc-time-previous"))&&P(ve)&&(pe.setAttribute("data-hc-time-previous",ve),le&&Q&&P(re)?ve>Number(Q.getAttribute("data-hc-time"))?ve=void 0:ve<re&&(ve=re):ce&&P(ke)&&(ve<Number(ce.getAttribute("data-hc-time"))?ve=void 0:ve>ke&&(ve=ke)),typeof ve<"u"&&ge.setExtremes(le?ve:ge.min,le?ge.max:ve,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:m,div:g,inputGroup:b}=this,A=this,X=m.renderer.style||{};var Y=m.renderer;const K=m.options.rangeSelector,le=w==="min";var he=J.lang[le?"rangeSelectorFrom":"rangeSelectorTo"]||"";he=Y.label(he,0).addClass("highcharts-range-label").attr({padding:he?2:0,height:he?K.inputBoxHeight:0}).add(b),Y=Y.label("",0).addClass("highcharts-range-input").attr({padding:2,width:K.inputBoxWidth,height:K.inputBoxHeight,"text-align":"center"}).on("click",function(){A.showInput(w),A[w+"Input"].focus()}),m.styledMode||Y.attr({stroke:K.inputBoxBorderColor,"stroke-width":1}),Y.add(b);const pe=z("input",{name:w,className:"highcharts-range-selector"},void 0,g);pe.setAttribute("type",R(K.inputDateFormat||"%e %b %Y")),m.styledMode||(he.css(H(X,K.labelStyle)),Y.css(H({color:"#333333"},X,K.inputStyle)),q(pe,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:X.fontSize,fontFamily:X.fontFamily,top:"-9999em"},K.inputStyle))),pe.onfocus=()=>{A.showInput(w)},pe.onblur=()=>{pe===d.doc.activeElement&&I(),A.hideInput(w),A.setInputValue(w),pe.blur()};let F=!1;return pe.onchange=()=>{F||(I(),A.hideInput(w),pe.blur())},pe.onkeypress=Q=>{Q.keyCode===13&&I()},pe.onkeydown=Q=>{F=!0,Q.keyCode!==38&&Q.keyCode!==40||I()},pe.onkeyup=()=>{F=!1},{dateBox:Y,input:pe,label:he}}getPosition(){var w=this.chart;const I=w.options.rangeSelector;return w=I.verticalAlign==="top"?w.plotTop-w.axisOffset[0]:0,{buttonTop:w+I.buttonPosition.y,inputTop:w+I.inputPosition.y-10}}getYTDExtremes(w,I,m){const g=this.chart.time;var b=new g.Date(w);const A=g.get("FullYear",b);return m=m?g.Date.UTC(A,0,1):+new g.Date(A,0,1),I=Math.max(I,m),b=b.getTime(),{max:Math.min(w||b,b),min:I}}render(w,I){var m=this.chart,g=m.renderer;const b=m.container;var A=m.options;const X=A.rangeSelector,Y=ie(A.chart.style&&A.chart.style.zIndex,0)+1;if(A=X.inputEnabled,X.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=z("div",void 0,{position:"relative",height:0,zIndex:Y}),this.buttonOptions.length&&this.renderButtons(),b.parentNode&&b.parentNode.insertBefore(this.div,b),A&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),A&&(this.setInputValue("min",w),this.setInputValue("max",I),w=m.scroller&&m.scroller.getUnionExtremes()||m.xAxis[0]||{},L(w.dataMin)&&L(w.dataMax)&&(m=m.xAxis[0].minRange||0,this.setInputExtremes("min",w.dataMin,Math.min(w.dataMax,this.getInputValue("max"))-m),this.setInputExtremes("max",Math.max(w.dataMin,this.getInputValue("min"))+m,w.dataMax)),this.inputGroup)){let K=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(le=>{if(le){const{width:he}=le.getBBox();he&&(le.attr({x:K}),K+=he+X.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:w,chart:I,options:m}=this,g=J.lang,b=I.renderer,A=H(m.buttonTheme),X=A&&A.states,Y=A.width||28;delete A.width,delete A.states,this.buttonGroup=b.g("range-selector-buttons").add(this.group);const K=this.dropdown=z("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);k(K,"touchstart",()=>{K.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([le,he])=>{k(K,le,()=>{const pe=w[this.currentButtonIndex()];pe&&S(pe.element,he||le)})}),this.zoomText=b.label(g&&g.rangeSelectorZoom||"",0).attr({padding:m.buttonTheme.padding,height:m.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(m.labelStyle),A["stroke-width"]=ie(A["stroke-width"],0)),z("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,K),this.buttonOptions.forEach((le,he)=>{z("option",{textContent:le.title||le.text},void 0,K),w[he]=b.button(le.text,0,0,pe=>{const F=le.events&&le.events.click;let Q;F&&(Q=F.call(le,pe)),Q!==!1&&this.clickButton(he),this.isActive=!0},A,X&&X.hover,X&&X.select,X&&X.disabled).attr({"text-align":"center",width:Y}).add(this.buttonGroup),le.title&&w[he].attr("title",le.title)})}alignElements(){const{buttonGroup:w,buttons:I,chart:m,group:g,inputGroup:b,options:A,zoomText:X}=this;var Y=m.options;const K=Y.exporting&&Y.exporting.enabled!==!1&&Y.navigation&&Y.navigation.buttonOptions,{buttonPosition:le,inputPosition:he,verticalAlign:pe}=A;Y=(ge,ke)=>K&&this.titleCollision(m)&&pe==="top"&&ke.align==="right"&&ke.y-ge.getBBox().height-12<(K.y||0)+(K.height||0)+m.spacing[0]?-40:0;var F=m.plotLeft;if(g&&le&&he){var Q=le.x-m.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){let ve=0;X&&(ve+=X.getBBox().width+5),I.forEach((_e,oe)=>{ve+=_e.width,oe!==I.length-1&&(ve+=A.buttonSpacing)}),this.initialButtonGroupWidth=ve}F-=m.spacing[3],this.updateButtonStates();var ce=Y(w,le);this.alignButtonGroup(ce),g.placed=w.placed=m.hasLoaded}ce=0,b&&(ce=Y(b,he),he.align==="left"?Q=F:he.align==="right"&&(Q=-Math.max(m.axisOffset[1],-ce)),b.align({y:he.y,width:b.getBBox().width,align:he.align,x:he.x+Q-2},!0,m.spacingBox),b.placed=m.hasLoaded),this.handleCollision(ce),g.align({verticalAlign:pe},!0,m.spacingBox),Y=g.alignAttr.translateY,F=g.getBBox().height+20,Q=0,pe==="bottom"&&(Q=(Q=m.legend&&m.legend.options)&&Q.verticalAlign==="bottom"&&Q.enabled&&!Q.floating?m.legend.legendHeight+ie(Q.margin,10):0,F=F+Q-20,Q=Y-F-(A.floating?0:A.y)-(m.titleOffset?m.titleOffset[2]:0)-10),pe==="top"?(A.floating&&(Q=0),m.titleOffset&&m.titleOffset[0]&&(Q=m.titleOffset[0]),Q+=m.margin[0]-m.spacing[0]||0):pe==="middle"&&(he.y===le.y?Q=Y:(he.y||le.y)&&(Q=0>he.y||0>le.y?Q-Math.min(he.y,le.y):Y-F)),g.translate(A.x,A.y+Math.floor(Q));const{minInput:ge,maxInput:ke,dropdown:re}=this;A.inputEnabled&&ge&&ke&&(ge.style.marginTop=g.translateY+"px",ke.style.marginTop=g.translateY+"px"),re&&(re.style.marginTop=g.translateY+"px")}}alignButtonGroup(w,I){const{chart:m,options:g,buttonGroup:b}=this,{buttonPosition:A}=g,X=m.plotLeft-m.spacing[3];let Y=A.x-m.spacing[3];A.align==="right"?Y+=w-X:A.align==="center"&&(Y-=X/2),b&&b.align({y:A.y,width:ie(I,this.initialButtonGroupWidth),align:A.align,x:Y},!0,m.spacingBox)}positionButtons(){const{buttons:w,chart:I,options:m,zoomText:g}=this,b=I.hasLoaded?"animate":"attr",{buttonPosition:A}=m,X=I.plotLeft;let Y=X;g&&g.visibility!=="hidden"&&(g[b]({x:ie(X+A.x,X)}),Y+=A.x+g.getBBox().width+5);for(let K=0,le=this.buttonOptions.length;K<le;++K)w[K].visibility!=="hidden"?(w[K][b]({x:Y}),Y+=w[K].width+m.buttonSpacing):w[K][b]({x:X})}handleCollision(w){const{chart:I,buttonGroup:m,inputGroup:g}=this,{buttonPosition:b,dropdown:A,inputPosition:X}=this.options,Y=()=>{let he=0;return this.buttons.forEach(pe=>{pe=pe.getBBox(),pe.width>he&&(he=pe.width)}),he},K=he=>{if(g&&m){const pe=g.alignAttr.translateX+g.alignOptions.x-w+g.getBBox().x+2,F=g.alignOptions.width,Q=m.alignAttr.translateX+m.getBBox().x;return Q+he>pe&&pe+F>Q&&b.y<X.y+g.getBBox().height}return!1},le=()=>{g&&m&&g.attr({translateX:g.alignAttr.translateX+(I.axisOffset[1]>=-w?0:-w),translateY:g.alignAttr.translateY+m.getBBox().height+10})};if(m){if(A==="always"){this.collapseButtons(w),K(Y())&&le();return}A==="never"&&this.expandButtons()}g&&m?X.align===b.align||K(this.initialButtonGroupWidth+20)?A==="responsive"?(this.collapseButtons(w),K(Y())&&le()):le():A==="responsive"&&this.expandButtons():m&&A==="responsive"&&(this.initialButtonGroupWidth>I.plotWidth?this.collapseButtons(w):this.expandButtons())}collapseButtons(w){const{buttons:I,buttonOptions:m,chart:g,dropdown:b,options:A,zoomText:X}=this,Y=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},K=pe=>({text:pe?`${pe} ▾`:"▾",width:"auto",paddingLeft:ie(A.buttonTheme.paddingLeft,Y.padding,8),paddingRight:ie(A.buttonTheme.paddingRight,Y.padding,8)});X&&X.hide();let le=!1;m.forEach((pe,F)=>{F=I[F],F.state!==2?F.hide():(F.show(),F.attr(K(pe.text)),le=!0)}),le||(b&&(b.selectedIndex=0),I[0].show(),I[0].attr(K(this.zoomText&&this.zoomText.textStr)));const{align:he}=A.buttonPosition;this.positionButtons(),he!=="right"&&he!=="center"||this.alignButtonGroup(w,I[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:w,buttonOptions:I,options:m,zoomText:g}=this;this.hideDropdown(),g&&g.show(),I.forEach((b,A)=>{A=w[A],A.show(),A.attr({text:b.text,width:m.buttonTheme.width||28,paddingLeft:ie(m.buttonTheme.paddingLeft,"unset"),paddingRight:ie(m.buttonTheme.paddingRight,"unset")}),2>A.state&&A.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:w}=this;return w&&0<w.selectedIndex?w.selectedIndex-1:0}showDropdown(){const{buttonGroup:w,buttons:I,chart:m,dropdown:g}=this;if(w&&g){const{translateX:b,translateY:A}=w,X=I[this.currentButtonIndex()].getBBox();q(g,{left:m.plotLeft+b+"px",top:A+.5+"px",width:X.width+"px",height:X.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:w}=this;w&&(q(w,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var w=this.options,I=this.group;const m=w.y,g=w.buttonPosition.y,b=w.inputPosition.y;return w.height?w.height:(this.alignElements(),w=I?I.getBBox(!0).height+13+m:0,I=Math.min(b,g),(0>b&&0>g||0<b&&0<g)&&(w+=Math.abs(I)),w)}titleCollision(w){return!(w.options.title.text||w.options.subtitle.text)}update(w){const I=this.chart;H(!0,I.options.rangeSelector,w),this.destroy(),this.init(I),this.render()}destroy(){const w=this,I=w.minInput,m=w.maxInput;w.eventsToUnbind&&(w.eventsToUnbind.forEach(g=>g()),w.eventsToUnbind=void 0),O(w.buttons),I&&(I.onfocus=I.onblur=I.onchange=null),m&&(m.onfocus=m.onblur=m.onchange=null),U(w,function(g,b){g&&b!=="chart"&&(g instanceof s?g.destroy():g instanceof window.HTMLElement&&G(g)),g!==V.prototype[b]&&(w[b]=null)},this)}}return M(V.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),V}),n(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{addEvent:s,correctFloat:v,css:R,defined:J,error:k,pick:z,timeUnits:q}=h,L=[];var O;return function(G){function M(I,m,g,b,A=[],X=0,Y){const K={},le=this.options.tickPixelInterval;var he=this.chart.time,pe=[],F;let Q,ce;var ge=0;let ke=[],re=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!A||3>A.length||typeof m>"u")return he.getTimeTicks.apply(he,arguments);const ve=A.length;for(F=0;F<ve;F++){if(ce=F&&A[F-1]>g,A[F]<m&&(ge=F),F===ve-1||A[F+1]-A[F]>5*X||ce){if(A[F]>re){for(Q=he.getTimeTicks(I,A[ge],A[F],b);Q.length&&Q[0]<=re;)Q.shift();Q.length&&(re=Q[Q.length-1]),pe.push(ke.length),ke=ke.concat(Q)}ge=F+1}if(ce)break}if(Q){if(A=Q.info,Y&&A.unitRange<=q.hour){for(F=ke.length-1,ge=1;ge<F;ge++)if(he.dateFormat("%d",ke[ge])!==he.dateFormat("%d",ke[ge-1])){K[ke[ge]]="day";var _e=!0}_e&&(K[ke[0]]="day"),A.higherRanks=K}A.segmentStarts=pe,ke.info=A}else k(12,!1,this.chart);if(Y&&J(le)){ge=ke.length,he=[],_e=[];let oe;for(F=ge;F--;)pe=this.translate(ke[F]),oe&&(_e[F]=oe-pe),he[F]=oe=pe;for(_e.sort(),_e=_e[Math.floor(_e.length/2)],_e<.6*le&&(_e=null),F=ke[ge-1]>g?ge-1:ge,oe=void 0;F--;)pe=he[F],ge=Math.abs(oe-pe),oe&&ge<.8*le&&(_e===null||ge<.8*_e)?(K[ke[F]]&&!K[ke[F+1]]?(ge=F+1,oe=pe):ge=F,ke.splice(ge,1)):oe=pe}return ke}function S(I){const m=this.ordinal.positions;if(!m)return I;let g=m.length-1,b;return 0>I?I=m[0]:I>g?I=m[g]:(g=Math.floor(I),b=I-g),typeof b<"u"&&typeof m[g]<"u"?m[g]+(b?b*(m[g+1]-m[g]):0):I}function P(I){var m=this.ordinal,g=m.positions;if(!g)return I;var b=(I-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<b&&b<this.left+this.len||(m.extendedOrdinalPositions||(m.extendedOrdinalPositions=m.getExtendedPositions()),g=m.extendedOrdinalPositions),g&&g.length){if(I=m.getIndexOfPoint(b,g),m=v(I%1),0<=I&&I<g.length-1)return g[Math.floor(I)]+m*(g[Math.ceil(I)]-g[Math.floor(I)]);m=g.length,b=g[0],g=g[m-1];const A=(g-b)/(m-1);return 0>I?b+A*I:g+A*(I-m)}return I}function H(I,m){const g=G.Additions.findIndexOf(I,m,!0);return I[g]===m?g:g+(m-I[g])/(I[g+1]-I[g])}function U(){this.ordinal||(this.ordinal=new G.Additions(this))}function E(){this.isXAxis&&J(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&J(this.userMin)&&(this.min+=this.options.overscroll))}function ie(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function te(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function $(I){const m=this.xAxis[0],g=m.options.overscroll,b=I.originalEvent.chartX,A=this.options.chart.panning;let X=!1;if(A&&A.type!=="y"&&m.options.ordinal&&m.series.length){var Y=this.mouseDownX;const pe=m.getExtremes(),F=pe.dataMax,Q=pe.min,ce=pe.max;var K=this.hoverPoints,le=m.closestPointRange||m.ordinal&&m.ordinal.overscrollPointsRange;Y=(Y-b)/(m.translationSlope*(m.ordinal.slope||le)),le=m.ordinal.getExtendedPositions();var he={ordinal:{positions:le,extendedOrdinalPositions:le}};le=m.index2val;const ge=m.val2lin;let ke;he.ordinal.positions?1<Math.abs(Y)&&(K&&K.forEach(function(re){re.setState()}),0>Y?(K=he,ke=m.ordinal.positions?m:he):(K=m.ordinal.positions?m:he,ke=he),he=ke.ordinal.positions,F>he[he.length-1]&&he.push(F),this.fixedRange=ce-Q,Y=m.navigatorAxis.toFixedRange(void 0,void 0,le.apply(K,[ge.apply(K,[Q,!0])+Y]),le.apply(ke,[ge.apply(ke,[ce,!0])+Y])),Y.min>=Math.min(pe.dataMin,Q)&&Y.max<=Math.max(F,ce)+g&&m.setExtremes(Y.min,Y.max,!0,!1,{trigger:"pan"}),this.mouseDownX=b,R(this.container,{cursor:"move"})):X=!0}else X=!0;X||A&&/y/.test(A.type)?g&&(m.max=m.dataMax+g):I.preventDefault()}function V(){const I=this.xAxis;I&&I.options.ordinal&&(delete I.ordinal.index,delete I.ordinal.extendedOrdinalPositions)}function j(I,m){const g=this.ordinal;var b=g.positions;let A=g.slope,X=g.extendedOrdinalPositions;if(!b)return I;var Y=b.length;if(b[0]<=I&&b[Y-1]>=I)I=H(b,I);else{if(X||(X=g.getExtendedPositions&&g.getExtendedPositions(),g.extendedOrdinalPositions=X),!X||!X.length)return I;Y=X.length,A||(A=(X[Y-1]-X[0])/Y),b=H(X,b[0]),I=I>=X[0]&&I<=X[Y-1]?H(X,I)-b:I<X[0]?-b-(X[0]-I)/A:(I-X[Y-1])/A+Y-b}return m?I:A*(I||0)+g.offset}G.compose=function(I,m,g){if(h.pushUnique(L,I)){const b=I.prototype;b.getTimeTicks=M,b.index2val=S,b.lin2val=P,b.val2lin=j,b.ordinal2lin=b.val2lin,s(I,"afterInit",U),s(I,"foundExtremes",E),s(I,"afterSetScale",ie),s(I,"initialAxisTranslation",te)}return h.pushUnique(L,g)&&s(g,"pan",$),h.pushUnique(L,m)&&s(m,"updatedData",V),I};class w{constructor(m){this.index={},this.axis=m}beforeSetTickPositions(){const m=this.axis,g=m.ordinal;var b=m.getExtremes();const A=b.min;var X=b.max;const Y=m.isXAxis&&!!m.options.breaks;b=m.options.ordinal;const K=m.chart.options.chart.ignoreHiddenSeries;let le,he;var pe;let F=[],Q=Number.MAX_VALUE,ce=!1,ge=!1,ke=!1;if(b||Y){let ve=0;if(m.series.forEach(function(_e,oe){if(he=[],0<oe&&_e.options.id!=="highcharts-navigator-series"&&1<_e.processedXData.length&&(ge=ve!==_e.processedXData[1]-_e.processedXData[0]),ve=_e.processedXData[1]-_e.processedXData[0],_e.boosted&&(ke=_e.boosted),!(K&&_e.visible===!1||_e.takeOrdinalPosition===!1&&!Y)&&(F=F.concat(_e.processedXData),le=F.length,F.sort(function(ye,Se){return ye-Se}),Q=Math.min(Q,z(_e.closestPointRange,Q)),le)){for(oe=0;oe<le-1;)F[oe]!==F[oe+1]&&he.push(F[oe+1]),oe++;he[0]!==F[0]&&he.unshift(F[0]),F=he}}),ge&&ke&&(F.pop(),F.shift()),le=F.length,2<le){var re=F[1]-F[0];for(pe=le-1;pe--&&!ce;)F[pe+1]-F[pe]!==re&&(ce=!0);!m.options.keepOrdinalPadding&&(F[0]-A>re||X-F[F.length-1]>re)&&(ce=!0)}else m.options.overscroll&&(le===2?Q=F[1]-F[0]:le===1?(Q=m.options.overscroll,F=[F[0],F[0]+Q]):Q=g.overscrollPointsRange);ce||m.forceOrdinal?(m.options.overscroll&&(g.overscrollPointsRange=Q,F=F.concat(g.getOverscrollPositions())),g.positions=F,re=m.ordinal2lin(Math.max(A,F[0]),!0),pe=Math.max(m.ordinal2lin(Math.min(X,F[F.length-1]),!0),1),g.slope=X=(X-A)/(pe-re),g.offset=A-re*X):(g.overscrollPointsRange=z(m.closestPointRange,g.overscrollPointsRange),g.positions=m.ordinal.slope=g.offset=void 0)}m.isOrdinal=b&&ce,g.groupIntervalFactor=null}static findIndexOf(m,g,b){let A=0,X=m.length-1,Y;for(;A<X;)Y=Math.ceil((A+X)/2),m[Y]<=g?A=Y:X=Y-1;return m[A]===g||b?A:-1}getExtendedPositions(){const m=this,g=m.axis,b=g.constructor.prototype,A=g.chart,X=g.series[0].currentDataGrouping,Y=X?X.count+X.unitName:"raw",K=g.options.overscroll,le=g.getExtremes();let he,pe,F=m.index;return F||(F=m.index={}),F[Y]||(he={series:[],chart:A,forceOrdinal:!1,getExtremes:function(){return{min:le.dataMin,max:le.dataMax+K}},getGroupPixelWidth:b.getGroupPixelWidth,getTimeTicks:b.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:b.ordinal2lin,getIndexOfPoint:b.getIndexOfPoint,val2lin:b.val2lin},he.ordinal.axis=he,g.series.forEach(function(Q){pe={xAxis:he,xData:Q.xData.slice(),chart:A,destroyGroupedData:o.noop,getProcessedData:d.prototype.getProcessedData,applyGrouping:d.prototype.applyGrouping},pe.xData=pe.xData.concat(m.getOverscrollPositions()),pe.options={dataGrouping:X?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[X.unitName,[X.count]]]}:{enabled:!1}},he.series.push(pe),Q.processData.apply(pe)}),pe.closestPointRange!==pe.basePointRange&&pe.currentDataGrouping&&(he.forceOrdinal=!0),g.ordinal.beforeSetTickPositions.apply({axis:he}),F[Y]=he.ordinal.positions),F[Y]}getGroupIntervalFactor(m,g,b){b=b.processedXData;const A=b.length;var X=[],Y=this.groupIntervalFactor;if(!Y){for(Y=0;Y<A-1;Y++)X[Y]=b[Y+1]-b[Y];X.sort(function(K,le){return K-le}),X=X[Math.floor(A/2)],m=Math.max(m,b[0]),g=Math.min(g,b[A-1]),this.groupIntervalFactor=Y=A*X/(g-m)}return Y}getIndexOfPoint(m,g){const b=this.axis,A=this.positions?this.positions[0]:0;let X=b.series[0].points&&b.series[0].points[0]&&b.series[0].points[0].plotX||b.minPixelPadding;return 1<b.series.length&&b.series.forEach(function(Y){Y.points&&J(Y.points[0])&&J(Y.points[0].plotX)&&Y.points[0].plotX<X&&Y.points[0].plotX>=z(b.min,-1/0)&&(X=Y.points[0].plotX)}),m=(m-X)/(b.translationSlope*(this.slope||b.closestPointRange||this.overscrollPointsRange)),w.findIndexOf(g,A)+m}getOverscrollPositions(){const m=this.axis,g=m.options.overscroll,b=this.overscrollPointsRange,A=[];let X=m.dataMax;if(J(b))for(;X<=m.dataMax+g;)X+=b,A.push(X);return A}postProcessTickInterval(m){const g=this.axis,b=this.slope;return b?g.options.breaks?g.closestPointRange||m:m/(b/g.closestPointRange):m}}G.Additions=w}(O||(O={})),O}),n(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({column:{prototype:{pointClass:r}}}=r.seriesTypes);class o extends r{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}return o}),n(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),n(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{column:s}=d.seriesTypes,{extend:v,merge:R}=h;class J extends s{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(z,q,L){const O=z[0];z=z[1],typeof O[2]=="number"&&(O[2]=Math.max(L+q,O[2])),typeof z[2]=="number"&&(z[2]=Math.min(L-q,z[2]))}getPointPath(z,q){q=q.strokeWidth();const L=z.series,O=q%2/2,G=Math.round(z.plotX)-O,M=Math.round(z.shapeArgs.width/2),S=[["M",G,Math.round(z.yBottom)],["L",G,Math.round(z.plotHigh)]];return z.close!==null&&(z=Math.round(z.plotClose)+O,S.push(["M",G,z],["L",G+M,z]),L.extendStem(S,q/2,z)),S}drawSinglePoint(z){var q=z.series;const L=q.chart;let O=z.graphic;typeof z.plotY<"u"&&(O||(z.graphic=O=L.renderer.path().add(q.group)),L.styledMode||O.attr(q.pointAttribs(z,z.selected&&"select")),q=q.getPointPath(z,O),O[O?"animate":"attr"]({d:q}).addClass(z.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(z,q){return z=super.pointAttribs.call(this,z,q),delete z.fill,z}toYData(z){return[z.high,z.low,z.close]}translate(){const z=this,q=z.yAxis,L=this.pointArrayMap&&this.pointArrayMap.slice()||[],O=L.map(G=>`plot${G.charAt(0).toUpperCase()+G.slice(1)}`);O.push("yBottom"),L.push("low"),super.translate.apply(z),z.points.forEach(function(G){L.forEach(function(M,S){M=G[M],M!==null&&(z.dataModify&&(M=z.dataModify.modifyValue(M)),G[O[S]]=q.toPixels(M,!0))}),G.tooltipPos[1]=G.plotHigh+q.pos-z.chart.plotTop})}}return J.defaultOptions=R(s.defaultOptions,o),v(J.prototype,{pointClass:r,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),d.registerSeriesType("hlc",J),J}),n(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({seriesTypes:{hlc:r}}=r);class o extends r.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const h=super.getZone();return this.resolveUpColor(),h}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return o}),n(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),n(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){function s(O){O=O.options;const G=O.dataGrouping;G&&O.useOhlcData&&O.id!=="highcharts-navigator-series"&&(G.approximation="ohlc")}function v(O){O=O.options,O.useOhlcData&&O.id!=="highcharts-navigator-series"&&k(this,{pointValKey:L.prototype.pointValKey,pointArrayMap:L.prototype.pointArrayMap,toYData:L.prototype.toYData})}const{seriesTypes:{hlc:R}}=d,{addEvent:J,extend:k,merge:z}=h,q=[];class L extends R{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(G,...M){h.pushUnique(q,G)&&(J(G,"afterSetOptions",s),J(G,"init",v))}getPointPath(G,M){const S=super.getPointPath(G,M);M=M.strokeWidth();const P=M%2/2,H=Math.round(G.plotX)-P,U=Math.round(G.shapeArgs.width/2);return G.open!==null&&(G=Math.round(G.plotOpen)+P,S.push(["M",H,G],["L",H-U,G]),super.extendStem(S,M/2,G)),S}pointAttribs(G,M){M=super.pointAttribs.call(this,G,M);const S=this.options;return delete M.fill,!G.options.color&&S.upColor&&G.open<G.close&&(M.stroke=S.upColor),M}toYData(G){return[G.open,G.high,G.low,G.close]}}return L.defaultOptions=z(R.defaultOptions,o),k(L.prototype,{pointClass:r,pointArrayMap:["open","high","low","close"]}),d.registerSeriesType("ohlc",L),L}),n(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(r,o){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),n(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({defaultOptions:o}=o);const{column:s,ohlc:v}=d.seriesTypes;({merge:h}=h);class R extends v{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(k,z){const q=s.prototype.pointAttribs.call(this,k,z),L=this.options,O=k.open<k.close,G=L.lineColor||this.color,M=k.color||this.color;return q["stroke-width"]=L.lineWidth,q.fill=k.options.color||O&&L.upColor||M,q.stroke=k.options.lineColor||O&&L.upLineColor||G,z&&(k=L.states[z],q.fill=k.color||q.fill,q.stroke=k.lineColor||q.stroke,q["stroke-width"]=k.lineWidth||q["stroke-width"]),q}drawPoints(){var k=this.points;const z=this.chart,q=this.yAxis.reversed;for(const M of k){k=M.graphic;var L=void 0,O=void 0;let S,P;var G=void 0;let H,U;const E=!k;typeof M.plotY<"u"&&(k||(M.graphic=k=z.renderer.path().add(this.group)),this.chart.styledMode||k.attr(this.pointAttribs(M,M.selected&&"select")).shadow(this.options.shadow),G=k.strokeWidth()%2/2,H=Math.round(M.plotX)-G,L=M.plotOpen,O=M.plotClose,S=Math.min(L,O),L=Math.max(L,O),U=Math.round(M.shapeArgs.width/2),O=q?L!==M.yBottom:Math.round(S)!==Math.round(M.plotHigh),P=q?Math.round(S)!==Math.round(M.plotHigh):L!==M.yBottom,S=Math.round(S)+G,L=Math.round(L)+G,G=[],G.push(["M",H-U,L],["L",H-U,S],["L",H+U,S],["L",H+U,L],["Z"],["M",H,S],["L",H,O?Math.round(q?M.yBottom:M.plotHigh):S],["M",H,L],["L",H,P?Math.round(q?M.plotHigh:M.yBottom):L]),k[E?"attr":"animate"]({d:G}).addClass(M.getClassName(),!0))}}}return R.defaultOptions=h(v.defaultOptions,o.plotOptions,{tooltip:v.defaultOptions.tooltip},r),d.registerSeriesType("candlestick",R),R}),n(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){({column:{prototype:{pointClass:r}}}=r.seriesTypes);const{isNumber:d}=o;class h extends r{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return d(this.y)||typeof this.y>"u"}hasNewShapeType(){const v=this.options.shape||this.series.options.shape;return this.graphic&&v&&v!==this.graphic.symbolKey}}return h}),n(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),n(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(r){var o;return function(d){function h(R,J,k,z,q){const L=q&&q.anchorX||R;q=q&&q.anchorY||J;const O=this.circle(L-1,q-1,2,2);return O.push(["M",L,q],["L",R,J+z],["L",R,J],["L",R+k,J],["L",R+k,J+z],["L",R,J+z],["Z"]),O}function s(R,J){R[J+"pin"]=function(k,z,q,L,O){const G=O&&O.anchorX;O=O&&O.anchorY;let M;if(J==="circle"&&L>q&&(k-=Math.round((L-q)/2),q=L),M=R[J](k,z,q,L),G&&O){let S=G;J==="circle"?S=k+q/2:(k=M[0],q=M[1],k[0]==="M"&&q[0]==="L"&&(S=(k[1]+q[1])/2)),M.push(["M",S,z>O?z:z+L],["L",G,O]),M=M.concat(R.circle(G-1,O-1,2,2))}return M}}const v=[];d.compose=function(R){v.indexOf(R)===-1&&(v.push(R),R=R.prototype.symbols,R.flag=h,s(R,"circle"),s(R,"square")),R=r.getRendererType(),v.indexOf(R)&&v.push(R)}}(o||(o={})),o}),n(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,d){const{prototype:h}=r,{prototype:s}=o,{defined:v,stableSort:R}=d;var J;return function(k){function z(O){return s.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,O)}function q(){h.translate.apply(this);const O=this;var G=O.options,M=O.chart;const S=O.points;var P=G.onSeries;const H=(P=P&&M.get(P))&&P.options.step,U=P&&P.points,E=M.inverted,ie=O.xAxis,te=O.yAxis;M=S.length-1;let $;G=G.onKey||"y";let V=U&&U.length,j=0,w,I,m,g;if(P&&P.visible&&V){j=(P.pointXOffset||0)+(P.barW||0)/2;var b=P.currentDataGrouping;for(I=U[V-1].x+(b?b.totalRange:0),R(S,(A,X)=>A.x-X.x),G="plot"+G[0].toUpperCase()+G.substr(1);V--&&S[M]&&(w=U[V],b=S[M],b.y=w.y,!(w.x<=b.x&&typeof w[G]<"u"&&(b.x<=I&&(b.plotY=w[G],w.x<b.x&&!H&&(m=U[V+1])&&typeof m[G]<"u"&&(g=(b.x-w.x)/(m.x-w.x),b.plotY+=g*(m[G]-w[G]),b.y+=g*(m.y-w.y))),M--,V++,0>M))););}S.forEach((A,X)=>{let Y;A.plotX+=j,(typeof A.plotY>"u"||E)&&(0<=A.plotX&&A.plotX<=ie.len?E?(A.plotY=ie.translate(A.x,0,1,0,1),A.plotX=v(A.y)?te.translate(A.y,0,0,0,1):0):A.plotY=(ie.opposite?0:O.yAxis.len)+ie.offset:A.shapeArgs={}),($=S[X-1])&&$.plotX===A.plotX&&(typeof $.stackIndex>"u"&&($.stackIndex=0),Y=$.stackIndex+1),A.stackIndex=Y}),this.onSeries=P}const L=[];k.compose=function(O){if(d.pushUnique(L,O)){const G=O.prototype;G.getPlotBox=z,G.translate=q}return O},k.getPlotBox=z,k.translate=q}(J||(J={})),J}),n(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R,J,k){({noop:h}=h);const{distribute:z}=v,{series:q,seriesTypes:{column:L}}=R,{addEvent:O,defined:G,extend:M,merge:S,objectEach:P,wrap:H}=k;class U extends L{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(ie){ie&&this.setClip()}drawPoints(){var ie=this.points,te=this.chart;const $=te.renderer,V=te.inverted,j=this.options,w=j.y,I=this.yAxis,m={},g=[];let b,A,X,Y,K,le,he;for(X=ie.length;X--;){Y=ie[X],le=(V?Y.plotY:Y.plotX)>this.xAxis.len,b=Y.plotX;var pe=Y.stackIndex,F=Y.options.shape||j.shape;A=Y.plotY,typeof A<"u"&&(A=Y.plotY+w-(typeof pe<"u"&&pe*j.stackDistance)),Y.anchorX=pe?void 0:Y.plotX,K=pe?void 0:Y.plotY,he=F!=="flag",pe=Y.graphic,typeof A<"u"&&0<=b&&!le?(pe&&Y.hasNewShapeType()&&(pe=pe.destroy()),pe||(pe=Y.graphic=$.label("",null,null,F,null,null,j.useHTML).addClass("highcharts-point").add(this.markerGroup),Y.graphic.div&&(Y.graphic.div.point=Y),pe.isNew=!0),pe.attr({align:he?"center":"left",width:j.width,height:j.height,"text-align":j.textAlign}),te.styledMode||pe.attr(this.pointAttribs(Y)).css(S(j.style,Y.style)).shadow(j.shadow),0<b&&(b-=pe.strokeWidth()%2),F={y:A,anchorY:K},j.allowOverlapX&&(F.x=b,F.anchorX=Y.anchorX),pe.attr({text:Y.options.title||j.title||"A"})[pe.isNew?"attr":"animate"](F),j.allowOverlapX||(m[Y.plotX]?m[Y.plotX].size=Math.max(m[Y.plotX].size,pe.width):m[Y.plotX]={align:he?.5:0,size:pe.width,target:b,anchorX:b}),Y.tooltipPos=[b,A+I.pos-te.plotTop]):pe&&(Y.graphic=pe.destroy())}if(!j.allowOverlapX){let Q=100;P(m,function(ce){ce.plotX=ce.anchorX,g.push(ce),Q=Math.max(ce.size,Q)}),z(g,V?I.len:this.xAxis.len,Q);for(const ce of ie)te=ce.plotX,(te=(ie=ce.graphic)&&m[te])&&ie&&(G(te.pos)?ie[ie.isNew?"attr":"animate"]({x:te.pos+(te.align||0)*te.size,anchorX:ce.anchorX}).show().isNew=!1:ie.hide().isNew=!0)}j.useHTML&&this.markerGroup&&H(this.markerGroup,"on",function(Q){return J.prototype.on.apply(Q.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const ie=this.points;super.drawTracker();for(const te of ie){const $=te.graphic;$&&(te.unbindMouseOver&&te.unbindMouseOver(),te.unbindMouseOver=O($.element,"mouseover",function(){0<te.stackIndex&&!te.raised&&(te._y=$.y,$.attr({y:te._y-8}),te.raised=!0);for(const V of ie)V!==te&&V.raised&&V.graphic&&(V.graphic.attr({y:V._y}),V.raised=!1)}))}}pointAttribs(ie,te){const $=this.options,V=ie&&ie.color||this.color;let j=$.lineColor,w=ie&&ie.lineWidth;return ie=ie&&ie.fillColor||$.fillColor,te&&(ie=$.states[te].fillColor,j=$.states[te].lineColor,w=$.states[te].lineWidth),{fill:ie||V,stroke:j||V,"stroke-width":w||$.lineWidth||0}}setClip(){q.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return U.compose=d.compose,U.defaultOptions=S(L.defaultOptions,o),s.compose(U),M(U.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:r,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:h,init:q.prototype.init}),R.registerSeriesType("flags",U),U}),n(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R,J,k,z){function q(w,I){return w==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:w==="yAxis"?{labels:{y:-2},opposite:$(I.opposite,!0),showLastLabel:!(!I.categories&&I.type!=="category"),title:{text:null}}:{}}function L(w,I){return w==="xAxis"?(w={type:"datetime",categories:void 0},$(I.navigator&&I.navigator.enabled,s.enabled,!0)&&(w.startOnTick=!1,w.endOnTick=!1),w):{}}const{format:O}=d,{getOptions:G}=h,{addEvent:M,clamp:S,defined:P,extend:H,find:U,isNumber:E,isString:ie,merge:te,pick:$,splat:V}=z;class j extends o{init(I,m){const g=G(),b=I.xAxis,A=I.yAxis;var X=$(I.navigator&&I.navigator.enabled,s.enabled,!0);I.xAxis=I.yAxis=void 0,X=te({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:X},scrollbar:{enabled:$(R.enabled,!0)},rangeSelector:{enabled:$(v.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:$(g.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},I,{isStock:!0}),I.xAxis=b,I.yAxis=A,X.xAxis=V(I.xAxis||{}).map(function(Y,K){return te(q("xAxis",Y),g.xAxis,g.xAxis&&g.xAxis[K],Y,L("xAxis",I))}),X.yAxis=V(I.yAxis||{}).map(function(Y,K){return te(q("yAxis",Y),g.yAxis,g.yAxis&&g.yAxis[K],Y)}),super.init(X,m)}createAxis(I,m){return m.axis=te(q(I,m.axis),m.axis,L(I,this.userOptions)),super.createAxis(I,m)}}return function(w){w.stockChart=function(I,m,g){return new w(I,m,g)}}(j||(j={})),M(J,"setOptions",function(w){let I;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?I={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(I={marker:{enabled:!1,radius:2}}),I&&(w.plotOptions[this.type]=te(w.plotOptions[this.type],I)))}),M(r,"autoLabelAlign",function(w){const{chart:I,options:m}=this,g=I._labelPanes=I._labelPanes||{},b=m.labels;if(I.options.isStock&&this.coll==="yAxis"){const A=m.top+","+m.height;!g[A]&&b.enabled&&(b.distance===15&&this.side===1&&(b.distance=0),typeof b.align>"u"&&(b.align="right"),g[A]=this,w.align="right",w.preventDefault())}}),M(r,"destroy",function(){const w=this.chart,I=this.options&&this.options.top+","+this.options.height;I&&w._labelPanes&&w._labelPanes[I]===this&&delete w._labelPanes[I]}),M(r,"getPlotLinePath",function(w){function I(oe){const ye=oe==="xAxis"?"yAxis":"xAxis";return oe=m.options[ye],E(oe)?[b[ye][oe]]:ie(oe)?[b.get(oe)]:g.map(function(Se){return Se[ye]})}let m=this,g=this.isLinked&&!this.series?this.linkedParent.series:this.series,b=m.chart,A=b.renderer,X=m.left,Y=m.top,K,le,he,pe,F=[],Q=[],ce,ge,ke=w.translatedValue,re=w.value,ve=w.force,_e;(b.options.isStock&&w.acrossPanes!==!1&&m.coll==="xAxis"||m.coll==="yAxis")&&(w.preventDefault(),Q=I(m.coll),ce=m.isXAxis?b.yAxis:b.xAxis,ce.forEach(function(oe){if(!P(oe.options.id)||oe.options.id.indexOf("navigator")===-1){var ye=oe.isXAxis?"yAxis":"xAxis";ye=P(oe.options[ye])?b[ye][oe.options[ye]]:b[ye][0],m===ye&&Q.push(oe)}}),ge=Q.length?[]:[m.isXAxis?b.yAxis[0]:b.xAxis[0]],Q.forEach(function(oe){ge.indexOf(oe)!==-1||U(ge,function(ye){return ye.pos===oe.pos&&ye.len===oe.len})||ge.push(oe)}),_e=$(ke,m.translate(re,void 0,void 0,w.old)),E(_e)&&(m.horiz?ge.forEach(function(oe){let ye;le=oe.pos,pe=le+oe.len,K=he=Math.round(_e+m.transB),ve!=="pass"&&(K<X||K>X+m.width)&&(ve?K=he=S(K,X,X+m.width):ye=!0),ye||F.push(["M",K,le],["L",he,pe])}):ge.forEach(function(oe){let ye;K=oe.pos,he=K+oe.len,le=pe=Math.round(Y+m.height-_e),ve!=="pass"&&(le<Y||le>Y+m.height)&&(ve?le=pe=S(le,Y,Y+m.height):ye=!0),ye||F.push(["M",K,le],["L",he,pe])})),w.path=0<F.length?A.crispPolyLine(F,w.lineWidth||1):null)}),k.prototype.crispPolyLine=function(w,I){for(let m=0;m<w.length;m+=2){const g=w[m],b=w[m+1];g[1]===b[1]&&(g[1]=b[1]=Math.round(g[1])-I%2/2),g[2]===b[2]&&(g[2]=b[2]=Math.round(g[2])+I%2/2)}return w},M(r,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),M(r,"afterDrawCrosshair",function(w){var I,m;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&E(this.min)&&E(this.max)){var g=this.chart,b=this.logarithmic,A=this.crosshair.label,X=this.horiz,Y=this.opposite,K=this.left,le=this.top,he=this.width,pe=this.crossLabel,F=A.format,Q="",ce=this.options.tickPosition==="inside",ge=this.crosshair.snap!==!1,ke=0,re=w.e||this.cross&&this.cross.e;w=w.point;var ve=this.min,_e=this.max;b&&(ve=b.lin2log(ve),_e=b.lin2log(_e)),b=X?"center":Y?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",pe||(pe=this.crossLabel=g.renderer.label("",0,void 0,A.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(w&&w.series?w.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:A.align||b,padding:$(A.padding,8),r:$(A.borderRadius,3),zIndex:2}).add(this.labelGroup),g.styledMode||pe.attr({fill:A.backgroundColor||w&&w.series&&w.series.color||"#666666",stroke:A.borderColor||"","stroke-width":A.borderWidth||0}).css(H({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},A.style||{}))),X?(he=ge?(w.plotX||0)+K:re.chartX,le+=Y?0:this.height):(he=K+this.offset+(Y?he:0),le=ge?(w.plotY||0)+le:re.chartY),F||A.formatter||(this.dateTime&&(Q="%b %d, %Y"),F="{value"+(Q?":"+Q:"")+"}"),Q=ge?this.isXAxis?w.x:w.y:this.toValue(X?re.chartX:re.chartY),ge=w&&w.series?w.series.isPointInside(w):E(Q)&&Q>ve&&Q<_e,re="",F?re=O(F,{value:Q},g):A.formatter&&E(Q)&&(re=A.formatter.call(this,Q)),pe.attr({text:re,x:he,y:le,visibility:ge?"inherit":"hidden"}),A=pe.getBBox(),!E(pe.x)||X||Y||(he=pe.x-A.width/2),E(pe.y)&&(X?(ce&&!Y||!ce&&Y)&&(le=pe.y-A.height):le=pe.y-A.height/2),X?(I=K-A.x,m=K+this.width-A.x):(I=this.labelAlign==="left"?K:0,m=this.labelAlign==="right"?K+this.width:g.chartWidth),pe.translateX<I&&(ke=I-pe.translateX),pe.translateX+A.width>=m&&(ke=-(pe.translateX+A.width-m)),pe.attr({x:he+ke,y:le,anchorX:X?he:this.opposite?0:g.chartWidth,anchorY:X?this.opposite?g.chartHeight:0:le+A.height/2})}}),J.prototype.forceCropping=function(){const w=this.chart,I=this.options.dataGrouping;return this.allowDG!==!1&&I&&$(I.enabled,w.options.isStock)},M(o,"update",function(w){w=w.options,"scrollbar"in w&&this.navigator&&(te(!0,this.options.scrollbar,w.scrollbar),this.navigator.update({}),delete w.scrollbar)}),j}),n(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Axis/OrdinalAxis.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"],t["Core/Chart/StockChart.js"]],function(r,o,d,h,s,v,R,J,k){r.Navigator=d,r.RangeSelector=h,r.Scrollbar=s,r.StockChart=r.stockChart=k.stockChart,o.compose(r.Series,r.Axis,r.Point),J.compose(r.Renderer),d.compose(r.Axis,r.Chart,r.Series),R.compose(r.Series),v.compose(r.Axis,r.Series,r.Chart),h.compose(r.Axis,r.Chart),s.compose(r.Axis)})})})(F6);var hZ=F6.exports;const pZ=Mu(hZ);pZ(pc);const fZ={name:"graph",components:{Chart:nm.Chart},data(){return{chartOptions:{chart:{zoomType:"xy"},title:{text:"",align:""},subtitle:{text:"",align:""},xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}°C",style:{color:pc.getOptions().colors[2]}},title:{text:"Temperature",style:{color:pc.getOptions().colors[2]}},opposite:!0},{gridLineWidth:0,title:{text:"Rainfall",style:{color:pc.getOptions().colors[0]}},labels:{format:"{value} mm",style:{color:pc.getOptions().colors[0]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:pc.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:pc.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:pc.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{name:"Rainfall",type:"column",yAxis:1,data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Sea-Level Pressure",type:"spline",yAxis:2,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},dashStyle:"shortdot",tooltip:{valueSuffix:" mb"}},{name:"Temperature",type:"spline",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}}}}};function mZ(e,t,n,r,o,d){const h=Tr("Chart");return bt(),Ir(h,{options:o.chartOptions,constructorType:"stockChart"},null,8,["options"])}const gZ=zr(fZ,[["render",mZ]]);var j6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function n(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},n(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){function d(k){if(typeof v.MouseEvent=="function")return new v.MouseEvent(k.type,k);if(s.createEvent){const z=s.createEvent("MouseEvent");if(z.initMouseEvent)return z.initMouseEvent(k.type,k.bubbles,k.cancelable,k.view||v,k.detail,k.screenX,k.screenY,k.clientX,k.clientY,k.ctrlKey,k.altKey,k.shiftKey,k.metaKey,k.button,k.relatedTarget),z}return h(k.type)}function h(k,z,q){return z=z||{x:0,y:0},typeof v.MouseEvent=="function"?new v.MouseEvent(k,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:q||J,view:v,detail:k==="click"?1:0,screenX:z.x,screenY:z.y,clientX:z.x,clientY:z.y}):s.createEvent&&(q=s.createEvent("MouseEvent"),q.initMouseEvent)?(q.initMouseEvent(k,!0,!0,v,k==="click"?1:0,z.x,z.y,z.x,z.y,!1,!1,!1,!1,0,null),q):{type:k}}const{doc:s,win:v}=r,{css:R}=o,J=v.EventTarget&&new v.EventTarget||"none";return{addClass:function(k,z){k.classList?k.classList.add(z):0>k.className.indexOf(z)&&(k.className+=" "+z)},cloneMouseEvent:d,cloneTouchEvent:function(k){var z=q=>{const L=[];for(let O=0;O<q.length;++O){const G=q.item(O);G&&L.push(G)}return L};return typeof v.TouchEvent=="function"?(z=new v.TouchEvent(k.type,{touches:z(k.touches),targetTouches:z(k.targetTouches),changedTouches:z(k.changedTouches),ctrlKey:k.ctrlKey,shiftKey:k.shiftKey,altKey:k.altKey,metaKey:k.metaKey,bubbles:k.bubbles,cancelable:k.cancelable,composed:k.composed,detail:k.detail,view:k.view}),k.defaultPrevented&&z.preventDefault(),z):(z=d(k),z.touches=k.touches,z.changedTouches=k.changedTouches,z.targetTouches=k.targetTouches,z)},escapeStringForHTML:function(k){return k.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(k){return s.getElementById(k)},getFakeMouseEvent:h,getHeadingTagNameForElement:function(k){const z=L=>(L=parseInt(L.slice(1),10),"h"+Math.min(6,L+1)),q=L=>{var O;e:{for(O=L;O=O.previousSibling;){const G=O.tagName||"";if(/H[1-6]/.test(G)){O=G;break e}}O=""}return O?z(O):(L=L.parentElement,L?(O=L.tagName,/H[1-6]/.test(O)?z(O):q(L)):"p")};return q(k)},removeChildNodes:function(k){for(;k.lastChild;)k.removeChild(k.lastChild)},removeClass:function(k,z){k.classList?k.classList.remove(z):k.className=k.className.replace(new RegExp(z,"g"),"")},removeElement:function(k){k&&k.parentNode&&k.parentNode.removeChild(k)},reverseChildNodes:function(k){let z=k.childNodes.length;for(;z--;)k.appendChild(k.childNodes[z])},simulatedEventTarget:J,stripHTMLTagsFromString:function(k){return typeof k=="string"?k.replace(/<\/?[^>]+(>|$)/g,""):k},visuallyHideElement:function(k){R(k,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),n(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(r,o){const{format:d}=r,{getNestedProperty:h,pick:s}=o;var v;return function(R){function J(L,O){var G=L.indexOf("#each("),M=L.indexOf("#plural("),S=L.indexOf("[");const P=L.indexOf("]");if(-1<G){S=L.slice(G).indexOf(")")+G;var H=L.substring(0,G);if(M=L.substring(S+1),S=L.substring(G+6,S).split(","),G=Number(S[1]),L="",O=h(S[0],O))for(G=isNaN(G)?O.length:G,G=0>G?O.length+G:Math.min(G,O.length),S=0;S<G;++S)L+=H+O[S]+M;return L.length?L:""}if(-1<M){switch(H=L.slice(M).indexOf(")")+M,L=L.substring(M+8,H).split(","),Number(h(L[0],O))){case 0:L=s(L[4],L[1]);break;case 1:L=s(L[2],L[1]);break;case 2:L=s(L[3],L[1]);break;default:L=L[1]}return L?(O=L,O=O.trim&&O.trim()||O.replace(/^\s+|\s+$/g,"")):O="",O}return-1<S?(M=L.substring(0,S),L=Number(L.substring(S+1,P)),O=h(M,O),!isNaN(L)&&O&&(0>L?(H=O[O.length+L],typeof H>"u"&&(H=O[0])):(H=O[L],typeof H>"u"&&(H=O[O.length-1]))),typeof H<"u"?H:""):"{"+L+"}"}function k(L,O,G){const M=(E,ie)=>{E=E.slice(ie||0);const te=E.indexOf("{"),$=E.indexOf("}");if(-1<te&&$>te)return{statement:E.substring(te+1,$),begin:ie+te+1,end:ie+$}},S=[];let P,H,U=0;do P=M(L,U),H=L.substring(U,P&&P.begin-1),H.length&&S.push({value:H,type:"constant"}),P&&S.push({value:P.statement,type:"statement"}),U=P?P.end+1:U+1;while(P);return S.forEach(E=>{E.type==="statement"&&(E.value=J(E.value,O))}),d(S.reduce((E,ie)=>E+ie.value,""),O,G)}function z(L,O){L=L.split(".");let G=this.options.lang,M=0;for(;M<L.length;++M)G=G&&G[L[M]];return typeof G=="string"?k(G,O,this):""}const q=[];R.compose=function(L){return o.pushUnique(q,L)&&(L.prototype.langFormat=z),L},R.i18nFormat=k}(v||(v={})),v}),n(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d){function h(M,S){const P=S.type,H=M.hcEvents;z.createEvent&&(M.dispatchEvent||M.fireEvent)?M.dispatchEvent?M.dispatchEvent(S):M.fireEvent(P,S):H&&H[P]?G(M,P,S):M.element&&h(M.element,S)}function s(M){const S=M.chart,P={};let H="Seconds";P.Seconds=((M.dataMax||M.max||0)-(M.dataMin||M.min||0))/1e3,P.Minutes=P.Seconds/60,P.Hours=P.Minutes/60,P.Days=P.Hours/24,["Minutes","Hours","Days"].forEach(function(E){2<P[E]&&(H=E)});const U=P[H].toFixed(H!=="Seconds"&&H!=="Minutes"?1:0);return S.langFormat("accessibility.axis.timeRange"+H,{chart:S,axis:M,range:U.replace(".0","")})}function v(M){const S=M.chart;var P=S.options;const H=P&&P.accessibility&&P.accessibility.screenReaderSection.axisRangeDateFormat||"",U={min:M.dataMin||M.min||0,max:M.dataMax||M.max||0};return P=function(E){return M.dateTime?S.time.dateFormat(H,U[E]):U[E].toString()},S.langFormat("accessibility.axis.rangeFromTo",{chart:S,axis:M,rangeFrom:P("min"),rangeTo:P("max")})}function R(M){if(M.points&&M.points.length)return(M=O(M.points,S=>!!S.graphic))&&M.graphic&&M.graphic.element}function J(M){const S=R(M);return S&&S.parentNode||M.graph&&M.graph.element||M.group&&M.group.element}function k(M,S){S.setAttribute("aria-hidden",!1),S!==M.renderTo&&S.parentNode&&S.parentNode!==z.body&&(Array.prototype.forEach.call(S.parentNode.childNodes,function(P){P.hasAttribute("aria-hidden")||P.setAttribute("aria-hidden",!0)}),k(M,S.parentNode))}const{doc:z}=r,{stripHTMLTagsFromString:q}=o,{defined:L,find:O,fireEvent:G}=d;return{fireEventOnWrappedOrUnwrappedElement:h,getChartTitle:function(M){return q(M.options.title.text||M.langFormat("accessibility.defaultChartTitle",{chart:M}))},getAxisDescription:function(M){return M&&(M.userOptions&&M.userOptions.accessibility&&M.userOptions.accessibility.description||M.axisTitle&&M.axisTitle.textStr||M.options.id||M.categories&&"categories"||M.dateTime&&"Time"||"values")},getAxisRangeDescription:function(M){var S=M.options||{};return S.accessibility&&typeof S.accessibility.rangeDescription<"u"?S.accessibility.rangeDescription:M.categories?(S=M.chart,M=M.dataMax&&M.dataMin?S.langFormat("accessibility.axis.rangeCategories",{chart:S,axis:M,numCategories:M.dataMax-M.dataMin+1}):"",M):!M.dateTime||M.min!==0&&M.dataMin!==0?v(M):s(M)},getPointFromXY:function(M,S,P){let H=M.length,U;for(;H--;)if(U=O(M[H].points||[],function(E){return E.x===S&&E.y===P}))return U},getSeriesFirstPointElement:R,getSeriesFromName:function(M,S){return S?(M.series||[]).filter(function(P){return P.name===S}):M.series},getSeriesA11yElement:J,unhideChartElementFromAT:k,hideSeriesFromAT:function(M){(M=J(M))&&M.setAttribute("aria-hidden",!0)},scrollToPoint:function(M){var S=M.series.xAxis,P=M.series.yAxis;const H=S&&S.scrollbar?S:P;if((S=H&&H.scrollbar)&&L(S.to)&&L(S.from)){if(P=S.to-S.from,L(H.dataMin)&&L(H.dataMax)){var U=H.toPixels(H.dataMin),E=H.toPixels(H.dataMax);M=(H.toPixels(M[H.coll==="xAxis"?"x":"y"]||0)-U)/(E-U)}else M=0;S.updatePosition(M-P/2,M+P/2),G(S,"changed",{from:S.from,to:S.to,trigger:"scrollbar",DOMEvent:null})}}}}),n(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o){const{doc:d}=r,{removeElement:h}=o;class s{constructor(){this.elements=[]}createElement(){const R=d.createElement.apply(d,arguments);return this.elements.push(R),R}destroyCreatedElements(){this.elements.forEach(function(R){h(R)}),this.elements=[]}}return s}),n(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d}=o;class h{constructor(){this.eventRemovers=[]}addEvent(){const v=d.apply(r,arguments);return this.eventRemovers.push(v),v}removeAddedEvents(){this.eventRemovers.forEach(v=>v()),this.eventRemovers=[]}}return h}),n(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{fireEventOnWrappedOrUnwrappedElement:v}=r,{getFakeMouseEvent:R}=h;({extend:r}=s);class J{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(z,q){this.chart=z,this.eventProvider=new d,this.domElementProvider=new o,this.proxyProvider=q,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(z,q,L,O){return this.eventProvider.addEvent(z,q,L,O)}createElement(z,q){return this.domElementProvider.createElement(z,q)}fakeClickEvent(z){const q=R("click");v(z,q)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return r(J.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),J}),n(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(r){const{find:o}=r;class d{constructor(s,v){this.chart=s,this.keyCodeMap=v.keyCodeMap||[],this.validate=v.validate,this.init=v.init,this.terminate=v.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(s){const v=s.which||s.keyCode;let R=this.response.noHandler;const J=o(this.keyCodeMap,function(k){return-1<k[0].indexOf(v)});return J?R=J[1].call(this,v,s):v===9&&(R=this.response[s.shiftKey?"prev":"next"]),R}}return d}),n(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s){const{unhideChartElementFromAT:v,getChartTitle:R}=d,{doc:J}=h,{stripHTMLTagsFromString:k}=s;class z extends r{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const L=this.chart,O="highcharts-title-"+L.index,G=k(L.langFormat("accessibility.svgContainerTitle",{chartTitle:R(L)}));if(G.length){const M=this.svgTitleElement=this.svgTitleElement||J.createElementNS("http://www.w3.org/2000/svg","title");M.textContent=G,M.id=O,L.renderTo.insertBefore(M,L.renderTo.firstChild)}}setSVGContainerLabel(){const L=this.chart,O=L.langFormat("accessibility.svgContainerLabel",{chartTitle:R(L)});L.renderer.box&&O.length&&L.renderer.box.setAttribute("aria-label",O)}setGraphicContainerAttrs(){const L=this.chart,O=L.langFormat("accessibility.graphicContainerLabel",{chartTitle:R(L)});O.length&&L.container.setAttribute("aria-label",O)}setRenderToAttrs(){const L=this.chart,O=L.options.accessibility.landmarkVerbosity!=="disabled",G=L.langFormat("accessibility.chartContainerLabel",{title:R(L),chart:L});G&&(L.renderTo.setAttribute("role",O?"region":"group"),L.renderTo.setAttribute("aria-label",G))}makeCreditsAccessible(){const L=this.chart,O=L.credits;O&&(O.textStr&&O.element.setAttribute("aria-label",L.langFormat("accessibility.credits",{creditsStr:k(O.textStr)})),v(L,O.element))}getKeyboardNavigation(){const L=this.chart;return new o(L,{keyCodeMap:[],validate:function(){return!0},init:function(){const O=L.accessibility;O&&O.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return z}),n(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d,pick:h}=o;var s;return function(v){function R(){const S=this.focusElement,P=this.options.accessibility.keyboardNavigation.focusBorder;S&&(S.removeFocusBorder(),P.enabled&&S.addFocusBorder(P.margin,{stroke:P.style.color,strokeWidth:P.style.lineWidth,r:P.style.borderRadius}))}function J(S,P){const H=this.options.accessibility.keyboardNavigation.focusBorder;(P=P||S.element)&&P.focus&&(P.hcEvents&&P.hcEvents.focusin||d(P,"focusin",function(){}),P.focus(),H.hideBrowserFocusOutline&&(P.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=S,this.renderFocusBorder()}function k(S){if(!S.focusBorderDestroyHook){var P=S.destroy;S.destroy=function(){return S.focusBorder&&S.focusBorder.destroy&&S.focusBorder.destroy(),P.apply(S,arguments)},S.focusBorderDestroyHook=P}}function z(S,P){this.focusBorder&&this.removeFocusBorder();const H=this.getBBox(),U=h(S,3),E=this.parentGroup;var ie=this.scaleX||E&&E.scaleX,te=this.scaleY||E&&E.scaleY;ie=(ie?!te:te)?Math.abs(ie||te||1):(Math.abs(ie||1)+Math.abs(te||1))/2,H.x+=this.translateX?this.translateX:0,H.y+=this.translateY?this.translateY:0,te=H.x-U;let $=H.y-U,V=H.width+2*U,j=H.height+2*U;var w=this instanceof r;if(this.element.nodeName==="text"||w){const g=!!this.rotation;if(w)var I={x:g?1:0,y:0};else{var m=I=0;this.attr("text-anchor")==="middle"?I=m=.5:this.rotation?I=.25:m=.75,I={x:I,y:m}}m=+this.attr("x");const b=+this.attr("y");isNaN(m)||(te=m-H.width*I.x-U),isNaN(b)||($=b-H.height*I.y-U),w&&g&&(w=V,V=j,j=w,isNaN(m)||(te=m-H.height*I.x-U),isNaN(b)||($=b-H.width*I.y-U))}this.focusBorder=this.renderer.rect(te,$,V,j,parseInt((P&&P.r||0).toString(),10)/ie).addClass("highcharts-focus-border").attr({zIndex:99}).add(E),this.renderer.styledMode||this.focusBorder.attr({stroke:P&&P.stroke,"stroke-width":(P&&P.strokeWidth||0)/ie}),q(this,S,P),k(this)}function q(S,...P){S.focusBorderUpdateHooks||(S.focusBorderUpdateHooks={},M.forEach(H=>{H+="Setter";const U=S[H]||S._defaultSetter;S.focusBorderUpdateHooks[H]=U,S[H]=function(){const E=U.apply(S,arguments);return S.addFocusBorder.apply(S,P),E}}))}function L(){O(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function O(S){S.focusBorderUpdateHooks&&(Object.keys(S.focusBorderUpdateHooks).forEach(P=>{const H=S.focusBorderUpdateHooks[P];H===S._defaultSetter?delete S[P]:S[P]=H}),delete S.focusBorderUpdateHooks)}const G=[],M="x y transform width height r d stroke-width".split(" ");v.compose=function(S,P){o.pushUnique(G,S)&&(S=S.prototype,S.renderFocusBorder=R,S.setFocusToElement=J),o.pushUnique(G,P)&&(P=P.prototype,P.addFocusBorder=z,P.removeFocusBorder=L)}}(s||(s={})),s}),n(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{doc:v}=d,{addClass:R,visuallyHideElement:J}=h,{attr:k}=s;class z{constructor(L,O){this.chart=L,this.domElementProvider=new o,this.announceRegion=this.addAnnounceRegion(O)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(L){r.setElementHTML(this.announceRegion,L),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=r.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(L){const O=this.chart.announcerContainer||this.createAnnouncerContainer(),G=this.domElementProvider.createElement("div");return k(G,{"aria-hidden":!1,"aria-live":L}),this.chart.styledMode?R(G,"highcharts-visually-hidden"):J(G),O.appendChild(G),G}createAnnouncerContainer(){const L=this.chart,O=v.createElement("div");return k(O,{"aria-hidden":!1,class:"highcharts-announcer-container"}),O.style.position="relative",L.renderTo.insertBefore(O,L.renderTo.firstChild),L.announcerContainer=O}}return z}),n(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(r){function o(J){return(J.annotations||[]).reduce((k,z)=>(z.options&&z.options.visible!==!1&&(k=k.concat(z.labels)),k),[])}function d(J){return J.options&&J.options.accessibility&&J.options.accessibility.description||J.graphic&&J.graphic.text&&J.graphic.text.textStr||""}function h(J){var k=J.options&&J.options.accessibility&&J.options.accessibility.description;if(k)return k;k=J.chart;const z=d(J),q=J.points.filter(G=>!!G.graphic).map(G=>{const M=G.accessibility&&G.accessibility.valueDescription||G.graphic&&G.graphic.element&&G.graphic.element.getAttribute("aria-label")||"";return G=G&&G.series.name||"",(G?G+", ":"")+"data point "+M}).filter(G=>!!G),L=q.length,O="accessibility.screenReaderSection.annotations.description"+(1<L?"MultiplePoints":L?"SinglePoint":"NoPoints");return J={annotationText:z,annotation:J,numPoints:L,annotationPoint:q[0],additionalAnnotationPoints:q.slice(1)},k.langFormat(O,J)}function s(J){return o(J).map(k=>(k=v(R(h(k))))?`<li>${k}</li>`:"")}const{escapeStringForHTML:v,stripHTMLTagsFromString:R}=r;return{getAnnotationsInfoHTML:function(J){const k=J.annotations;return k&&k.length?`<ul style="list-style-type: none">${s(J).join(" ")}</ul>`:""},getAnnotationLabelDescription:h,getAnnotationListItems:s,getPointAnnotationTexts:function(J){const k=o(J.series.chart).filter(z=>-1<z.points.indexOf(J));return k.length?k.map(z=>`${d(z)}`):[]}}}),n(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R,J,k,z){function q(I,m){var g=m[0],b=I.series&&I.series[0]||{};if(b={numSeries:I.series.length,numPoints:b.points&&b.points.length,chart:I,mapTitle:I.mapView&&I.mapView.geoMap&&I.mapView.geoMap.title},!g)return I.langFormat("accessibility.chartTypes.emptyChart",b);if(g==="map")return b.mapTitle?I.langFormat("accessibility.chartTypes.mapTypeDescription",b):I.langFormat("accessibility.chartTypes.unknownMap",b);if(1<I.types.length)return I.langFormat("accessibility.chartTypes.combinationChart",b);{m=m[0],g=I.langFormat("accessibility.seriesTypeDescriptions."+m,b);const A=I.series&&2>I.series.length?"Single":"Multiple";I=(I.langFormat("accessibility.chartTypes."+m+A,b)||I.langFormat("accessibility.chartTypes.default"+A,b))+(g?" "+g:"")}return I}const{getAnnotationsInfoHTML:L}=h,{getAxisDescription:O,getAxisRangeDescription:G,getChartTitle:M,unhideChartElementFromAT:S}=v,{format:P}=R,{doc:H}=J,{addClass:U,getElement:E,getHeadingTagNameForElement:ie,stripHTMLTagsFromString:te,visuallyHideElement:$}=k,{attr:V,pick:j}=z;class w extends o{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const m=this.chart,g=this;this.initRegionsDefinitions(),this.addEvent(m,"aftergetTableAST",function(b){g.onDataTableCreated(b)}),this.addEvent(m,"afterViewData",function(b){b.wasHidden&&(g.dataTableDiv=b.element,setTimeout(function(){g.focusDataTable()},300))}),this.announcer=new d(m,"assertive")}initRegionsDefinitions(){const m=this;this.screenReaderSections={before:{element:null,buildContent:function(g){const b=g.options.accessibility.screenReaderSection.beforeChartFormatter;return b?b(g):m.defaultBeforeChartFormatter(g)},insertIntoDOM:function(g,b){b.renderTo.insertBefore(g,b.renderTo.firstChild)},afterInserted:function(){typeof m.sonifyButtonId<"u"&&m.initSonifyButton(m.sonifyButtonId),typeof m.dataTableButtonId<"u"&&m.initDataTableButton(m.dataTableButtonId)}},after:{element:null,buildContent:function(g){const b=g.options.accessibility.screenReaderSection.afterChartFormatter;return b?b(g):m.defaultAfterChartFormatter()},insertIntoDOM:function(g,b){b.renderTo.insertBefore(g,b.container.nextSibling)},afterInserted:function(){m.chart.accessibility&&m.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const m=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(g){m.updateScreenReaderSection(g)})}getLinkedDescriptionElement(){var m=this.chart.options.accessibility.linkedDescription;if(m){if(typeof m!="string")return m;if(m=P(m,this.chart),m=H.querySelectorAll(m),m.length===1)return m[0]}}setLinkedDescriptionAttrs(){const m=this.linkedDescriptionElement;m&&(m.setAttribute("aria-hidden","true"),U(m,"highcharts-linked-description"))}updateScreenReaderSection(m){const g=this.chart,b=this.screenReaderSections[m],A=b.buildContent(g),X=b.element=b.element||this.createElement("div"),Y=X.firstChild||this.createElement("div");A?(this.setScreenReaderSectionAttribs(X,m),s.setElementHTML(Y,A),X.appendChild(Y),b.insertIntoDOM(X,g),g.styledMode?U(Y,"highcharts-visually-hidden"):$(Y),S(g,Y),b.afterInserted&&b.afterInserted()):(X.parentNode&&X.parentNode.removeChild(X),b.element=null)}setScreenReaderSectionAttribs(m,g){const b=this.chart,A=b.langFormat("accessibility.screenReaderSection."+g+"RegionLabel",{chart:b,chartTitle:M(b)});V(m,{id:`highcharts-screen-reader-region-${g}-${b.index}`,"aria-label":A||void 0}),m.style.position="relative",A&&m.setAttribute("role",b.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var m=this.chart;const g=m.options.accessibility.screenReaderSection.beforeChartFormat;if(!g)return"";var b=this.getAxesDescription();const A=m.sonify&&m.options.sonification&&m.options.sonification.enabled,X="highcharts-a11y-sonify-data-btn-"+m.index,Y="hc-linkto-highcharts-data-table-"+m.index,K=L(m),le=m.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:m});return b={headingTagName:ie(m.renderTo),chartTitle:M(m),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:b.xAxis,yAxisDescription:b.yAxis,playAsSoundButton:A?this.getSonifyButtonText(X):"",viewTableButton:m.getCSV?this.getDataTableButtonText(Y):"",annotationsTitle:K?le:"",annotationsList:K},m=r.i18nFormat(g,b,m),this.dataTableButtonId=Y,this.sonifyButtonId=X,m.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){const m=this.chart,g=m.options.accessibility.screenReaderSection.afterChartFormat;if(!g)return"";const b={endOfChartMarker:this.getEndOfChartMarkerText()};return r.i18nFormat(g,b,m).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){const m=this.linkedDescriptionElement;return te(m&&m.innerHTML||"")}getLongdescText(){const m=this.chart.options;var g=m.caption;g=g&&g.text;const b=this.getLinkedDescription();return m.accessibility.description||b||g||""}getTypeDescriptionText(){const m=this.chart;return m.types?m.options.accessibility.typeDescription||q(m,m.types):""}getDataTableButtonText(m){var g=this.chart;return g=g.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:g,chartTitle:M(g)}),'<button id="'+m+'">'+g+"</button>"}getSonifyButtonText(m){var g=this.chart;return g.options.sonification&&g.options.sonification.enabled===!1?"":(g=g.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:g,chartTitle:M(g)}),'<button id="'+m+'">'+g+"</button>")}getSubtitleText(){const m=this.chart.options.subtitle;return te(m&&m.text||"")}getEndOfChartMarkerText(){const m=this.chart,g=m.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:m});return'<div id="highcharts-end-of-chart-marker-'+m.index+'">'+g+"</div>"}onDataTableCreated(m){const g=this.chart;if(g.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const b=m.tree.attributes||{};b.tabindex=-1,b.summary=g.langFormat("accessibility.table.tableSummary",{chart:g}),m.tree.attributes=b}}focusDataTable(){var m=this.dataTableDiv;(m=m&&m.getElementsByTagName("table")[0])&&m.focus&&m.focus()}initSonifyButton(m){const g=this.sonifyButton=E(m),b=this.chart,A=X=>{g&&(g.setAttribute("aria-hidden","true"),g.setAttribute("aria-label","")),X.preventDefault(),X.stopPropagation(),X=b.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:b}),this.announcer.announce(X),setTimeout(()=>{g&&(g.removeAttribute("aria-hidden"),g.removeAttribute("aria-label")),b.sonify&&b.sonify()},1e3)};g&&b&&(g.setAttribute("tabindex",-1),g.onclick=function(X){(b.options.accessibility&&b.options.accessibility.screenReaderSection.onPlayAsSoundClick||A).call(this,X,b)})}initDataTableButton(m){const g=this.viewDataTableButton=E(m),b=this.chart;m=m.replace("hc-linkto-",""),g&&(V(g,{tabindex:-1,"aria-expanded":!!E(m)}),g.onclick=b.options.accessibility.screenReaderSection.onViewDataTableClick||function(){b.viewData()})}getAxesDescription(){const m=this.chart;var g=function(Y,K){return Y=m[Y],1<Y.length||Y[0]&&j(Y[0].options.accessibility&&Y[0].options.accessibility.enabled,K)},b=!!m.types&&0>m.types.indexOf("map")&&0>m.types.indexOf("treemap")&&0>m.types.indexOf("tilemap");const A=!!m.hasCartesianSeries,X=g("xAxis",!m.angular&&A&&b);return g=g("yAxis",A&&b),b={},X&&(b.xAxis=this.getAxisDescriptionText("xAxis")),g&&(b.yAxis=this.getAxisDescriptionText("yAxis")),b}getAxisDescriptionText(m){const g=this.chart,b=g[m];return g.langFormat("accessibility.axis."+m+"Description"+(1<b.length?"Plural":"Singular"),{chart:g,names:b.map(function(A){return O(A)}),ranges:b.map(function(A){return G(A)}),numAxes:b.length})}destroy(){this.announcer&&this.announcer.destroy()}}return w}),n(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s,v){const{attr:R}=o,{getChartTitle:J,unhideChartElementFromAT:k}=s,{getFakeMouseEvent:z}=v;class q extends d{init(){const O=this.chart,G=this;this.addEvent(O,"exportMenuShown",function(){G.onMenuShown()}),this.addEvent(O,"exportMenuHidden",function(){G.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const O=this.chart.exportContextMenu;O&&O.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const O=this.chart,G=O.exportContextMenu;G&&(this.addAccessibleContextMenuAttribs(),k(O,G)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(O){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",O)}onChartRender(){const O=this.chart,G=O.focusElement,M=O.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&G&&G===O.exportingGroup&&(G.focusBorder?O.setFocusToElement(G,this.exportButtonProxy.buttonElement):M&&M.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const O=this.chart,G=this.proxyProvider,M=O.exportSVGElements&&O.exportSVGElements[0];{var S=O.options.exporting;const P=O.exportSVGElements&&O.exportSVGElements[0];S=!!(S&&S.enabled!==!1&&S.accessibility&&S.accessibility.enabled&&P&&P.element)}S&&M&&(this.exportButtonProxy=G.addProxyElement("chartMenu",{click:M},{"aria-label":O.langFormat("accessibility.exporting.menuButtonLabel",{chart:O,chartTitle:J(O)}),"aria-expanded":!1,title:O.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const O=this.chart;var G=O.exportDivElements;G&&G.length&&(G.forEach(M=>{M&&(M.tagName!=="LI"||M.children&&M.children.length?M.setAttribute("aria-hidden","true"):M.setAttribute("tabindex",-1))}),(G=G[0]&&G[0].parentNode)&&R(G,{"aria-hidden":void 0,"aria-label":O.langFormat("accessibility.exporting.chartMenuLabel",{chart:O}),role:"list"}))}getKeyboardNavigation(){const O=this.keyCodes,G=this.chart,M=this;return new h(G,{keyCodeMap:[[[O.left,O.up],function(){return M.onKbdPrevious(this)}],[[O.right,O.down],function(){return M.onKbdNext(this)}],[[O.enter,O.space],function(){return M.onKbdClick(this)}]],validate:function(){return!!G.exporting&&G.options.exporting.enabled!==!1&&G.options.exporting.accessibility.enabled!==!1},init:function(){const S=M.exportButtonProxy,P=M.chart.exportingGroup;S&&P&&G.setFocusToElement(P,S.buttonElement)},terminate:function(){G.hideExportMenu()}})}onKbdPrevious(O){const G=this.chart,M=G.options.accessibility;O=O.response;let S=G.highlightedExportItemIx||0;for(;S--;)if(G.highlightExportItem(S))return O.success;return M.keyboardNavigation.wrapAround?(G.highlightLastExportItem(),O.success):O.prev}onKbdNext(O){const G=this.chart,M=G.options.accessibility;O=O.response;for(let S=(G.highlightedExportItemIx||0)+1;S<G.exportDivElements.length;++S)if(G.highlightExportItem(S))return O.success;return M.keyboardNavigation.wrapAround?(G.highlightExportItem(0),O.success):O.next}onKbdClick(O){const G=this.chart,M=G.exportDivElements[G.highlightedExportItemIx],S=(G.exportSVGElements&&G.exportSVGElements[0]).element;return G.openMenu?this.fakeClickEvent(M):(this.fakeClickEvent(S),G.highlightExportItem(0)),O.response.success}}return function(L){function O(){var H=this.exportSVGElements&&this.exportSVGElements[0];H&&(H=H.element,H.onclick)&&H.onclick(z("click"))}function G(){const H=this.exportDivElements;H&&this.exportContextMenu&&this.openMenu&&(H.forEach(U=>{U&&U.className==="highcharts-menu-item"&&U.onmouseout&&U.onmouseout(z("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function M(H){const U=this.exportDivElements&&this.exportDivElements[H],E=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(U&&U.tagName==="LI"&&(!U.children||!U.children.length)){const ie=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return U.focus&&ie&&U.focus(),E&&E.onmouseout&&E.onmouseout(z("mouseout")),U.onmouseover&&U.onmouseover(z("mouseover")),this.highlightedExportItemIx=H,!0}return!1}function S(){if(this.exportDivElements){let H=this.exportDivElements.length;for(;H--;)if(this.highlightExportItem(H))return!0}return!1}const P=[];L.compose=function(H){o.pushUnique(P,H)&&(H=r.prototype,H.hideExportMenu=G,H.highlightExportItem=M,H.highlightLastExportItem=S,H.showExportMenu=O)}}(q||(q={})),q}),n(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s){const{doc:v,win:R}=r,{addEvent:J,fireEvent:k}=d,{getElement:z,simulatedEventTarget:q}=s;class L{constructor(G,M){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(G,M)}init(G,M){const S=this.eventProvider=new h;this.chart=G,this.components=M,this.modules=[],this.currentModuleIx=0,this.update(),S.addEvent(this.tabindexContainer,"keydown",P=>this.onKeydown(P)),S.addEvent(this.tabindexContainer,"focus",P=>this.onFocus(P)),["mouseup","touchend"].forEach(P=>S.addEvent(v,P,H=>this.onMouseUp(H))),["mousedown","touchstart"].forEach(P=>S.addEvent(G.renderTo,P,()=>{this.isClickingChart=!0}))}update(G){var M=this.chart.options.accessibility;M=M&&M.keyboardNavigation;const S=this.components;this.updateContainerTabindex(),M&&M.enabled&&G&&G.length?(this.modules=G.reduce(function(P,H){return H=S[H].getKeyboardNavigation(),P.concat(H)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const G=z(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),G?(this.makeElementAnExitAnchor(G),this.exitAnchor=G):this.createExitAnchor()}move(G){var M=this.modules&&this.modules[this.currentModuleIx];if(M&&M.terminate&&M.terminate(G),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=G,M=this.modules&&this.modules[this.currentModuleIx]){if(M.validate&&!M.validate())return this.move(G);if(M.init)return M.init(G),!0}return this.currentModuleIx=0,this.exiting=!0,0<G?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(G){var M=this.chart;G=G.relatedTarget&&M.container.contains(G.relatedTarget),!(M=(M=M.options.accessibility)&&M.keyboardNavigation)||!M.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||G||(G=this.getFirstValidModuleIx(),G!==null&&(this.currentModuleIx=G,this.modules[G].init(1))),this.exiting=!1}onMouseUp(G){if(delete this.isClickingChart,!this.keyboardReset&&G.relatedTarget!==q){const M=this.chart;G.target&&M.container.contains(G.target)||((G=this.modules&&this.modules[this.currentModuleIx||0])&&G.terminate&&G.terminate(),this.currentModuleIx=0),M.focusElement&&(M.focusElement.removeFocusBorder(),delete M.focusElement),this.keyboardReset=!0}}onKeydown(G){G=G||R.event;const M=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let S;if(this.exiting=this.keyboardReset=!1,M){const P=M.run(G);P===M.response.success?S=!0:P===M.response.prev?S=this.move(-1):P===M.response.next&&(S=this.move(1)),S&&(G.preventDefault(),G.stopPropagation())}}updateContainerTabindex(){var G=this.chart.options.accessibility;G=G&&G.keyboardNavigation,G=!(G&&G.enabled===!1);const M=this.chart;var S=M.container;M.renderTo.hasAttribute("tabindex")&&(S.removeAttribute("tabindex"),S=M.renderTo),this.tabindexContainer=S;const P=S.getAttribute("tabindex");G&&!P?S.setAttribute("tabindex","0"):G||M.container.removeAttribute("tabindex")}createExitAnchor(){const G=this.chart,M=this.exitAnchor=v.createElement("div");G.renderTo.appendChild(M),this.makeElementAnExitAnchor(M)}makeElementAnExitAnchor(G){const M=this.tabindexContainer.getAttribute("tabindex")||0;G.setAttribute("class","highcharts-exit-anchor"),G.setAttribute("tabindex",M),G.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(G)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(G){const M=this.chart,S=this;this.eventProvider.addEvent(G,"focus",function(P){P=P||R.event;const H=!(P.relatedTarget&&M.container.contains(P.relatedTarget)||S.exiting);M.focusElement&&delete M.focusElement,H?(S.tabbingInBackwards=!0,S.tabindexContainer.focus(),delete S.tabbingInBackwards,P.preventDefault(),S.modules&&S.modules.length&&(S.currentModuleIx=S.modules.length-1,(P=S.modules[S.currentModuleIx])&&P.validate&&!P.validate()?S.move(-1):P&&P.init(-1))):S.exiting=!1})}getFirstValidModuleIx(){const G=this.modules.length;for(let M=0;M<G;++M){const S=this.modules[M];if(!S.validate||S.validate())return M}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(O){function G(){const P=this;k(this,"dismissPopupContent",{},function(){P.tooltip&&P.tooltip.hide(0),P.hideExportMenu()})}function M(P){(P.which||P.keyCode)===27&&r.charts&&r.charts.forEach(H=>{H&&H.dismissPopupContent&&H.dismissPopupContent()})}const S=[];O.compose=function(P){return o.compose(P),d.pushUnique(S,P)&&(P.prototype.dismissPopupContent=G),d.pushUnique(S,v)&&J(v,"keydown",M),P}}(L||(L={})),L}),n(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s,v,R,J){function k($){const V=$.legend&&$.legend.allItems,j=$.options.legend.accessibility||{};return $=$.colorAxis&&$.colorAxis.some(w=>!w.dataClasses||!w.dataClasses.length),!(!V||!V.length||$||j.enabled===!1)}function z($,V){const j=V.legendItem||{};V.setState($?"hover":"",!0);for(const w of["group","label","symbol"])(V=(V=j[w])&&V.element||V)&&G(V,$?"mouseover":"mouseout")}const{animObject:q}=r,{doc:L}=o,{addEvent:O,fireEvent:G,isNumber:M,pick:S,syncTimeout:P}=h,{getChartTitle:H}=R,{stripHTMLTagsFromString:U,addClass:E,removeClass:ie}=J;class te extends s{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const V=this;this.recreateProxies(),this.addEvent(d,"afterScroll",function(){this.chart===V.chart&&(V.proxyProvider.updateGroupProxyElementPositions("legend"),V.updateLegendItemProxyVisibility(),-1<V.highlightedLegendItemIx&&this.chart.highlightLegendItem(V.highlightedLegendItemIx))}),this.addEvent(d,"afterPositionItem",function(j){this.chart===V.chart&&this.chart.renderer&&V.updateProxyPositionForItem(j.item)}),this.addEvent(d,"afterRender",function(){this.chart===V.chart&&this.chart.renderer&&V.recreateProxies()&&P(()=>V.proxyProvider.updateGroupProxyElementPositions("legend"),q(S(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const V=this.chart,j=V.legend,w=j.currentPage||1,I=j.clipHeight||0;let m;(j.allItems||[]).forEach(g=>{if(g.a11yProxyElement){var b=j.pages&&j.pages.length;const X=g.a11yProxyElement.element;var A=!1;m=g.legendItem||{},b&&(g=m.pageIx||0,b=m.y||0,A=m.label?Math.round(m.label.getBBox().height):0,A=b+A-j.pages[g]>I||g!==w-1),A?V.styledMode?E(X,"highcharts-a11y-invisible"):X.style.visibility="hidden":(ie(X,"highcharts-a11y-invisible"),X.style.visibility="")}})}onChartRender(){k(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(V){const j=this.chart;var w=j.legend;V=(w.currentPage||1)+V;var I=w.pages||[];if(0<V&&V<=I.length){I=0;for(const m of w.allItems)((m.legendItem||{}).pageIx||0)+1===V&&(w=j.highlightLegendItem(I))&&(this.highlightedLegendItemIx=I),++I}}updateProxyPositionForItem(V){V.a11yProxyElement&&V.a11yProxyElement.refreshPosition()}recreateProxies(){var V=L.activeElement;const j=this.proxyGroup;return V=V&&j&&j.contains(V),this.removeProxies(),k(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),V&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0):!1}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var V=this.chart;const j=U((V.legend&&V.legend.options.title&&V.legend.options.title.text||"").replace(/<br ?\/?>/g," "));V=V.langFormat("accessibility.legend.legendLabel"+(j?"":"NoTitle"),{chart:V,legendTitle:j,chartTitle:H(V)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":V})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null})}proxyLegendItems(){const V=this;let j;((this.chart.legend||{}).allItems||[]).forEach(w=>{j=w.legendItem||{},j.label&&j.label.element&&V.proxyLegendItem(w)})}proxyLegendItem(V){const j=V.legendItem||{};if(j.label&&j.group){var w=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:U(V.name),item:V});V.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:j.label,visual:(j.group.div?j.label:j.group).element},{tabindex:-1,"aria-pressed":V.visible,"aria-label":w})}}getKeyboardNavigation(){const V=this.keyCodes,j=this,w=this.chart;return new v(w,{keyCodeMap:[[[V.left,V.right,V.up,V.down],function(I){return j.onKbdArrowKey(this,I)}],[[V.enter,V.space],function(){return j.onKbdClick(this)}],[[V.pageDown,V.pageUp],function(I){return j.highlightAdjacentLegendPage(I===V.pageDown?1:-1),this.response.success}]],validate:function(){return j.shouldHaveLegendNavigation()},init:function(){w.highlightLegendItem(0),j.highlightedLegendItemIx=0},terminate:function(){j.highlightedLegendItemIx=-1,w.legend.allItems.forEach(I=>z(!1,I))}})}onKbdArrowKey(V,j){const w=this.keyCodes,I=V.response,m=this.chart,g=m.options.accessibility,b=m.legend.allItems.length;return j=j===w.left||j===w.up?-1:1,m.highlightLegendItem(this.highlightedLegendItemIx+j)?(this.highlightedLegendItemIx+=j,I.success):(1<b&&g.keyboardNavigation.wrapAround&&V.init(j),I.success)}onKbdClick(V){const j=this.chart.legend.allItems[this.highlightedLegendItemIx];return j&&j.a11yProxyElement&&j.a11yProxyElement.click(),V.response.success}shouldHaveLegendNavigation(){if(!k(this.chart))return!1;const V=this.chart,j=(V.options.legend||{}).accessibility||{};return!!(V.legend.display&&j.keyboardNavigation&&j.keyboardNavigation.enabled)}}return function($){function V(I){var m=this.legend.allItems,g=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const b=m[I];var A=b.legendItem||{};return b?(M(g)&&m[g]&&z(!1,m[g]),m=this.legend,I=(m.allItems[I].legendItem||{}).pageIx,g=m.currentPage,typeof I<"u"&&I+1!==g&&m.scroll(1+I-g),A=A.label,I=b.a11yProxyElement&&b.a11yProxyElement.buttonElement,A&&A.element&&I&&this.setFocusToElement(A,I),z(!0,b),!0):!1}function j(I){const m=I.item;this.chart.options.accessibility.enabled&&m&&m.a11yProxyElement&&m.a11yProxyElement.buttonElement.setAttribute("aria-pressed",I.visible?"true":"false")}const w=[];$.compose=function(I,m){h.pushUnique(w,I)&&(I.prototype.highlightLegendItem=V),h.pushUnique(w,m)&&O(m,"afterColorizeItem",j)}}(te||(te={})),te}),n(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){function v(b){const A=b.index;return b.series&&b.series.data&&g(A)&&w(b.series.data,function(X){return!!(X&&typeof X.index<"u"&&X.index>A&&X.graphic&&X.graphic.element)})||null}function R(b){const A=b.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(A!==!1&&b.points&&b.points.length>=A)}function J(b){const A=b.options.accessibility||{};return!R(b)&&!A.exposeAsGroupOnly}function k(b){const A=b.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!b.points||!(b.points.length<A.pointNavigationEnabledThreshold||A.pointNavigationEnabledThreshold===!1))}function z(b,A){var X=b.series,Y=X.chart;b=Y.options.accessibility.point||{};const K=X.options.accessibility&&X.options.accessibility.point||{};return X=X.tooltipOptions||{},Y=Y.options.lang,I(A)?$(A,K.valueDecimals||b.valueDecimals||X.valueDecimals||-1,Y.decimalPoint,Y.accessibility.thousandsSep||Y.thousandsSep):A}function q(b){const A=(b.options.accessibility||{}).description;return A&&b.chart.langFormat("accessibility.series.description",{description:A,series:b})||""}function L(b,A){return b.chart.langFormat("accessibility.series."+A+"Description",{name:H(b[A]),series:b})}function O(b,A,X){const Y=A||"",K=X||"";return b.series.pointArrayMap.reduce(function(le,he){{const pe=z(b,m(b[he],b.options[he]));he=pe!==void 0?he+": "+Y+pe+K:pe}return he?le+(le.length?", ":"")+he:le},"")}function G(b){var A=b.series,X=1<A.chart.series.length||A.options.name,Y=b.series,K=Y.chart,le=Y.options.accessibility;if(le=le&&le.point&&le.point.valueDescriptionFormat||K.options.accessibility.point.valueDescriptionFormat,Y=m(Y.xAxis&&Y.xAxis.options.accessibility&&Y.xAxis.options.accessibility.enabled,!K.angular&&Y.type!=="flowmap"),Y){var he=b.series,pe=he.chart,F=he.options.accessibility&&he.options.accessibility.point||{},Q=pe.options.accessibility.point||{};(he=he.xAxis&&he.xAxis.dateTime)?(he=he.getXDateFormat(b.x||0,pe.options.tooltip.dateTimeLabelFormats),F=F.dateFormatter&&F.dateFormatter(b)||Q.dateFormatter&&Q.dateFormatter(b)||F.dateFormat||Q.dateFormat||he,pe=pe.time.dateFormat(F,b.x||0,void 0)):pe=void 0,F=(b.series.xAxis||{}).categories&&g(b.category)&&(""+b.category).replace("<br/>"," "),Q=g(b.id)&&0>(""+b.id).indexOf("highcharts-"),he="x, "+b.x,pe=b.name||pe||F||(Q?b.id:he)}else pe="";F=pe,pe=g(b.index)?b.index+1:"";{Q=b.series;var ce=Q.chart.options.accessibility.point||{},ge=Q.chart.options.accessibility&&Q.chart.options.accessibility.point||{};const ke=Q.tooltipOptions||{};he=ge.valuePrefix||ce.valuePrefix||ke.valuePrefix||"",ce=ge.valueSuffix||ce.valueSuffix||ke.valueSuffix||"",ge=z(b,b[typeof b.value<"u"?"value":"y"]),Q=b.isNull?Q.chart.langFormat("accessibility.series.nullPointValue",{point:b}):Q.pointArrayMap?O(b,he,ce):he+ge+ce}return K=te(le,{point:b,index:pe,xDescription:F,value:Q,separator:Y?", ":""},K),le=(le=b.options&&b.options.accessibility&&b.options.accessibility.description)?" "+le:"",A=X?" "+A.name+".":"",X=b.series.chart,Y=P(b),pe={point:b,annotations:Y},X=Y.length?X.langFormat("accessibility.series.pointAnnotationsDescription",pe):"",b.accessibility=b.accessibility||{},b.accessibility.valueDescription=K,K+le+A+(X?" "+X:"")}function M(b){const A=J(b),X=k(b),Y=b.chart.options.accessibility.point.describeNull;(A||X)&&b.points.forEach(K=>{var le;if(!(le=K.graphic&&K.graphic.element)){var he=K.series;if(le=he&&he.chart,he=he&&he.is("sunburst"),le=le&&le.options.accessibility.point.describeNull,le=K.isNull&&!he&&le){he=K.series;var pe=v(K);he=(le=pe&&pe.graphic)?le.parentGroup:he.graph||he.group,pe=pe?{x:m(K.plotX,pe.plotX,0),y:m(K.plotY,pe.plotY,0)}:{x:m(K.plotX,0),y:m(K.plotY,0)},pe=K.series.chart.renderer.rect(pe.x,pe.y,1,1),pe.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),he&&he.element?(K.graphic=pe,K.hasMockGraphic=!0,pe.add(he),he.element.insertBefore(pe.element,le?le.element:null),le=pe.element):le=void 0}}he=K.options&&K.options.accessibility&&K.options.accessibility.enabled===!1,le&&(K.isNull&&!Y?le.setAttribute("aria-hidden",!0):(le.setAttribute("tabindex","-1"),b.chart.styledMode||(le.style.outline="none"),A&&!he?(pe=K.series,he=pe.chart.options.accessibility.point||{},pe=pe.options.accessibility&&pe.options.accessibility.point||{},K=j(pe.descriptionFormatter&&pe.descriptionFormatter(K)||he.descriptionFormatter&&he.descriptionFormatter(K)||G(K)),le.setAttribute("role","img"),le.setAttribute("aria-label",K)):le.setAttribute("aria-hidden",!0)))})}function S(b){const A=b.chart;var X=A.types||[];const Y=q(b);var K=function(Q){return A[Q]&&1<A[Q].length&&b[Q]};const le=b.index+1;var he=L(b,"xAxis");const pe=L(b,"yAxis");var F={seriesNumber:le,series:b,chart:A};return X=1<X.length?"Combination":"",F=A.langFormat("accessibility.series.summary."+b.type+X,F)||A.langFormat("accessibility.series.summary.default"+X,F),K=(K("yAxis")?" "+pe+".":"")+(K("xAxis")?" "+he+".":""),he=m(b.options.accessibility&&b.options.accessibility.descriptionFormat,A.options.accessibility.series.descriptionFormat,""),te(he,{seriesDescription:F,authorDescription:Y?" "+Y:"",axisDescription:K,series:b,chart:A,seriesNumber:le},void 0)}const{getPointAnnotationTexts:P}=r,{getAxisDescription:H,getSeriesFirstPointElement:U,getSeriesA11yElement:E,unhideChartElementFromAT:ie}=o,{format:te,numberFormat:$}=d,{reverseChildNodes:V,stripHTMLTagsFromString:j}=h,{find:w,isNumber:I,pick:m,defined:g}=s;return{defaultPointDescriptionFormatter:G,defaultSeriesDescriptionFormatter:S,describeSeries:function(b){var A=b.chart,X=U(b);const Y=E(b);var K=A.is3d&&A.is3d();if(Y){Y.lastChild!==X||K||V(Y),M(b),ie(A,Y);{K=b.chart,A=K.options.chart,X=1<K.series.length,K=K.options.accessibility.series.describeSingleSeries;const le=(b.options.accessibility||{}).exposeAsGroupOnly;A=!(A.options3d&&A.options3d.enabled&&X)&&(X||K||le||R(b))}A?(A=b.chart.options.accessibility,X=A.landmarkVerbosity,(b.options.accessibility||{}).exposeAsGroupOnly?Y.setAttribute("role","img"):X==="all"?Y.setAttribute("role","region"):Y.setAttribute("role","group"),Y.setAttribute("tabindex","-1"),b.chart.styledMode||(Y.style.outline="none"),Y.setAttribute("aria-label",j(A.series.descriptionFormatter&&A.series.descriptionFormatter(b)||S(b)))):Y.removeAttribute("aria-label")}}}}),n(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,o,d,h,s,v){function R(M){const S=M.series.data.filter(P=>M.x===P.x&&M.y===P.y);return S.length===1?S[0]:M}function J(M,S){const P=(M||[]).concat(S||[]).reduce((H,U)=>(H[U.name+U.index]=U,H),{});return Object.keys(P).map(H=>P[H])}const{addEvent:k,defined:z}=o,{getChartTitle:q}=h,{defaultPointDescriptionFormatter:L,defaultSeriesDescriptionFormatter:O}=v;class G{constructor(S){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=S}init(){const S=this.chart,P=S.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new s,this.announcer=new d(S,P),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const S=this,P=this.chart,H=this.eventProvider;H.addEvent(P,"afterApplyDrilldown",function(){S.lastAnnouncementTime=0}),H.addEvent(P,"afterAddSeries",function(U){S.onSeriesAdded(U.series)}),H.addEvent(P,"redraw",function(){S.announceDirtyData()})}onSeriesAdded(S){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[S.name+S.index]=S,this.dirty.newSeries=z(this.dirty.newSeries)?void 0:S)}announceDirtyData(){const S=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let P=this.dirty.newPoint;P&&(P=R(P)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(H=>S.dirty.allSeries[H]),this.dirty.newSeries,P),this.dirty={allSeries:{}}}}queueAnnouncement(S,P,H){var U=this.chart.options.accessibility.announceNewData;if(U.enabled){const E=+new Date;U=Math.max(0,U.minAnnounceInterval-(E-this.lastAnnouncementTime)),S=J(this.queuedAnnouncement&&this.queuedAnnouncement.series,S),(P=this.buildAnnouncementMessage(S,P,H))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:E,message:P,series:S},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},U))}}buildAnnouncementMessage(S,P,H){const U=this.chart;var E=U.options.accessibility.announceNewData;return E.announcementFormatter&&(S=E.announcementFormatter(S,P,H),S!==!1)?S.length?S:null:(S=r.charts&&1<r.charts.length?"Multiple":"Single",S=P?"newSeriesAnnounce"+S:H?"newPointAnnounce"+S:"newDataAnnounce",E=q(U),U.langFormat("accessibility.announceNewData."+S,{chartTitle:E,seriesDesc:P?O(P):null,pointDesc:H?L(H):null,point:H,series:P}))}}return function(M){function S(H){const U=this.chart,E=this.newDataAnnouncer;E&&E.chart===U&&U.options.accessibility.announceNewData.enabled&&(E.dirty.newPoint=z(E.dirty.newPoint)?void 0:H.point)}function P(){const H=this.chart,U=this.newDataAnnouncer;U&&U.chart===H&&H.options.accessibility.announceNewData.enabled&&(U.dirty.hasDirty=!0,U.dirty.allSeries[this.name+this.index]=this)}M.composedMembers=[],M.compose=function(H){o.pushUnique(M.composedMembers,H)&&(k(H,"addPoint",S),k(H,"updatedData",P))}}(G||(G={})),G}),n(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s){const{doc:v}=r,{attr:R,css:J,merge:k}=o,{fireEventOnWrappedOrUnwrappedElement:z}=h,{cloneMouseEvent:q,cloneTouchEvent:L,getFakeMouseEvent:O,removeElement:G}=s;class M{constructor(P,H,U,E){this.chart=P,this.target=H,this.groupType=U,U=U==="ul",this.eventProvider=new d;const ie=U?v.createElement("li"):null,te=this.buttonElement=v.createElement("button");P.styledMode||this.hideButtonVisually(te),ie?(U&&!P.styledMode&&(ie.style.listStyle="none"),ie.appendChild(te),this.element=ie):this.element=te,this.updateTarget(H,E)}click(){var P=this.getTargetPosition();P.x+=P.width/2,P.y+=P.height/2,P=O("click",P),z(this.target.click,P)}updateTarget(P,H){this.target=P,this.updateCSSClassName();const U=H||{};Object.keys(U).forEach(E=>{U[E]===null&&delete U[E]}),R(this.buttonElement,k({"aria-label":this.getTargetAttr(P.click,"aria-label")},U)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,P.click),this.refreshPosition()}refreshPosition(){const P=this.getTargetPosition();J(this.buttonElement,{width:(P.width||1)+"px",height:(P.height||1)+"px",left:(Math.round(P.x)||0)+"px",top:(Math.round(P.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),G(this.element)}updateCSSClassName(){var P=this.chart.legend;P=P.group&&P.group.div,P=-1<(P&&P.className||"").indexOf("highcharts-no-tooltip");const H=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=P||H?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(P,H){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(U=>{const E=U.indexOf("touch")===0;this.eventProvider.addEvent(P,U,ie=>{const te=E?L(ie):q(ie);H&&z(H,te),ie.stopPropagation(),E||ie.preventDefault()},{passive:!1})})}hideButtonVisually(P){J(P,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var P=this.target.click;if(P=P.element?P.element:P,P=this.target.visual||P,this.chart.renderTo&&P&&P.getBoundingClientRect){P=P.getBoundingClientRect();const H=this.chart.pointer.getChartPosition();return{x:(P.left-H.left)/H.scaleX,y:(P.top-H.top)/H.scaleY,width:P.right/H.scaleX-P.left/H.scaleX,height:P.bottom/H.scaleY-P.top/H.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(P,H){return P.element?P.element.getAttribute(H):P.getAttribute(H)}}return M}),n(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(r,o,d,h,s,v){const{doc:R}=r,{attr:J,css:k}=o,{unhideChartElementFromAT:z}=d,{removeElement:q,removeChildNodes:L}=s;class O{constructor(M){this.chart=M,this.domElementProvider=new h,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(M,S,P){const H=this.groups[M];if(!H)throw Error("ProxyProvider.addProxyElement: Invalid group key "+M);return M=new v(this.chart,S,H.type,P),H.proxyContainerElement.appendChild(M.element),H.proxyElements.push(M),M}addGroup(M,S,P){var H=this.groups[M];if(H)return H.groupElement;H=this.domElementProvider.createElement(S);let U;return P&&P.role&&S!=="div"?(U=this.domElementProvider.createElement("div"),U.appendChild(H)):U=H,U.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+M.replace(/\W/g,"-"),this.groups[M]={proxyContainerElement:H,groupElement:U,type:S,proxyElements:[]},J(U,P||{}),S==="ul"&&H.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(U),this.updateGroupOrder(this.groupOrder),U}updateGroupAttrs(M,S){const P=this.groups[M];if(!P)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+M);J(P.groupElement,S)}updateGroupOrder(M){if(this.groupOrder=M.slice(),!this.isDOMOrderGroupOrder()){var S=M.indexOf("series"),P=-1<S?M.slice(0,S):M,H=-1<S?M.slice(S+1):[];M=R.activeElement,["before","after"].forEach(U=>{const E=this[U==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];U=U==="before"?P:H,L(E),U.forEach(ie=>{(ie=this.groups[ie])&&E.appendChild(ie.groupElement)})}),(this.beforeChartProxyPosContainer.contains(M)||this.afterChartProxyPosContainer.contains(M))&&M&&M.focus&&M.focus()}}clearGroup(M){const S=this.groups[M];if(!S)throw Error("ProxyProvider.clearGroup: Invalid group key "+M);L(S.proxyContainerElement)}removeGroup(M){const S=this.groups[M];S&&(q(S.groupElement),delete this.groups[M])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(M){(M=this.groups[M])&&M.proxyElements.forEach(S=>S.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(M){const S=this.domElementProvider.createElement("div");return S.setAttribute("aria-hidden","false"),S.className="highcharts-a11y-proxy-container"+(M?"-"+M:""),k(S,{top:"0",left:"0"}),this.chart.styledMode||(S.style.whiteSpace="nowrap",S.style.position="absolute"),S}getCurrentGroupOrderInDOM(){const M=H=>{const U=Object.keys(this.groups);let E=U.length;for(;E--;){const ie=U[E],te=this.groups[ie];if(te&&H===te.groupElement)return ie}};var S=H=>{const U=[];H=H.children;for(let E=0;E<H.length;++E){const ie=M(H[E]);ie&&U.push(ie)}return U};const P=S(this.beforeChartProxyPosContainer);return S=S(this.afterChartProxyPosContainer),P.push("series"),P.concat(S)}isDOMOrderGroupOrder(){const M=this.getCurrentGroupOrderInDOM(),S=this.groupOrder.filter(H=>H==="series"||!!this.groups[H]);let P=M.length;if(P!==S.length)return!1;for(;P--;)if(M[P]!==S[P])return!1;return!0}updatePosContainerPositions(){const M=this.chart;if(!M.renderer.forExport){var S=M.renderer.box;M.container.insertBefore(this.afterChartProxyPosContainer,S.nextSibling),M.container.insertBefore(this.beforeChartProxyPosContainer,S),z(this.chart,this.afterChartProxyPosContainer),z(this.chart,this.beforeChartProxyPosContainer)}}}return O}),n(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),n(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(r,o,d){function h(){const V=this.range,j=V.type,w=this.max,I=this.chart.time,m=function(X,Y){const K=j==="year"?"FullYear":"Month",le=new I.Date(X),he=I.get(K,le);return I.set(K,le,he+Y),he===I.get(K,le)&&I.set("Date",le,0),le.getTime()-X};let g,b;H(V)?(g=w-V,b=V):V&&(g=w+m(w,-(V.count||1)),this.chart&&(this.chart.fixedRange=w-g));const A=E(this.dataMin,Number.MIN_VALUE);return H(g)||(g=A),g<=A&&(g=A,typeof b>"u"&&(b=m(g,V.count)),this.newMax=Math.min(g+b,E(this.dataMax,Number.MAX_VALUE))),H(w)?!H(V)&&V&&V._offsetMin&&(g+=V._offsetMin):g=void 0,g}function s(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new $(this))}function v(){var V=this.axes;const j=this.rangeSelector;j&&(H(j.deferredYTDClick)&&(j.clickButton(j.deferredYTDClick),delete j.deferredYTDClick),V.forEach(w=>{w.updateNames(),w.setScale()}),this.getAxisMargins(),j.render(),V=j.options.verticalAlign,j.options.floating||(V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0)))}function R(V){let j,w,I,m;const g=V.rangeSelector,b=()=>{g&&(j=V.xAxis[0].getExtremes(),w=V.legend,m=g&&g.options.verticalAlign,H(j.min)&&g.render(j.min,j.max),w.display&&m==="top"&&m===w.options.verticalAlign&&(I=U(V.spacingBox),I.y=w.options.layout==="vertical"?V.plotTop:I.y+g.getHeight(),w.group.placed=!1,w.align(I)))};g&&(P(ie,A=>A[0]===V)||ie.push([V,[G(V.xAxis[0],"afterSetExtremes",function(A){g&&g.render(A.min,A.max)}),G(V,"redraw",b)]]),b())}function J(){for(let V=0,j=ie.length;V<j;++V){const w=ie[V];if(w[0]===this){w[1].forEach(I=>I()),ie.splice(V,1);break}}}function k(){var V=this.rangeSelector;V&&(V=V.getHeight(),this.extraTopMargin&&(this.plotTop+=V),this.extraBottomMargin&&(this.marginBottom+=V))}function z(){var V=this.rangeSelector;V&&!V.options.floating&&(V.render(),V=V.options.verticalAlign,V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0))}function q(V){var j=V.options.rangeSelector;V=this.extraBottomMargin;const w=this.extraTopMargin;let I=this.rangeSelector;j&&j.enabled&&!M(I)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=I=new $(this)),this.extraTopMargin=this.extraBottomMargin=!1,I&&(R(this),j=j&&j.verticalAlign||I.options&&I.options.verticalAlign,I.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==V||this.extraTopMargin!==w)&&(this.isDirtyBox=!0)}const{defaultOptions:L,setOptions:O}=r,{addEvent:G,defined:M,extend:S,find:P,isNumber:H,merge:U,pick:E}=d,ie=[],te=[];let $;return{compose:function(V,j,w){$=w,d.pushUnique(te,V)&&(V.prototype.minFromRange=h),d.pushUnique(te,j)&&(G(j,"afterGetContainer",s),G(j,"beforeRender",v),G(j,"destroy",J),G(j,"getMargins",k),G(j,"render",z),G(j,"update",q),j.prototype.callbacks.push(R)),d.pushUnique(te,O)&&(S(L,{rangeSelector:o.rangeSelector}),S(L.lang,o.lang))}}}),n(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){function R(j){if(j.indexOf("%L")!==-1)return"text";const w="aAdewbBmoyY".split("").some(m=>j.indexOf("%"+m)!==-1),I="HkIlMS".split("").some(m=>j.indexOf("%"+m)!==-1);return w&&I?"datetime-local":w?"date":I?"time":"text"}const{defaultOptions:J}=o,{addEvent:k,createElement:z,css:q,defined:L,destroyObjectProperties:O,discardElement:G,extend:M,fireEvent:S,isNumber:P,merge:H,objectEach:U,pad:E,pick:ie,pInt:te,splat:$}=v;class V{static compose(w,I){h.compose(w,I,V)}constructor(w){this.buttons=void 0,this.buttonOptions=V.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=w,this.init(w)}clickButton(w,I){const m=this.chart,g=this.buttonOptions[w],b=m.xAxis[0];var A=m.scroller&&m.scroller.getUnionExtremes()||b||{},X=g.type;const Y=g.dataGrouping;let K=A.dataMin,le=A.dataMax,he,pe=b&&Math.round(Math.min(b.max,ie(le,b.max))),F;A=g._range;let Q,ce,ge,ke=!0;if(K!==null&&le!==null){if(m.fixedRange=A,this.setSelected(w),Y&&(this.forcedDataGrouping=!0,r.prototype.setDataGrouping.call(b||{chart:this.chart},Y,!1),this.frozenStates=g.preserveDataGrouping),X==="month"||X==="year")b?(X={range:g,max:pe,chart:m,dataMin:K,dataMax:le},he=b.minFromRange.call(X),P(X.newMax)&&(pe=X.newMax),ke=!1):A=g;else if(A)he=Math.max(pe-A,K),pe=Math.min(he+A,le),ke=!1;else if(X==="ytd")if(b)(typeof le>"u"||typeof K>"u")&&(K=Number.MAX_VALUE,le=Number.MIN_VALUE,m.series.forEach(re=>{(re=re.xData)&&(K=Math.min(re[0],K),le=Math.max(re[re.length-1],le))}),I=!1),X=this.getYTDExtremes(le,K,m.time.useUTC),he=Q=X.min,pe=X.max;else{this.deferredYTDClick=w;return}else X==="all"&&b&&(m.navigator&&m.navigator.baseSeries[0]&&(m.navigator.baseSeries[0].xAxis.options.range=void 0),he=K,pe=le);ke&&g._offsetMin&&L(he)&&(he+=g._offsetMin),g._offsetMax&&L(pe)&&(pe+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=w+1),b?b.setExtremes(he,pe,ie(I,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(F=$(m.options.xAxis)[0],ge=F.range,F.range=A,ce=F.min,F.min=Q,k(m,"load",function(){F.range=ge,F.min=ce})),S(this,"afterBtnClick")}}setSelected(w){this.selected=this.options.selected=w}init(w){const I=this,m=w.options.rangeSelector,g=m.buttons||I.defaultButtons.slice(),b=m.selected,A=function(){const X=I.minInput,Y=I.maxInput;X&&X.blur&&S(X,"blur"),Y&&Y.blur&&S(Y,"blur")};I.chart=w,I.options=m,I.buttons=[],I.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(k(w.container,"mousedown",A)),this.eventsToUnbind.push(k(w,"resize",A)),g.forEach(I.computeButtonRange),typeof b<"u"&&g[b]&&this.clickButton(b,!1),this.eventsToUnbind.push(k(w,"load",function(){w.xAxis&&w.xAxis[0]&&k(w.xAxis[0],"setExtremes",function(X){this.max-this.min!==w.fixedRange&&X.trigger!=="rangeSelectorButton"&&X.trigger!=="updatedData"&&I.forcedDataGrouping&&!I.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const w=this;var I=this.chart;const m=this.dropdown,g=I.xAxis[0],b=Math.round(g.max-g.min),A=!g.hasVisibleSeries,X=I.scroller&&I.scroller.getUnionExtremes()||g,Y=X.dataMin,K=X.dataMax;I=w.getYTDExtremes(K,Y,I.time.useUTC);const le=I.min,he=I.max,pe=w.selected,F=w.options.allButtonsEnabled,Q=w.buttons;let ce=P(pe);w.buttonOptions.forEach((ge,ke)=>{var re=ge._range,ve=ge.type,_e=ge.count||1;const oe=Q[ke],ye=ge._offsetMax-ge._offsetMin,Se=ke===pe,Re=re>K-Y,Oe=re<g.minRange;ge=0;let Ue=!1,st=!1;re=re===b,(ve==="month"||ve==="year")&&b+36e5>=864e5*{month:28,year:365}[ve]*_e-ye&&b-36e5<=864e5*{month:31,year:366}[ve]*_e+ye?re=!0:ve==="ytd"?(re=he-le+ye===b,Ue=!Se):ve==="all"&&(re=g.max-g.min>=K-Y,st=!Se&&ce&&re),ve=!F&&(Re||Oe||st||A),_e=Se&&re||re&&!ce&&!Ue||Se&&w.frozenStates,ve?ge=3:_e&&(ce=!0,ge=2),oe.state!==ge&&(oe.setState(ge),m&&(m.options[ke+1].disabled=ve,ge===2&&(m.selectedIndex=ke+1)),ge===0&&pe===ke&&w.setSelected())})}computeButtonRange(w){const I=w.type,m=w.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[I]?w._range=g[I]*m:(I==="month"||I==="year")&&(w._range=864e5*{month:30,year:365}[I]*m),w._offsetMin=ie(w.offsetMin,0),w._offsetMax=ie(w.offsetMax,0),w._range+=w._offsetMax-w._offsetMin}getInputValue(w){w=w==="min"?this.minInput:this.maxInput;const I=this.chart.options.rangeSelector,m=this.chart.time;return w?(w.type==="text"&&I.inputDateParser||this.defaultInputDateParser)(w.value,m.useUTC,m):0}setInputValue(w,I){const m=this.options,g=this.chart.time,b=w==="min"?this.minInput:this.maxInput;if(w=w==="min"?this.minDateBox:this.maxDateBox,b){var A=b.getAttribute("data-hc-time");A=L(A)?Number(A):void 0,L(I)&&(L(A)&&b.setAttribute("data-hc-time-previous",A),b.setAttribute("data-hc-time",I),A=I),b.value=g.dateFormat(this.inputTypeFormats[b.type]||m.inputEditDateFormat,A),w&&w.attr({text:g.dateFormat(m.inputDateFormat,A)})}}setInputExtremes(w,I,m){if(w=w==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[w.type],b=this.chart.time;g&&(I=b.dateFormat(g,I),w.min!==I&&(w.min=I),m=b.dateFormat(g,m),w.max!==m&&(w.max=m))}}showInput(w){const I=w==="min"?this.minDateBox:this.maxDateBox;if((w=w==="min"?this.minInput:this.maxInput)&&I&&this.inputGroup){const m=w.type==="text",{translateX:g,translateY:b}=this.inputGroup,{inputBoxWidth:A}=this.options;q(w,{width:m?I.width+(A?-2:20)+"px":"auto",height:I.height-2+"px",border:"2px solid silver"}),m&&A?q(w,{left:g+I.x+"px",top:b+"px"}):q(w,{left:Math.min(Math.round(I.x+g-(w.offsetWidth-I.width)/2),this.chart.chartWidth-w.offsetWidth)+"px",top:b-(w.offsetHeight-I.height)/2+"px"})}}hideInput(w){(w=w==="min"?this.minInput:this.maxInput)&&q(w,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(w,I,m){var g=w.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),I)g+="Z";else{var b;(b=d.isSafari)&&(b=g,b=!(6<b.length&&(b.lastIndexOf("-")===b.length-6||b.lastIndexOf("+")===b.length-6))),b&&(b=new Date(g).getTimezoneOffset()/60,g+=0>=b?`+${E(-b)}:00`:`-${E(b)}:00`)}return g=Date.parse(g),P(g)||(w=w.split("-"),g=Date.UTC(te(w[0]),te(w[1])-1,te(w[2]))),m&&I&&P(g)&&(g+=m.getTimezoneOffset(g)),g}drawInput(w){function I(){const{maxInput:Q,minInput:ce}=A,ge=m.xAxis[0];var ke=m.scroller&&m.scroller.xAxis?m.scroller.xAxis:ge;const re=ke.dataMin;ke=ke.dataMax;let ve=A.getInputValue(w);ve!==Number(pe.getAttribute("data-hc-time-previous"))&&P(ve)&&(pe.setAttribute("data-hc-time-previous",ve),le&&Q&&P(re)?ve>Number(Q.getAttribute("data-hc-time"))?ve=void 0:ve<re&&(ve=re):ce&&P(ke)&&(ve<Number(ce.getAttribute("data-hc-time"))?ve=void 0:ve>ke&&(ve=ke)),typeof ve<"u"&&ge.setExtremes(le?ve:ge.min,le?ge.max:ve,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:m,div:g,inputGroup:b}=this,A=this,X=m.renderer.style||{};var Y=m.renderer;const K=m.options.rangeSelector,le=w==="min";var he=J.lang[le?"rangeSelectorFrom":"rangeSelectorTo"]||"";he=Y.label(he,0).addClass("highcharts-range-label").attr({padding:he?2:0,height:he?K.inputBoxHeight:0}).add(b),Y=Y.label("",0).addClass("highcharts-range-input").attr({padding:2,width:K.inputBoxWidth,height:K.inputBoxHeight,"text-align":"center"}).on("click",function(){A.showInput(w),A[w+"Input"].focus()}),m.styledMode||Y.attr({stroke:K.inputBoxBorderColor,"stroke-width":1}),Y.add(b);const pe=z("input",{name:w,className:"highcharts-range-selector"},void 0,g);pe.setAttribute("type",R(K.inputDateFormat||"%e %b %Y")),m.styledMode||(he.css(H(X,K.labelStyle)),Y.css(H({color:"#333333"},X,K.inputStyle)),q(pe,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:X.fontSize,fontFamily:X.fontFamily,top:"-9999em"},K.inputStyle))),pe.onfocus=()=>{A.showInput(w)},pe.onblur=()=>{pe===d.doc.activeElement&&I(),A.hideInput(w),A.setInputValue(w),pe.blur()};let F=!1;return pe.onchange=()=>{F||(I(),A.hideInput(w),pe.blur())},pe.onkeypress=Q=>{Q.keyCode===13&&I()},pe.onkeydown=Q=>{F=!0,Q.keyCode!==38&&Q.keyCode!==40||I()},pe.onkeyup=()=>{F=!1},{dateBox:Y,input:pe,label:he}}getPosition(){var w=this.chart;const I=w.options.rangeSelector;return w=I.verticalAlign==="top"?w.plotTop-w.axisOffset[0]:0,{buttonTop:w+I.buttonPosition.y,inputTop:w+I.inputPosition.y-10}}getYTDExtremes(w,I,m){const g=this.chart.time;var b=new g.Date(w);const A=g.get("FullYear",b);return m=m?g.Date.UTC(A,0,1):+new g.Date(A,0,1),I=Math.max(I,m),b=b.getTime(),{max:Math.min(w||b,b),min:I}}render(w,I){var m=this.chart,g=m.renderer;const b=m.container;var A=m.options;const X=A.rangeSelector,Y=ie(A.chart.style&&A.chart.style.zIndex,0)+1;if(A=X.inputEnabled,X.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=z("div",void 0,{position:"relative",height:0,zIndex:Y}),this.buttonOptions.length&&this.renderButtons(),b.parentNode&&b.parentNode.insertBefore(this.div,b),A&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),A&&(this.setInputValue("min",w),this.setInputValue("max",I),w=m.scroller&&m.scroller.getUnionExtremes()||m.xAxis[0]||{},L(w.dataMin)&&L(w.dataMax)&&(m=m.xAxis[0].minRange||0,this.setInputExtremes("min",w.dataMin,Math.min(w.dataMax,this.getInputValue("max"))-m),this.setInputExtremes("max",Math.max(w.dataMin,this.getInputValue("min"))+m,w.dataMax)),this.inputGroup)){let K=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(le=>{if(le){const{width:he}=le.getBBox();he&&(le.attr({x:K}),K+=he+X.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:w,chart:I,options:m}=this,g=J.lang,b=I.renderer,A=H(m.buttonTheme),X=A&&A.states,Y=A.width||28;delete A.width,delete A.states,this.buttonGroup=b.g("range-selector-buttons").add(this.group);const K=this.dropdown=z("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);k(K,"touchstart",()=>{K.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([le,he])=>{k(K,le,()=>{const pe=w[this.currentButtonIndex()];pe&&S(pe.element,he||le)})}),this.zoomText=b.label(g&&g.rangeSelectorZoom||"",0).attr({padding:m.buttonTheme.padding,height:m.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(m.labelStyle),A["stroke-width"]=ie(A["stroke-width"],0)),z("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,K),this.buttonOptions.forEach((le,he)=>{z("option",{textContent:le.title||le.text},void 0,K),w[he]=b.button(le.text,0,0,pe=>{const F=le.events&&le.events.click;let Q;F&&(Q=F.call(le,pe)),Q!==!1&&this.clickButton(he),this.isActive=!0},A,X&&X.hover,X&&X.select,X&&X.disabled).attr({"text-align":"center",width:Y}).add(this.buttonGroup),le.title&&w[he].attr("title",le.title)})}alignElements(){const{buttonGroup:w,buttons:I,chart:m,group:g,inputGroup:b,options:A,zoomText:X}=this;var Y=m.options;const K=Y.exporting&&Y.exporting.enabled!==!1&&Y.navigation&&Y.navigation.buttonOptions,{buttonPosition:le,inputPosition:he,verticalAlign:pe}=A;Y=(ge,ke)=>K&&this.titleCollision(m)&&pe==="top"&&ke.align==="right"&&ke.y-ge.getBBox().height-12<(K.y||0)+(K.height||0)+m.spacing[0]?-40:0;var F=m.plotLeft;if(g&&le&&he){var Q=le.x-m.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){let ve=0;X&&(ve+=X.getBBox().width+5),I.forEach((_e,oe)=>{ve+=_e.width,oe!==I.length-1&&(ve+=A.buttonSpacing)}),this.initialButtonGroupWidth=ve}F-=m.spacing[3],this.updateButtonStates();var ce=Y(w,le);this.alignButtonGroup(ce),g.placed=w.placed=m.hasLoaded}ce=0,b&&(ce=Y(b,he),he.align==="left"?Q=F:he.align==="right"&&(Q=-Math.max(m.axisOffset[1],-ce)),b.align({y:he.y,width:b.getBBox().width,align:he.align,x:he.x+Q-2},!0,m.spacingBox),b.placed=m.hasLoaded),this.handleCollision(ce),g.align({verticalAlign:pe},!0,m.spacingBox),Y=g.alignAttr.translateY,F=g.getBBox().height+20,Q=0,pe==="bottom"&&(Q=(Q=m.legend&&m.legend.options)&&Q.verticalAlign==="bottom"&&Q.enabled&&!Q.floating?m.legend.legendHeight+ie(Q.margin,10):0,F=F+Q-20,Q=Y-F-(A.floating?0:A.y)-(m.titleOffset?m.titleOffset[2]:0)-10),pe==="top"?(A.floating&&(Q=0),m.titleOffset&&m.titleOffset[0]&&(Q=m.titleOffset[0]),Q+=m.margin[0]-m.spacing[0]||0):pe==="middle"&&(he.y===le.y?Q=Y:(he.y||le.y)&&(Q=0>he.y||0>le.y?Q-Math.min(he.y,le.y):Y-F)),g.translate(A.x,A.y+Math.floor(Q));const{minInput:ge,maxInput:ke,dropdown:re}=this;A.inputEnabled&&ge&&ke&&(ge.style.marginTop=g.translateY+"px",ke.style.marginTop=g.translateY+"px"),re&&(re.style.marginTop=g.translateY+"px")}}alignButtonGroup(w,I){const{chart:m,options:g,buttonGroup:b}=this,{buttonPosition:A}=g,X=m.plotLeft-m.spacing[3];let Y=A.x-m.spacing[3];A.align==="right"?Y+=w-X:A.align==="center"&&(Y-=X/2),b&&b.align({y:A.y,width:ie(I,this.initialButtonGroupWidth),align:A.align,x:Y},!0,m.spacingBox)}positionButtons(){const{buttons:w,chart:I,options:m,zoomText:g}=this,b=I.hasLoaded?"animate":"attr",{buttonPosition:A}=m,X=I.plotLeft;let Y=X;g&&g.visibility!=="hidden"&&(g[b]({x:ie(X+A.x,X)}),Y+=A.x+g.getBBox().width+5);for(let K=0,le=this.buttonOptions.length;K<le;++K)w[K].visibility!=="hidden"?(w[K][b]({x:Y}),Y+=w[K].width+m.buttonSpacing):w[K][b]({x:X})}handleCollision(w){const{chart:I,buttonGroup:m,inputGroup:g}=this,{buttonPosition:b,dropdown:A,inputPosition:X}=this.options,Y=()=>{let he=0;return this.buttons.forEach(pe=>{pe=pe.getBBox(),pe.width>he&&(he=pe.width)}),he},K=he=>{if(g&&m){const pe=g.alignAttr.translateX+g.alignOptions.x-w+g.getBBox().x+2,F=g.alignOptions.width,Q=m.alignAttr.translateX+m.getBBox().x;return Q+he>pe&&pe+F>Q&&b.y<X.y+g.getBBox().height}return!1},le=()=>{g&&m&&g.attr({translateX:g.alignAttr.translateX+(I.axisOffset[1]>=-w?0:-w),translateY:g.alignAttr.translateY+m.getBBox().height+10})};if(m){if(A==="always"){this.collapseButtons(w),K(Y())&&le();return}A==="never"&&this.expandButtons()}g&&m?X.align===b.align||K(this.initialButtonGroupWidth+20)?A==="responsive"?(this.collapseButtons(w),K(Y())&&le()):le():A==="responsive"&&this.expandButtons():m&&A==="responsive"&&(this.initialButtonGroupWidth>I.plotWidth?this.collapseButtons(w):this.expandButtons())}collapseButtons(w){const{buttons:I,buttonOptions:m,chart:g,dropdown:b,options:A,zoomText:X}=this,Y=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},K=pe=>({text:pe?`${pe} ▾`:"▾",width:"auto",paddingLeft:ie(A.buttonTheme.paddingLeft,Y.padding,8),paddingRight:ie(A.buttonTheme.paddingRight,Y.padding,8)});X&&X.hide();let le=!1;m.forEach((pe,F)=>{F=I[F],F.state!==2?F.hide():(F.show(),F.attr(K(pe.text)),le=!0)}),le||(b&&(b.selectedIndex=0),I[0].show(),I[0].attr(K(this.zoomText&&this.zoomText.textStr)));const{align:he}=A.buttonPosition;this.positionButtons(),he!=="right"&&he!=="center"||this.alignButtonGroup(w,I[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:w,buttonOptions:I,options:m,zoomText:g}=this;this.hideDropdown(),g&&g.show(),I.forEach((b,A)=>{A=w[A],A.show(),A.attr({text:b.text,width:m.buttonTheme.width||28,paddingLeft:ie(m.buttonTheme.paddingLeft,"unset"),paddingRight:ie(m.buttonTheme.paddingRight,"unset")}),2>A.state&&A.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:w}=this;return w&&0<w.selectedIndex?w.selectedIndex-1:0}showDropdown(){const{buttonGroup:w,buttons:I,chart:m,dropdown:g}=this;if(w&&g){const{translateX:b,translateY:A}=w,X=I[this.currentButtonIndex()].getBBox();q(g,{left:m.plotLeft+b+"px",top:A+.5+"px",width:X.width+"px",height:X.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:w}=this;w&&(q(w,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var w=this.options,I=this.group;const m=w.y,g=w.buttonPosition.y,b=w.inputPosition.y;return w.height?w.height:(this.alignElements(),w=I?I.getBBox(!0).height+13+m:0,I=Math.min(b,g),(0>b&&0>g||0<b&&0<g)&&(w+=Math.abs(I)),w)}titleCollision(w){return!(w.options.title.text||w.options.subtitle.text)}update(w){const I=this.chart;H(!0,I.options.rangeSelector,w),this.destroy(),this.init(I),this.render()}destroy(){const w=this,I=w.minInput,m=w.maxInput;w.eventsToUnbind&&(w.eventsToUnbind.forEach(g=>g()),w.eventsToUnbind=void 0),O(w.buttons),I&&(I.onfocus=I.onblur=I.onchange=null),m&&(m.onfocus=m.onblur=m.onchange=null),U(w,function(g,b){g&&b!=="chart"&&(g instanceof s?g.destroy():g instanceof window.HTMLElement&&G(g)),g!==V.prototype[b]&&(w[b]=null)},this)}}return M(V.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),V}),n(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){const{unhideChartElementFromAT:R,getAxisRangeDescription:J}=d,{addEvent:k,attr:z}=v;class q extends o{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new h(this.chart,"polite")}onChartUpdate(){const O=this.chart,G=this,M=O.rangeSelector;M&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),M.buttons&&M.buttons.length&&M.buttons.forEach(S=>{G.setRangeButtonAttrs(S)}),M.maxInput&&M.minInput&&["minInput","maxInput"].forEach(function(S,P){(S=M[S])&&(R(O,S),G.setRangeInputAttrs(S,"accessibility.rangeSelector."+(P?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const O=this.chart,G=O.rangeSelector,M=G&&G.dropdown,S=G&&G.buttons||[];G&&G.hasVisibleDropdown&&M?(R(O,M),S.forEach(P=>P.element.setAttribute("aria-hidden",!0))):(M&&M.setAttribute("aria-hidden",!0),S.forEach(P=>R(O,P.element)))}setDropdownAttrs(){var O=this.chart;const G=O.rangeSelector&&O.rangeSelector.dropdown;G&&(O=O.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:O.options.lang.rangeSelectorZoom}),G.setAttribute("aria-label",O),G.setAttribute("tabindex",-1))}setRangeButtonAttrs(O){z(O.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(O,G){const M=this.chart;z(O,{tabindex:-1,"aria-label":M.langFormat(G,{chart:M})})}onButtonNavKbdArrowKey(O,G){const M=O.response,S=this.keyCodes,P=this.chart,H=P.options.accessibility.keyboardNavigation.wrapAround;return G=G===S.left||G===S.up?-1:1,P.highlightRangeSelectorButton(P.highlightedRangeSelectorItemIx+G)?M.success:H?(O.init(G),M.success):M[0<G?"next":"prev"]}onButtonNavKbdClick(O){O=O.response;const G=this.chart;return G.oldRangeSelectorItemState!==3&&this.fakeClickEvent(G.rangeSelector.buttons[G.highlightedRangeSelectorItemIx].element),O.success}onAfterBtnClick(){var O=this.chart;const G=J(O.xAxis[0]);(O=O.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:O,axisRangeDescription:G}))&&this.announcer.announce(O)}onInputKbdMove(O){const G=this.chart;var M=G.rangeSelector;const S=G.highlightedInputRangeIx=(G.highlightedInputRangeIx||0)+O;if(1<S||0>S){if(G.accessibility)return G.accessibility.keyboardNavigation.exiting=!0,G.accessibility.keyboardNavigation.tabindexContainer.focus(),G.accessibility.keyboardNavigation.move(O)}else M&&(O=M[S?"maxDateBox":"minDateBox"],M=M[S?"maxInput":"minInput"],O&&M&&G.setFocusToElement(O,M));return!0}onInputNavInit(O){const G=this;var M=this.chart;const S=0<O?0:1;var P=M.rangeSelector;const H=P&&P[S?"maxDateBox":"minDateBox"];if(O=P&&P.minInput,P=P&&P.maxInput,M.highlightedInputRangeIx=S,H&&O&&P){M.setFocusToElement(H,S?P:O),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),M=ie=>{(ie.which||ie.keyCode)===this.keyCodes.tab&&G.onInputKbdMove(ie.shiftKey?-1:1)&&(ie.preventDefault(),ie.stopPropagation())};const U=k(O,"keydown",M),E=k(P,"keydown",M);this.removeInputKeydownHandler=()=>{U(),E()}}}onInputNavTerminate(){const O=this.chart.rangeSelector||{};O.maxInput&&O.hideInput("max"),O.minInput&&O.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const O=this.chart,G=O.rangeSelector,M=G&&G.dropdown;G&&M&&(O.setFocusToElement(G.buttonGroup,M),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=k(M,"keydown",S=>{const P=O.accessibility;(S.which||S.keyCode)===this.keyCodes.tab&&(S.preventDefault(),S.stopPropagation(),P&&(P.keyboardNavigation.tabindexContainer.focus(),P.keyboardNavigation.move(S.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const O=this.chart,G=this.keyCodes,M=this;return new s(O,{keyCodeMap:[[[G.left,G.right,G.up,G.down],function(S){return M.onButtonNavKbdArrowKey(this,S)}],[[G.enter,G.space],function(){return M.onButtonNavKbdClick(this)}]],validate:function(){return!!(O.rangeSelector&&O.rangeSelector.buttons&&O.rangeSelector.buttons.length)},init:function(S){var P=O.rangeSelector;P&&P.hasVisibleDropdown?M.initDropdownNav():P&&(P=P.buttons.length-1,O.highlightRangeSelectorButton(0<S?0:P))},terminate:function(){M.removeDropdownKeydownHandler&&(M.removeDropdownKeydownHandler(),delete M.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const O=this.chart,G=this;return new s(O,{keyCodeMap:[],validate:function(){return!!(O.rangeSelector&&O.rangeSelector.inputGroup&&O.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&O.options.rangeSelector.inputEnabled!==!1&&O.rangeSelector.minInput&&O.rangeSelector.maxInput)},init:function(M){G.onInputNavInit(M)},terminate:function(){G.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(L){function O(S){const P=this.rangeSelector&&this.rangeSelector.buttons||[],H=this.highlightedRangeSelectorItemIx,U=this.rangeSelector&&this.rangeSelector.selected;return typeof H<"u"&&P[H]&&H!==U&&P[H].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=S,P[S]?(this.setFocusToElement(P[S].box,P[S].element),S!==U&&(this.oldRangeSelectorItemState=P[S].state,P[S].setState(1)),!0):!1}function G(){const S=this.chart.accessibility;if(S&&S.components.rangeSelector)return S.components.rangeSelector.onAfterBtnClick()}const M=[];L.compose=function(S,P){v.pushUnique(M,S)&&(S.prototype.highlightRangeSelectorButton=O),v.pushUnique(M,P)&&k(r,"afterBtnClick",G)}}(q||(q={})),q}),n(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(r){const{addEvent:o,merge:d}=r;var h;return function(s){function v(L){d(!0,L,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function R(L){return L.marker.states&&L.marker.states.normal&&L.marker.states.normal.opacity}function J(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(L=>{L.graphic&&(L.graphic[L.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),L.graphic[L.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function k(L){this.resetA11yMarkerOptions=d(L.options.marker||{},this.userOptions.marker||{})}function z(){var L=this.options,O=(this.options.accessibility&&this.options.accessibility.enabled)!==!1;if((O=this.chart.options.accessibility.enabled&&O)&&(O=this.chart.options.accessibility,O=this.points.length<O.series.pointDescriptionEnabledThreshold||O.series.pointDescriptionEnabledThreshold===!1),O){if(L.marker&&L.marker.enabled===!1&&(this.a11yMarkersForced=!0,v(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(L=this.points.length;L--;){O=this.points[L];const M=O.options;var G=O.hasForcedA11yMarker;delete O.hasForcedA11yMarker,M.marker&&(G=G&&R(M)===0,M.marker.enabled&&!G?(d(!0,M.marker,{states:{normal:{opacity:R(M)||1}}}),O.hasForcedA11yMarker=!1):M.marker.enabled===!1&&(v(M),O.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(L=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:L.enabled,states:{normal:{opacity:L.states&&L.states.normal&&L.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const q=[];s.compose=function(L){r.pushUnique(q,L)&&(o(L,"afterSetOptions",k),o(L,"render",z),o(L,"afterRender",J))}}(h||(h={})),h}),n(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(r,o,d,h,s,v,R,J){function k($){const V=$.index,j=$.series.points;let w=j.length;if(j[V]!==$){for(;w--;)if(j[w]===$)return w}else return V}function z($){const V=$.chart.options.accessibility.keyboardNavigation.seriesNavigation,j=$.options.accessibility||{},w=j.keyboardNavigation;return w&&w.enabled===!1||j.enabled===!1||$.options.enableMouseTracking===!1||!$.visible||V.pointNavigationEnabledThreshold&&V.pointNavigationEnabledThreshold<=$.points.length}function q($){const V=$.series.chart.options.accessibility,j=$.options.accessibility&&$.options.accessibility.enabled===!1;return $.isNull&&V.keyboardNavigation.seriesNavigation.skipNullPoints||$.visible===!1||$.isInside===!1||j||z($.series)}function L($){$=$.series||[];const V=$.length;for(let w=0;w<V;++w)if(!z($[w])){e:{var j=$[w].points||[];const I=j.length;for(let m=0;m<I;++m)if(!q(j[m])){j=j[m];break e}j=null}if(j)return j}return null}function O($){let V=$.series.length,j=!1;for(;V--&&($.highlightedPoint=$.series[V].points[$.series[V].points.length-1],!(j=$.series[V].highlightNextValidPoint())););return j}function G($){return delete $.highlightedPoint,($=L($))?$.highlight():!1}const{seriesTypes:M}=d,{doc:S}=h,{defined:P,fireEvent:H}=s,{getPointFromXY:U,getSeriesFromName:E,scrollToPoint:ie}=J;class te{constructor(V,j){this.keyCodes=j,this.chart=V}init(){const V=this,j=this.chart,w=this.eventProvider=new R;w.addEvent(o,"destroy",function(){return V.onSeriesDestroy(this)}),w.addEvent(j,"afterApplyDrilldown",function(){{const I=L(this);I&&I.highlight(!1)}}),w.addEvent(j,"drilldown",function(I){I=I.point;const m=I.series;V.lastDrilledDownPoint={x:I.x,y:I.y,seriesName:m?m.name:""}}),w.addEvent(j,"drillupall",function(){setTimeout(function(){V.onDrillupAll()},10)}),w.addEvent(r,"afterSetState",function(){const I=this.graphic&&this.graphic.element,m=S.activeElement;var g=m&&m.getAttribute("class");g=g&&-1<g.indexOf("highcharts-a11y-proxy-button"),j.highlightedPoint===this&&m!==I&&!g&&I&&I.focus&&I.focus()})}onDrillupAll(){const V=this.lastDrilledDownPoint,j=this.chart,w=V&&E(j,V.seriesName);let I;V&&w&&P(V.x)&&P(V.y)&&(I=U(w,V.x,V.y)),I=I||L(j),j.container&&j.container.focus(),I&&I.highlight&&I.highlight(!1)}getKeyboardNavigationHandler(){const V=this,j=this.keyCodes,w=this.chart,I=w.inverted;return new v(w,{keyCodeMap:[[I?[j.up,j.down]:[j.left,j.right],function(m){return V.onKbdSideways(this,m)}],[I?[j.left,j.right]:[j.up,j.down],function(m){return V.onKbdVertical(this,m)}],[[j.enter,j.space],function(m,g){return(m=w.highlightedPoint)&&(g.point=m,H(m.series,"click",g),m.firePointEvent("click")),this.response.success}],[[j.home],function(){return G(w),this.response.success}],[[j.end],function(){return O(w),this.response.success}],[[j.pageDown,j.pageUp],function(m){return w.highlightAdjacentSeries(m===j.pageDown),this.response.success}]],init:function(){return V.onHandlerInit(this)},validate:function(){return!!L(w)},terminate:function(){return V.onHandlerTerminate()}})}onKbdSideways(V,j){const w=this.keyCodes;return this.attemptHighlightAdjacentPoint(V,j===w.right||j===w.down)}onHandlerInit(V){const j=this.chart;return j.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&j.highlightedPoint?j.highlightedPoint.highlight():G(j),V.response.success}onKbdVertical(V,j){const w=this.chart;var I=this.keyCodes;return j=j===I.down||j===I.right,I=w.options.accessibility.keyboardNavigation.seriesNavigation,I.mode&&I.mode==="serialize"?this.attemptHighlightAdjacentPoint(V,j):(w[w.highlightedPoint&&w.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](j),V.response.success)}onHandlerTerminate(){const V=this.chart,j=V.options.accessibility.keyboardNavigation;V.tooltip&&V.tooltip.hide(0);const w=V.highlightedPoint&&V.highlightedPoint.series;w&&w.onMouseOut&&w.onMouseOut(),V.highlightedPoint&&V.highlightedPoint.onMouseOut&&V.highlightedPoint.onMouseOut(),j.seriesNavigation.rememberPointFocus||delete V.highlightedPoint}attemptHighlightAdjacentPoint(V,j){const w=this.chart,I=w.options.accessibility.keyboardNavigation.wrapAround;return w.highlightAdjacentPoint(j)||I&&(j?G(w):O(w))?V.response.success:V.response[j?"next":"prev"]}onSeriesDestroy(V){const j=this.chart;j.highlightedPoint&&j.highlightedPoint.series===V&&(delete j.highlightedPoint,j.focusElement&&j.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function($){function V(A){var X=this.series;const Y=this.highlightedPoint;var K=Y&&k(Y)||0;const le=Y&&Y.series.points||[];var he=this.series&&this.series[this.series.length-1];if(he=he&&he.points&&he.points[he.points.length-1],!X[0]||!X[0].points)return!1;if(Y){if(X=X[Y.series.index+(A?1:-1)],K=le[K+(A?1:-1)],!K&&X&&(K=X.points[A?0:X.points.length-1]),!K)return!1}else K=A?X[0].points[0]:he;return q(K)?(X=K.series,z(X)?this.highlightedPoint=A?X.points[X.points.length-1]:X.points[0]:this.highlightedPoint=K,this.highlightAdjacentPoint(A)):K.highlight()}function j(A){const X=this.highlightedPoint;let Y=1/0,K;return!P(X.plotX)||!P(X.plotY)?!1:(this.series.forEach(le=>{z(le)||le.points.forEach(he=>{if(P(he.plotY)&&P(he.plotX)&&he!==X){var pe=he.plotY-X.plotY,F=Math.abs(he.plotX-X.plotX);F=Math.abs(pe)*Math.abs(pe)+F*F*4,le.yAxis&&le.yAxis.reversed&&(pe*=-1),!(0>=pe&&A||0<=pe&&!A||5>F||q(he))&&F<Y&&(Y=F,K=he)}})}),K?K.highlight():!1)}function w(A){const X=this.highlightedPoint;var Y=this.series&&this.series[this.series.length-1],K=Y&&Y.points&&Y.points[Y.points.length-1];return this.highlightedPoint?(Y=this.series[X.series.index+(A?-1:1)],!Y||(K=I(X,Y,4),!K)?!1:z(Y)?(K.highlight(),A=this.highlightAdjacentSeries(A),A||(X.highlight(),!1)):(K.highlight(),K.series.highlightNextValidPoint())):(Y=A?this.series&&this.series[0]:Y,(K=A?Y&&Y.points&&Y.points[0]:K)?K.highlight():!1)}function I(A,X,Y,K){let le=1/0,he,pe=X.points.length;const F=ce=>!(P(ce.plotX)&&P(ce.plotY));if(!F(A)){for(;pe--;){var Q=X.points[pe];F(Q)||(Q=(A.plotX-Q.plotX)*(A.plotX-Q.plotX)*(Y||1)+(A.plotY-Q.plotY)*(A.plotY-Q.plotY)*(K||1),Q<le&&(le=Q,he=pe))}return P(he)?X.points[he]:void 0}}function m(A=!0){const X=this.series.chart;return!this.isNull&&A?this.onMouseOver():X.tooltip&&X.tooltip.hide(0),ie(this),this.graphic&&(X.setFocusToElement(this.graphic),!A&&X.focusElement&&X.focusElement.removeFocusBorder()),X.highlightedPoint=this,this}function g(){var A=this.chart.highlightedPoint,X=(A&&A.series)===this?k(A):0;A=this.points;const Y=A.length;if(A&&Y){for(let K=X;K<Y;++K)if(!q(A[K]))return A[K].highlight();for(;0<=X;--X)if(!q(A[X]))return A[X].highlight()}return!1}const b=[];$.compose=function(A,X,Y){s.pushUnique(b,A)&&(A=A.prototype,A.highlightAdjacentPoint=V,A.highlightAdjacentPointVertical=j,A.highlightAdjacentSeries=w),s.pushUnique(b,X)&&(X.prototype.highlight=m),s.pushUnique(b,Y)&&(X=Y.prototype,X.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(K=>{M[K]&&(M[K].prototype.keyboardMoveVertical=!1)}),X.highlightNextValidPoint=g)}}(te||(te={})),te}),n(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(r,o,d,h,s,v){const{hideSeriesFromAT:R}=o,{describeSeries:J}=s;class k extends r{static compose(q,L,O){h.compose(O),d.compose(O),v.compose(q,L,O)}init(){this.newDataAnnouncer=new h(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new v(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const q=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===q.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(q){q.labelBySeries&&q.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(q){(q.options.accessibility&&q.options.accessibility.enabled)!==!1&&q.visible?J(q):R(q)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return k}),n(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{unhideChartElementFromAT:v}=o,{getFakeMouseEvent:R}=d,{attr:J,pick:k}=s;class z extends r{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const L=this,O=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(G=>{L.addEvent(O,G,function(){L.updateProxyOverlays()})})}onChartUpdate(){const L=this.chart,O=this;L.mapNavigation&&L.mapNavigation.navButtons.forEach((G,M)=>{v(L,G.element),O.setMapNavButtonAttrs(G.element,"accessibility.zoom.mapZoom"+(M?"Out":"In"))})}setMapNavButtonAttrs(L,O){const G=this.chart;O=G.langFormat(O,{chart:G}),J(L,{tabindex:-1,role:"button","aria-label":O})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const L=this.chart;this.proxyProvider.clearGroup("zoom"),L.resetZoomButton&&this.createZoomProxyButton(L.resetZoomButton,"resetZoomProxyButton",L.langFormat("accessibility.zoom.resetZoomButton",{chart:L})),L.drillUpButton&&L.breadcrumbs&&L.breadcrumbs.list&&this.createZoomProxyButton(L.drillUpButton,"drillUpProxyButton",L.langFormat("accessibility.drillUpButton",{chart:L,buttonText:L.breadcrumbs.getButtonText(L.breadcrumbs.list[L.breadcrumbs.list.length-1])}))}createZoomProxyButton(L,O,G){this[O]=this.proxyProvider.addProxyElement("zoom",{click:L},{"aria-label":G,tabindex:-1})}getMapZoomNavigation(){const L=this.keyCodes,O=this.chart,G=this;return new h(O,{keyCodeMap:[[[L.up,L.down,L.left,L.right],function(M){return G.onMapKbdArrow(this,M)}],[[L.tab],function(M,S){return G.onMapKbdTab(this,S)}],[[L.space,L.enter],function(){return G.onMapKbdClick(this)}]],validate:function(){return!!(O.mapView&&O.mapNavigation&&O.mapNavigation.navButtons.length)},init:function(M){return G.onMapNavInit(M)}})}onMapKbdArrow(L,O){var G=this.chart,M=this.keyCodes;const S=G.container;var P=O===M.up||O===M.down;return O=(P?G.plotHeight:G.plotWidth)/10*(O===M.left||O===M.up?1:-1),M=10*Math.random(),G={x:S.offsetLeft+G.plotLeft+G.plotWidth/2+M,y:S.offsetTop+G.plotTop+G.plotHeight/2+M},P=P?{x:G.x,y:G.y+O}:{x:G.x+O,y:G.y},[R("mousedown",G),R("mousemove",P),R("mouseup",P)].forEach(H=>S.dispatchEvent(H)),L.response.success}onMapKbdTab(L,O){const G=this.chart;L=L.response;const M=(O=O.shiftKey)&&!this.focusedMapNavButtonIx||!O&&this.focusedMapNavButtonIx;return G.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),M?(G.mapView&&G.mapView.zoomBy(),L[O?"prev":"next"]):(this.focusedMapNavButtonIx+=O?-1:1,O=G.mapNavigation.navButtons[this.focusedMapNavButtonIx],G.setFocusToElement(O.box,O.element),O.setState(2),L.success)}onMapKbdClick(L){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),L.response.success}onMapNavInit(L){const O=this.chart;var G=O.mapNavigation.navButtons[0];const M=O.mapNavigation.navButtons[1];G=0<L?G:M,O.setFocusToElement(G.box,G.element),G.setState(2),this.focusedMapNavButtonIx=0<L?0:1}simpleButtonNavigation(L,O,G){const M=this.keyCodes,S=this,P=this.chart;return new h(P,{keyCodeMap:[[[M.tab,M.up,M.down,M.left,M.right],function(H,U){return this.response[H===M.tab&&U.shiftKey||H===M.left||H===M.up?"prev":"next"]}],[[M.space,M.enter],function(){const H=G(this,P);return k(H,this.response.success)}]],validate:function(){return P[L]&&P[L].box&&S[O].buttonElement},init:function(){P.setFocusToElement(P[L].box,S[O].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(L,O){O.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(L,O){return O.drillUp(),L.response.prev}),this.getMapZoomNavigation()]}}return z}),n(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(r){const{doc:o,isMS:d,win:h}=r;return{isHighContrastModeActive:function(){var s=/(Edg)/.test(h.navigator.userAgent);if(h.matchMedia&&s)return h.matchMedia("(-ms-high-contrast: active)").matches;if(d&&h.getComputedStyle){s=o.createElement("div"),s.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",o.body.appendChild(s);const v=(s.currentStyle||h.getComputedStyle(s)).backgroundImage;return o.body.removeChild(s),v==="none"}return h.matchMedia&&h.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(s){s.highContrastModeActive=!0;const v=s.options.accessibility.highContrastTheme;s.update(v,!1),s.series.forEach(function(R){const J=v.plotOptions[R.type]||{};R.update({color:J.color||"windowText",colors:[J.color||"windowText"],borderColor:J.borderColor||"window"}),R.points.forEach(function(k){k.options&&k.options.color&&k.update({color:J.color||"windowText",borderColor:J.borderColor||"window"},!1)})}),s.redraw()}}}),n(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),n(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),n(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),n(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(r){function o(k,z,q){let L,O=0;for(;O<z.length-1;++O)L=z[O],k=k[L]=J(k[L],{});k[z[z.length-1]]=q}function d(k,z,q,L){function O(S,P){return P.reduce(function(H,U){return H[U]},S)}const G=O(k.options,z),M=O(k.options,q);Object.keys(L).forEach(function(S){const P=G[S];typeof P<"u"&&(o(M,L[S],P),R(32,!1,k,{[z.join(".")+"."+S]:q.join(".")+"."+L[S].join(".")}))})}function h(k){const z=k.options.chart,q=k.options.accessibility||{};["description","typeDescription"].forEach(function(L){z[L]&&(q[L]=z[L],R(32,!1,k,{[`chart.${L}`]:`use accessibility.${L}`}))})}function s(k){k.axes.forEach(function(z){(z=z.options)&&z.description&&(z.accessibility=z.accessibility||{},z.accessibility.description=z.description,R(32,!1,k,{"axis.description":"use axis.accessibility.description"}))})}function v(k){const z={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};k.series.forEach(function(q){Object.keys(z).forEach(function(L){let O=q.options[L];L==="accessibility.pointDescriptionFormatter"&&(O=q.options.accessibility&&q.options.accessibility.pointDescriptionFormatter),typeof O<"u"&&(o(q.options,z[L],L==="skipKeyboardNavigation"?!O:O),R(32,!1,k,{[`series.${L}`]:"series."+z[L].join(".")}))})})}const{error:R,pick:J}=r;return function(k){h(k),s(k),k.series&&v(k),d(k,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),d(k,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),d(k,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),n(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(r,o,d,h,s,v,R,J,k,z,q,L,O,G,M,S,P,H,U,E,ie){({defaultOptions:r}=r);const{doc:te}=o,{addEvent:$,extend:V,fireEvent:j,merge:w}=d,{removeElement:I}=h;class m{constructor(b){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(b)}init(b){this.chart=b,te.addEventListener?(ie(b),this.proxyProvider=new O(this.chart),this.initComponents(),this.keyboardNavigation=new k(b,this.components)):(this.zombie=!0,this.components={},b.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const b=this.chart,A=this.proxyProvider,X=b.options.accessibility;this.components={container:new v,infoRegions:new J,legend:new z,chartMenu:new q,rangeSelector:new G,series:new M,zoom:new S},X.customComponents&&V(this.components,X.customComponents);const Y=this.components;this.getComponentOrder().forEach(function(K){Y[K].initBase(b,A),Y[K].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const b=Object.keys(this.components).filter(A=>A!=="series");return["series"].concat(b)}update(){const b=this.components,A=this.chart;var X=A.options.accessibility;j(A,"beforeA11yUpdate"),A.types=this.getChartTypes(),X=X.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(X),this.getComponentOrder().forEach(function(Y){b[Y].onChartUpdate(),j(A,"afterA11yComponentUpdate",{name:Y,component:b[Y]})}),this.keyboardNavigation.update(X),!A.highContrastModeActive&&P.isHighContrastModeActive()&&P.setHighContrastTheme(A),j(A,"afterA11yUpdate",{accessibility:this})}destroy(){const b=this.chart||{},A=this.components;Object.keys(A).forEach(function(X){A[X].destroy(),A[X].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),b.announcerContainer&&I(b.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),b.renderTo&&b.renderTo.setAttribute("aria-hidden",!0),b.focusElement&&b.focusElement.removeFocusBorder()}getChartTypes(){const b={};return this.chart.series.forEach(function(A){b[A.type]=1}),Object.keys(b)}}return function(g){function b(){this.accessibility&&this.accessibility.destroy()}function A(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const he=this.accessibility;he&&!he.zombie&&(he.proxyProvider.updateProxyElementPositions(),he.getComponentOrder().forEach(function(pe){he.components[pe].onChartRender()}))}function X(he){(he=he.options.accessibility)&&(he.customComponents&&(this.options.accessibility.customComponents=he.customComponents,delete he.customComponents),w(!0,this.options.accessibility,he),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function Y(){let he=this.accessibility;const pe=this.options.accessibility;pe&&pe.enabled?he&&!he.zombie?he.update():(this.accessibility=he=new g(this),!he.zombie&&he.update()):he?(he.destroy&&he.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function K(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const le=[];g.i18nFormat=s.i18nFormat,g.compose=function(he,pe,F,Q,ce,ge){k.compose(he),L.compose(Q),z.compose(he,pe),q.compose(he),M.compose(he,F,Q),s.compose(he),R.compose(he,ce),ge&&G.compose(he,ge),d.pushUnique(le,he)&&(he.prototype.updateA11yEnabled=Y,$(he,"destroy",b),$(he,"render",A),$(he,"update",X),["addSeries","init"].forEach(ke=>{$(he,ke,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(ke=>{$(he,ke,function(){const re=this.accessibility;re&&!re.zombie&&re.update()})})),d.pushUnique(le,F)&&$(F,"update",K),d.pushUnique(le,Q)&&["update","updatedData","remove"].forEach(ke=>{$(Q,ke,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(m||(m={})),w(!0,r,U,{accessibility:{highContrastTheme:H},lang:E}),m}),n(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,o,d,h,s,v,R){r.i18nFormat=o.i18nFormat,r.A11yChartUtilities=h,r.A11yHTMLUtilities=s,r.AccessibilityComponent=d,r.KeyboardNavigationHandler=v,r.SeriesAccessibilityDescriber=R,o.compose(r.Chart,r.Legend,r.Point,r.Series,r.SVGElement,r.RangeSelector)})})})(j6);var yZ=j6.exports;const V5=Mu(yZ);V5(pc);const _Z={name:"spline",components:{Chart:nm.Chart},data(){return{chartOptions:{chart:{type:"spline",scrollablePlotArea:{minWidth:600,scrollPositionX:1}},title:{text:"Wind speed during two days",align:"left"},subtitle:{text:"13th & 14th of June, 2022 at two locations in Vik i Sogn, Norway",align:"left"},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{title:{text:"Wind speed (m/s)"},minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:.3,to:1.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Light air",style:{color:"#606060"}}},{from:1.5,to:3.3,color:"rgba(0, 0, 0, 0)",label:{text:"Light breeze",style:{color:"#606060"}}},{from:3.3,to:5.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Gentle breeze",style:{color:"#606060"}}},{from:5.5,to:8,color:"rgba(0, 0, 0, 0)",label:{text:"Moderate breeze",style:{color:"#606060"}}},{from:8,to:11,color:"rgba(68, 170, 213, 0.1)",label:{text:"Fresh breeze",style:{color:"#606060"}}},{from:11,to:14,color:"rgba(0, 0, 0, 0)",label:{text:"Strong breeze",style:{color:"#606060"}}},{from:14,to:15,color:"rgba(68, 170, 213, 0.1)",label:{text:"High wind",style:{color:"#606060"}}}]},tooltip:{valueSuffix:" m/s"},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1},pointInterval:36e5,pointStart:Date.UTC(2022,5,13,0,0,0)}},series:[{name:"Hestavollane",data:[4.5,5.1,4.4,3.7,4.2,3.7,4.3,4,5,4.9,4.8,4.6,3.9,3.8,2.7,3.1,2.6,3.3,3.8,4.1,1,1.9,3.2,3.8,4.2]},{name:"Vik",data:[.1,.1,.1,.2,.4,.4,.3,.4,.1,0,.2,.3,0,0,0,0,0,.1,.1,.1,0,.1,0,0,0]}],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function vZ(e,t,n,r,o,d){const h=Tr("Chart");return bt(),Ir(h,{options:o.chartOptions,constructorType:"stockChart"},null,8,["options"])}const xZ=zr(_Z,[["render",vZ]]);N6(pc);const bZ={components:{highcharts:nm.Chart},props:{min:{type:Number,default:0},max:{type:Number,default:32},value:{type:Number,default:0},title:String},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:this.min,max:this.max,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:this.title,y:150},plotBands:[{from:0,to:this.max/8,color:"#576D7E",thickness:40},{from:this.max/8,to:this.max/8*2,color:"#34485C",thickness:40},{from:this.max/8*2,to:this.max/8*3,color:"#60C5B8",thickness:40},{from:this.max/8*3,to:this.max/8*4,color:"#25B39E",thickness:40},{from:this.max/8*4,to:this.max/8*5,color:"#FCD062",thickness:40},{from:this.max/8*5,to:this.max/8*6,color:"#F8B84E",thickness:40},{from:this.max/8*6,to:this.max/8*7,color:"#F17F53",thickness:40},{from:this.max/8*7,to:this.max/8*8,color:"#F05542",thickness:40}]}],series:[{name:this.title,data:[this.value],tooltip:{valueSuffix:" "}}]}}},methods:{},watch:{value:function(e,t){this.options.series[0].data=[e]}}};function wZ(e,t,n,r,o,d){const h=Tr("highcharts");return bt(),Bt("div",null,[dn(h,{options:o.options},null,8,["options"])])}const TZ=zr(bZ,[["render",wZ]]),SZ={props:{value:Number,title:String},components:{highcharts:nm.Chart},watch:{value:function(e,t){this.options.series[0].data=[e]}},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:0,endAngle:360,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{title:{text:this.title},min:1,max:360,lineColor:"#333",offset:-20,tickInterval:30,labels:{step:1,distance:5,rotation:"auto"}}],series:[{name:this.title,yAxis:0,data:[this.value],dial:{radius:"88%",baseWidth:10,baseLength:"0%",rearLength:0,borderWidth:1,borderColor:"#9A0000",backgroundColor:"#CC0000"},tooltip:{valueSuffix:"°"}}]}}}};function CZ(e,t,n,r,o,d){const h=Tr("highcharts");return bt(),Bt("div",null,[dn(h,{options:o.options},null,8,["options"])])}const U6=zr(SZ,[["render",CZ]]),EZ={props:{url:String,fleet:Object},components:{SpeedoMeter:TZ,Compass:U6},methods:{scaleBeafort(e){let t="";return e<=1?t="Calm":e>1&&e<3.9?t="Light Air":e>4&&e<6.9?t="Light Breeze":e>7&&e<10.9?t="Gentle breeze":e>11&&e<16.9?t="Moderate breeze":e>17&&e<21.9?t="Fresh breeze":e>22&&e<27.9?t="Strong breeze":e>28&&e<33.9?t="High wind":e>34&&e<40.9?t="Gale":e>41&&e<47.9?t="Strong/severe gale":e>48&&e<55.9?t="Storm":e>56&&e<63.9?t="Violent storm":t="Hurricane force",t}}},MZ={class:"row"},kZ={class:"col-3"},AZ={class:"col-3"},PZ={class:"col-3"},DZ={class:"col-3"};function IZ(e,t,n,r,o,d){const h=Tr("speedo-meter"),s=Tr("compass");return bt(),Bt("div",MZ,[Ye("div",kZ,[dn(h,{value:n.fleet.navigation.sog,max:32,title:"Speed (knot)"},null,8,["value"])]),Ye("div",AZ,[dn(s,{value:n.fleet.navigation.cog,title:"Course (°)"},null,8,["value"])]),Ye("div",PZ,[dn(h,{value:n.fleet.navigation.wind_speed,max:80,title:d.scaleBeafort(n.fleet.navigation.wind_speed)},null,8,["value","title"])]),Ye("div",DZ,[dn(s,{value:n.fleet.navigation.wind_direction,title:"Wind Direction"},null,8,["value"])])])}const LZ=zr(EZ,[["render",IZ]]),OZ={components:{FleetSpeedometer:LZ},props:{url:String},data(){return{fleet:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(e=>e.data)}}},RZ={key:0},BZ={class:"p-3"},zZ={class:"row"},NZ={class:"col-12"},FZ=Ye("div",{class:"table-title"},[Ye("h6",null,"Navigation information")],-1),jZ={class:"table table-sm"},UZ=Ye("th",{scope:"row"},"•",-1),$Z=Ye("td",null,"Updated at",-1),VZ={class:"text-end"},GZ=Ye("th",{scope:"row"},"•",-1),HZ=Ye("td",null,"Coordinate",-1),WZ={class:"text-end"},YZ=Ye("th",{scope:"row"},"•",-1),qZ=Ye("td",null,"Heading",-1),XZ={class:"text-end"},ZZ=Ye("th",{scope:"row"},"•",-1),KZ=Ye("td",null,"Course / COG",-1),JZ={class:"text-end"},QZ=Ye("th",{scope:"row"},"•",-1),eK=Ye("td",null,"Speed / SOG",-1),tK={class:"text-end"},iK=Ye("th",{scope:"row"},"•",-1),nK=Ye("td",null,"Depth",-1),rK={class:"text-end"},sK=Ye("th",{scope:"row"},"•",-1),oK=Ye("td",null,"Wind Speed",-1),aK={class:"text-end"},lK=Ye("th",{scope:"row"},"•",-1),cK=Ye("td",null,"Wind Direction",-1),dK={class:"text-end"},uK=Ye("th",{scope:"row"},"•",-1),hK=Ye("td",null,"Travel Distance",-1),pK={class:"text-end"},fK=Ye("th",{scope:"row"},"•",-1),mK=Ye("td",null,"Total Travel Distance",-1),gK={class:"text-end"};function yK(e,t,n,r,o,d){const h=Tr("fleet-speedometer");return o.fleet?(bt(),Bt("div",RZ,[dn(h,{fleet:o.fleet},null,8,["fleet"]),Ye("div",BZ,[Ye("div",zZ,[Ye("div",NZ,[FZ,Ye("table",jZ,[Ye("tbody",null,[Ye("tr",null,[UZ,$Z,Ye("td",VZ,Yi(o.fleet.last_connection),1)]),Ye("tr",null,[GZ,HZ,Ye("td",WZ,Yi(o.fleet.navigation.lat.toFixed(5))+" "+Yi(o.fleet.navigation.lat_dir)+", "+Yi(o.fleet.navigation.lng.toFixed(5))+" "+Yi(o.fleet.navigation.lng_dir),1)]),Ye("tr",null,[YZ,qZ,Ye("td",XZ,Yi(o.fleet.navigation.heading)+" °",1)]),Ye("tr",null,[ZZ,KZ,Ye("td",JZ,Yi(o.fleet.navigation.cog)+" °",1)]),Ye("tr",null,[QZ,eK,Ye("td",tK,Yi(o.fleet.navigation.sog)+" knot",1)]),Ye("tr",null,[iK,nK,Ye("td",rK,Yi(o.fleet.navigation.depth)+" meter",1)]),Ye("tr",null,[sK,oK,Ye("td",aK,Yi(o.fleet.navigation.wind_speed)+" knot",1)]),Ye("tr",null,[lK,cK,Ye("td",dK,Yi(o.fleet.navigation.wind_direction)+" °",1)]),Ye("tr",null,[uK,hK,Ye("td",pK,Yi(o.fleet.navigation.distance)+" NM",1)]),Ye("tr",null,[fK,mK,Ye("td",gK,Yi(o.fleet.navigation.total_distance)+" NM",1)])])])])])])])):vi("",!0)}const _K=zr(OZ,[["render",yK]]),vK={props:{min:Number,max:Number,value:Number,normal:Number,danger:Number},data(){return{}},computed:{percentage(){return this.value/this.max*100},color(){let e="bg-success",t=this.value/this.max*100;return t>this.normal&&t<this.danger?e="bg-warning":t>this.danger&&(e="bg-danger"),e}}},xK={class:"progress"};function bK(e,t,n,r,o,d){return bt(),Bt("div",xK,[Ye("div",{class:ar(["progress-bar",d.color]),style:el({width:`${d.percentage}%`}),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,6)])}const wK=zr(vK,[["render",bK]]),TK={components:{"progress-bar":wK},props:{fleet:Object,display:Boolean},data(){return{}},methods:{toggleText(){this.display=!this.display}}},SK={class:"voyage-section"},CK={key:0,class:"card voyage-card"},EK={class:"card-header justify-content-between"},MK=["src"],kK=Ye("h5",{class:"fw-normal m-0"},"Fleet Information",-1),AK={class:"card-body"},PK=Ye("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-left active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),DK={class:"tab-content",id:"pills-tabContent"},IK={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},LK={class:"m12"},OK=Ye("div",{class:"st21"},"Name",-1),RK={class:"st22"},BK=["href"],zK=Ye("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),NK={class:"m12"},FK=Ye("div",{class:"st21"},"IMO Number",-1),jK={class:"st22"},UK={class:"m12"},$K=Ye("div",{class:"st21"},"Last Update",-1),VK={class:"st22"},GK={class:"m12"},HK=Ye("div",{class:"st21"},"Last Coordinates",-1),WK={class:"st22"},YK=["href"],qK=Ye("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),XK={key:0,class:"m12"},ZK=Ye("div",{class:"st21"},"At Port",-1),KK={class:"st22"},JK=_d('<div class="m12"><div class="st21">Origin</div><div class="st22"></div></div><div class="m12"><div class="st21">Destination</div><div class="st22"></div></div><div class="m12"><div class="st21">ETA</div><div class="st22"></div></div><br>',4),QK=Ye("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-left active",id:"pills-main-engine-tab","data-bs-toggle":"pill","data-bs-target":"#pills-main-engine",type:"button",role:"tab","aria-controls":"pills-main-engine","aria-selected":"true"},"Main Engine")]),Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-center",id:"pills-pump-tab","data-bs-toggle":"pill","data-bs-target":"#pills-pump",type:"button",role:"tab","aria-controls":"pills-pump","aria-selected":"false"},"Pump Status")])],-1),eJ={class:"tab-content",id:"pills-tabContent"},tJ={class:"tab-pane fade show active",id:"pills-main-engine",role:"tabpanel","aria-labelledby":"pills-main-engine-tab"},iJ=Ye("div",{class:"tt01"},"Main Engine Latest Status",-1),nJ={class:"st21"},rJ={key:0},sJ=["innerHTML"],oJ={key:1},aJ={class:"st22"},lJ={class:"tab-pane",id:"pills-pump",role:"tabpanel","aria-labelledby":"pills-pump-tab"},cJ=Ye("div",{class:"tt01"},"Cargo/Ballast/Stripping/Vacuum Pump",-1),dJ={class:"st21"},uJ={key:0},hJ=["innerHTML"],pJ={key:1},fJ={class:"st22"};function mJ(e,t,n,r,o,d){const h=Tr("progress-bar");return bt(),Bt("div",SK,[n.display?(bt(),Bt("div",CK,[Ye("div",EK,[Ye("button",{onClick:t[0]||(t[0]=s=>e.$emit("close",!0)),class:"btn btn-link bg-transparent p-0"},[Ye("img",{src:"/img/icons/close-fill.png",alt:""},null,8,MK)]),kK]),Ye("div",AK,[PK,Ye("div",DK,[Ye("div",IK,[Ye("div",LK,[OK,Ye("div",RK,[Ye("a",{href:`/fleet/${n.fleet.id}`,class:"d-flex align-items-center"},[ds(Yi(n.fleet.name)+" ",1),zK],8,BK)])]),Ye("div",NK,[FK,Ye("div",jK,Yi(n.fleet.imo_number),1)]),Ye("div",UK,[$K,Ye("div",VK,Yi(e.$filters.dateformat(n.fleet.last_connection))+" WIB",1)]),Ye("div",GK,[HK,Ye("div",WK,[Ye("a",{href:`/fleet/${n.fleet.id}/track`,class:"d-flex align-items-center"},[ds(Yi(n.fleet.navigation.lat.toFixed(4))+" "+Yi(n.fleet.navigation.lat_dir)+", "+Yi(n.fleet.navigation.lng.toFixed(4))+" "+Yi(n.fleet.navigation.lng_dir)+" ",1),qK],8,YK)])]),n.fleet.fleet_status=="at_port"?(bt(),Bt("div",XK,[ZK,Ye("div",KK,Yi(n.fleet.last_port),1)])):vi("",!0),JK,QK,Ye("div",eJ,[Ye("div",tJ,[iJ,(bt(!0),Bt(cn,null,_r(n.fleet.engine_info,(s,v)=>(bt(),Bt("div",{class:"m13",key:v},[Ye("div",nJ,[ds(Yi(s.title)+" ",1),s.value>0?(bt(),Bt("span",rJ,[ds(Yi(e.$filters.number(s.value))+" ",1),Ye("span",{innerHTML:s.unit},null,8,sJ)])):vi("",!0),ds(),s.value==0?(bt(),Bt("span",oJ,"OFF")):vi("",!0)]),Ye("div",aJ,[dn(h,{min:s.min,warning:s.warning,danger:s.danger,max:s.max,value:s.value},null,8,["min","warning","danger","max","value"])])]))),128))]),Ye("div",lJ,[cJ,(bt(!0),Bt(cn,null,_r(n.fleet.cargo_pump_info,(s,v)=>(bt(),Bt("div",{class:"m13",key:v},[Ye("div",dJ,[ds(Yi(s.title)+" ",1),s.value>0?(bt(),Bt("span",uJ,[ds(Yi(e.$filters.number(s.value))+" ",1),Ye("span",{innerHTML:s.unit},null,8,hJ)])):vi("",!0),ds(),s.value==0?(bt(),Bt("span",pJ,"OFF")):vi("",!0)]),Ye("div",fJ,[dn(h,{min:s.min,normal:s.normal,danger:s.danger,max:s.max,value:s.value},null,8,["min","normal","danger","max","value"])])]))),128))])])])])])])):vi("",!0)])}const gJ=zr(TK,[["render",mJ]]),yJ={name:"ChartSvg",props:{path:String,svgData:Object,height:Number},data(){return{scadavis:null,tags:[]}},async mounted(){await this.init(),Object.keys(this.svgData).forEach(e=>{this.setValue(e,this.svgData[e])})},created(){window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},watch:{svgData:function(e,t){let n=this;Object.keys(e).forEach(r=>{n.setValue(r,e[r])})}},methods:{async init(){this.scadavis=await scadavisInit({container:"scada-svg",svgurl:this.path}),this.scadavis.enableTools(!1,!0),this.scadavis.hideWatermark(),this.tags=this.scadavis.getTagsList().split(","),this.tags.forEach(e=>{this.scadavis.setValue(e,0)}),this.resize()},resize(){this.scadavis.zoomToOriginal();let e=this.$refs.cnsvg;this.scadavis.zoomTo(1*(e.clientWidth<e.clientHeight?e.clientWidth/600:e.clientHeight/600))},setValue(e,t){this.scadavis&&this.scadavis.setValue(e,t)}}};function _J(e,t,n,r,o,d){return bt(),Bt("div",null,[Ye("div",{id:"scada-svg",class:"scada",ref:"cnsvg",style:el({height:this.height+"px"})},null,4)])}const S_=zr(yJ,[["render",_J]]),vJ={props:{url:String},components:{ChartSvg:S_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(n=>{t.includes(n)||(this.data[n+"_bar"]=e[n]*1e3)})}}}},xJ={key:0},bJ={class:"container"},wJ={class:"row"},TJ={class:"col-12"};function SJ(e,t,n,r,o,d){const h=Tr("chart-svg");return o.fleet?(bt(),Bt("div",xJ,[Ye("div",bJ,[Ye("div",wJ,[Ye("div",TJ,[dn(h,{path:"/svg/cargo_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):vi("",!0)}const CJ=zr(vJ,[["render",SJ]]),EJ={props:{url:String},components:{ChartSvg:S_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(n=>{t.includes(n)||(this.data[n+"_bar"]=e[n]*1e3)}),this.data.fleet_name=this.fleet.name}}}},MJ={key:0},kJ={class:"container"},AJ={class:"row"},PJ={class:"col-12"};function DJ(e,t,n,r,o,d){const h=Tr("chart-svg");return o.fleet?(bt(),Bt("div",MJ,[Ye("div",kJ,[Ye("div",AJ,[Ye("div",PJ,[dn(h,{path:"/svg/bunker_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):vi("",!0)}const IJ=zr(EJ,[["render",DJ]]),LJ={props:{url:String},components:{ChartSvg:S_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(n=>{t.includes(n)||(this.data[n+"_bar"]=e[n]*1e3)}),this.data.fleet_name=this.fleet.name}}}},OJ={key:0},RJ={class:"container"},BJ={class:"row"},zJ={class:"col-12"};function NJ(e,t,n,r,o,d){const h=Tr("chart-svg");return o.fleet?(bt(),Bt("div",OJ,[Ye("div",RJ,[Ye("div",BJ,[Ye("div",zJ,[dn(h,{path:"/svg/water_ballast_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):vi("",!0)}const FJ=zr(LJ,[["render",NJ]]),jJ={props:{url:String},components:{ChartSvg:S_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.engine;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(n=>{t.includes(n)||(this.data[n+"_bar"]=e[n]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function UJ(e,t,n,r,o,d){const h=Tr("chart-svg");return bt(),Bt("div",null,[dn(h,{path:"/svg/engine-2.svg",svgData:o.data,height:550},null,8,["svgData"])])}const $J=zr(jJ,[["render",UJ]]),VJ={name:"UserPermission",props:{url:String},data(){return{permissions:[],checked:[],user_id:null}},mounted(){this.loadRole(),this.loadData()},methods:{async loadData(){let{data:e}=await axios.get(this.url);this.user_id=e.data.id,this.checked=e.data.permissions},async loadRole(){let{data:e}=await axios.get("/master/permission/json");this.permissions=e.data},async assignTo(){this.user_id&&(await axios.post(`/master/user/${this.user_id}/update-permission`,{permission:this.checked}),window.$vmapp.$refs.vuetable.getData())}}},GJ={class:"form-group mb-3"},HJ=Ye("label",null,"Permissions",-1),WJ={class:"checkbox"},YJ={class:"ui-check"},qJ=["value"],XJ=Ye("i",{class:"dark-white"},null,-1),ZJ={class:"float-end"};function KJ(e,t,n,r,o,d){return bt(),Bt("div",null,[Ye("div",GJ,[HJ,(bt(!0),Bt(cn,null,_r(o.permissions,h=>(bt(),Bt("div",WJ,[Ye("label",YJ,[po(Ye("input",{type:"checkbox",value:h.name,"onUpdate:modelValue":t[0]||(t[0]=s=>o.checked=s)},null,8,qJ),[[lf,o.checked]]),XJ,ds(" "+Yi(h.name),1)])]))),256))]),Ye("div",ZJ,[Ye("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...h)=>d.assignTo&&d.assignTo(...h))},"Assign Permissions")])])}const JJ=zr(VJ,[["render",KJ]]),QJ={props:{title:String,url:String,fields:Array,show:Boolean,fleet:Object},data(){return{data:{}}},mounted(){this.fields.forEach(e=>{this.data[e.field]=null}),this.fleet&&(this.data.fleet_id=this.fleet.fleetId,this.data.group=this.fleet.group)},methods:{async save(){let e=await axios.post(this.url,this.data).then(t=>t.data);e.error?this.$emit("saved",!1):this.$emit("saved",e)}}},eQ={class:"modal-dialog modal-dialog-centered",role:"document"},tQ={class:"modal-content"},iQ={class:"modal-header"},nQ={class:"modal-title"},rQ={class:"modal-body"},sQ={key:0,class:"mb-2"},oQ={class:"form-label"},aQ=["onUpdate:modelValue"],lQ=["value"],cQ={key:1,class:"mb-2"},dQ={class:"form-label"},uQ=["onUpdate:modelValue"],hQ={class:"modal-footer"};function pQ(e,t,n,r,o,d){return bt(),Bt("div",{class:ar(["modal modal-blur fade",{show:n.show}]),style:el({display:n.show?"block":"none"}),id:"modal-team",tabindex:"-1",role:"dialog","aria-hidden":"true"},[Ye("div",eQ,[Ye("div",tQ,[Ye("div",iQ,[Ye("h5",nQ,Yi(n.title),1),Ye("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=h=>n.show=!1)})]),Ye("div",rQ,[(bt(!0),Bt(cn,null,_r(n.fields,(h,s)=>(bt(),Bt(cn,{key:s},[h.editType=="select"?(bt(),Bt("div",sQ,[Ye("label",oQ,Yi(h.name),1),po(Ye("select",{"onUpdate:modelValue":v=>o.data[h.field]=v,class:"form-select"},[(bt(!0),Bt(cn,null,_r(h.options,(v,R)=>(bt(),Bt("option",{value:v,key:R},Yi(v),9,lQ))),128))],8,aQ),[[xu,o.data[h.field]]])])):(bt(),Bt("div",cQ,[Ye("label",dQ,Yi(h.name),1),po(Ye("input",{type:"text",class:"form-control","onUpdate:modelValue":v=>o.data[h.field]=v},null,8,uQ),[[Su,o.data[h.field]]])]))],64))),128))]),Ye("div",hQ,[Ye("button",{onClick:t[1]||(t[1]=h=>n.show=!1),type:"button",class:"btn me-auto","data-bs-dismiss":"modal"},"Close"),Ye("button",{onClick:t[2]||(t[2]=(...h)=>d.save&&d.save(...h)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Add")])])])],6)}const fQ=zr(QJ,[["render",pQ]]),mQ={components:{FormModal:fQ},props:{columns:Array,data:Array,editUrl:String,delUrl:String,fleet:Object},data(){return{formShow:!1,items:[]}},mounted(){this.data.forEach(e=>this.items.push(e)),this.items=this.items.map(e=>({...e,isEdit:!1}))},methods:{saved(e){e.isEdit=!1,this.items.push(e),this.formShow=!1},editRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit},async saveRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit,await axios.post(this.editUrl,e)},isFieldSlot(e){return!!this.$slots[e]},del(e,t){let n=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&(axios.delete(n.delUrl+"/"+e.id),n.items.splice(t,1),n.$swal("Deleted!","Your file has been deleted.","success"))})}}},gQ={class:"action-edit"},yQ={class:"table-responsive"},_Q={class:"table table-vcenter card-table"},vQ=Ye("th",null,"No",-1),xQ=Ye("th",null,null,-1),bQ=["onUpdate:modelValue"],wQ=["value"],TQ=["onUpdate:modelValue"],SQ=["innerHTML"],CQ={key:1},EQ=["onClick"],MQ=["onClick"],kQ=["onClick"];function AQ(e,t,n,r,o,d){const h=Tr("form-modal");return bt(),Bt(cn,null,[dn(h,{fields:n.columns,title:"Add Data",url:n.editUrl,show:o.formShow,fleet:n.fleet,onSaved:d.saved},null,8,["fields","url","show","fleet","onSaved"]),Ye("div",gQ,[Ye("button",{type:"button",class:"btn btn-info",onClick:t[0]||(t[0]=s=>o.formShow=!0)},"Add Data")]),Ye("div",yQ,[Ye("table",_Q,[Ye("thead",null,[Ye("tr",null,[vQ,(bt(!0),Bt(cn,null,_r(n.columns,(s,v)=>(bt(),Bt("th",{key:v},Yi(s.name),1))),128)),xQ])]),Ye("tbody",null,[(bt(!0),Bt(cn,null,_r(o.items,(s,v)=>(bt(),Bt("tr",{key:s.id},[Ye("td",null,Yi(1+v),1),(bt(!0),Bt(cn,null,_r(n.columns,(R,J)=>(bt(),Bt("td",{key:J},[d.isFieldSlot(R.field)?xn(e.$slots,R.field,{key:0,rowData:s,rowIndex:v,rowField:R}):R.editType=="select"&&s.isEdit?po((bt(),Bt("select",{key:1,"onUpdate:modelValue":k=>o.items[v][R.field]=k,class:"form-select"},[(bt(!0),Bt(cn,null,_r(R.options,(k,z)=>(bt(),Bt("option",{value:k,key:z},Yi(k),9,wQ))),128))],8,bQ)),[[xu,o.items[v][R.field]]]):s.isEdit?po((bt(),Bt("input",{key:2,type:"text",class:"form-control","onUpdate:modelValue":k=>o.items[v][R.field]=k},null,8,TQ)),[[Su,o.items[v][R.field]]]):(bt(),Bt(cn,{key:3},[R.isHtml?(bt(),Bt("span",{key:0,innerHTML:s[R.field]},null,8,SQ)):(bt(),Bt("span",CQ,Yi(s[R.field]),1))],64))]))),128)),Ye("td",null,[s.isEdit?vi("",!0):(bt(),Bt("a",{key:0,href:"#",onClick:R=>d.editRowHandler(s,v)},"Edit",8,EQ)),s.isEdit?(bt(),Bt("a",{key:1,href:"#",onClick:R=>d.saveRowHandler(s,v)},"Done",8,MQ)):vi("",!0),ds(" | "),Ye("a",{href:"#",onClick:R=>d.del(s,v)},"Delete",8,kQ)])]))),128))])])])],64)}const PQ=zr(mQ,[["render",AQ]]);var $6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function n(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},n(t,"Core/Chart/ChartNavigationComposition.js",[],function(){var r;return function(o){o.compose=function(h){return h.navigation||(h.navigation=new d(h)),h};class d{constructor(s){this.updates=[],this.chart=s}addUpdate(s){this.chart.navigation.updates.push(s)}update(s,v){this.updates.forEach(R=>{R.call(this.chart,s,v)})}}o.Additions=d}(r||(r={})),r}),n(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],function(r){return{isTouchDevice:r}=r,{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:r?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}}),n(t,"Extensions/Exporting/ExportingSymbols.js",[],function(){var r;return function(o){function d(v,R,J,k){return[["M",v,R+2.5],["L",v+J,R+2.5],["M",v,R+k/2+.5],["L",v+J,R+k/2+.5],["M",v,R+k-1.5],["L",v+J,R+k-1.5]]}function h(v,R,J,k){return v=k/3-2,k=[],k=k.concat(this.circle(J-v,R,v,v),this.circle(J-v,R+v+4,v,v),this.circle(J-v,R+2*(v+4),v,v))}const s=[];o.compose=function(v){s.indexOf(v)===-1&&(s.push(v),v=v.prototype.symbols,v.menu=d,v.menuball=h.bind(v))}}(r||(r={})),r}),n(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],function(r,o){function d(){this.fullscreen=new R(this)}const{addEvent:h,fireEvent:s}=o,v=[];class R{static compose(k){o.pushUnique(v,k)&&h(k,"beforeRender",d)}constructor(k){this.chart=k,this.isOpen=!1,k=k.renderTo,this.browserProps||(typeof k.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:k.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:k.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:k.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const k=this,z=k.chart,q=z.options.chart;s(z,"fullscreenClose",null,function(){k.isOpen&&k.browserProps&&z.container.ownerDocument instanceof Document&&z.container.ownerDocument[k.browserProps.exitFullscreen](),k.unbindFullscreenEvent&&(k.unbindFullscreenEvent=k.unbindFullscreenEvent()),z.setSize(k.origWidth,k.origHeight,!1),k.origWidth=void 0,k.origHeight=void 0,q.width=k.origWidthOption,q.height=k.origHeightOption,k.origWidthOption=void 0,k.origHeightOption=void 0,k.isOpen=!1,k.setButtonText()})}open(){const k=this,z=k.chart,q=z.options.chart;s(z,"fullscreenOpen",null,function(){if(q&&(k.origWidthOption=q.width,k.origHeightOption=q.height),k.origWidth=z.chartWidth,k.origHeight=z.chartHeight,k.browserProps){const L=h(z.container.ownerDocument,k.browserProps.fullscreenChange,function(){k.isOpen?(k.isOpen=!1,k.close()):(z.setSize(null,null,!1),k.isOpen=!0,k.setButtonText())}),O=h(z,"destroy",L);k.unbindFullscreenEvent=()=>{L(),O()};const G=z.renderTo[k.browserProps.requestFullscreen]();G&&G.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var k=this.chart,z=k.exportDivElements;const q=k.options.exporting,L=q&&q.buttons&&q.buttons.contextButton.menuItems;k=k.options.lang,q&&q.menuItemDefinitions&&k&&k.exitFullscreen&&k.viewFullscreen&&L&&z&&(z=z[L.indexOf("viewFullscreen")])&&r.setElementHTML(z,this.isOpen?k.exitFullscreen:q.menuItemDefinitions.viewFullscreen.text||k.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return R}),n(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){const{doc:d}=r,{createElement:h,discardElement:s,merge:v,objectEach:R}=o,J={ajax:function(k){const z={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},q=new XMLHttpRequest;if(!k.url)return!1;q.open((k.type||"get").toUpperCase(),k.url,!0),k.headers&&k.headers["Content-Type"]||q.setRequestHeader("Content-Type",z[k.dataType||"json"]||z.text),R(k.headers,function(L,O){q.setRequestHeader(O,L)}),k.responseType&&(q.responseType=k.responseType),q.onreadystatechange=function(){let L;if(q.readyState===4){if(q.status===200){if(k.responseType!=="blob"&&(L=q.responseText,k.dataType==="json"))try{L=JSON.parse(L)}catch(O){if(O instanceof Error){k.error&&k.error(q,O);return}}return k.success&&k.success(L,q)}k.error&&k.error(q,q.responseText)}},k.data&&typeof k.data!="string"&&(k.data=JSON.stringify(k.data)),q.send(k.data)},getJSON:function(k,z){J.ajax({url:k,success:z,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(k,z,q){const L=h("form",v({method:"post",action:k,enctype:"multipart/form-data"},q),{display:"none"},d.body);R(z,function(O,G){h("input",{type:"hidden",name:G,value:O},void 0,L)}),L.submit(),s(L)}};return J}),n(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R,J,k,z){const{defaultOptions:q,setOptions:L}=h,{doc:O,SVG_NS:G,win:M}=J,{addEvent:S,css:P,createElement:H,discardElement:U,extend:E,find:ie,fireEvent:te,isObject:$,merge:V,objectEach:j,pick:w,removeEvent:I,uniqueKey:m}=z;var g;return function(b){function A(qe){const xe=this,Ie=xe.renderer,Be=V(xe.options.navigation.buttonOptions,qe),Xe=Be.onclick,Ke=Be.menuItems,pt=Be.symbolSize||12;let Tt;if(xe.btnCount||(xe.btnCount=0),xe.exportDivElements||(xe.exportDivElements=[],xe.exportSVGElements=[]),Be.enabled!==!1&&Be.theme){var Lt=Be.theme,gi;xe.styledMode||(Lt.fill=w(Lt.fill,"#ffffff"),Lt.stroke=w(Lt.stroke,"none")),Xe?gi=function(pi){pi&&pi.stopPropagation(),Xe.call(xe,pi)}:Ke&&(gi=function(pi){pi&&pi.stopPropagation(),xe.contextMenu(Wt.menuClassName,Ke,Wt.translateX,Wt.translateY,Wt.width,Wt.height,Wt),Wt.setState(2)}),Be.text&&Be.symbol?Lt.paddingLeft=w(Lt.paddingLeft,30):Be.text||E(Lt,{width:Be.width,height:Be.height,padding:0}),xe.styledMode||(Lt["stroke-linecap"]="round",Lt.fill=w(Lt.fill,"#ffffff"),Lt.stroke=w(Lt.stroke,"none"));var Wt=Ie.button(Be.text,0,0,gi,Lt,void 0,void 0,void 0,void 0,Be.useHTML).addClass(qe.className).attr({title:w(xe.options.lang[Be._titleKey||Be.titleKey],"")});Wt.menuClassName=qe.menuClassName||"highcharts-menu-"+xe.btnCount++,Be.symbol&&(Tt=Ie.symbol(Be.symbol,Be.symbolX-pt/2,Be.symbolY-pt/2,pt,pt,{width:pt,height:pt}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Wt),xe.styledMode||Tt.attr({stroke:Be.symbolStroke,fill:Be.symbolFill,"stroke-width":Be.symbolStrokeWidth||1})),Wt.add(xe.exportingGroup).align(E(Be,{width:Wt.width,x:w(Be.x,xe.buttonOffset)}),!0,"spacingBox"),xe.buttonOffset+=(Wt.width+Be.buttonSpacing)*(Be.align==="right"?-1:1),xe.exportSVGElements.push(Wt,Tt)}}function X(){if(this.printReverseInfo){var{childNodes:qe,origDisplay:xe,resetParams:Ie}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(qe,function(Be,Xe){Be.nodeType===1&&(Be.style.display=xe[Xe]||"")}),this.isPrinting=!1,Ie&&this.setSize.apply(this,Ie),delete this.printReverseInfo,Qe=void 0,te(this,"afterPrint")}}function Y(){const qe=O.body,xe=this.options.exporting.printMaxWidth,Ie={childNodes:qe.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),te(this,"beforePrint"),xe&&this.chartWidth>xe&&(Ie.resetParams=[this.options.chart.width,void 0,!1],this.setSize(xe,void 0,!1)),[].forEach.call(Ie.childNodes,function(Be,Xe){Be.nodeType===1&&(Ie.origDisplay[Xe]=Be.style.display,Be.style.display="none")}),this.moveContainers(qe),this.printReverseInfo=Ie}function K(qe){qe.renderExporting(),S(qe,"redraw",qe.renderExporting),S(qe,"destroy",qe.destroyExport)}function le(qe,xe,Ie,Be,Xe,Ke,pt){const Tt=this,Lt=Tt.options.navigation,gi=Tt.chartWidth,Wt=Tt.chartHeight,pi="cache-"+qe,Gi=Math.max(Xe,Ke);let ht,It=Tt[pi];It||(Tt.exportContextMenu=Tt[pi]=It=H("div",{className:qe},{position:"absolute",zIndex:1e3,padding:Gi+"px",pointerEvents:"auto"},Tt.fixedDiv||Tt.container),ht=H("ul",{className:"highcharts-menu"},Tt.styledMode?{}:{listStyle:"none",margin:0,padding:0},It),Tt.styledMode||P(ht,E({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},Lt.menuStyle)),It.hideMenu=function(){P(It,{display:"none"}),pt&&pt.setState(0),Tt.openMenu=!1,P(Tt.renderTo,{overflow:"hidden"}),P(Tt.container,{overflow:"hidden"}),z.clearTimeout(It.hideTimer),te(Tt,"exportMenuHidden")},Tt.exportEvents.push(S(It,"mouseleave",function(){It.hideTimer=M.setTimeout(It.hideMenu,500)}),S(It,"mouseenter",function(){z.clearTimeout(It.hideTimer)}),S(O,"mouseup",function(ei){Tt.pointer.inClass(ei.target,qe)||It.hideMenu()}),S(It,"click",function(){Tt.openMenu&&It.hideMenu()})),xe.forEach(function(ei){if(typeof ei=="string"&&(ei=Tt.options.exporting.menuItemDefinitions[ei]),$(ei,!0)){let Pi;ei.separator?Pi=H("hr",void 0,void 0,ht):(ei.textKey==="viewData"&&Tt.isDataTableVisible&&(ei.textKey="hideData"),Pi=H("li",{className:"highcharts-menu-item",onclick:function(an){an&&an.stopPropagation(),It.hideMenu(),ei.onclick&&ei.onclick.apply(Tt,arguments)}},void 0,ht),r.setElementHTML(Pi,ei.text||Tt.options.lang[ei.textKey]),Tt.styledMode||(Pi.onmouseover=function(){P(this,Lt.menuItemHoverStyle)},Pi.onmouseout=function(){P(this,Lt.menuItemStyle)},P(Pi,E({cursor:"pointer"},Lt.menuItemStyle||{})))),Tt.exportDivElements.push(Pi)}}),Tt.exportDivElements.push(ht,It),Tt.exportMenuWidth=It.offsetWidth,Tt.exportMenuHeight=It.offsetHeight),xe={display:"block"},Ie+Tt.exportMenuWidth>gi?xe.right=gi-Ie-Xe-Gi+"px":xe.left=Ie-Gi+"px",Be+Ke+Tt.exportMenuHeight>Wt&&pt.alignOptions.verticalAlign!=="top"?xe.bottom=Wt-Be-Gi+"px":xe.top=Be+Ke-Gi+"px",P(It,xe),P(Tt.renderTo,{overflow:""}),P(Tt.container,{overflow:""}),Tt.openMenu=!0,te(Tt,"exportMenuShown")}function he(qe){const xe=qe?qe.target:this,Ie=xe.exportSVGElements,Be=xe.exportDivElements;qe=xe.exportEvents;let Xe;Ie&&(Ie.forEach((Ke,pt)=>{Ke&&(Ke.onclick=Ke.ontouchstart=null,Xe="cache-"+Ke.menuClassName,xe[Xe]&&delete xe[Xe],Ie[pt]=Ke.destroy())}),Ie.length=0),xe.exportingGroup&&(xe.exportingGroup.destroy(),delete xe.exportingGroup),Be&&(Be.forEach(function(Ke,pt){Ke&&(z.clearTimeout(Ke.hideTimer),I(Ke,"mouseleave"),Be[pt]=Ke.onmouseout=Ke.onmouseover=Ke.ontouchstart=Ke.onclick=null,U(Ke))}),Be.length=0),qe&&(qe.forEach(function(Ke){Ke()}),qe.length=0)}function pe(qe,xe){xe=this.getSVGForExport(qe,xe),qe=V(this.options.exporting,qe),k.post(qe.url,{filename:qe.filename?qe.filename.replace(/\//g,"-"):this.getFilename(),type:qe.type,width:qe.width,scale:qe.scale,svg:xe},qe.formAttributes)}function F(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function Q(){const qe=this.userOptions.title&&this.userOptions.title.text;let xe=this.options.exporting.filename;return xe?xe.replace(/\//g,"-"):(typeof qe=="string"&&(xe=qe.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!xe||5>xe.length)&&(xe="chart"),xe)}function ce(qe){let xe,Ie=V(this.options,qe);Ie.plotOptions=V(this.userOptions.plotOptions,qe&&qe.plotOptions),Ie.time=V(this.userOptions.time,qe&&qe.time);const Be=H("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},O.body);var Xe=this.renderTo.style.width,Ke=this.renderTo.style.height;Xe=Ie.exporting.sourceWidth||Ie.chart.width||/px$/.test(Xe)&&parseInt(Xe,10)||(Ie.isGantt?800:600),Ke=Ie.exporting.sourceHeight||Ie.chart.height||/px$/.test(Ke)&&parseInt(Ke,10)||400,E(Ie.chart,{animation:!1,renderTo:Be,forExport:!0,renderer:"SVGRenderer",width:Xe,height:Ke}),Ie.exporting.enabled=!1,delete Ie.data,Ie.series=[],this.series.forEach(function(Lt){xe=V(Lt.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Lt.visible}),xe.isInternal||Ie.series.push(xe)});const pt={};this.axes.forEach(function(Lt){Lt.userOptions.internalKey||(Lt.userOptions.internalKey=m()),Lt.options.isInternal||(pt[Lt.coll]||(pt[Lt.coll]=!0,Ie[Lt.coll]=[]),Ie[Lt.coll].push(V(Lt.userOptions,{visible:Lt.visible})))});const Tt=new this.constructor(Ie,this.callback);return qe&&["xAxis","yAxis","series"].forEach(function(Lt){const gi={};qe[Lt]&&(gi[Lt]=qe[Lt],Tt.update(gi))}),this.axes.forEach(function(Lt){const gi=ie(Tt.axes,function(Gi){return Gi.options.internalKey===Lt.userOptions.internalKey});var Wt=Lt.getExtremes();const pi=Wt.userMin;Wt=Wt.userMax,gi&&(typeof pi<"u"&&pi!==gi.min||typeof Wt<"u"&&Wt!==gi.max)&&gi.setExtremes(pi,Wt,!0,!1)}),Ke=Tt.getChartHTML(),te(this,"getSVG",{chartCopy:Tt}),Ke=this.sanitizeSVG(Ke,Ie),Ie=null,Tt.destroy(),U(Be),Ke}function ge(qe,xe){const Ie=this.options.exporting;return this.getSVG(V({chart:{borderRadius:0}},Ie.chartOptions,xe,{exporting:{sourceWidth:qe&&qe.sourceWidth||Ie.sourceWidth,sourceHeight:qe&&qe.sourceHeight||Ie.sourceHeight}}))}function ke(qe){return qe.replace(/([A-Z])/g,function(xe,Ie){return"-"+Ie.toLowerCase()})}function re(){function qe(Tt){const Lt={};let gi,Wt;if(pt&&Tt.nodeType===1&&st.indexOf(Tt.nodeName)===-1){if(gi=M.getComputedStyle(Tt,null),Wt=Tt.nodeName==="svg"?{}:M.getComputedStyle(Tt.parentNode,null),!Be[Tt.nodeName]){Xe=pt.getElementsByTagName("svg")[0];var pi=pt.createElementNS(Tt.namespaceURI,Tt.nodeName);Xe.appendChild(pi);var Gi=M.getComputedStyle(pi,null),ht={};for(var It in Gi)typeof Gi[It]!="string"||/^[0-9]+$/.test(It)||(ht[It]=Gi[It]);Be[Tt.nodeName]=ht,Tt.nodeName==="text"&&delete Be.text.fill,Xe.removeChild(pi)}for(const Pi in gi)if(J.isFirefox||J.isMS||J.isSafari||Object.hasOwnProperty.call(gi,Pi)){It=gi[Pi];var ei=Pi;if(pi=Gi=!1,Ie.length){for(ht=Ie.length;ht--&&!Gi;)Gi=Ie[ht].test(ei);pi=!Gi}for(ei==="transform"&&It==="none"&&(pi=!0),ht=xe.length;ht--&&!pi;)pi=xe[ht].test(ei)||typeof It=="function";pi||Wt[ei]===It&&Tt.nodeName!=="svg"||Be[Tt.nodeName][ei]===It||(Ue&&Ue.indexOf(ei)===-1?Lt[ei]=It:It&&Tt.setAttribute(ke(ei),It))}P(Tt,Lt),Tt.nodeName==="svg"&&Tt.setAttribute("stroke-width","1px"),Tt.nodeName!=="text"&&[].forEach.call(Tt.children||Tt.childNodes,qe)}}const xe=Oe,Ie=b.inlineAllowlist,Be={};let Xe;const Ke=O.createElement("iframe");P(Ke,{width:"1px",height:"1px",visibility:"hidden"}),O.body.appendChild(Ke);const pt=Ke.contentWindow&&Ke.contentWindow.document;pt&&pt.body.appendChild(pt.createElementNS(G,"svg")),qe(this.container.querySelector("svg")),Xe.parentNode.removeChild(Xe),Ke.parentNode.removeChild(Ke)}function ve(qe){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(xe){qe.appendChild(xe)})}function _e(){const qe=this;qe.exporting={update:function(xe,Ie){qe.isDirtyExporting=!0,V(!0,qe.options.exporting,xe),w(Ie,!0)&&qe.redraw()}},d.compose(qe).navigation.addUpdate((xe,Ie)=>{qe.isDirtyExporting=!0,V(!0,qe.options.navigation,xe),w(Ie,!0)&&qe.redraw()})}function oe(){const qe=this;qe.isPrinting||(Qe=qe,J.isSafari||qe.beforePrint(),setTimeout(()=>{M.focus(),M.print(),J.isSafari||setTimeout(()=>{qe.afterPrint()},1e3)},1))}function ye(){const qe=this,xe=qe.options.exporting,Ie=xe.buttons,Be=qe.isDirtyExporting||!qe.exportSVGElements;qe.buttonOffset=0,qe.isDirtyExporting&&qe.destroyExport(),Be&&xe.enabled!==!1&&(qe.exportEvents=[],qe.exportingGroup=qe.exportingGroup||qe.renderer.g("exporting-group").attr({zIndex:3}).add(),j(Ie,function(Xe){qe.addButton(Xe)}),qe.isDirtyExporting=!1)}function Se(qe,xe){const Ie=qe.indexOf("</svg>")+6;let Be=qe.substr(Ie);return qe=qe.substr(0,Ie),xe&&xe.exporting&&xe.exporting.allowHTML&&Be&&(Be='<foreignObject x="0" y="0" width="'+xe.chart.width+'" height="'+xe.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Be.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",qe=qe.replace("</svg>",Be+"</svg>")),qe=qe.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}const Re=[],Oe=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],Ue="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");b.inlineAllowlist=[];const st=["clipPath","defs","desc"];let Qe;b.compose=function(qe,xe){v.compose(xe),R.compose(qe),z.pushUnique(Re,qe)&&(xe=qe.prototype,xe.afterPrint=X,xe.exportChart=pe,xe.inlineStyles=re,xe.print=oe,xe.sanitizeSVG=Se,xe.getChartHTML=F,xe.getSVG=ce,xe.getSVGForExport=ge,xe.getFilename=Q,xe.moveContainers=ve,xe.beforePrint=Y,xe.contextMenu=le,xe.addButton=A,xe.destroyExport=he,xe.renderExporting=ye,xe.callbacks.push(K),S(qe,"init",_e),J.isSafari&&J.win.matchMedia("print").addListener(function(Ie){Qe&&(Ie.matches?Qe.beforePrint():Qe.afterPrint())})),z.pushUnique(Re,L)&&(q.exporting=V(s.exporting,q.exporting),q.lang=V(s.lang,q.lang),q.navigation=V(s.navigation,q.navigation))}}(g||(g={})),g}),n(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],function(r,o,d){r.HttpUtilities=d,r.ajax=d.ajax,r.getJSON=d.getJSON,r.post=d.post,o.compose(r.Chart,r.Renderer)})})})($6);var DQ=$6.exports;const V6=Mu(DQ),G6=["#2f7ed8","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#0d233a"];var H6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ra,function(){var n="__v-click-outside",r=typeof window<"u",o=typeof navigator<"u",d=r&&("ontouchstart"in window||o&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],h=function(J){var k=J.event,z=J.handler;(0,J.middleware)(k)&&z(k)},s=function(J,k){var z=function(S){var P=typeof S=="function";if(!P&&typeof S!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:P?S:S.handler,middleware:S.middleware||function(H){return H},events:S.events||d,isActive:S.isActive!==!1,detectIframe:S.detectIframe!==!1,capture:!!S.capture}}(k.value),q=z.handler,L=z.middleware,O=z.detectIframe,G=z.capture;if(z.isActive){if(J[n]=z.events.map(function(S){return{event:S,srcTarget:document.documentElement,handler:function(P){return function(H){var U=H.el,E=H.event,ie=H.handler,te=H.middleware,$=E.path||E.composedPath&&E.composedPath();($?$.indexOf(U)<0:!U.contains(E.target))&&h({event:E,handler:ie,middleware:te})}({el:J,event:P,handler:q,middleware:L})},capture:G}}),O){var M={event:"blur",srcTarget:window,handler:function(S){return function(P){var H=P.el,U=P.event,E=P.handler,ie=P.middleware;setTimeout(function(){var te=document.activeElement;te&&te.tagName==="IFRAME"&&!H.contains(te)&&h({event:U,handler:E,middleware:ie})},0)}({el:J,event:S,handler:q,middleware:L})},capture:G};J[n]=[].concat(J[n],[M])}J[n].forEach(function(S){var P=S.event,H=S.srcTarget,U=S.handler;return setTimeout(function(){J[n]&&H.addEventListener(P,U,G)},0)})}},v=function(J){(J[n]||[]).forEach(function(k){return k.srcTarget.removeEventListener(k.event,k.handler,k.capture)}),delete J[n]},R=r?{beforeMount:s,updated:function(J,k){var z=k.value,q=k.oldValue;JSON.stringify(z)!==JSON.stringify(q)&&(v(J),s(J,{value:z}))},unmounted:v}:{};return{install:function(J){J.directive("click-outside",R)},directive:R}})})(H6);var IQ=H6.exports;const LQ=Mu(IQ),OQ={props:{options:Array,type:{type:String,default:"select"},default:{type:Array,default:()=>[]}},data(){return{show:!1,selected:[]}},methods:{showDropdown(){this.show=!this.show},hide(){this.show=!1},groupBy(e,t){return e.reduce((n,r,o)=>{var d;return(n[d=t(r,o,e)]||(n[d]=[])).push(r),n},{})}},computed:{groups(){return this.options.length>0&&this.options[0].hasOwnProperty("group")?this.groupBy(this.options,e=>e.group):this.options},selectAll:{get(){return this.options?this.selected.length==this.options.length:!1},set(e){e?this.selected=this.options:this.selected=[]}}},watch:{selected(e){this.$emit("checked",e)},default(e){this.selected=e}},directives:{clickOutside:LQ.directive}},RQ={class:"dd"},BQ={id:"list1",class:"dropdown-check-list",tabindex:"100"},zQ=_d('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-adjustments-horizontal" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 6l8 0"></path><path d="M16 6l4 0"></path><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 12l2 0"></path><path d="M10 12l10 0"></path><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 18l11 0"></path><path d="M19 18l1 0"></path></svg>',1),NQ=[zQ],FQ={key:2,class:"items"},jQ={class:"bb"},UQ={for:"check-all"},$Q={key:0},VQ=["id","value"],GQ=["for"],HQ={key:1},WQ=["id","value"],YQ=["for"];function qQ(e,t,n,r,o,d){const h=Bb("click-outside");return po((bt(),Bt("div",RQ,[Ye("div",BQ,[n.type=="select"?(bt(),Bt("span",{key:0,class:"anchor form-control",onClick:t[0]||(t[0]=(...s)=>d.showDropdown&&d.showDropdown(...s))}," Select Parameter ")):vi("",!0),n.type=="icon"?(bt(),Bt("span",{key:1,class:"icon",onClick:t[1]||(t[1]=(...s)=>d.showDropdown&&d.showDropdown(...s))},NQ)):vi("",!0),o.show?(bt(),Bt("ul",FQ,[Ye("li",jQ,[Ye("div",null,[po(Ye("input",{id:"check-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=s=>d.selectAll=s)},null,512),[[lf,d.selectAll]]),Ye("label",UQ,[d.selectAll?(bt(),Bt(cn,{key:1},[ds("Uncheck All")],64)):(bt(),Bt(cn,{key:0},[ds("Check All")],64))])])]),(bt(!0),Bt(cn,null,_r(d.groups,(s,v)=>(bt(),Bt("li",{key:v},[Array.isArray(s)?(bt(),Bt("div",$Q,[Ye("span",null,Yi(v),1),(bt(!0),Bt(cn,null,_r(s,(R,J)=>(bt(),Bt("div",{key:J},[po(Ye("input",{type:"checkbox",id:J,value:R,"onUpdate:modelValue":t[3]||(t[3]=k=>o.selected=k)},null,8,VQ),[[lf,o.selected]]),Ye("label",{for:J},Yi(R.text),9,GQ)]))),128))])):vi("",!0),Array.isArray(s)?vi("",!0):(bt(),Bt("div",HQ,[po(Ye("input",{type:"checkbox",id:v,value:s,"onUpdate:modelValue":t[4]||(t[4]=R=>o.selected=R)},null,8,WQ),[[lf,o.selected]]),Ye("label",{for:v},Yi(s.text),9,YQ)]))]))),128))])):vi("",!0)])])),[[h,d.hide]])}const W6=zr(OQ,[["render",qQ]]),Oa=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,o,d,h){if(arguments.length===1&&ZQ(r)==="string"&&!/\d/.test(r)&&(o=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");o=String(Oa.masks[o]||o||Oa.masks.default);var s=o.slice(0,4);(s==="UTC:"||s==="GMT:")&&(o=o.slice(4),d=!0,s==="GMT:"&&(h=!0));var v=d?"getUTC":"get",R=r[v+"Date"](),J=r[v+"Day"](),k=r[v+"Month"](),z=r[v+"FullYear"](),q=r[v+"Hours"](),L=r[v+"Minutes"](),O=r[v+"Seconds"](),G=r[v+"Milliseconds"](),M=d?0:r.getTimezoneOffset(),S=Y6(r),P=XQ(r),H={d:R,dd:Vh(R),ddd:Oa.i18n.dayNames[J],dddd:Oa.i18n.dayNames[J+7],m:k+1,mm:Vh(k+1),mmm:Oa.i18n.monthNames[k],mmmm:Oa.i18n.monthNames[k+12],yy:String(z).slice(2),yyyy:z,h:q%12||12,hh:Vh(q%12||12),H:q,HH:Vh(q),M:L,MM:Vh(L),s:O,ss:Vh(O),l:Vh(G,3),L:Vh(Math.round(G/10)),t:q<12?Oa.i18n.timeNames[0]:Oa.i18n.timeNames[1],tt:q<12?Oa.i18n.timeNames[2]:Oa.i18n.timeNames[3],T:q<12?Oa.i18n.timeNames[4]:Oa.i18n.timeNames[5],TT:q<12?Oa.i18n.timeNames[6]:Oa.i18n.timeNames[7],Z:h?"GMT":d?"UTC":(String(r).match(t)||[""]).pop().replace(n,""),o:(M>0?"-":"+")+Vh(Math.floor(Math.abs(M)/60)*100+Math.abs(M)%60,4),S:["th","st","nd","rd"][R%10>3?0:(R%100-R%10!=10)*R%10],W:S,N:P};return o.replace(e,function(U){return U in H?H[U]:U.slice(1,U.length-1)})}}();Oa.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};Oa.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function Vh(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function Y6(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-n)/(864e5*7);return 1+Math.floor(o)}function XQ(e){var t=e.getDay();return t===0&&(t=7),t}function ZQ(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}const q6={isSame:(e,t,n)=>{let r=new Date(e),o=new Date(t);return n==="date"&&(r.setHours(0,0,0,0),o.setHours(0,0,0,0)),r.getTime()===o.getTime()},daysInMonth:(e,t)=>new Date(e,t,0).getDate(),weekNumber:e=>Y6(e),format:(e,t)=>Oa(e,t),nextMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t},prevMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()-1),t},validateDateRange:(e,t,n)=>{let r=new Date(n),o=new Date(t);return n&&e.getTime()>r.getTime()?r:t&&e.getTime()<o.getTime()?o:e},localeData:e=>({...{direction:"ltr",format:"mm/dd/yyyy",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Oa.i18n.dayNames.slice(0,7).map(n=>n.substring(0,2)),monthNames:Oa.i18n.monthNames.slice(0,12),firstDay:0},...e}),yearMonth:e=>{let t=e.getMonth()+1;return e.getFullYear()+(t<10?"0":"")+t},isValidDate:e=>e instanceof Date&&!isNaN(e)},G5={props:{dateUtil:{type:[Object,String],default:"native"}},created(){this.$dateUtil=q6}},KQ={mixins:[G5],name:"calendar",props:{monthDate:Date,localeData:Object,start:Date,end:Date,minDate:Date,maxDate:Date,showDropdowns:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},dateFormat:{type:Function,default:null}},data(){let e=this.monthDate||this.start||new Date;return{currentMonthDate:e,year_text:e.getFullYear()}},methods:{prevMonthClick(){this.changeMonthDate(this.$dateUtil.prevMonth(this.currentMonthDate))},nextMonthClick(){this.changeMonthDate(this.$dateUtil.nextMonth(this.currentMonthDate))},changeMonthDate(e,t=!0){let n=this.$dateUtil.yearMonth(this.currentMonthDate);this.currentMonthDate=this.$dateUtil.validateDateRange(e,this.minDate,this.maxDate),t&&n!==this.$dateUtil.yearMonth(this.currentMonthDate)&&this.$emit("change-month",{month:this.currentMonthDate.getMonth()+1,year:this.currentMonthDate.getFullYear()}),this.checkYear()},dayClass(e){let t=new Date(e);t.setHours(0,0,0,0);let n=new Date(this.start);n.setHours(0,0,0,0);let r=new Date(this.end);r.setHours(0,0,0,0);let o={off:e.getMonth()+1!==this.month,weekend:e.getDay()===6||e.getDay()===0,today:t.setHours(0,0,0,0)==new Date().setHours(0,0,0,0),active:t.setHours(0,0,0,0)==new Date(this.start).setHours(0,0,0,0)||t.setHours(0,0,0,0)==new Date(this.end).setHours(0,0,0,0),"in-range":t>=n&&t<=r,"start-date":t.getTime()===n.getTime(),"end-date":t.getTime()===r.getTime(),disabled:this.minDate&&t.getTime()<this.minDate.getTime()||this.maxDate&&t.getTime()>this.maxDate.getTime()};return this.dateFormat?this.dateFormat(o,e):o},checkYear(){this.$refs.yearSelect!==document.activeElement&&this.$nextTick(()=>{this.year_text=this.monthDate.getFullYear()})}},computed:{monthName(){return this.locale.monthNames[this.currentMonthDate.getMonth()]},year:{get(){return this.year_text},set(e){this.year_text=e;let t=this.$dateUtil.validateDateRange(new Date(e,this.month,1),this.minDate,this.maxDate);this.$dateUtil.isValidDate(t)&&this.$emit("change-month",{month:t.getMonth(),year:t.getFullYear()})}},month:{get(){return this.currentMonthDate.getMonth()+1},set(e){let t=this.$dateUtil.validateDateRange(new Date(this.year,e-1,1),this.minDate,this.maxDate);this.$emit("change-month",{month:t.getMonth()+1,year:t.getFullYear()})}},calendar(){let e=this.month,t=this.currentMonthDate.getFullYear(),n=new Date(t,e-1,1),r=this.$dateUtil.prevMonth(n).getMonth()+1,o=this.$dateUtil.prevMonth(n).getFullYear(),d=new Date(o,e-1,0).getDate(),h=n.getDay(),s=[];for(let J=0;J<6;J++)s[J]=[];let v=d-h+this.locale.firstDay+1;v>d&&(v-=7),h===this.locale.firstDay&&(v=d-6);let R=new Date(o,r-1,v,12,0,0);for(let J=0,k=0,z=0;J<6*7;J++,k++,R.setDate(R.getDate()+1))J>0&&k%7===0&&(k=0,z++),s[z][k]=new Date(R.getTime());return s},months(){let e=this.locale.monthNames.map((t,n)=>({label:t,value:n}));if(this.maxDate&&this.minDate){let t=this.maxDate.getFullYear()-this.minDate.getFullYear();if(t<2){let n=[];if(t<1)for(let r=this.minDate.getMonth();r<=this.maxDate.getMonth();r++)n.push(r);else{for(let r=0;r<=this.maxDate.getMonth();r++)n.push(r);for(let r=this.minDate.getMonth();r<12;r++)n.push(r)}if(n.length>0)return e.filter(r=>n.find(o=>r.value===o)>-1)}}return e},locale(){return this.$dateUtil.localeData(this.localeData)}},watch:{monthDate(e){this.currentMonthDate.getTime()!==e.getTime()&&this.changeMonthDate(e,!1)}}},X6=e=>(K0("data-v-66e2a2e7"),e=e(),J0(),e),JQ={class:"table-condensed"},QQ=X6(()=>Ye("span",null,null,-1)),eee=[QQ],tee=["colspan"],iee={class:"row mx-1"},nee=["value"],ree=["colspan"],see=X6(()=>Ye("span",null,null,-1)),oee=[see],aee={key:0,class:"week"},lee={key:0,class:"week"},cee=["onClick","onMouseover"];function dee(e,t,n,r,o,d){return bt(),Bt("table",JQ,[Ye("thead",null,[Ye("tr",null,[Ye("th",{class:"prev available",onClick:t[0]||(t[0]=(...h)=>d.prevMonthClick&&d.prevMonthClick(...h)),tabindex:"0"},eee),n.showDropdowns?(bt(),Bt("th",{key:0,colspan:n.showWeekNumbers?6:5,class:"month"},[Ye("div",iee,[po(Ye("select",{"onUpdate:modelValue":t[1]||(t[1]=h=>d.month=h),class:"monthselect col"},[(bt(!0),Bt(cn,null,_r(d.months,h=>(bt(),Bt("option",{key:h.value,value:h.value+1},Yi(h.label),9,nee))),128))],512),[[xu,d.month]]),po(Ye("input",{ref:"yearSelect",type:"number","onUpdate:modelValue":t[2]||(t[2]=h=>d.year=h),onBlur:t[3]||(t[3]=(...h)=>d.checkYear&&d.checkYear(...h)),class:"yearselect col"},null,544),[[Su,d.year]])])],8,tee)):(bt(),Bt("th",{key:1,colspan:n.showWeekNumbers?6:5,class:"month"},Yi(d.monthName)+" "+Yi(d.year),9,ree)),Ye("th",{class:"next available",onClick:t[4]||(t[4]=(...h)=>d.nextMonthClick&&d.nextMonthClick(...h)),tabindex:"0"},oee)])]),Ye("tbody",null,[Ye("tr",null,[n.showWeekNumbers?(bt(),Bt("th",aee,Yi(d.locale.weekLabel),1)):vi("",!0),(bt(!0),Bt(cn,null,_r(d.locale.daysOfWeek,h=>(bt(),Bt("th",{key:h},Yi(h),1))),128))]),(bt(!0),Bt(cn,null,_r(d.calendar,(h,s)=>(bt(),Bt("tr",{key:s},[n.showWeekNumbers&&(s%7||s===0)?(bt(),Bt("td",lee,Yi(e.$dateUtil.weekNumber(h[0])),1)):vi("",!0),(bt(!0),Bt(cn,null,_r(h,(v,R)=>(bt(),Bt("td",{class:ar(d.dayClass(v)),onClick:J=>e.$emit("dateClick",v),onMouseover:J=>e.$emit("hoverDate",v),key:R},[xn(e.$slots,"date-slot",{date:v},()=>[ds(Yi(v.getDate()),1)],!0)],42,cee))),128))]))),128))])])}const uee=zr(KQ,[["render",dee],["__scopeId","data-v-66e2a2e7"]]),hee={props:{miniuteIncrement:{type:Number,default:5},hour24:{type:Boolean,default:!0},secondPicker:{type:Boolean,default:!1},currentTime:{default(){return new Date}},readonly:{type:Boolean,default:!1}},data(){let e=this.currentTime?this.currentTime:new Date,t=e.getHours();return{hour:this.hour24?t:t%12||12,minute:e.getMinutes()-e.getMinutes()%this.miniuteIncrement,second:e.getSeconds(),ampm:t<12?"AM":"PM"}},computed:{hours(){let e=[],t=this.hour24?24:12;for(let n=0;n<t;n++)e.push(this.hour24?n:n+1);return e},minutes(){let e=[],t=60;for(let n=0;n<t;n=n+this.miniuteIncrement)e.push(n);return e}},watch:{hour(){this.onChange()},minute(){this.onChange()},second(){this.onChange()},ampm(){this.onChange()}},methods:{formatNumber:e=>e<10?"0"+e.toString():e.toString(),getHour(){return this.hour24?this.hour:this.hour===12?this.ampm==="AM"?0:12:this.hour+(this.ampm==="PM"?12:0)},onChange(){this.$emit("update",{hours:this.getHour(),minutes:this.minute,seconds:this.second})}}},pee={class:"calendar-time"},fee=["disabled"],mee=["value"],gee=["disabled"],yee=["value"],_ee=["disabled"],vee=["value"],xee=["disabled"],bee=Ye("option",{value:"AM"},"AM",-1),wee=Ye("option",{value:"PM"},"PM",-1),Tee=[bee,wee];function See(e,t,n,r,o,d){return bt(),Bt("div",pee,[po(Ye("select",{"onUpdate:modelValue":t[0]||(t[0]=h=>o.hour=h),class:"hourselect form-control mr-1",disabled:n.readonly},[(bt(!0),Bt(cn,null,_r(d.hours,h=>(bt(),Bt("option",{key:h,value:h},Yi(d.formatNumber(h)),9,mee))),128))],8,fee),[[xu,o.hour]]),ds(" :"),po(Ye("select",{"onUpdate:modelValue":t[1]||(t[1]=h=>o.minute=h),class:"minuteselect form-control ml-1",disabled:n.readonly},[(bt(!0),Bt(cn,null,_r(d.minutes,h=>(bt(),Bt("option",{key:h,value:h},Yi(d.formatNumber(h)),9,yee))),128))],8,gee),[[xu,o.minute]]),n.secondPicker?(bt(),Bt(cn,{key:0},[ds(" :"),po(Ye("select",{"onUpdate:modelValue":t[2]||(t[2]=h=>o.second=h),class:"secondselect form-control ml-1",disabled:n.readonly},[(bt(),Bt(cn,null,_r(60,h=>Ye("option",{key:h-1,value:h-1},Yi(d.formatNumber(h-1)),9,vee)),64))],8,_ee),[[xu,o.second]])],64)):vi("",!0),n.hour24?vi("",!0):po((bt(),Bt("select",{key:1,"onUpdate:modelValue":t[3]||(t[3]=h=>o.ampm=h),class:"ampmselect",disabled:n.readonly},Tee,8,xee)),[[xu,o.ampm]])])}const Cee=zr(hee,[["render",See]]),Eee={mixins:[G5],props:{ranges:Object,selected:Object,localeData:Object,alwaysShowCalendars:Boolean},data(){return{customRangeActive:!1}},methods:{clickRange(e){this.customRangeActive=!1,this.$emit("clickRange",e)},clickCustomRange(){this.customRangeActive=!0,this.$emit("showCustomRange")},range_class(e){return{active:e.selected===!0}}},computed:{listedRanges(){return this.ranges?Object.keys(this.ranges).map(e=>({label:e,value:this.ranges[e],selected:this.$dateUtil.isSame(this.selected.startDate,this.ranges[e][0])&&this.$dateUtil.isSame(this.selected.endDate,this.ranges[e][1])})):!1},selectedRange(){return this.listedRanges.find(e=>e.selected===!0)},showCustomRangeLabel(){return!this.alwaysShowCalendars}}},Mee={class:"ranges"},kee={key:0},Aee=["onClick","data-range-key"];function Pee(e,t,n,r,o,d){return bt(),Bt("div",Mee,[n.ranges?(bt(),Bt("ul",kee,[(bt(!0),Bt(cn,null,_r(d.listedRanges,h=>(bt(),Bt("li",{onClick:s=>d.clickRange(h.value),"data-range-key":h.label,key:h.label,class:ar(d.range_class(h)),tabindex:"0"},Yi(h.label),11,Aee))),128)),d.showCustomRangeLabel?(bt(),Bt("li",{key:0,class:ar({active:o.customRangeActive||!d.selectedRange}),onClick:t[0]||(t[0]=(...h)=>d.clickCustomRange&&d.clickCustomRange(...h)),tabindex:"0"},Yi(n.localeData.customRangeLabel),3)):vi("",!0)])):vi("",!0)])}const Dee=zr(Eee,[["render",Pee]]),Iee={mounted(e,{instance:t}){if(t.appendToBody){const{height:n,top:r,left:o,width:d,right:h}=t.$refs.toggle.getBoundingClientRect();e.unbindPosition=t.calculatePosition(e,t,{width:d,top:window.scrollY+r+n,left:window.scrollX+o,right:h}),document.body.appendChild(e)}else t.$el.appendChild(e)},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},Lee={inheritAttrs:!1,components:{Calendar:uee,CalendarTime:Cee,CalendarRanges:Dee},mixins:[G5],directives:{appendToBody:Iee},emits:["update:modelValue","toggle","hoverDate","startSelection","select","change-month","finishSelection"],props:{modelValue:{type:Object},minDate:{type:[String,Date],default(){return null}},maxDate:{type:[String,Date],default(){return null}},showWeekNumbers:{type:Boolean,default:!1},linkedCalendars:{type:Boolean,default:!0},singleDatePicker:{type:[Boolean,String],default:!1},showDropdowns:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},timePickerIncrement:{type:Number,default:5},timePicker24Hour:{type:Boolean,default:!0},timePickerSeconds:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},localeData:{type:Object,default(){return{}}},dateRange:{type:[Object],default:null,required:!0},ranges:{type:[Object,Boolean],default(){let e=new Date;e.setHours(0,0,0,0);let t=new Date;t.setHours(11,59,59,999);let n=new Date;n.setDate(e.getDate()-1),n.setHours(0,0,0,0);let r=new Date;r.setDate(e.getDate()-1),r.setHours(11,59,59,999);let o=new Date(e.getFullYear(),e.getMonth(),1),d=new Date(e.getFullYear(),e.getMonth()+1,0,11,59,59,999);return{Today:[e,t],Yesterday:[n,r],"This month":[o,d],"This year":[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31,11,59,59,999)],"Last month":[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0,11,59,59,999)]}}},opens:{type:String,default:"center"},dateFormat:Function,alwaysShowCalendars:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},controlContainerClass:{type:[Object,String],default:"form-control reportrange-text"},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:n,top:r,left:o,right:d}){t.opens==="center"?e.style.left=o+n/2+"px":t.opens==="left"?e.style.right=window.innerWidth-d+"px":t.opens==="right"&&(e.style.left=o+"px"),e.style.top=r+"px"}},closeOnEsc:{type:Boolean,default:!0},readonly:{type:Boolean}},data(){const e=q6;let t={locale:e.localeData({...this.localeData})},n=this.dateRange.startDate||null,r=this.dateRange.endDate||null;if(t.monthDate=n?new Date(n):new Date,t.nextMonthDate=e.nextMonth(t.monthDate),t.start=n?new Date(n):null,this.singleDatePicker&&this.singleDatePicker!=="range"?t.end=t.start:t.end=r?new Date(r):null,t.in_selection=!1,t.open=!1,t.showCustomRangeCalendars=!1,t.locale.firstDay!==0){let o=t.locale.firstDay,d=[...t.locale.daysOfWeek];for(;o>0;)d.push(d.shift()),o--;t.locale.daysOfWeek=d}return t},methods:{dateFormatFn(e,t){let n=new Date(t);n.setHours(0,0,0,0);let r=new Date(this.start);r.setHours(0,0,0,0);let o=new Date(this.end);return o.setHours(0,0,0,0),e["in-range"]=n>=r&&n<=o,this.dateFormat?this.dateFormat(e,t):e},changeLeftMonth(e){let t=new Date(e.year,e.month-1,1);this.monthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.monthDate)>=this.$dateUtil.yearMonth(this.nextMonthDate))&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(t),this.minDate,this.maxDate),(!this.singleDatePicker||this.singleDatePicker==="range")&&this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(this.monthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,0)},changeRightMonth(e){let t=new Date(e.year,e.month-1,1);this.nextMonthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.nextMonthDate)<=this.$dateUtil.yearMonth(this.monthDate))&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(t),this.minDate,this.maxDate),this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(this.nextMonthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,1)},normalizeDatetime(e,t){let n=new Date(e);return this.timePicker&&t&&(n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds()),n.setMilliseconds(t.getMilliseconds())),n},dateClick(e){if(this.readonly)return!1;this.in_selection?(this.in_selection=!1,this.end=this.normalizeDatetime(e,this.end),this.end<this.start&&(this.in_selection=!0,this.start=this.normalizeDatetime(e,this.start),this.$emit("startSelection",this.start)),this.in_selection||(this.$emit("finishSelection",this.end),this.onSelect(),this.autoApply&&this.clickedApply())):(this.start=this.normalizeDatetime(e,this.start),this.end=this.normalizeDatetime(e,this.end),!this.singleDatePicker||this.singleDatePicker==="range"?(this.in_selection=!0,this.$emit("startSelection",this.start)):(this.onSelect(),this.autoApply&&this.clickedApply()))},hoverDate(e){if(this.readonly)return!1;let t=this.normalizeDatetime(e,this.end);this.in_selection&&t>=this.start&&(this.end=t),this.$emit("hoverDate",e)},onClickPicker(){this.disabled||this.togglePicker(null,!0)},togglePicker(e,t){typeof e=="boolean"?this.open=e:this.open=!this.open,t===!0&&this.$emit("toggle",this.open,this.togglePicker)},clickedApply(){this.togglePicker(!1,!0),this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},clickCancel(){if(this.open){let e=this.dateRange.startDate,t=this.dateRange.endDate;this.start=e?new Date(e):null,this.end=t?new Date(t):null,this.in_selection=!1,this.togglePicker(!1,!0)}},onSelect(){this.$emit("select",{startDate:this.start,endDate:this.end})},clickAway(e){e&&e.target&&!this.$el.contains(e.target)&&this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&this.clickCancel()},clickRange(e){this.in_selection=!1,this.$dateUtil.isValidDate(e[0])&&this.$dateUtil.isValidDate(e[1])?(this.start=this.$dateUtil.validateDateRange(new Date(e[0]),this.minDate,this.maxDate),this.end=this.$dateUtil.validateDateRange(new Date(e[1]),this.minDate,this.maxDate),this.changeLeftMonth({month:this.start.getMonth()+1,year:this.start.getFullYear()}),this.linkedCalendars===!1&&this.changeRightMonth({month:this.end.getMonth()+1,year:this.end.getFullYear()})):(this.start=null,this.end=null),this.onSelect(),this.autoApply&&this.clickedApply()},onUpdateStartTime(e){let t=new Date(this.start);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.start=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},onUpdateEndTime(e){let t=new Date(this.end);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.end=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.end})},handleEscape(e){this.open&&e.keyCode===27&&this.closeOnEsc&&this.clickCancel()}},computed:{showRanges(){return this.ranges!==!1&&!this.readonly},showCalendars(){return this.alwaysShowCalendars||this.showCustomRangeCalendars},startText(){return this.start===null?"":this.$dateUtil.format(this.start,this.locale.format)},endText(){return this.end===null?"":this.$dateUtil.format(this.end,this.locale.format)},rangeText(){let e=this.startText;return(!this.singleDatePicker||this.singleDatePicker==="range")&&(e+=this.locale.separator+this.endText),e},min(){return this.minDate?new Date(this.minDate):null},max(){return this.maxDate?new Date(this.maxDate):null},pickerStyles(){return{"show-calendar":this.open||this.opens==="inline","show-ranges":this.showRanges,"show-weeknumbers":this.showWeekNumbers,single:this.singleDatePicker,["opens"+this.opens]:!0,linked:this.linkedCalendars,"hide-calendars":!this.showCalendars}},isClear(){return!this.dateRange.startDate||!this.dateRange.endDate},isDirty(){let e=new Date(this.dateRange.startDate),t=new Date(this.dateRange.endDate);return!this.isClear&&(this.start.getTime()!==e.getTime()||this.end.getTime()!==t.getTime())}},watch:{minDate(){let e=this.$dateUtil.validateDateRange(this.monthDate,this.minDate||new Date,this.maxDate);this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},maxDate(){let e=this.$dateUtil.validateDateRange(this.nextMonthDate,this.minDate,this.maxDate||new Date);this.changeRightMonth({year:e.getFullYear(),month:e.getMonth()+1})},"dateRange.startDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.start=e&&!this.isClear&&this.$dateUtil.isValidDate(new Date(e))?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},"dateRange.endDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.end=e&&!this.isClear?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},open:{handler(e){typeof document=="object"&&this.$nextTick(()=>{e?document.body.addEventListener("click",this.clickAway):document.body.removeEventListener("click",this.clickAway),e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape),!this.alwaysShowCalendars&&this.ranges&&(this.showCustomRangeCalendars=!Object.keys(this.ranges).find(t=>this.$dateUtil.isSame(this.start,this.ranges[t][0],"date")&&this.$dateUtil.isSame(this.end,this.ranges[t][1],"date")))})},immediate:!0}}},Z6=e=>(K0("data-v-577c3804"),e=e(),J0(),e),Oee=Z6(()=>Ye("i",{class:"glyphicon glyphicon-calendar fa fa-calendar"},null,-1)),Ree=Z6(()=>Ye("b",{class:"caret"},null,-1)),Bee={class:"calendars"},zee={key:1,class:"calendars-container"},Nee={class:"calendar-table"},Fee={key:0,class:"drp-calendar col right"},jee={class:"calendar-table"},Uee={key:0,class:"drp-buttons"},$ee={key:0,class:"drp-selected"},Vee=["disabled"];function Gee(e,t,n,r,o,d){const h=Tr("calendar-ranges"),s=Tr("calendar"),v=Tr("calendar-time"),R=Bb("append-to-body");return bt(),Bt("div",{class:ar(["vue-daterange-picker",{inline:n.opens==="inline"}])},[Ye("div",{class:ar(n.controlContainerClass),onClick:t[0]||(t[0]=(...J)=>d.onClickPicker&&d.onClickPicker(...J)),ref:"toggle"},[xn(e.$slots,"input",{startDate:e.start,endDate:e.end,ranges:n.ranges,rangeText:d.rangeText},()=>[Oee,ds("  "),Ye("span",null,Yi(d.rangeText),1),Ree],!0)],2),dn(Au,{name:"slide-fade",mode:"out-in"},{default:Yn(()=>[e.open||n.opens==="inline"?po((bt(),Bt("div",{key:0,class:ar(["daterangepicker ltr",d.pickerStyles]),ref:"dropdown"},[xn(e.$slots,"header",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:n.autoApply},void 0,!0),Ye("div",Bee,[d.showRanges?xn(e.$slots,"ranges",{key:0,startDate:e.start,endDate:e.end,ranges:n.ranges,clickRange:d.clickRange},()=>[dn(h,{onClickRange:d.clickRange,onShowCustomRange:t[1]||(t[1]=J=>e.showCustomRangeCalendars=!0),"always-show-calendars":n.alwaysShowCalendars,"locale-data":e.locale,ranges:n.ranges,selected:{startDate:e.start,endDate:e.end}},null,8,["onClickRange","always-show-calendars","locale-data","ranges","selected"])],!0):vi("",!0),d.showCalendars?(bt(),Bt("div",zee,[Ye("div",{class:ar(["drp-calendar col left",{single:n.singleDatePicker}])},[vi("",!0),Ye("div",Nee,[dn(s,{monthDate:e.monthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":n.showDropdowns,onChangeMonth:d.changeLeftMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:n.showWeekNumbers},{default:Yn(()=>[xn(e.$slots,"date",Ta(Ol(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),n.timePicker&&e.start?(bt(),Ir(v,{key:1,onUpdate:d.onUpdateStartTime,"miniute-increment":n.timePickerIncrement,hour24:n.timePicker24Hour,"second-picker":n.timePickerSeconds,"current-time":e.start,readonly:n.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):vi("",!0)],2),n.singleDatePicker?vi("",!0):(bt(),Bt("div",Fee,[vi("",!0),Ye("div",jee,[dn(s,{monthDate:e.nextMonthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":n.showDropdowns,onChangeMonth:d.changeRightMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:n.showWeekNumbers},{default:Yn(()=>[xn(e.$slots,"date",Ta(Ol(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),n.timePicker&&e.end?(bt(),Ir(v,{key:1,onUpdate:d.onUpdateEndTime,"miniute-increment":n.timePickerIncrement,hour24:n.timePicker24Hour,"second-picker":n.timePickerSeconds,"current-time":e.end,readonly:n.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):vi("",!0)]))])):vi("",!0)]),xn(e.$slots,"footer",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:n.autoApply},()=>[n.autoApply?vi("",!0):(bt(),Bt("div",Uee,[d.showCalendars?(bt(),Bt("span",$ee,Yi(d.rangeText),1)):vi("",!0),n.readonly?vi("",!0):(bt(),Bt("button",{key:1,class:"cancelBtn btn btn-sm btn-secondary",type:"button",onClick:t[2]||(t[2]=(...J)=>d.clickCancel&&d.clickCancel(...J))},Yi(e.locale.cancelLabel),1)),n.readonly?vi("",!0):(bt(),Bt("button",{key:2,class:"applyBtn btn btn-sm btn-success",disabled:e.in_selection,type:"button",onClick:t[3]||(t[3]=(...J)=>d.clickedApply&&d.clickedApply(...J))},Yi(e.locale.applyLabel),9,Vee))]))],!0)],2)),[[R]]):vi("",!0)]),_:3})],2)}const Hee=zr(Lee,[["render",Gee],["__scopeId","data-v-577c3804"]]),Wee={name:"DateRange",components:{DateRangePicker:Hee},data(){return{dateRange:{startDate:new Date,endDate:new Date},locale:{direction:"ltr",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:bn.weekdaysMin(),monthNames:bn.monthsShort(),firstDay:1}}},methods:{updatePicker(e){this.$emit("selected",e)}}};function Yee(e,t,n,r,o,d){const h=Tr("date-range-picker");return bt(),Ir(h,{ref:"picker",modelValue:o.dateRange,"onUpdate:modelValue":t[0]||(t[0]=s=>o.dateRange=s),dateRange:o.dateRange,"locale-data":o.locale,timePicker:"",timePicker24Hour:"",onUpdate:d.updatePicker,onSelect:d.updatePicker},{input:Yn(s=>[ds(Yi(e.$filters.dateformat(s.startDate))+" - "+Yi(e.$filters.dateformat(s.endDate)),1)]),_:1},8,["modelValue","dateRange","locale-data","onUpdate","onSelect"])}const K6=zr(Wee,[["render",Yee]]);V5(pc);V6(pc);const qee={components:{Chart:nm.Chart,DateRange:K6,DropdownSelect:W6},props:{url:String,title:String,columns:Array},data(){return{params:{from:new Date(new Date().setDate(new Date().getDate()-1)),to:new Date,interval:60},defColumns:[],items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},mounted(){this.defColumns=UT.sampleSize(this.columns,5)},methods:{selected(e){this.items=e,this.showChart()},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],n=[];this.items.forEach((o,d)=>{let h=G6[d];t[d]={title:{text:o.text,style:{color:h,fontSize:"10px"}},lineColor:h,labels:{style:{color:h},align:"left",x:14},lineWidth:1,opposite:!0},o.range&&(t[d].min=o.range[0],t[d].max=o.range[1]),e[d]={id:o.data,row:o.data,yAxis:d,type:o.type?o.type:"spline",name:o.text,color:h,lineWidth:1,data:[]},n[d]=o.data}),this.options.series=e,this.options.yAxis=t,this.params.select=n,(await axios.get(this.url,{params:this.params}).then(o=>o.data)).forEach(o=>{let d=o.unix_time;this.options.series.forEach((h,s)=>{let v=o[h.row];this.options.series[s].data.push([d,v])})}),this.$refs.chart.chart.hideLoading()}}},Xee={class:"row"},Zee={class:"col-12"},Kee={class:"table-title mb-4 mt-2"},Jee={class:"row justify-content-end"},Qee={class:"col-6"},ete={class:"col-6"},tte={class:"d-flex align-items-center justify-content-end gap-1"},ite=Ye("option",{value:"5"},"5m",-1),nte=Ye("option",{value:"30"},"30m",-1),rte=Ye("option",{value:"60"},"1 H",-1),ste=Ye("option",{value:"1440"},"1 D",-1),ote=[ite,nte,rte,ste];function ate(e,t,n,r,o,d){const h=Tr("dropdown-select"),s=Tr("VueDatePicker"),v=Tr("Chart");return bt(),Bt("div",Xee,[Ye("div",Zee,[Ye("div",Kee,[Ye("h6",null,Yi(n.title),1)]),Ye("div",Jee,[Ye("div",Qee,[dn(h,{options:n.columns,onChecked:d.selected,default:o.defColumns},null,8,["options","onChecked","default"])]),Ye("div",ete,[Ye("div",tte,[dn(s,{modelValue:o.params.from,"onUpdate:modelValue":t[0]||(t[0]=R=>o.params.from=R)},null,8,["modelValue"]),dn(s,{modelValue:o.params.to,"onUpdate:modelValue":t[1]||(t[1]=R=>o.params.to=R)},null,8,["modelValue"]),po(Ye("select",{class:"form-control w-5 bordered","onUpdate:modelValue":t[2]||(t[2]=R=>o.params.interval=R)},ote,512),[[xu,o.params.interval]]),Ye("button",{onClick:t[3]||(t[3]=(...R)=>d.showChart&&d.showChart(...R)),class:"btn btn-primary"},"SHOW")])])]),dn(v,{ref:"chart",options:o.options,constructorType:"stockChart"},null,8,["options"])])])}const lte=zr(qee,[["render",ate]]);V5(pc);V6(pc);const cte={components:{Chart:nm.Chart,DateRange:K6,DropdownSelect:W6},props:{url:String,title:String,columns:Array,socketConfig:Object,fleet:Object},data(){return{socket:null,connected:!1,defColumns:[],params:{},items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},async mounted(){this.socket=io(this.socketConfig.url,{transports:["websocket"]}),this.socket.on("connect",()=>this.connected=!0),this.socket.on("disconnect",()=>this.connected=!1),this.socket.emit("subscribe",`fleet-${this.fleet.id}`),this.socket.on(this.socketConfig.event,this.onMessage),this.defColumns=await UT.sampleSize(this.columns,3),await this.showChart()},methods:{selected(e){this.items=e,this.showChart()},onMessage(e){let t=JSON.parse(e.toString()),n=parseInt(new Date(t.terminal_time).getTime().toFixed(0));this.options.series.forEach((r,o)=>{this.options.series[o].data.shift();let d=t[r.row];this.options.series[o].data.push([n,d])})},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],n=[];this.items.forEach((o,d)=>{let h=G6[d];t[d]={title:{text:o.text,style:{color:h,fontSize:"10px"}},lineColor:h,labels:{style:{color:h},align:"left",x:14},lineWidth:1,opposite:!0},o.range&&(t[d].min=o.range[0],t[d].max=o.range[1]),e[d]={id:o.data,row:o.data,yAxis:d,type:o.type?o.type:"spline",name:o.text,color:h,lineWidth:1,data:[]},n[d]=o.data}),this.options.series=e,this.options.yAxis=t,this.params.select=n,(await axios.get(this.url).then(o=>o.data)).forEach(o=>{let d=parseInt(new Date(o.terminal_time).getTime().toFixed(0));this.options.series.forEach((h,s)=>{let v=parseFloat(o.data[h.row]);this.options.series[s].data.push([d,v])})}),this.$refs.chart.chart.hideLoading()}}},dte={class:"row"},ute={class:"col-12"},hte={class:"table-title mb-4 mt-2"},pte={class:"row justify-content-end"},fte={class:"col-12"};function mte(e,t,n,r,o,d){const h=Tr("dropdown-select"),s=Tr("Chart");return bt(),Bt("div",dte,[Ye("div",ute,[Ye("div",hte,[Ye("h6",null,Yi(n.title),1)]),Ye("div",pte,[Ye("div",fte,[dn(h,{options:n.columns,onChecked:d.selected,default:o.defColumns},null,8,["options","onChecked","default"])])]),dn(s,{ref:"chart",options:o.options,constructorType:"stockChart"},null,8,["options"])])])}const gte=zr(cte,[["render",mte]]),yte={props:{title:String,fleet:Object,sensors:Array},data(){return{}}},_te={class:"row"},vte={class:"col-12"},xte={class:"table-title"},bte={class:"table table-sm"},wte=Ye("th",{scope:"row"},"•",-1),Tte={class:"text-end"};function Ste(e,t,n,r,o,d){return bt(),Bt("div",_te,[Ye("div",vte,[Ye("div",xte,[Ye("h6",null,Yi(n.title),1)]),Ye("table",bte,[Ye("tbody",null,[(bt(!0),Bt(cn,null,_r(n.sensors,(h,s)=>(bt(),Bt("tr",null,[wte,Ye("td",null,Yi(h.name),1),Ye("td",Tte,Yi(h.value)+" "+Yi(h.unit),1)]))),256))])])])])}const Cte=zr(yte,[["render",Ste]]),Ete={props:{svgPath:String,url:String},components:{ChartSvg:S_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.engine;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(n=>{t.includes(n)||(this.data[n+"_bar"]=e[n]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function Mte(e,t,n,r,o,d){const h=Tr("chart-svg");return bt(),Bt("div",null,[dn(h,{path:n.svgPath,svgData:o.data,height:550},null,8,["path","svgData"])])}const kte=zr(Ete,[["render",Mte]]),Ate={props:{url:String,mapping:Array},data(){return{data:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.data=await axios.get(this.url).then(e=>e.data)}}},Pte={class:"row"},Dte={class:"col-12"},Ite=Ye("div",{class:"table-title"},[Ye("h6",null,"Data Information")],-1),Lte={key:0,class:"table table-sm"},Ote=Ye("th",{scope:"row"},"•",-1),Rte=Ye("td",null,"Updated at",-1),Bte={class:"text-end"},zte=Ye("th",{scope:"row"},"•",-1),Nte={class:"text-end"},Fte=["innerHTML"];function jte(e,t,n,r,o,d){return bt(),Bt("div",Pte,[Ye("div",Dte,[Ite,o.data?(bt(),Bt("table",Lte,[Ye("tbody",null,[Ye("tr",null,[Ote,Rte,Ye("td",Bte,Yi(o.data.terminal_time),1)]),(bt(!0),Bt(cn,null,_r(n.mapping,h=>(bt(),Bt("tr",{key:h.data},[zte,Ye("td",null,Yi(h.text),1),Ye("td",Nte,[ds(Yi(o.data[h.data])+" ",1),Ye("span",{innerHTML:h.unit},null,8,Fte)])]))),128))])])):vi("",!0)])])}const Ute=zr(Ate,[["render",jte]]),oo=BS({});oo.use(Bz);oo.component("VueDatePicker",D5);oo.component("map-dashboard",QW);oo.component("map-history",fY);oo.component("map-default",xY);oo.component("map-voyage",GY);oo.component("map-bridge",eq);oo.component("slider-submenu",VX);oo.component("charts-fuel",uZ);oo.component("charts-graph",gZ);oo.component("charts-spline",xZ);oo.component("fleet-information",_K);oo.component("fleet-side-info",gJ);oo.component("fleet-cargo",CJ);oo.component("fleet-bunker",IJ);oo.component("fleet-ballast",FJ);oo.component("compass",U6);oo.component("engine-type-s",$J);oo.component("user-permission",JJ);oo.component("table-editable",PQ);oo.component("trend-view",lte);oo.component("trend-live",gte);oo.component("sensor-info",Cte);oo.component("mimic-svg",kte);oo.component("data-info",Ute);oo.config.globalProperties.$filters={dateformat(e,t="DD/MM/YYYY HH:mm"){return bn(e,"YYYY-MM-DD HH:mm:ss").format(t)},str_limit(e,t=7){return e.toString().substring(0,t)},textFormat(e){return e.toLowerCase().capitalize()},number(e){let t=Number.parseFloat(e).toFixed(2);return Number.parseFloat(t).toLocaleString()}};oo.mount("#app")});export default $te();
