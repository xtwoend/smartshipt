var nP=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import"./tabler.esm-17eb6a54.js";import"./popper-528ebbd5.js";var ere=nP((rre,Lx)=>{var za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),i}var Ox={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ox.exports;(function(e,t){(function(){var i,r="4.17.21",o=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",s="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",R=500,K="__lodash_placeholder__",k=1,z=2,q=4,L=1,O=2,G=1,M=2,S=4,D=8,H=16,U=32,E=64,ie=128,te=256,$=512,V=30,j="...",x=800,P=16,f=1,g=2,b=3,A=1/0,X=9007199254740991,Y=17976931348623157e292,J=0/0,ce=4294967295,pe=ce-1,fe=ce>>>1,F=[["ary",ie],["bind",G],["bindKey",M],["curry",D],["curryRight",H],["flip",$],["partial",U],["partialRight",E],["rearg",te]],Q="[object Arguments]",se="[object Array]",ue="[object AsyncFunction]",Ce="[object Boolean]",ne="[object Date]",ve="[object DOMException]",_e="[object Error]",oe="[object Function]",ye="[object GeneratorFunction]",Se="[object Map]",Re="[object Number]",Le="[object Null]",$e="[object Object]",rt="[object Promise]",Qe="[object Proxy]",qe="[object RegExp]",xe="[object Set]",Ie="[object String]",Be="[object Symbol]",Xe="[object Undefined]",Ke="[object WeakMap]",ft="[object WeakSet]",St="[object ArrayBuffer]",Ot="[object DataView]",yi="[object Float32Array]",Wt="[object Float64Array]",fi="[object Int8Array]",Hi="[object Int16Array]",pt="[object Int32Array]",Lt="[object Uint8Array]",ei="[object Uint8ClampedArray]",Pi="[object Uint16Array]",cn="[object Uint32Array]",Wn=/\b__p \+= '';/g,Kr=/\b(__p \+=) '' \+/g,ui=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vi=/&(?:amp|lt|gt|quot|#39);/g,qi=/[&<>"']/g,Nr=RegExp(Vi.source),go=RegExp(qi.source),wn=/<%-([\s\S]+?)%>/g,co=/<%([\s\S]+?)%>/g,On=/<%=([\s\S]+?)%>/g,Va=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rl=/^\w*$/,mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/[\\^$.*+?()[\]{}|]/g,We=RegExp(Fe.source),ut=/^\s+/,xt=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ut=/\{\n\/\* \[wrapped with (.+)\] \*/,Ht=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zt=/[()=,{}\[\]\/\s]/,xi=/\\(\\)?/g,Ji=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Di=/\w*$/,Mn=/^[-+]0x[0-9a-f]+$/i,Cn=/^0b[01]+$/i,hn=/^\[object .+?Constructor\]$/,Wi=/^0o[0-7]+$/i,cr=/^(?:0|[1-9]\d*)$/,Ar=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_n=/($^)/,Yr=/['\n\r\u2028\u2029\\]/g,Or="\\ud800-\\udfff",Ga="\\u0300-\\u036f",Ha="\\ufe20-\\ufe2f",yo="\\u20d0-\\u20ff",mi=Ga+Ha+yo,ps="\\u2700-\\u27bf",Os="a-z\\xdf-\\xf6\\xf8-\\xff",Rs="\\xac\\xb1\\xd7\\xf7",bc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Po="\\u2000-\\u206f",qc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ou="A-Z\\xc0-\\xd6\\xd8-\\xde",uo="\\ufe0e\\ufe0f",Qi=Rs+bc+Po+qc,nr="['’]",dr="["+Or+"]",ta="["+Qi+"]",Wa="["+mi+"]",Fn="\\d+",wc="["+ps+"]",Ma="["+Os+"]",sl="[^"+Or+Qi+Fn+ps+Os+ou+"]",Qs="\\ud83c[\\udffb-\\udfff]",Gr="(?:"+Wa+"|"+Qs+")",ho="[^"+Or+"]",Ho="(?:\\ud83c[\\udde6-\\uddff]){2}",ql="[\\ud800-\\udbff][\\udc00-\\udfff]",ma="["+ou+"]",vl="\\u200d",xl="(?:"+Ma+"|"+sl+")",ol="(?:"+ma+"|"+sl+")",bl="(?:"+nr+"(?:d|ll|m|re|s|t|ve))?",Xc="(?:"+nr+"(?:D|LL|M|RE|S|T|VE))?",Zc=Gr+"?",Bo="["+uo+"]?",Ps="(?:"+vl+"(?:"+[ho,Ho,ql].join("|")+")"+Bo+Zc+")*",Xl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",al="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",eo=Bo+Zc+Ps,ga="(?:"+[wc,Ho,ql].join("|")+")"+eo,Du="(?:"+[ho+Wa+"?",Wa,Ho,ql,dr].join("|")+")",Sd=RegExp(nr,"g"),Ys=RegExp(Wa,"g"),Zl=RegExp(Qs+"(?="+Qs+")|"+Du+eo,"g"),Cd=RegExp([ma+"?"+Ma+"+"+bl+"(?="+[ta,ma,"$"].join("|")+")",ol+"+"+Xc+"(?="+[ta,ma+xl,"$"].join("|")+")",ma+"?"+xl+"+"+bl,ma+"+"+Xc,al,Xl,Fn,ga].join("|"),"g"),Kl=RegExp("["+vl+Or+mi+uo+"]"),to=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ed=-1,Ir={};Ir[yi]=Ir[Wt]=Ir[fi]=Ir[Hi]=Ir[pt]=Ir[Lt]=Ir[ei]=Ir[Pi]=Ir[cn]=!0,Ir[Q]=Ir[se]=Ir[St]=Ir[Ce]=Ir[Ot]=Ir[ne]=Ir[_e]=Ir[oe]=Ir[Se]=Ir[Re]=Ir[$e]=Ir[qe]=Ir[xe]=Ir[Ie]=Ir[Ke]=!1;var Fr={};Fr[Q]=Fr[se]=Fr[St]=Fr[Ot]=Fr[Ce]=Fr[ne]=Fr[yi]=Fr[Wt]=Fr[fi]=Fr[Hi]=Fr[pt]=Fr[Se]=Fr[Re]=Fr[$e]=Fr[qe]=Fr[xe]=Fr[Ie]=Fr[Be]=Fr[Lt]=Fr[ei]=Fr[Pi]=Fr[cn]=!0,Fr[_e]=Fr[oe]=Fr[Ke]=!1;var Md={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Iu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},au={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ya={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kc=parseFloat,kd=parseInt,Jl=typeof za=="object"&&za&&za.Object===Object&&za,ia=typeof self=="object"&&self&&self.Object===Object&&self,qs=Jl||ia||Function("return this")(),Z=t&&!t.nodeType&&t,de=Z&&!0&&e&&!e.nodeType&&e,be=de&&de.exports===Z,ke=be&&Jl.process,Ue=function(){try{var $t=de&&de.require&&de.require("util").types;return $t||ke&&ke.binding&&ke.binding("util")}catch{}}(),Ge=Ue&&Ue.isArrayBuffer,Je=Ue&&Ue.isDate,Bt=Ue&&Ue.isMap,Et=Ue&&Ue.isRegExp,Kt=Ue&&Ue.isSet,gi=Ue&&Ue.isTypedArray;function ki($t,bi,pi){switch(pi.length){case 0:return $t.call(bi);case 1:return $t.call(bi,pi[0]);case 2:return $t.call(bi,pi[0],pi[1]);case 3:return $t.call(bi,pi[0],pi[1],pi[2])}return $t.apply(bi,pi)}function oi($t,bi,pi,fn){for(var Qn=-1,Rr=$t==null?0:$t.length;++Qn<Rr;){var Ns=$t[Qn];bi(fn,Ns,pi(Ns),$t)}return fn}function hi($t,bi){for(var pi=-1,fn=$t==null?0:$t.length;++pi<fn&&bi($t[pi],pi,$t)!==!1;);return $t}function Zi($t,bi){for(var pi=$t==null?0:$t.length;pi--&&bi($t[pi],pi,$t)!==!1;);return $t}function Zn($t,bi){for(var pi=-1,fn=$t==null?0:$t.length;++pi<fn;)if(!bi($t[pi],pi,$t))return!1;return!0}function pn($t,bi){for(var pi=-1,fn=$t==null?0:$t.length,Qn=0,Rr=[];++pi<fn;){var Ns=$t[pi];bi(Ns,pi,$t)&&(Rr[Qn++]=Ns)}return Rr}function fs($t,bi){var pi=$t==null?0:$t.length;return!!pi&&Jn($t,bi,0)>-1}function Jr($t,bi,pi){for(var fn=-1,Qn=$t==null?0:$t.length;++fn<Qn;)if(pi(bi,$t[fn]))return!0;return!1}function fr($t,bi){for(var pi=-1,fn=$t==null?0:$t.length,Qn=Array(fn);++pi<fn;)Qn[pi]=bi($t[pi],pi,$t);return Qn}function mr($t,bi){for(var pi=-1,fn=bi.length,Qn=$t.length;++pi<fn;)$t[Qn+pi]=bi[pi];return $t}function Yn($t,bi,pi,fn){var Qn=-1,Rr=$t==null?0:$t.length;for(fn&&Rr&&(pi=$t[++Qn]);++Qn<Rr;)pi=bi(pi,$t[Qn],Qn,$t);return pi}function no($t,bi,pi,fn){var Qn=$t==null?0:$t.length;for(fn&&Qn&&(pi=$t[--Qn]);Qn--;)pi=bi(pi,$t[Qn],Qn,$t);return pi}function yr($t,bi){for(var pi=-1,fn=$t==null?0:$t.length;++pi<fn;)if(bi($t[pi],pi,$t))return!0;return!1}var Qr=_a("length");function Ya($t){return $t.split("")}function Ql($t){return $t.match(zt)||[]}function ro($t,bi,pi){var fn;return pi($t,function(Qn,Rr,Ns){if(bi(Qn,Rr,Ns))return fn=Rr,!1}),fn}function na($t,bi,pi,fn){for(var Qn=$t.length,Rr=pi+(fn?1:-1);fn?Rr--:++Rr<Qn;)if(bi($t[Rr],Rr,$t))return Rr;return-1}function Jn($t,bi,pi){return bi===bi?Cc($t,bi,pi):na($t,ra,pi)}function _o($t,bi,pi,fn){for(var Qn=pi-1,Rr=$t.length;++Qn<Rr;)if(fn($t[Qn],bi))return Qn;return-1}function ra($t){return $t!==$t}function zo($t,bi){var pi=$t==null?0:$t.length;return pi?jr($t,bi)/pi:J}function _a($t){return function(bi){return bi==null?i:bi[$t]}}function ec($t){return function(bi){return $t==null?i:$t[bi]}}function ll($t,bi,pi,fn,Qn){return Qn($t,function(Rr,Ns,Ur){pi=fn?(fn=!1,Rr):bi(pi,Rr,Ns,Ur)}),pi}function Ad($t,bi){var pi=$t.length;for($t.sort(bi);pi--;)$t[pi]=$t[pi].value;return $t}function jr($t,bi){for(var pi,fn=-1,Qn=$t.length;++fn<Qn;){var Rr=bi($t[fn]);Rr!==i&&(pi=pi===i?Rr:pi+Rr)}return pi}function va($t,bi){for(var pi=-1,fn=Array($t);++pi<$t;)fn[pi]=bi(pi);return fn}function Jc($t,bi){return fr(bi,function(pi){return[pi,$t[pi]]})}function tc($t){return $t&&$t.slice(0,xo($t)+1).replace(ut,"")}function No($t){return function(bi){return $t(bi)}}function ic($t,bi){return fr(bi,function(pi){return $t[pi]})}function Tc($t,bi){return $t.has(bi)}function lu($t,bi){for(var pi=-1,fn=$t.length;++pi<fn&&Jn(bi,$t[pi],0)>-1;);return pi}function nc($t,bi){for(var pi=$t.length;pi--&&Jn(bi,$t[pi],0)>-1;);return pi}function rc($t,bi){for(var pi=$t.length,fn=0;pi--;)$t[pi]===bi&&++fn;return fn}var Lu=ec(Md),sc=ec(Iu);function cu($t){return"\\"+ya[$t]}function ka($t,bi){return $t==null?i:$t[bi]}function Aa($t){return Kl.test($t)}function oc($t){return to.test($t)}function Pd($t){for(var bi,pi=[];!(bi=$t.next()).done;)pi.push(bi.value);return pi}function Sc($t){var bi=-1,pi=Array($t.size);return $t.forEach(function(fn,Qn){pi[++bi]=[Qn,fn]}),pi}function sa($t,bi){return function(pi){return $t(bi(pi))}}function vo($t,bi){for(var pi=-1,fn=$t.length,Qn=0,Rr=[];++pi<fn;){var Ns=$t[pi];(Ns===bi||Ns===K)&&($t[pi]=K,Rr[Qn++]=pi)}return Rr}function Tl($t){var bi=-1,pi=Array($t.size);return $t.forEach(function(fn){pi[++bi]=fn}),pi}function ac($t){var bi=-1,pi=Array($t.size);return $t.forEach(function(fn){pi[++bi]=[fn,fn]}),pi}function Cc($t,bi,pi){for(var fn=pi-1,Qn=$t.length;++fn<Qn;)if($t[fn]===bi)return fn;return-1}function yh($t,bi,pi){for(var fn=pi+1;fn--;)if($t[fn]===bi)return fn;return fn}function xr($t){return Aa($t)?Sl($t):Qr($t)}function Wo($t){return Aa($t)?Ou($t):Ya($t)}function xo($t){for(var bi=$t.length;bi--&&xt.test($t.charAt(bi)););return bi}var oa=ec(au);function Sl($t){for(var bi=Zl.lastIndex=0;Zl.test($t);)++bi;return bi}function Ou($t){return $t.match(Zl)||[]}function Ru($t){return $t.match(Cd)||[]}var Bu=function $t(bi){bi=bi==null?qs:Yo.defaults(qs.Object(),bi,Yo.pick(qs,wl));var pi=bi.Array,fn=bi.Date,Qn=bi.Error,Rr=bi.Function,Ns=bi.Math,Ur=bi.Object,Ec=bi.RegExp,Dd=bi.String,qo=bi.TypeError,st=pi.prototype,kt=Rr.prototype,Ft=Ur.prototype,wi=bi["__core-js_shared__"],Vt=kt.toString,li=Ft.hasOwnProperty,Ii=0,rn=function(){var y=/[^.]+$/.exec(wi&&wi.keys&&wi.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),zi=Ft.toString,Bn=Vt.call(Ur),jn=qs._,$n=Ec("^"+Vt.call(li).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rr=be?bi.Buffer:i,Er=bi.Symbol,In=bi.Uint8Array,we=rr?rr.allocUnsafe:i,Ee=sa(Ur.getPrototypeOf,Ur),Ve=Ur.create,bt=Ft.propertyIsEnumerable,Ei=st.splice,Tn=Er?Er.isConcatSpreadable:i,br=Er?Er.iterator:i,so=Er?Er.toStringTag:i,Fs=function(){try{var y=kh(Ur,"defineProperty");return y({},"",{}),y}catch{}}(),Cl=bi.clearTimeout!==qs.clearTimeout&&bi.clearTimeout,sn=fn&&fn.now!==qs.Date.now&&fn.now,El=bi.setTimeout!==qs.setTimeout&&bi.setTimeout,Id=Ns.ceil,_h=Ns.floor,yp=Ur.getOwnPropertySymbols,zu=rr?rr.isBuffer:i,Af=bi.isFinite,_p=st.join,Nu=sa(Ur.keys,Ur),js=Ns.max,ms=Ns.min,vh=fn.now,Fu=bi.parseInt,sm=Ns.random,Zg=st.reverse,vp=kh(bi,"DataView"),Mc=kh(bi,"Map"),xh=kh(bi,"Promise"),Qc=kh(bi,"Set"),ju=kh(bi,"WeakMap"),Ld=kh(Ur,"create"),Od=ju&&new ju,du={},Pf=ad(vp),Df=ad(Mc),om=ad(xh),xp=ad(Qc),ed=ad(ju),Uu=Er?Er.prototype:i,$u=Uu?Uu.valueOf:i,If=Uu?Uu.toString:i;function it(y){if(To(y)&&!_r(y)&&!(y instanceof er)){if(y instanceof cl)return y;if(li.call(y,"__wrapped__"))return Lp(y)}return new cl(y)}var td=function(){function y(){}return function(I){if(!ao(I))return{};if(Ve)return Ve(I);y.prototype=I;var le=new y;return y.prototype=i,le}}();function bh(){}function cl(y,I){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!I,this.__index__=0,this.__values__=i}it.templateSettings={escape:wn,evaluate:co,interpolate:On,variable:"",imports:{_:it}},it.prototype=bh.prototype,it.prototype.constructor=it,cl.prototype=td(bh.prototype),cl.prototype.constructor=cl;function er(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function Kg(){var y=new er(this.__wrapped__);return y.__actions__=Do(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=Do(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=Do(this.__views__),y}function Lf(){if(this.__filtered__){var y=new er(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function Jg(){var y=this.__wrapped__.value(),I=this.__dir__,le=_r(y),Pe=I<0,Ye=le?y.length:0,ot=f1(0,Ye,this.__views__),Mt=ot.start,Nt=ot.end,qt=Nt-Mt,Ai=Pe?Nt:Mt-1,Bi=this.__iteratees__,Gi=Bi.length,yn=0,zn=ms(qt,this.__takeCount__);if(!le||!Pe&&Ye==qt&&zn==qt)return Sh(y,this.__actions__);var sr=[];e:for(;qt--&&yn<zn;){Ai+=I;for(var Lr=-1,ar=y[Ai];++Lr<Gi;){var Vr=Bi[Lr],qr=Vr.iteratee,Il=Vr.type,tl=qr(ar);if(Il==g)ar=tl;else if(!tl){if(Il==f)continue e;break e}}sr[yn++]=ar}return sr}er.prototype=td(bh.prototype),er.prototype.constructor=er;function uu(y){var I=-1,le=y==null?0:y.length;for(this.clear();++I<le;){var Pe=y[I];this.set(Pe[0],Pe[1])}}function id(){this.__data__=Ld?Ld(null):{},this.size=0}function am(y){var I=this.has(y)&&delete this.__data__[y];return this.size-=I?1:0,I}function Vu(y){var I=this.__data__;if(Ld){var le=I[y];return le===v?i:le}return li.call(I,y)?I[y]:i}function kc(y){var I=this.__data__;return Ld?I[y]!==i:li.call(I,y)}function bp(y,I){var le=this.__data__;return this.size+=this.has(y)?0:1,le[y]=Ld&&I===i?v:I,this}uu.prototype.clear=id,uu.prototype.delete=am,uu.prototype.get=Vu,uu.prototype.has=kc,uu.prototype.set=bp;function nn(y){var I=-1,le=y==null?0:y.length;for(this.clear();++I<le;){var Pe=y[I];this.set(Pe[0],Pe[1])}}function lm(){this.__data__=[],this.size=0}function cm(y){var I=this.__data__,le=c(I,y);if(le<0)return!1;var Pe=I.length-1;return le==Pe?I.pop():Ei.call(I,le,1),--this.size,!0}function Rd(y){var I=this.__data__,le=c(I,y);return le<0?i:I[le][1]}function wh(y){return c(this.__data__,y)>-1}function Of(y,I){var le=this.__data__,Pe=c(le,y);return Pe<0?(++this.size,le.push([y,I])):le[Pe][1]=I,this}nn.prototype.clear=lm,nn.prototype.delete=cm,nn.prototype.get=Rd,nn.prototype.has=wh,nn.prototype.set=Of;function Ac(y){var I=-1,le=y==null?0:y.length;for(this.clear();++I<le;){var Pe=y[I];this.set(Pe[0],Pe[1])}}function Rf(){this.size=0,this.__data__={hash:new uu,map:new(Mc||nn),string:new uu}}function Bf(y){var I=Mp(this,y).delete(y);return this.size-=I?1:0,I}function zf(y){return Mp(this,y).get(y)}function Nf(y){return Mp(this,y).has(y)}function Gu(y,I){var le=Mp(this,y),Pe=le.size;return le.set(y,I),this.size+=le.size==Pe?0:1,this}Ac.prototype.clear=Rf,Ac.prototype.delete=Bf,Ac.prototype.get=zf,Ac.prototype.has=Nf,Ac.prototype.set=Gu;function lc(y){var I=-1,le=y==null?0:y.length;for(this.__data__=new Ac;++I<le;)this.add(y[I])}function wp(y){return this.__data__.set(y,v),this}function dm(y){return this.__data__.has(y)}lc.prototype.add=lc.prototype.push=wp,lc.prototype.has=dm;function dl(y){var I=this.__data__=new nn(y);this.size=I.size}function um(){this.__data__=new nn,this.size=0}function hm(y){var I=this.__data__,le=I.delete(y);return this.size=I.size,le}function pm(y){return this.__data__.get(y)}function fm(y){return this.__data__.has(y)}function mm(y,I){var le=this.__data__;if(le instanceof nn){var Pe=le.__data__;if(!Mc||Pe.length<o-1)return Pe.push([y,I]),this.size=++le.size,this;le=this.__data__=new Ac(Pe)}return le.set(y,I),this.size=le.size,this}dl.prototype.clear=um,dl.prototype.delete=hm,dl.prototype.get=pm,dl.prototype.has=fm,dl.prototype.set=mm;function Tp(y,I){var le=_r(y),Pe=!le&&Rh(y),Ye=!le&&!Pe&&dd(y),ot=!le&&!Pe&&!Ye&&ud(y),Mt=le||Pe||Ye||ot,Nt=Mt?va(y.length,Dd):[],qt=Nt.length;for(var Ai in y)(I||li.call(y,Ai))&&!(Mt&&(Ai=="length"||Ye&&(Ai=="offset"||Ai=="parent")||ot&&(Ai=="buffer"||Ai=="byteLength"||Ai=="byteOffset")||jd(Ai,qt)))&&Nt.push(Ai);return Nt}function Ff(y){var I=y.length;return I?y[Xa(0,I-1)]:i}function gm(y,I){return Ip(Do(y),he(I,0,y.length))}function jf(y){return Ip(Do(y))}function hu(y,I,le){(le!==i&&!cd(y[I],le)||le===i&&!(I in y))&&W(y,I,le)}function _(y,I,le){var Pe=y[I];(!(li.call(y,I)&&cd(Pe,le))||le===i&&!(I in y))&&W(y,I,le)}function c(y,I){for(var le=y.length;le--;)if(cd(y[le][0],I))return le;return-1}function p(y,I,le,Pe){return at(y,function(Ye,ot,Mt){I(Pe,Ye,le(Ye),Mt)}),Pe}function T(y,I){return y&&Xo(I,So(I),y)}function B(y,I){return y&&Xo(I,pl(I),y)}function W(y,I,le){I=="__proto__"&&Fs?Fs(y,I,{configurable:!0,enumerable:!0,value:le,writable:!0}):y[I]=le}function ae(y,I){for(var le=-1,Pe=I.length,Ye=pi(Pe),ot=y==null;++le<Pe;)Ye[le]=ot?i:Ym(y,I[le]);return Ye}function he(y,I,le){return y===y&&(le!==i&&(y=y<=le?y:le),I!==i&&(y=y>=I?y:I)),y}function ge(y,I,le,Pe,Ye,ot){var Mt,Nt=I&k,qt=I&z,Ai=I&q;if(le&&(Mt=Ye?le(y,Pe,Ye,ot):le(y)),Mt!==i)return Mt;if(!ao(y))return y;var Bi=_r(y);if(Bi){if(Mt=Ah(y),!Nt)return Do(y,Mt)}else{var Gi=Za(y),yn=Gi==oe||Gi==ye;if(dd(y))return zd(y,Nt);if(Gi==$e||Gi==Q||yn&&!Ye){if(Mt=qt||yn?{}:g1(y),!Nt)return qt?Yu(y,B(Mt,y)):Wu(y,T(Mt,y))}else{if(!Fr[Gi])return Ye?y:{};Mt=m2(y,Gi,Nt)}}ot||(ot=new dl);var zn=ot.get(y);if(zn)return zn;ot.set(y,Mt),xv(y)?y.forEach(function(ar){Mt.add(ge(ar,I,le,ar,y,ot))}):H1(y)&&y.forEach(function(ar,Vr){Mt.set(Vr,ge(ar,I,le,Vr,y,ot))});var sr=Ai?qt?h1:wm:qt?pl:So,Lr=Bi?i:sr(y);return hi(Lr||y,function(ar,Vr){Lr&&(Vr=ar,ar=y[Vr]),_(Mt,Vr,ge(ar,I,le,Vr,y,ot))}),Mt}function De(y){var I=So(y);return function(le){return Ae(le,y,I)}}function Ae(y,I,le){var Pe=le.length;if(y==null)return!Pe;for(y=Ur(y);Pe--;){var Ye=le[Pe],ot=I[Ye],Mt=y[Ye];if(Mt===i&&!(Ye in y)||!ot(Mt))return!1}return!0}function je(y,I,le){if(typeof y!="function")throw new qo(h);return Dp(function(){y.apply(i,le)},I)}function Ze(y,I,le,Pe){var Ye=-1,ot=fs,Mt=!0,Nt=y.length,qt=[],Ai=I.length;if(!Nt)return qt;le&&(I=fr(I,No(le))),Pe?(ot=Jr,Mt=!1):I.length>=o&&(ot=Tc,Mt=!1,I=new lc(I));e:for(;++Ye<Nt;){var Bi=y[Ye],Gi=le==null?Bi:le(Bi);if(Bi=Pe||Bi!==0?Bi:0,Mt&&Gi===Gi){for(var yn=Ai;yn--;)if(I[yn]===Gi)continue e;qt.push(Bi)}else ot(I,Gi,Pe)||qt.push(Bi)}return qt}var at=B_(Ct),lt=B_(jt,!0);function ht(y,I){var le=!0;return at(y,function(Pe,Ye,ot){return le=!!I(Pe,Ye,ot),le}),le}function et(y,I,le){for(var Pe=-1,Ye=y.length;++Pe<Ye;){var ot=y[Pe],Mt=I(ot);if(Mt!=null&&(Nt===i?Mt===Mt&&!el(Mt):le(Mt,Nt)))var Nt=Mt,qt=ot}return qt}function nt(y,I,le,Pe){var Ye=y.length;for(le=tr(le),le<0&&(le=-le>Ye?0:Ye+le),Pe=Pe===i||Pe>Ye?Ye:tr(Pe),Pe<0&&(Pe+=Ye),Pe=le>Pe?0:jp(Pe);le<Pe;)y[le++]=I;return y}function gt(y,I){var le=[];return at(y,function(Pe,Ye,ot){I(Pe,Ye,ot)&&le.push(Pe)}),le}function ct(y,I,le,Pe,Ye){var ot=-1,Mt=y.length;for(le||(le=Cm),Ye||(Ye=[]);++ot<Mt;){var Nt=y[ot];I>0&&le(Nt)?I>1?ct(Nt,I-1,le,Pe,Ye):mr(Ye,Nt):Pe||(Ye[Ye.length]=Nt)}return Ye}var wt=z_(),Dt=z_(!0);function Ct(y,I){return y&&wt(y,I,So)}function jt(y,I){return y&&Dt(y,I,So)}function ii(y,I){return pn(I,function(le){return $d(y[le])})}function Jt(y,I){I=nd(I,y);for(var le=0,Pe=I.length;y!=null&&le<Pe;)y=y[Pl(I[le++])];return le&&le==Pe?y:i}function Gt(y,I,le){var Pe=I(y);return _r(y)?Pe:mr(Pe,le(y))}function Mi(y){return y==null?y===i?Xe:Le:so&&so in Ur(y)?F_(y):_1(y)}function Xt(y,I){return y>I}function _i(y,I){return y!=null&&li.call(y,I)}function ri(y,I){return y!=null&&I in Ur(y)}function Ri(y,I,le){return y>=ms(I,le)&&y<js(I,le)}function si(y,I,le){for(var Pe=le?Jr:fs,Ye=y[0].length,ot=y.length,Mt=ot,Nt=pi(ot),qt=1/0,Ai=[];Mt--;){var Bi=y[Mt];Mt&&I&&(Bi=fr(Bi,No(I))),qt=ms(Bi.length,qt),Nt[Mt]=!le&&(I||Ye>=120&&Bi.length>=120)?new lc(Mt&&Bi):i}Bi=y[0];var Gi=-1,yn=Nt[0];e:for(;++Gi<Ye&&Ai.length<qt;){var zn=Bi[Gi],sr=I?I(zn):zn;if(zn=le||zn!==0?zn:0,!(yn?Tc(yn,sr):Pe(Ai,sr,le))){for(Mt=ot;--Mt;){var Lr=Nt[Mt];if(!(Lr?Tc(Lr,sr):Pe(y[Mt],sr,le)))continue e}yn&&yn.push(sr),Ai.push(zn)}}return Ai}function Si(y,I,le,Pe){return Ct(y,function(Ye,ot,Mt){I(Pe,le(Ye),ot,Mt)}),Pe}function Ni(y,I,le){I=nd(I,y),y=v1(y,I);var Pe=y==null?y:y[Pl(Oc(I))];return Pe==null?i:ki(Pe,y,le)}function Yt(y){return To(y)&&Mi(y)==Q}function ni(y){return To(y)&&Mi(y)==St}function mn(y){return To(y)&&Mi(y)==ne}function Sn(y,I,le,Pe,Ye){return y===I?!0:y==null||I==null||!To(y)&&!To(I)?y!==y&&I!==I:gn(y,I,le,Pe,Sn,Ye)}function gn(y,I,le,Pe,Ye,ot){var Mt=_r(y),Nt=_r(I),qt=Mt?se:Za(y),Ai=Nt?se:Za(I);qt=qt==Q?$e:qt,Ai=Ai==Q?$e:Ai;var Bi=qt==$e,Gi=Ai==$e,yn=qt==Ai;if(yn&&dd(y)){if(!dd(I))return!1;Mt=!0,Bi=!1}if(yn&&!Bi)return ot||(ot=new dl),Mt||ud(y)?d1(y,I,le,Pe,Ye,ot):u1(y,I,qt,le,Pe,Ye,ot);if(!(le&L)){var zn=Bi&&li.call(y,"__wrapped__"),sr=Gi&&li.call(I,"__wrapped__");if(zn||sr){var Lr=zn?y.value():y,ar=sr?I.value():I;return ot||(ot=new dl),Ye(Lr,ar,le,Pe,ot)}}return yn?(ot||(ot=new dl),f2(y,I,le,Pe,Ye,ot)):!1}function Un(y){return To(y)&&Za(y)==Se}function lr(y,I,le,Pe){var Ye=le.length,ot=Ye,Mt=!Pe;if(y==null)return!ot;for(y=Ur(y);Ye--;){var Nt=le[Ye];if(Mt&&Nt[2]?Nt[1]!==y[Nt[0]]:!(Nt[0]in y))return!1}for(;++Ye<ot;){Nt=le[Ye];var qt=Nt[0],Ai=y[qt],Bi=Nt[1];if(Mt&&Nt[2]){if(Ai===i&&!(qt in y))return!1}else{var Gi=new dl;if(Pe)var yn=Pe(Ai,Bi,qt,y,I,Gi);if(!(yn===i?Sn(Bi,Ai,L|O,Pe,Gi):yn))return!1}}return!0}function kn(y){if(!ao(y)||Al(y))return!1;var I=$d(y)?$n:hn;return I.test(ad(y))}function dn(y){return To(y)&&Mi(y)==qe}function is(y){return To(y)&&Za(y)==xe}function Hr(y){return To(y)&&ns(y.length)&&!!Ir[Mi(y)]}function ss(y){return typeof y=="function"?y:y==null?Fo:typeof y=="object"?_r(y)?gs(y[0],y[1]):cc(y):hy(y)}function es(y){if(!Pp(y))return Nu(y);var I=[];for(var le in Ur(y))li.call(y,le)&&le!="constructor"&&I.push(le);return I}function qa(y){if(!ao(y))return Dh(y);var I=Pp(y),le=[];for(var Pe in y)Pe=="constructor"&&(I||!li.call(y,Pe))||le.push(Pe);return le}function Pa(y,I){return y<I}function xa(y,I){var le=-1,Pe=_s(y)?pi(y.length):[];return at(y,function(Ye,ot,Mt){Pe[++le]=I(Ye,ot,Mt)}),Pe}function cc(y){var I=Tm(y);return I.length==1&&I[0][2]?Em(I[0][0],I[0][1]):function(le){return le===y||lr(le,y,I)}}function gs(y,I){return y1(y)&&Ic(I)?Em(Pl(y),I):function(le){var Pe=Ym(le,y);return Pe===i&&Pe===I?Bh(le,y):Sn(I,Pe,L|O)}}function ts(y,I,le,Pe,Ye){y!==I&&wt(I,function(ot,Mt){if(Ye||(Ye=new dl),ao(ot))$r(y,I,Mt,le,ts,Pe,Ye);else{var Nt=Pe?Pe(x1(y,Mt),ot,Mt+"",y,I,Ye):i;Nt===i&&(Nt=ot),hu(y,Mt,Nt)}},pl)}function $r(y,I,le,Pe,Ye,ot,Mt){var Nt=x1(y,le),qt=x1(I,le),Ai=Mt.get(qt);if(Ai){hu(y,le,Ai);return}var Bi=ot?ot(Nt,qt,le+"",y,I,Mt):i,Gi=Bi===i;if(Gi){var yn=_r(qt),zn=!yn&&dd(qt),sr=!yn&&!zn&&ud(qt);Bi=qt,yn||zn||sr?_r(Nt)?Bi=Nt:Cs(Nt)?Bi=Do(Nt):zn?(Gi=!1,Bi=zd(qt,!0)):sr?(Gi=!1,Bi=O_(qt,!0)):Bi=[]:s0(qt)||Rh(qt)?(Bi=Nt,Rh(Nt)?Bi=Gm(Nt):(!ao(Nt)||$d(Nt))&&(Bi=g1(qt))):Gi=!1}Gi&&(Mt.set(qt,Bi),Ye(Bi,qt,Pe,ot,Mt),Mt.delete(qt)),hu(y,le,Bi)}function oo(y,I){var le=y.length;if(le)return I+=I<0?le:0,jd(I,le)?y[I]:i}function aa(y,I,le){I.length?I=fr(I,function(ot){return _r(ot)?function(Mt){return Jt(Mt,ot.length===1?ot[0]:ot)}:ot}):I=[Fo];var Pe=-1;I=fr(I,No(Kn()));var Ye=xa(y,function(ot,Mt,Nt){var qt=fr(I,function(Ai){return Ai(ot)});return{criteria:qt,index:++Pe,value:ot}});return Ad(Ye,function(ot,Mt){return r1(ot,Mt,le)})}function ys(y,I){return ba(y,I,function(le,Pe){return Bh(y,Pe)})}function ba(y,I,le){for(var Pe=-1,Ye=I.length,ot={};++Pe<Ye;){var Mt=I[Pe],Nt=Jt(y,Mt);le(Nt,Mt)&&pu(ot,nd(Mt,y),Nt)}return ot}function Th(y){return function(I){return Jt(I,y)}}function dc(y,I,le,Pe){var Ye=Pe?_o:Jn,ot=-1,Mt=I.length,Nt=y;for(y===I&&(I=Do(I)),le&&(Nt=fr(y,No(le)));++ot<Mt;)for(var qt=0,Ai=I[ot],Bi=le?le(Ai):Ai;(qt=Ye(Nt,Bi,qt,Pe))>-1;)Nt!==y&&Ei.call(Nt,qt,1),Ei.call(y,qt,1);return y}function la(y,I){for(var le=y?I.length:0,Pe=le-1;le--;){var Ye=I[le];if(le==Pe||Ye!==ot){var ot=Ye;jd(Ye)?Ei.call(y,Ye,1):_m(y,Ye)}}return y}function Xa(y,I){return y+_h(sm()*(I-y+1))}function Pc(y,I,le,Pe){for(var Ye=-1,ot=js(Id((I-y)/(le||1)),0),Mt=pi(ot);ot--;)Mt[Pe?ot:++Ye]=y,y+=le;return Mt}function Ml(y,I){var le="";if(!y||I<1||I>X)return le;do I%2&&(le+=y),I=_h(I/2),I&&(y+=y);while(I);return le}function gr(y,I){return Ih(Wf(y,I,Fo),y+"")}function Hu(y){return Ff(zh(y))}function Dc(y,I){var le=zh(y);return Ip(le,he(I,0,le.length))}function pu(y,I,le,Pe){if(!ao(y))return y;I=nd(I,y);for(var Ye=-1,ot=I.length,Mt=ot-1,Nt=y;Nt!=null&&++Ye<ot;){var qt=Pl(I[Ye]),Ai=le;if(qt==="__proto__"||qt==="constructor"||qt==="prototype")return y;if(Ye!=Mt){var Bi=Nt[qt];Ai=Pe?Pe(Bi,qt,Nt):i,Ai===i&&(Ai=ao(Bi)?Bi:jd(I[Ye+1])?[]:{})}_(Nt,qt,Ai),Nt=Nt[qt]}return y}var Uf=Od?function(y,I){return Od.set(y,I),y}:Fo,k_=Fs?function(y,I){return Fs(y,"toString",{configurable:!0,enumerable:!1,value:cy(I),writable:!0})}:Fo;function Qg(y){return Ip(zh(y))}function uc(y,I,le){var Pe=-1,Ye=y.length;I<0&&(I=-I>Ye?0:Ye+I),le=le>Ye?Ye:le,le<0&&(le+=Ye),Ye=I>le?0:le-I>>>0,I>>>=0;for(var ot=pi(Ye);++Pe<Ye;)ot[Pe]=y[Pe+I];return ot}function A_(y,I){var le;return at(y,function(Pe,Ye,ot){return le=I(Pe,Ye,ot),!le}),!!le}function $f(y,I,le){var Pe=0,Ye=y==null?Pe:y.length;if(typeof I=="number"&&I===I&&Ye<=fe){for(;Pe<Ye;){var ot=Pe+Ye>>>1,Mt=y[ot];Mt!==null&&!el(Mt)&&(le?Mt<=I:Mt<I)?Pe=ot+1:Ye=ot}return Ye}return ym(y,I,Fo,le)}function ym(y,I,le,Pe){var Ye=0,ot=y==null?0:y.length;if(ot===0)return 0;I=le(I);for(var Mt=I!==I,Nt=I===null,qt=el(I),Ai=I===i;Ye<ot;){var Bi=_h((Ye+ot)/2),Gi=le(y[Bi]),yn=Gi!==i,zn=Gi===null,sr=Gi===Gi,Lr=el(Gi);if(Mt)var ar=Pe||sr;else Ai?ar=sr&&(Pe||yn):Nt?ar=sr&&yn&&(Pe||!zn):qt?ar=sr&&yn&&!zn&&(Pe||!Lr):zn||Lr?ar=!1:ar=Pe?Gi<=I:Gi<I;ar?Ye=Bi+1:ot=Bi}return ms(ot,pe)}function e1(y,I){for(var le=-1,Pe=y.length,Ye=0,ot=[];++le<Pe;){var Mt=y[le],Nt=I?I(Mt):Mt;if(!le||!cd(Nt,qt)){var qt=Nt;ot[Ye++]=Mt===0?0:Mt}}return ot}function t1(y){return typeof y=="number"?y:el(y)?J:+y}function kl(y){if(typeof y=="string")return y;if(_r(y))return fr(y,kl)+"";if(el(y))return If?If.call(y):"";var I=y+"";return I=="0"&&1/y==-A?"-0":I}function fu(y,I,le){var Pe=-1,Ye=fs,ot=y.length,Mt=!0,Nt=[],qt=Nt;if(le)Mt=!1,Ye=Jr;else if(ot>=o){var Ai=I?null:wa(y);if(Ai)return Tl(Ai);Mt=!1,Ye=Tc,qt=new lc}else qt=I?[]:Nt;e:for(;++Pe<ot;){var Bi=y[Pe],Gi=I?I(Bi):Bi;if(Bi=le||Bi!==0?Bi:0,Mt&&Gi===Gi){for(var yn=qt.length;yn--;)if(qt[yn]===Gi)continue e;I&&qt.push(Gi),Nt.push(Bi)}else Ye(qt,Gi,le)||(qt!==Nt&&qt.push(Gi),Nt.push(Bi))}return Nt}function _m(y,I){return I=nd(I,y),y=v1(y,I),y==null||delete y[Pl(Oc(I))]}function P_(y,I,le,Pe){return pu(y,I,le(Jt(y,I)),Pe)}function vm(y,I,le,Pe){for(var Ye=y.length,ot=Pe?Ye:-1;(Pe?ot--:++ot<Ye)&&I(y[ot],ot,y););return le?uc(y,Pe?0:ot,Pe?ot+1:Ye):uc(y,Pe?ot+1:0,Pe?Ye:ot)}function Sh(y,I){var le=y;return le instanceof er&&(le=le.value()),Yn(I,function(Pe,Ye){return Ye.func.apply(Ye.thisArg,mr([Pe],Ye.args))},le)}function xm(y,I,le){var Pe=y.length;if(Pe<2)return Pe?fu(y[0]):[];for(var Ye=-1,ot=pi(Pe);++Ye<Pe;)for(var Mt=y[Ye],Nt=-1;++Nt<Pe;)Nt!=Ye&&(ot[Ye]=Ze(ot[Ye]||Mt,y[Nt],I,le));return fu(ct(ot,1),I,le)}function i1(y,I,le){for(var Pe=-1,Ye=y.length,ot=I.length,Mt={};++Pe<Ye;){var Nt=Pe<ot?I[Pe]:i;le(Mt,y[Pe],Nt)}return Mt}function bm(y){return Cs(y)?y:[]}function n1(y){return typeof y=="function"?y:Fo}function nd(y,I){return _r(y)?y:y1(y,I)?[y]:b1(Es(y))}var D_=gr;function Bd(y,I,le){var Pe=y.length;return le=le===i?Pe:le,!I&&le>=Pe?y:uc(y,I,le)}var Vf=Cl||function(y){return qs.clearTimeout(y)};function zd(y,I){if(I)return y.slice();var le=y.length,Pe=we?we(le):new y.constructor(le);return y.copy(Pe),Pe}function Sp(y){var I=new y.constructor(y.byteLength);return new In(I).set(new In(y)),I}function I_(y,I){var le=I?Sp(y.buffer):y.buffer;return new y.constructor(le,y.byteOffset,y.byteLength)}function L_(y){var I=new y.constructor(y.source,Di.exec(y));return I.lastIndex=y.lastIndex,I}function u2(y){return $u?Ur($u.call(y)):{}}function O_(y,I){var le=I?Sp(y.buffer):y.buffer;return new y.constructor(le,y.byteOffset,y.length)}function R_(y,I){if(y!==I){var le=y!==i,Pe=y===null,Ye=y===y,ot=el(y),Mt=I!==i,Nt=I===null,qt=I===I,Ai=el(I);if(!Nt&&!Ai&&!ot&&y>I||ot&&Mt&&qt&&!Nt&&!Ai||Pe&&Mt&&qt||!le&&qt||!Ye)return 1;if(!Pe&&!ot&&!Ai&&y<I||Ai&&le&&Ye&&!Pe&&!ot||Nt&&le&&Ye||!Mt&&Ye||!qt)return-1}return 0}function r1(y,I,le){for(var Pe=-1,Ye=y.criteria,ot=I.criteria,Mt=Ye.length,Nt=le.length;++Pe<Mt;){var qt=R_(Ye[Pe],ot[Pe]);if(qt){if(Pe>=Nt)return qt;var Ai=le[Pe];return qt*(Ai=="desc"?-1:1)}}return y.index-I.index}function Cp(y,I,le,Pe){for(var Ye=-1,ot=y.length,Mt=le.length,Nt=-1,qt=I.length,Ai=js(ot-Mt,0),Bi=pi(qt+Ai),Gi=!Pe;++Nt<qt;)Bi[Nt]=I[Nt];for(;++Ye<Mt;)(Gi||Ye<ot)&&(Bi[le[Ye]]=y[Ye]);for(;Ai--;)Bi[Nt++]=y[Ye++];return Bi}function Ch(y,I,le,Pe){for(var Ye=-1,ot=y.length,Mt=-1,Nt=le.length,qt=-1,Ai=I.length,Bi=js(ot-Nt,0),Gi=pi(Bi+Ai),yn=!Pe;++Ye<Bi;)Gi[Ye]=y[Ye];for(var zn=Ye;++qt<Ai;)Gi[zn+qt]=I[qt];for(;++Mt<Nt;)(yn||Ye<ot)&&(Gi[zn+le[Mt]]=y[Ye++]);return Gi}function Do(y,I){var le=-1,Pe=y.length;for(I||(I=pi(Pe));++le<Pe;)I[le]=y[le];return I}function Xo(y,I,le,Pe){var Ye=!le;le||(le={});for(var ot=-1,Mt=I.length;++ot<Mt;){var Nt=I[ot],qt=Pe?Pe(le[Nt],y[Nt],Nt,le,y):i;qt===i&&(qt=y[Nt]),Ye?W(le,Nt,qt):_(le,Nt,qt)}return le}function Wu(y,I){return Xo(y,p1(y),I)}function Yu(y,I){return Xo(y,Sm(y),I)}function Nd(y,I){return function(le,Pe){var Ye=_r(le)?oi:p,ot=I?I():{};return Ye(le,y,Kn(Pe,2),ot)}}function Ep(y){return gr(function(I,le){var Pe=-1,Ye=le.length,ot=Ye>1?le[Ye-1]:i,Mt=Ye>2?le[2]:i;for(ot=y.length>3&&typeof ot=="function"?(Ye--,ot):i,Mt&&Ka(le[0],le[1],Mt)&&(ot=Ye<3?i:ot,Ye=1),I=Ur(I);++Pe<Ye;){var Nt=le[Pe];Nt&&y(I,Nt,Pe,ot)}return I})}function B_(y,I){return function(le,Pe){if(le==null)return le;if(!_s(le))return y(le,Pe);for(var Ye=le.length,ot=I?Ye:-1,Mt=Ur(le);(I?ot--:++ot<Ye)&&Pe(Mt[ot],ot,Mt)!==!1;);return le}}function z_(y){return function(I,le,Pe){for(var Ye=-1,ot=Ur(I),Mt=Pe(I),Nt=Mt.length;Nt--;){var qt=Mt[y?Nt:++Ye];if(le(ot[qt],qt,ot)===!1)break}return I}}function h2(y,I,le){var Pe=I&G,Ye=ul(y);function ot(){var Mt=this&&this!==qs&&this instanceof ot?Ye:y;return Mt.apply(Pe?le:this,arguments)}return ot}function s1(y){return function(I){I=Es(I);var le=Aa(I)?Wo(I):i,Pe=le?le[0]:I.charAt(0),Ye=le?Bd(le,1).join(""):I.slice(1);return Pe[y]()+Ye}}function mu(y){return function(I){return Yn(Fh(iy(I).replace(Sd,"")),y,"")}}function ul(y){return function(){var I=arguments;switch(I.length){case 0:return new y;case 1:return new y(I[0]);case 2:return new y(I[0],I[1]);case 3:return new y(I[0],I[1],I[2]);case 4:return new y(I[0],I[1],I[2],I[3]);case 5:return new y(I[0],I[1],I[2],I[3],I[4]);case 6:return new y(I[0],I[1],I[2],I[3],I[4],I[5]);case 7:return new y(I[0],I[1],I[2],I[3],I[4],I[5],I[6])}var le=td(y.prototype),Pe=y.apply(le,I);return ao(Pe)?Pe:le}}function p2(y,I,le){var Pe=ul(y);function Ye(){for(var ot=arguments.length,Mt=pi(ot),Nt=ot,qt=yu(Ye);Nt--;)Mt[Nt]=arguments[Nt];var Ai=ot<3&&Mt[0]!==qt&&Mt[ot-1]!==qt?[]:vo(Mt,qt);if(ot-=Ai.length,ot<le)return pc(y,I,Rn,Ye.placeholder,i,Mt,Ai,i,i,le-ot);var Bi=this&&this!==qs&&this instanceof Ye?Pe:y;return ki(Bi,this,Mt)}return Ye}function N_(y){return function(I,le,Pe){var Ye=Ur(I);if(!_s(I)){var ot=Kn(le,3);I=So(I),le=function(Nt){return ot(Ye[Nt],Nt,Ye)}}var Mt=y(I,le,Pe);return Mt>-1?Ye[ot?I[Mt]:Mt]:i}}function bo(y){return sd(function(I){var le=I.length,Pe=le,Ye=cl.prototype.thru;for(y&&I.reverse();Pe--;){var ot=I[Pe];if(typeof ot!="function")throw new qo(h);if(Ye&&!Mt&&Fd(ot)=="wrapper")var Mt=new cl([],!0)}for(Pe=Mt?Pe:le;++Pe<le;){ot=I[Pe];var Nt=Fd(ot),qt=Nt=="wrapper"?od(ot):i;qt&&Ap(qt[0])&&qt[1]==(ie|D|U|te)&&!qt[4].length&&qt[9]==1?Mt=Mt[Fd(qt[0])].apply(Mt,qt[3]):Mt=ot.length==1&&Ap(ot)?Mt[Nt]():Mt.thru(ot)}return function(){var Ai=arguments,Bi=Ai[0];if(Mt&&Ai.length==1&&_r(Bi))return Mt.plant(Bi).value();for(var Gi=0,yn=le?I[Gi].apply(this,Ai):Bi;++Gi<le;)yn=I[Gi].call(this,yn);return yn}})}function Rn(y,I,le,Pe,Ye,ot,Mt,Nt,qt,Ai){var Bi=I&ie,Gi=I&G,yn=I&M,zn=I&(D|H),sr=I&$,Lr=yn?i:ul(y);function ar(){for(var Vr=arguments.length,qr=pi(Vr),Il=Vr;Il--;)qr[Il]=arguments[Il];if(zn)var tl=yu(ar),Ll=rc(qr,tl);if(Pe&&(qr=Cp(qr,Pe,Ye,zn)),ot&&(qr=Ch(qr,ot,Mt,zn)),Vr-=Ll,zn&&Vr<Ai){var Io=vo(qr,tl);return pc(y,I,Rn,ar.placeholder,le,qr,Io,Nt,qt,Ai-Vr)}var Sa=Gi?le:this,Hd=yn?Sa[y]:y;return Vr=qr.length,Nt?qr=$_(qr,Nt):sr&&Vr>1&&qr.reverse(),Bi&&qt<Vr&&(qr.length=qt),this&&this!==qs&&this instanceof ar&&(Hd=Lr||ul(Hd)),Hd.apply(Sa,qr)}return ar}function gu(y,I){return function(le,Pe){return Si(le,y,I(Pe),{})}}function Eh(y,I){return function(le,Pe){var Ye;if(le===i&&Pe===i)return I;if(le!==i&&(Ye=le),Pe!==i){if(Ye===i)return Pe;typeof le=="string"||typeof Pe=="string"?(le=kl(le),Pe=kl(Pe)):(le=t1(le),Pe=t1(Pe)),Ye=y(le,Pe)}return Ye}}function Pr(y){return sd(function(I){return I=fr(I,No(Kn())),gr(function(le){var Pe=this;return y(I,function(Ye){return ki(Ye,Pe,le)})})})}function Gf(y,I){I=I===i?" ":kl(I);var le=I.length;if(le<2)return le?Ml(I,y):I;var Pe=Ml(I,Id(y/xr(I)));return Aa(I)?Bd(Wo(Pe),0,y).join(""):Pe.slice(0,y)}function o1(y,I,le,Pe){var Ye=I&G,ot=ul(y);function Mt(){for(var Nt=-1,qt=arguments.length,Ai=-1,Bi=Pe.length,Gi=pi(Bi+qt),yn=this&&this!==qs&&this instanceof Mt?ot:y;++Ai<Bi;)Gi[Ai]=Pe[Ai];for(;qt--;)Gi[Ai++]=arguments[++Nt];return ki(yn,Ye?le:this,Gi)}return Mt}function rd(y){return function(I,le,Pe){return Pe&&typeof Pe!="number"&&Ka(I,le,Pe)&&(le=Pe=i),I=Vd(I),le===i?(le=I,I=0):le=Vd(le),Pe=Pe===i?I<le?1:-1:Vd(Pe),Pc(I,le,Pe,y)}}function hc(y){return function(I,le){return typeof I=="string"&&typeof le=="string"||(I=Da(I),le=Da(le)),y(I,le)}}function pc(y,I,le,Pe,Ye,ot,Mt,Nt,qt,Ai){var Bi=I&D,Gi=Bi?Mt:i,yn=Bi?i:Mt,zn=Bi?ot:i,sr=Bi?i:ot;I|=Bi?U:E,I&=~(Bi?E:U),I&S||(I&=~(G|M));var Lr=[y,I,Ye,zn,Gi,sr,yn,Nt,qt,Ai],ar=le.apply(i,Lr);return Ap(y)&&Mm(ar,Lr),ar.placeholder=Pe,Lh(ar,y,I)}function hl(y){var I=Ns[y];return function(le,Pe){if(le=Da(le),Pe=Pe==null?0:ms(tr(Pe),292),Pe&&Af(le)){var Ye=(Es(le)+"e").split("e"),ot=I(Ye[0]+"e"+(+Ye[1]+Pe));return Ye=(Es(ot)+"e").split("e"),+(Ye[0]+"e"+(+Ye[1]-Pe))}return I(le)}}var wa=Qc&&1/Tl(new Qc([,-0]))[1]==A?function(y){return new Qc(y)}:uy;function a1(y){return function(I){var le=Za(I);return le==Se?Sc(I):le==xe?ac(I):Jc(I,y(I))}}function Ta(y,I,le,Pe,Ye,ot,Mt,Nt){var qt=I&M;if(!qt&&typeof y!="function")throw new qo(h);var Ai=Pe?Pe.length:0;if(Ai||(I&=~(U|E),Pe=Ye=i),Mt=Mt===i?Mt:js(tr(Mt),0),Nt=Nt===i?Nt:tr(Nt),Ai-=Ye?Ye.length:0,I&E){var Bi=Pe,Gi=Ye;Pe=Ye=i}var yn=qt?i:od(y),zn=[y,I,le,Pe,Ye,Bi,Gi,ot,Mt,Nt];if(yn&&Hf(zn,yn),y=zn[0],I=zn[1],le=zn[2],Pe=zn[3],Ye=zn[4],Nt=zn[9]=zn[9]===i?qt?0:y.length:js(zn[9]-Ai,0),!Nt&&I&(D|H)&&(I&=~(D|H)),!I||I==G)var sr=h2(y,I,le);else I==D||I==H?sr=p2(y,I,Nt):(I==U||I==(G|U))&&!Ye.length?sr=o1(y,I,le,Pe):sr=Rn.apply(i,zn);var Lr=yn?Uf:Mm;return Lh(Lr(sr,zn),y,I)}function l1(y,I,le,Pe){return y===i||cd(y,Ft[le])&&!li.call(Pe,le)?I:y}function Mh(y,I,le,Pe,Ye,ot){return ao(y)&&ao(I)&&(ot.set(I,y),ts(y,I,i,Mh,ot),ot.delete(I)),y}function c1(y){return s0(y)?i:y}function d1(y,I,le,Pe,Ye,ot){var Mt=le&L,Nt=y.length,qt=I.length;if(Nt!=qt&&!(Mt&&qt>Nt))return!1;var Ai=ot.get(y),Bi=ot.get(I);if(Ai&&Bi)return Ai==I&&Bi==y;var Gi=-1,yn=!0,zn=le&O?new lc:i;for(ot.set(y,I),ot.set(I,y);++Gi<Nt;){var sr=y[Gi],Lr=I[Gi];if(Pe)var ar=Mt?Pe(Lr,sr,Gi,I,y,ot):Pe(sr,Lr,Gi,y,I,ot);if(ar!==i){if(ar)continue;yn=!1;break}if(zn){if(!yr(I,function(Vr,qr){if(!Tc(zn,qr)&&(sr===Vr||Ye(sr,Vr,le,Pe,ot)))return zn.push(qr)})){yn=!1;break}}else if(!(sr===Lr||Ye(sr,Lr,le,Pe,ot))){yn=!1;break}}return ot.delete(y),ot.delete(I),yn}function u1(y,I,le,Pe,Ye,ot,Mt){switch(le){case Ot:if(y.byteLength!=I.byteLength||y.byteOffset!=I.byteOffset)return!1;y=y.buffer,I=I.buffer;case St:return!(y.byteLength!=I.byteLength||!ot(new In(y),new In(I)));case Ce:case ne:case Re:return cd(+y,+I);case _e:return y.name==I.name&&y.message==I.message;case qe:case Ie:return y==I+"";case Se:var Nt=Sc;case xe:var qt=Pe&L;if(Nt||(Nt=Tl),y.size!=I.size&&!qt)return!1;var Ai=Mt.get(y);if(Ai)return Ai==I;Pe|=O,Mt.set(y,I);var Bi=d1(Nt(y),Nt(I),Pe,Ye,ot,Mt);return Mt.delete(y),Bi;case Be:if($u)return $u.call(y)==$u.call(I)}return!1}function f2(y,I,le,Pe,Ye,ot){var Mt=le&L,Nt=wm(y),qt=Nt.length,Ai=wm(I),Bi=Ai.length;if(qt!=Bi&&!Mt)return!1;for(var Gi=qt;Gi--;){var yn=Nt[Gi];if(!(Mt?yn in I:li.call(I,yn)))return!1}var zn=ot.get(y),sr=ot.get(I);if(zn&&sr)return zn==I&&sr==y;var Lr=!0;ot.set(y,I),ot.set(I,y);for(var ar=Mt;++Gi<qt;){yn=Nt[Gi];var Vr=y[yn],qr=I[yn];if(Pe)var Il=Mt?Pe(qr,Vr,yn,I,y,ot):Pe(Vr,qr,yn,y,I,ot);if(!(Il===i?Vr===qr||Ye(Vr,qr,le,Pe,ot):Il)){Lr=!1;break}ar||(ar=yn=="constructor")}if(Lr&&!ar){var tl=y.constructor,Ll=I.constructor;tl!=Ll&&"constructor"in y&&"constructor"in I&&!(typeof tl=="function"&&tl instanceof tl&&typeof Ll=="function"&&Ll instanceof Ll)&&(Lr=!1)}return ot.delete(y),ot.delete(I),Lr}function sd(y){return Ih(Wf(y,i,S1),y+"")}function wm(y){return Gt(y,So,p1)}function h1(y){return Gt(y,pl,Sm)}var od=Od?function(y){return Od.get(y)}:uy;function Fd(y){for(var I=y.name+"",le=du[I],Pe=li.call(du,I)?le.length:0;Pe--;){var Ye=le[Pe],ot=Ye.func;if(ot==null||ot==y)return Ye.name}return I}function yu(y){var I=li.call(it,"placeholder")?it:y;return I.placeholder}function Kn(){var y=it.iteratee||dy;return y=y===dy?ss:y,arguments.length?y(arguments[0],arguments[1]):y}function Mp(y,I){var le=y.__data__;return g2(I)?le[typeof I=="string"?"string":"hash"]:le.map}function Tm(y){for(var I=So(y),le=I.length;le--;){var Pe=I[le],Ye=y[Pe];I[le]=[Pe,Ye,Ic(Ye)]}return I}function kh(y,I){var le=ka(y,I);return kn(le)?le:i}function F_(y){var I=li.call(y,so),le=y[so];try{y[so]=i;var Pe=!0}catch{}var Ye=zi.call(y);return Pe&&(I?y[so]=le:delete y[so]),Ye}var p1=yp?function(y){return y==null?[]:(y=Ur(y),pn(yp(y),function(I){return bt.call(y,I)}))}:tg,Sm=yp?function(y){for(var I=[];y;)mr(I,p1(y)),y=Ee(y);return I}:tg,Za=Mi;(vp&&Za(new vp(new ArrayBuffer(1)))!=Ot||Mc&&Za(new Mc)!=Se||xh&&Za(xh.resolve())!=rt||Qc&&Za(new Qc)!=xe||ju&&Za(new ju)!=Ke)&&(Za=function(y){var I=Mi(y),le=I==$e?y.constructor:i,Pe=le?ad(le):"";if(Pe)switch(Pe){case Pf:return Ot;case Df:return Se;case om:return rt;case xp:return xe;case ed:return Ke}return I});function f1(y,I,le){for(var Pe=-1,Ye=le.length;++Pe<Ye;){var ot=le[Pe],Mt=ot.size;switch(ot.type){case"drop":y+=Mt;break;case"dropRight":I-=Mt;break;case"take":I=ms(I,y+Mt);break;case"takeRight":y=js(y,I-Mt);break}}return{start:y,end:I}}function j_(y){var I=y.match(Ut);return I?I[1].split(Ht):[]}function m1(y,I,le){I=nd(I,y);for(var Pe=-1,Ye=I.length,ot=!1;++Pe<Ye;){var Mt=Pl(I[Pe]);if(!(ot=y!=null&&le(y,Mt)))break;y=y[Mt]}return ot||++Pe!=Ye?ot:(Ye=y==null?0:y.length,!!Ye&&ns(Ye)&&jd(Mt,Ye)&&(_r(y)||Rh(y)))}function Ah(y){var I=y.length,le=new y.constructor(I);return I&&typeof y[0]=="string"&&li.call(y,"index")&&(le.index=y.index,le.input=y.input),le}function g1(y){return typeof y.constructor=="function"&&!Pp(y)?td(Ee(y)):{}}function m2(y,I,le){var Pe=y.constructor;switch(I){case St:return Sp(y);case Ce:case ne:return new Pe(+y);case Ot:return I_(y,le);case yi:case Wt:case fi:case Hi:case pt:case Lt:case ei:case Pi:case cn:return O_(y,le);case Se:return new Pe;case Re:case Ie:return new Pe(y);case qe:return L_(y);case xe:return new Pe;case Be:return u2(y)}}function kp(y,I){var le=I.length;if(!le)return y;var Pe=le-1;return I[Pe]=(le>1?"& ":"")+I[Pe],I=I.join(le>2?", ":" "),y.replace(Rt,`{
/* [wrapped with `+I+`] */
`)}function Cm(y){return _r(y)||Rh(y)||!!(Tn&&y&&y[Tn])}function jd(y,I){var le=typeof y;return I=I??X,!!I&&(le=="number"||le!="symbol"&&cr.test(y))&&y>-1&&y%1==0&&y<I}function Ka(y,I,le){if(!ao(le))return!1;var Pe=typeof I;return(Pe=="number"?_s(le)&&jd(I,le.length):Pe=="string"&&I in le)?cd(le[I],y):!1}function y1(y,I){if(_r(y))return!1;var le=typeof y;return le=="number"||le=="symbol"||le=="boolean"||y==null||el(y)?!0:rl.test(y)||!Va.test(y)||I!=null&&y in Ur(I)}function g2(y){var I=typeof y;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?y!=="__proto__":y===null}function Ap(y){var I=Fd(y),le=it[I];if(typeof le!="function"||!(I in er.prototype))return!1;if(y===le)return!0;var Pe=od(le);return!!Pe&&y===Pe[0]}function Al(y){return!!rn&&rn in y}var U_=wi?$d:py;function Pp(y){var I=y&&y.constructor,le=typeof I=="function"&&I.prototype||Ft;return y===le}function Ic(y){return y===y&&!ao(y)}function Em(y,I){return function(le){return le==null?!1:le[y]===I&&(I!==i||y in Ur(le))}}function Ph(y){var I=ca(y,function(Pe){return le.size===R&&le.clear(),Pe}),le=I.cache;return I}function Hf(y,I){var le=y[1],Pe=I[1],Ye=le|Pe,ot=Ye<(G|M|ie),Mt=Pe==ie&&le==D||Pe==ie&&le==te&&y[7].length<=I[8]||Pe==(ie|te)&&I[7].length<=I[8]&&le==D;if(!(ot||Mt))return y;Pe&G&&(y[2]=I[2],Ye|=le&G?0:S);var Nt=I[3];if(Nt){var qt=y[3];y[3]=qt?Cp(qt,Nt,I[4]):Nt,y[4]=qt?vo(y[3],K):I[4]}return Nt=I[5],Nt&&(qt=y[5],y[5]=qt?Ch(qt,Nt,I[6]):Nt,y[6]=qt?vo(y[5],K):I[6]),Nt=I[7],Nt&&(y[7]=Nt),Pe&ie&&(y[8]=y[8]==null?I[8]:ms(y[8],I[8])),y[9]==null&&(y[9]=I[9]),y[0]=I[0],y[1]=Ye,y}function Dh(y){var I=[];if(y!=null)for(var le in Ur(y))I.push(le);return I}function _1(y){return zi.call(y)}function Wf(y,I,le){return I=js(I===i?y.length-1:I,0),function(){for(var Pe=arguments,Ye=-1,ot=js(Pe.length-I,0),Mt=pi(ot);++Ye<ot;)Mt[Ye]=Pe[I+Ye];Ye=-1;for(var Nt=pi(I+1);++Ye<I;)Nt[Ye]=Pe[Ye];return Nt[I]=le(Mt),ki(y,this,Nt)}}function v1(y,I){return I.length<2?y:Jt(y,uc(I,0,-1))}function $_(y,I){for(var le=y.length,Pe=ms(I.length,le),Ye=Do(y);Pe--;){var ot=I[Pe];y[Pe]=jd(ot,le)?Ye[ot]:i}return y}function x1(y,I){if(!(I==="constructor"&&typeof y[I]=="function")&&I!="__proto__")return y[I]}var Mm=Ud(Uf),Dp=El||function(y,I){return qs.setTimeout(y,I)},Ih=Ud(k_);function Lh(y,I,le){var Pe=I+"";return Ih(y,kp(Pe,fc(j_(Pe),le)))}function Ud(y){var I=0,le=0;return function(){var Pe=vh(),Ye=P-(Pe-le);if(le=Pe,Ye>0){if(++I>=x)return arguments[0]}else I=0;return y.apply(i,arguments)}}function Ip(y,I){var le=-1,Pe=y.length,Ye=Pe-1;for(I=I===i?Pe:I;++le<I;){var ot=Xa(le,Ye),Mt=y[ot];y[ot]=y[le],y[le]=Mt}return y.length=I,y}var b1=Ph(function(y){var I=[];return y.charCodeAt(0)===46&&I.push(""),y.replace(mt,function(le,Pe,Ye,ot){I.push(Ye?ot.replace(xi,"$1"):Pe||le)}),I});function Pl(y){if(typeof y=="string"||el(y))return y;var I=y+"";return I=="0"&&1/y==-A?"-0":I}function ad(y){if(y!=null){try{return Vt.call(y)}catch{}try{return y+""}catch{}}return""}function fc(y,I){return hi(F,function(le){var Pe="_."+le[0];I&le[1]&&!fs(y,Pe)&&y.push(Pe)}),y.sort()}function Lp(y){if(y instanceof er)return y.clone();var I=new cl(y.__wrapped__,y.__chain__);return I.__actions__=Do(y.__actions__),I.__index__=y.__index__,I.__values__=y.__values__,I}function Ja(y,I,le){(le?Ka(y,I,le):I===i)?I=1:I=js(tr(I),0);var Pe=y==null?0:y.length;if(!Pe||I<1)return[];for(var Ye=0,ot=0,Mt=pi(Id(Pe/I));Ye<Pe;)Mt[ot++]=uc(y,Ye,Ye+=I);return Mt}function Lc(y){for(var I=-1,le=y==null?0:y.length,Pe=0,Ye=[];++I<le;){var ot=y[I];ot&&(Ye[Pe++]=ot)}return Ye}function w1(){var y=arguments.length;if(!y)return[];for(var I=pi(y-1),le=arguments[0],Pe=y;Pe--;)I[Pe-1]=arguments[Pe];return mr(_r(le)?Do(le):[le],ct(I,1))}var po=gr(function(y,I){return Cs(y)?Ze(y,ct(I,1,Cs,!0)):[]}),V_=gr(function(y,I){var le=Oc(I);return Cs(le)&&(le=i),Cs(y)?Ze(y,ct(I,1,Cs,!0),Kn(le,2)):[]}),Yf=gr(function(y,I){var le=Oc(I);return Cs(le)&&(le=i),Cs(y)?Ze(y,ct(I,1,Cs,!0),i,le):[]});function ld(y,I,le){var Pe=y==null?0:y.length;return Pe?(I=le||I===i?1:tr(I),uc(y,I<0?0:I,Pe)):[]}function y2(y,I,le){var Pe=y==null?0:y.length;return Pe?(I=le||I===i?1:tr(I),I=Pe-I,uc(y,0,I<0?0:I)):[]}function _2(y,I){return y&&y.length?vm(y,Kn(I,3),!0,!0):[]}function G_(y,I){return y&&y.length?vm(y,Kn(I,3),!0):[]}function H_(y,I,le,Pe){var Ye=y==null?0:y.length;return Ye?(le&&typeof le!="number"&&Ka(y,I,le)&&(le=0,Pe=Ye),nt(y,I,le,Pe)):[]}function qu(y,I,le){var Pe=y==null?0:y.length;if(!Pe)return-1;var Ye=le==null?0:tr(le);return Ye<0&&(Ye=js(Pe+Ye,0)),na(y,Kn(I,3),Ye)}function T1(y,I,le){var Pe=y==null?0:y.length;if(!Pe)return-1;var Ye=Pe-1;return le!==i&&(Ye=tr(le),Ye=le<0?js(Pe+Ye,0):ms(Ye,Pe-1)),na(y,Kn(I,3),Ye,!0)}function S1(y){var I=y==null?0:y.length;return I?ct(y,1):[]}function W_(y){var I=y==null?0:y.length;return I?ct(y,A):[]}function Y_(y,I){var le=y==null?0:y.length;return le?(I=I===i?1:tr(I),ct(y,I)):[]}function v2(y){for(var I=-1,le=y==null?0:y.length,Pe={};++I<le;){var Ye=y[I];Pe[Ye[0]]=Ye[1]}return Pe}function km(y){return y&&y.length?y[0]:i}function C1(y,I,le){var Pe=y==null?0:y.length;if(!Pe)return-1;var Ye=le==null?0:tr(le);return Ye<0&&(Ye=js(Pe+Ye,0)),Jn(y,I,Ye)}function E1(y){var I=y==null?0:y.length;return I?uc(y,0,-1):[]}var Qa=gr(function(y){var I=fr(y,bm);return I.length&&I[0]===y[0]?si(I):[]}),q_=gr(function(y){var I=Oc(y),le=fr(y,bm);return I===Oc(le)?I=i:le.pop(),le.length&&le[0]===y[0]?si(le,Kn(I,2)):[]}),x2=gr(function(y){var I=Oc(y),le=fr(y,bm);return I=typeof I=="function"?I:i,I&&le.pop(),le.length&&le[0]===y[0]?si(le,i,I):[]});function X_(y,I){return y==null?"":_p.call(y,I)}function Oc(y){var I=y==null?0:y.length;return I?y[I-1]:i}function b2(y,I,le){var Pe=y==null?0:y.length;if(!Pe)return-1;var Ye=Pe;return le!==i&&(Ye=tr(le),Ye=Ye<0?js(Pe+Ye,0):ms(Ye,Pe-1)),I===I?yh(y,I,Ye):na(y,ra,Ye,!0)}function Z_(y,I){return y&&y.length?oo(y,tr(I)):i}var K_=gr(M1);function M1(y,I){return y&&y.length&&I&&I.length?dc(y,I):y}function k1(y,I,le){return y&&y.length&&I&&I.length?dc(y,I,Kn(le,2)):y}function _u(y,I,le){return y&&y.length&&I&&I.length?dc(y,I,i,le):y}var Dl=sd(function(y,I){var le=y==null?0:y.length,Pe=ae(y,I);return la(y,fr(I,function(Ye){return jd(Ye,le)?+Ye:Ye}).sort(R_)),Pe});function w2(y,I){var le=[];if(!(y&&y.length))return le;var Pe=-1,Ye=[],ot=y.length;for(I=Kn(I,3);++Pe<ot;){var Mt=y[Pe];I(Mt,Pe,y)&&(le.push(Mt),Ye.push(Pe))}return la(y,Ye),le}function qf(y){return y==null?y:Zg.call(y)}function T2(y,I,le){var Pe=y==null?0:y.length;return Pe?(le&&typeof le!="number"&&Ka(y,I,le)?(I=0,le=Pe):(I=I==null?0:tr(I),le=le===i?Pe:tr(le)),uc(y,I,le)):[]}function S2(y,I){return $f(y,I)}function C2(y,I,le){return ym(y,I,Kn(le,2))}function Xf(y,I){var le=y==null?0:y.length;if(le){var Pe=$f(y,I);if(Pe<le&&cd(y[Pe],I))return Pe}return-1}function Am(y,I){return $f(y,I,!0)}function J_(y,I,le){return ym(y,I,Kn(le,2),!0)}function Oh(y,I){var le=y==null?0:y.length;if(le){var Pe=$f(y,I,!0)-1;if(cd(y[Pe],I))return Pe}return-1}function Zf(y){return y&&y.length?e1(y):[]}function E2(y,I){return y&&y.length?e1(y,Kn(I,2)):[]}function M2(y){var I=y==null?0:y.length;return I?uc(y,1,I):[]}function k2(y,I,le){return y&&y.length?(I=le||I===i?1:tr(I),uc(y,0,I<0?0:I)):[]}function A2(y,I,le){var Pe=y==null?0:y.length;return Pe?(I=le||I===i?1:tr(I),I=Pe-I,uc(y,I<0?0:I,Pe)):[]}function P2(y,I){return y&&y.length?vm(y,Kn(I,3),!1,!0):[]}function D2(y,I){return y&&y.length?vm(y,Kn(I,3)):[]}var I2=gr(function(y){return fu(ct(y,1,Cs,!0))}),A1=gr(function(y){var I=Oc(y);return Cs(I)&&(I=i),fu(ct(y,1,Cs,!0),Kn(I,2))}),L2=gr(function(y){var I=Oc(y);return I=typeof I=="function"?I:i,fu(ct(y,1,Cs,!0),i,I)});function Op(y){return y&&y.length?fu(y):[]}function O2(y,I){return y&&y.length?fu(y,Kn(I,2)):[]}function wo(y,I){return I=typeof I=="function"?I:i,y&&y.length?fu(y,i,I):[]}function Rp(y){if(!(y&&y.length))return[];var I=0;return y=pn(y,function(le){if(Cs(le))return I=js(le.length,I),!0}),va(I,function(le){return fr(y,_a(le))})}function P1(y,I){if(!(y&&y.length))return[];var le=Rp(y);return I==null?le:fr(le,function(Pe){return ki(I,i,Pe)})}var Pm=gr(function(y,I){return Cs(y)?Ze(y,I):[]}),Dm=gr(function(y){return xm(pn(y,Cs))}),Kf=gr(function(y){var I=Oc(y);return Cs(I)&&(I=i),xm(pn(y,Cs),Kn(I,2))}),Q_=gr(function(y){var I=Oc(y);return I=typeof I=="function"?I:i,xm(pn(y,Cs),i,I)}),ev=gr(Rp);function Jf(y,I){return i1(y||[],I||[],_)}function D1(y,I){return i1(y||[],I||[],pu)}var I1=gr(function(y){var I=y.length,le=I>1?y[I-1]:i;return le=typeof le=="function"?(y.pop(),le):i,P1(y,le)});function tv(y){var I=it(y);return I.__chain__=!0,I}function iv(y,I){return I(y),y}function Xu(y,I){return I(y)}var R2=sd(function(y){var I=y.length,le=I?y[0]:0,Pe=this.__wrapped__,Ye=function(ot){return ae(ot,y)};return I>1||this.__actions__.length||!(Pe instanceof er)||!jd(le)?this.thru(Ye):(Pe=Pe.slice(le,+le+(I?1:0)),Pe.__actions__.push({func:Xu,args:[Ye],thisArg:i}),new cl(Pe,this.__chain__).thru(function(ot){return I&&!ot.length&&ot.push(i),ot}))});function L1(){return tv(this)}function B2(){return new cl(this.value(),this.__chain__)}function O1(){this.__values__===i&&(this.__values__=Vm(this.value()));var y=this.__index__>=this.__values__.length,I=y?i:this.__values__[this.__index__++];return{done:y,value:I}}function R1(){return this}function Im(y){for(var I,le=this;le instanceof bh;){var Pe=Lp(le);Pe.__index__=0,Pe.__values__=i,I?Ye.__wrapped__=Pe:I=Pe;var Ye=Pe;le=le.__wrapped__}return Ye.__wrapped__=y,I}function z2(){var y=this.__wrapped__;if(y instanceof er){var I=y;return this.__actions__.length&&(I=new er(this)),I=I.reverse(),I.__actions__.push({func:Xu,args:[qf],thisArg:i}),new cl(I,this.__chain__)}return this.thru(qf)}function N2(){return Sh(this.__wrapped__,this.__actions__)}var F2=Nd(function(y,I,le){li.call(y,le)?++y[le]:W(y,le,1)});function j2(y,I,le){var Pe=_r(y)?Zn:ht;return le&&Ka(y,I,le)&&(I=i),Pe(y,Kn(I,3))}function U2(y,I){var le=_r(y)?pn:gt;return le(y,Kn(I,3))}var $2=N_(qu),Lm=N_(T1);function V2(y,I){return ct(Om(y,I),1)}function nv(y,I){return ct(Om(y,I),A)}function Bp(y,I,le){return le=le===i?1:tr(le),ct(Om(y,I),le)}function rv(y,I){var le=_r(y)?hi:at;return le(y,Kn(I,3))}function sv(y,I){var le=_r(y)?Zi:lt;return le(y,Kn(I,3))}var G2=Nd(function(y,I,le){li.call(y,le)?y[le].push(I):W(y,le,[I])});function ov(y,I,le,Pe){y=_s(y)?y:zh(y),le=le&&!Pe?tr(le):0;var Ye=y.length;return le<0&&(le=js(Ye+le,0)),$m(y)?le<=Ye&&y.indexOf(I,le)>-1:!!Ye&&Jn(y,I,le)>-1}var av=gr(function(y,I,le){var Pe=-1,Ye=typeof I=="function",ot=_s(y)?pi(y.length):[];return at(y,function(Mt){ot[++Pe]=Ye?ki(I,Mt,le):Ni(Mt,I,le)}),ot}),H2=Nd(function(y,I,le){W(y,le,I)});function Om(y,I){var le=_r(y)?fr:xa;return le(y,Kn(I,3))}function W2(y,I,le,Pe){return y==null?[]:(_r(I)||(I=I==null?[]:[I]),le=Pe?i:le,_r(le)||(le=le==null?[]:[le]),aa(y,I,le))}var B1=Nd(function(y,I,le){y[le?0:1].push(I)},function(){return[[],[]]});function Rm(y,I,le){var Pe=_r(y)?Yn:ll,Ye=arguments.length<3;return Pe(y,Kn(I,4),le,Ye,at)}function Bm(y,I,le){var Pe=_r(y)?no:ll,Ye=arguments.length<3;return Pe(y,Kn(I,4),le,Ye,lt)}function Y2(y,I){var le=_r(y)?pn:gt;return le(y,Zu(Kn(I,3)))}function q2(y){var I=_r(y)?Ff:Hu;return I(y)}function Qf(y,I,le){(le?Ka(y,I,le):I===i)?I=1:I=tr(I);var Pe=_r(y)?gm:Dc;return Pe(y,I)}function e0(y){var I=_r(y)?jf:Qg;return I(y)}function lv(y){if(y==null)return 0;if(_s(y))return $m(y)?xr(y):y.length;var I=Za(y);return I==Se||I==xe?y.size:es(y).length}function t0(y,I,le){var Pe=_r(y)?yr:A_;return le&&Ka(y,I,le)&&(I=i),Pe(y,Kn(I,3))}var cv=gr(function(y,I){if(y==null)return[];var le=I.length;return le>1&&Ka(y,I[0],I[1])?I=[]:le>2&&Ka(I[0],I[1],I[2])&&(I=[I[0]]),aa(y,ct(I,1),[])}),zm=sn||function(){return qs.Date.now()};function dv(y,I){if(typeof I!="function")throw new qo(h);return y=tr(y),function(){if(--y<1)return I.apply(this,arguments)}}function z1(y,I,le){return I=le?i:I,I=y&&I==null?y.length:I,Ta(y,ie,i,i,i,i,I)}function N1(y,I){var le;if(typeof I!="function")throw new qo(h);return y=tr(y),function(){return--y>0&&(le=I.apply(this,arguments)),y<=1&&(I=i),le}}var Nm=gr(function(y,I,le){var Pe=G;if(le.length){var Ye=vo(le,yu(Nm));Pe|=U}return Ta(y,Pe,I,le,Ye)}),F1=gr(function(y,I,le){var Pe=G|M;if(le.length){var Ye=vo(le,yu(F1));Pe|=U}return Ta(I,Pe,y,le,Ye)});function j1(y,I,le){I=le?i:I;var Pe=Ta(y,D,i,i,i,i,i,I);return Pe.placeholder=j1.placeholder,Pe}function uv(y,I,le){I=le?i:I;var Pe=Ta(y,H,i,i,i,i,i,I);return Pe.placeholder=uv.placeholder,Pe}function hv(y,I,le){var Pe,Ye,ot,Mt,Nt,qt,Ai=0,Bi=!1,Gi=!1,yn=!0;if(typeof y!="function")throw new qo(h);I=Da(I)||0,ao(le)&&(Bi=!!le.leading,Gi="maxWait"in le,ot=Gi?js(Da(le.maxWait)||0,I):ot,yn="trailing"in le?!!le.trailing:yn);function zn(Io){var Sa=Pe,Hd=Ye;return Pe=Ye=i,Ai=Io,Mt=y.apply(Hd,Sa),Mt}function sr(Io){return Ai=Io,Nt=Dp(Vr,I),Bi?zn(Io):Mt}function Lr(Io){var Sa=Io-qt,Hd=Io-Ai,g0=I-Sa;return Gi?ms(g0,ot-Hd):g0}function ar(Io){var Sa=Io-qt,Hd=Io-Ai;return qt===i||Sa>=I||Sa<0||Gi&&Hd>=ot}function Vr(){var Io=zm();if(ar(Io))return qr(Io);Nt=Dp(Vr,Lr(Io))}function qr(Io){return Nt=i,yn&&Pe?zn(Io):(Pe=Ye=i,Mt)}function Il(){Nt!==i&&Vf(Nt),Ai=0,Pe=qt=Ye=Nt=i}function tl(){return Nt===i?Mt:qr(zm())}function Ll(){var Io=zm(),Sa=ar(Io);if(Pe=arguments,Ye=this,qt=Io,Sa){if(Nt===i)return sr(qt);if(Gi)return Vf(Nt),Nt=Dp(Vr,I),zn(qt)}return Nt===i&&(Nt=Dp(Vr,I)),Mt}return Ll.cancel=Il,Ll.flush=tl,Ll}var pv=gr(function(y,I){return je(y,1,I)}),Fm=gr(function(y,I,le){return je(y,Da(I)||0,le)});function fv(y){return Ta(y,$)}function ca(y,I){if(typeof y!="function"||I!=null&&typeof I!="function")throw new qo(h);var le=function(){var Pe=arguments,Ye=I?I.apply(this,Pe):Pe[0],ot=le.cache;if(ot.has(Ye))return ot.get(Ye);var Mt=y.apply(this,Pe);return le.cache=ot.set(Ye,Mt)||ot,Mt};return le.cache=new(ca.Cache||Ac),le}ca.Cache=Ac;function Zu(y){if(typeof y!="function")throw new qo(h);return function(){var I=arguments;switch(I.length){case 0:return!y.call(this);case 1:return!y.call(this,I[0]);case 2:return!y.call(this,I[0],I[1]);case 3:return!y.call(this,I[0],I[1],I[2])}return!y.apply(this,I)}}function zp(y){return N1(2,y)}var i0=D_(function(y,I){I=I.length==1&&_r(I[0])?fr(I[0],No(Kn())):fr(ct(I,1),No(Kn()));var le=I.length;return gr(function(Pe){for(var Ye=-1,ot=ms(Pe.length,le);++Ye<ot;)Pe[Ye]=I[Ye].call(this,Pe[Ye]);return ki(y,this,Pe)})}),jm=gr(function(y,I){var le=vo(I,yu(jm));return Ta(y,U,i,I,le)}),U1=gr(function(y,I){var le=vo(I,yu(U1));return Ta(y,E,i,I,le)}),X2=sd(function(y,I){return Ta(y,te,i,i,i,I)});function Z2(y,I){if(typeof y!="function")throw new qo(h);return I=I===i?I:tr(I),gr(y,I)}function K2(y,I){if(typeof y!="function")throw new qo(h);return I=I==null?0:js(tr(I),0),gr(function(le){var Pe=le[I],Ye=Bd(le,0,I);return Pe&&mr(Ye,Pe),ki(y,this,Ye)})}function J2(y,I,le){var Pe=!0,Ye=!0;if(typeof y!="function")throw new qo(h);return ao(le)&&(Pe="leading"in le?!!le.leading:Pe,Ye="trailing"in le?!!le.trailing:Ye),hv(y,I,{leading:Pe,maxWait:I,trailing:Ye})}function Q2(y){return z1(y,1)}function ew(y,I){return jm(n1(I),y)}function Um(){if(!arguments.length)return[];var y=arguments[0];return _r(y)?y:[y]}function tw(y){return ge(y,q)}function mv(y,I){return I=typeof I=="function"?I:i,ge(y,q,I)}function gv(y){return ge(y,k|q)}function yv(y,I){return I=typeof I=="function"?I:i,ge(y,k|q,I)}function iw(y,I){return I==null||Ae(y,I,So(I))}function cd(y,I){return y===I||y!==y&&I!==I}var nw=hc(Xt),rw=hc(function(y,I){return y>=I}),Rh=Yt(function(){return arguments}())?Yt:function(y){return To(y)&&li.call(y,"callee")&&!bt.call(y,"callee")},_r=pi.isArray,sw=Ge?No(Ge):ni;function _s(y){return y!=null&&ns(y.length)&&!$d(y)}function Cs(y){return To(y)&&_s(y)}function $1(y){return y===!0||y===!1||To(y)&&Mi(y)==Ce}var dd=zu||py,Np=Je?No(Je):mn;function ow(y){return To(y)&&y.nodeType===1&&!s0(y)}function aw(y){if(y==null)return!0;if(_s(y)&&(_r(y)||typeof y=="string"||typeof y.splice=="function"||dd(y)||ud(y)||Rh(y)))return!y.length;var I=Za(y);if(I==Se||I==xe)return!y.size;if(Pp(y))return!es(y).length;for(var le in y)if(li.call(y,le))return!1;return!0}function n0(y,I){return Sn(y,I)}function lw(y,I,le){le=typeof le=="function"?le:i;var Pe=le?le(y,I):i;return Pe===i?Sn(y,I,i,le):!!Pe}function V1(y){if(!To(y))return!1;var I=Mi(y);return I==_e||I==ve||typeof y.message=="string"&&typeof y.name=="string"&&!s0(y)}function r0(y){return typeof y=="number"&&Af(y)}function $d(y){if(!ao(y))return!1;var I=Mi(y);return I==oe||I==ye||I==ue||I==Qe}function G1(y){return typeof y=="number"&&y==tr(y)}function ns(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=X}function ao(y){var I=typeof y;return y!=null&&(I=="object"||I=="function")}function To(y){return y!=null&&typeof y=="object"}var H1=Bt?No(Bt):Un;function vu(y,I){return y===I||lr(y,I,Tm(I))}function Fp(y,I,le){return le=typeof le=="function"?le:i,lr(y,I,Tm(I),le)}function _v(y){return vv(y)&&y!=+y}function cw(y){if(U_(y))throw new Qn(d);return kn(y)}function dw(y){return y===null}function uw(y){return y==null}function vv(y){return typeof y=="number"||To(y)&&Mi(y)==Re}function s0(y){if(!To(y)||Mi(y)!=$e)return!1;var I=Ee(y);if(I===null)return!0;var le=li.call(I,"constructor")&&I.constructor;return typeof le=="function"&&le instanceof le&&Vt.call(le)==Bn}var W1=Et?No(Et):dn;function hw(y){return G1(y)&&y>=-X&&y<=X}var xv=Kt?No(Kt):is;function $m(y){return typeof y=="string"||!_r(y)&&To(y)&&Mi(y)==Ie}function el(y){return typeof y=="symbol"||To(y)&&Mi(y)==Be}var ud=gi?No(gi):Hr;function bv(y){return y===i}function pw(y){return To(y)&&Za(y)==Ke}function fw(y){return To(y)&&Mi(y)==ft}var mw=hc(Pa),Y1=hc(function(y,I){return y<=I});function Vm(y){if(!y)return[];if(_s(y))return $m(y)?Wo(y):Do(y);if(br&&y[br])return Pd(y[br]());var I=Za(y),le=I==Se?Sc:I==xe?Tl:zh;return le(y)}function Vd(y){if(!y)return y===0?y:0;if(y=Da(y),y===A||y===-A){var I=y<0?-1:1;return I*Y}return y===y?y:0}function tr(y){var I=Vd(y),le=I%1;return I===I?le?I-le:I:0}function jp(y){return y?he(tr(y),0,ce):0}function Da(y){if(typeof y=="number")return y;if(el(y))return J;if(ao(y)){var I=typeof y.valueOf=="function"?y.valueOf():y;y=ao(I)?I+"":I}if(typeof y!="string")return y===0?y:+y;y=tc(y);var le=Cn.test(y);return le||Wi.test(y)?kd(y.slice(2),le?2:8):Mn.test(y)?J:+y}function Gm(y){return Xo(y,pl(y))}function Hm(y){return y?he(tr(y),-X,X):y===0?y:0}function Es(y){return y==null?"":kl(y)}var wv=Ep(function(y,I){if(Pp(I)||_s(I)){Xo(I,So(I),y);return}for(var le in I)li.call(I,le)&&_(y,le,I[le])}),q1=Ep(function(y,I){Xo(I,pl(I),y)}),Wm=Ep(function(y,I,le,Pe){Xo(I,pl(I),y,Pe)}),Tv=Ep(function(y,I,le,Pe){Xo(I,So(I),y,Pe)}),Sv=sd(ae);function X1(y,I){var le=td(y);return I==null?le:T(le,I)}var Cv=gr(function(y,I){y=Ur(y);var le=-1,Pe=I.length,Ye=Pe>2?I[2]:i;for(Ye&&Ka(I[0],I[1],Ye)&&(Pe=1);++le<Pe;)for(var ot=I[le],Mt=pl(ot),Nt=-1,qt=Mt.length;++Nt<qt;){var Ai=Mt[Nt],Bi=y[Ai];(Bi===i||cd(Bi,Ft[Ai])&&!li.call(y,Ai))&&(y[Ai]=ot[Ai])}return y}),gw=gr(function(y){return y.push(i,Mh),ki(o0,i,y)});function Ev(y,I){return ro(y,Kn(I,3),Ct)}function xu(y,I){return ro(y,Kn(I,3),jt)}function Mv(y,I){return y==null?y:wt(y,Kn(I,3),pl)}function kv(y,I){return y==null?y:Dt(y,Kn(I,3),pl)}function Av(y,I){return y&&Ct(y,Kn(I,3))}function Pv(y,I){return y&&jt(y,Kn(I,3))}function yw(y){return y==null?[]:ii(y,So(y))}function _w(y){return y==null?[]:ii(y,pl(y))}function Ym(y,I,le){var Pe=y==null?i:Jt(y,I);return Pe===i?le:Pe}function Dv(y,I){return y!=null&&m1(y,I,_i)}function Bh(y,I){return y!=null&&m1(y,I,ri)}var Iv=gu(function(y,I,le){I!=null&&typeof I.toString!="function"&&(I=zi.call(I)),y[I]=le},cy(Fo)),Lv=gu(function(y,I,le){I!=null&&typeof I.toString!="function"&&(I=zi.call(I)),li.call(y,I)?y[I].push(le):y[I]=[le]},Kn),Z1=gr(Ni);function So(y){return _s(y)?Tp(y):es(y)}function pl(y){return _s(y)?Tp(y,!0):qa(y)}function qm(y,I){var le={};return I=Kn(I,3),Ct(y,function(Pe,Ye,ot){W(le,I(Pe,Ye,ot),Pe)}),le}function Ov(y,I){var le={};return I=Kn(I,3),Ct(y,function(Pe,Ye,ot){W(le,Ye,I(Pe,Ye,ot))}),le}var Xm=Ep(function(y,I,le){ts(y,I,le)}),o0=Ep(function(y,I,le,Pe){ts(y,I,le,Pe)}),vw=sd(function(y,I){var le={};if(y==null)return le;var Pe=!1;I=fr(I,function(ot){return ot=nd(ot,y),Pe||(Pe=ot.length>1),ot}),Xo(y,h1(y),le),Pe&&(le=ge(le,k|z|q,c1));for(var Ye=I.length;Ye--;)_m(le,I[Ye]);return le});function xw(y,I){return Rv(y,Zu(Kn(I)))}var bw=sd(function(y,I){return y==null?{}:ys(y,I)});function Rv(y,I){if(y==null)return{};var le=fr(h1(y),function(Pe){return[Pe]});return I=Kn(I),ba(y,le,function(Pe,Ye){return I(Pe,Ye[0])})}function ww(y,I,le){I=nd(I,y);var Pe=-1,Ye=I.length;for(Ye||(Ye=1,y=i);++Pe<Ye;){var ot=y==null?i:y[Pl(I[Pe])];ot===i&&(Pe=Ye,ot=le),y=$d(ot)?ot.call(y):ot}return y}function Up(y,I,le){return y==null?y:pu(y,I,le)}function K1(y,I,le,Pe){return Pe=typeof Pe=="function"?Pe:i,y==null?y:pu(y,I,le,Pe)}var Bv=a1(So),J1=a1(pl);function Tw(y,I,le){var Pe=_r(y),Ye=Pe||dd(y)||ud(y);if(I=Kn(I,4),le==null){var ot=y&&y.constructor;Ye?le=Pe?new ot:[]:ao(y)?le=$d(ot)?td(Ee(y)):{}:le={}}return(Ye?hi:Ct)(y,function(Mt,Nt,qt){return I(le,Mt,Nt,qt)}),le}function Q1(y,I){return y==null?!0:_m(y,I)}function Sw(y,I,le){return y==null?y:P_(y,I,n1(le))}function Ku(y,I,le,Pe){return Pe=typeof Pe=="function"?Pe:i,y==null?y:P_(y,I,n1(le),Pe)}function zh(y){return y==null?[]:ic(y,So(y))}function zv(y){return y==null?[]:ic(y,pl(y))}function Zm(y,I,le){return le===i&&(le=I,I=i),le!==i&&(le=Da(le),le=le===le?le:0),I!==i&&(I=Da(I),I=I===I?I:0),he(Da(y),I,le)}function ey(y,I,le){return I=Vd(I),le===i?(le=I,I=0):le=Vd(le),y=Da(y),Ri(y,I,le)}function Cw(y,I,le){if(le&&typeof le!="boolean"&&Ka(y,I,le)&&(I=le=i),le===i&&(typeof I=="boolean"?(le=I,I=i):typeof y=="boolean"&&(le=y,y=i)),y===i&&I===i?(y=0,I=1):(y=Vd(y),I===i?(I=y,y=0):I=Vd(I)),y>I){var Pe=y;y=I,I=Pe}if(le||y%1||I%1){var Ye=sm();return ms(y+Ye*(I-y+Kc("1e-"+((Ye+"").length-1))),I)}return Xa(y,I)}var Ew=mu(function(y,I,le){return I=I.toLowerCase(),y+(le?ty(I):I)});function ty(y){return Qm(Es(y).toLowerCase())}function iy(y){return y=Es(y),y&&y.replace(Ar,Lu).replace(Ys,"")}function a0(y,I,le){y=Es(y),I=kl(I);var Pe=y.length;le=le===i?Pe:he(tr(le),0,Pe);var Ye=le;return le-=I.length,le>=0&&y.slice(le,Ye)==I}function bu(y){return y=Es(y),y&&go.test(y)?y.replace(qi,sc):y}function ny(y){return y=Es(y),y&&We.test(y)?y.replace(Fe,"\\$&"):y}var $p=mu(function(y,I,le){return y+(le?"-":"")+I.toLowerCase()}),Vp=mu(function(y,I,le){return y+(le?" ":"")+I.toLowerCase()}),Rc=s1("toLowerCase");function Bc(y,I,le){y=Es(y),I=tr(I);var Pe=I?xr(y):0;if(!I||Pe>=I)return y;var Ye=(I-Pe)/2;return Gf(_h(Ye),le)+y+Gf(Id(Ye),le)}function Mw(y,I,le){y=Es(y),I=tr(I);var Pe=I?xr(y):0;return I&&Pe<I?y+Gf(I-Pe,le):y}function Nv(y,I,le){y=Es(y),I=tr(I);var Pe=I?xr(y):0;return I&&Pe<I?Gf(I-Pe,le)+y:y}function kw(y,I,le){return le||I==null?I=0:I&&(I=+I),Fu(Es(y).replace(ut,""),I||0)}function ry(y,I,le){return(le?Ka(y,I,le):I===i)?I=1:I=tr(I),Ml(Es(y),I)}function Gd(){var y=arguments,I=Es(y[0]);return y.length<3?I:I.replace(y[1],y[2])}var Nh=mu(function(y,I,le){return y+(le?"_":"")+I.toLowerCase()});function Fv(y,I,le){return le&&typeof le!="number"&&Ka(y,I,le)&&(I=le=i),le=le===i?ce:le>>>0,le?(y=Es(y),y&&(typeof I=="string"||I!=null&&!W1(I))&&(I=kl(I),!I&&Aa(y))?Bd(Wo(y),0,le):y.split(I,le)):[]}var jv=mu(function(y,I,le){return y+(le?" ":"")+Qm(I)});function Aw(y,I,le){return y=Es(y),le=le==null?0:he(tr(le),0,y.length),I=kl(I),y.slice(le,le+I.length)==I}function Km(y,I,le){var Pe=it.templateSettings;le&&Ka(y,I,le)&&(I=i),y=Es(y),I=Wm({},I,Pe,l1);var Ye=Wm({},I.imports,Pe.imports,l1),ot=So(Ye),Mt=ic(Ye,ot),Nt,qt,Ai=0,Bi=I.interpolate||_n,Gi="__p += '",yn=Ec((I.escape||_n).source+"|"+Bi.source+"|"+(Bi===On?Ji:_n).source+"|"+(I.evaluate||_n).source+"|$","g"),zn="//# sourceURL="+(li.call(I,"sourceURL")?(I.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ed+"]")+`
`;y.replace(yn,function(ar,Vr,qr,Il,tl,Ll){return qr||(qr=Il),Gi+=y.slice(Ai,Ll).replace(Yr,cu),Vr&&(Nt=!0,Gi+=`' +
__e(`+Vr+`) +
'`),tl&&(qt=!0,Gi+=`';
`+tl+`;
__p += '`),qr&&(Gi+=`' +
((__t = (`+qr+`)) == null ? '' : __t) +
'`),Ai=Ll+ar.length,ar}),Gi+=`';
`;var sr=li.call(I,"variable")&&I.variable;if(!sr)Gi=`with (obj) {
`+Gi+`
}
`;else if(Zt.test(sr))throw new Qn(s);Gi=(qt?Gi.replace(Wn,""):Gi).replace(Kr,"$1").replace(ui,"$1;"),Gi="function("+(sr||"obj")+`) {
`+(sr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Nt?", __e = _.escape":"")+(qt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Gi+`return __p
}`;var Lr=ay(function(){return Rr(ot,zn+"return "+Gi).apply(i,Mt)});if(Lr.source=Gi,V1(Lr))throw Lr;return Lr}function sy(y){return Es(y).toLowerCase()}function Gp(y){return Es(y).toUpperCase()}function l0(y,I,le){if(y=Es(y),y&&(le||I===i))return tc(y);if(!y||!(I=kl(I)))return y;var Pe=Wo(y),Ye=Wo(I),ot=lu(Pe,Ye),Mt=nc(Pe,Ye)+1;return Bd(Pe,ot,Mt).join("")}function c0(y,I,le){if(y=Es(y),y&&(le||I===i))return y.slice(0,xo(y)+1);if(!y||!(I=kl(I)))return y;var Pe=Wo(y),Ye=nc(Pe,Wo(I))+1;return Bd(Pe,0,Ye).join("")}function Jm(y,I,le){if(y=Es(y),y&&(le||I===i))return y.replace(ut,"");if(!y||!(I=kl(I)))return y;var Pe=Wo(y),Ye=lu(Pe,Wo(I));return Bd(Pe,Ye).join("")}function Uv(y,I){var le=V,Pe=j;if(ao(I)){var Ye="separator"in I?I.separator:Ye;le="length"in I?tr(I.length):le,Pe="omission"in I?kl(I.omission):Pe}y=Es(y);var ot=y.length;if(Aa(y)){var Mt=Wo(y);ot=Mt.length}if(le>=ot)return y;var Nt=le-xr(Pe);if(Nt<1)return Pe;var qt=Mt?Bd(Mt,0,Nt).join(""):y.slice(0,Nt);if(Ye===i)return qt+Pe;if(Mt&&(Nt+=qt.length-Nt),W1(Ye)){if(y.slice(Nt).search(Ye)){var Ai,Bi=qt;for(Ye.global||(Ye=Ec(Ye.source,Es(Di.exec(Ye))+"g")),Ye.lastIndex=0;Ai=Ye.exec(Bi);)var Gi=Ai.index;qt=qt.slice(0,Gi===i?Nt:Gi)}}else if(y.indexOf(kl(Ye),Nt)!=Nt){var yn=qt.lastIndexOf(Ye);yn>-1&&(qt=qt.slice(0,yn))}return qt+Pe}function d0(y){return y=Es(y),y&&Nr.test(y)?y.replace(Vi,oa):y}var oy=mu(function(y,I,le){return y+(le?" ":"")+I.toUpperCase()}),Qm=s1("toUpperCase");function Fh(y,I,le){return y=Es(y),I=le?i:I,I===i?oc(y)?Ru(y):Ql(y):y.match(I)||[]}var ay=gr(function(y,I){try{return ki(y,i,I)}catch(le){return V1(le)?le:new Qn(le)}}),ly=sd(function(y,I){return hi(I,function(le){le=Pl(le),W(y,le,Nm(y[le],y))}),y});function $v(y){var I=y==null?0:y.length,le=Kn();return y=I?fr(y,function(Pe){if(typeof Pe[1]!="function")throw new qo(h);return[le(Pe[0]),Pe[1]]}):[],gr(function(Pe){for(var Ye=-1;++Ye<I;){var ot=y[Ye];if(ki(ot[0],this,Pe))return ki(ot[1],this,Pe)}})}function Pw(y){return De(ge(y,k))}function cy(y){return function(){return y}}function Vv(y,I){return y==null||y!==y?I:y}var jh=bo(),Dw=bo(!0);function Fo(y){return y}function dy(y){return ss(typeof y=="function"?y:ge(y,k))}function u0(y){return cc(ge(y,k))}function h0(y,I){return gs(y,ge(I,k))}var p0=gr(function(y,I){return function(le){return Ni(le,y,I)}}),f0=gr(function(y,I){return function(le){return Ni(y,le,I)}});function Hp(y,I,le){var Pe=So(I),Ye=ii(I,Pe);le==null&&!(ao(I)&&(Ye.length||!Pe.length))&&(le=I,I=y,y=this,Ye=ii(I,So(I)));var ot=!(ao(le)&&"chain"in le)||!!le.chain,Mt=$d(y);return hi(Ye,function(Nt){var qt=I[Nt];y[Nt]=qt,Mt&&(y.prototype[Nt]=function(){var Ai=this.__chain__;if(ot||Ai){var Bi=y(this.__wrapped__),Gi=Bi.__actions__=Do(this.__actions__);return Gi.push({func:qt,args:arguments,thisArg:y}),Bi.__chain__=Ai,Bi}return qt.apply(y,mr([this.value()],arguments))})}),y}function Iw(){return qs._===this&&(qs._=jn),this}function uy(){}function Wp(y){return y=tr(y),gr(function(I){return oo(I,y)})}var eg=Pr(fr),Lw=Pr(Zn),Gv=Pr(yr);function hy(y){return y1(y)?_a(Pl(y)):Th(y)}function Ow(y){return function(I){return y==null?i:Jt(y,I)}}var Hv=rd(),Rw=rd(!0);function tg(){return[]}function py(){return!1}function Wv(){return{}}function Bw(){return""}function zw(){return!0}function ig(y,I){if(y=tr(y),y<1||y>X)return[];var le=ce,Pe=ms(y,ce);I=Kn(I),y-=ce;for(var Ye=va(Pe,I);++le<y;)I(le);return Ye}function ng(y){return _r(y)?fr(y,Pl):el(y)?[y]:Do(b1(Es(y)))}function rg(y){var I=++Ii;return Es(y)+I}var Nw=Eh(function(y,I){return y+I},0),fy=hl("ceil"),my=Eh(function(y,I){return y/I},1),Ju=hl("floor");function Fw(y){return y&&y.length?et(y,Fo,Xt):i}function gy(y,I){return y&&y.length?et(y,Kn(I,2),Xt):i}function Yv(y){return zo(y,Fo)}function sg(y,I){return zo(y,Kn(I,2))}function jw(y){return y&&y.length?et(y,Fo,Pa):i}function Uw(y,I){return y&&y.length?et(y,Kn(I,2),Pa):i}var $w=Eh(function(y,I){return y*I},1),Vw=hl("round"),yy=Eh(function(y,I){return y-I},0);function Gw(y){return y&&y.length?jr(y,Fo):0}function m0(y,I){return y&&y.length?jr(y,Kn(I,2)):0}return it.after=dv,it.ary=z1,it.assign=wv,it.assignIn=q1,it.assignInWith=Wm,it.assignWith=Tv,it.at=Sv,it.before=N1,it.bind=Nm,it.bindAll=ly,it.bindKey=F1,it.castArray=Um,it.chain=tv,it.chunk=Ja,it.compact=Lc,it.concat=w1,it.cond=$v,it.conforms=Pw,it.constant=cy,it.countBy=F2,it.create=X1,it.curry=j1,it.curryRight=uv,it.debounce=hv,it.defaults=Cv,it.defaultsDeep=gw,it.defer=pv,it.delay=Fm,it.difference=po,it.differenceBy=V_,it.differenceWith=Yf,it.drop=ld,it.dropRight=y2,it.dropRightWhile=_2,it.dropWhile=G_,it.fill=H_,it.filter=U2,it.flatMap=V2,it.flatMapDeep=nv,it.flatMapDepth=Bp,it.flatten=S1,it.flattenDeep=W_,it.flattenDepth=Y_,it.flip=fv,it.flow=jh,it.flowRight=Dw,it.fromPairs=v2,it.functions=yw,it.functionsIn=_w,it.groupBy=G2,it.initial=E1,it.intersection=Qa,it.intersectionBy=q_,it.intersectionWith=x2,it.invert=Iv,it.invertBy=Lv,it.invokeMap=av,it.iteratee=dy,it.keyBy=H2,it.keys=So,it.keysIn=pl,it.map=Om,it.mapKeys=qm,it.mapValues=Ov,it.matches=u0,it.matchesProperty=h0,it.memoize=ca,it.merge=Xm,it.mergeWith=o0,it.method=p0,it.methodOf=f0,it.mixin=Hp,it.negate=Zu,it.nthArg=Wp,it.omit=vw,it.omitBy=xw,it.once=zp,it.orderBy=W2,it.over=eg,it.overArgs=i0,it.overEvery=Lw,it.overSome=Gv,it.partial=jm,it.partialRight=U1,it.partition=B1,it.pick=bw,it.pickBy=Rv,it.property=hy,it.propertyOf=Ow,it.pull=K_,it.pullAll=M1,it.pullAllBy=k1,it.pullAllWith=_u,it.pullAt=Dl,it.range=Hv,it.rangeRight=Rw,it.rearg=X2,it.reject=Y2,it.remove=w2,it.rest=Z2,it.reverse=qf,it.sampleSize=Qf,it.set=Up,it.setWith=K1,it.shuffle=e0,it.slice=T2,it.sortBy=cv,it.sortedUniq=Zf,it.sortedUniqBy=E2,it.split=Fv,it.spread=K2,it.tail=M2,it.take=k2,it.takeRight=A2,it.takeRightWhile=P2,it.takeWhile=D2,it.tap=iv,it.throttle=J2,it.thru=Xu,it.toArray=Vm,it.toPairs=Bv,it.toPairsIn=J1,it.toPath=ng,it.toPlainObject=Gm,it.transform=Tw,it.unary=Q2,it.union=I2,it.unionBy=A1,it.unionWith=L2,it.uniq=Op,it.uniqBy=O2,it.uniqWith=wo,it.unset=Q1,it.unzip=Rp,it.unzipWith=P1,it.update=Sw,it.updateWith=Ku,it.values=zh,it.valuesIn=zv,it.without=Pm,it.words=Fh,it.wrap=ew,it.xor=Dm,it.xorBy=Kf,it.xorWith=Q_,it.zip=ev,it.zipObject=Jf,it.zipObjectDeep=D1,it.zipWith=I1,it.entries=Bv,it.entriesIn=J1,it.extend=q1,it.extendWith=Wm,Hp(it,it),it.add=Nw,it.attempt=ay,it.camelCase=Ew,it.capitalize=ty,it.ceil=fy,it.clamp=Zm,it.clone=tw,it.cloneDeep=gv,it.cloneDeepWith=yv,it.cloneWith=mv,it.conformsTo=iw,it.deburr=iy,it.defaultTo=Vv,it.divide=my,it.endsWith=a0,it.eq=cd,it.escape=bu,it.escapeRegExp=ny,it.every=j2,it.find=$2,it.findIndex=qu,it.findKey=Ev,it.findLast=Lm,it.findLastIndex=T1,it.findLastKey=xu,it.floor=Ju,it.forEach=rv,it.forEachRight=sv,it.forIn=Mv,it.forInRight=kv,it.forOwn=Av,it.forOwnRight=Pv,it.get=Ym,it.gt=nw,it.gte=rw,it.has=Dv,it.hasIn=Bh,it.head=km,it.identity=Fo,it.includes=ov,it.indexOf=C1,it.inRange=ey,it.invoke=Z1,it.isArguments=Rh,it.isArray=_r,it.isArrayBuffer=sw,it.isArrayLike=_s,it.isArrayLikeObject=Cs,it.isBoolean=$1,it.isBuffer=dd,it.isDate=Np,it.isElement=ow,it.isEmpty=aw,it.isEqual=n0,it.isEqualWith=lw,it.isError=V1,it.isFinite=r0,it.isFunction=$d,it.isInteger=G1,it.isLength=ns,it.isMap=H1,it.isMatch=vu,it.isMatchWith=Fp,it.isNaN=_v,it.isNative=cw,it.isNil=uw,it.isNull=dw,it.isNumber=vv,it.isObject=ao,it.isObjectLike=To,it.isPlainObject=s0,it.isRegExp=W1,it.isSafeInteger=hw,it.isSet=xv,it.isString=$m,it.isSymbol=el,it.isTypedArray=ud,it.isUndefined=bv,it.isWeakMap=pw,it.isWeakSet=fw,it.join=X_,it.kebabCase=$p,it.last=Oc,it.lastIndexOf=b2,it.lowerCase=Vp,it.lowerFirst=Rc,it.lt=mw,it.lte=Y1,it.max=Fw,it.maxBy=gy,it.mean=Yv,it.meanBy=sg,it.min=jw,it.minBy=Uw,it.stubArray=tg,it.stubFalse=py,it.stubObject=Wv,it.stubString=Bw,it.stubTrue=zw,it.multiply=$w,it.nth=Z_,it.noConflict=Iw,it.noop=uy,it.now=zm,it.pad=Bc,it.padEnd=Mw,it.padStart=Nv,it.parseInt=kw,it.random=Cw,it.reduce=Rm,it.reduceRight=Bm,it.repeat=ry,it.replace=Gd,it.result=ww,it.round=Vw,it.runInContext=$t,it.sample=q2,it.size=lv,it.snakeCase=Nh,it.some=t0,it.sortedIndex=S2,it.sortedIndexBy=C2,it.sortedIndexOf=Xf,it.sortedLastIndex=Am,it.sortedLastIndexBy=J_,it.sortedLastIndexOf=Oh,it.startCase=jv,it.startsWith=Aw,it.subtract=yy,it.sum=Gw,it.sumBy=m0,it.template=Km,it.times=ig,it.toFinite=Vd,it.toInteger=tr,it.toLength=jp,it.toLower=sy,it.toNumber=Da,it.toSafeInteger=Hm,it.toString=Es,it.toUpper=Gp,it.trim=l0,it.trimEnd=c0,it.trimStart=Jm,it.truncate=Uv,it.unescape=d0,it.uniqueId=rg,it.upperCase=oy,it.upperFirst=Qm,it.each=rv,it.eachRight=sv,it.first=km,Hp(it,function(){var y={};return Ct(it,function(I,le){li.call(it.prototype,le)||(y[le]=I)}),y}(),{chain:!1}),it.VERSION=r,hi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){it[y].placeholder=it}),hi(["drop","take"],function(y,I){er.prototype[y]=function(le){le=le===i?1:js(tr(le),0);var Pe=this.__filtered__&&!I?new er(this):this.clone();return Pe.__filtered__?Pe.__takeCount__=ms(le,Pe.__takeCount__):Pe.__views__.push({size:ms(le,ce),type:y+(Pe.__dir__<0?"Right":"")}),Pe},er.prototype[y+"Right"]=function(le){return this.reverse()[y](le).reverse()}}),hi(["filter","map","takeWhile"],function(y,I){var le=I+1,Pe=le==f||le==b;er.prototype[y]=function(Ye){var ot=this.clone();return ot.__iteratees__.push({iteratee:Kn(Ye,3),type:le}),ot.__filtered__=ot.__filtered__||Pe,ot}}),hi(["head","last"],function(y,I){var le="take"+(I?"Right":"");er.prototype[y]=function(){return this[le](1).value()[0]}}),hi(["initial","tail"],function(y,I){var le="drop"+(I?"":"Right");er.prototype[y]=function(){return this.__filtered__?new er(this):this[le](1)}}),er.prototype.compact=function(){return this.filter(Fo)},er.prototype.find=function(y){return this.filter(y).head()},er.prototype.findLast=function(y){return this.reverse().find(y)},er.prototype.invokeMap=gr(function(y,I){return typeof y=="function"?new er(this):this.map(function(le){return Ni(le,y,I)})}),er.prototype.reject=function(y){return this.filter(Zu(Kn(y)))},er.prototype.slice=function(y,I){y=tr(y);var le=this;return le.__filtered__&&(y>0||I<0)?new er(le):(y<0?le=le.takeRight(-y):y&&(le=le.drop(y)),I!==i&&(I=tr(I),le=I<0?le.dropRight(-I):le.take(I-y)),le)},er.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},er.prototype.toArray=function(){return this.take(ce)},Ct(er.prototype,function(y,I){var le=/^(?:filter|find|map|reject)|While$/.test(I),Pe=/^(?:head|last)$/.test(I),Ye=it[Pe?"take"+(I=="last"?"Right":""):I],ot=Pe||/^find/.test(I);Ye&&(it.prototype[I]=function(){var Mt=this.__wrapped__,Nt=Pe?[1]:arguments,qt=Mt instanceof er,Ai=Nt[0],Bi=qt||_r(Mt),Gi=function(Vr){var qr=Ye.apply(it,mr([Vr],Nt));return Pe&&yn?qr[0]:qr};Bi&&le&&typeof Ai=="function"&&Ai.length!=1&&(qt=Bi=!1);var yn=this.__chain__,zn=!!this.__actions__.length,sr=ot&&!yn,Lr=qt&&!zn;if(!ot&&Bi){Mt=Lr?Mt:new er(this);var ar=y.apply(Mt,Nt);return ar.__actions__.push({func:Xu,args:[Gi],thisArg:i}),new cl(ar,yn)}return sr&&Lr?y.apply(this,Nt):(ar=this.thru(Gi),sr?Pe?ar.value()[0]:ar.value():ar)})}),hi(["pop","push","shift","sort","splice","unshift"],function(y){var I=st[y],le=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",Pe=/^(?:pop|shift)$/.test(y);it.prototype[y]=function(){var Ye=arguments;if(Pe&&!this.__chain__){var ot=this.value();return I.apply(_r(ot)?ot:[],Ye)}return this[le](function(Mt){return I.apply(_r(Mt)?Mt:[],Ye)})}}),Ct(er.prototype,function(y,I){var le=it[I];if(le){var Pe=le.name+"";li.call(du,Pe)||(du[Pe]=[]),du[Pe].push({name:I,func:le})}}),du[Rn(i,M).name]=[{name:"wrapper",func:i}],er.prototype.clone=Kg,er.prototype.reverse=Lf,er.prototype.value=Jg,it.prototype.at=R2,it.prototype.chain=L1,it.prototype.commit=B2,it.prototype.next=O1,it.prototype.plant=Im,it.prototype.reverse=z2,it.prototype.toJSON=it.prototype.valueOf=it.prototype.value=N2,it.prototype.first=it.prototype.head,br&&(it.prototype[br]=R1),it},Yo=Bu();de?((de.exports=Yo)._=Yo,Z._=Yo):qs._=Yo}).call(za)})(Ox,Ox.exports);var rP=Ox.exports;const mb=tu(rP);var gM={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,i){e.exports=t.document?i(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return i(r)}})(typeof window<"u"?window:za,function(t,i){var r=[],o=Object.getPrototypeOf,d=r.slice,h=r.flat?function(Z){return r.flat.call(Z)}:function(Z){return r.concat.apply([],Z)},s=r.push,v=r.indexOf,R={},K=R.toString,k=R.hasOwnProperty,z=k.toString,q=z.call(Object),L={},O=function(de){return typeof de=="function"&&typeof de.nodeType!="number"&&typeof de.item!="function"},G=function(de){return de!=null&&de===de.window},M=t.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function D(Z,de,be){be=be||M;var ke,Ue,Ge=be.createElement("script");if(Ge.text=Z,de)for(ke in S)Ue=de[ke]||de.getAttribute&&de.getAttribute(ke),Ue&&Ge.setAttribute(ke,Ue);be.head.appendChild(Ge).parentNode.removeChild(Ge)}function H(Z){return Z==null?Z+"":typeof Z=="object"||typeof Z=="function"?R[K.call(Z)]||"object":typeof Z}var U="3.6.3",E=function(Z,de){return new E.fn.init(Z,de)};E.fn=E.prototype={jquery:U,constructor:E,length:0,toArray:function(){return d.call(this)},get:function(Z){return Z==null?d.call(this):Z<0?this[Z+this.length]:this[Z]},pushStack:function(Z){var de=E.merge(this.constructor(),Z);return de.prevObject=this,de},each:function(Z){return E.each(this,Z)},map:function(Z){return this.pushStack(E.map(this,function(de,be){return Z.call(de,be,de)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(Z,de){return(de+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(Z,de){return de%2}))},eq:function(Z){var de=this.length,be=+Z+(Z<0?de:0);return this.pushStack(be>=0&&be<de?[this[be]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:r.sort,splice:r.splice},E.extend=E.fn.extend=function(){var Z,de,be,ke,Ue,Ge,Je=arguments[0]||{},Bt=1,Et=arguments.length,Kt=!1;for(typeof Je=="boolean"&&(Kt=Je,Je=arguments[Bt]||{},Bt++),typeof Je!="object"&&!O(Je)&&(Je={}),Bt===Et&&(Je=this,Bt--);Bt<Et;Bt++)if((Z=arguments[Bt])!=null)for(de in Z)ke=Z[de],!(de==="__proto__"||Je===ke)&&(Kt&&ke&&(E.isPlainObject(ke)||(Ue=Array.isArray(ke)))?(be=Je[de],Ue&&!Array.isArray(be)?Ge=[]:!Ue&&!E.isPlainObject(be)?Ge={}:Ge=be,Ue=!1,Je[de]=E.extend(Kt,Ge,ke)):ke!==void 0&&(Je[de]=ke));return Je},E.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(Z){throw new Error(Z)},noop:function(){},isPlainObject:function(Z){var de,be;return!Z||K.call(Z)!=="[object Object]"?!1:(de=o(Z),de?(be=k.call(de,"constructor")&&de.constructor,typeof be=="function"&&z.call(be)===q):!0)},isEmptyObject:function(Z){var de;for(de in Z)return!1;return!0},globalEval:function(Z,de,be){D(Z,{nonce:de&&de.nonce},be)},each:function(Z,de){var be,ke=0;if(ie(Z))for(be=Z.length;ke<be&&de.call(Z[ke],ke,Z[ke])!==!1;ke++);else for(ke in Z)if(de.call(Z[ke],ke,Z[ke])===!1)break;return Z},makeArray:function(Z,de){var be=de||[];return Z!=null&&(ie(Object(Z))?E.merge(be,typeof Z=="string"?[Z]:Z):s.call(be,Z)),be},inArray:function(Z,de,be){return de==null?-1:v.call(de,Z,be)},merge:function(Z,de){for(var be=+de.length,ke=0,Ue=Z.length;ke<be;ke++)Z[Ue++]=de[ke];return Z.length=Ue,Z},grep:function(Z,de,be){for(var ke,Ue=[],Ge=0,Je=Z.length,Bt=!be;Ge<Je;Ge++)ke=!de(Z[Ge],Ge),ke!==Bt&&Ue.push(Z[Ge]);return Ue},map:function(Z,de,be){var ke,Ue,Ge=0,Je=[];if(ie(Z))for(ke=Z.length;Ge<ke;Ge++)Ue=de(Z[Ge],Ge,be),Ue!=null&&Je.push(Ue);else for(Ge in Z)Ue=de(Z[Ge],Ge,be),Ue!=null&&Je.push(Ue);return h(Je)},guid:1,support:L}),typeof Symbol=="function"&&(E.fn[Symbol.iterator]=r[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(Z,de){R["[object "+de+"]"]=de.toLowerCase()});function ie(Z){var de=!!Z&&"length"in Z&&Z.length,be=H(Z);return O(Z)||G(Z)?!1:be==="array"||de===0||typeof de=="number"&&de>0&&de-1 in Z}var te=function(Z){var de,be,ke,Ue,Ge,Je,Bt,Et,Kt,gi,ki,oi,hi,Zi,Zn,pn,fs,Jr,fr,mr="sizzle"+1*new Date,Yn=Z.document,no=0,yr=0,Qr=Wo(),Ya=Wo(),Ql=Wo(),ro=Wo(),na=function(st,kt){return st===kt&&(ki=!0),0},Jn={}.hasOwnProperty,_o=[],ra=_o.pop,zo=_o.push,_a=_o.push,ec=_o.slice,ll=function(st,kt){for(var Ft=0,wi=st.length;Ft<wi;Ft++)if(st[Ft]===kt)return Ft;return-1},Ad="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",jr="[\\x20\\t\\r\\n\\f]",va="(?:\\\\[\\da-fA-F]{1,6}"+jr+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Jc="\\["+jr+"*("+va+")(?:"+jr+"*([*^$|!~]?=)"+jr+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+va+"))|)"+jr+"*\\]",tc=":("+va+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Jc+")*)|.*)\\)|)",No=new RegExp(jr+"+","g"),ic=new RegExp("^"+jr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+jr+"+$","g"),Tc=new RegExp("^"+jr+"*,"+jr+"*"),lu=new RegExp("^"+jr+"*([>+~]|"+jr+")"+jr+"*"),nc=new RegExp(jr+"|>"),rc=new RegExp(tc),Lu=new RegExp("^"+va+"$"),sc={ID:new RegExp("^#("+va+")"),CLASS:new RegExp("^\\.("+va+")"),TAG:new RegExp("^("+va+"|[*])"),ATTR:new RegExp("^"+Jc),PSEUDO:new RegExp("^"+tc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+jr+"*(even|odd|(([+-]|)(\\d*)n|)"+jr+"*(?:([+-]|)"+jr+"*(\\d+)|))"+jr+"*\\)|)","i"),bool:new RegExp("^(?:"+Ad+")$","i"),needsContext:new RegExp("^"+jr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+jr+"*((?:-\\d)?\\d*)"+jr+"*\\)|)(?=[^-]|$)","i")},cu=/HTML$/i,ka=/^(?:input|select|textarea|button)$/i,Aa=/^h\d$/i,oc=/^[^{]+\{\s*\[native \w/,Pd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Sc=/[+~]/,sa=new RegExp("\\\\[\\da-fA-F]{1,6}"+jr+"?|\\\\([^\\r\\n\\f])","g"),vo=function(st,kt){var Ft="0x"+st.slice(1)-65536;return kt||(Ft<0?String.fromCharCode(Ft+65536):String.fromCharCode(Ft>>10|55296,Ft&1023|56320))},Tl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ac=function(st,kt){return kt?st==="\0"?"�":st.slice(0,-1)+"\\"+st.charCodeAt(st.length-1).toString(16)+" ":"\\"+st},Cc=function(){oi()},yh=Qn(function(st){return st.disabled===!0&&st.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{_a.apply(_o=ec.call(Yn.childNodes),Yn.childNodes),_o[Yn.childNodes.length].nodeType}catch{_a={apply:_o.length?function(kt,Ft){zo.apply(kt,ec.call(Ft))}:function(kt,Ft){for(var wi=kt.length,Vt=0;kt[wi++]=Ft[Vt++];);kt.length=wi-1}}}function xr(st,kt,Ft,wi){var Vt,li,Ii,rn,zi,Bn,jn,$n=kt&&kt.ownerDocument,rr=kt?kt.nodeType:9;if(Ft=Ft||[],typeof st!="string"||!st||rr!==1&&rr!==9&&rr!==11)return Ft;if(!wi&&(oi(kt),kt=kt||hi,Zn)){if(rr!==11&&(zi=Pd.exec(st)))if(Vt=zi[1]){if(rr===9)if(Ii=kt.getElementById(Vt)){if(Ii.id===Vt)return Ft.push(Ii),Ft}else return Ft;else if($n&&(Ii=$n.getElementById(Vt))&&fr(kt,Ii)&&Ii.id===Vt)return Ft.push(Ii),Ft}else{if(zi[2])return _a.apply(Ft,kt.getElementsByTagName(st)),Ft;if((Vt=zi[3])&&be.getElementsByClassName&&kt.getElementsByClassName)return _a.apply(Ft,kt.getElementsByClassName(Vt)),Ft}if(be.qsa&&!ro[st+" "]&&(!pn||!pn.test(st))&&(rr!==1||kt.nodeName.toLowerCase()!=="object")){if(jn=st,$n=kt,rr===1&&(nc.test(st)||lu.test(st))){for($n=Sc.test(st)&&bi(kt.parentNode)||kt,($n!==kt||!be.scope)&&((rn=kt.getAttribute("id"))?rn=rn.replace(Tl,ac):kt.setAttribute("id",rn=mr)),Bn=Je(st),li=Bn.length;li--;)Bn[li]=(rn?"#"+rn:":scope")+" "+fn(Bn[li]);jn=Bn.join(",")}try{if(be.cssSupportsSelector&&!CSS.supports("selector(:is("+jn+"))"))throw new Error;return _a.apply(Ft,$n.querySelectorAll(jn)),Ft}catch{ro(st,!0)}finally{rn===mr&&kt.removeAttribute("id")}}}return Et(st.replace(ic,"$1"),kt,Ft,wi)}function Wo(){var st=[];function kt(Ft,wi){return st.push(Ft+" ")>ke.cacheLength&&delete kt[st.shift()],kt[Ft+" "]=wi}return kt}function xo(st){return st[mr]=!0,st}function oa(st){var kt=hi.createElement("fieldset");try{return!!st(kt)}catch{return!1}finally{kt.parentNode&&kt.parentNode.removeChild(kt),kt=null}}function Sl(st,kt){for(var Ft=st.split("|"),wi=Ft.length;wi--;)ke.attrHandle[Ft[wi]]=kt}function Ou(st,kt){var Ft=kt&&st,wi=Ft&&st.nodeType===1&&kt.nodeType===1&&st.sourceIndex-kt.sourceIndex;if(wi)return wi;if(Ft){for(;Ft=Ft.nextSibling;)if(Ft===kt)return-1}return st?1:-1}function Ru(st){return function(kt){var Ft=kt.nodeName.toLowerCase();return Ft==="input"&&kt.type===st}}function Bu(st){return function(kt){var Ft=kt.nodeName.toLowerCase();return(Ft==="input"||Ft==="button")&&kt.type===st}}function Yo(st){return function(kt){return"form"in kt?kt.parentNode&&kt.disabled===!1?"label"in kt?"label"in kt.parentNode?kt.parentNode.disabled===st:kt.disabled===st:kt.isDisabled===st||kt.isDisabled!==!st&&yh(kt)===st:kt.disabled===st:"label"in kt?kt.disabled===st:!1}}function $t(st){return xo(function(kt){return kt=+kt,xo(function(Ft,wi){for(var Vt,li=st([],Ft.length,kt),Ii=li.length;Ii--;)Ft[Vt=li[Ii]]&&(Ft[Vt]=!(wi[Vt]=Ft[Vt]))})})}function bi(st){return st&&typeof st.getElementsByTagName<"u"&&st}be=xr.support={},Ge=xr.isXML=function(st){var kt=st&&st.namespaceURI,Ft=st&&(st.ownerDocument||st).documentElement;return!cu.test(kt||Ft&&Ft.nodeName||"HTML")},oi=xr.setDocument=function(st){var kt,Ft,wi=st?st.ownerDocument||st:Yn;return wi==hi||wi.nodeType!==9||!wi.documentElement||(hi=wi,Zi=hi.documentElement,Zn=!Ge(hi),Yn!=hi&&(Ft=hi.defaultView)&&Ft.top!==Ft&&(Ft.addEventListener?Ft.addEventListener("unload",Cc,!1):Ft.attachEvent&&Ft.attachEvent("onunload",Cc)),be.scope=oa(function(Vt){return Zi.appendChild(Vt).appendChild(hi.createElement("div")),typeof Vt.querySelectorAll<"u"&&!Vt.querySelectorAll(":scope fieldset div").length}),be.cssSupportsSelector=oa(function(){return CSS.supports("selector(*)")&&hi.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),be.attributes=oa(function(Vt){return Vt.className="i",!Vt.getAttribute("className")}),be.getElementsByTagName=oa(function(Vt){return Vt.appendChild(hi.createComment("")),!Vt.getElementsByTagName("*").length}),be.getElementsByClassName=oc.test(hi.getElementsByClassName),be.getById=oa(function(Vt){return Zi.appendChild(Vt).id=mr,!hi.getElementsByName||!hi.getElementsByName(mr).length}),be.getById?(ke.filter.ID=function(Vt){var li=Vt.replace(sa,vo);return function(Ii){return Ii.getAttribute("id")===li}},ke.find.ID=function(Vt,li){if(typeof li.getElementById<"u"&&Zn){var Ii=li.getElementById(Vt);return Ii?[Ii]:[]}}):(ke.filter.ID=function(Vt){var li=Vt.replace(sa,vo);return function(Ii){var rn=typeof Ii.getAttributeNode<"u"&&Ii.getAttributeNode("id");return rn&&rn.value===li}},ke.find.ID=function(Vt,li){if(typeof li.getElementById<"u"&&Zn){var Ii,rn,zi,Bn=li.getElementById(Vt);if(Bn){if(Ii=Bn.getAttributeNode("id"),Ii&&Ii.value===Vt)return[Bn];for(zi=li.getElementsByName(Vt),rn=0;Bn=zi[rn++];)if(Ii=Bn.getAttributeNode("id"),Ii&&Ii.value===Vt)return[Bn]}return[]}}),ke.find.TAG=be.getElementsByTagName?function(Vt,li){if(typeof li.getElementsByTagName<"u")return li.getElementsByTagName(Vt);if(be.qsa)return li.querySelectorAll(Vt)}:function(Vt,li){var Ii,rn=[],zi=0,Bn=li.getElementsByTagName(Vt);if(Vt==="*"){for(;Ii=Bn[zi++];)Ii.nodeType===1&&rn.push(Ii);return rn}return Bn},ke.find.CLASS=be.getElementsByClassName&&function(Vt,li){if(typeof li.getElementsByClassName<"u"&&Zn)return li.getElementsByClassName(Vt)},fs=[],pn=[],(be.qsa=oc.test(hi.querySelectorAll))&&(oa(function(Vt){var li;Zi.appendChild(Vt).innerHTML="<a id='"+mr+"'></a><select id='"+mr+"-\r\\' msallowcapture=''><option selected=''></option></select>",Vt.querySelectorAll("[msallowcapture^='']").length&&pn.push("[*^$]="+jr+`*(?:''|"")`),Vt.querySelectorAll("[selected]").length||pn.push("\\["+jr+"*(?:value|"+Ad+")"),Vt.querySelectorAll("[id~="+mr+"-]").length||pn.push("~="),li=hi.createElement("input"),li.setAttribute("name",""),Vt.appendChild(li),Vt.querySelectorAll("[name='']").length||pn.push("\\["+jr+"*name"+jr+"*="+jr+`*(?:''|"")`),Vt.querySelectorAll(":checked").length||pn.push(":checked"),Vt.querySelectorAll("a#"+mr+"+*").length||pn.push(".#.+[+~]"),Vt.querySelectorAll("\\\f"),pn.push("[\\r\\n\\f]")}),oa(function(Vt){Vt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var li=hi.createElement("input");li.setAttribute("type","hidden"),Vt.appendChild(li).setAttribute("name","D"),Vt.querySelectorAll("[name=d]").length&&pn.push("name"+jr+"*[*^$|!~]?="),Vt.querySelectorAll(":enabled").length!==2&&pn.push(":enabled",":disabled"),Zi.appendChild(Vt).disabled=!0,Vt.querySelectorAll(":disabled").length!==2&&pn.push(":enabled",":disabled"),Vt.querySelectorAll("*,:x"),pn.push(",.*:")})),(be.matchesSelector=oc.test(Jr=Zi.matches||Zi.webkitMatchesSelector||Zi.mozMatchesSelector||Zi.oMatchesSelector||Zi.msMatchesSelector))&&oa(function(Vt){be.disconnectedMatch=Jr.call(Vt,"*"),Jr.call(Vt,"[s!='']:x"),fs.push("!=",tc)}),be.cssSupportsSelector||pn.push(":has"),pn=pn.length&&new RegExp(pn.join("|")),fs=fs.length&&new RegExp(fs.join("|")),kt=oc.test(Zi.compareDocumentPosition),fr=kt||oc.test(Zi.contains)?function(Vt,li){var Ii=Vt.nodeType===9&&Vt.documentElement||Vt,rn=li&&li.parentNode;return Vt===rn||!!(rn&&rn.nodeType===1&&(Ii.contains?Ii.contains(rn):Vt.compareDocumentPosition&&Vt.compareDocumentPosition(rn)&16))}:function(Vt,li){if(li){for(;li=li.parentNode;)if(li===Vt)return!0}return!1},na=kt?function(Vt,li){if(Vt===li)return ki=!0,0;var Ii=!Vt.compareDocumentPosition-!li.compareDocumentPosition;return Ii||(Ii=(Vt.ownerDocument||Vt)==(li.ownerDocument||li)?Vt.compareDocumentPosition(li):1,Ii&1||!be.sortDetached&&li.compareDocumentPosition(Vt)===Ii?Vt==hi||Vt.ownerDocument==Yn&&fr(Yn,Vt)?-1:li==hi||li.ownerDocument==Yn&&fr(Yn,li)?1:gi?ll(gi,Vt)-ll(gi,li):0:Ii&4?-1:1)}:function(Vt,li){if(Vt===li)return ki=!0,0;var Ii,rn=0,zi=Vt.parentNode,Bn=li.parentNode,jn=[Vt],$n=[li];if(!zi||!Bn)return Vt==hi?-1:li==hi?1:zi?-1:Bn?1:gi?ll(gi,Vt)-ll(gi,li):0;if(zi===Bn)return Ou(Vt,li);for(Ii=Vt;Ii=Ii.parentNode;)jn.unshift(Ii);for(Ii=li;Ii=Ii.parentNode;)$n.unshift(Ii);for(;jn[rn]===$n[rn];)rn++;return rn?Ou(jn[rn],$n[rn]):jn[rn]==Yn?-1:$n[rn]==Yn?1:0}),hi},xr.matches=function(st,kt){return xr(st,null,null,kt)},xr.matchesSelector=function(st,kt){if(oi(st),be.matchesSelector&&Zn&&!ro[kt+" "]&&(!fs||!fs.test(kt))&&(!pn||!pn.test(kt)))try{var Ft=Jr.call(st,kt);if(Ft||be.disconnectedMatch||st.document&&st.document.nodeType!==11)return Ft}catch{ro(kt,!0)}return xr(kt,hi,null,[st]).length>0},xr.contains=function(st,kt){return(st.ownerDocument||st)!=hi&&oi(st),fr(st,kt)},xr.attr=function(st,kt){(st.ownerDocument||st)!=hi&&oi(st);var Ft=ke.attrHandle[kt.toLowerCase()],wi=Ft&&Jn.call(ke.attrHandle,kt.toLowerCase())?Ft(st,kt,!Zn):void 0;return wi!==void 0?wi:be.attributes||!Zn?st.getAttribute(kt):(wi=st.getAttributeNode(kt))&&wi.specified?wi.value:null},xr.escape=function(st){return(st+"").replace(Tl,ac)},xr.error=function(st){throw new Error("Syntax error, unrecognized expression: "+st)},xr.uniqueSort=function(st){var kt,Ft=[],wi=0,Vt=0;if(ki=!be.detectDuplicates,gi=!be.sortStable&&st.slice(0),st.sort(na),ki){for(;kt=st[Vt++];)kt===st[Vt]&&(wi=Ft.push(Vt));for(;wi--;)st.splice(Ft[wi],1)}return gi=null,st},Ue=xr.getText=function(st){var kt,Ft="",wi=0,Vt=st.nodeType;if(Vt){if(Vt===1||Vt===9||Vt===11){if(typeof st.textContent=="string")return st.textContent;for(st=st.firstChild;st;st=st.nextSibling)Ft+=Ue(st)}else if(Vt===3||Vt===4)return st.nodeValue}else for(;kt=st[wi++];)Ft+=Ue(kt);return Ft},ke=xr.selectors={cacheLength:50,createPseudo:xo,match:sc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(st){return st[1]=st[1].replace(sa,vo),st[3]=(st[3]||st[4]||st[5]||"").replace(sa,vo),st[2]==="~="&&(st[3]=" "+st[3]+" "),st.slice(0,4)},CHILD:function(st){return st[1]=st[1].toLowerCase(),st[1].slice(0,3)==="nth"?(st[3]||xr.error(st[0]),st[4]=+(st[4]?st[5]+(st[6]||1):2*(st[3]==="even"||st[3]==="odd")),st[5]=+(st[7]+st[8]||st[3]==="odd")):st[3]&&xr.error(st[0]),st},PSEUDO:function(st){var kt,Ft=!st[6]&&st[2];return sc.CHILD.test(st[0])?null:(st[3]?st[2]=st[4]||st[5]||"":Ft&&rc.test(Ft)&&(kt=Je(Ft,!0))&&(kt=Ft.indexOf(")",Ft.length-kt)-Ft.length)&&(st[0]=st[0].slice(0,kt),st[2]=Ft.slice(0,kt)),st.slice(0,3))}},filter:{TAG:function(st){var kt=st.replace(sa,vo).toLowerCase();return st==="*"?function(){return!0}:function(Ft){return Ft.nodeName&&Ft.nodeName.toLowerCase()===kt}},CLASS:function(st){var kt=Qr[st+" "];return kt||(kt=new RegExp("(^|"+jr+")"+st+"("+jr+"|$)"))&&Qr(st,function(Ft){return kt.test(typeof Ft.className=="string"&&Ft.className||typeof Ft.getAttribute<"u"&&Ft.getAttribute("class")||"")})},ATTR:function(st,kt,Ft){return function(wi){var Vt=xr.attr(wi,st);return Vt==null?kt==="!=":kt?(Vt+="",kt==="="?Vt===Ft:kt==="!="?Vt!==Ft:kt==="^="?Ft&&Vt.indexOf(Ft)===0:kt==="*="?Ft&&Vt.indexOf(Ft)>-1:kt==="$="?Ft&&Vt.slice(-Ft.length)===Ft:kt==="~="?(" "+Vt.replace(No," ")+" ").indexOf(Ft)>-1:kt==="|="?Vt===Ft||Vt.slice(0,Ft.length+1)===Ft+"-":!1):!0}},CHILD:function(st,kt,Ft,wi,Vt){var li=st.slice(0,3)!=="nth",Ii=st.slice(-4)!=="last",rn=kt==="of-type";return wi===1&&Vt===0?function(zi){return!!zi.parentNode}:function(zi,Bn,jn){var $n,rr,Er,In,we,Ee,Ve=li!==Ii?"nextSibling":"previousSibling",bt=zi.parentNode,Ei=rn&&zi.nodeName.toLowerCase(),Tn=!jn&&!rn,br=!1;if(bt){if(li){for(;Ve;){for(In=zi;In=In[Ve];)if(rn?In.nodeName.toLowerCase()===Ei:In.nodeType===1)return!1;Ee=Ve=st==="only"&&!Ee&&"nextSibling"}return!0}if(Ee=[Ii?bt.firstChild:bt.lastChild],Ii&&Tn){for(In=bt,Er=In[mr]||(In[mr]={}),rr=Er[In.uniqueID]||(Er[In.uniqueID]={}),$n=rr[st]||[],we=$n[0]===no&&$n[1],br=we&&$n[2],In=we&&bt.childNodes[we];In=++we&&In&&In[Ve]||(br=we=0)||Ee.pop();)if(In.nodeType===1&&++br&&In===zi){rr[st]=[no,we,br];break}}else if(Tn&&(In=zi,Er=In[mr]||(In[mr]={}),rr=Er[In.uniqueID]||(Er[In.uniqueID]={}),$n=rr[st]||[],we=$n[0]===no&&$n[1],br=we),br===!1)for(;(In=++we&&In&&In[Ve]||(br=we=0)||Ee.pop())&&!((rn?In.nodeName.toLowerCase()===Ei:In.nodeType===1)&&++br&&(Tn&&(Er=In[mr]||(In[mr]={}),rr=Er[In.uniqueID]||(Er[In.uniqueID]={}),rr[st]=[no,br]),In===zi)););return br-=Vt,br===wi||br%wi===0&&br/wi>=0}}},PSEUDO:function(st,kt){var Ft,wi=ke.pseudos[st]||ke.setFilters[st.toLowerCase()]||xr.error("unsupported pseudo: "+st);return wi[mr]?wi(kt):wi.length>1?(Ft=[st,st,"",kt],ke.setFilters.hasOwnProperty(st.toLowerCase())?xo(function(Vt,li){for(var Ii,rn=wi(Vt,kt),zi=rn.length;zi--;)Ii=ll(Vt,rn[zi]),Vt[Ii]=!(li[Ii]=rn[zi])}):function(Vt){return wi(Vt,0,Ft)}):wi}},pseudos:{not:xo(function(st){var kt=[],Ft=[],wi=Bt(st.replace(ic,"$1"));return wi[mr]?xo(function(Vt,li,Ii,rn){for(var zi,Bn=wi(Vt,null,rn,[]),jn=Vt.length;jn--;)(zi=Bn[jn])&&(Vt[jn]=!(li[jn]=zi))}):function(Vt,li,Ii){return kt[0]=Vt,wi(kt,null,Ii,Ft),kt[0]=null,!Ft.pop()}}),has:xo(function(st){return function(kt){return xr(st,kt).length>0}}),contains:xo(function(st){return st=st.replace(sa,vo),function(kt){return(kt.textContent||Ue(kt)).indexOf(st)>-1}}),lang:xo(function(st){return Lu.test(st||"")||xr.error("unsupported lang: "+st),st=st.replace(sa,vo).toLowerCase(),function(kt){var Ft;do if(Ft=Zn?kt.lang:kt.getAttribute("xml:lang")||kt.getAttribute("lang"))return Ft=Ft.toLowerCase(),Ft===st||Ft.indexOf(st+"-")===0;while((kt=kt.parentNode)&&kt.nodeType===1);return!1}}),target:function(st){var kt=Z.location&&Z.location.hash;return kt&&kt.slice(1)===st.id},root:function(st){return st===Zi},focus:function(st){return st===hi.activeElement&&(!hi.hasFocus||hi.hasFocus())&&!!(st.type||st.href||~st.tabIndex)},enabled:Yo(!1),disabled:Yo(!0),checked:function(st){var kt=st.nodeName.toLowerCase();return kt==="input"&&!!st.checked||kt==="option"&&!!st.selected},selected:function(st){return st.parentNode&&st.parentNode.selectedIndex,st.selected===!0},empty:function(st){for(st=st.firstChild;st;st=st.nextSibling)if(st.nodeType<6)return!1;return!0},parent:function(st){return!ke.pseudos.empty(st)},header:function(st){return Aa.test(st.nodeName)},input:function(st){return ka.test(st.nodeName)},button:function(st){var kt=st.nodeName.toLowerCase();return kt==="input"&&st.type==="button"||kt==="button"},text:function(st){var kt;return st.nodeName.toLowerCase()==="input"&&st.type==="text"&&((kt=st.getAttribute("type"))==null||kt.toLowerCase()==="text")},first:$t(function(){return[0]}),last:$t(function(st,kt){return[kt-1]}),eq:$t(function(st,kt,Ft){return[Ft<0?Ft+kt:Ft]}),even:$t(function(st,kt){for(var Ft=0;Ft<kt;Ft+=2)st.push(Ft);return st}),odd:$t(function(st,kt){for(var Ft=1;Ft<kt;Ft+=2)st.push(Ft);return st}),lt:$t(function(st,kt,Ft){for(var wi=Ft<0?Ft+kt:Ft>kt?kt:Ft;--wi>=0;)st.push(wi);return st}),gt:$t(function(st,kt,Ft){for(var wi=Ft<0?Ft+kt:Ft;++wi<kt;)st.push(wi);return st})}},ke.pseudos.nth=ke.pseudos.eq;for(de in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ke.pseudos[de]=Ru(de);for(de in{submit:!0,reset:!0})ke.pseudos[de]=Bu(de);function pi(){}pi.prototype=ke.filters=ke.pseudos,ke.setFilters=new pi,Je=xr.tokenize=function(st,kt){var Ft,wi,Vt,li,Ii,rn,zi,Bn=Ya[st+" "];if(Bn)return kt?0:Bn.slice(0);for(Ii=st,rn=[],zi=ke.preFilter;Ii;){(!Ft||(wi=Tc.exec(Ii)))&&(wi&&(Ii=Ii.slice(wi[0].length)||Ii),rn.push(Vt=[])),Ft=!1,(wi=lu.exec(Ii))&&(Ft=wi.shift(),Vt.push({value:Ft,type:wi[0].replace(ic," ")}),Ii=Ii.slice(Ft.length));for(li in ke.filter)(wi=sc[li].exec(Ii))&&(!zi[li]||(wi=zi[li](wi)))&&(Ft=wi.shift(),Vt.push({value:Ft,type:li,matches:wi}),Ii=Ii.slice(Ft.length));if(!Ft)break}return kt?Ii.length:Ii?xr.error(st):Ya(st,rn).slice(0)};function fn(st){for(var kt=0,Ft=st.length,wi="";kt<Ft;kt++)wi+=st[kt].value;return wi}function Qn(st,kt,Ft){var wi=kt.dir,Vt=kt.next,li=Vt||wi,Ii=Ft&&li==="parentNode",rn=yr++;return kt.first?function(zi,Bn,jn){for(;zi=zi[wi];)if(zi.nodeType===1||Ii)return st(zi,Bn,jn);return!1}:function(zi,Bn,jn){var $n,rr,Er,In=[no,rn];if(jn){for(;zi=zi[wi];)if((zi.nodeType===1||Ii)&&st(zi,Bn,jn))return!0}else for(;zi=zi[wi];)if(zi.nodeType===1||Ii)if(Er=zi[mr]||(zi[mr]={}),rr=Er[zi.uniqueID]||(Er[zi.uniqueID]={}),Vt&&Vt===zi.nodeName.toLowerCase())zi=zi[wi]||zi;else{if(($n=rr[li])&&$n[0]===no&&$n[1]===rn)return In[2]=$n[2];if(rr[li]=In,In[2]=st(zi,Bn,jn))return!0}return!1}}function Rr(st){return st.length>1?function(kt,Ft,wi){for(var Vt=st.length;Vt--;)if(!st[Vt](kt,Ft,wi))return!1;return!0}:st[0]}function Ns(st,kt,Ft){for(var wi=0,Vt=kt.length;wi<Vt;wi++)xr(st,kt[wi],Ft);return Ft}function Ur(st,kt,Ft,wi,Vt){for(var li,Ii=[],rn=0,zi=st.length,Bn=kt!=null;rn<zi;rn++)(li=st[rn])&&(!Ft||Ft(li,wi,Vt))&&(Ii.push(li),Bn&&kt.push(rn));return Ii}function Ec(st,kt,Ft,wi,Vt,li){return wi&&!wi[mr]&&(wi=Ec(wi)),Vt&&!Vt[mr]&&(Vt=Ec(Vt,li)),xo(function(Ii,rn,zi,Bn){var jn,$n,rr,Er=[],In=[],we=rn.length,Ee=Ii||Ns(kt||"*",zi.nodeType?[zi]:zi,[]),Ve=st&&(Ii||!kt)?Ur(Ee,Er,st,zi,Bn):Ee,bt=Ft?Vt||(Ii?st:we||wi)?[]:rn:Ve;if(Ft&&Ft(Ve,bt,zi,Bn),wi)for(jn=Ur(bt,In),wi(jn,[],zi,Bn),$n=jn.length;$n--;)(rr=jn[$n])&&(bt[In[$n]]=!(Ve[In[$n]]=rr));if(Ii){if(Vt||st){if(Vt){for(jn=[],$n=bt.length;$n--;)(rr=bt[$n])&&jn.push(Ve[$n]=rr);Vt(null,bt=[],jn,Bn)}for($n=bt.length;$n--;)(rr=bt[$n])&&(jn=Vt?ll(Ii,rr):Er[$n])>-1&&(Ii[jn]=!(rn[jn]=rr))}}else bt=Ur(bt===rn?bt.splice(we,bt.length):bt),Vt?Vt(null,rn,bt,Bn):_a.apply(rn,bt)})}function Dd(st){for(var kt,Ft,wi,Vt=st.length,li=ke.relative[st[0].type],Ii=li||ke.relative[" "],rn=li?1:0,zi=Qn(function($n){return $n===kt},Ii,!0),Bn=Qn(function($n){return ll(kt,$n)>-1},Ii,!0),jn=[function($n,rr,Er){var In=!li&&(Er||rr!==Kt)||((kt=rr).nodeType?zi($n,rr,Er):Bn($n,rr,Er));return kt=null,In}];rn<Vt;rn++)if(Ft=ke.relative[st[rn].type])jn=[Qn(Rr(jn),Ft)];else{if(Ft=ke.filter[st[rn].type].apply(null,st[rn].matches),Ft[mr]){for(wi=++rn;wi<Vt&&!ke.relative[st[wi].type];wi++);return Ec(rn>1&&Rr(jn),rn>1&&fn(st.slice(0,rn-1).concat({value:st[rn-2].type===" "?"*":""})).replace(ic,"$1"),Ft,rn<wi&&Dd(st.slice(rn,wi)),wi<Vt&&Dd(st=st.slice(wi)),wi<Vt&&fn(st))}jn.push(Ft)}return Rr(jn)}function qo(st,kt){var Ft=kt.length>0,wi=st.length>0,Vt=function(li,Ii,rn,zi,Bn){var jn,$n,rr,Er=0,In="0",we=li&&[],Ee=[],Ve=Kt,bt=li||wi&&ke.find.TAG("*",Bn),Ei=no+=Ve==null?1:Math.random()||.1,Tn=bt.length;for(Bn&&(Kt=Ii==hi||Ii||Bn);In!==Tn&&(jn=bt[In])!=null;In++){if(wi&&jn){for($n=0,!Ii&&jn.ownerDocument!=hi&&(oi(jn),rn=!Zn);rr=st[$n++];)if(rr(jn,Ii||hi,rn)){zi.push(jn);break}Bn&&(no=Ei)}Ft&&((jn=!rr&&jn)&&Er--,li&&we.push(jn))}if(Er+=In,Ft&&In!==Er){for($n=0;rr=kt[$n++];)rr(we,Ee,Ii,rn);if(li){if(Er>0)for(;In--;)we[In]||Ee[In]||(Ee[In]=ra.call(zi));Ee=Ur(Ee)}_a.apply(zi,Ee),Bn&&!li&&Ee.length>0&&Er+kt.length>1&&xr.uniqueSort(zi)}return Bn&&(no=Ei,Kt=Ve),we};return Ft?xo(Vt):Vt}return Bt=xr.compile=function(st,kt){var Ft,wi=[],Vt=[],li=Ql[st+" "];if(!li){for(kt||(kt=Je(st)),Ft=kt.length;Ft--;)li=Dd(kt[Ft]),li[mr]?wi.push(li):Vt.push(li);li=Ql(st,qo(Vt,wi)),li.selector=st}return li},Et=xr.select=function(st,kt,Ft,wi){var Vt,li,Ii,rn,zi,Bn=typeof st=="function"&&st,jn=!wi&&Je(st=Bn.selector||st);if(Ft=Ft||[],jn.length===1){if(li=jn[0]=jn[0].slice(0),li.length>2&&(Ii=li[0]).type==="ID"&&kt.nodeType===9&&Zn&&ke.relative[li[1].type]){if(kt=(ke.find.ID(Ii.matches[0].replace(sa,vo),kt)||[])[0],kt)Bn&&(kt=kt.parentNode);else return Ft;st=st.slice(li.shift().value.length)}for(Vt=sc.needsContext.test(st)?0:li.length;Vt--&&(Ii=li[Vt],!ke.relative[rn=Ii.type]);)if((zi=ke.find[rn])&&(wi=zi(Ii.matches[0].replace(sa,vo),Sc.test(li[0].type)&&bi(kt.parentNode)||kt))){if(li.splice(Vt,1),st=wi.length&&fn(li),!st)return _a.apply(Ft,wi),Ft;break}}return(Bn||Bt(st,jn))(wi,kt,!Zn,Ft,!kt||Sc.test(st)&&bi(kt.parentNode)||kt),Ft},be.sortStable=mr.split("").sort(na).join("")===mr,be.detectDuplicates=!!ki,oi(),be.sortDetached=oa(function(st){return st.compareDocumentPosition(hi.createElement("fieldset"))&1}),oa(function(st){return st.innerHTML="<a href='#'></a>",st.firstChild.getAttribute("href")==="#"})||Sl("type|href|height|width",function(st,kt,Ft){if(!Ft)return st.getAttribute(kt,kt.toLowerCase()==="type"?1:2)}),(!be.attributes||!oa(function(st){return st.innerHTML="<input/>",st.firstChild.setAttribute("value",""),st.firstChild.getAttribute("value")===""}))&&Sl("value",function(st,kt,Ft){if(!Ft&&st.nodeName.toLowerCase()==="input")return st.defaultValue}),oa(function(st){return st.getAttribute("disabled")==null})||Sl(Ad,function(st,kt,Ft){var wi;if(!Ft)return st[kt]===!0?kt.toLowerCase():(wi=st.getAttributeNode(kt))&&wi.specified?wi.value:null}),xr}(t);E.find=te,E.expr=te.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=te.uniqueSort,E.text=te.getText,E.isXMLDoc=te.isXML,E.contains=te.contains,E.escapeSelector=te.escape;var $=function(Z,de,be){for(var ke=[],Ue=be!==void 0;(Z=Z[de])&&Z.nodeType!==9;)if(Z.nodeType===1){if(Ue&&E(Z).is(be))break;ke.push(Z)}return ke},V=function(Z,de){for(var be=[];Z;Z=Z.nextSibling)Z.nodeType===1&&Z!==de&&be.push(Z);return be},j=E.expr.match.needsContext;function x(Z,de){return Z.nodeName&&Z.nodeName.toLowerCase()===de.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function f(Z,de,be){return O(de)?E.grep(Z,function(ke,Ue){return!!de.call(ke,Ue,ke)!==be}):de.nodeType?E.grep(Z,function(ke){return ke===de!==be}):typeof de!="string"?E.grep(Z,function(ke){return v.call(de,ke)>-1!==be}):E.filter(de,Z,be)}E.filter=function(Z,de,be){var ke=de[0];return be&&(Z=":not("+Z+")"),de.length===1&&ke.nodeType===1?E.find.matchesSelector(ke,Z)?[ke]:[]:E.find.matches(Z,E.grep(de,function(Ue){return Ue.nodeType===1}))},E.fn.extend({find:function(Z){var de,be,ke=this.length,Ue=this;if(typeof Z!="string")return this.pushStack(E(Z).filter(function(){for(de=0;de<ke;de++)if(E.contains(Ue[de],this))return!0}));for(be=this.pushStack([]),de=0;de<ke;de++)E.find(Z,Ue[de],be);return ke>1?E.uniqueSort(be):be},filter:function(Z){return this.pushStack(f(this,Z||[],!1))},not:function(Z){return this.pushStack(f(this,Z||[],!0))},is:function(Z){return!!f(this,typeof Z=="string"&&j.test(Z)?E(Z):Z||[],!1).length}});var g,b=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,A=E.fn.init=function(Z,de,be){var ke,Ue;if(!Z)return this;if(be=be||g,typeof Z=="string")if(Z[0]==="<"&&Z[Z.length-1]===">"&&Z.length>=3?ke=[null,Z,null]:ke=b.exec(Z),ke&&(ke[1]||!de))if(ke[1]){if(de=de instanceof E?de[0]:de,E.merge(this,E.parseHTML(ke[1],de&&de.nodeType?de.ownerDocument||de:M,!0)),P.test(ke[1])&&E.isPlainObject(de))for(ke in de)O(this[ke])?this[ke](de[ke]):this.attr(ke,de[ke]);return this}else return Ue=M.getElementById(ke[2]),Ue&&(this[0]=Ue,this.length=1),this;else return!de||de.jquery?(de||be).find(Z):this.constructor(de).find(Z);else{if(Z.nodeType)return this[0]=Z,this.length=1,this;if(O(Z))return be.ready!==void 0?be.ready(Z):Z(E)}return E.makeArray(Z,this)};A.prototype=E.fn,g=E(M);var X=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(Z){var de=E(Z,this),be=de.length;return this.filter(function(){for(var ke=0;ke<be;ke++)if(E.contains(this,de[ke]))return!0})},closest:function(Z,de){var be,ke=0,Ue=this.length,Ge=[],Je=typeof Z!="string"&&E(Z);if(!j.test(Z)){for(;ke<Ue;ke++)for(be=this[ke];be&&be!==de;be=be.parentNode)if(be.nodeType<11&&(Je?Je.index(be)>-1:be.nodeType===1&&E.find.matchesSelector(be,Z))){Ge.push(be);break}}return this.pushStack(Ge.length>1?E.uniqueSort(Ge):Ge)},index:function(Z){return Z?typeof Z=="string"?v.call(E(Z),this[0]):v.call(this,Z.jquery?Z[0]:Z):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(Z,de){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(Z,de))))},addBack:function(Z){return this.add(Z==null?this.prevObject:this.prevObject.filter(Z))}});function J(Z,de){for(;(Z=Z[de])&&Z.nodeType!==1;);return Z}E.each({parent:function(Z){var de=Z.parentNode;return de&&de.nodeType!==11?de:null},parents:function(Z){return $(Z,"parentNode")},parentsUntil:function(Z,de,be){return $(Z,"parentNode",be)},next:function(Z){return J(Z,"nextSibling")},prev:function(Z){return J(Z,"previousSibling")},nextAll:function(Z){return $(Z,"nextSibling")},prevAll:function(Z){return $(Z,"previousSibling")},nextUntil:function(Z,de,be){return $(Z,"nextSibling",be)},prevUntil:function(Z,de,be){return $(Z,"previousSibling",be)},siblings:function(Z){return V((Z.parentNode||{}).firstChild,Z)},children:function(Z){return V(Z.firstChild)},contents:function(Z){return Z.contentDocument!=null&&o(Z.contentDocument)?Z.contentDocument:(x(Z,"template")&&(Z=Z.content||Z),E.merge([],Z.childNodes))}},function(Z,de){E.fn[Z]=function(be,ke){var Ue=E.map(this,de,be);return Z.slice(-5)!=="Until"&&(ke=be),ke&&typeof ke=="string"&&(Ue=E.filter(ke,Ue)),this.length>1&&(Y[Z]||E.uniqueSort(Ue),X.test(Z)&&Ue.reverse()),this.pushStack(Ue)}});var ce=/[^\x20\t\r\n\f]+/g;function pe(Z){var de={};return E.each(Z.match(ce)||[],function(be,ke){de[ke]=!0}),de}E.Callbacks=function(Z){Z=typeof Z=="string"?pe(Z):E.extend({},Z);var de,be,ke,Ue,Ge=[],Je=[],Bt=-1,Et=function(){for(Ue=Ue||Z.once,ke=de=!0;Je.length;Bt=-1)for(be=Je.shift();++Bt<Ge.length;)Ge[Bt].apply(be[0],be[1])===!1&&Z.stopOnFalse&&(Bt=Ge.length,be=!1);Z.memory||(be=!1),de=!1,Ue&&(be?Ge=[]:Ge="")},Kt={add:function(){return Ge&&(be&&!de&&(Bt=Ge.length-1,Je.push(be)),function gi(ki){E.each(ki,function(oi,hi){O(hi)?(!Z.unique||!Kt.has(hi))&&Ge.push(hi):hi&&hi.length&&H(hi)!=="string"&&gi(hi)})}(arguments),be&&!de&&Et()),this},remove:function(){return E.each(arguments,function(gi,ki){for(var oi;(oi=E.inArray(ki,Ge,oi))>-1;)Ge.splice(oi,1),oi<=Bt&&Bt--}),this},has:function(gi){return gi?E.inArray(gi,Ge)>-1:Ge.length>0},empty:function(){return Ge&&(Ge=[]),this},disable:function(){return Ue=Je=[],Ge=be="",this},disabled:function(){return!Ge},lock:function(){return Ue=Je=[],!be&&!de&&(Ge=be=""),this},locked:function(){return!!Ue},fireWith:function(gi,ki){return Ue||(ki=ki||[],ki=[gi,ki.slice?ki.slice():ki],Je.push(ki),de||Et()),this},fire:function(){return Kt.fireWith(this,arguments),this},fired:function(){return!!ke}};return Kt};function fe(Z){return Z}function F(Z){throw Z}function Q(Z,de,be,ke){var Ue;try{Z&&O(Ue=Z.promise)?Ue.call(Z).done(de).fail(be):Z&&O(Ue=Z.then)?Ue.call(Z,de,be):de.apply(void 0,[Z].slice(ke))}catch(Ge){be.apply(void 0,[Ge])}}E.extend({Deferred:function(Z){var de=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],be="pending",ke={state:function(){return be},always:function(){return Ue.done(arguments).fail(arguments),this},catch:function(Ge){return ke.then(null,Ge)},pipe:function(){var Ge=arguments;return E.Deferred(function(Je){E.each(de,function(Bt,Et){var Kt=O(Ge[Et[4]])&&Ge[Et[4]];Ue[Et[1]](function(){var gi=Kt&&Kt.apply(this,arguments);gi&&O(gi.promise)?gi.promise().progress(Je.notify).done(Je.resolve).fail(Je.reject):Je[Et[0]+"With"](this,Kt?[gi]:arguments)})}),Ge=null}).promise()},then:function(Ge,Je,Bt){var Et=0;function Kt(gi,ki,oi,hi){return function(){var Zi=this,Zn=arguments,pn=function(){var Jr,fr;if(!(gi<Et)){if(Jr=oi.apply(Zi,Zn),Jr===ki.promise())throw new TypeError("Thenable self-resolution");fr=Jr&&(typeof Jr=="object"||typeof Jr=="function")&&Jr.then,O(fr)?hi?fr.call(Jr,Kt(Et,ki,fe,hi),Kt(Et,ki,F,hi)):(Et++,fr.call(Jr,Kt(Et,ki,fe,hi),Kt(Et,ki,F,hi),Kt(Et,ki,fe,ki.notifyWith))):(oi!==fe&&(Zi=void 0,Zn=[Jr]),(hi||ki.resolveWith)(Zi,Zn))}},fs=hi?pn:function(){try{pn()}catch(Jr){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(Jr,fs.stackTrace),gi+1>=Et&&(oi!==F&&(Zi=void 0,Zn=[Jr]),ki.rejectWith(Zi,Zn))}};gi?fs():(E.Deferred.getStackHook&&(fs.stackTrace=E.Deferred.getStackHook()),t.setTimeout(fs))}}return E.Deferred(function(gi){de[0][3].add(Kt(0,gi,O(Bt)?Bt:fe,gi.notifyWith)),de[1][3].add(Kt(0,gi,O(Ge)?Ge:fe)),de[2][3].add(Kt(0,gi,O(Je)?Je:F))}).promise()},promise:function(Ge){return Ge!=null?E.extend(Ge,ke):ke}},Ue={};return E.each(de,function(Ge,Je){var Bt=Je[2],Et=Je[5];ke[Je[1]]=Bt.add,Et&&Bt.add(function(){be=Et},de[3-Ge][2].disable,de[3-Ge][3].disable,de[0][2].lock,de[0][3].lock),Bt.add(Je[3].fire),Ue[Je[0]]=function(){return Ue[Je[0]+"With"](this===Ue?void 0:this,arguments),this},Ue[Je[0]+"With"]=Bt.fireWith}),ke.promise(Ue),Z&&Z.call(Ue,Ue),Ue},when:function(Z){var de=arguments.length,be=de,ke=Array(be),Ue=d.call(arguments),Ge=E.Deferred(),Je=function(Bt){return function(Et){ke[Bt]=this,Ue[Bt]=arguments.length>1?d.call(arguments):Et,--de||Ge.resolveWith(ke,Ue)}};if(de<=1&&(Q(Z,Ge.done(Je(be)).resolve,Ge.reject,!de),Ge.state()==="pending"||O(Ue[be]&&Ue[be].then)))return Ge.then();for(;be--;)Q(Ue[be],Je(be),Ge.reject);return Ge.promise()}});var se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(Z,de){t.console&&t.console.warn&&Z&&se.test(Z.name)&&t.console.warn("jQuery.Deferred exception: "+Z.message,Z.stack,de)},E.readyException=function(Z){t.setTimeout(function(){throw Z})};var ue=E.Deferred();E.fn.ready=function(Z){return ue.then(Z).catch(function(de){E.readyException(de)}),this},E.extend({isReady:!1,readyWait:1,ready:function(Z){(Z===!0?--E.readyWait:E.isReady)||(E.isReady=!0,!(Z!==!0&&--E.readyWait>0)&&ue.resolveWith(M,[E]))}}),E.ready.then=ue.then;function Ce(){M.removeEventListener("DOMContentLoaded",Ce),t.removeEventListener("load",Ce),E.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(E.ready):(M.addEventListener("DOMContentLoaded",Ce),t.addEventListener("load",Ce));var ne=function(Z,de,be,ke,Ue,Ge,Je){var Bt=0,Et=Z.length,Kt=be==null;if(H(be)==="object"){Ue=!0;for(Bt in be)ne(Z,de,Bt,be[Bt],!0,Ge,Je)}else if(ke!==void 0&&(Ue=!0,O(ke)||(Je=!0),Kt&&(Je?(de.call(Z,ke),de=null):(Kt=de,de=function(gi,ki,oi){return Kt.call(E(gi),oi)})),de))for(;Bt<Et;Bt++)de(Z[Bt],be,Je?ke:ke.call(Z[Bt],Bt,de(Z[Bt],be)));return Ue?Z:Kt?de.call(Z):Et?de(Z[0],be):Ge},ve=/^-ms-/,_e=/-([a-z])/g;function oe(Z,de){return de.toUpperCase()}function ye(Z){return Z.replace(ve,"ms-").replace(_e,oe)}var Se=function(Z){return Z.nodeType===1||Z.nodeType===9||!+Z.nodeType};function Re(){this.expando=E.expando+Re.uid++}Re.uid=1,Re.prototype={cache:function(Z){var de=Z[this.expando];return de||(de={},Se(Z)&&(Z.nodeType?Z[this.expando]=de:Object.defineProperty(Z,this.expando,{value:de,configurable:!0}))),de},set:function(Z,de,be){var ke,Ue=this.cache(Z);if(typeof de=="string")Ue[ye(de)]=be;else for(ke in de)Ue[ye(ke)]=de[ke];return Ue},get:function(Z,de){return de===void 0?this.cache(Z):Z[this.expando]&&Z[this.expando][ye(de)]},access:function(Z,de,be){return de===void 0||de&&typeof de=="string"&&be===void 0?this.get(Z,de):(this.set(Z,de,be),be!==void 0?be:de)},remove:function(Z,de){var be,ke=Z[this.expando];if(ke!==void 0){if(de!==void 0)for(Array.isArray(de)?de=de.map(ye):(de=ye(de),de=de in ke?[de]:de.match(ce)||[]),be=de.length;be--;)delete ke[de[be]];(de===void 0||E.isEmptyObject(ke))&&(Z.nodeType?Z[this.expando]=void 0:delete Z[this.expando])}},hasData:function(Z){var de=Z[this.expando];return de!==void 0&&!E.isEmptyObject(de)}};var Le=new Re,$e=new Re,rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qe=/[A-Z]/g;function qe(Z){return Z==="true"?!0:Z==="false"?!1:Z==="null"?null:Z===+Z+""?+Z:rt.test(Z)?JSON.parse(Z):Z}function xe(Z,de,be){var ke;if(be===void 0&&Z.nodeType===1)if(ke="data-"+de.replace(Qe,"-$&").toLowerCase(),be=Z.getAttribute(ke),typeof be=="string"){try{be=qe(be)}catch{}$e.set(Z,de,be)}else be=void 0;return be}E.extend({hasData:function(Z){return $e.hasData(Z)||Le.hasData(Z)},data:function(Z,de,be){return $e.access(Z,de,be)},removeData:function(Z,de){$e.remove(Z,de)},_data:function(Z,de,be){return Le.access(Z,de,be)},_removeData:function(Z,de){Le.remove(Z,de)}}),E.fn.extend({data:function(Z,de){var be,ke,Ue,Ge=this[0],Je=Ge&&Ge.attributes;if(Z===void 0){if(this.length&&(Ue=$e.get(Ge),Ge.nodeType===1&&!Le.get(Ge,"hasDataAttrs"))){for(be=Je.length;be--;)Je[be]&&(ke=Je[be].name,ke.indexOf("data-")===0&&(ke=ye(ke.slice(5)),xe(Ge,ke,Ue[ke])));Le.set(Ge,"hasDataAttrs",!0)}return Ue}return typeof Z=="object"?this.each(function(){$e.set(this,Z)}):ne(this,function(Bt){var Et;if(Ge&&Bt===void 0)return Et=$e.get(Ge,Z),Et!==void 0||(Et=xe(Ge,Z),Et!==void 0)?Et:void 0;this.each(function(){$e.set(this,Z,Bt)})},null,de,arguments.length>1,null,!0)},removeData:function(Z){return this.each(function(){$e.remove(this,Z)})}}),E.extend({queue:function(Z,de,be){var ke;if(Z)return de=(de||"fx")+"queue",ke=Le.get(Z,de),be&&(!ke||Array.isArray(be)?ke=Le.access(Z,de,E.makeArray(be)):ke.push(be)),ke||[]},dequeue:function(Z,de){de=de||"fx";var be=E.queue(Z,de),ke=be.length,Ue=be.shift(),Ge=E._queueHooks(Z,de),Je=function(){E.dequeue(Z,de)};Ue==="inprogress"&&(Ue=be.shift(),ke--),Ue&&(de==="fx"&&be.unshift("inprogress"),delete Ge.stop,Ue.call(Z,Je,Ge)),!ke&&Ge&&Ge.empty.fire()},_queueHooks:function(Z,de){var be=de+"queueHooks";return Le.get(Z,be)||Le.access(Z,be,{empty:E.Callbacks("once memory").add(function(){Le.remove(Z,[de+"queue",be])})})}}),E.fn.extend({queue:function(Z,de){var be=2;return typeof Z!="string"&&(de=Z,Z="fx",be--),arguments.length<be?E.queue(this[0],Z):de===void 0?this:this.each(function(){var ke=E.queue(this,Z,de);E._queueHooks(this,Z),Z==="fx"&&ke[0]!=="inprogress"&&E.dequeue(this,Z)})},dequeue:function(Z){return this.each(function(){E.dequeue(this,Z)})},clearQueue:function(Z){return this.queue(Z||"fx",[])},promise:function(Z,de){var be,ke=1,Ue=E.Deferred(),Ge=this,Je=this.length,Bt=function(){--ke||Ue.resolveWith(Ge,[Ge])};for(typeof Z!="string"&&(de=Z,Z=void 0),Z=Z||"fx";Je--;)be=Le.get(Ge[Je],Z+"queueHooks"),be&&be.empty&&(ke++,be.empty.add(Bt));return Bt(),Ue.promise(de)}});var Ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+Ie+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Ke=M.documentElement,ft=function(Z){return E.contains(Z.ownerDocument,Z)},St={composed:!0};Ke.getRootNode&&(ft=function(Z){return E.contains(Z.ownerDocument,Z)||Z.getRootNode(St)===Z.ownerDocument});var Ot=function(Z,de){return Z=de||Z,Z.style.display==="none"||Z.style.display===""&&ft(Z)&&E.css(Z,"display")==="none"};function yi(Z,de,be,ke){var Ue,Ge,Je=20,Bt=ke?function(){return ke.cur()}:function(){return E.css(Z,de,"")},Et=Bt(),Kt=be&&be[3]||(E.cssNumber[de]?"":"px"),gi=Z.nodeType&&(E.cssNumber[de]||Kt!=="px"&&+Et)&&Be.exec(E.css(Z,de));if(gi&&gi[3]!==Kt){for(Et=Et/2,Kt=Kt||gi[3],gi=+Et||1;Je--;)E.style(Z,de,gi+Kt),(1-Ge)*(1-(Ge=Bt()/Et||.5))<=0&&(Je=0),gi=gi/Ge;gi=gi*2,E.style(Z,de,gi+Kt),be=be||[]}return be&&(gi=+gi||+Et||0,Ue=be[1]?gi+(be[1]+1)*be[2]:+be[2],ke&&(ke.unit=Kt,ke.start=gi,ke.end=Ue)),Ue}var Wt={};function fi(Z){var de,be=Z.ownerDocument,ke=Z.nodeName,Ue=Wt[ke];return Ue||(de=be.body.appendChild(be.createElement(ke)),Ue=E.css(de,"display"),de.parentNode.removeChild(de),Ue==="none"&&(Ue="block"),Wt[ke]=Ue,Ue)}function Hi(Z,de){for(var be,ke,Ue=[],Ge=0,Je=Z.length;Ge<Je;Ge++)ke=Z[Ge],ke.style&&(be=ke.style.display,de?(be==="none"&&(Ue[Ge]=Le.get(ke,"display")||null,Ue[Ge]||(ke.style.display="")),ke.style.display===""&&Ot(ke)&&(Ue[Ge]=fi(ke))):be!=="none"&&(Ue[Ge]="none",Le.set(ke,"display",be)));for(Ge=0;Ge<Je;Ge++)Ue[Ge]!=null&&(Z[Ge].style.display=Ue[Ge]);return Z}E.fn.extend({show:function(){return Hi(this,!0)},hide:function(){return Hi(this)},toggle:function(Z){return typeof Z=="boolean"?Z?this.show():this.hide():this.each(function(){Ot(this)?E(this).show():E(this).hide()})}});var pt=/^(?:checkbox|radio)$/i,Lt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ei=/^$|^module$|\/(?:java|ecma)script/i;(function(){var Z=M.createDocumentFragment(),de=Z.appendChild(M.createElement("div")),be=M.createElement("input");be.setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),de.appendChild(be),L.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",L.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",L.option=!!de.lastChild})();var Pi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pi.tbody=Pi.tfoot=Pi.colgroup=Pi.caption=Pi.thead,Pi.th=Pi.td,L.option||(Pi.optgroup=Pi.option=[1,"<select multiple='multiple'>","</select>"]);function cn(Z,de){var be;return typeof Z.getElementsByTagName<"u"?be=Z.getElementsByTagName(de||"*"):typeof Z.querySelectorAll<"u"?be=Z.querySelectorAll(de||"*"):be=[],de===void 0||de&&x(Z,de)?E.merge([Z],be):be}function Wn(Z,de){for(var be=0,ke=Z.length;be<ke;be++)Le.set(Z[be],"globalEval",!de||Le.get(de[be],"globalEval"))}var Kr=/<|&#?\w+;/;function ui(Z,de,be,ke,Ue){for(var Ge,Je,Bt,Et,Kt,gi,ki=de.createDocumentFragment(),oi=[],hi=0,Zi=Z.length;hi<Zi;hi++)if(Ge=Z[hi],Ge||Ge===0)if(H(Ge)==="object")E.merge(oi,Ge.nodeType?[Ge]:Ge);else if(!Kr.test(Ge))oi.push(de.createTextNode(Ge));else{for(Je=Je||ki.appendChild(de.createElement("div")),Bt=(Lt.exec(Ge)||["",""])[1].toLowerCase(),Et=Pi[Bt]||Pi._default,Je.innerHTML=Et[1]+E.htmlPrefilter(Ge)+Et[2],gi=Et[0];gi--;)Je=Je.lastChild;E.merge(oi,Je.childNodes),Je=ki.firstChild,Je.textContent=""}for(ki.textContent="",hi=0;Ge=oi[hi++];){if(ke&&E.inArray(Ge,ke)>-1){Ue&&Ue.push(Ge);continue}if(Kt=ft(Ge),Je=cn(ki.appendChild(Ge),"script"),Kt&&Wn(Je),be)for(gi=0;Ge=Je[gi++];)ei.test(Ge.type||"")&&be.push(Ge)}return ki}var Vi=/^([^.]*)(?:\.(.+)|)/;function qi(){return!0}function Nr(){return!1}function go(Z,de){return Z===wn()==(de==="focus")}function wn(){try{return M.activeElement}catch{}}function co(Z,de,be,ke,Ue,Ge){var Je,Bt;if(typeof de=="object"){typeof be!="string"&&(ke=ke||be,be=void 0);for(Bt in de)co(Z,Bt,be,ke,de[Bt],Ge);return Z}if(ke==null&&Ue==null?(Ue=be,ke=be=void 0):Ue==null&&(typeof be=="string"?(Ue=ke,ke=void 0):(Ue=ke,ke=be,be=void 0)),Ue===!1)Ue=Nr;else if(!Ue)return Z;return Ge===1&&(Je=Ue,Ue=function(Et){return E().off(Et),Je.apply(this,arguments)},Ue.guid=Je.guid||(Je.guid=E.guid++)),Z.each(function(){E.event.add(this,de,Ue,ke,be)})}E.event={global:{},add:function(Z,de,be,ke,Ue){var Ge,Je,Bt,Et,Kt,gi,ki,oi,hi,Zi,Zn,pn=Le.get(Z);if(Se(Z))for(be.handler&&(Ge=be,be=Ge.handler,Ue=Ge.selector),Ue&&E.find.matchesSelector(Ke,Ue),be.guid||(be.guid=E.guid++),(Et=pn.events)||(Et=pn.events=Object.create(null)),(Je=pn.handle)||(Je=pn.handle=function(fs){return typeof E<"u"&&E.event.triggered!==fs.type?E.event.dispatch.apply(Z,arguments):void 0}),de=(de||"").match(ce)||[""],Kt=de.length;Kt--;)Bt=Vi.exec(de[Kt])||[],hi=Zn=Bt[1],Zi=(Bt[2]||"").split(".").sort(),hi&&(ki=E.event.special[hi]||{},hi=(Ue?ki.delegateType:ki.bindType)||hi,ki=E.event.special[hi]||{},gi=E.extend({type:hi,origType:Zn,data:ke,handler:be,guid:be.guid,selector:Ue,needsContext:Ue&&E.expr.match.needsContext.test(Ue),namespace:Zi.join(".")},Ge),(oi=Et[hi])||(oi=Et[hi]=[],oi.delegateCount=0,(!ki.setup||ki.setup.call(Z,ke,Zi,Je)===!1)&&Z.addEventListener&&Z.addEventListener(hi,Je)),ki.add&&(ki.add.call(Z,gi),gi.handler.guid||(gi.handler.guid=be.guid)),Ue?oi.splice(oi.delegateCount++,0,gi):oi.push(gi),E.event.global[hi]=!0)},remove:function(Z,de,be,ke,Ue){var Ge,Je,Bt,Et,Kt,gi,ki,oi,hi,Zi,Zn,pn=Le.hasData(Z)&&Le.get(Z);if(!(!pn||!(Et=pn.events))){for(de=(de||"").match(ce)||[""],Kt=de.length;Kt--;){if(Bt=Vi.exec(de[Kt])||[],hi=Zn=Bt[1],Zi=(Bt[2]||"").split(".").sort(),!hi){for(hi in Et)E.event.remove(Z,hi+de[Kt],be,ke,!0);continue}for(ki=E.event.special[hi]||{},hi=(ke?ki.delegateType:ki.bindType)||hi,oi=Et[hi]||[],Bt=Bt[2]&&new RegExp("(^|\\.)"+Zi.join("\\.(?:.*\\.|)")+"(\\.|$)"),Je=Ge=oi.length;Ge--;)gi=oi[Ge],(Ue||Zn===gi.origType)&&(!be||be.guid===gi.guid)&&(!Bt||Bt.test(gi.namespace))&&(!ke||ke===gi.selector||ke==="**"&&gi.selector)&&(oi.splice(Ge,1),gi.selector&&oi.delegateCount--,ki.remove&&ki.remove.call(Z,gi));Je&&!oi.length&&((!ki.teardown||ki.teardown.call(Z,Zi,pn.handle)===!1)&&E.removeEvent(Z,hi,pn.handle),delete Et[hi])}E.isEmptyObject(Et)&&Le.remove(Z,"handle events")}},dispatch:function(Z){var de,be,ke,Ue,Ge,Je,Bt=new Array(arguments.length),Et=E.event.fix(Z),Kt=(Le.get(this,"events")||Object.create(null))[Et.type]||[],gi=E.event.special[Et.type]||{};for(Bt[0]=Et,de=1;de<arguments.length;de++)Bt[de]=arguments[de];if(Et.delegateTarget=this,!(gi.preDispatch&&gi.preDispatch.call(this,Et)===!1)){for(Je=E.event.handlers.call(this,Et,Kt),de=0;(Ue=Je[de++])&&!Et.isPropagationStopped();)for(Et.currentTarget=Ue.elem,be=0;(Ge=Ue.handlers[be++])&&!Et.isImmediatePropagationStopped();)(!Et.rnamespace||Ge.namespace===!1||Et.rnamespace.test(Ge.namespace))&&(Et.handleObj=Ge,Et.data=Ge.data,ke=((E.event.special[Ge.origType]||{}).handle||Ge.handler).apply(Ue.elem,Bt),ke!==void 0&&(Et.result=ke)===!1&&(Et.preventDefault(),Et.stopPropagation()));return gi.postDispatch&&gi.postDispatch.call(this,Et),Et.result}},handlers:function(Z,de){var be,ke,Ue,Ge,Je,Bt=[],Et=de.delegateCount,Kt=Z.target;if(Et&&Kt.nodeType&&!(Z.type==="click"&&Z.button>=1)){for(;Kt!==this;Kt=Kt.parentNode||this)if(Kt.nodeType===1&&!(Z.type==="click"&&Kt.disabled===!0)){for(Ge=[],Je={},be=0;be<Et;be++)ke=de[be],Ue=ke.selector+" ",Je[Ue]===void 0&&(Je[Ue]=ke.needsContext?E(Ue,this).index(Kt)>-1:E.find(Ue,this,null,[Kt]).length),Je[Ue]&&Ge.push(ke);Ge.length&&Bt.push({elem:Kt,handlers:Ge})}}return Kt=this,Et<de.length&&Bt.push({elem:Kt,handlers:de.slice(Et)}),Bt},addProp:function(Z,de){Object.defineProperty(E.Event.prototype,Z,{enumerable:!0,configurable:!0,get:O(de)?function(){if(this.originalEvent)return de(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[Z]},set:function(be){Object.defineProperty(this,Z,{enumerable:!0,configurable:!0,writable:!0,value:be})}})},fix:function(Z){return Z[E.expando]?Z:new E.Event(Z)},special:{load:{noBubble:!0},click:{setup:function(Z){var de=this||Z;return pt.test(de.type)&&de.click&&x(de,"input")&&On(de,"click",qi),!1},trigger:function(Z){var de=this||Z;return pt.test(de.type)&&de.click&&x(de,"input")&&On(de,"click"),!0},_default:function(Z){var de=Z.target;return pt.test(de.type)&&de.click&&x(de,"input")&&Le.get(de,"click")||x(de,"a")}},beforeunload:{postDispatch:function(Z){Z.result!==void 0&&Z.originalEvent&&(Z.originalEvent.returnValue=Z.result)}}}};function On(Z,de,be){if(!be){Le.get(Z,de)===void 0&&E.event.add(Z,de,qi);return}Le.set(Z,de,!1),E.event.add(Z,de,{namespace:!1,handler:function(ke){var Ue,Ge,Je=Le.get(this,de);if(ke.isTrigger&1&&this[de]){if(Je.length)(E.event.special[de]||{}).delegateType&&ke.stopPropagation();else if(Je=d.call(arguments),Le.set(this,de,Je),Ue=be(this,de),this[de](),Ge=Le.get(this,de),Je!==Ge||Ue?Le.set(this,de,!1):Ge={},Je!==Ge)return ke.stopImmediatePropagation(),ke.preventDefault(),Ge&&Ge.value}else Je.length&&(Le.set(this,de,{value:E.event.trigger(E.extend(Je[0],E.Event.prototype),Je.slice(1),this)}),ke.stopImmediatePropagation())}})}E.removeEvent=function(Z,de,be){Z.removeEventListener&&Z.removeEventListener(de,be)},E.Event=function(Z,de){if(!(this instanceof E.Event))return new E.Event(Z,de);Z&&Z.type?(this.originalEvent=Z,this.type=Z.type,this.isDefaultPrevented=Z.defaultPrevented||Z.defaultPrevented===void 0&&Z.returnValue===!1?qi:Nr,this.target=Z.target&&Z.target.nodeType===3?Z.target.parentNode:Z.target,this.currentTarget=Z.currentTarget,this.relatedTarget=Z.relatedTarget):this.type=Z,de&&E.extend(this,de),this.timeStamp=Z&&Z.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Nr,isPropagationStopped:Nr,isImmediatePropagationStopped:Nr,isSimulated:!1,preventDefault:function(){var Z=this.originalEvent;this.isDefaultPrevented=qi,Z&&!this.isSimulated&&Z.preventDefault()},stopPropagation:function(){var Z=this.originalEvent;this.isPropagationStopped=qi,Z&&!this.isSimulated&&Z.stopPropagation()},stopImmediatePropagation:function(){var Z=this.originalEvent;this.isImmediatePropagationStopped=qi,Z&&!this.isSimulated&&Z.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(Z,de){E.event.special[Z]={setup:function(){return On(this,Z,go),!1},trigger:function(){return On(this,Z),!0},_default:function(be){return Le.get(be.target,Z)},delegateType:de}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(Z,de){E.event.special[Z]={delegateType:de,bindType:de,handle:function(be){var ke,Ue=this,Ge=be.relatedTarget,Je=be.handleObj;return(!Ge||Ge!==Ue&&!E.contains(Ue,Ge))&&(be.type=Je.origType,ke=Je.handler.apply(this,arguments),be.type=de),ke}}}),E.fn.extend({on:function(Z,de,be,ke){return co(this,Z,de,be,ke)},one:function(Z,de,be,ke){return co(this,Z,de,be,ke,1)},off:function(Z,de,be){var ke,Ue;if(Z&&Z.preventDefault&&Z.handleObj)return ke=Z.handleObj,E(Z.delegateTarget).off(ke.namespace?ke.origType+"."+ke.namespace:ke.origType,ke.selector,ke.handler),this;if(typeof Z=="object"){for(Ue in Z)this.off(Ue,de,Z[Ue]);return this}return(de===!1||typeof de=="function")&&(be=de,de=void 0),be===!1&&(be=Nr),this.each(function(){E.event.remove(this,Z,be,de)})}});var Va=/<script|<style|<link/i,rl=/checked\s*(?:[^=]|=\s*.checked.)/i,mt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Fe(Z,de){return x(Z,"table")&&x(de.nodeType!==11?de:de.firstChild,"tr")&&E(Z).children("tbody")[0]||Z}function We(Z){return Z.type=(Z.getAttribute("type")!==null)+"/"+Z.type,Z}function ut(Z){return(Z.type||"").slice(0,5)==="true/"?Z.type=Z.type.slice(5):Z.removeAttribute("type"),Z}function xt(Z,de){var be,ke,Ue,Ge,Je,Bt,Et;if(de.nodeType===1){if(Le.hasData(Z)&&(Ge=Le.get(Z),Et=Ge.events,Et)){Le.remove(de,"handle events");for(Ue in Et)for(be=0,ke=Et[Ue].length;be<ke;be++)E.event.add(de,Ue,Et[Ue][be])}$e.hasData(Z)&&(Je=$e.access(Z),Bt=E.extend({},Je),$e.set(de,Bt))}}function Rt(Z,de){var be=de.nodeName.toLowerCase();be==="input"&&pt.test(Z.type)?de.checked=Z.checked:(be==="input"||be==="textarea")&&(de.defaultValue=Z.defaultValue)}function Ut(Z,de,be,ke){de=h(de);var Ue,Ge,Je,Bt,Et,Kt,gi=0,ki=Z.length,oi=ki-1,hi=de[0],Zi=O(hi);if(Zi||ki>1&&typeof hi=="string"&&!L.checkClone&&rl.test(hi))return Z.each(function(Zn){var pn=Z.eq(Zn);Zi&&(de[0]=hi.call(this,Zn,pn.html())),Ut(pn,de,be,ke)});if(ki&&(Ue=ui(de,Z[0].ownerDocument,!1,Z,ke),Ge=Ue.firstChild,Ue.childNodes.length===1&&(Ue=Ge),Ge||ke)){for(Je=E.map(cn(Ue,"script"),We),Bt=Je.length;gi<ki;gi++)Et=Ue,gi!==oi&&(Et=E.clone(Et,!0,!0),Bt&&E.merge(Je,cn(Et,"script"))),be.call(Z[gi],Et,gi);if(Bt)for(Kt=Je[Je.length-1].ownerDocument,E.map(Je,ut),gi=0;gi<Bt;gi++)Et=Je[gi],ei.test(Et.type||"")&&!Le.access(Et,"globalEval")&&E.contains(Kt,Et)&&(Et.src&&(Et.type||"").toLowerCase()!=="module"?E._evalUrl&&!Et.noModule&&E._evalUrl(Et.src,{nonce:Et.nonce||Et.getAttribute("nonce")},Kt):D(Et.textContent.replace(mt,""),Et,Kt))}return Z}function Ht(Z,de,be){for(var ke,Ue=de?E.filter(de,Z):Z,Ge=0;(ke=Ue[Ge])!=null;Ge++)!be&&ke.nodeType===1&&E.cleanData(cn(ke)),ke.parentNode&&(be&&ft(ke)&&Wn(cn(ke,"script")),ke.parentNode.removeChild(ke));return Z}E.extend({htmlPrefilter:function(Z){return Z},clone:function(Z,de,be){var ke,Ue,Ge,Je,Bt=Z.cloneNode(!0),Et=ft(Z);if(!L.noCloneChecked&&(Z.nodeType===1||Z.nodeType===11)&&!E.isXMLDoc(Z))for(Je=cn(Bt),Ge=cn(Z),ke=0,Ue=Ge.length;ke<Ue;ke++)Rt(Ge[ke],Je[ke]);if(de)if(be)for(Ge=Ge||cn(Z),Je=Je||cn(Bt),ke=0,Ue=Ge.length;ke<Ue;ke++)xt(Ge[ke],Je[ke]);else xt(Z,Bt);return Je=cn(Bt,"script"),Je.length>0&&Wn(Je,!Et&&cn(Z,"script")),Bt},cleanData:function(Z){for(var de,be,ke,Ue=E.event.special,Ge=0;(be=Z[Ge])!==void 0;Ge++)if(Se(be)){if(de=be[Le.expando]){if(de.events)for(ke in de.events)Ue[ke]?E.event.remove(be,ke):E.removeEvent(be,ke,de.handle);be[Le.expando]=void 0}be[$e.expando]&&(be[$e.expando]=void 0)}}}),E.fn.extend({detach:function(Z){return Ht(this,Z,!0)},remove:function(Z){return Ht(this,Z)},text:function(Z){return ne(this,function(de){return de===void 0?E.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=de)})},null,Z,arguments.length)},append:function(){return Ut(this,arguments,function(Z){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var de=Fe(this,Z);de.appendChild(Z)}})},prepend:function(){return Ut(this,arguments,function(Z){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var de=Fe(this,Z);de.insertBefore(Z,de.firstChild)}})},before:function(){return Ut(this,arguments,function(Z){this.parentNode&&this.parentNode.insertBefore(Z,this)})},after:function(){return Ut(this,arguments,function(Z){this.parentNode&&this.parentNode.insertBefore(Z,this.nextSibling)})},empty:function(){for(var Z,de=0;(Z=this[de])!=null;de++)Z.nodeType===1&&(E.cleanData(cn(Z,!1)),Z.textContent="");return this},clone:function(Z,de){return Z=Z??!1,de=de??Z,this.map(function(){return E.clone(this,Z,de)})},html:function(Z){return ne(this,function(de){var be=this[0]||{},ke=0,Ue=this.length;if(de===void 0&&be.nodeType===1)return be.innerHTML;if(typeof de=="string"&&!Va.test(de)&&!Pi[(Lt.exec(de)||["",""])[1].toLowerCase()]){de=E.htmlPrefilter(de);try{for(;ke<Ue;ke++)be=this[ke]||{},be.nodeType===1&&(E.cleanData(cn(be,!1)),be.innerHTML=de);be=0}catch{}}be&&this.empty().append(de)},null,Z,arguments.length)},replaceWith:function(){var Z=[];return Ut(this,arguments,function(de){var be=this.parentNode;E.inArray(this,Z)<0&&(E.cleanData(cn(this)),be&&be.replaceChild(de,this))},Z)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(Z,de){E.fn[Z]=function(be){for(var ke,Ue=[],Ge=E(be),Je=Ge.length-1,Bt=0;Bt<=Je;Bt++)ke=Bt===Je?this:this.clone(!0),E(Ge[Bt])[de](ke),s.apply(Ue,ke.get());return this.pushStack(Ue)}});var zt=new RegExp("^("+Ie+")(?!px)[a-z%]+$","i"),Zt=/^--/,xi=function(Z){var de=Z.ownerDocument.defaultView;return(!de||!de.opener)&&(de=t),de.getComputedStyle(Z)},Ji=function(Z,de,be){var ke,Ue,Ge={};for(Ue in de)Ge[Ue]=Z.style[Ue],Z.style[Ue]=de[Ue];ke=be.call(Z);for(Ue in de)Z.style[Ue]=Ge[Ue];return ke},Di=new RegExp(Xe.join("|"),"i"),Mn="[\\x20\\t\\r\\n\\f]",Cn=new RegExp("^"+Mn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mn+"+$","g");(function(){function Z(){if(Kt){Et.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Kt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ke.appendChild(Et).appendChild(Kt);var gi=t.getComputedStyle(Kt);be=gi.top!=="1%",Bt=de(gi.marginLeft)===12,Kt.style.right="60%",Ge=de(gi.right)===36,ke=de(gi.width)===36,Kt.style.position="absolute",Ue=de(Kt.offsetWidth/3)===12,Ke.removeChild(Et),Kt=null}}function de(gi){return Math.round(parseFloat(gi))}var be,ke,Ue,Ge,Je,Bt,Et=M.createElement("div"),Kt=M.createElement("div");Kt.style&&(Kt.style.backgroundClip="content-box",Kt.cloneNode(!0).style.backgroundClip="",L.clearCloneStyle=Kt.style.backgroundClip==="content-box",E.extend(L,{boxSizingReliable:function(){return Z(),ke},pixelBoxStyles:function(){return Z(),Ge},pixelPosition:function(){return Z(),be},reliableMarginLeft:function(){return Z(),Bt},scrollboxSize:function(){return Z(),Ue},reliableTrDimensions:function(){var gi,ki,oi,hi;return Je==null&&(gi=M.createElement("table"),ki=M.createElement("tr"),oi=M.createElement("div"),gi.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ki.style.cssText="border:1px solid",ki.style.height="1px",oi.style.height="9px",oi.style.display="block",Ke.appendChild(gi).appendChild(ki).appendChild(oi),hi=t.getComputedStyle(ki),Je=parseInt(hi.height,10)+parseInt(hi.borderTopWidth,10)+parseInt(hi.borderBottomWidth,10)===ki.offsetHeight,Ke.removeChild(gi)),Je}}))})();function hn(Z,de,be){var ke,Ue,Ge,Je,Bt=Zt.test(de),Et=Z.style;return be=be||xi(Z),be&&(Je=be.getPropertyValue(de)||be[de],Bt&&Je&&(Je=Je.replace(Cn,"$1")||void 0),Je===""&&!ft(Z)&&(Je=E.style(Z,de)),!L.pixelBoxStyles()&&zt.test(Je)&&Di.test(de)&&(ke=Et.width,Ue=Et.minWidth,Ge=Et.maxWidth,Et.minWidth=Et.maxWidth=Et.width=Je,Je=be.width,Et.width=ke,Et.minWidth=Ue,Et.maxWidth=Ge)),Je!==void 0?Je+"":Je}function Wi(Z,de){return{get:function(){if(Z()){delete this.get;return}return(this.get=de).apply(this,arguments)}}}var cr=["Webkit","Moz","ms"],Ar=M.createElement("div").style,_n={};function Yr(Z){for(var de=Z[0].toUpperCase()+Z.slice(1),be=cr.length;be--;)if(Z=cr[be]+de,Z in Ar)return Z}function Or(Z){var de=E.cssProps[Z]||_n[Z];return de||(Z in Ar?Z:_n[Z]=Yr(Z)||Z)}var Ga=/^(none|table(?!-c[ea]).+)/,Ha={position:"absolute",visibility:"hidden",display:"block"},yo={letterSpacing:"0",fontWeight:"400"};function mi(Z,de,be){var ke=Be.exec(de);return ke?Math.max(0,ke[2]-(be||0))+(ke[3]||"px"):de}function ps(Z,de,be,ke,Ue,Ge){var Je=de==="width"?1:0,Bt=0,Et=0;if(be===(ke?"border":"content"))return 0;for(;Je<4;Je+=2)be==="margin"&&(Et+=E.css(Z,be+Xe[Je],!0,Ue)),ke?(be==="content"&&(Et-=E.css(Z,"padding"+Xe[Je],!0,Ue)),be!=="margin"&&(Et-=E.css(Z,"border"+Xe[Je]+"Width",!0,Ue))):(Et+=E.css(Z,"padding"+Xe[Je],!0,Ue),be!=="padding"?Et+=E.css(Z,"border"+Xe[Je]+"Width",!0,Ue):Bt+=E.css(Z,"border"+Xe[Je]+"Width",!0,Ue));return!ke&&Ge>=0&&(Et+=Math.max(0,Math.ceil(Z["offset"+de[0].toUpperCase()+de.slice(1)]-Ge-Et-Bt-.5))||0),Et}function Os(Z,de,be){var ke=xi(Z),Ue=!L.boxSizingReliable()||be,Ge=Ue&&E.css(Z,"boxSizing",!1,ke)==="border-box",Je=Ge,Bt=hn(Z,de,ke),Et="offset"+de[0].toUpperCase()+de.slice(1);if(zt.test(Bt)){if(!be)return Bt;Bt="auto"}return(!L.boxSizingReliable()&&Ge||!L.reliableTrDimensions()&&x(Z,"tr")||Bt==="auto"||!parseFloat(Bt)&&E.css(Z,"display",!1,ke)==="inline")&&Z.getClientRects().length&&(Ge=E.css(Z,"boxSizing",!1,ke)==="border-box",Je=Et in Z,Je&&(Bt=Z[Et])),Bt=parseFloat(Bt)||0,Bt+ps(Z,de,be||(Ge?"border":"content"),Je,ke,Bt)+"px"}E.extend({cssHooks:{opacity:{get:function(Z,de){if(de){var be=hn(Z,"opacity");return be===""?"1":be}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(Z,de,be,ke){if(!(!Z||Z.nodeType===3||Z.nodeType===8||!Z.style)){var Ue,Ge,Je,Bt=ye(de),Et=Zt.test(de),Kt=Z.style;if(Et||(de=Or(Bt)),Je=E.cssHooks[de]||E.cssHooks[Bt],be!==void 0){if(Ge=typeof be,Ge==="string"&&(Ue=Be.exec(be))&&Ue[1]&&(be=yi(Z,de,Ue),Ge="number"),be==null||be!==be)return;Ge==="number"&&!Et&&(be+=Ue&&Ue[3]||(E.cssNumber[Bt]?"":"px")),!L.clearCloneStyle&&be===""&&de.indexOf("background")===0&&(Kt[de]="inherit"),(!Je||!("set"in Je)||(be=Je.set(Z,be,ke))!==void 0)&&(Et?Kt.setProperty(de,be):Kt[de]=be)}else return Je&&"get"in Je&&(Ue=Je.get(Z,!1,ke))!==void 0?Ue:Kt[de]}},css:function(Z,de,be,ke){var Ue,Ge,Je,Bt=ye(de),Et=Zt.test(de);return Et||(de=Or(Bt)),Je=E.cssHooks[de]||E.cssHooks[Bt],Je&&"get"in Je&&(Ue=Je.get(Z,!0,be)),Ue===void 0&&(Ue=hn(Z,de,ke)),Ue==="normal"&&de in yo&&(Ue=yo[de]),be===""||be?(Ge=parseFloat(Ue),be===!0||isFinite(Ge)?Ge||0:Ue):Ue}}),E.each(["height","width"],function(Z,de){E.cssHooks[de]={get:function(be,ke,Ue){if(ke)return Ga.test(E.css(be,"display"))&&(!be.getClientRects().length||!be.getBoundingClientRect().width)?Ji(be,Ha,function(){return Os(be,de,Ue)}):Os(be,de,Ue)},set:function(be,ke,Ue){var Ge,Je=xi(be),Bt=!L.scrollboxSize()&&Je.position==="absolute",Et=Bt||Ue,Kt=Et&&E.css(be,"boxSizing",!1,Je)==="border-box",gi=Ue?ps(be,de,Ue,Kt,Je):0;return Kt&&Bt&&(gi-=Math.ceil(be["offset"+de[0].toUpperCase()+de.slice(1)]-parseFloat(Je[de])-ps(be,de,"border",!1,Je)-.5)),gi&&(Ge=Be.exec(ke))&&(Ge[3]||"px")!=="px"&&(be.style[de]=ke,ke=E.css(be,de)),mi(be,ke,gi)}}}),E.cssHooks.marginLeft=Wi(L.reliableMarginLeft,function(Z,de){if(de)return(parseFloat(hn(Z,"marginLeft"))||Z.getBoundingClientRect().left-Ji(Z,{marginLeft:0},function(){return Z.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(Z,de){E.cssHooks[Z+de]={expand:function(be){for(var ke=0,Ue={},Ge=typeof be=="string"?be.split(" "):[be];ke<4;ke++)Ue[Z+Xe[ke]+de]=Ge[ke]||Ge[ke-2]||Ge[0];return Ue}},Z!=="margin"&&(E.cssHooks[Z+de].set=mi)}),E.fn.extend({css:function(Z,de){return ne(this,function(be,ke,Ue){var Ge,Je,Bt={},Et=0;if(Array.isArray(ke)){for(Ge=xi(be),Je=ke.length;Et<Je;Et++)Bt[ke[Et]]=E.css(be,ke[Et],!1,Ge);return Bt}return Ue!==void 0?E.style(be,ke,Ue):E.css(be,ke)},Z,de,arguments.length>1)}});function Rs(Z,de,be,ke,Ue){return new Rs.prototype.init(Z,de,be,ke,Ue)}E.Tween=Rs,Rs.prototype={constructor:Rs,init:function(Z,de,be,ke,Ue,Ge){this.elem=Z,this.prop=be,this.easing=Ue||E.easing._default,this.options=de,this.start=this.now=this.cur(),this.end=ke,this.unit=Ge||(E.cssNumber[be]?"":"px")},cur:function(){var Z=Rs.propHooks[this.prop];return Z&&Z.get?Z.get(this):Rs.propHooks._default.get(this)},run:function(Z){var de,be=Rs.propHooks[this.prop];return this.options.duration?this.pos=de=E.easing[this.easing](Z,this.options.duration*Z,0,1,this.options.duration):this.pos=de=Z,this.now=(this.end-this.start)*de+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),be&&be.set?be.set(this):Rs.propHooks._default.set(this),this}},Rs.prototype.init.prototype=Rs.prototype,Rs.propHooks={_default:{get:function(Z){var de;return Z.elem.nodeType!==1||Z.elem[Z.prop]!=null&&Z.elem.style[Z.prop]==null?Z.elem[Z.prop]:(de=E.css(Z.elem,Z.prop,""),!de||de==="auto"?0:de)},set:function(Z){E.fx.step[Z.prop]?E.fx.step[Z.prop](Z):Z.elem.nodeType===1&&(E.cssHooks[Z.prop]||Z.elem.style[Or(Z.prop)]!=null)?E.style(Z.elem,Z.prop,Z.now+Z.unit):Z.elem[Z.prop]=Z.now}}},Rs.propHooks.scrollTop=Rs.propHooks.scrollLeft={set:function(Z){Z.elem.nodeType&&Z.elem.parentNode&&(Z.elem[Z.prop]=Z.now)}},E.easing={linear:function(Z){return Z},swing:function(Z){return .5-Math.cos(Z*Math.PI)/2},_default:"swing"},E.fx=Rs.prototype.init,E.fx.step={};var bc,Po,qc=/^(?:toggle|show|hide)$/,ou=/queueHooks$/;function uo(){Po&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(uo):t.setTimeout(uo,E.fx.interval),E.fx.tick())}function Qi(){return t.setTimeout(function(){bc=void 0}),bc=Date.now()}function nr(Z,de){var be,ke=0,Ue={height:Z};for(de=de?1:0;ke<4;ke+=2-de)be=Xe[ke],Ue["margin"+be]=Ue["padding"+be]=Z;return de&&(Ue.opacity=Ue.width=Z),Ue}function dr(Z,de,be){for(var ke,Ue=(Fn.tweeners[de]||[]).concat(Fn.tweeners["*"]),Ge=0,Je=Ue.length;Ge<Je;Ge++)if(ke=Ue[Ge].call(be,de,Z))return ke}function ta(Z,de,be){var ke,Ue,Ge,Je,Bt,Et,Kt,gi,ki="width"in de||"height"in de,oi=this,hi={},Zi=Z.style,Zn=Z.nodeType&&Ot(Z),pn=Le.get(Z,"fxshow");be.queue||(Je=E._queueHooks(Z,"fx"),Je.unqueued==null&&(Je.unqueued=0,Bt=Je.empty.fire,Je.empty.fire=function(){Je.unqueued||Bt()}),Je.unqueued++,oi.always(function(){oi.always(function(){Je.unqueued--,E.queue(Z,"fx").length||Je.empty.fire()})}));for(ke in de)if(Ue=de[ke],qc.test(Ue)){if(delete de[ke],Ge=Ge||Ue==="toggle",Ue===(Zn?"hide":"show"))if(Ue==="show"&&pn&&pn[ke]!==void 0)Zn=!0;else continue;hi[ke]=pn&&pn[ke]||E.style(Z,ke)}if(Et=!E.isEmptyObject(de),!(!Et&&E.isEmptyObject(hi))){ki&&Z.nodeType===1&&(be.overflow=[Zi.overflow,Zi.overflowX,Zi.overflowY],Kt=pn&&pn.display,Kt==null&&(Kt=Le.get(Z,"display")),gi=E.css(Z,"display"),gi==="none"&&(Kt?gi=Kt:(Hi([Z],!0),Kt=Z.style.display||Kt,gi=E.css(Z,"display"),Hi([Z]))),(gi==="inline"||gi==="inline-block"&&Kt!=null)&&E.css(Z,"float")==="none"&&(Et||(oi.done(function(){Zi.display=Kt}),Kt==null&&(gi=Zi.display,Kt=gi==="none"?"":gi)),Zi.display="inline-block")),be.overflow&&(Zi.overflow="hidden",oi.always(function(){Zi.overflow=be.overflow[0],Zi.overflowX=be.overflow[1],Zi.overflowY=be.overflow[2]})),Et=!1;for(ke in hi)Et||(pn?"hidden"in pn&&(Zn=pn.hidden):pn=Le.access(Z,"fxshow",{display:Kt}),Ge&&(pn.hidden=!Zn),Zn&&Hi([Z],!0),oi.done(function(){Zn||Hi([Z]),Le.remove(Z,"fxshow");for(ke in hi)E.style(Z,ke,hi[ke])})),Et=dr(Zn?pn[ke]:0,ke,oi),ke in pn||(pn[ke]=Et.start,Zn&&(Et.end=Et.start,Et.start=0))}}function Wa(Z,de){var be,ke,Ue,Ge,Je;for(be in Z)if(ke=ye(be),Ue=de[ke],Ge=Z[be],Array.isArray(Ge)&&(Ue=Ge[1],Ge=Z[be]=Ge[0]),be!==ke&&(Z[ke]=Ge,delete Z[be]),Je=E.cssHooks[ke],Je&&"expand"in Je){Ge=Je.expand(Ge),delete Z[ke];for(be in Ge)be in Z||(Z[be]=Ge[be],de[be]=Ue)}else de[ke]=Ue}function Fn(Z,de,be){var ke,Ue,Ge=0,Je=Fn.prefilters.length,Bt=E.Deferred().always(function(){delete Et.elem}),Et=function(){if(Ue)return!1;for(var ki=bc||Qi(),oi=Math.max(0,Kt.startTime+Kt.duration-ki),hi=oi/Kt.duration||0,Zi=1-hi,Zn=0,pn=Kt.tweens.length;Zn<pn;Zn++)Kt.tweens[Zn].run(Zi);return Bt.notifyWith(Z,[Kt,Zi,oi]),Zi<1&&pn?oi:(pn||Bt.notifyWith(Z,[Kt,1,0]),Bt.resolveWith(Z,[Kt]),!1)},Kt=Bt.promise({elem:Z,props:E.extend({},de),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},be),originalProperties:de,originalOptions:be,startTime:bc||Qi(),duration:be.duration,tweens:[],createTween:function(ki,oi){var hi=E.Tween(Z,Kt.opts,ki,oi,Kt.opts.specialEasing[ki]||Kt.opts.easing);return Kt.tweens.push(hi),hi},stop:function(ki){var oi=0,hi=ki?Kt.tweens.length:0;if(Ue)return this;for(Ue=!0;oi<hi;oi++)Kt.tweens[oi].run(1);return ki?(Bt.notifyWith(Z,[Kt,1,0]),Bt.resolveWith(Z,[Kt,ki])):Bt.rejectWith(Z,[Kt,ki]),this}}),gi=Kt.props;for(Wa(gi,Kt.opts.specialEasing);Ge<Je;Ge++)if(ke=Fn.prefilters[Ge].call(Kt,Z,gi,Kt.opts),ke)return O(ke.stop)&&(E._queueHooks(Kt.elem,Kt.opts.queue).stop=ke.stop.bind(ke)),ke;return E.map(gi,dr,Kt),O(Kt.opts.start)&&Kt.opts.start.call(Z,Kt),Kt.progress(Kt.opts.progress).done(Kt.opts.done,Kt.opts.complete).fail(Kt.opts.fail).always(Kt.opts.always),E.fx.timer(E.extend(Et,{elem:Z,anim:Kt,queue:Kt.opts.queue})),Kt}E.Animation=E.extend(Fn,{tweeners:{"*":[function(Z,de){var be=this.createTween(Z,de);return yi(be.elem,Z,Be.exec(de),be),be}]},tweener:function(Z,de){O(Z)?(de=Z,Z=["*"]):Z=Z.match(ce);for(var be,ke=0,Ue=Z.length;ke<Ue;ke++)be=Z[ke],Fn.tweeners[be]=Fn.tweeners[be]||[],Fn.tweeners[be].unshift(de)},prefilters:[ta],prefilter:function(Z,de){de?Fn.prefilters.unshift(Z):Fn.prefilters.push(Z)}}),E.speed=function(Z,de,be){var ke=Z&&typeof Z=="object"?E.extend({},Z):{complete:be||!be&&de||O(Z)&&Z,duration:Z,easing:be&&de||de&&!O(de)&&de};return E.fx.off?ke.duration=0:typeof ke.duration!="number"&&(ke.duration in E.fx.speeds?ke.duration=E.fx.speeds[ke.duration]:ke.duration=E.fx.speeds._default),(ke.queue==null||ke.queue===!0)&&(ke.queue="fx"),ke.old=ke.complete,ke.complete=function(){O(ke.old)&&ke.old.call(this),ke.queue&&E.dequeue(this,ke.queue)},ke},E.fn.extend({fadeTo:function(Z,de,be,ke){return this.filter(Ot).css("opacity",0).show().end().animate({opacity:de},Z,be,ke)},animate:function(Z,de,be,ke){var Ue=E.isEmptyObject(Z),Ge=E.speed(de,be,ke),Je=function(){var Bt=Fn(this,E.extend({},Z),Ge);(Ue||Le.get(this,"finish"))&&Bt.stop(!0)};return Je.finish=Je,Ue||Ge.queue===!1?this.each(Je):this.queue(Ge.queue,Je)},stop:function(Z,de,be){var ke=function(Ue){var Ge=Ue.stop;delete Ue.stop,Ge(be)};return typeof Z!="string"&&(be=de,de=Z,Z=void 0),de&&this.queue(Z||"fx",[]),this.each(function(){var Ue=!0,Ge=Z!=null&&Z+"queueHooks",Je=E.timers,Bt=Le.get(this);if(Ge)Bt[Ge]&&Bt[Ge].stop&&ke(Bt[Ge]);else for(Ge in Bt)Bt[Ge]&&Bt[Ge].stop&&ou.test(Ge)&&ke(Bt[Ge]);for(Ge=Je.length;Ge--;)Je[Ge].elem===this&&(Z==null||Je[Ge].queue===Z)&&(Je[Ge].anim.stop(be),Ue=!1,Je.splice(Ge,1));(Ue||!be)&&E.dequeue(this,Z)})},finish:function(Z){return Z!==!1&&(Z=Z||"fx"),this.each(function(){var de,be=Le.get(this),ke=be[Z+"queue"],Ue=be[Z+"queueHooks"],Ge=E.timers,Je=ke?ke.length:0;for(be.finish=!0,E.queue(this,Z,[]),Ue&&Ue.stop&&Ue.stop.call(this,!0),de=Ge.length;de--;)Ge[de].elem===this&&Ge[de].queue===Z&&(Ge[de].anim.stop(!0),Ge.splice(de,1));for(de=0;de<Je;de++)ke[de]&&ke[de].finish&&ke[de].finish.call(this);delete be.finish})}}),E.each(["toggle","show","hide"],function(Z,de){var be=E.fn[de];E.fn[de]=function(ke,Ue,Ge){return ke==null||typeof ke=="boolean"?be.apply(this,arguments):this.animate(nr(de,!0),ke,Ue,Ge)}}),E.each({slideDown:nr("show"),slideUp:nr("hide"),slideToggle:nr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(Z,de){E.fn[Z]=function(be,ke,Ue){return this.animate(de,be,ke,Ue)}}),E.timers=[],E.fx.tick=function(){var Z,de=0,be=E.timers;for(bc=Date.now();de<be.length;de++)Z=be[de],!Z()&&be[de]===Z&&be.splice(de--,1);be.length||E.fx.stop(),bc=void 0},E.fx.timer=function(Z){E.timers.push(Z),E.fx.start()},E.fx.interval=13,E.fx.start=function(){Po||(Po=!0,uo())},E.fx.stop=function(){Po=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(Z,de){return Z=E.fx&&E.fx.speeds[Z]||Z,de=de||"fx",this.queue(de,function(be,ke){var Ue=t.setTimeout(be,Z);ke.stop=function(){t.clearTimeout(Ue)}})},function(){var Z=M.createElement("input"),de=M.createElement("select"),be=de.appendChild(M.createElement("option"));Z.type="checkbox",L.checkOn=Z.value!=="",L.optSelected=be.selected,Z=M.createElement("input"),Z.value="t",Z.type="radio",L.radioValue=Z.value==="t"}();var wc,Ma=E.expr.attrHandle;E.fn.extend({attr:function(Z,de){return ne(this,E.attr,Z,de,arguments.length>1)},removeAttr:function(Z){return this.each(function(){E.removeAttr(this,Z)})}}),E.extend({attr:function(Z,de,be){var ke,Ue,Ge=Z.nodeType;if(!(Ge===3||Ge===8||Ge===2)){if(typeof Z.getAttribute>"u")return E.prop(Z,de,be);if((Ge!==1||!E.isXMLDoc(Z))&&(Ue=E.attrHooks[de.toLowerCase()]||(E.expr.match.bool.test(de)?wc:void 0)),be!==void 0){if(be===null){E.removeAttr(Z,de);return}return Ue&&"set"in Ue&&(ke=Ue.set(Z,be,de))!==void 0?ke:(Z.setAttribute(de,be+""),be)}return Ue&&"get"in Ue&&(ke=Ue.get(Z,de))!==null?ke:(ke=E.find.attr(Z,de),ke??void 0)}},attrHooks:{type:{set:function(Z,de){if(!L.radioValue&&de==="radio"&&x(Z,"input")){var be=Z.value;return Z.setAttribute("type",de),be&&(Z.value=be),de}}}},removeAttr:function(Z,de){var be,ke=0,Ue=de&&de.match(ce);if(Ue&&Z.nodeType===1)for(;be=Ue[ke++];)Z.removeAttribute(be)}}),wc={set:function(Z,de,be){return de===!1?E.removeAttr(Z,be):Z.setAttribute(be,be),be}},E.each(E.expr.match.bool.source.match(/\w+/g),function(Z,de){var be=Ma[de]||E.find.attr;Ma[de]=function(ke,Ue,Ge){var Je,Bt,Et=Ue.toLowerCase();return Ge||(Bt=Ma[Et],Ma[Et]=Je,Je=be(ke,Ue,Ge)!=null?Et:null,Ma[Et]=Bt),Je}});var sl=/^(?:input|select|textarea|button)$/i,Qs=/^(?:a|area)$/i;E.fn.extend({prop:function(Z,de){return ne(this,E.prop,Z,de,arguments.length>1)},removeProp:function(Z){return this.each(function(){delete this[E.propFix[Z]||Z]})}}),E.extend({prop:function(Z,de,be){var ke,Ue,Ge=Z.nodeType;if(!(Ge===3||Ge===8||Ge===2))return(Ge!==1||!E.isXMLDoc(Z))&&(de=E.propFix[de]||de,Ue=E.propHooks[de]),be!==void 0?Ue&&"set"in Ue&&(ke=Ue.set(Z,be,de))!==void 0?ke:Z[de]=be:Ue&&"get"in Ue&&(ke=Ue.get(Z,de))!==null?ke:Z[de]},propHooks:{tabIndex:{get:function(Z){var de=E.find.attr(Z,"tabindex");return de?parseInt(de,10):sl.test(Z.nodeName)||Qs.test(Z.nodeName)&&Z.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),L.optSelected||(E.propHooks.selected={get:function(Z){var de=Z.parentNode;return de&&de.parentNode&&de.parentNode.selectedIndex,null},set:function(Z){var de=Z.parentNode;de&&(de.selectedIndex,de.parentNode&&de.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function Gr(Z){var de=Z.match(ce)||[];return de.join(" ")}function ho(Z){return Z.getAttribute&&Z.getAttribute("class")||""}function Ho(Z){return Array.isArray(Z)?Z:typeof Z=="string"?Z.match(ce)||[]:[]}E.fn.extend({addClass:function(Z){var de,be,ke,Ue,Ge,Je;return O(Z)?this.each(function(Bt){E(this).addClass(Z.call(this,Bt,ho(this)))}):(de=Ho(Z),de.length?this.each(function(){if(ke=ho(this),be=this.nodeType===1&&" "+Gr(ke)+" ",be){for(Ge=0;Ge<de.length;Ge++)Ue=de[Ge],be.indexOf(" "+Ue+" ")<0&&(be+=Ue+" ");Je=Gr(be),ke!==Je&&this.setAttribute("class",Je)}}):this)},removeClass:function(Z){var de,be,ke,Ue,Ge,Je;return O(Z)?this.each(function(Bt){E(this).removeClass(Z.call(this,Bt,ho(this)))}):arguments.length?(de=Ho(Z),de.length?this.each(function(){if(ke=ho(this),be=this.nodeType===1&&" "+Gr(ke)+" ",be){for(Ge=0;Ge<de.length;Ge++)for(Ue=de[Ge];be.indexOf(" "+Ue+" ")>-1;)be=be.replace(" "+Ue+" "," ");Je=Gr(be),ke!==Je&&this.setAttribute("class",Je)}}):this):this.attr("class","")},toggleClass:function(Z,de){var be,ke,Ue,Ge,Je=typeof Z,Bt=Je==="string"||Array.isArray(Z);return O(Z)?this.each(function(Et){E(this).toggleClass(Z.call(this,Et,ho(this),de),de)}):typeof de=="boolean"&&Bt?de?this.addClass(Z):this.removeClass(Z):(be=Ho(Z),this.each(function(){if(Bt)for(Ge=E(this),Ue=0;Ue<be.length;Ue++)ke=be[Ue],Ge.hasClass(ke)?Ge.removeClass(ke):Ge.addClass(ke);else(Z===void 0||Je==="boolean")&&(ke=ho(this),ke&&Le.set(this,"__className__",ke),this.setAttribute&&this.setAttribute("class",ke||Z===!1?"":Le.get(this,"__className__")||""))}))},hasClass:function(Z){var de,be,ke=0;for(de=" "+Z+" ";be=this[ke++];)if(be.nodeType===1&&(" "+Gr(ho(be))+" ").indexOf(de)>-1)return!0;return!1}});var ql=/\r/g;E.fn.extend({val:function(Z){var de,be,ke,Ue=this[0];return arguments.length?(ke=O(Z),this.each(function(Ge){var Je;this.nodeType===1&&(ke?Je=Z.call(this,Ge,E(this).val()):Je=Z,Je==null?Je="":typeof Je=="number"?Je+="":Array.isArray(Je)&&(Je=E.map(Je,function(Bt){return Bt==null?"":Bt+""})),de=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!de||!("set"in de)||de.set(this,Je,"value")===void 0)&&(this.value=Je))})):Ue?(de=E.valHooks[Ue.type]||E.valHooks[Ue.nodeName.toLowerCase()],de&&"get"in de&&(be=de.get(Ue,"value"))!==void 0?be:(be=Ue.value,typeof be=="string"?be.replace(ql,""):be??"")):void 0}}),E.extend({valHooks:{option:{get:function(Z){var de=E.find.attr(Z,"value");return de??Gr(E.text(Z))}},select:{get:function(Z){var de,be,ke,Ue=Z.options,Ge=Z.selectedIndex,Je=Z.type==="select-one",Bt=Je?null:[],Et=Je?Ge+1:Ue.length;for(Ge<0?ke=Et:ke=Je?Ge:0;ke<Et;ke++)if(be=Ue[ke],(be.selected||ke===Ge)&&!be.disabled&&(!be.parentNode.disabled||!x(be.parentNode,"optgroup"))){if(de=E(be).val(),Je)return de;Bt.push(de)}return Bt},set:function(Z,de){for(var be,ke,Ue=Z.options,Ge=E.makeArray(de),Je=Ue.length;Je--;)ke=Ue[Je],(ke.selected=E.inArray(E.valHooks.option.get(ke),Ge)>-1)&&(be=!0);return be||(Z.selectedIndex=-1),Ge}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(Z,de){if(Array.isArray(de))return Z.checked=E.inArray(E(Z).val(),de)>-1}},L.checkOn||(E.valHooks[this].get=function(Z){return Z.getAttribute("value")===null?"on":Z.value})}),L.focusin="onfocusin"in t;var ma=/^(?:focusinfocus|focusoutblur)$/,vl=function(Z){Z.stopPropagation()};E.extend(E.event,{trigger:function(Z,de,be,ke){var Ue,Ge,Je,Bt,Et,Kt,gi,ki,oi=[be||M],hi=k.call(Z,"type")?Z.type:Z,Zi=k.call(Z,"namespace")?Z.namespace.split("."):[];if(Ge=ki=Je=be=be||M,!(be.nodeType===3||be.nodeType===8)&&!ma.test(hi+E.event.triggered)&&(hi.indexOf(".")>-1&&(Zi=hi.split("."),hi=Zi.shift(),Zi.sort()),Et=hi.indexOf(":")<0&&"on"+hi,Z=Z[E.expando]?Z:new E.Event(hi,typeof Z=="object"&&Z),Z.isTrigger=ke?2:3,Z.namespace=Zi.join("."),Z.rnamespace=Z.namespace?new RegExp("(^|\\.)"+Zi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,Z.result=void 0,Z.target||(Z.target=be),de=de==null?[Z]:E.makeArray(de,[Z]),gi=E.event.special[hi]||{},!(!ke&&gi.trigger&&gi.trigger.apply(be,de)===!1))){if(!ke&&!gi.noBubble&&!G(be)){for(Bt=gi.delegateType||hi,ma.test(Bt+hi)||(Ge=Ge.parentNode);Ge;Ge=Ge.parentNode)oi.push(Ge),Je=Ge;Je===(be.ownerDocument||M)&&oi.push(Je.defaultView||Je.parentWindow||t)}for(Ue=0;(Ge=oi[Ue++])&&!Z.isPropagationStopped();)ki=Ge,Z.type=Ue>1?Bt:gi.bindType||hi,Kt=(Le.get(Ge,"events")||Object.create(null))[Z.type]&&Le.get(Ge,"handle"),Kt&&Kt.apply(Ge,de),Kt=Et&&Ge[Et],Kt&&Kt.apply&&Se(Ge)&&(Z.result=Kt.apply(Ge,de),Z.result===!1&&Z.preventDefault());return Z.type=hi,!ke&&!Z.isDefaultPrevented()&&(!gi._default||gi._default.apply(oi.pop(),de)===!1)&&Se(be)&&Et&&O(be[hi])&&!G(be)&&(Je=be[Et],Je&&(be[Et]=null),E.event.triggered=hi,Z.isPropagationStopped()&&ki.addEventListener(hi,vl),be[hi](),Z.isPropagationStopped()&&ki.removeEventListener(hi,vl),E.event.triggered=void 0,Je&&(be[Et]=Je)),Z.result}},simulate:function(Z,de,be){var ke=E.extend(new E.Event,be,{type:Z,isSimulated:!0});E.event.trigger(ke,null,de)}}),E.fn.extend({trigger:function(Z,de){return this.each(function(){E.event.trigger(Z,de,this)})},triggerHandler:function(Z,de){var be=this[0];if(be)return E.event.trigger(Z,de,be,!0)}}),L.focusin||E.each({focus:"focusin",blur:"focusout"},function(Z,de){var be=function(ke){E.event.simulate(de,ke.target,E.event.fix(ke))};E.event.special[de]={setup:function(){var ke=this.ownerDocument||this.document||this,Ue=Le.access(ke,de);Ue||ke.addEventListener(Z,be,!0),Le.access(ke,de,(Ue||0)+1)},teardown:function(){var ke=this.ownerDocument||this.document||this,Ue=Le.access(ke,de)-1;Ue?Le.access(ke,de,Ue):(ke.removeEventListener(Z,be,!0),Le.remove(ke,de))}}});var xl=t.location,ol={guid:Date.now()},bl=/\?/;E.parseXML=function(Z){var de,be;if(!Z||typeof Z!="string")return null;try{de=new t.DOMParser().parseFromString(Z,"text/xml")}catch{}return be=de&&de.getElementsByTagName("parsererror")[0],(!de||be)&&E.error("Invalid XML: "+(be?E.map(be.childNodes,function(ke){return ke.textContent}).join(`
`):Z)),de};var Xc=/\[\]$/,Zc=/\r?\n/g,Bo=/^(?:submit|button|image|reset|file)$/i,Ps=/^(?:input|select|textarea|keygen)/i;function Xl(Z,de,be,ke){var Ue;if(Array.isArray(de))E.each(de,function(Ge,Je){be||Xc.test(Z)?ke(Z,Je):Xl(Z+"["+(typeof Je=="object"&&Je!=null?Ge:"")+"]",Je,be,ke)});else if(!be&&H(de)==="object")for(Ue in de)Xl(Z+"["+Ue+"]",de[Ue],be,ke);else ke(Z,de)}E.param=function(Z,de){var be,ke=[],Ue=function(Ge,Je){var Bt=O(Je)?Je():Je;ke[ke.length]=encodeURIComponent(Ge)+"="+encodeURIComponent(Bt??"")};if(Z==null)return"";if(Array.isArray(Z)||Z.jquery&&!E.isPlainObject(Z))E.each(Z,function(){Ue(this.name,this.value)});else for(be in Z)Xl(be,Z[be],de,Ue);return ke.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var Z=E.prop(this,"elements");return Z?E.makeArray(Z):this}).filter(function(){var Z=this.type;return this.name&&!E(this).is(":disabled")&&Ps.test(this.nodeName)&&!Bo.test(Z)&&(this.checked||!pt.test(Z))}).map(function(Z,de){var be=E(this).val();return be==null?null:Array.isArray(be)?E.map(be,function(ke){return{name:de.name,value:ke.replace(Zc,`\r
`)}}):{name:de.name,value:be.replace(Zc,`\r
`)}}).get()}});var al=/%20/g,eo=/#.*$/,ga=/([?&])_=[^&]*/,Du=/^(.*?):[ \t]*([^\r\n]*)$/mg,Sd=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ys=/^(?:GET|HEAD)$/,Zl=/^\/\//,Cd={},Kl={},to="*/".concat("*"),wl=M.createElement("a");wl.href=xl.href;function Ed(Z){return function(de,be){typeof de!="string"&&(be=de,de="*");var ke,Ue=0,Ge=de.toLowerCase().match(ce)||[];if(O(be))for(;ke=Ge[Ue++];)ke[0]==="+"?(ke=ke.slice(1)||"*",(Z[ke]=Z[ke]||[]).unshift(be)):(Z[ke]=Z[ke]||[]).push(be)}}function Ir(Z,de,be,ke){var Ue={},Ge=Z===Kl;function Je(Bt){var Et;return Ue[Bt]=!0,E.each(Z[Bt]||[],function(Kt,gi){var ki=gi(de,be,ke);if(typeof ki=="string"&&!Ge&&!Ue[ki])return de.dataTypes.unshift(ki),Je(ki),!1;if(Ge)return!(Et=ki)}),Et}return Je(de.dataTypes[0])||!Ue["*"]&&Je("*")}function Fr(Z,de){var be,ke,Ue=E.ajaxSettings.flatOptions||{};for(be in de)de[be]!==void 0&&((Ue[be]?Z:ke||(ke={}))[be]=de[be]);return ke&&E.extend(!0,Z,ke),Z}function Md(Z,de,be){for(var ke,Ue,Ge,Je,Bt=Z.contents,Et=Z.dataTypes;Et[0]==="*";)Et.shift(),ke===void 0&&(ke=Z.mimeType||de.getResponseHeader("Content-Type"));if(ke){for(Ue in Bt)if(Bt[Ue]&&Bt[Ue].test(ke)){Et.unshift(Ue);break}}if(Et[0]in be)Ge=Et[0];else{for(Ue in be){if(!Et[0]||Z.converters[Ue+" "+Et[0]]){Ge=Ue;break}Je||(Je=Ue)}Ge=Ge||Je}if(Ge)return Ge!==Et[0]&&Et.unshift(Ge),be[Ge]}function Iu(Z,de,be,ke){var Ue,Ge,Je,Bt,Et,Kt={},gi=Z.dataTypes.slice();if(gi[1])for(Je in Z.converters)Kt[Je.toLowerCase()]=Z.converters[Je];for(Ge=gi.shift();Ge;)if(Z.responseFields[Ge]&&(be[Z.responseFields[Ge]]=de),!Et&&ke&&Z.dataFilter&&(de=Z.dataFilter(de,Z.dataType)),Et=Ge,Ge=gi.shift(),Ge){if(Ge==="*")Ge=Et;else if(Et!=="*"&&Et!==Ge){if(Je=Kt[Et+" "+Ge]||Kt["* "+Ge],!Je){for(Ue in Kt)if(Bt=Ue.split(" "),Bt[1]===Ge&&(Je=Kt[Et+" "+Bt[0]]||Kt["* "+Bt[0]],Je)){Je===!0?Je=Kt[Ue]:Kt[Ue]!==!0&&(Ge=Bt[0],gi.unshift(Bt[1]));break}}if(Je!==!0)if(Je&&Z.throws)de=Je(de);else try{de=Je(de)}catch(ki){return{state:"parsererror",error:Je?ki:"No conversion from "+Et+" to "+Ge}}}}return{state:"success",data:de}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xl.href,type:"GET",isLocal:Sd.test(xl.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":to,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(Z,de){return de?Fr(Fr(Z,E.ajaxSettings),de):Fr(E.ajaxSettings,Z)},ajaxPrefilter:Ed(Cd),ajaxTransport:Ed(Kl),ajax:function(Z,de){typeof Z=="object"&&(de=Z,Z=void 0),de=de||{};var be,ke,Ue,Ge,Je,Bt,Et,Kt,gi,ki,oi=E.ajaxSetup({},de),hi=oi.context||oi,Zi=oi.context&&(hi.nodeType||hi.jquery)?E(hi):E.event,Zn=E.Deferred(),pn=E.Callbacks("once memory"),fs=oi.statusCode||{},Jr={},fr={},mr="canceled",Yn={readyState:0,getResponseHeader:function(yr){var Qr;if(Et){if(!Ge)for(Ge={};Qr=Du.exec(Ue);)Ge[Qr[1].toLowerCase()+" "]=(Ge[Qr[1].toLowerCase()+" "]||[]).concat(Qr[2]);Qr=Ge[yr.toLowerCase()+" "]}return Qr==null?null:Qr.join(", ")},getAllResponseHeaders:function(){return Et?Ue:null},setRequestHeader:function(yr,Qr){return Et==null&&(yr=fr[yr.toLowerCase()]=fr[yr.toLowerCase()]||yr,Jr[yr]=Qr),this},overrideMimeType:function(yr){return Et==null&&(oi.mimeType=yr),this},statusCode:function(yr){var Qr;if(yr)if(Et)Yn.always(yr[Yn.status]);else for(Qr in yr)fs[Qr]=[fs[Qr],yr[Qr]];return this},abort:function(yr){var Qr=yr||mr;return be&&be.abort(Qr),no(0,Qr),this}};if(Zn.promise(Yn),oi.url=((Z||oi.url||xl.href)+"").replace(Zl,xl.protocol+"//"),oi.type=de.method||de.type||oi.method||oi.type,oi.dataTypes=(oi.dataType||"*").toLowerCase().match(ce)||[""],oi.crossDomain==null){Bt=M.createElement("a");try{Bt.href=oi.url,Bt.href=Bt.href,oi.crossDomain=wl.protocol+"//"+wl.host!=Bt.protocol+"//"+Bt.host}catch{oi.crossDomain=!0}}if(oi.data&&oi.processData&&typeof oi.data!="string"&&(oi.data=E.param(oi.data,oi.traditional)),Ir(Cd,oi,de,Yn),Et)return Yn;Kt=E.event&&oi.global,Kt&&E.active++===0&&E.event.trigger("ajaxStart"),oi.type=oi.type.toUpperCase(),oi.hasContent=!Ys.test(oi.type),ke=oi.url.replace(eo,""),oi.hasContent?oi.data&&oi.processData&&(oi.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(oi.data=oi.data.replace(al,"+")):(ki=oi.url.slice(ke.length),oi.data&&(oi.processData||typeof oi.data=="string")&&(ke+=(bl.test(ke)?"&":"?")+oi.data,delete oi.data),oi.cache===!1&&(ke=ke.replace(ga,"$1"),ki=(bl.test(ke)?"&":"?")+"_="+ol.guid+++ki),oi.url=ke+ki),oi.ifModified&&(E.lastModified[ke]&&Yn.setRequestHeader("If-Modified-Since",E.lastModified[ke]),E.etag[ke]&&Yn.setRequestHeader("If-None-Match",E.etag[ke])),(oi.data&&oi.hasContent&&oi.contentType!==!1||de.contentType)&&Yn.setRequestHeader("Content-Type",oi.contentType),Yn.setRequestHeader("Accept",oi.dataTypes[0]&&oi.accepts[oi.dataTypes[0]]?oi.accepts[oi.dataTypes[0]]+(oi.dataTypes[0]!=="*"?", "+to+"; q=0.01":""):oi.accepts["*"]);for(gi in oi.headers)Yn.setRequestHeader(gi,oi.headers[gi]);if(oi.beforeSend&&(oi.beforeSend.call(hi,Yn,oi)===!1||Et))return Yn.abort();if(mr="abort",pn.add(oi.complete),Yn.done(oi.success),Yn.fail(oi.error),be=Ir(Kl,oi,de,Yn),!be)no(-1,"No Transport");else{if(Yn.readyState=1,Kt&&Zi.trigger("ajaxSend",[Yn,oi]),Et)return Yn;oi.async&&oi.timeout>0&&(Je=t.setTimeout(function(){Yn.abort("timeout")},oi.timeout));try{Et=!1,be.send(Jr,no)}catch(yr){if(Et)throw yr;no(-1,yr)}}function no(yr,Qr,Ya,Ql){var ro,na,Jn,_o,ra,zo=Qr;Et||(Et=!0,Je&&t.clearTimeout(Je),be=void 0,Ue=Ql||"",Yn.readyState=yr>0?4:0,ro=yr>=200&&yr<300||yr===304,Ya&&(_o=Md(oi,Yn,Ya)),!ro&&E.inArray("script",oi.dataTypes)>-1&&E.inArray("json",oi.dataTypes)<0&&(oi.converters["text script"]=function(){}),_o=Iu(oi,_o,Yn,ro),ro?(oi.ifModified&&(ra=Yn.getResponseHeader("Last-Modified"),ra&&(E.lastModified[ke]=ra),ra=Yn.getResponseHeader("etag"),ra&&(E.etag[ke]=ra)),yr===204||oi.type==="HEAD"?zo="nocontent":yr===304?zo="notmodified":(zo=_o.state,na=_o.data,Jn=_o.error,ro=!Jn)):(Jn=zo,(yr||!zo)&&(zo="error",yr<0&&(yr=0))),Yn.status=yr,Yn.statusText=(Qr||zo)+"",ro?Zn.resolveWith(hi,[na,zo,Yn]):Zn.rejectWith(hi,[Yn,zo,Jn]),Yn.statusCode(fs),fs=void 0,Kt&&Zi.trigger(ro?"ajaxSuccess":"ajaxError",[Yn,oi,ro?na:Jn]),pn.fireWith(hi,[Yn,zo]),Kt&&(Zi.trigger("ajaxComplete",[Yn,oi]),--E.active||E.event.trigger("ajaxStop")))}return Yn},getJSON:function(Z,de,be){return E.get(Z,de,be,"json")},getScript:function(Z,de){return E.get(Z,void 0,de,"script")}}),E.each(["get","post"],function(Z,de){E[de]=function(be,ke,Ue,Ge){return O(ke)&&(Ge=Ge||Ue,Ue=ke,ke=void 0),E.ajax(E.extend({url:be,type:de,dataType:Ge,data:ke,success:Ue},E.isPlainObject(be)&&be))}}),E.ajaxPrefilter(function(Z){var de;for(de in Z.headers)de.toLowerCase()==="content-type"&&(Z.contentType=Z.headers[de]||"")}),E._evalUrl=function(Z,de,be){return E.ajax({url:Z,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ke){E.globalEval(ke,de,be)}})},E.fn.extend({wrapAll:function(Z){var de;return this[0]&&(O(Z)&&(Z=Z.call(this[0])),de=E(Z,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&de.insertBefore(this[0]),de.map(function(){for(var be=this;be.firstElementChild;)be=be.firstElementChild;return be}).append(this)),this},wrapInner:function(Z){return O(Z)?this.each(function(de){E(this).wrapInner(Z.call(this,de))}):this.each(function(){var de=E(this),be=de.contents();be.length?be.wrapAll(Z):de.append(Z)})},wrap:function(Z){var de=O(Z);return this.each(function(be){E(this).wrapAll(de?Z.call(this,be):Z)})},unwrap:function(Z){return this.parent(Z).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(Z){return!E.expr.pseudos.visible(Z)},E.expr.pseudos.visible=function(Z){return!!(Z.offsetWidth||Z.offsetHeight||Z.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var au={0:200,1223:204},ya=E.ajaxSettings.xhr();L.cors=!!ya&&"withCredentials"in ya,L.ajax=ya=!!ya,E.ajaxTransport(function(Z){var de,be;if(L.cors||ya&&!Z.crossDomain)return{send:function(ke,Ue){var Ge,Je=Z.xhr();if(Je.open(Z.type,Z.url,Z.async,Z.username,Z.password),Z.xhrFields)for(Ge in Z.xhrFields)Je[Ge]=Z.xhrFields[Ge];Z.mimeType&&Je.overrideMimeType&&Je.overrideMimeType(Z.mimeType),!Z.crossDomain&&!ke["X-Requested-With"]&&(ke["X-Requested-With"]="XMLHttpRequest");for(Ge in ke)Je.setRequestHeader(Ge,ke[Ge]);de=function(Bt){return function(){de&&(de=be=Je.onload=Je.onerror=Je.onabort=Je.ontimeout=Je.onreadystatechange=null,Bt==="abort"?Je.abort():Bt==="error"?typeof Je.status!="number"?Ue(0,"error"):Ue(Je.status,Je.statusText):Ue(au[Je.status]||Je.status,Je.statusText,(Je.responseType||"text")!=="text"||typeof Je.responseText!="string"?{binary:Je.response}:{text:Je.responseText},Je.getAllResponseHeaders()))}},Je.onload=de(),be=Je.onerror=Je.ontimeout=de("error"),Je.onabort!==void 0?Je.onabort=be:Je.onreadystatechange=function(){Je.readyState===4&&t.setTimeout(function(){de&&be()})},de=de("abort");try{Je.send(Z.hasContent&&Z.data||null)}catch(Bt){if(de)throw Bt}},abort:function(){de&&de()}}}),E.ajaxPrefilter(function(Z){Z.crossDomain&&(Z.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(Z){return E.globalEval(Z),Z}}}),E.ajaxPrefilter("script",function(Z){Z.cache===void 0&&(Z.cache=!1),Z.crossDomain&&(Z.type="GET")}),E.ajaxTransport("script",function(Z){if(Z.crossDomain||Z.scriptAttrs){var de,be;return{send:function(ke,Ue){de=E("<script>").attr(Z.scriptAttrs||{}).prop({charset:Z.scriptCharset,src:Z.url}).on("load error",be=function(Ge){de.remove(),be=null,Ge&&Ue(Ge.type==="error"?404:200,Ge.type)}),M.head.appendChild(de[0])},abort:function(){be&&be()}}}});var Kc=[],kd=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var Z=Kc.pop()||E.expando+"_"+ol.guid++;return this[Z]=!0,Z}}),E.ajaxPrefilter("json jsonp",function(Z,de,be){var ke,Ue,Ge,Je=Z.jsonp!==!1&&(kd.test(Z.url)?"url":typeof Z.data=="string"&&(Z.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&kd.test(Z.data)&&"data");if(Je||Z.dataTypes[0]==="jsonp")return ke=Z.jsonpCallback=O(Z.jsonpCallback)?Z.jsonpCallback():Z.jsonpCallback,Je?Z[Je]=Z[Je].replace(kd,"$1"+ke):Z.jsonp!==!1&&(Z.url+=(bl.test(Z.url)?"&":"?")+Z.jsonp+"="+ke),Z.converters["script json"]=function(){return Ge||E.error(ke+" was not called"),Ge[0]},Z.dataTypes[0]="json",Ue=t[ke],t[ke]=function(){Ge=arguments},be.always(function(){Ue===void 0?E(t).removeProp(ke):t[ke]=Ue,Z[ke]&&(Z.jsonpCallback=de.jsonpCallback,Kc.push(ke)),Ge&&O(Ue)&&Ue(Ge[0]),Ge=Ue=void 0}),"script"}),L.createHTMLDocument=function(){var Z=M.implementation.createHTMLDocument("").body;return Z.innerHTML="<form></form><form></form>",Z.childNodes.length===2}(),E.parseHTML=function(Z,de,be){if(typeof Z!="string")return[];typeof de=="boolean"&&(be=de,de=!1);var ke,Ue,Ge;return de||(L.createHTMLDocument?(de=M.implementation.createHTMLDocument(""),ke=de.createElement("base"),ke.href=M.location.href,de.head.appendChild(ke)):de=M),Ue=P.exec(Z),Ge=!be&&[],Ue?[de.createElement(Ue[1])]:(Ue=ui([Z],de,Ge),Ge&&Ge.length&&E(Ge).remove(),E.merge([],Ue.childNodes))},E.fn.load=function(Z,de,be){var ke,Ue,Ge,Je=this,Bt=Z.indexOf(" ");return Bt>-1&&(ke=Gr(Z.slice(Bt)),Z=Z.slice(0,Bt)),O(de)?(be=de,de=void 0):de&&typeof de=="object"&&(Ue="POST"),Je.length>0&&E.ajax({url:Z,type:Ue||"GET",dataType:"html",data:de}).done(function(Et){Ge=arguments,Je.html(ke?E("<div>").append(E.parseHTML(Et)).find(ke):Et)}).always(be&&function(Et,Kt){Je.each(function(){be.apply(this,Ge||[Et.responseText,Kt,Et])})}),this},E.expr.pseudos.animated=function(Z){return E.grep(E.timers,function(de){return Z===de.elem}).length},E.offset={setOffset:function(Z,de,be){var ke,Ue,Ge,Je,Bt,Et,Kt,gi=E.css(Z,"position"),ki=E(Z),oi={};gi==="static"&&(Z.style.position="relative"),Bt=ki.offset(),Ge=E.css(Z,"top"),Et=E.css(Z,"left"),Kt=(gi==="absolute"||gi==="fixed")&&(Ge+Et).indexOf("auto")>-1,Kt?(ke=ki.position(),Je=ke.top,Ue=ke.left):(Je=parseFloat(Ge)||0,Ue=parseFloat(Et)||0),O(de)&&(de=de.call(Z,be,E.extend({},Bt))),de.top!=null&&(oi.top=de.top-Bt.top+Je),de.left!=null&&(oi.left=de.left-Bt.left+Ue),"using"in de?de.using.call(Z,oi):ki.css(oi)}},E.fn.extend({offset:function(Z){if(arguments.length)return Z===void 0?this:this.each(function(Ue){E.offset.setOffset(this,Z,Ue)});var de,be,ke=this[0];if(ke)return ke.getClientRects().length?(de=ke.getBoundingClientRect(),be=ke.ownerDocument.defaultView,{top:de.top+be.pageYOffset,left:de.left+be.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var Z,de,be,ke=this[0],Ue={top:0,left:0};if(E.css(ke,"position")==="fixed")de=ke.getBoundingClientRect();else{for(de=this.offset(),be=ke.ownerDocument,Z=ke.offsetParent||be.documentElement;Z&&(Z===be.body||Z===be.documentElement)&&E.css(Z,"position")==="static";)Z=Z.parentNode;Z&&Z!==ke&&Z.nodeType===1&&(Ue=E(Z).offset(),Ue.top+=E.css(Z,"borderTopWidth",!0),Ue.left+=E.css(Z,"borderLeftWidth",!0))}return{top:de.top-Ue.top-E.css(ke,"marginTop",!0),left:de.left-Ue.left-E.css(ke,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var Z=this.offsetParent;Z&&E.css(Z,"position")==="static";)Z=Z.offsetParent;return Z||Ke})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(Z,de){var be=de==="pageYOffset";E.fn[Z]=function(ke){return ne(this,function(Ue,Ge,Je){var Bt;if(G(Ue)?Bt=Ue:Ue.nodeType===9&&(Bt=Ue.defaultView),Je===void 0)return Bt?Bt[de]:Ue[Ge];Bt?Bt.scrollTo(be?Bt.pageXOffset:Je,be?Je:Bt.pageYOffset):Ue[Ge]=Je},Z,ke,arguments.length)}}),E.each(["top","left"],function(Z,de){E.cssHooks[de]=Wi(L.pixelPosition,function(be,ke){if(ke)return ke=hn(be,de),zt.test(ke)?E(be).position()[de]+"px":ke})}),E.each({Height:"height",Width:"width"},function(Z,de){E.each({padding:"inner"+Z,content:de,"":"outer"+Z},function(be,ke){E.fn[ke]=function(Ue,Ge){var Je=arguments.length&&(be||typeof Ue!="boolean"),Bt=be||(Ue===!0||Ge===!0?"margin":"border");return ne(this,function(Et,Kt,gi){var ki;return G(Et)?ke.indexOf("outer")===0?Et["inner"+Z]:Et.document.documentElement["client"+Z]:Et.nodeType===9?(ki=Et.documentElement,Math.max(Et.body["scroll"+Z],ki["scroll"+Z],Et.body["offset"+Z],ki["offset"+Z],ki["client"+Z])):gi===void 0?E.css(Et,Kt,Bt):E.style(Et,Kt,gi,Bt)},de,Je?Ue:void 0,Je)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(Z,de){E.fn[de]=function(be){return this.on(de,be)}}),E.fn.extend({bind:function(Z,de,be){return this.on(Z,null,de,be)},unbind:function(Z,de){return this.off(Z,null,de)},delegate:function(Z,de,be,ke){return this.on(de,Z,be,ke)},undelegate:function(Z,de,be){return arguments.length===1?this.off(Z,"**"):this.off(de,Z||"**",be)},hover:function(Z,de){return this.mouseenter(Z).mouseleave(de||Z)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(Z,de){E.fn[de]=function(be,ke){return arguments.length>0?this.on(de,null,be,ke):this.trigger(de)}});var Jl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(Z,de){var be,ke,Ue;if(typeof de=="string"&&(be=Z[de],de=Z,Z=be),!!O(Z))return ke=d.call(arguments,2),Ue=function(){return Z.apply(de||this,ke.concat(d.call(arguments)))},Ue.guid=Z.guid=Z.guid||E.guid++,Ue},E.holdReady=function(Z){Z?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=x,E.isFunction=O,E.isWindow=G,E.camelCase=ye,E.type=H,E.now=Date.now,E.isNumeric=function(Z){var de=E.type(Z);return(de==="number"||de==="string")&&!isNaN(Z-parseFloat(Z))},E.trim=function(Z){return Z==null?"":(Z+"").replace(Jl,"$1")};var ia=t.jQuery,qs=t.$;return E.noConflict=function(Z){return t.$===E&&(t.$=qs),Z&&t.jQuery===E&&(t.jQuery=ia),E},typeof i>"u"&&(t.jQuery=t.$=E),E})})(gM);var sP=gM.exports;const oP=tu(sP);function yM(e,t){return function(){return e.apply(t,arguments)}}const{toString:_M}=Object.prototype,{getPrototypeOf:VT}=Object,GT=(e=>t=>{const i=_M.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),cp=e=>(e=e.toLowerCase(),t=>GT(t)===e),gb=e=>t=>typeof t===e,{isArray:jg}=Array,Hy=gb("undefined");function aP(e){return e!==null&&!Hy(e)&&e.constructor!==null&&!Hy(e.constructor)&&H0(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vM=cp("ArrayBuffer");function lP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vM(e.buffer),t}const cP=gb("string"),H0=gb("function"),xM=gb("number"),HT=e=>e!==null&&typeof e=="object",dP=e=>e===!0||e===!1,_x=e=>{if(GT(e)!=="object")return!1;const t=VT(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uP=cp("Date"),hP=cp("File"),pP=cp("Blob"),fP=cp("FileList"),mP=e=>HT(e)&&H0(e.pipe),gP=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||_M.call(e)===t||H0(e.toString)&&e.toString()===t)},yP=cp("URLSearchParams"),_P=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function c_(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),jg(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const d=i?Object.getOwnPropertyNames(e):Object.keys(e),h=d.length;let s;for(r=0;r<h;r++)s=d[r],t.call(null,e[s],s,e)}}function bM(e,t){t=t.toLowerCase();const i=Object.keys(e);let r=i.length,o;for(;r-- >0;)if(o=i[r],t===o.toLowerCase())return o;return null}const wM=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),TM=e=>!Hy(e)&&e!==wM;function Y3(){const{caseless:e}=TM(this)&&this||{},t={},i=(r,o)=>{const d=e&&bM(t,o)||o;_x(t[d])&&_x(r)?t[d]=Y3(t[d],r):_x(r)?t[d]=Y3({},r):jg(r)?t[d]=r.slice():t[d]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&c_(arguments[r],i);return t}const vP=(e,t,i,{allOwnKeys:r}={})=>(c_(t,(o,d)=>{i&&H0(o)?e[d]=yM(o,i):e[d]=o},{allOwnKeys:r}),e),xP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bP=(e,t,i,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},wP=(e,t,i,r)=>{let o,d,h;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),d=o.length;d-- >0;)h=o[d],(!r||r(h,e,t))&&!s[h]&&(t[h]=e[h],s[h]=!0);e=i!==!1&&VT(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},TP=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const r=e.indexOf(t,i);return r!==-1&&r===i},SP=e=>{if(!e)return null;if(jg(e))return e;let t=e.length;if(!xM(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},CP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&VT(Uint8Array)),EP=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const d=o.value;t.call(e,d[0],d[1])}},MP=(e,t)=>{let i;const r=[];for(;(i=e.exec(t))!==null;)r.push(i);return r},kP=cp("HTMLFormElement"),AP=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(i,r,o){return r.toUpperCase()+o}),i5=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),PP=cp("RegExp"),SM=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),r={};c_(i,(o,d)=>{t(o,d,e)!==!1&&(r[d]=o)}),Object.defineProperties(e,r)},DP=e=>{SM(e,(t,i)=>{if(H0(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const r=e[i];if(H0(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},IP=(e,t)=>{const i={},r=o=>{o.forEach(d=>{i[d]=!0})};return jg(e)?r(e):r(String(e).split(t)),i},LP=()=>{},OP=(e,t)=>(e=+e,Number.isFinite(e)?e:t),RP=e=>{const t=new Array(10),i=(r,o)=>{if(HT(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const d=jg(r)?[]:{};return c_(r,(h,s)=>{const v=i(h,o+1);!Hy(v)&&(d[s]=v)}),t[o]=void 0,d}}return r};return i(e,0)},Fi={isArray:jg,isArrayBuffer:vM,isBuffer:aP,isFormData:gP,isArrayBufferView:lP,isString:cP,isNumber:xM,isBoolean:dP,isObject:HT,isPlainObject:_x,isUndefined:Hy,isDate:uP,isFile:hP,isBlob:pP,isRegExp:PP,isFunction:H0,isStream:mP,isURLSearchParams:yP,isTypedArray:CP,isFileList:fP,forEach:c_,merge:Y3,extend:vP,trim:_P,stripBOM:xP,inherits:bP,toFlatObject:wP,kindOf:GT,kindOfTest:cp,endsWith:TP,toArray:SP,forEachEntry:EP,matchAll:MP,isHTMLForm:kP,hasOwnProperty:i5,hasOwnProp:i5,reduceDescriptors:SM,freezeMethods:DP,toObjectSet:IP,toCamelCase:AP,noop:LP,toFiniteNumber:OP,findKey:bM,global:wM,isContextDefined:TM,toJSONObject:RP};function ws(e,t,i,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),r&&(this.request=r),o&&(this.response=o)}Fi.inherits(ws,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fi.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const CM=ws.prototype,EM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{EM[e]={value:e}});Object.defineProperties(ws,EM);Object.defineProperty(CM,"isAxiosError",{value:!0});ws.from=(e,t,i,r,o,d)=>{const h=Object.create(CM);return Fi.toFlatObject(e,h,function(v){return v!==Error.prototype},s=>s!=="isAxiosError"),ws.call(h,e.message,t,i,r,o),h.cause=e,h.name=e.name,d&&Object.assign(h,d),h};var BP=typeof self=="object"?self.FormData:window.FormData;const zP=tu(BP);function q3(e){return Fi.isPlainObject(e)||Fi.isArray(e)}function MM(e){return Fi.endsWith(e,"[]")?e.slice(0,-2):e}function n5(e,t,i){return e?e.concat(t).map(function(o,d){return o=MM(o),!i&&d?"["+o+"]":o}).join(i?".":""):t}function NP(e){return Fi.isArray(e)&&!e.some(q3)}const FP=Fi.toFlatObject(Fi,{},null,function(t){return/^is[A-Z]/.test(t)});function jP(e){return e&&Fi.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function yb(e,t,i){if(!Fi.isObject(e))throw new TypeError("target must be an object");t=t||new(zP||FormData),i=Fi.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,G){return!Fi.isUndefined(G[O])});const r=i.metaTokens,o=i.visitor||K,d=i.dots,h=i.indexes,v=(i.Blob||typeof Blob<"u"&&Blob)&&jP(t);if(!Fi.isFunction(o))throw new TypeError("visitor must be a function");function R(L){if(L===null)return"";if(Fi.isDate(L))return L.toISOString();if(!v&&Fi.isBlob(L))throw new ws("Blob is not supported. Use a Buffer instead.");return Fi.isArrayBuffer(L)||Fi.isTypedArray(L)?v&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function K(L,O,G){let M=L;if(L&&!G&&typeof L=="object"){if(Fi.endsWith(O,"{}"))O=r?O:O.slice(0,-2),L=JSON.stringify(L);else if(Fi.isArray(L)&&NP(L)||Fi.isFileList(L)||Fi.endsWith(O,"[]")&&(M=Fi.toArray(L)))return O=MM(O),M.forEach(function(D,H){!(Fi.isUndefined(D)||D===null)&&t.append(h===!0?n5([O],H,d):h===null?O:O+"[]",R(D))}),!1}return q3(L)?!0:(t.append(n5(G,O,d),R(L)),!1)}const k=[],z=Object.assign(FP,{defaultVisitor:K,convertValue:R,isVisitable:q3});function q(L,O){if(!Fi.isUndefined(L)){if(k.indexOf(L)!==-1)throw Error("Circular reference detected in "+O.join("."));k.push(L),Fi.forEach(L,function(M,S){(!(Fi.isUndefined(M)||M===null)&&o.call(t,M,Fi.isString(S)?S.trim():S,O,z))===!0&&q(M,O?O.concat(S):[S])}),k.pop()}}if(!Fi.isObject(e))throw new TypeError("data must be an object");return q(e),t}function r5(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function WT(e,t){this._pairs=[],e&&yb(e,this,t)}const kM=WT.prototype;kM.append=function(t,i){this._pairs.push([t,i])};kM.toString=function(t){const i=t?function(r){return t.call(this,r,r5)}:r5;return this._pairs.map(function(o){return i(o[0])+"="+i(o[1])},"").join("&")};function UP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AM(e,t,i){if(!t)return e;const r=i&&i.encode||UP,o=i&&i.serialize;let d;if(o?d=o(t,i):d=Fi.isURLSearchParams(t)?t.toString():new WT(t,i).toString(r),d){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class $P{constructor(){this.handlers=[]}use(t,i,r){return this.handlers.push({fulfilled:t,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Fi.forEach(this.handlers,function(r){r!==null&&t(r)})}}const s5=$P,PM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VP=typeof URLSearchParams<"u"?URLSearchParams:WT,GP=FormData,HP=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),WP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ah={isBrowser:!0,classes:{URLSearchParams:VP,FormData:GP,Blob},isStandardBrowserEnv:HP,isStandardBrowserWebWorkerEnv:WP,protocols:["http","https","file","blob","url","data"]};function YP(e,t){return yb(e,new ah.classes.URLSearchParams,Object.assign({visitor:function(i,r,o,d){return ah.isNode&&Fi.isBuffer(i)?(this.append(r,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},t))}function qP(e){return Fi.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function XP(e){const t={},i=Object.keys(e);let r;const o=i.length;let d;for(r=0;r<o;r++)d=i[r],t[d]=e[d];return t}function DM(e){function t(i,r,o,d){let h=i[d++];const s=Number.isFinite(+h),v=d>=i.length;return h=!h&&Fi.isArray(o)?o.length:h,v?(Fi.hasOwnProp(o,h)?o[h]=[o[h],r]:o[h]=r,!s):((!o[h]||!Fi.isObject(o[h]))&&(o[h]=[]),t(i,r,o[h],d)&&Fi.isArray(o[h])&&(o[h]=XP(o[h])),!s)}if(Fi.isFormData(e)&&Fi.isFunction(e.entries)){const i={};return Fi.forEachEntry(e,(r,o)=>{t(qP(r),o,i,0)}),i}return null}const ZP={"Content-Type":void 0};function KP(e,t,i){if(Fi.isString(e))try{return(t||JSON.parse)(e),Fi.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(e)}const _b={transitional:PM,adapter:["xhr","http"],transformRequest:[function(t,i){const r=i.getContentType()||"",o=r.indexOf("application/json")>-1,d=Fi.isObject(t);if(d&&Fi.isHTMLForm(t)&&(t=new FormData(t)),Fi.isFormData(t))return o&&o?JSON.stringify(DM(t)):t;if(Fi.isArrayBuffer(t)||Fi.isBuffer(t)||Fi.isStream(t)||Fi.isFile(t)||Fi.isBlob(t))return t;if(Fi.isArrayBufferView(t))return t.buffer;if(Fi.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(d){if(r.indexOf("application/x-www-form-urlencoded")>-1)return YP(t,this.formSerializer).toString();if((s=Fi.isFileList(t))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return yb(s?{"files[]":t}:t,v&&new v,this.formSerializer)}}return d||o?(i.setContentType("application/json",!1),KP(t)):t}],transformResponse:[function(t){const i=this.transitional||_b.transitional,r=i&&i.forcedJSONParsing,o=this.responseType==="json";if(t&&Fi.isString(t)&&(r&&!this.responseType||o)){const h=!(i&&i.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(s){if(h)throw s.name==="SyntaxError"?ws.from(s,ws.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ah.classes.FormData,Blob:ah.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Fi.forEach(["delete","get","head"],function(t){_b.headers[t]={}});Fi.forEach(["post","put","patch"],function(t){_b.headers[t]=Fi.merge(ZP)});const YT=_b,JP=Fi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QP=e=>{const t={};let i,r,o;return e&&e.split(`
`).forEach(function(h){o=h.indexOf(":"),i=h.substring(0,o).trim().toLowerCase(),r=h.substring(o+1).trim(),!(!i||t[i]&&JP[i])&&(i==="set-cookie"?t[i]?t[i].push(r):t[i]=[r]:t[i]=t[i]?t[i]+", "+r:r)}),t},o5=Symbol("internals");function wy(e){return e&&String(e).trim().toLowerCase()}function vx(e){return e===!1||e==null?e:Fi.isArray(e)?e.map(vx):String(e)}function eD(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=i.exec(e);)t[r[1]]=r[2];return t}function tD(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function a5(e,t,i,r){if(Fi.isFunction(r))return r.call(this,t,i);if(Fi.isString(t)){if(Fi.isString(r))return t.indexOf(r)!==-1;if(Fi.isRegExp(r))return r.test(t)}}function iD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,r)=>i.toUpperCase()+r)}function nD(e,t){const i=Fi.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+i,{value:function(o,d,h){return this[r].call(this,t,o,d,h)},configurable:!0})})}class vb{constructor(t){t&&this.set(t)}set(t,i,r){const o=this;function d(s,v,R){const K=wy(v);if(!K)throw new Error("header name must be a non-empty string");const k=Fi.findKey(o,K);(!k||o[k]===void 0||R===!0||R===void 0&&o[k]!==!1)&&(o[k||v]=vx(s))}const h=(s,v)=>Fi.forEach(s,(R,K)=>d(R,K,v));return Fi.isPlainObject(t)||t instanceof this.constructor?h(t,i):Fi.isString(t)&&(t=t.trim())&&!tD(t)?h(QP(t),i):t!=null&&d(i,t,r),this}get(t,i){if(t=wy(t),t){const r=Fi.findKey(this,t);if(r){const o=this[r];if(!i)return o;if(i===!0)return eD(o);if(Fi.isFunction(i))return i.call(this,o,r);if(Fi.isRegExp(i))return i.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=wy(t),t){const r=Fi.findKey(this,t);return!!(r&&(!i||a5(this,this[r],r,i)))}return!1}delete(t,i){const r=this;let o=!1;function d(h){if(h=wy(h),h){const s=Fi.findKey(r,h);s&&(!i||a5(r,r[s],s,i))&&(delete r[s],o=!0)}}return Fi.isArray(t)?t.forEach(d):d(t),o}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const i=this,r={};return Fi.forEach(this,(o,d)=>{const h=Fi.findKey(r,d);if(h){i[h]=vx(o),delete i[d];return}const s=t?iD(d):String(d).trim();s!==d&&delete i[d],i[s]=vx(o),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return Fi.forEach(this,(r,o)=>{r!=null&&r!==!1&&(i[o]=t&&Fi.isArray(r)?r.join(", "):r)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const r=new this(t);return i.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[o5]=this[o5]={accessors:{}}).accessors,o=this.prototype;function d(h){const s=wy(h);r[s]||(nD(o,h),r[s]=!0)}return Fi.isArray(t)?t.forEach(d):d(t),this}}vb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Fi.freezeMethods(vb.prototype);Fi.freezeMethods(vb);const tp=vb;function i3(e,t){const i=this||YT,r=t||i,o=tp.from(r.headers);let d=r.data;return Fi.forEach(e,function(s){d=s.call(i,d,o.normalize(),t?t.status:void 0)}),o.normalize(),d}function IM(e){return!!(e&&e.__CANCEL__)}function d_(e,t,i){ws.call(this,e??"canceled",ws.ERR_CANCELED,t,i),this.name="CanceledError"}Fi.inherits(d_,ws,{__CANCEL__:!0});const rD=null;function sD(e,t,i){const r=i.config.validateStatus;!i.status||!r||r(i.status)?e(i):t(new ws("Request failed with status code "+i.status,[ws.ERR_BAD_REQUEST,ws.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const oD=ah.isStandardBrowserEnv?function(){return{write:function(i,r,o,d,h,s){const v=[];v.push(i+"="+encodeURIComponent(r)),Fi.isNumber(o)&&v.push("expires="+new Date(o).toGMTString()),Fi.isString(d)&&v.push("path="+d),Fi.isString(h)&&v.push("domain="+h),s===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(i){const r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function aD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function lD(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function LM(e,t){return e&&!aD(t)?lD(e,t):t}const cD=ah.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let r;function o(d){let h=d;return t&&(i.setAttribute("href",h),h=i.href),i.setAttribute("href",h),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=o(window.location.href),function(h){const s=Fi.isString(h)?o(h):h;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();function dD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uD(e,t){e=e||10;const i=new Array(e),r=new Array(e);let o=0,d=0,h;return t=t!==void 0?t:1e3,function(v){const R=Date.now(),K=r[d];h||(h=R),i[o]=v,r[o]=R;let k=d,z=0;for(;k!==o;)z+=i[k++],k=k%e;if(o=(o+1)%e,o===d&&(d=(d+1)%e),R-h<t)return;const q=K&&R-K;return q?Math.round(z*1e3/q):void 0}}function l5(e,t){let i=0;const r=uD(50,250);return o=>{const d=o.loaded,h=o.lengthComputable?o.total:void 0,s=d-i,v=r(s),R=d<=h;i=d;const K={loaded:d,total:h,progress:h?d/h:void 0,bytes:s,rate:v||void 0,estimated:v&&h&&R?(h-d)/v:void 0,event:o};K[t?"download":"upload"]=!0,e(K)}}const hD=typeof XMLHttpRequest<"u",pD=hD&&function(e){return new Promise(function(i,r){let o=e.data;const d=tp.from(e.headers).normalize(),h=e.responseType;let s;function v(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}Fi.isFormData(o)&&(ah.isStandardBrowserEnv||ah.isStandardBrowserWebWorkerEnv)&&d.setContentType(!1);let R=new XMLHttpRequest;if(e.auth){const q=e.auth.username||"",L=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.set("Authorization","Basic "+btoa(q+":"+L))}const K=LM(e.baseURL,e.url);R.open(e.method.toUpperCase(),AM(K,e.params,e.paramsSerializer),!0),R.timeout=e.timeout;function k(){if(!R)return;const q=tp.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:q,config:e,request:R};sD(function(M){i(M),v()},function(M){r(M),v()},O),R=null}if("onloadend"in R?R.onloadend=k:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(k)},R.onabort=function(){R&&(r(new ws("Request aborted",ws.ECONNABORTED,e,R)),R=null)},R.onerror=function(){r(new ws("Network Error",ws.ERR_NETWORK,e,R)),R=null},R.ontimeout=function(){let L=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const O=e.transitional||PM;e.timeoutErrorMessage&&(L=e.timeoutErrorMessage),r(new ws(L,O.clarifyTimeoutError?ws.ETIMEDOUT:ws.ECONNABORTED,e,R)),R=null},ah.isStandardBrowserEnv){const q=(e.withCredentials||cD(K))&&e.xsrfCookieName&&oD.read(e.xsrfCookieName);q&&d.set(e.xsrfHeaderName,q)}o===void 0&&d.setContentType(null),"setRequestHeader"in R&&Fi.forEach(d.toJSON(),function(L,O){R.setRequestHeader(O,L)}),Fi.isUndefined(e.withCredentials)||(R.withCredentials=!!e.withCredentials),h&&h!=="json"&&(R.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&R.addEventListener("progress",l5(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&R.upload&&R.upload.addEventListener("progress",l5(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=q=>{R&&(r(!q||q.type?new d_(null,e,R):q),R.abort(),R=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const z=dD(K);if(z&&ah.protocols.indexOf(z)===-1){r(new ws("Unsupported protocol "+z+":",ws.ERR_BAD_REQUEST,e));return}R.send(o||null)})},xx={http:rD,xhr:pD};Fi.forEach(xx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const fD={getAdapter:e=>{e=Fi.isArray(e)?e:[e];const{length:t}=e;let i,r;for(let o=0;o<t&&(i=e[o],!(r=Fi.isString(i)?xx[i.toLowerCase()]:i));o++);if(!r)throw r===!1?new ws(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Fi.hasOwnProp(xx,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!Fi.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:xx};function n3(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new d_(null,e)}function c5(e){return n3(e),e.headers=tp.from(e.headers),e.data=i3.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),fD.getAdapter(e.adapter||YT.adapter)(e).then(function(r){return n3(e),r.data=i3.call(e,e.transformResponse,r),r.headers=tp.from(r.headers),r},function(r){return IM(r)||(n3(e),r&&r.response&&(r.response.data=i3.call(e,e.transformResponse,r.response),r.response.headers=tp.from(r.response.headers))),Promise.reject(r)})}const d5=e=>e instanceof tp?e.toJSON():e;function Mg(e,t){t=t||{};const i={};function r(R,K,k){return Fi.isPlainObject(R)&&Fi.isPlainObject(K)?Fi.merge.call({caseless:k},R,K):Fi.isPlainObject(K)?Fi.merge({},K):Fi.isArray(K)?K.slice():K}function o(R,K,k){if(Fi.isUndefined(K)){if(!Fi.isUndefined(R))return r(void 0,R,k)}else return r(R,K,k)}function d(R,K){if(!Fi.isUndefined(K))return r(void 0,K)}function h(R,K){if(Fi.isUndefined(K)){if(!Fi.isUndefined(R))return r(void 0,R)}else return r(void 0,K)}function s(R,K,k){if(k in t)return r(R,K);if(k in e)return r(void 0,R)}const v={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:s,headers:(R,K)=>o(d5(R),d5(K),!0)};return Fi.forEach(Object.keys(e).concat(Object.keys(t)),function(K){const k=v[K]||o,z=k(e[K],t[K],K);Fi.isUndefined(z)&&k!==s||(i[K]=z)}),i}const OM="1.2.2",qT={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qT[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const u5={};qT.transitional=function(t,i,r){function o(d,h){return"[Axios v"+OM+"] Transitional option '"+d+"'"+h+(r?". "+r:"")}return(d,h,s)=>{if(t===!1)throw new ws(o(h," has been removed"+(i?" in "+i:"")),ws.ERR_DEPRECATED);return i&&!u5[h]&&(u5[h]=!0,console.warn(o(h," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(d,h,s):!0}};function mD(e,t,i){if(typeof e!="object")throw new ws("options must be an object",ws.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const d=r[o],h=t[d];if(h){const s=e[d],v=s===void 0||h(s,d,e);if(v!==!0)throw new ws("option "+d+" must be "+v,ws.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ws("Unknown option "+d,ws.ERR_BAD_OPTION)}}const X3={assertOptions:mD,validators:qT},qp=X3.validators;class Rx{constructor(t){this.defaults=t,this.interceptors={request:new s5,response:new s5}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Mg(this.defaults,i);const{transitional:r,paramsSerializer:o,headers:d}=i;r!==void 0&&X3.assertOptions(r,{silentJSONParsing:qp.transitional(qp.boolean),forcedJSONParsing:qp.transitional(qp.boolean),clarifyTimeoutError:qp.transitional(qp.boolean)},!1),o!==void 0&&X3.assertOptions(o,{encode:qp.function,serialize:qp.function},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h;h=d&&Fi.merge(d.common,d[i.method]),h&&Fi.forEach(["delete","get","head","post","put","patch","common"],L=>{delete d[L]}),i.headers=tp.concat(h,d);const s=[];let v=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(i)===!1||(v=v&&O.synchronous,s.unshift(O.fulfilled,O.rejected))});const R=[];this.interceptors.response.forEach(function(O){R.push(O.fulfilled,O.rejected)});let K,k=0,z;if(!v){const L=[c5.bind(this),void 0];for(L.unshift.apply(L,s),L.push.apply(L,R),z=L.length,K=Promise.resolve(i);k<z;)K=K.then(L[k++],L[k++]);return K}z=s.length;let q=i;for(k=0;k<z;){const L=s[k++],O=s[k++];try{q=L(q)}catch(G){O.call(this,G);break}}try{K=c5.call(this,q)}catch(L){return Promise.reject(L)}for(k=0,z=R.length;k<z;)K=K.then(R[k++],R[k++]);return K}getUri(t){t=Mg(this.defaults,t);const i=LM(t.baseURL,t.url);return AM(i,t.params,t.paramsSerializer)}}Fi.forEach(["delete","get","head","options"],function(t){Rx.prototype[t]=function(i,r){return this.request(Mg(r||{},{method:t,url:i,data:(r||{}).data}))}});Fi.forEach(["post","put","patch"],function(t){function i(r){return function(d,h,s){return this.request(Mg(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}Rx.prototype[t]=i(),Rx.prototype[t+"Form"]=i(!0)});const bx=Rx;class XT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const r=this;this.promise.then(o=>{if(!r._listeners)return;let d=r._listeners.length;for(;d-- >0;)r._listeners[d](o);r._listeners=null}),this.promise.then=o=>{let d;const h=new Promise(s=>{r.subscribe(s),d=s}).then(o);return h.cancel=function(){r.unsubscribe(d)},h},t(function(d,h,s){r.reason||(r.reason=new d_(d,h,s),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new XT(function(o){t=o}),cancel:t}}}const gD=XT;function yD(e){return function(i){return e.apply(null,i)}}function _D(e){return Fi.isObject(e)&&e.isAxiosError===!0}const Z3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Z3).forEach(([e,t])=>{Z3[t]=e});const vD=Z3;function RM(e){const t=new bx(e),i=yM(bx.prototype.request,t);return Fi.extend(i,bx.prototype,t,{allOwnKeys:!0}),Fi.extend(i,t,null,{allOwnKeys:!0}),i.create=function(o){return RM(Mg(e,o))},i}const $a=RM(YT);$a.Axios=bx;$a.CanceledError=d_;$a.CancelToken=gD;$a.isCancel=IM;$a.VERSION=OM;$a.toFormData=yb;$a.AxiosError=ws;$a.Cancel=$a.CanceledError;$a.all=function(t){return Promise.all(t)};$a.spread=yD;$a.isAxiosError=_D;$a.mergeConfig=Mg;$a.AxiosHeaders=tp;$a.formToJSON=e=>DM(Fi.isHTMLForm(e)?new FormData(e):e);$a.HttpStatusCode=vD;$a.default=$a;const xD=$a;window._=mb;window.$=oP;window.axios=xD;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function Wc(e,t){const i=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)i[r[o]]=!0;return t?o=>!!i[o.toLowerCase()]:o=>!!i[o]}const bD="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",wD=Wc(bD);function $o(e){if(An(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],o=zr(r)?BM(r):$o(r);if(o)for(const d in o)t[d]=o[d]}return t}else{if(zr(e))return e;if(Zs(e))return e}}const TD=/;(?![^(]*\))/g,SD=/:([^]+)/,CD=/\/\*.*?\*\//gs;function BM(e){const t={};return e.replace(CD,"").split(TD).forEach(i=>{if(i){const r=i.split(SD);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ln(e){let t="";if(zr(e))t=e;else if(An(e))for(let i=0;i<e.length;i++){const r=Ln(e[i]);r&&(t+=r+" ")}else if(Zs(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function Ca(e){if(!e)return null;let{class:t,style:i}=e;return t&&!zr(t)&&(e.class=Ln(t)),i&&(e.style=$o(i)),e}const ED="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",MD="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",kD="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",AD=Wc(ED),PD=Wc(MD),DD=Wc(kD),ID="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",LD=Wc(ID);function zM(e){return!!e||e===""}function OD(e,t){if(e.length!==t.length)return!1;let i=!0;for(let r=0;i&&r<e.length;r++)i=pf(e[r],t[r]);return i}function pf(e,t){if(e===t)return!0;let i=h5(e),r=h5(t);if(i||r)return i&&r?e.getTime()===t.getTime():!1;if(i=ff(e),r=ff(t),i||r)return e===t;if(i=An(e),r=An(t),i||r)return i&&r?OD(e,t):!1;if(i=Zs(e),r=Zs(t),i||r){if(!i||!r)return!1;const o=Object.keys(e).length,d=Object.keys(t).length;if(o!==d)return!1;for(const h in e){const s=e.hasOwnProperty(h),v=t.hasOwnProperty(h);if(s&&!v||!s&&v||!pf(e[h],t[h]))return!1}}return String(e)===String(t)}function xb(e,t){return e.findIndex(i=>pf(i,t))}const $i=e=>zr(e)?e:e==null?"":An(e)||Zs(e)&&(e.toString===FM||!Sr(e.toString))?JSON.stringify(e,NM,2):String(e),NM=(e,t)=>t&&t.__v_isRef?NM(e,t.value):yg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[r,o])=>(i[`${r} =>`]=o,i),{})}:Q0(t)?{[`Set(${t.size})`]:[...t.values()]}:Zs(t)&&!An(t)&&!jM(t)?String(t):t,Hs={},gg=[],xc=()=>{},wx=()=>!1,RD=/^on[^a-z]/,J0=e=>RD.test(e),ZT=e=>e.startsWith("onUpdate:"),Is=Object.assign,KT=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},BD=Object.prototype.hasOwnProperty,bs=(e,t)=>BD.call(e,t),An=Array.isArray,yg=e=>u_(e)==="[object Map]",Q0=e=>u_(e)==="[object Set]",h5=e=>u_(e)==="[object Date]",Sr=e=>typeof e=="function",zr=e=>typeof e=="string",ff=e=>typeof e=="symbol",Zs=e=>e!==null&&typeof e=="object",JT=e=>Zs(e)&&Sr(e.then)&&Sr(e.catch),FM=Object.prototype.toString,u_=e=>FM.call(e),zD=e=>u_(e).slice(8,-1),jM=e=>u_(e)==="[object Object]",QT=e=>zr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,B0=Wc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ND=Wc("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),bb=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},FD=/-(\w)/g,nl=bb(e=>e.replace(FD,(t,i)=>i?i.toUpperCase():"")),jD=/\B([A-Z])/g,gd=bb(e=>e.replace(jD,"-$1").toLowerCase()),Sf=bb(e=>e.charAt(0).toUpperCase()+e.slice(1)),z0=bb(e=>e?`on${Sf(e)}`:""),kg=(e,t)=>!Object.is(e,t),_g=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},Bx=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},sp=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let p5;const UD=()=>p5||(p5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let hd;class wb{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=hd,!t&&hd&&(this.index=(hd.scopes||(hd.scopes=[])).push(this)-1)}run(t){if(this.active){const i=hd;try{return hd=this,t()}finally{hd=i}}}on(){hd=this}off(){hd=this.parent}stop(t){if(this.active){let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.scopes)for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function UM(e){return new wb(e)}function $M(e,t=hd){t&&t.active&&t.effects.push(e)}function eS(){return hd}function tS(e){hd&&hd.cleanups.push(e)}const iS=e=>{const t=new Set(e);return t.w=0,t.n=0,t},VM=e=>(e.w&mf)>0,GM=e=>(e.n&mf)>0,$D=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=mf},VD=e=>{const{deps:t}=e;if(t.length){let i=0;for(let r=0;r<t.length;r++){const o=t[r];VM(o)&&!GM(o)?o.delete(e):t[i++]=o,o.w&=~mf,o.n&=~mf}t.length=i}},K3=new WeakMap;let Ly=0,mf=1;const J3=30;let Tu;const N0=Symbol(""),Q3=Symbol("");class Ug{constructor(t,i=null,r){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,$M(this,r)}run(){if(!this.active)return this.fn();let t=Tu,i=lf;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Tu,Tu=this,lf=!0,mf=1<<++Ly,Ly<=J3?$D(this):f5(this),this.fn()}finally{Ly<=J3&&VD(this),mf=1<<--Ly,Tu=this.parent,lf=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Tu===this?this.deferStop=!0:this.active&&(f5(this),this.onStop&&this.onStop(),this.active=!1)}}function f5(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}function HM(e,t){e.effect&&(e=e.effect.fn);const i=new Ug(e);t&&(Is(i,t),t.scope&&$M(i,t.scope)),(!t||!t.lazy)&&i.run();const r=i.run.bind(i);return r.effect=i,r}function WM(e){e.effect.stop()}let lf=!0;const YM=[];function $g(){YM.push(lf),lf=!1}function Vg(){const e=YM.pop();lf=e===void 0?!0:e}function vd(e,t,i){if(lf&&Tu){let r=K3.get(e);r||K3.set(e,r=new Map);let o=r.get(i);o||r.set(i,o=iS()),qM(o)}}function qM(e,t){let i=!1;Ly<=J3?GM(e)||(e.n|=mf,i=!VM(e)):i=!e.has(Tu),i&&(e.add(Tu),Tu.deps.push(e))}function op(e,t,i,r,o,d){const h=K3.get(e);if(!h)return;let s=[];if(t==="clear")s=[...h.values()];else if(i==="length"&&An(e)){const v=sp(r);h.forEach((R,K)=>{(K==="length"||K>=v)&&s.push(R)})}else switch(i!==void 0&&s.push(h.get(i)),t){case"add":An(e)?QT(i)&&s.push(h.get("length")):(s.push(h.get(N0)),yg(e)&&s.push(h.get(Q3)));break;case"delete":An(e)||(s.push(h.get(N0)),yg(e)&&s.push(h.get(Q3)));break;case"set":yg(e)&&s.push(h.get(N0));break}if(s.length===1)s[0]&&eT(s[0]);else{const v=[];for(const R of s)R&&v.push(...R);eT(iS(v))}}function eT(e,t){const i=An(e)?e:[...e];for(const r of i)r.computed&&m5(r);for(const r of i)r.computed||m5(r)}function m5(e,t){(e!==Tu||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const GD=Wc("__proto__,__v_isRef,__isVue"),XM=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ff)),HD=Tb(),WD=Tb(!1,!0),YD=Tb(!0),qD=Tb(!0,!0),g5=XD();function XD(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const r=us(this);for(let d=0,h=this.length;d<h;d++)vd(r,"get",d+"");const o=r[t](...i);return o===-1||o===!1?r[t](...i.map(us)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){$g();const r=us(this)[t].apply(this,i);return Vg(),r}}),e}function Tb(e=!1,t=!1){return function(r,o,d){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&d===(e?t?ik:tk:t?ek:QM).get(r))return r;const h=An(r);if(!e&&h&&bs(g5,o))return Reflect.get(g5,o,d);const s=Reflect.get(r,o,d);return(ff(o)?XM.has(o):GD(o))||(e||vd(r,"get",o),t)?s:ha(s)?h&&QT(o)?s:s.value:Zs(s)?e?Eb(s):iu(s):s}}const ZD=ZM(),KD=ZM(!0);function ZM(e=!1){return function(i,r,o,d){let h=i[r];if(gf(h)&&ha(h)&&!ha(o))return!1;if(!e&&(!Ag(o)&&!gf(o)&&(h=us(h),o=us(o)),!An(i)&&ha(h)&&!ha(o)))return h.value=o,!0;const s=An(i)&&QT(r)?Number(r)<i.length:bs(i,r),v=Reflect.set(i,r,o,d);return i===us(d)&&(s?kg(o,h)&&op(i,"set",r,o):op(i,"add",r,o)),v}}function JD(e,t){const i=bs(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&i&&op(e,"delete",t,void 0),r}function QD(e,t){const i=Reflect.has(e,t);return(!ff(t)||!XM.has(t))&&vd(e,"has",t),i}function eI(e){return vd(e,"iterate",An(e)?"length":N0),Reflect.ownKeys(e)}const KM={get:HD,set:ZD,deleteProperty:JD,has:QD,ownKeys:eI},JM={get:YD,set(e,t){return!0},deleteProperty(e,t){return!0}},tI=Is({},KM,{get:WD,set:KD}),iI=Is({},JM,{get:qD}),nS=e=>e,Sb=e=>Reflect.getPrototypeOf(e);function Xv(e,t,i=!1,r=!1){e=e.__v_raw;const o=us(e),d=us(t);i||(t!==d&&vd(o,"get",t),vd(o,"get",d));const{has:h}=Sb(o),s=r?nS:i?sS:Wy;if(h.call(o,t))return s(e.get(t));if(h.call(o,d))return s(e.get(d));e!==o&&e.get(t)}function Zv(e,t=!1){const i=this.__v_raw,r=us(i),o=us(e);return t||(e!==o&&vd(r,"has",e),vd(r,"has",o)),e===o?i.has(e):i.has(e)||i.has(o)}function Kv(e,t=!1){return e=e.__v_raw,!t&&vd(us(e),"iterate",N0),Reflect.get(e,"size",e)}function y5(e){e=us(e);const t=us(this);return Sb(t).has.call(t,e)||(t.add(e),op(t,"add",e,e)),this}function _5(e,t){t=us(t);const i=us(this),{has:r,get:o}=Sb(i);let d=r.call(i,e);d||(e=us(e),d=r.call(i,e));const h=o.call(i,e);return i.set(e,t),d?kg(t,h)&&op(i,"set",e,t):op(i,"add",e,t),this}function v5(e){const t=us(this),{has:i,get:r}=Sb(t);let o=i.call(t,e);o||(e=us(e),o=i.call(t,e)),r&&r.call(t,e);const d=t.delete(e);return o&&op(t,"delete",e,void 0),d}function x5(){const e=us(this),t=e.size!==0,i=e.clear();return t&&op(e,"clear",void 0,void 0),i}function Jv(e,t){return function(r,o){const d=this,h=d.__v_raw,s=us(h),v=t?nS:e?sS:Wy;return!e&&vd(s,"iterate",N0),h.forEach((R,K)=>r.call(o,v(R),v(K),d))}}function Qv(e,t,i){return function(...r){const o=this.__v_raw,d=us(o),h=yg(d),s=e==="entries"||e===Symbol.iterator&&h,v=e==="keys"&&h,R=o[e](...r),K=i?nS:t?sS:Wy;return!t&&vd(d,"iterate",v?Q3:N0),{next(){const{value:k,done:z}=R.next();return z?{value:k,done:z}:{value:s?[K(k[0]),K(k[1])]:K(k),done:z}},[Symbol.iterator](){return this}}}}function Xp(e){return function(...t){return e==="delete"?!1:this}}function nI(){const e={get(d){return Xv(this,d)},get size(){return Kv(this)},has:Zv,add:y5,set:_5,delete:v5,clear:x5,forEach:Jv(!1,!1)},t={get(d){return Xv(this,d,!1,!0)},get size(){return Kv(this)},has:Zv,add:y5,set:_5,delete:v5,clear:x5,forEach:Jv(!1,!0)},i={get(d){return Xv(this,d,!0)},get size(){return Kv(this,!0)},has(d){return Zv.call(this,d,!0)},add:Xp("add"),set:Xp("set"),delete:Xp("delete"),clear:Xp("clear"),forEach:Jv(!0,!1)},r={get(d){return Xv(this,d,!0,!0)},get size(){return Kv(this,!0)},has(d){return Zv.call(this,d,!0)},add:Xp("add"),set:Xp("set"),delete:Xp("delete"),clear:Xp("clear"),forEach:Jv(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=Qv(d,!1,!1),i[d]=Qv(d,!0,!1),t[d]=Qv(d,!1,!0),r[d]=Qv(d,!0,!0)}),[e,i,t,r]}const[rI,sI,oI,aI]=nI();function Cb(e,t){const i=t?e?aI:oI:e?sI:rI;return(r,o,d)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(bs(i,o)&&o in r?i:r,o,d)}const lI={get:Cb(!1,!1)},cI={get:Cb(!1,!0)},dI={get:Cb(!0,!1)},uI={get:Cb(!0,!0)},QM=new WeakMap,ek=new WeakMap,tk=new WeakMap,ik=new WeakMap;function hI(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pI(e){return e.__v_skip||!Object.isExtensible(e)?0:hI(zD(e))}function iu(e){return gf(e)?e:Mb(e,!1,KM,lI,QM)}function rS(e){return Mb(e,!1,tI,cI,ek)}function Eb(e){return Mb(e,!0,JM,dI,tk)}function nk(e){return Mb(e,!0,iI,uI,ik)}function Mb(e,t,i,r,o){if(!Zs(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const d=o.get(e);if(d)return d;const h=pI(e);if(h===0)return e;const s=new Proxy(e,h===2?r:i);return o.set(e,s),s}function cf(e){return gf(e)?cf(e.__v_raw):!!(e&&e.__v_isReactive)}function gf(e){return!!(e&&e.__v_isReadonly)}function Ag(e){return!!(e&&e.__v_isShallow)}function kb(e){return cf(e)||gf(e)}function us(e){const t=e&&e.__v_raw;return t?us(t):e}function Ab(e){return Bx(e,"__v_skip",!0),e}const Wy=e=>Zs(e)?iu(e):e,sS=e=>Zs(e)?Eb(e):e;function oS(e){lf&&Tu&&(e=us(e),qM(e.dep||(e.dep=iS())))}function Pb(e,t){e=us(e),e.dep&&eT(e.dep)}function ha(e){return!!(e&&e.__v_isRef===!0)}function Ki(e){return sk(e,!1)}function rk(e){return sk(e,!0)}function sk(e,t){return ha(e)?e:new fI(e,t)}class fI{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:us(t),this._value=i?t:Wy(t)}get value(){return oS(this),this._value}set value(t){const i=this.__v_isShallow||Ag(t)||gf(t);t=i?t:us(t),kg(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:Wy(t),Pb(this))}}function ok(e){Pb(e)}function Li(e){return ha(e)?e.value:e}const mI={get:(e,t,i)=>Li(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const o=e[t];return ha(o)&&!ha(i)?(o.value=i,!0):Reflect.set(e,t,i,r)}};function Db(e){return cf(e)?e:new Proxy(e,mI)}class gI{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:i,set:r}=t(()=>oS(this),()=>Pb(this));this._get=i,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function ak(e){return new gI(e)}function lk(e){const t=An(e)?new Array(e.length):{};for(const i in e)t[i]=yf(e,i);return t}class yI{constructor(t,i,r){this._object=t,this._key=i,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function yf(e,t,i){const r=e[t];return ha(r)?r:new yI(e,t,i)}var ck;class _I{constructor(t,i,r,o){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this[ck]=!1,this._dirty=!0,this.effect=new Ug(t,()=>{this._dirty||(this._dirty=!0,Pb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=us(this);return oS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}ck="__v_isReadonly";function vI(e,t,i=!1){let r,o;const d=Sr(e);return d?(r=e,o=xc):(r=e.get,o=e.set),new _I(r,o,d||!o,i)}function dk(e,...t){}function dh(e,t,i,r){let o;try{o=r?e(...r):e()}catch(d){Cf(d,t,i)}return o}function Gc(e,t,i,r){if(Sr(e)){const d=dh(e,t,i,r);return d&&JT(d)&&d.catch(h=>{Cf(h,t,i)}),d}const o=[];for(let d=0;d<e.length;d++)o.push(Gc(e[d],t,i,r));return o}function Cf(e,t,i,r=!0){const o=t?t.vnode:null;if(t){let d=t.parent;const h=t.proxy,s=i;for(;d;){const R=d.ec;if(R){for(let K=0;K<R.length;K++)if(R[K](e,h,s)===!1)return}d=d.parent}const v=t.appContext.config.errorHandler;if(v){dh(v,null,10,[e,h,s]);return}}xI(e,i,o,r)}function xI(e,t,i,r=!0){console.error(e)}let Yy=!1,tT=!1;const zl=[];let ih=0;const vg=[];let Wh=null,k0=0;const uk=Promise.resolve();let aS=null;function Fa(e){const t=aS||uk;return e?t.then(this?e.bind(this):e):t}function bI(e){let t=ih+1,i=zl.length;for(;t<i;){const r=t+i>>>1;qy(zl[r])<e?t=r+1:i=r}return t}function Ib(e){(!zl.length||!zl.includes(e,Yy&&e.allowRecurse?ih+1:ih))&&(e.id==null?zl.push(e):zl.splice(bI(e.id),0,e),hk())}function hk(){!Yy&&!tT&&(tT=!0,aS=uk.then(pk))}function wI(e){const t=zl.indexOf(e);t>ih&&zl.splice(t,1)}function Lb(e){An(e)?vg.push(...e):(!Wh||!Wh.includes(e,e.allowRecurse?k0+1:k0))&&vg.push(e),hk()}function b5(e,t=Yy?ih+1:0){for(;t<zl.length;t++){const i=zl[t];i&&i.pre&&(zl.splice(t,1),t--,i())}}function zx(e){if(vg.length){const t=[...new Set(vg)];if(vg.length=0,Wh){Wh.push(...t);return}for(Wh=t,Wh.sort((i,r)=>qy(i)-qy(r)),k0=0;k0<Wh.length;k0++)Wh[k0]();Wh=null,k0=0}}const qy=e=>e.id==null?1/0:e.id,TI=(e,t)=>{const i=qy(e)-qy(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function pk(e){tT=!1,Yy=!0,zl.sort(TI);const t=xc;try{for(ih=0;ih<zl.length;ih++){const i=zl[ih];i&&i.active!==!1&&dh(i,null,14)}}finally{ih=0,zl.length=0,zx(),Yy=!1,aS=null,(zl.length||vg.length)&&pk()}}let A0,ex=[];function lS(e,t){var i,r;A0=e,A0?(A0.enabled=!0,ex.forEach(({event:o,args:d})=>A0.emit(o,...d)),ex=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(i=window.navigator)===null||i===void 0?void 0:i.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(d=>{lS(d,t)}),setTimeout(()=>{A0||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ex=[])},3e3)):ex=[]}function SI(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||Hs;let o=i;const d=t.startsWith("update:"),h=d&&t.slice(7);if(h&&h in r){const K=`${h==="modelValue"?"model":h}Modifiers`,{number:k,trim:z}=r[K]||Hs;z&&(o=i.map(q=>zr(q)?q.trim():q)),k&&(o=i.map(sp))}let s,v=r[s=z0(t)]||r[s=z0(nl(t))];!v&&d&&(v=r[s=z0(gd(t))]),v&&Gc(v,e,6,o);const R=r[s+"Once"];if(R){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Gc(R,e,6,o)}}function fk(e,t,i=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const d=e.emits;let h={},s=!1;if(!Sr(e)){const v=R=>{const K=fk(R,t,!0);K&&(s=!0,Is(h,K))};!i&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}return!d&&!s?(Zs(e)&&r.set(e,null),null):(An(d)?d.forEach(v=>h[v]=null):Is(h,d),Zs(e)&&r.set(e,h),h)}function Ob(e,t){return!e||!J0(t)?!1:(t=t.slice(2).replace(/Once$/,""),bs(e,t[0].toLowerCase()+t.slice(1))||bs(e,gd(t))||bs(e,t))}let yl=null,Rb=null;function Xy(e){const t=yl;return yl=e,Rb=e&&e.type.__scopeId||null,t}function dp(e){Rb=e}function up(){Rb=null}const mk=e=>Hn;function Hn(e,t=yl,i){if(!t||e._n)return e;const r=(...o)=>{r._d&&jx(-1);const d=Xy(t);let h;try{h=e(...o)}finally{Xy(d),r._d&&jx(1)}return h};return r._n=!0,r._c=!0,r._d=!0,r}function Tx(e){const{type:t,vnode:i,proxy:r,withProxy:o,props:d,propsOptions:[h],slots:s,attrs:v,emit:R,render:K,renderCache:k,data:z,setupState:q,ctx:L,inheritAttrs:O}=e;let G,M;const S=Xy(e);try{if(i.shapeFlag&4){const H=o||r;G=fd(K.call(H,H,k,d,q,z,L)),M=v}else{const H=t;G=fd(H.length>1?H(d,{attrs:v,slots:s,emit:R}):H(d,null)),M=t.props?v:EI(v)}}catch(H){zy.length=0,Cf(H,e,1),G=an(_l)}let D=G;if(M&&O!==!1){const H=Object.keys(M),{shapeFlag:U}=D;H.length&&U&7&&(h&&H.some(ZT)&&(M=MI(M,h)),D=Eu(D,M))}return i.dirs&&(D=Eu(D),D.dirs=D.dirs?D.dirs.concat(i.dirs):i.dirs),i.transition&&(D.transition=i.transition),G=D,Xy(S),G}function CI(e){let t;for(let i=0;i<e.length;i++){const r=e[i];if(ap(r)){if(r.type!==_l||r.children==="v-if"){if(t)return;t=r}}else return}return t}const EI=e=>{let t;for(const i in e)(i==="class"||i==="style"||J0(i))&&((t||(t={}))[i]=e[i]);return t},MI=(e,t)=>{const i={};for(const r in e)(!ZT(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function kI(e,t,i){const{props:r,children:o,component:d}=e,{props:h,children:s,patchFlag:v}=t,R=d.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&v>=0){if(v&1024)return!0;if(v&16)return r?w5(r,h,R):!!h;if(v&8){const K=t.dynamicProps;for(let k=0;k<K.length;k++){const z=K[k];if(h[z]!==r[z]&&!Ob(R,z))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:r===h?!1:r?h?w5(r,h,R):!0:!!h;return!1}function w5(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const d=r[o];if(t[d]!==e[d]&&!Ob(i,d))return!0}return!1}function cS({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const gk=e=>e.__isSuspense,AI={name:"Suspense",__isSuspense:!0,process(e,t,i,r,o,d,h,s,v,R){e==null?PI(t,i,r,o,d,h,s,v,R):DI(e,t,i,r,o,h,s,v,R)},hydrate:II,create:dS,normalize:LI},yk=AI;function Zy(e,t){const i=e.props&&e.props[t];Sr(i)&&i()}function PI(e,t,i,r,o,d,h,s,v){const{p:R,o:{createElement:K}}=v,k=K("div"),z=e.suspense=dS(e,o,r,t,k,i,d,h,s,v);R(null,z.pendingBranch=e.ssContent,k,null,r,z,d,h),z.deps>0?(Zy(e,"onPending"),Zy(e,"onFallback"),R(null,e.ssFallback,t,i,r,null,d,h),xg(z,e.ssFallback)):z.resolve()}function DI(e,t,i,r,o,d,h,s,{p:v,um:R,o:{createElement:K}}){const k=t.suspense=e.suspense;k.vnode=t,t.el=e.el;const z=t.ssContent,q=t.ssFallback,{activeBranch:L,pendingBranch:O,isInFallback:G,isHydrating:M}=k;if(O)k.pendingBranch=z,nh(z,O)?(v(O,z,k.hiddenContainer,null,o,k,d,h,s),k.deps<=0?k.resolve():G&&(v(L,q,i,r,o,null,d,h,s),xg(k,q))):(k.pendingId++,M?(k.isHydrating=!1,k.activeBranch=O):R(O,o,k),k.deps=0,k.effects.length=0,k.hiddenContainer=K("div"),G?(v(null,z,k.hiddenContainer,null,o,k,d,h,s),k.deps<=0?k.resolve():(v(L,q,i,r,o,null,d,h,s),xg(k,q))):L&&nh(z,L)?(v(L,z,i,r,o,k,d,h,s),k.resolve(!0)):(v(null,z,k.hiddenContainer,null,o,k,d,h,s),k.deps<=0&&k.resolve()));else if(L&&nh(z,L))v(L,z,i,r,o,k,d,h,s),xg(k,z);else if(Zy(t,"onPending"),k.pendingBranch=z,k.pendingId++,v(null,z,k.hiddenContainer,null,o,k,d,h,s),k.deps<=0)k.resolve();else{const{timeout:S,pendingId:D}=k;S>0?setTimeout(()=>{k.pendingId===D&&k.fallback(q)},S):S===0&&k.fallback(q)}}function dS(e,t,i,r,o,d,h,s,v,R,K=!1){const{p:k,m:z,um:q,n:L,o:{parentNode:O,remove:G}}=R,M=sp(e.props&&e.props.timeout),S={vnode:e,parent:t,parentComponent:i,isSVG:h,container:r,hiddenContainer:o,anchor:d,deps:0,pendingId:0,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:K,isUnmounted:!1,effects:[],resolve(D=!1){const{vnode:H,activeBranch:U,pendingBranch:E,pendingId:ie,effects:te,parentComponent:$,container:V}=S;if(S.isHydrating)S.isHydrating=!1;else if(!D){const P=U&&E.transition&&E.transition.mode==="out-in";P&&(U.transition.afterLeave=()=>{ie===S.pendingId&&z(E,V,f,0)});let{anchor:f}=S;U&&(f=L(U),q(U,$,S,!0)),P||z(E,V,f,0)}xg(S,E),S.pendingBranch=null,S.isInFallback=!1;let j=S.parent,x=!1;for(;j;){if(j.pendingBranch){j.effects.push(...te),x=!0;break}j=j.parent}x||Lb(te),S.effects=[],Zy(H,"onResolve")},fallback(D){if(!S.pendingBranch)return;const{vnode:H,activeBranch:U,parentComponent:E,container:ie,isSVG:te}=S;Zy(H,"onFallback");const $=L(U),V=()=>{S.isInFallback&&(k(null,D,ie,$,E,null,te,s,v),xg(S,D))},j=D.transition&&D.transition.mode==="out-in";j&&(U.transition.afterLeave=V),S.isInFallback=!0,q(U,E,null,!0),j||V()},move(D,H,U){S.activeBranch&&z(S.activeBranch,D,H,U),S.container=D},next(){return S.activeBranch&&L(S.activeBranch)},registerDep(D,H){const U=!!S.pendingBranch;U&&S.deps++;const E=D.vnode.el;D.asyncDep.catch(ie=>{Cf(ie,D,0)}).then(ie=>{if(D.isUnmounted||S.isUnmounted||S.pendingId!==D.suspenseId)return;D.asyncResolved=!0;const{vnode:te}=D;lT(D,ie,!1),E&&(te.el=E);const $=!E&&D.subTree.el;H(D,te,O(E||D.subTree.el),E?null:L(D.subTree),S,h,v),$&&G($),cS(D,te.el),U&&--S.deps===0&&S.resolve()})},unmount(D,H){S.isUnmounted=!0,S.activeBranch&&q(S.activeBranch,i,D,H),S.pendingBranch&&q(S.pendingBranch,i,D,H)}};return S}function II(e,t,i,r,o,d,h,s,v){const R=t.suspense=dS(t,r,i,e.parentNode,document.createElement("div"),null,o,d,h,s,!0),K=v(e,R.pendingBranch=t.ssContent,i,R,d,h);return R.deps===0&&R.resolve(),K}function LI(e){const{shapeFlag:t,children:i}=e,r=t&32;e.ssContent=T5(r?i.default:i),e.ssFallback=r?T5(i.fallback):an(_l)}function T5(e){let t;if(Sr(e)){const i=Y0&&e._c;i&&(e._d=!1,dt()),e=e(),i&&(e._d=!0,t=$c,Nk())}return An(e)&&(e=CI(e)),e=fd(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function _k(e,t){t&&t.pendingBranch?An(e)?t.effects.push(...e):t.effects.push(e):Lb(e)}function xg(e,t){e.activeBranch=t;const{vnode:i,parentComponent:r}=e,o=i.el=t.el;r&&r.subTree===i&&(r.vnode.el=o,cS(r,o))}function Gg(e,t){if(Na){let i=Na.provides;const r=Na.parent&&Na.parent.provides;r===i&&(i=Na.provides=Object.create(r)),i[e]=t}}function F0(e,t,i=!1){const r=Na||yl;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return i&&Sr(t)?t.call(r.proxy):t}}function vk(e,t){return h_(e,null,t)}function uS(e,t){return h_(e,null,{flush:"post"})}function xk(e,t){return h_(e,null,{flush:"sync"})}const tx={};function Xs(e,t,i){return h_(e,t,i)}function h_(e,t,{immediate:i,deep:r,flush:o,onTrack:d,onTrigger:h}=Hs){const s=Na;let v,R=!1,K=!1;if(ha(e)?(v=()=>e.value,R=Ag(e)):cf(e)?(v=()=>e,r=!0):An(e)?(K=!0,R=e.some(D=>cf(D)||Ag(D)),v=()=>e.map(D=>{if(ha(D))return D.value;if(cf(D))return D0(D);if(Sr(D))return dh(D,s,2)})):Sr(e)?t?v=()=>dh(e,s,2):v=()=>{if(!(s&&s.isUnmounted))return k&&k(),Gc(e,s,3,[z])}:v=xc,t&&r){const D=v;v=()=>D0(D())}let k,z=D=>{k=M.onStop=()=>{dh(D,s,4)}},q;if(Pg)if(z=xc,t?i&&Gc(t,s,3,[v(),K?[]:void 0,z]):v(),o==="sync"){const D=DS();q=D.__watcherHandles||(D.__watcherHandles=[])}else return xc;let L=K?new Array(e.length).fill(tx):tx;const O=()=>{if(M.active)if(t){const D=M.run();(r||R||(K?D.some((H,U)=>kg(H,L[U])):kg(D,L)))&&(k&&k(),Gc(t,s,3,[D,L===tx?void 0:K&&L[0]===tx?[]:L,z]),L=D)}else M.run()};O.allowRecurse=!!t;let G;o==="sync"?G=O:o==="post"?G=()=>gl(O,s&&s.suspense):(O.pre=!0,s&&(O.id=s.uid),G=()=>Ib(O));const M=new Ug(v,G);t?i?O():L=M.run():o==="post"?gl(M.run.bind(M),s&&s.suspense):M.run();const S=()=>{M.stop(),s&&s.scope&&KT(s.scope.effects,M)};return q&&q.push(S),S}function OI(e,t,i){const r=this.proxy,o=zr(e)?e.includes(".")?bk(r,e):()=>r[e]:e.bind(r,r);let d;Sr(t)?d=t:(d=t.handler,i=t);const h=Na;xf(this);const s=h_(o,d.bind(r),i);return h?xf(h):uf(),s}function bk(e,t){const i=t.split(".");return()=>{let r=e;for(let o=0;o<i.length&&r;o++)r=r[i[o]];return r}}function D0(e,t){if(!Zs(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ha(e))D0(e.value,t);else if(An(e))for(let i=0;i<e.length;i++)D0(e[i],t);else if(Q0(e)||yg(e))e.forEach(i=>{D0(i,t)});else if(jM(e))for(const i in e)D0(e[i],t);return e}function Bb(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Go(()=>{e.isMounted=!0}),tm(()=>{e.isUnmounting=!0}),e}const Wd=[Function,Array],RI={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wd,onEnter:Wd,onAfterEnter:Wd,onEnterCancelled:Wd,onBeforeLeave:Wd,onLeave:Wd,onAfterLeave:Wd,onLeaveCancelled:Wd,onBeforeAppear:Wd,onAppear:Wd,onAfterAppear:Wd,onAppearCancelled:Wd},setup(e,{slots:t}){const i=pp(),r=Bb();let o;return()=>{const d=t.default&&p_(t.default(),!0);if(!d||!d.length)return;let h=d[0];if(d.length>1){for(const O of d)if(O.type!==_l){h=O;break}}const s=us(e),{mode:v}=s;if(r.isLeaving)return r3(h);const R=S5(h);if(!R)return r3(h);const K=W0(R,s,r,i);_f(R,K);const k=i.subTree,z=k&&S5(k);let q=!1;const{getTransitionKey:L}=R.type;if(L){const O=L();o===void 0?o=O:O!==o&&(o=O,q=!0)}if(z&&z.type!==_l&&(!nh(R,z)||q)){const O=W0(z,s,r,i);if(_f(z,O),v==="out-in")return r.isLeaving=!0,O.afterLeave=()=>{r.isLeaving=!1,i.update.active!==!1&&i.update()},r3(h);v==="in-out"&&R.type!==_l&&(O.delayLeave=(G,M,S)=>{const D=wk(r,z);D[String(z.key)]=z,G._leaveCb=()=>{M(),G._leaveCb=void 0,delete K.delayedLeave},K.delayedLeave=S})}return h}}},zb=RI;function wk(e,t){const{leavingVNodes:i}=e;let r=i.get(t.type);return r||(r=Object.create(null),i.set(t.type,r)),r}function W0(e,t,i,r){const{appear:o,mode:d,persisted:h=!1,onBeforeEnter:s,onEnter:v,onAfterEnter:R,onEnterCancelled:K,onBeforeLeave:k,onLeave:z,onAfterLeave:q,onLeaveCancelled:L,onBeforeAppear:O,onAppear:G,onAfterAppear:M,onAppearCancelled:S}=t,D=String(e.key),H=wk(i,e),U=(te,$)=>{te&&Gc(te,r,9,$)},E=(te,$)=>{const V=$[1];U(te,$),An(te)?te.every(j=>j.length<=1)&&V():te.length<=1&&V()},ie={mode:d,persisted:h,beforeEnter(te){let $=s;if(!i.isMounted)if(o)$=O||s;else return;te._leaveCb&&te._leaveCb(!0);const V=H[D];V&&nh(e,V)&&V.el._leaveCb&&V.el._leaveCb(),U($,[te])},enter(te){let $=v,V=R,j=K;if(!i.isMounted)if(o)$=G||v,V=M||R,j=S||K;else return;let x=!1;const P=te._enterCb=f=>{x||(x=!0,f?U(j,[te]):U(V,[te]),ie.delayedLeave&&ie.delayedLeave(),te._enterCb=void 0)};$?E($,[te,P]):P()},leave(te,$){const V=String(e.key);if(te._enterCb&&te._enterCb(!0),i.isUnmounting)return $();U(k,[te]);let j=!1;const x=te._leaveCb=P=>{j||(j=!0,$(),P?U(L,[te]):U(q,[te]),te._leaveCb=void 0,H[V]===e&&delete H[V])};H[V]=e,z?E(z,[te,x]):x()},clone(te){return W0(te,t,i,r)}};return ie}function r3(e){if(f_(e))return e=Eu(e),e.children=null,e}function S5(e){return f_(e)?e.children?e.children[0]:void 0:e}function _f(e,t){e.shapeFlag&6&&e.component?_f(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function p_(e,t=!1,i){let r=[],o=0;for(let d=0;d<e.length;d++){let h=e[d];const s=i==null?h.key:String(i)+String(h.key!=null?h.key:d);h.type===Yi?(h.patchFlag&128&&o++,r=r.concat(p_(h.children,t,s))):(t||h.type!==_l)&&r.push(s!=null?Eu(h,{key:s}):h)}if(o>1)for(let d=0;d<r.length;d++)r[d].patchFlag=-2;return r}function Gl(e){return Sr(e)?{setup:e,name:e.name}:e}const j0=e=>!!e.type.__asyncLoader;function Tk(e){Sr(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:r,delay:o=200,timeout:d,suspensible:h=!0,onError:s}=e;let v=null,R,K=0;const k=()=>(K++,v=null,z()),z=()=>{let q;return v||(q=v=t().catch(L=>{if(L=L instanceof Error?L:new Error(String(L)),s)return new Promise((O,G)=>{s(L,()=>O(k()),()=>G(L),K+1)});throw L}).then(L=>q!==v&&v?v:(L&&(L.__esModule||L[Symbol.toStringTag]==="Module")&&(L=L.default),R=L,L)))};return Gl({name:"AsyncComponentWrapper",__asyncLoader:z,get __asyncResolved(){return R},setup(){const q=Na;if(R)return()=>s3(R,q);const L=S=>{v=null,Cf(S,q,13,!r)};if(h&&q.suspense||Pg)return z().then(S=>()=>s3(S,q)).catch(S=>(L(S),()=>r?an(r,{error:S}):null));const O=Ki(!1),G=Ki(),M=Ki(!!o);return o&&setTimeout(()=>{M.value=!1},o),d!=null&&setTimeout(()=>{if(!O.value&&!G.value){const S=new Error(`Async component timed out after ${d}ms.`);L(S),G.value=S}},d),z().then(()=>{O.value=!0,q.parent&&f_(q.parent.vnode)&&Ib(q.parent.update)}).catch(S=>{L(S),G.value=S}),()=>{if(O.value&&R)return s3(R,q);if(G.value&&r)return an(r,{error:G.value});if(i&&!M.value)return an(i)}}})}function s3(e,t){const{ref:i,props:r,children:o,ce:d}=t.vnode,h=an(e,r,o);return h.ref=i,h.ce=d,delete t.vnode.ce,h}const f_=e=>e.type.__isKeepAlive,BI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=pp(),r=i.ctx;if(!r.renderer)return()=>{const S=t.default&&t.default();return S&&S.length===1?S[0]:S};const o=new Map,d=new Set;let h=null;const s=i.suspense,{renderer:{p:v,m:R,um:K,o:{createElement:k}}}=r,z=k("div");r.activate=(S,D,H,U,E)=>{const ie=S.component;R(S,D,H,0,s),v(ie.vnode,S,D,H,ie,s,U,S.slotScopeIds,E),gl(()=>{ie.isDeactivated=!1,ie.a&&_g(ie.a);const te=S.props&&S.props.onVnodeMounted;te&&jc(te,ie.parent,S)},s)},r.deactivate=S=>{const D=S.component;R(S,z,null,1,s),gl(()=>{D.da&&_g(D.da);const H=S.props&&S.props.onVnodeUnmounted;H&&jc(H,D.parent,S),D.isDeactivated=!0},s)};function q(S){o3(S),K(S,i,s,!0)}function L(S){o.forEach((D,H)=>{const U=dT(D.type);U&&(!S||!S(U))&&O(H)})}function O(S){const D=o.get(S);!h||D.type!==h.type?q(D):h&&o3(h),o.delete(S),d.delete(S)}Xs(()=>[e.include,e.exclude],([S,D])=>{S&&L(H=>Oy(S,H)),D&&L(H=>!Oy(D,H))},{flush:"post",deep:!0});let G=null;const M=()=>{G!=null&&o.set(G,a3(i.subTree))};return Go(M),em(M),tm(()=>{o.forEach(S=>{const{subTree:D,suspense:H}=i,U=a3(D);if(S.type===U.type){o3(U);const E=U.component.da;E&&gl(E,H);return}q(S)})}),()=>{if(G=null,!t.default)return null;const S=t.default(),D=S[0];if(S.length>1)return h=null,S;if(!ap(D)||!(D.shapeFlag&4)&&!(D.shapeFlag&128))return h=null,D;let H=a3(D);const U=H.type,E=dT(j0(H)?H.type.__asyncResolved||{}:U),{include:ie,exclude:te,max:$}=e;if(ie&&(!E||!Oy(ie,E))||te&&E&&Oy(te,E))return h=H,D;const V=H.key==null?U:H.key,j=o.get(V);return H.el&&(H=Eu(H),D.shapeFlag&128&&(D.ssContent=H)),G=V,j?(H.el=j.el,H.component=j.component,H.transition&&_f(H,H.transition),H.shapeFlag|=512,d.delete(V),d.add(V)):(d.add(V),$&&d.size>parseInt($,10)&&O(d.values().next().value)),H.shapeFlag|=256,h=H,gk(D.type)?D:H}}},Sk=BI;function Oy(e,t){return An(e)?e.some(i=>Oy(i,t)):zr(e)?e.split(",").includes(t):e.test?e.test(t):!1}function hS(e,t){Ck(e,"a",t)}function pS(e,t){Ck(e,"da",t)}function Ck(e,t,i=Na){const r=e.__wdc||(e.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Nb(t,r,i),i){let o=i.parent;for(;o&&o.parent;)f_(o.parent.vnode)&&zI(r,t,i,o),o=o.parent}}function zI(e,t,i,r){const o=Nb(t,e,r,!0);hh(()=>{KT(r[t],o)},i)}function o3(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function a3(e){return e.shapeFlag&128?e.ssContent:e}function Nb(e,t,i=Na,r=!1){if(i){const o=i[e]||(i[e]=[]),d=t.__weh||(t.__weh=(...h)=>{if(i.isUnmounted)return;$g(),xf(i);const s=Gc(t,i,e,h);return uf(),Vg(),s});return r?o.unshift(d):o.push(d),d}}const hp=e=>(t,i=Na)=>(!Pg||e==="sp")&&Nb(e,(...r)=>t(...r),i),fS=hp("bm"),Go=hp("m"),Hg=hp("bu"),em=hp("u"),tm=hp("bum"),hh=hp("um"),mS=hp("sp"),gS=hp("rtg"),yS=hp("rtc");function _S(e,t=Na){Nb("ec",e,t)}function Ms(e,t){const i=yl;if(i===null)return e;const r=$b(i)||i.proxy,o=e.dirs||(e.dirs=[]);for(let d=0;d<t.length;d++){let[h,s,v,R=Hs]=t[d];h&&(Sr(h)&&(h={mounted:h,updated:h}),h.deep&&D0(s),o.push({dir:h,instance:r,value:s,oldValue:void 0,arg:v,modifiers:R}))}return e}function th(e,t,i,r){const o=e.dirs,d=t&&t.dirs;for(let h=0;h<o.length;h++){const s=o[h];d&&(s.oldValue=d[h].value);let v=s.dir[r];v&&($g(),Gc(v,i,8,[e.el,s,e,t]),Vg())}}const vS="components",NI="directives";function ur(e,t){return xS(vS,e,!0,t)||e}const Ek=Symbol();function Fb(e){return zr(e)?xS(vS,e,!1)||e:e||Ek}function jb(e){return xS(NI,e)}function xS(e,t,i=!0,r=!1){const o=yl||Na;if(o){const d=o.type;if(e===vS){const s=dT(d,!1);if(s&&(s===t||s===nl(t)||s===Sf(nl(t))))return d}const h=C5(o[e]||d[e],t)||C5(o.appContext[e],t);return!h&&r?d:h}}function C5(e,t){return e&&(e[t]||e[nl(t)]||e[Sf(nl(t))])}function Xn(e,t,i,r){let o;const d=i&&i[r];if(An(e)||zr(e)){o=new Array(e.length);for(let h=0,s=e.length;h<s;h++)o[h]=t(e[h],h,void 0,d&&d[h])}else if(typeof e=="number"){o=new Array(e);for(let h=0;h<e;h++)o[h]=t(h+1,h,void 0,d&&d[h])}else if(Zs(e))if(e[Symbol.iterator])o=Array.from(e,(h,s)=>t(h,s,void 0,d&&d[s]));else{const h=Object.keys(e);o=new Array(h.length);for(let s=0,v=h.length;s<v;s++){const R=h[s];o[s]=t(e[R],R,s,d&&d[s])}}else o=[];return i&&(i[r]=o),o}function Nl(e,t){for(let i=0;i<t.length;i++){const r=t[i];if(An(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const d=r.fn(...o);return d&&(d.key=r.key),d}:r.fn)}return e}function vn(e,t,i={},r,o){if(yl.isCE||yl.parent&&j0(yl.parent)&&yl.parent.isCE)return t!=="default"&&(i.name=t),an("slot",i,r&&r());let d=e[t];d&&d._c&&(d._d=!1),dt();const h=d&&Mk(d(i)),s=Dr(Yi,{key:i.key||h&&h.key||`_${t}`},h||(r?r():[]),h&&e._===1?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),d&&d._c&&(d._d=!0),s}function Mk(e){return e.some(t=>ap(t)?!(t.type===_l||t.type===Yi&&!Mk(t.children)):!0)?e:null}function kk(e,t){const i={};for(const r in e)i[t&&/[A-Z]/.test(r)?`on:${r}`:z0(r)]=e[r];return i}const iT=e=>e?Vk(e)?$b(e)||e.proxy:iT(e.parent):null,Ry=Is(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>iT(e.parent),$root:e=>iT(e.root),$emit:e=>e.emit,$options:e=>bS(e),$forceUpdate:e=>e.f||(e.f=()=>Ib(e.update)),$nextTick:e=>e.n||(e.n=Fa.bind(e.proxy)),$watch:e=>OI.bind(e)}),l3=(e,t)=>e!==Hs&&!e.__isScriptSetup&&bs(e,t),nT={get({_:e},t){const{ctx:i,setupState:r,data:o,props:d,accessCache:h,type:s,appContext:v}=e;let R;if(t[0]!=="$"){const q=h[t];if(q!==void 0)switch(q){case 1:return r[t];case 2:return o[t];case 4:return i[t];case 3:return d[t]}else{if(l3(r,t))return h[t]=1,r[t];if(o!==Hs&&bs(o,t))return h[t]=2,o[t];if((R=e.propsOptions[0])&&bs(R,t))return h[t]=3,d[t];if(i!==Hs&&bs(i,t))return h[t]=4,i[t];rT&&(h[t]=0)}}const K=Ry[t];let k,z;if(K)return t==="$attrs"&&vd(e,"get",t),K(e);if((k=s.__cssModules)&&(k=k[t]))return k;if(i!==Hs&&bs(i,t))return h[t]=4,i[t];if(z=v.config.globalProperties,bs(z,t))return z[t]},set({_:e},t,i){const{data:r,setupState:o,ctx:d}=e;return l3(o,t)?(o[t]=i,!0):r!==Hs&&bs(r,t)?(r[t]=i,!0):bs(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(d[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:o,propsOptions:d}},h){let s;return!!i[h]||e!==Hs&&bs(e,h)||l3(t,h)||(s=d[0])&&bs(s,h)||bs(r,h)||bs(Ry,h)||bs(o.config.globalProperties,h)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:bs(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},FI=Is({},nT,{get(e,t){if(t!==Symbol.unscopables)return nT.get(e,t,e)},has(e,t){return t[0]!=="_"&&!wD(t)}});let rT=!0;function jI(e){const t=bS(e),i=e.proxy,r=e.ctx;rT=!1,t.beforeCreate&&E5(t.beforeCreate,e,"bc");const{data:o,computed:d,methods:h,watch:s,provide:v,inject:R,created:K,beforeMount:k,mounted:z,beforeUpdate:q,updated:L,activated:O,deactivated:G,beforeDestroy:M,beforeUnmount:S,destroyed:D,unmounted:H,render:U,renderTracked:E,renderTriggered:ie,errorCaptured:te,serverPrefetch:$,expose:V,inheritAttrs:j,components:x,directives:P,filters:f}=t;if(R&&UI(R,r,null,e.appContext.config.unwrapInjectedRef),h)for(const A in h){const X=h[A];Sr(X)&&(r[A]=X.bind(i))}if(o){const A=o.call(i,i);Zs(A)&&(e.data=iu(A))}if(rT=!0,d)for(const A in d){const X=d[A],Y=Sr(X)?X.bind(i,i):Sr(X.get)?X.get.bind(i,i):xc,J=!Sr(X)&&Sr(X.set)?X.set.bind(i):xc,ce=un({get:Y,set:J});Object.defineProperty(r,A,{enumerable:!0,configurable:!0,get:()=>ce.value,set:pe=>ce.value=pe})}if(s)for(const A in s)Ak(s[A],r,i,A);if(v){const A=Sr(v)?v.call(i):v;Reflect.ownKeys(A).forEach(X=>{Gg(X,A[X])})}K&&E5(K,e,"c");function b(A,X){An(X)?X.forEach(Y=>A(Y.bind(i))):X&&A(X.bind(i))}if(b(fS,k),b(Go,z),b(Hg,q),b(em,L),b(hS,O),b(pS,G),b(_S,te),b(yS,E),b(gS,ie),b(tm,S),b(hh,H),b(mS,$),An(V))if(V.length){const A=e.exposed||(e.exposed={});V.forEach(X=>{Object.defineProperty(A,X,{get:()=>i[X],set:Y=>i[X]=Y})})}else e.exposed||(e.exposed={});U&&e.render===xc&&(e.render=U),j!=null&&(e.inheritAttrs=j),x&&(e.components=x),P&&(e.directives=P)}function UI(e,t,i=xc,r=!1){An(e)&&(e=sT(e));for(const o in e){const d=e[o];let h;Zs(d)?"default"in d?h=F0(d.from||o,d.default,!0):h=F0(d.from||o):h=F0(d),ha(h)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>h.value,set:s=>h.value=s}):t[o]=h}}function E5(e,t,i){Gc(An(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function Ak(e,t,i,r){const o=r.includes(".")?bk(i,r):()=>i[r];if(zr(e)){const d=t[e];Sr(d)&&Xs(o,d)}else if(Sr(e))Xs(o,e.bind(i));else if(Zs(e))if(An(e))e.forEach(d=>Ak(d,t,i,r));else{const d=Sr(e.handler)?e.handler.bind(i):t[e.handler];Sr(d)&&Xs(o,d,e)}}function bS(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:o,optionsCache:d,config:{optionMergeStrategies:h}}=e.appContext,s=d.get(t);let v;return s?v=s:!o.length&&!i&&!r?v=t:(v={},o.length&&o.forEach(R=>Nx(v,R,h,!0)),Nx(v,t,h)),Zs(t)&&d.set(t,v),v}function Nx(e,t,i,r=!1){const{mixins:o,extends:d}=t;d&&Nx(e,d,i,!0),o&&o.forEach(h=>Nx(e,h,i,!0));for(const h in t)if(!(r&&h==="expose")){const s=$I[h]||i&&i[h];e[h]=s?s(e[h],t[h]):t[h]}return e}const $I={data:M5,props:C0,emits:C0,methods:C0,computed:C0,beforeCreate:gc,created:gc,beforeMount:gc,mounted:gc,beforeUpdate:gc,updated:gc,beforeDestroy:gc,beforeUnmount:gc,destroyed:gc,unmounted:gc,activated:gc,deactivated:gc,errorCaptured:gc,serverPrefetch:gc,components:C0,directives:C0,watch:GI,provide:M5,inject:VI};function M5(e,t){return t?e?function(){return Is(Sr(e)?e.call(this,this):e,Sr(t)?t.call(this,this):t)}:t:e}function VI(e,t){return C0(sT(e),sT(t))}function sT(e){if(An(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function gc(e,t){return e?[...new Set([].concat(e,t))]:t}function C0(e,t){return e?Is(Is(Object.create(null),e),t):t}function GI(e,t){if(!e)return t;if(!t)return e;const i=Is(Object.create(null),e);for(const r in t)i[r]=gc(e[r],t[r]);return i}function HI(e,t,i,r=!1){const o={},d={};Bx(d,Ub,1),e.propsDefaults=Object.create(null),Pk(e,t,o,d);for(const h in e.propsOptions[0])h in o||(o[h]=void 0);i?e.props=r?o:rS(o):e.type.props?e.props=o:e.props=d,e.attrs=d}function WI(e,t,i,r){const{props:o,attrs:d,vnode:{patchFlag:h}}=e,s=us(o),[v]=e.propsOptions;let R=!1;if((r||h>0)&&!(h&16)){if(h&8){const K=e.vnode.dynamicProps;for(let k=0;k<K.length;k++){let z=K[k];if(Ob(e.emitsOptions,z))continue;const q=t[z];if(v)if(bs(d,z))q!==d[z]&&(d[z]=q,R=!0);else{const L=nl(z);o[L]=oT(v,s,L,q,e,!1)}else q!==d[z]&&(d[z]=q,R=!0)}}}else{Pk(e,t,o,d)&&(R=!0);let K;for(const k in s)(!t||!bs(t,k)&&((K=gd(k))===k||!bs(t,K)))&&(v?i&&(i[k]!==void 0||i[K]!==void 0)&&(o[k]=oT(v,s,k,void 0,e,!0)):delete o[k]);if(d!==s)for(const k in d)(!t||!bs(t,k))&&(delete d[k],R=!0)}R&&op(e,"set","$attrs")}function Pk(e,t,i,r){const[o,d]=e.propsOptions;let h=!1,s;if(t)for(let v in t){if(B0(v))continue;const R=t[v];let K;o&&bs(o,K=nl(v))?!d||!d.includes(K)?i[K]=R:(s||(s={}))[K]=R:Ob(e.emitsOptions,v)||(!(v in r)||R!==r[v])&&(r[v]=R,h=!0)}if(d){const v=us(i),R=s||Hs;for(let K=0;K<d.length;K++){const k=d[K];i[k]=oT(o,v,k,R[k],e,!bs(R,k))}}return h}function oT(e,t,i,r,o,d){const h=e[i];if(h!=null){const s=bs(h,"default");if(s&&r===void 0){const v=h.default;if(h.type!==Function&&Sr(v)){const{propsDefaults:R}=o;i in R?r=R[i]:(xf(o),r=R[i]=v.call(null,t),uf())}else r=v}h[0]&&(d&&!s?r=!1:h[1]&&(r===""||r===gd(i))&&(r=!0))}return r}function Dk(e,t,i=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const d=e.props,h={},s=[];let v=!1;if(!Sr(e)){const K=k=>{v=!0;const[z,q]=Dk(k,t,!0);Is(h,z),q&&s.push(...q)};!i&&t.mixins.length&&t.mixins.forEach(K),e.extends&&K(e.extends),e.mixins&&e.mixins.forEach(K)}if(!d&&!v)return Zs(e)&&r.set(e,gg),gg;if(An(d))for(let K=0;K<d.length;K++){const k=nl(d[K]);k5(k)&&(h[k]=Hs)}else if(d)for(const K in d){const k=nl(K);if(k5(k)){const z=d[K],q=h[k]=An(z)||Sr(z)?{type:z}:Object.assign({},z);if(q){const L=D5(Boolean,q.type),O=D5(String,q.type);q[0]=L>-1,q[1]=O<0||L<O,(L>-1||bs(q,"default"))&&s.push(k)}}}const R=[h,s];return Zs(e)&&r.set(e,R),R}function k5(e){return e[0]!=="$"}function A5(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function P5(e,t){return A5(e)===A5(t)}function D5(e,t){return An(t)?t.findIndex(i=>P5(i,e)):Sr(t)&&P5(t,e)?0:-1}const Ik=e=>e[0]==="_"||e==="$stable",wS=e=>An(e)?e.map(fd):[fd(e)],YI=(e,t,i)=>{if(t._n)return t;const r=Hn((...o)=>wS(t(...o)),i);return r._c=!1,r},Lk=(e,t,i)=>{const r=e._ctx;for(const o in e){if(Ik(o))continue;const d=e[o];if(Sr(d))t[o]=YI(o,d,r);else if(d!=null){const h=wS(d);t[o]=()=>h}}},Ok=(e,t)=>{const i=wS(t);e.slots.default=()=>i},qI=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=us(t),Bx(t,"_",i)):Lk(t,e.slots={})}else e.slots={},t&&Ok(e,t);Bx(e.slots,Ub,1)},XI=(e,t,i)=>{const{vnode:r,slots:o}=e;let d=!0,h=Hs;if(r.shapeFlag&32){const s=t._;s?i&&s===1?d=!1:(Is(o,t),!i&&s===1&&delete o._):(d=!t.$stable,Lk(t,o)),h=t}else t&&(Ok(e,t),h={default:1});if(d)for(const s in o)!Ik(s)&&!(s in h)&&delete o[s]};function Rk(){return{app:null,config:{isNativeTag:wx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ZI=0;function KI(e,t){return function(r,o=null){Sr(r)||(r=Object.assign({},r)),o!=null&&!Zs(o)&&(o=null);const d=Rk(),h=new Set;let s=!1;const v=d.app={_uid:ZI++,_component:r,_props:o,_container:null,_context:d,_instance:null,version:LS,get config(){return d.config},set config(R){},use(R,...K){return h.has(R)||(R&&Sr(R.install)?(h.add(R),R.install(v,...K)):Sr(R)&&(h.add(R),R(v,...K))),v},mixin(R){return d.mixins.includes(R)||d.mixins.push(R),v},component(R,K){return K?(d.components[R]=K,v):d.components[R]},directive(R,K){return K?(d.directives[R]=K,v):d.directives[R]},mount(R,K,k){if(!s){const z=an(r,o);return z.appContext=d,K&&t?t(z,R):e(z,R,k),s=!0,v._container=R,R.__vue_app__=v,$b(z.component)||z.component.proxy}},unmount(){s&&(e(null,v._container),delete v._container.__vue_app__)},provide(R,K){return d.provides[R]=K,v}};return v}}function Fx(e,t,i,r,o=!1){if(An(e)){e.forEach((z,q)=>Fx(z,t&&(An(t)?t[q]:t),i,r,o));return}if(j0(r)&&!o)return;const d=r.shapeFlag&4?$b(r.component)||r.component.proxy:r.el,h=o?null:d,{i:s,r:v}=e,R=t&&t.r,K=s.refs===Hs?s.refs={}:s.refs,k=s.setupState;if(R!=null&&R!==v&&(zr(R)?(K[R]=null,bs(k,R)&&(k[R]=null)):ha(R)&&(R.value=null)),Sr(v))dh(v,s,12,[h,K]);else{const z=zr(v),q=ha(v);if(z||q){const L=()=>{if(e.f){const O=z?bs(k,v)?k[v]:K[v]:v.value;o?An(O)&&KT(O,d):An(O)?O.includes(d)||O.push(d):z?(K[v]=[d],bs(k,v)&&(k[v]=K[v])):(v.value=[d],e.k&&(K[e.k]=v.value))}else z?(K[v]=h,bs(k,v)&&(k[v]=h)):q&&(v.value=h,e.k&&(K[e.k]=h))};h?(L.id=-1,gl(L,i)):L()}}}let Zp=!1;const ix=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",nx=e=>e.nodeType===8;function JI(e){const{mt:t,p:i,o:{patchProp:r,createText:o,nextSibling:d,parentNode:h,remove:s,insert:v,createComment:R}}=e,K=(M,S)=>{if(!S.hasChildNodes()){i(null,M,S),zx(),S._vnode=M;return}Zp=!1,k(S.firstChild,M,null,null,null),zx(),S._vnode=M,Zp&&console.error("Hydration completed but contains mismatches.")},k=(M,S,D,H,U,E=!1)=>{const ie=nx(M)&&M.data==="[",te=()=>O(M,S,D,H,U,ie),{type:$,ref:V,shapeFlag:j,patchFlag:x}=S;let P=M.nodeType;S.el=M,x===-2&&(E=!1,S.dynamicChildren=null);let f=null;switch($){case vf:P!==3?S.children===""?(v(S.el=o(""),h(M),M),f=M):f=te():(M.data!==S.children&&(Zp=!0,M.data=S.children),f=d(M));break;case _l:P!==8||ie?f=te():f=d(M);break;case df:if(ie&&(M=d(M),P=M.nodeType),P===1||P===3){f=M;const g=!S.children.length;for(let b=0;b<S.staticCount;b++)g&&(S.children+=f.nodeType===1?f.outerHTML:f.data),b===S.staticCount-1&&(S.anchor=f),f=d(f);return ie?d(f):f}else te();break;case Yi:ie?f=L(M,S,D,H,U,E):f=te();break;default:if(j&1)P!==1||S.type.toLowerCase()!==M.tagName.toLowerCase()?f=te():f=z(M,S,D,H,U,E);else if(j&6){S.slotScopeIds=U;const g=h(M);if(t(S,g,null,D,H,ix(g),E),f=ie?G(M):d(M),f&&nx(f)&&f.data==="teleport end"&&(f=d(f)),j0(S)){let b;ie?(b=an(Yi),b.anchor=f?f.previousSibling:g.lastChild):b=M.nodeType===3?rs(""):an("div"),b.el=M,S.component.subTree=b}}else j&64?P!==8?f=te():f=S.type.hydrate(M,S,D,H,U,E,e,q):j&128&&(f=S.type.hydrate(M,S,D,H,ix(h(M)),U,E,e,k))}return V!=null&&Fx(V,null,H,S),f},z=(M,S,D,H,U,E)=>{E=E||!!S.dynamicChildren;const{type:ie,props:te,patchFlag:$,shapeFlag:V,dirs:j}=S,x=ie==="input"&&j||ie==="option";if(x||$!==-1){if(j&&th(S,null,D,"created"),te)if(x||!E||$&48)for(const f in te)(x&&f.endsWith("value")||J0(f)&&!B0(f))&&r(M,f,null,te[f],!1,void 0,D);else te.onClick&&r(M,"onClick",null,te.onClick,!1,void 0,D);let P;if((P=te&&te.onVnodeBeforeMount)&&jc(P,D,S),j&&th(S,null,D,"beforeMount"),((P=te&&te.onVnodeMounted)||j)&&_k(()=>{P&&jc(P,D,S),j&&th(S,null,D,"mounted")},H),V&16&&!(te&&(te.innerHTML||te.textContent))){let f=q(M.firstChild,S,M,D,H,U,E);for(;f;){Zp=!0;const g=f;f=f.nextSibling,s(g)}}else V&8&&M.textContent!==S.children&&(Zp=!0,M.textContent=S.children)}return M.nextSibling},q=(M,S,D,H,U,E,ie)=>{ie=ie||!!S.dynamicChildren;const te=S.children,$=te.length;for(let V=0;V<$;V++){const j=ie?te[V]:te[V]=fd(te[V]);if(M)M=k(M,j,H,U,E,ie);else{if(j.type===vf&&!j.children)continue;Zp=!0,i(null,j,D,null,H,U,ix(D),E)}}return M},L=(M,S,D,H,U,E)=>{const{slotScopeIds:ie}=S;ie&&(U=U?U.concat(ie):ie);const te=h(M),$=q(d(M),S,te,D,H,U,E);return $&&nx($)&&$.data==="]"?d(S.anchor=$):(Zp=!0,v(S.anchor=R("]"),te,$),$)},O=(M,S,D,H,U,E)=>{if(Zp=!0,S.el=null,E){const $=G(M);for(;;){const V=d(M);if(V&&V!==$)s(V);else break}}const ie=d(M),te=h(M);return s(M),i(null,S,te,ie,D,H,ix(te),U),ie},G=M=>{let S=0;for(;M;)if(M=d(M),M&&nx(M)&&(M.data==="["&&S++,M.data==="]")){if(S===0)return d(M);S--}return M};return[K,k]}const gl=_k;function TS(e){return Bk(e)}function SS(e){return Bk(e,JI)}function Bk(e,t){const i=UD();i.__VUE__=!0;const{insert:r,remove:o,patchProp:d,createElement:h,createText:s,createComment:v,setText:R,setElementText:K,parentNode:k,nextSibling:z,setScopeId:q=xc,insertStaticContent:L}=e,O=(oe,ye,Se,Re=null,Le=null,$e=null,rt=!1,Qe=null,qe=!!ye.dynamicChildren)=>{if(oe===ye)return;oe&&!nh(oe,ye)&&(Re=ue(oe),pe(oe,Le,$e,!0),oe=null),ye.patchFlag===-2&&(qe=!1,ye.dynamicChildren=null);const{type:xe,ref:Ie,shapeFlag:Be}=ye;switch(xe){case vf:G(oe,ye,Se,Re);break;case _l:M(oe,ye,Se,Re);break;case df:oe==null&&S(ye,Se,Re,rt);break;case Yi:x(oe,ye,Se,Re,Le,$e,rt,Qe,qe);break;default:Be&1?U(oe,ye,Se,Re,Le,$e,rt,Qe,qe):Be&6?P(oe,ye,Se,Re,Le,$e,rt,Qe,qe):(Be&64||Be&128)&&xe.process(oe,ye,Se,Re,Le,$e,rt,Qe,qe,ne)}Ie!=null&&Le&&Fx(Ie,oe&&oe.ref,$e,ye||oe,!ye)},G=(oe,ye,Se,Re)=>{if(oe==null)r(ye.el=s(ye.children),Se,Re);else{const Le=ye.el=oe.el;ye.children!==oe.children&&R(Le,ye.children)}},M=(oe,ye,Se,Re)=>{oe==null?r(ye.el=v(ye.children||""),Se,Re):ye.el=oe.el},S=(oe,ye,Se,Re)=>{[oe.el,oe.anchor]=L(oe.children,ye,Se,Re,oe.el,oe.anchor)},D=({el:oe,anchor:ye},Se,Re)=>{let Le;for(;oe&&oe!==ye;)Le=z(oe),r(oe,Se,Re),oe=Le;r(ye,Se,Re)},H=({el:oe,anchor:ye})=>{let Se;for(;oe&&oe!==ye;)Se=z(oe),o(oe),oe=Se;o(ye)},U=(oe,ye,Se,Re,Le,$e,rt,Qe,qe)=>{rt=rt||ye.type==="svg",oe==null?E(ye,Se,Re,Le,$e,rt,Qe,qe):$(oe,ye,Le,$e,rt,Qe,qe)},E=(oe,ye,Se,Re,Le,$e,rt,Qe)=>{let qe,xe;const{type:Ie,props:Be,shapeFlag:Xe,transition:Ke,dirs:ft}=oe;if(qe=oe.el=h(oe.type,$e,Be&&Be.is,Be),Xe&8?K(qe,oe.children):Xe&16&&te(oe.children,qe,null,Re,Le,$e&&Ie!=="foreignObject",rt,Qe),ft&&th(oe,null,Re,"created"),Be){for(const Ot in Be)Ot!=="value"&&!B0(Ot)&&d(qe,Ot,null,Be[Ot],$e,oe.children,Re,Le,se);"value"in Be&&d(qe,"value",null,Be.value),(xe=Be.onVnodeBeforeMount)&&jc(xe,Re,oe)}ie(qe,oe,oe.scopeId,rt,Re),ft&&th(oe,null,Re,"beforeMount");const St=(!Le||Le&&!Le.pendingBranch)&&Ke&&!Ke.persisted;St&&Ke.beforeEnter(qe),r(qe,ye,Se),((xe=Be&&Be.onVnodeMounted)||St||ft)&&gl(()=>{xe&&jc(xe,Re,oe),St&&Ke.enter(qe),ft&&th(oe,null,Re,"mounted")},Le)},ie=(oe,ye,Se,Re,Le)=>{if(Se&&q(oe,Se),Re)for(let $e=0;$e<Re.length;$e++)q(oe,Re[$e]);if(Le){let $e=Le.subTree;if(ye===$e){const rt=Le.vnode;ie(oe,rt,rt.scopeId,rt.slotScopeIds,Le.parent)}}},te=(oe,ye,Se,Re,Le,$e,rt,Qe,qe=0)=>{for(let xe=qe;xe<oe.length;xe++){const Ie=oe[xe]=Qe?nf(oe[xe]):fd(oe[xe]);O(null,Ie,ye,Se,Re,Le,$e,rt,Qe)}},$=(oe,ye,Se,Re,Le,$e,rt)=>{const Qe=ye.el=oe.el;let{patchFlag:qe,dynamicChildren:xe,dirs:Ie}=ye;qe|=oe.patchFlag&16;const Be=oe.props||Hs,Xe=ye.props||Hs;let Ke;Se&&x0(Se,!1),(Ke=Xe.onVnodeBeforeUpdate)&&jc(Ke,Se,ye,oe),Ie&&th(ye,oe,Se,"beforeUpdate"),Se&&x0(Se,!0);const ft=Le&&ye.type!=="foreignObject";if(xe?V(oe.dynamicChildren,xe,Qe,Se,Re,ft,$e):rt||X(oe,ye,Qe,null,Se,Re,ft,$e,!1),qe>0){if(qe&16)j(Qe,ye,Be,Xe,Se,Re,Le);else if(qe&2&&Be.class!==Xe.class&&d(Qe,"class",null,Xe.class,Le),qe&4&&d(Qe,"style",Be.style,Xe.style,Le),qe&8){const St=ye.dynamicProps;for(let Ot=0;Ot<St.length;Ot++){const yi=St[Ot],Wt=Be[yi],fi=Xe[yi];(fi!==Wt||yi==="value")&&d(Qe,yi,Wt,fi,Le,oe.children,Se,Re,se)}}qe&1&&oe.children!==ye.children&&K(Qe,ye.children)}else!rt&&xe==null&&j(Qe,ye,Be,Xe,Se,Re,Le);((Ke=Xe.onVnodeUpdated)||Ie)&&gl(()=>{Ke&&jc(Ke,Se,ye,oe),Ie&&th(ye,oe,Se,"updated")},Re)},V=(oe,ye,Se,Re,Le,$e,rt)=>{for(let Qe=0;Qe<ye.length;Qe++){const qe=oe[Qe],xe=ye[Qe],Ie=qe.el&&(qe.type===Yi||!nh(qe,xe)||qe.shapeFlag&70)?k(qe.el):Se;O(qe,xe,Ie,null,Re,Le,$e,rt,!0)}},j=(oe,ye,Se,Re,Le,$e,rt)=>{if(Se!==Re){if(Se!==Hs)for(const Qe in Se)!B0(Qe)&&!(Qe in Re)&&d(oe,Qe,Se[Qe],null,rt,ye.children,Le,$e,se);for(const Qe in Re){if(B0(Qe))continue;const qe=Re[Qe],xe=Se[Qe];qe!==xe&&Qe!=="value"&&d(oe,Qe,xe,qe,rt,ye.children,Le,$e,se)}"value"in Re&&d(oe,"value",Se.value,Re.value)}},x=(oe,ye,Se,Re,Le,$e,rt,Qe,qe)=>{const xe=ye.el=oe?oe.el:s(""),Ie=ye.anchor=oe?oe.anchor:s("");let{patchFlag:Be,dynamicChildren:Xe,slotScopeIds:Ke}=ye;Ke&&(Qe=Qe?Qe.concat(Ke):Ke),oe==null?(r(xe,Se,Re),r(Ie,Se,Re),te(ye.children,Se,Ie,Le,$e,rt,Qe,qe)):Be>0&&Be&64&&Xe&&oe.dynamicChildren?(V(oe.dynamicChildren,Xe,Se,Le,$e,rt,Qe),(ye.key!=null||Le&&ye===Le.subTree)&&CS(oe,ye,!0)):X(oe,ye,Se,Ie,Le,$e,rt,Qe,qe)},P=(oe,ye,Se,Re,Le,$e,rt,Qe,qe)=>{ye.slotScopeIds=Qe,oe==null?ye.shapeFlag&512?Le.ctx.activate(ye,Se,Re,rt,qe):f(ye,Se,Re,Le,$e,rt,qe):g(oe,ye,qe)},f=(oe,ye,Se,Re,Le,$e,rt)=>{const Qe=oe.component=$k(oe,Re,Le);if(f_(oe)&&(Qe.ctx.renderer=ne),Gk(Qe),Qe.asyncDep){if(Le&&Le.registerDep(Qe,b),!oe.el){const qe=Qe.subTree=an(_l);M(null,qe,ye,Se)}return}b(Qe,oe,ye,Se,Le,$e,rt)},g=(oe,ye,Se)=>{const Re=ye.component=oe.component;if(kI(oe,ye,Se))if(Re.asyncDep&&!Re.asyncResolved){A(Re,ye,Se);return}else Re.next=ye,wI(Re.update),Re.update();else ye.el=oe.el,Re.vnode=ye},b=(oe,ye,Se,Re,Le,$e,rt)=>{const Qe=()=>{if(oe.isMounted){let{next:Ie,bu:Be,u:Xe,parent:Ke,vnode:ft}=oe,St=Ie,Ot;x0(oe,!1),Ie?(Ie.el=ft.el,A(oe,Ie,rt)):Ie=ft,Be&&_g(Be),(Ot=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&jc(Ot,Ke,Ie,ft),x0(oe,!0);const yi=Tx(oe),Wt=oe.subTree;oe.subTree=yi,O(Wt,yi,k(Wt.el),ue(Wt),oe,Le,$e),Ie.el=yi.el,St===null&&cS(oe,yi.el),Xe&&gl(Xe,Le),(Ot=Ie.props&&Ie.props.onVnodeUpdated)&&gl(()=>jc(Ot,Ke,Ie,ft),Le)}else{let Ie;const{el:Be,props:Xe}=ye,{bm:Ke,m:ft,parent:St}=oe,Ot=j0(ye);if(x0(oe,!1),Ke&&_g(Ke),!Ot&&(Ie=Xe&&Xe.onVnodeBeforeMount)&&jc(Ie,St,ye),x0(oe,!0),Be&&_e){const yi=()=>{oe.subTree=Tx(oe),_e(Be,oe.subTree,oe,Le,null)};Ot?ye.type.__asyncLoader().then(()=>!oe.isUnmounted&&yi()):yi()}else{const yi=oe.subTree=Tx(oe);O(null,yi,Se,Re,oe,Le,$e),ye.el=yi.el}if(ft&&gl(ft,Le),!Ot&&(Ie=Xe&&Xe.onVnodeMounted)){const yi=ye;gl(()=>jc(Ie,St,yi),Le)}(ye.shapeFlag&256||St&&j0(St.vnode)&&St.vnode.shapeFlag&256)&&oe.a&&gl(oe.a,Le),oe.isMounted=!0,ye=Se=Re=null}},qe=oe.effect=new Ug(Qe,()=>Ib(xe),oe.scope),xe=oe.update=()=>qe.run();xe.id=oe.uid,x0(oe,!0),xe()},A=(oe,ye,Se)=>{ye.component=oe;const Re=oe.vnode.props;oe.vnode=ye,oe.next=null,WI(oe,ye.props,Re,Se),XI(oe,ye.children,Se),$g(),b5(),Vg()},X=(oe,ye,Se,Re,Le,$e,rt,Qe,qe=!1)=>{const xe=oe&&oe.children,Ie=oe?oe.shapeFlag:0,Be=ye.children,{patchFlag:Xe,shapeFlag:Ke}=ye;if(Xe>0){if(Xe&128){J(xe,Be,Se,Re,Le,$e,rt,Qe,qe);return}else if(Xe&256){Y(xe,Be,Se,Re,Le,$e,rt,Qe,qe);return}}Ke&8?(Ie&16&&se(xe,Le,$e),Be!==xe&&K(Se,Be)):Ie&16?Ke&16?J(xe,Be,Se,Re,Le,$e,rt,Qe,qe):se(xe,Le,$e,!0):(Ie&8&&K(Se,""),Ke&16&&te(Be,Se,Re,Le,$e,rt,Qe,qe))},Y=(oe,ye,Se,Re,Le,$e,rt,Qe,qe)=>{oe=oe||gg,ye=ye||gg;const xe=oe.length,Ie=ye.length,Be=Math.min(xe,Ie);let Xe;for(Xe=0;Xe<Be;Xe++){const Ke=ye[Xe]=qe?nf(ye[Xe]):fd(ye[Xe]);O(oe[Xe],Ke,Se,null,Le,$e,rt,Qe,qe)}xe>Ie?se(oe,Le,$e,!0,!1,Be):te(ye,Se,Re,Le,$e,rt,Qe,qe,Be)},J=(oe,ye,Se,Re,Le,$e,rt,Qe,qe)=>{let xe=0;const Ie=ye.length;let Be=oe.length-1,Xe=Ie-1;for(;xe<=Be&&xe<=Xe;){const Ke=oe[xe],ft=ye[xe]=qe?nf(ye[xe]):fd(ye[xe]);if(nh(Ke,ft))O(Ke,ft,Se,null,Le,$e,rt,Qe,qe);else break;xe++}for(;xe<=Be&&xe<=Xe;){const Ke=oe[Be],ft=ye[Xe]=qe?nf(ye[Xe]):fd(ye[Xe]);if(nh(Ke,ft))O(Ke,ft,Se,null,Le,$e,rt,Qe,qe);else break;Be--,Xe--}if(xe>Be){if(xe<=Xe){const Ke=Xe+1,ft=Ke<Ie?ye[Ke].el:Re;for(;xe<=Xe;)O(null,ye[xe]=qe?nf(ye[xe]):fd(ye[xe]),Se,ft,Le,$e,rt,Qe,qe),xe++}}else if(xe>Xe)for(;xe<=Be;)pe(oe[xe],Le,$e,!0),xe++;else{const Ke=xe,ft=xe,St=new Map;for(xe=ft;xe<=Xe;xe++){const ei=ye[xe]=qe?nf(ye[xe]):fd(ye[xe]);ei.key!=null&&St.set(ei.key,xe)}let Ot,yi=0;const Wt=Xe-ft+1;let fi=!1,Hi=0;const pt=new Array(Wt);for(xe=0;xe<Wt;xe++)pt[xe]=0;for(xe=Ke;xe<=Be;xe++){const ei=oe[xe];if(yi>=Wt){pe(ei,Le,$e,!0);continue}let Pi;if(ei.key!=null)Pi=St.get(ei.key);else for(Ot=ft;Ot<=Xe;Ot++)if(pt[Ot-ft]===0&&nh(ei,ye[Ot])){Pi=Ot;break}Pi===void 0?pe(ei,Le,$e,!0):(pt[Pi-ft]=xe+1,Pi>=Hi?Hi=Pi:fi=!0,O(ei,ye[Pi],Se,null,Le,$e,rt,Qe,qe),yi++)}const Lt=fi?QI(pt):gg;for(Ot=Lt.length-1,xe=Wt-1;xe>=0;xe--){const ei=ft+xe,Pi=ye[ei],cn=ei+1<Ie?ye[ei+1].el:Re;pt[xe]===0?O(null,Pi,Se,cn,Le,$e,rt,Qe,qe):fi&&(Ot<0||xe!==Lt[Ot]?ce(Pi,Se,cn,2):Ot--)}}},ce=(oe,ye,Se,Re,Le=null)=>{const{el:$e,type:rt,transition:Qe,children:qe,shapeFlag:xe}=oe;if(xe&6){ce(oe.component.subTree,ye,Se,Re);return}if(xe&128){oe.suspense.move(ye,Se,Re);return}if(xe&64){rt.move(oe,ye,Se,ne);return}if(rt===Yi){r($e,ye,Se);for(let Be=0;Be<qe.length;Be++)ce(qe[Be],ye,Se,Re);r(oe.anchor,ye,Se);return}if(rt===df){D(oe,ye,Se);return}if(Re!==2&&xe&1&&Qe)if(Re===0)Qe.beforeEnter($e),r($e,ye,Se),gl(()=>Qe.enter($e),Le);else{const{leave:Be,delayLeave:Xe,afterLeave:Ke}=Qe,ft=()=>r($e,ye,Se),St=()=>{Be($e,()=>{ft(),Ke&&Ke()})};Xe?Xe($e,ft,St):St()}else r($e,ye,Se)},pe=(oe,ye,Se,Re=!1,Le=!1)=>{const{type:$e,props:rt,ref:Qe,children:qe,dynamicChildren:xe,shapeFlag:Ie,patchFlag:Be,dirs:Xe}=oe;if(Qe!=null&&Fx(Qe,null,Se,oe,!0),Ie&256){ye.ctx.deactivate(oe);return}const Ke=Ie&1&&Xe,ft=!j0(oe);let St;if(ft&&(St=rt&&rt.onVnodeBeforeUnmount)&&jc(St,ye,oe),Ie&6)Q(oe.component,Se,Re);else{if(Ie&128){oe.suspense.unmount(Se,Re);return}Ke&&th(oe,null,ye,"beforeUnmount"),Ie&64?oe.type.remove(oe,ye,Se,Le,ne,Re):xe&&($e!==Yi||Be>0&&Be&64)?se(xe,ye,Se,!1,!0):($e===Yi&&Be&384||!Le&&Ie&16)&&se(qe,ye,Se),Re&&fe(oe)}(ft&&(St=rt&&rt.onVnodeUnmounted)||Ke)&&gl(()=>{St&&jc(St,ye,oe),Ke&&th(oe,null,ye,"unmounted")},Se)},fe=oe=>{const{type:ye,el:Se,anchor:Re,transition:Le}=oe;if(ye===Yi){F(Se,Re);return}if(ye===df){H(oe);return}const $e=()=>{o(Se),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(oe.shapeFlag&1&&Le&&!Le.persisted){const{leave:rt,delayLeave:Qe}=Le,qe=()=>rt(Se,$e);Qe?Qe(oe.el,$e,qe):qe()}else $e()},F=(oe,ye)=>{let Se;for(;oe!==ye;)Se=z(oe),o(oe),oe=Se;o(ye)},Q=(oe,ye,Se)=>{const{bum:Re,scope:Le,update:$e,subTree:rt,um:Qe}=oe;Re&&_g(Re),Le.stop(),$e&&($e.active=!1,pe(rt,oe,ye,Se)),Qe&&gl(Qe,ye),gl(()=>{oe.isUnmounted=!0},ye),ye&&ye.pendingBranch&&!ye.isUnmounted&&oe.asyncDep&&!oe.asyncResolved&&oe.suspenseId===ye.pendingId&&(ye.deps--,ye.deps===0&&ye.resolve())},se=(oe,ye,Se,Re=!1,Le=!1,$e=0)=>{for(let rt=$e;rt<oe.length;rt++)pe(oe[rt],ye,Se,Re,Le)},ue=oe=>oe.shapeFlag&6?ue(oe.component.subTree):oe.shapeFlag&128?oe.suspense.next():z(oe.anchor||oe.el),Ce=(oe,ye,Se)=>{oe==null?ye._vnode&&pe(ye._vnode,null,null,!0):O(ye._vnode||null,oe,ye,null,null,null,Se),b5(),zx(),ye._vnode=oe},ne={p:O,um:pe,m:ce,r:fe,mt:f,mc:te,pc:X,pbc:V,n:ue,o:e};let ve,_e;return t&&([ve,_e]=t(ne)),{render:Ce,hydrate:ve,createApp:KI(Ce,ve)}}function x0({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function CS(e,t,i=!1){const r=e.children,o=t.children;if(An(r)&&An(o))for(let d=0;d<r.length;d++){const h=r[d];let s=o[d];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[d]=nf(o[d]),s.el=h.el),i||CS(h,s)),s.type===vf&&(s.el=h.el)}}function QI(e){const t=e.slice(),i=[0];let r,o,d,h,s;const v=e.length;for(r=0;r<v;r++){const R=e[r];if(R!==0){if(o=i[i.length-1],e[o]<R){t[r]=o,i.push(r);continue}for(d=0,h=i.length-1;d<h;)s=d+h>>1,e[i[s]]<R?d=s+1:h=s;R<e[i[d]]&&(d>0&&(t[r]=i[d-1]),i[d]=r)}}for(d=i.length,h=i[d-1];d-- >0;)i[d]=h,h=t[h];return i}const eL=e=>e.__isTeleport,By=e=>e&&(e.disabled||e.disabled===""),I5=e=>typeof SVGElement<"u"&&e instanceof SVGElement,aT=(e,t)=>{const i=e&&e.to;return zr(i)?t?t(i):null:i},tL={__isTeleport:!0,process(e,t,i,r,o,d,h,s,v,R){const{mc:K,pc:k,pbc:z,o:{insert:q,querySelector:L,createText:O,createComment:G}}=R,M=By(t.props);let{shapeFlag:S,children:D,dynamicChildren:H}=t;if(e==null){const U=t.el=O(""),E=t.anchor=O("");q(U,i,r),q(E,i,r);const ie=t.target=aT(t.props,L),te=t.targetAnchor=O("");ie&&(q(te,ie),h=h||I5(ie));const $=(V,j)=>{S&16&&K(D,V,j,o,d,h,s,v)};M?$(i,E):ie&&$(ie,te)}else{t.el=e.el;const U=t.anchor=e.anchor,E=t.target=e.target,ie=t.targetAnchor=e.targetAnchor,te=By(e.props),$=te?i:E,V=te?U:ie;if(h=h||I5(E),H?(z(e.dynamicChildren,H,$,o,d,h,s),CS(e,t,!0)):v||k(e,t,$,V,o,d,h,s,!1),M)te||rx(t,i,U,R,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=aT(t.props,L);j&&rx(t,j,null,R,0)}else te&&rx(t,E,ie,R,1)}zk(t)},remove(e,t,i,r,{um:o,o:{remove:d}},h){const{shapeFlag:s,children:v,anchor:R,targetAnchor:K,target:k,props:z}=e;if(k&&d(K),(h||!By(z))&&(d(R),s&16))for(let q=0;q<v.length;q++){const L=v[q];o(L,t,i,!0,!!L.dynamicChildren)}},move:rx,hydrate:iL};function rx(e,t,i,{o:{insert:r},m:o},d=2){d===0&&r(e.targetAnchor,t,i);const{el:h,anchor:s,shapeFlag:v,children:R,props:K}=e,k=d===2;if(k&&r(h,t,i),(!k||By(K))&&v&16)for(let z=0;z<R.length;z++)o(R[z],t,i,2);k&&r(s,t,i)}function iL(e,t,i,r,o,d,{o:{nextSibling:h,parentNode:s,querySelector:v}},R){const K=t.target=aT(t.props,v);if(K){const k=K._lpa||K.firstChild;if(t.shapeFlag&16)if(By(t.props))t.anchor=R(h(e),t,s(e),i,r,o,d),t.targetAnchor=k;else{t.anchor=h(e);let z=k;for(;z;)if(z=h(z),z&&z.nodeType===8&&z.data==="teleport anchor"){t.targetAnchor=z,K._lpa=t.targetAnchor&&h(t.targetAnchor);break}R(k,t,K,i,r,o,d)}zk(t)}return t.anchor&&h(t.anchor)}const ES=tL;function zk(e){const t=e.ctx;if(t&&t.ut){let i=e.children[0].el;for(;i!==e.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}const Yi=Symbol(void 0),vf=Symbol(void 0),_l=Symbol(void 0),df=Symbol(void 0),zy=[];let $c=null;function dt(e=!1){zy.push($c=e?null:[])}function Nk(){zy.pop(),$c=zy[zy.length-1]||null}let Y0=1;function jx(e){Y0+=e}function Fk(e){return e.dynamicChildren=Y0>0?$c||gg:null,Nk(),Y0>0&&$c&&$c.push(e),e}function vt(e,t,i,r,o,d){return Fk(Ne(e,t,i,r,o,d,!0))}function Dr(e,t,i,r,o){return Fk(an(e,t,i,r,o,!0))}function ap(e){return e?e.__v_isVNode===!0:!1}function nh(e,t){return e.type===t.type&&e.key===t.key}function jk(e){}const Ub="__vInternal",Uk=({key:e})=>e??null,Sx=({ref:e,ref_key:t,ref_for:i})=>e!=null?zr(e)||ha(e)||Sr(e)?{i:yl,r:e,k:t,f:!!i}:e:null;function Ne(e,t=null,i=null,r=0,o=null,d=e===Yi?0:1,h=!1,s=!1){const v={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Uk(t),ref:t&&Sx(t),scopeId:Rb,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:yl};return s?(MS(v,i),d&128&&e.normalize(v)):i&&(v.shapeFlag|=zr(i)?8:16),Y0>0&&!h&&$c&&(v.patchFlag>0||d&6)&&v.patchFlag!==32&&$c.push(v),v}const an=nL;function nL(e,t=null,i=null,r=0,o=null,d=!1){if((!e||e===Ek)&&(e=_l),ap(e)){const s=Eu(e,t,!0);return i&&MS(s,i),Y0>0&&!d&&$c&&(s.shapeFlag&6?$c[$c.indexOf(e)]=s:$c.push(s)),s.patchFlag|=-2,s}if(lL(e)&&(e=e.__vccOpts),t){t=Bl(t);let{class:s,style:v}=t;s&&!zr(s)&&(t.class=Ln(s)),Zs(v)&&(kb(v)&&!An(v)&&(v=Is({},v)),t.style=$o(v))}const h=zr(e)?1:gk(e)?128:eL(e)?64:Zs(e)?4:Sr(e)?2:0;return Ne(e,t,i,r,o,h,d,!0)}function Bl(e){return e?kb(e)||Ub in e?Is({},e):e:null}function Eu(e,t,i=!1){const{props:r,ref:o,patchFlag:d,children:h}=e,s=t?Ko(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Uk(s),ref:t&&t.ref?i&&o?An(o)?o.concat(Sx(t)):[o,Sx(t)]:Sx(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Yi?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Eu(e.ssContent),ssFallback:e.ssFallback&&Eu(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function rs(e=" ",t=0){return an(vf,null,e,t)}function nu(e,t){const i=an(df,null,e);return i.staticCount=t,i}function di(e="",t=!1){return t?(dt(),Dr(_l,null,e)):an(_l,null,e)}function fd(e){return e==null||typeof e=="boolean"?an(_l):An(e)?an(Yi,null,e.slice()):typeof e=="object"?nf(e):an(vf,null,String(e))}function nf(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Eu(e)}function MS(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(An(t))i=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),MS(e,o()),o._c&&(o._d=!0));return}else{i=32;const o=t._;!o&&!(Ub in t)?t._ctx=yl:o===3&&yl&&(yl.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Sr(t)?(t={default:t,_ctx:yl},i=32):(t=String(t),r&64?(i=16,t=[rs(t)]):i=8);e.children=t,e.shapeFlag|=i}function Ko(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Ln([t.class,r.class]));else if(o==="style")t.style=$o([t.style,r.style]);else if(J0(o)){const d=t[o],h=r[o];h&&d!==h&&!(An(d)&&d.includes(h))&&(t[o]=d?[].concat(d,h):h)}else o!==""&&(t[o]=r[o])}return t}function jc(e,t,i,r=null){Gc(e,t,7,[i,r])}const rL=Rk();let sL=0;function $k(e,t,i){const r=e.type,o=(t?t.appContext:e.appContext)||rL,d={uid:sL++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new wb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dk(r,o),emitsOptions:fk(r,o),emit:null,emitted:null,propsDefaults:Hs,inheritAttrs:r.inheritAttrs,ctx:Hs,data:Hs,props:Hs,attrs:Hs,slots:Hs,refs:Hs,setupState:Hs,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=SI.bind(null,d),e.ce&&e.ce(d),d}let Na=null;const pp=()=>Na||yl,xf=e=>{Na=e,e.scope.on()},uf=()=>{Na&&Na.scope.off(),Na=null};function Vk(e){return e.vnode.shapeFlag&4}let Pg=!1;function Gk(e,t=!1){Pg=t;const{props:i,children:r}=e.vnode,o=Vk(e);HI(e,i,o,t),qI(e,r);const d=o?oL(e,t):void 0;return Pg=!1,d}function oL(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=Ab(new Proxy(e.ctx,nT));const{setup:r}=i;if(r){const o=e.setupContext=r.length>1?Yk(e):null;xf(e),$g();const d=dh(r,e,0,[e.props,o]);if(Vg(),uf(),JT(d)){if(d.then(uf,uf),t)return d.then(h=>{lT(e,h,t)}).catch(h=>{Cf(h,e,0)});e.asyncDep=d}else lT(e,d,t)}else Wk(e,t)}function lT(e,t,i){Sr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Zs(t)&&(e.setupState=Db(t)),Wk(e,i)}let Ux,cT;function kS(e){Ux=e,cT=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,FI))}}const Hk=()=>!Ux;function Wk(e,t,i){const r=e.type;if(!e.render){if(!t&&Ux&&!r.render){const o=r.template||bS(e).template;if(o){const{isCustomElement:d,compilerOptions:h}=e.appContext.config,{delimiters:s,compilerOptions:v}=r,R=Is(Is({isCustomElement:d,delimiters:s},h),v);r.render=Ux(o,R)}}e.render=r.render||xc,cT&&cT(e)}xf(e),$g(),jI(e),Vg(),uf()}function aL(e){return new Proxy(e.attrs,{get(t,i){return vd(e,"get","$attrs"),t[i]}})}function Yk(e){const t=r=>{e.exposed=r||{}};let i;return{get attrs(){return i||(i=aL(e))},slots:e.slots,emit:e.emit,expose:t}}function $b(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Db(Ab(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Ry)return Ry[i](e)},has(t,i){return i in t||i in Ry}}))}function dT(e,t=!0){return Sr(e)?e.displayName||e.name:e.name||t&&e.__name}function lL(e){return Sr(e)&&"__vccOpts"in e}const un=(e,t)=>vI(e,t,Pg);function qk(){return null}function Xk(){return null}function Zk(e){}function Kk(e,t){return null}function m_(){return Jk().slots}function AS(){return Jk().attrs}function Jk(){const e=pp();return e.setupContext||(e.setupContext=Yk(e))}function Qk(e,t){const i=An(e)?e.reduce((r,o)=>(r[o]={},r),{}):e;for(const r in t){const o=i[r];o?An(o)||Sr(o)?i[r]={type:o,default:t[r]}:o.default=t[r]:o===null&&(i[r]={default:t[r]})}return i}function eA(e,t){const i={};for(const r in e)t.includes(r)||Object.defineProperty(i,r,{enumerable:!0,get:()=>e[r]});return i}function tA(e){const t=pp();let i=e();return uf(),JT(i)&&(i=i.catch(r=>{throw xf(t),r})),[i,()=>xf(t)]}function Uc(e,t,i){const r=arguments.length;return r===2?Zs(t)&&!An(t)?ap(t)?an(e,null,[t]):an(e,t):an(e,null,t):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&ap(i)&&(i=[i]),an(e,t,i))}const PS=Symbol(""),DS=()=>F0(PS);function iA(){}function nA(e,t,i,r){const o=i[r];if(o&&IS(o,e))return o;const d=t();return d.memo=e.slice(),i[r]=d}function IS(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let r=0;r<i.length;r++)if(kg(i[r],t[r]))return!1;return Y0>0&&$c&&$c.push(e),!0}const LS="3.2.45",cL={createComponentInstance:$k,setupComponent:Gk,renderComponentRoot:Tx,setCurrentRenderingInstance:Xy,isVNode:ap,normalizeVNode:fd},rA=cL,sA=null,oA=null,dL="http://www.w3.org/2000/svg",P0=typeof document<"u"?document:null,L5=P0&&P0.createElement("template"),uL={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const o=t?P0.createElementNS(dL,e):P0.createElement(e,i?{is:i}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>P0.createTextNode(e),createComment:e=>P0.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>P0.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,o,d){const h=i?i.previousSibling:t.lastChild;if(o&&(o===d||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),i),!(o===d||!(o=o.nextSibling)););else{L5.innerHTML=r?`<svg>${e}</svg>`:e;const s=L5.content;if(r){const v=s.firstChild;for(;v.firstChild;)s.appendChild(v.firstChild);s.removeChild(v)}t.insertBefore(s,i)}return[h?h.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function hL(e,t,i){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function pL(e,t,i){const r=e.style,o=zr(i);if(i&&!o){for(const d in i)uT(r,d,i[d]);if(t&&!zr(t))for(const d in t)i[d]==null&&uT(r,d,"")}else{const d=r.display;o?t!==i&&(r.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=d)}}const O5=/\s*!important$/;function uT(e,t,i){if(An(i))i.forEach(r=>uT(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=fL(e,t);O5.test(i)?e.setProperty(gd(r),i.replace(O5,""),"important"):e[r]=i}}const R5=["Webkit","Moz","ms"],c3={};function fL(e,t){const i=c3[t];if(i)return i;let r=nl(t);if(r!=="filter"&&r in e)return c3[t]=r;r=Sf(r);for(let o=0;o<R5.length;o++){const d=R5[o]+r;if(d in e)return c3[t]=d}return t}const B5="http://www.w3.org/1999/xlink";function mL(e,t,i,r,o){if(r&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(B5,t.slice(6,t.length)):e.setAttributeNS(B5,t,i);else{const d=LD(t);i==null||d&&!zM(i)?e.removeAttribute(t):e.setAttribute(t,d?"":i)}}function gL(e,t,i,r,o,d,h){if(t==="innerHTML"||t==="textContent"){r&&h(r,o,d),e[t]=i??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=i;const v=i??"";(e.value!==v||e.tagName==="OPTION")&&(e.value=v),i==null&&e.removeAttribute(t);return}let s=!1;if(i===""||i==null){const v=typeof e[t];v==="boolean"?i=zM(i):i==null&&v==="string"?(i="",s=!0):v==="number"&&(i=0,s=!0)}try{e[t]=i}catch{}s&&e.removeAttribute(t)}function qh(e,t,i,r){e.addEventListener(t,i,r)}function yL(e,t,i,r){e.removeEventListener(t,i,r)}function _L(e,t,i,r,o=null){const d=e._vei||(e._vei={}),h=d[t];if(r&&h)h.value=r;else{const[s,v]=vL(t);if(r){const R=d[t]=wL(r,o);qh(e,s,R,v)}else h&&(yL(e,s,h,v),d[t]=void 0)}}const z5=/(?:Once|Passive|Capture)$/;function vL(e){let t;if(z5.test(e)){t={};let r;for(;r=e.match(z5);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gd(e.slice(2)),t]}let d3=0;const xL=Promise.resolve(),bL=()=>d3||(xL.then(()=>d3=0),d3=Date.now());function wL(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;Gc(TL(r,i.value),t,5,[r])};return i.value=e,i.attached=bL(),i}function TL(e,t){if(An(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const N5=/^on[a-z]/,SL=(e,t,i,r,o=!1,d,h,s,v)=>{t==="class"?hL(e,r,o):t==="style"?pL(e,i,r):J0(t)?ZT(t)||_L(e,t,i,r,h):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):CL(e,t,r,o))?gL(e,t,r,d,h,s,v):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),mL(e,t,r,o))};function CL(e,t,i,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&N5.test(t)&&Sr(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||N5.test(t)&&zr(i)?!1:t in e}function OS(e,t){const i=Gl(e);class r extends g_{constructor(d){super(i,d,t)}}return r.def=i,r}const aA=e=>OS(e,BS),EL=typeof HTMLElement<"u"?HTMLElement:class{};class g_ extends EL{constructor(t,i={},r){super(),this._def=t,this._props=i,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Fa(()=>{this._connected||($x(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const o of r)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=(r,o=!1)=>{const{props:d,styles:h}=r;let s;if(d&&!An(d))for(const v in d){const R=d[v];(R===Number||R&&R.type===Number)&&(v in this._props&&(this._props[v]=sp(this._props[v])),(s||(s=Object.create(null)))[nl(v)]=!0)}this._numberProps=s,o&&this._resolveProps(r),this._applyStyles(h),this._update()},i=this._def.__asyncLoader;i?i().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:i}=t,r=An(i)?i:Object.keys(i||{});for(const o of Object.keys(this))o[0]!=="_"&&r.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of r.map(nl))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(d){this._setProp(o,d)}})}_setAttr(t){let i=this.getAttribute(t);const r=nl(t);this._numberProps&&this._numberProps[r]&&(i=sp(i)),this._setProp(r,i,!1)}_getProp(t){return this._props[t]}_setProp(t,i,r=!0,o=!0){i!==this._props[t]&&(this._props[t]=i,o&&this._instance&&this._update(),r&&(i===!0?this.setAttribute(gd(t),""):typeof i=="string"||typeof i=="number"?this.setAttribute(gd(t),i+""):i||this.removeAttribute(gd(t))))}_update(){$x(this._createVNode(),this.shadowRoot)}_createVNode(){const t=an(this._def,Is({},this._props));return this._instance||(t.ce=i=>{this._instance=i,i.isCE=!0;const r=(d,h)=>{this.dispatchEvent(new CustomEvent(d,{detail:h}))};i.emit=(d,...h)=>{r(d,h),gd(d)!==d&&r(gd(d),h)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof g_){i.parent=o._instance,i.provides=o._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(i=>{const r=document.createElement("style");r.textContent=i,this.shadowRoot.appendChild(r)})}}function lA(e="$style"){{const t=pp();if(!t)return Hs;const i=t.type.__cssModules;if(!i)return Hs;const r=i[e];return r||Hs}}function cA(e){const t=pp();if(!t)return;const i=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(d=>pT(d,o))},r=()=>{const o=e(t.proxy);hT(t.subTree,o),i(o)};uS(r),Go(()=>{const o=new MutationObserver(r);o.observe(t.subTree.el.parentNode,{childList:!0}),hh(()=>o.disconnect())})}function hT(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{hT(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)pT(e.el,t);else if(e.type===Yi)e.children.forEach(i=>hT(i,t));else if(e.type===df){let{el:i,anchor:r}=e;for(;i&&(pT(i,t),i!==r);)i=i.nextSibling}}function pT(e,t){if(e.nodeType===1){const i=e.style;for(const r in t)i.setProperty(`--${r}`,t[r])}}const Kp="transition",Ty="animation",Au=(e,{slots:t})=>Uc(zb,uA(e),t);Au.displayName="Transition";const dA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ML=Au.props=Is({},zb.props,dA),b0=(e,t=[])=>{An(e)?e.forEach(i=>i(...t)):e&&e(...t)},F5=e=>e?An(e)?e.some(t=>t.length>1):e.length>1:!1;function uA(e){const t={};for(const x in e)x in dA||(t[x]=e[x]);if(e.css===!1)return t;const{name:i="v",type:r,duration:o,enterFromClass:d=`${i}-enter-from`,enterActiveClass:h=`${i}-enter-active`,enterToClass:s=`${i}-enter-to`,appearFromClass:v=d,appearActiveClass:R=h,appearToClass:K=s,leaveFromClass:k=`${i}-leave-from`,leaveActiveClass:z=`${i}-leave-active`,leaveToClass:q=`${i}-leave-to`}=e,L=kL(o),O=L&&L[0],G=L&&L[1],{onBeforeEnter:M,onEnter:S,onEnterCancelled:D,onLeave:H,onLeaveCancelled:U,onBeforeAppear:E=M,onAppear:ie=S,onAppearCancelled:te=D}=t,$=(x,P,f)=>{tf(x,P?K:s),tf(x,P?R:h),f&&f()},V=(x,P)=>{x._isLeaving=!1,tf(x,k),tf(x,q),tf(x,z),P&&P()},j=x=>(P,f)=>{const g=x?ie:S,b=()=>$(P,x,f);b0(g,[P,b]),j5(()=>{tf(P,x?v:d),Gh(P,x?K:s),F5(g)||U5(P,r,O,b)})};return Is(t,{onBeforeEnter(x){b0(M,[x]),Gh(x,d),Gh(x,h)},onBeforeAppear(x){b0(E,[x]),Gh(x,v),Gh(x,R)},onEnter:j(!1),onAppear:j(!0),onLeave(x,P){x._isLeaving=!0;const f=()=>V(x,P);Gh(x,k),pA(),Gh(x,z),j5(()=>{x._isLeaving&&(tf(x,k),Gh(x,q),F5(H)||U5(x,r,G,f))}),b0(H,[x,f])},onEnterCancelled(x){$(x,!1),b0(D,[x])},onAppearCancelled(x){$(x,!0),b0(te,[x])},onLeaveCancelled(x){V(x),b0(U,[x])}})}function kL(e){if(e==null)return null;if(Zs(e))return[u3(e.enter),u3(e.leave)];{const t=u3(e);return[t,t]}}function u3(e){return sp(e)}function Gh(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e._vtc||(e._vtc=new Set)).add(t)}function tf(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:i}=e;i&&(i.delete(t),i.size||(e._vtc=void 0))}function j5(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let AL=0;function U5(e,t,i,r){const o=e._endId=++AL,d=()=>{o===e._endId&&r()};if(i)return setTimeout(d,i);const{type:h,timeout:s,propCount:v}=hA(e,t);if(!h)return r();const R=h+"end";let K=0;const k=()=>{e.removeEventListener(R,z),d()},z=q=>{q.target===e&&++K>=v&&k()};setTimeout(()=>{K<v&&k()},s+1),e.addEventListener(R,z)}function hA(e,t){const i=window.getComputedStyle(e),r=L=>(i[L]||"").split(", "),o=r(`${Kp}Delay`),d=r(`${Kp}Duration`),h=$5(o,d),s=r(`${Ty}Delay`),v=r(`${Ty}Duration`),R=$5(s,v);let K=null,k=0,z=0;t===Kp?h>0&&(K=Kp,k=h,z=d.length):t===Ty?R>0&&(K=Ty,k=R,z=v.length):(k=Math.max(h,R),K=k>0?h>R?Kp:Ty:null,z=K?K===Kp?d.length:v.length:0);const q=K===Kp&&/\b(transform|all)(,|$)/.test(r(`${Kp}Property`).toString());return{type:K,timeout:k,propCount:z,hasTransform:q}}function $5(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,r)=>V5(i)+V5(e[r])))}function V5(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function pA(){return document.body.offsetHeight}const fA=new WeakMap,mA=new WeakMap,PL={name:"TransitionGroup",props:Is({},ML,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=pp(),r=Bb();let o,d;return em(()=>{if(!o.length)return;const h=e.moveClass||`${e.name||"v"}-move`;if(!OL(o[0].el,i.vnode.el,h))return;o.forEach(DL),o.forEach(IL);const s=o.filter(LL);pA(),s.forEach(v=>{const R=v.el,K=R.style;Gh(R,h),K.transform=K.webkitTransform=K.transitionDuration="";const k=R._moveCb=z=>{z&&z.target!==R||(!z||/transform$/.test(z.propertyName))&&(R.removeEventListener("transitionend",k),R._moveCb=null,tf(R,h))};R.addEventListener("transitionend",k)})}),()=>{const h=us(e),s=uA(h);let v=h.tag||Yi;o=d,d=t.default?p_(t.default()):[];for(let R=0;R<d.length;R++){const K=d[R];K.key!=null&&_f(K,W0(K,s,r,i))}if(o)for(let R=0;R<o.length;R++){const K=o[R];_f(K,W0(K,s,r,i)),fA.set(K,K.el.getBoundingClientRect())}return an(v,null,d)}}},gA=PL;function DL(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function IL(e){mA.set(e,e.el.getBoundingClientRect())}function LL(e){const t=fA.get(e),i=mA.get(e),r=t.left-i.left,o=t.top-i.top;if(r||o){const d=e.el.style;return d.transform=d.webkitTransform=`translate(${r}px,${o}px)`,d.transitionDuration="0s",e}}function OL(e,t,i){const r=e.cloneNode();e._vtc&&e._vtc.forEach(h=>{h.split(/\s+/).forEach(s=>s&&r.classList.remove(s))}),i.split(/\s+/).forEach(h=>h&&r.classList.add(h)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:d}=hA(r);return o.removeChild(r),d}const bf=e=>{const t=e.props["onUpdate:modelValue"]||!1;return An(t)?i=>_g(t,i):t};function RL(e){e.target.composing=!0}function G5(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Hc={created(e,{modifiers:{lazy:t,trim:i,number:r}},o){e._assign=bf(o);const d=r||o.props&&o.props.type==="number";qh(e,t?"change":"input",h=>{if(h.target.composing)return;let s=e.value;i&&(s=s.trim()),d&&(s=sp(s)),e._assign(s)}),i&&qh(e,"change",()=>{e.value=e.value.trim()}),t||(qh(e,"compositionstart",RL),qh(e,"compositionend",G5),qh(e,"change",G5))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:r,number:o}},d){if(e._assign=bf(d),e.composing||document.activeElement===e&&e.type!=="range"&&(i||r&&e.value.trim()===t||(o||e.type==="number")&&sp(e.value)===t))return;const h=t??"";e.value!==h&&(e.value=h)}},ip={deep:!0,created(e,t,i){e._assign=bf(i),qh(e,"change",()=>{const r=e._modelValue,o=Dg(e),d=e.checked,h=e._assign;if(An(r)){const s=xb(r,o),v=s!==-1;if(d&&!v)h(r.concat(o));else if(!d&&v){const R=[...r];R.splice(s,1),h(R)}}else if(Q0(r)){const s=new Set(r);d?s.add(o):s.delete(o),h(s)}else h(yA(e,d))})},mounted:H5,beforeUpdate(e,t,i){e._assign=bf(i),H5(e,t,i)}};function H5(e,{value:t,oldValue:i},r){e._modelValue=t,An(t)?e.checked=xb(t,r.props.value)>-1:Q0(t)?e.checked=t.has(r.props.value):t!==i&&(e.checked=pf(t,yA(e,!0)))}const Vb={created(e,{value:t},i){e.checked=pf(t,i.props.value),e._assign=bf(i),qh(e,"change",()=>{e._assign(Dg(e))})},beforeUpdate(e,{value:t,oldValue:i},r){e._assign=bf(r),t!==i&&(e.checked=pf(t,r.props.value))}},yd={deep:!0,created(e,{value:t,modifiers:{number:i}},r){const o=Q0(t);qh(e,"change",()=>{const d=Array.prototype.filter.call(e.options,h=>h.selected).map(h=>i?sp(Dg(h)):Dg(h));e._assign(e.multiple?o?new Set(d):d:d[0])}),e._assign=bf(r)},mounted(e,{value:t}){W5(e,t)},beforeUpdate(e,t,i){e._assign=bf(i)},updated(e,{value:t}){W5(e,t)}};function W5(e,t){const i=e.multiple;if(!(i&&!An(t)&&!Q0(t))){for(let r=0,o=e.options.length;r<o;r++){const d=e.options[r],h=Dg(d);if(i)An(t)?d.selected=xb(t,h)>-1:d.selected=t.has(h);else if(pf(Dg(d),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Dg(e){return"_value"in e?e._value:e.value}function yA(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const RS={created(e,t,i){sx(e,t,i,null,"created")},mounted(e,t,i){sx(e,t,i,null,"mounted")},beforeUpdate(e,t,i,r){sx(e,t,i,r,"beforeUpdate")},updated(e,t,i,r){sx(e,t,i,r,"updated")}};function _A(e,t){switch(e){case"SELECT":return yd;case"TEXTAREA":return Hc;default:switch(t){case"checkbox":return ip;case"radio":return Vb;default:return Hc}}}function sx(e,t,i,r,o){const h=_A(e.tagName,i.props&&i.props.type)[o];h&&h(e,t,i,r)}function BL(){Hc.getSSRProps=({value:e})=>({value:e}),Vb.getSSRProps=({value:e},t)=>{if(t.props&&pf(t.props.value,e))return{checked:!0}},ip.getSSRProps=({value:e},t)=>{if(An(e)){if(t.props&&xb(e,t.props.value)>-1)return{checked:!0}}else if(Q0(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},RS.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const i=_A(t.type.toUpperCase(),t.props&&t.props.type);if(i.getSSRProps)return i.getSSRProps(e,t)}}const zL=["ctrl","shift","alt","meta"],NL={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>zL.some(i=>e[`${i}Key`]&&!t.includes(i))},Uo=(e,t)=>(i,...r)=>{for(let o=0;o<t.length;o++){const d=NL[t[o]];if(d&&d(i,t))return}return e(i,...r)},FL={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tr=(e,t)=>i=>{if(!("key"in i))return;const r=gd(i.key);if(t.some(o=>o===r||FL[o]===r))return e(i)},U0={beforeMount(e,{value:t},{transition:i}){e._vod=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):Sy(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:r}){!t!=!i&&(r?t?(r.beforeEnter(e),Sy(e,!0),r.enter(e)):r.leave(e,()=>{Sy(e,!1)}):Sy(e,t))},beforeUnmount(e,{value:t}){Sy(e,t)}};function Sy(e,t){e.style.display=t?e._vod:"none"}function jL(){U0.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const vA=Is({patchProp:SL},uL);let Ny,Y5=!1;function xA(){return Ny||(Ny=TS(vA))}function bA(){return Ny=Y5?Ny:SS(vA),Y5=!0,Ny}const $x=(...e)=>{xA().render(...e)},BS=(...e)=>{bA().hydrate(...e)},zS=(...e)=>{const t=xA().createApp(...e),{mount:i}=t;return t.mount=r=>{const o=TA(r);if(!o)return;const d=t._component;!Sr(d)&&!d.render&&!d.template&&(d.template=o.innerHTML),o.innerHTML="";const h=i(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),h},t},wA=(...e)=>{const t=bA().createApp(...e),{mount:i}=t;return t.mount=r=>{const o=TA(r);if(o)return i(o,!0,o instanceof SVGElement)},t};function TA(e){return zr(e)?document.querySelector(e):e}let q5=!1;const SA=()=>{q5||(q5=!0,BL(),jL())},UL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:zb,Comment:_l,EffectScope:wb,Fragment:Yi,KeepAlive:Sk,ReactiveEffect:Ug,Static:df,Suspense:yk,Teleport:ES,Text:vf,Transition:Au,TransitionGroup:gA,VueElement:g_,callWithAsyncErrorHandling:Gc,callWithErrorHandling:dh,camelize:nl,capitalize:Sf,cloneVNode:Eu,compatUtils:oA,computed:un,createApp:zS,createBlock:Dr,createCommentVNode:di,createElementBlock:vt,createElementVNode:Ne,createHydrationRenderer:SS,createPropsRestProxy:eA,createRenderer:TS,createSSRApp:wA,createSlots:Nl,createStaticVNode:nu,createTextVNode:rs,createVNode:an,customRef:ak,defineAsyncComponent:Tk,defineComponent:Gl,defineCustomElement:OS,defineEmits:Xk,defineExpose:Zk,defineProps:qk,defineSSRCustomElement:aA,get devtools(){return A0},effect:HM,effectScope:UM,getCurrentInstance:pp,getCurrentScope:eS,getTransitionRawChildren:p_,guardReactiveProps:Bl,h:Uc,handleError:Cf,hydrate:BS,initCustomFormatter:iA,initDirectivesForSSR:SA,inject:F0,isMemoSame:IS,isProxy:kb,isReactive:cf,isReadonly:gf,isRef:ha,isRuntimeOnly:Hk,isShallow:Ag,isVNode:ap,markRaw:Ab,mergeDefaults:Qk,mergeProps:Ko,nextTick:Fa,normalizeClass:Ln,normalizeProps:Ca,normalizeStyle:$o,onActivated:hS,onBeforeMount:fS,onBeforeUnmount:tm,onBeforeUpdate:Hg,onDeactivated:pS,onErrorCaptured:_S,onMounted:Go,onRenderTracked:yS,onRenderTriggered:gS,onScopeDispose:tS,onServerPrefetch:mS,onUnmounted:hh,onUpdated:em,openBlock:dt,popScopeId:up,provide:Gg,proxyRefs:Db,pushScopeId:dp,queuePostFlushCb:Lb,reactive:iu,readonly:Eb,ref:Ki,registerRuntimeCompiler:kS,render:$x,renderList:Xn,renderSlot:vn,resolveComponent:ur,resolveDirective:jb,resolveDynamicComponent:Fb,resolveFilter:sA,resolveTransitionHooks:W0,setBlockTracking:jx,setDevtoolsHook:lS,setTransitionHooks:_f,shallowReactive:rS,shallowReadonly:nk,shallowRef:rk,ssrContextKey:PS,ssrUtils:rA,stop:WM,toDisplayString:$i,toHandlerKey:z0,toHandlers:kk,toRaw:us,toRef:yf,toRefs:lk,transformVNodeArgs:jk,triggerRef:ok,unref:Li,useAttrs:AS,useCssModule:lA,useCssVars:cA,useSSRContext:DS,useSlots:m_,useTransitionState:Bb,vModelCheckbox:ip,vModelDynamic:RS,vModelRadio:Vb,vModelSelect:yd,vModelText:Hc,vShow:U0,version:LS,warn:dk,watch:Xs,watchEffect:vk,watchPostEffect:uS,watchSyncEffect:xk,withAsyncContext:tA,withCtx:Hn,withDefaults:Kk,withDirectives:Ms,withKeys:Tr,withMemo:nA,withModifiers:Uo,withScopeId:mk},Symbol.toStringTag,{value:"Module"}));function NS(e){throw e}function CA(e){}function Ro(e,t,i,r){const o=e,d=new SyntaxError(String(o));return d.code=e,d.loc=t,d}const Ky=Symbol(""),Fy=Symbol(""),FS=Symbol(""),Vx=Symbol(""),EA=Symbol(""),q0=Symbol(""),MA=Symbol(""),kA=Symbol(""),jS=Symbol(""),US=Symbol(""),y_=Symbol(""),$S=Symbol(""),AA=Symbol(""),VS=Symbol(""),Gx=Symbol(""),GS=Symbol(""),HS=Symbol(""),WS=Symbol(""),YS=Symbol(""),PA=Symbol(""),DA=Symbol(""),Gb=Symbol(""),Hx=Symbol(""),qS=Symbol(""),XS=Symbol(""),Jy=Symbol(""),__=Symbol(""),ZS=Symbol(""),fT=Symbol(""),$L=Symbol(""),mT=Symbol(""),Wx=Symbol(""),VL=Symbol(""),GL=Symbol(""),KS=Symbol(""),HL=Symbol(""),WL=Symbol(""),JS=Symbol(""),IA=Symbol(""),Ig={[Ky]:"Fragment",[Fy]:"Teleport",[FS]:"Suspense",[Vx]:"KeepAlive",[EA]:"BaseTransition",[q0]:"openBlock",[MA]:"createBlock",[kA]:"createElementBlock",[jS]:"createVNode",[US]:"createElementVNode",[y_]:"createCommentVNode",[$S]:"createTextVNode",[AA]:"createStaticVNode",[VS]:"resolveComponent",[Gx]:"resolveDynamicComponent",[GS]:"resolveDirective",[HS]:"resolveFilter",[WS]:"withDirectives",[YS]:"renderList",[PA]:"renderSlot",[DA]:"createSlots",[Gb]:"toDisplayString",[Hx]:"mergeProps",[qS]:"normalizeClass",[XS]:"normalizeStyle",[Jy]:"normalizeProps",[__]:"guardReactiveProps",[ZS]:"toHandlers",[fT]:"camelize",[$L]:"capitalize",[mT]:"toHandlerKey",[Wx]:"setBlockTracking",[VL]:"pushScopeId",[GL]:"popScopeId",[KS]:"withCtx",[HL]:"unref",[WL]:"isRef",[JS]:"withMemo",[IA]:"isMemoSame"};function YL(e){Object.getOwnPropertySymbols(e).forEach(t=>{Ig[t]=e[t]})}const xd={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function qL(e,t=xd){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function Qy(e,t,i,r,o,d,h,s=!1,v=!1,R=!1,K=xd){return e&&(s?(e.helper(q0),e.helper(Rg(e.inSSR,R))):e.helper(Og(e.inSSR,R)),h&&e.helper(WS)),{type:13,tag:t,props:i,children:r,patchFlag:o,dynamicProps:d,directives:h,isBlock:s,disableTracking:v,isComponent:R,loc:K}}function v_(e,t=xd){return{type:17,loc:t,elements:e}}function Zd(e,t=xd){return{type:15,loc:t,properties:e}}function Qo(e,t){return{type:16,loc:xd,key:zr(e)?Wr(e,!0):e,value:t}}function Wr(e,t=!1,i=xd,r=0){return{type:4,loc:i,content:e,isStatic:t,constType:t?3:r}}function Cu(e,t=xd){return{type:8,loc:t,children:e}}function Ea(e,t=[],i=xd){return{type:14,loc:i,callee:e,arguments:t}}function Lg(e,t=void 0,i=!1,r=!1,o=xd){return{type:18,params:e,returns:t,newline:i,isSlot:r,loc:o}}function gT(e,t,i,r=!0){return{type:19,test:e,consequent:t,alternate:i,newline:r,loc:xd}}function XL(e,t,i=!1){return{type:20,index:e,value:t,isVNode:i,loc:xd}}function ZL(e){return{type:21,body:e,loc:xd}}const Vc=e=>e.type===4&&e.isStatic,pg=(e,t)=>e===t||e===gd(t);function LA(e){if(pg(e,"Teleport"))return Fy;if(pg(e,"Suspense"))return FS;if(pg(e,"KeepAlive"))return Vx;if(pg(e,"BaseTransition"))return EA}const KL=/^\d|[^\$\w]/,QS=e=>!KL.test(e),JL=/[A-Za-z_$\xA0-\uFFFF]/,QL=/[\.\?\w$\xA0-\uFFFF]/,eO=/\s+[.[]\s*|\s*[.[]\s+/g,tO=e=>{e=e.trim().replace(eO,h=>h.trim());let t=0,i=[],r=0,o=0,d=null;for(let h=0;h<e.length;h++){const s=e.charAt(h);switch(t){case 0:if(s==="[")i.push(t),t=1,r++;else if(s==="(")i.push(t),t=2,o++;else if(!(h===0?JL:QL).test(s))return!1;break;case 1:s==="'"||s==='"'||s==="`"?(i.push(t),t=3,d=s):s==="["?r++:s==="]"&&(--r||(t=i.pop()));break;case 2:if(s==="'"||s==='"'||s==="`")i.push(t),t=3,d=s;else if(s==="(")o++;else if(s===")"){if(h===e.length-1)return!1;--o||(t=i.pop())}break;case 3:s===d&&(t=i.pop(),d=null);break}}return!r&&!o},OA=tO;function RA(e,t,i){const o={source:e.source.slice(t,t+i),start:Yx(e.start,e.source,t),end:e.end};return i!=null&&(o.end=Yx(e.start,e.source,t+i)),o}function Yx(e,t,i=t.length){return qx(Is({},e),t,i)}function qx(e,t,i=t.length){let r=0,o=-1;for(let d=0;d<i;d++)t.charCodeAt(d)===10&&(r++,o=d);return e.offset+=i,e.line+=r,e.column=o===-1?e.column+i:i-o,e}function qd(e,t,i=!1){for(let r=0;r<e.props.length;r++){const o=e.props[r];if(o.type===7&&(i||o.exp)&&(zr(t)?o.name===t:t.test(o.name)))return o}}function Hb(e,t,i=!1,r=!1){for(let o=0;o<e.props.length;o++){const d=e.props[o];if(d.type===6){if(i)continue;if(d.name===t&&(d.value||r))return d}else if(d.name==="bind"&&(d.exp||r)&&I0(d.arg,t))return d}}function I0(e,t){return!!(e&&Vc(e)&&e.content===t)}function iO(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function h3(e){return e.type===5||e.type===2}function nO(e){return e.type===7&&e.name==="slot"}function Xx(e){return e.type===1&&e.tagType===3}function Zx(e){return e.type===1&&e.tagType===2}function Og(e,t){return e||t?jS:US}function Rg(e,t){return e||t?MA:kA}const rO=new Set([Jy,__]);function BA(e,t=[]){if(e&&!zr(e)&&e.type===14){const i=e.callee;if(!zr(i)&&rO.has(i))return BA(e.arguments[0],t.concat(e))}return[e,t]}function Kx(e,t,i){let r,o=e.type===13?e.props:e.arguments[2],d=[],h;if(o&&!zr(o)&&o.type===14){const s=BA(o);o=s[0],d=s[1],h=d[d.length-1]}if(o==null||zr(o))r=Zd([t]);else if(o.type===14){const s=o.arguments[0];!zr(s)&&s.type===15?X5(t,s)||s.properties.unshift(t):o.callee===ZS?r=Ea(i.helper(Hx),[Zd([t]),o]):o.arguments.unshift(Zd([t])),!r&&(r=o)}else o.type===15?(X5(t,o)||o.properties.unshift(t),r=o):(r=Ea(i.helper(Hx),[Zd([t]),o]),h&&h.callee===__&&(h=d[d.length-2]));e.type===13?h?h.arguments[0]=r:e.props=r:h?h.arguments[0]=r:e.arguments[2]=r}function X5(e,t){let i=!1;if(e.key.type===4){const r=e.key.content;i=t.properties.some(o=>o.key.type===4&&o.key.content===r)}return i}function e_(e,t){return`_${t}_${e.replace(/[^\w]/g,(i,r)=>i==="-"?"_":e.charCodeAt(r).toString())}`}function sO(e){return e.type===14&&e.callee===JS?e.arguments[1].returns:e}function eC(e,{helper:t,removeHelper:i,inSSR:r}){e.isBlock||(e.isBlock=!0,i(Og(r,e.isComponent)),t(q0),t(Rg(r,e.isComponent)))}function Z5(e,t){const i=t.options?t.options.compatConfig:t.compatConfig,r=i&&i[e];return e==="MODE"?r||3:r}function $0(e,t){const i=Z5("MODE",t),r=Z5(e,t);return i===3?r===!0:r!==!1}function t_(e,t,i,...r){return $0(e,t)}const oO=/&(gt|lt|amp|apos|quot);/g,aO={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},K5={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:wx,isPreTag:wx,isCustomElement:wx,decodeEntities:e=>e.replace(oO,(t,i)=>aO[i]),onError:NS,onWarn:CA,comments:!1};function lO(e,t={}){const i=cO(e,t),r=_d(i);return qL(tC(i,0,[]),Qd(i,r))}function cO(e,t){const i=Is({},K5);let r;for(r in t)i[r]=t[r]===void 0?K5[r]:t[r];return{options:i,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:i.onWarn}}function tC(e,t,i){const r=Wb(i),o=r?r.ns:0,d=[];for(;!_O(e,t,i);){const s=e.source;let v;if(t===0||t===1){if(!e.inVPre&&jl(s,e.options.delimiters[0]))v=gO(e,t);else if(t===0&&s[0]==="<")if(s.length===1)Gs(e,5,1);else if(s[1]==="!")jl(s,"<!--")?v=uO(e):jl(s,"<!DOCTYPE")?v=Cy(e):jl(s,"<![CDATA[")?o!==0?v=dO(e,i):(Gs(e,1),v=Cy(e)):(Gs(e,11),v=Cy(e));else if(s[1]==="/")if(s.length===2)Gs(e,5,2);else if(s[2]===">"){Gs(e,14,2),Ua(e,3);continue}else if(/[a-z]/i.test(s[2])){Gs(e,23),yT(e,1,r);continue}else Gs(e,12,2),v=Cy(e);else/[a-z]/i.test(s[1])?(v=hO(e,i),$0("COMPILER_NATIVE_TEMPLATE",e)&&v&&v.tag==="template"&&!v.props.some(R=>R.type===7&&zA(R.name))&&(v=v.children)):s[1]==="?"?(Gs(e,21,1),v=Cy(e)):Gs(e,12,1)}if(v||(v=yO(e,t)),An(v))for(let R=0;R<v.length;R++)J5(d,v[R]);else J5(d,v)}let h=!1;if(t!==2&&t!==1){const s=e.options.whitespace!=="preserve";for(let v=0;v<d.length;v++){const R=d[v];if(R.type===2)if(e.inPre)R.content=R.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(R.content))s&&(R.content=R.content.replace(/[\t\r\n\f ]+/g," "));else{const K=d[v-1],k=d[v+1];!K||!k||s&&(K.type===3&&k.type===3||K.type===3&&k.type===1||K.type===1&&k.type===3||K.type===1&&k.type===1&&/[\r\n]/.test(R.content))?(h=!0,d[v]=null):R.content=" "}else R.type===3&&!e.options.comments&&(h=!0,d[v]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const v=d[0];v&&v.type===2&&(v.content=v.content.replace(/^\r?\n/,""))}}return h?d.filter(Boolean):d}function J5(e,t){if(t.type===2){const i=Wb(e);if(i&&i.type===2&&i.loc.end.offset===t.loc.start.offset){i.content+=t.content,i.loc.end=t.loc.end,i.loc.source+=t.loc.source;return}}e.push(t)}function dO(e,t){Ua(e,9);const i=tC(e,3,t);return e.source.length===0?Gs(e,6):Ua(e,3),i}function uO(e){const t=_d(e);let i;const r=/--(\!)?>/.exec(e.source);if(!r)i=e.source.slice(4),Ua(e,e.source.length),Gs(e,7);else{r.index<=3&&Gs(e,0),r[1]&&Gs(e,10),i=e.source.slice(4,r.index);const o=e.source.slice(0,r.index);let d=1,h=0;for(;(h=o.indexOf("<!--",d))!==-1;)Ua(e,h-d+1),h+4<o.length&&Gs(e,16),d=h+1;Ua(e,r.index+r[0].length-d+1)}return{type:3,content:i,loc:Qd(e,t)}}function Cy(e){const t=_d(e),i=e.source[1]==="?"?1:2;let r;const o=e.source.indexOf(">");return o===-1?(r=e.source.slice(i),Ua(e,e.source.length)):(r=e.source.slice(i,o),Ua(e,o+1)),{type:3,content:r,loc:Qd(e,t)}}function hO(e,t){const i=e.inPre,r=e.inVPre,o=Wb(t),d=yT(e,0,o),h=e.inPre&&!i,s=e.inVPre&&!r;if(d.isSelfClosing||e.options.isVoidTag(d.tag))return h&&(e.inPre=!1),s&&(e.inVPre=!1),d;t.push(d);const v=e.options.getTextMode(d,o),R=tC(e,v,t);t.pop();{const K=d.props.find(k=>k.type===6&&k.name==="inline-template");if(K&&t_("COMPILER_INLINE_TEMPLATE",e,K.loc)){const k=Qd(e,d.loc.end);K.value={type:2,content:k.source,loc:k}}}if(d.children=R,_T(e.source,d.tag))yT(e,1,o);else if(Gs(e,24,0,d.loc.start),e.source.length===0&&d.tag.toLowerCase()==="script"){const K=R[0];K&&jl(K.loc.source,"<!--")&&Gs(e,8)}return d.loc=Qd(e,d.loc.start),h&&(e.inPre=!1),s&&(e.inVPre=!1),d}const zA=Wc("if,else,else-if,for,slot");function yT(e,t,i){const r=_d(e),o=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),d=o[1],h=e.options.getNamespace(d,i);Ua(e,o[0].length),i_(e);const s=_d(e),v=e.source;e.options.isPreTag(d)&&(e.inPre=!0);let R=Q5(e,t);t===0&&!e.inVPre&&R.some(z=>z.type===7&&z.name==="pre")&&(e.inVPre=!0,Is(e,s),e.source=v,R=Q5(e,t).filter(z=>z.name!=="v-pre"));let K=!1;if(e.source.length===0?Gs(e,9):(K=jl(e.source,"/>"),t===1&&K&&Gs(e,4),Ua(e,K?2:1)),t===1)return;let k=0;return e.inVPre||(d==="slot"?k=2:d==="template"?R.some(z=>z.type===7&&zA(z.name))&&(k=3):pO(d,R,e)&&(k=1)),{type:1,ns:h,tag:d,tagType:k,props:R,isSelfClosing:K,children:[],loc:Qd(e,r),codegenNode:void 0}}function pO(e,t,i){const r=i.options;if(r.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||LA(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let o=0;o<t.length;o++){const d=t[o];if(d.type===6){if(d.name==="is"&&d.value){if(d.value.content.startsWith("vue:"))return!0;if(t_("COMPILER_IS_ON_ELEMENT",i,d.loc))return!0}}else{if(d.name==="is")return!0;if(d.name==="bind"&&I0(d.arg,"is")&&t_("COMPILER_IS_ON_ELEMENT",i,d.loc))return!0}}}function Q5(e,t){const i=[],r=new Set;for(;e.source.length>0&&!jl(e.source,">")&&!jl(e.source,"/>");){if(jl(e.source,"/")){Gs(e,22),Ua(e,1),i_(e);continue}t===1&&Gs(e,3);const o=fO(e,r);o.type===6&&o.value&&o.name==="class"&&(o.value.content=o.value.content.replace(/\s+/g," ").trim()),t===0&&i.push(o),/^[^\t\r\n\f />]/.test(e.source)&&Gs(e,15),i_(e)}return i}function fO(e,t){const i=_d(e),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(o)&&Gs(e,2),t.add(o),o[0]==="="&&Gs(e,19);{const s=/["'<]/g;let v;for(;v=s.exec(o);)Gs(e,17,v.index)}Ua(e,o.length);let d;/^[\t\r\n\f ]*=/.test(e.source)&&(i_(e),Ua(e,1),i_(e),d=mO(e),d||Gs(e,13));const h=Qd(e,i);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const s=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let v=jl(o,"."),R=s[1]||(v||jl(o,":")?"bind":jl(o,"@")?"on":"slot"),K;if(s[2]){const z=R==="slot",q=o.lastIndexOf(s[2]),L=Qd(e,eE(e,i,q),eE(e,i,q+s[2].length+(z&&s[3]||"").length));let O=s[2],G=!0;O.startsWith("[")?(G=!1,O.endsWith("]")?O=O.slice(1,O.length-1):(Gs(e,27),O=O.slice(1))):z&&(O+=s[3]||""),K={type:4,content:O,isStatic:G,constType:G?3:0,loc:L}}if(d&&d.isQuoted){const z=d.loc;z.start.offset++,z.start.column++,z.end=Yx(z.start,d.content),z.source=z.source.slice(1,-1)}const k=s[3]?s[3].slice(1).split("."):[];return v&&k.push("prop"),R==="bind"&&K&&k.includes("sync")&&t_("COMPILER_V_BIND_SYNC",e,h,K.loc.source)&&(R="model",k.splice(k.indexOf("sync"),1)),{type:7,name:R,exp:d&&{type:4,content:d.content,isStatic:!1,constType:0,loc:d.loc},arg:K,modifiers:k,loc:h}}return!e.inVPre&&jl(o,"v-")&&Gs(e,26),{type:6,name:o,value:d&&{type:2,content:d.content,loc:d.loc},loc:h}}function mO(e){const t=_d(e);let i;const r=e.source[0],o=r==='"'||r==="'";if(o){Ua(e,1);const d=e.source.indexOf(r);d===-1?i=jy(e,e.source.length,4):(i=jy(e,d,4),Ua(e,1))}else{const d=/^[^\t\r\n\f >]+/.exec(e.source);if(!d)return;const h=/["'<=`]/g;let s;for(;s=h.exec(d[0]);)Gs(e,18,s.index);i=jy(e,d[0].length,4)}return{content:i,isQuoted:o,loc:Qd(e,t)}}function gO(e,t){const[i,r]=e.options.delimiters,o=e.source.indexOf(r,i.length);if(o===-1){Gs(e,25);return}const d=_d(e);Ua(e,i.length);const h=_d(e),s=_d(e),v=o-i.length,R=e.source.slice(0,v),K=jy(e,v,t),k=K.trim(),z=K.indexOf(k);z>0&&qx(h,R,z);const q=v-(K.length-k.length-z);return qx(s,R,q),Ua(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:k,loc:Qd(e,h,s)},loc:Qd(e,d)}}function yO(e,t){const i=t===3?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let h=0;h<i.length;h++){const s=e.source.indexOf(i[h],1);s!==-1&&r>s&&(r=s)}const o=_d(e);return{type:2,content:jy(e,r,t),loc:Qd(e,o)}}function jy(e,t,i){const r=e.source.slice(0,t);return Ua(e,t),i===2||i===3||!r.includes("&")?r:e.options.decodeEntities(r,i===4)}function _d(e){const{column:t,line:i,offset:r}=e;return{column:t,line:i,offset:r}}function Qd(e,t,i){return i=i||_d(e),{start:t,end:i,source:e.originalSource.slice(t.offset,i.offset)}}function Wb(e){return e[e.length-1]}function jl(e,t){return e.startsWith(t)}function Ua(e,t){const{source:i}=e;qx(e,i,t),e.source=i.slice(t)}function i_(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&Ua(e,t[0].length)}function eE(e,t,i){return Yx(t,e.originalSource.slice(t.offset,i),i)}function Gs(e,t,i,r=_d(e)){i&&(r.offset+=i,r.column+=i),e.options.onError(Ro(t,{start:r,end:r,source:""}))}function _O(e,t,i){const r=e.source;switch(t){case 0:if(jl(r,"</")){for(let o=i.length-1;o>=0;--o)if(_T(r,i[o].tag))return!0}break;case 1:case 2:{const o=Wb(i);if(o&&_T(r,o.tag))return!0;break}case 3:if(jl(r,"]]>"))return!0;break}return!r}function _T(e,t){return jl(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function vO(e,t){Cx(e,t,NA(e,e.children[0]))}function NA(e,t){const{children:i}=e;return i.length===1&&t.type===1&&!Zx(t)}function Cx(e,t,i=!1){const{children:r}=e,o=r.length;let d=0;for(let h=0;h<r.length;h++){const s=r[h];if(s.type===1&&s.tagType===0){const v=i?0:Kd(s,t);if(v>0){if(v>=2){s.codegenNode.patchFlag="-1",s.codegenNode=t.hoist(s.codegenNode),d++;continue}}else{const R=s.codegenNode;if(R.type===13){const K=$A(R);if((!K||K===512||K===1)&&jA(s,t)>=2){const k=UA(s);k&&(R.props=t.hoist(k))}R.dynamicProps&&(R.dynamicProps=t.hoist(R.dynamicProps))}}}if(s.type===1){const v=s.tagType===1;v&&t.scopes.vSlot++,Cx(s,t),v&&t.scopes.vSlot--}else if(s.type===11)Cx(s,t,s.children.length===1);else if(s.type===9)for(let v=0;v<s.branches.length;v++)Cx(s.branches[v],t,s.branches[v].children.length===1)}d&&t.transformHoist&&t.transformHoist(r,t,e),d&&d===o&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&An(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(v_(e.codegenNode.children)))}function Kd(e,t){const{constantCache:i}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=i.get(e);if(r!==void 0)return r;const o=e.codegenNode;if(o.type!==13||o.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if($A(o))return i.set(e,0),0;{let s=3;const v=jA(e,t);if(v===0)return i.set(e,0),0;v<s&&(s=v);for(let R=0;R<e.children.length;R++){const K=Kd(e.children[R],t);if(K===0)return i.set(e,0),0;K<s&&(s=K)}if(s>1)for(let R=0;R<e.props.length;R++){const K=e.props[R];if(K.type===7&&K.name==="bind"&&K.exp){const k=Kd(K.exp,t);if(k===0)return i.set(e,0),0;k<s&&(s=k)}}if(o.isBlock){for(let R=0;R<e.props.length;R++)if(e.props[R].type===7)return i.set(e,0),0;t.removeHelper(q0),t.removeHelper(Rg(t.inSSR,o.isComponent)),o.isBlock=!1,t.helper(Og(t.inSSR,o.isComponent))}return i.set(e,s),s}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Kd(e.content,t);case 4:return e.constType;case 8:let h=3;for(let s=0;s<e.children.length;s++){const v=e.children[s];if(zr(v)||ff(v))continue;const R=Kd(v,t);if(R===0)return 0;R<h&&(h=R)}return h;default:return 0}}const xO=new Set([qS,XS,Jy,__]);function FA(e,t){if(e.type===14&&!zr(e.callee)&&xO.has(e.callee)){const i=e.arguments[0];if(i.type===4)return Kd(i,t);if(i.type===14)return FA(i,t)}return 0}function jA(e,t){let i=3;const r=UA(e);if(r&&r.type===15){const{properties:o}=r;for(let d=0;d<o.length;d++){const{key:h,value:s}=o[d],v=Kd(h,t);if(v===0)return v;v<i&&(i=v);let R;if(s.type===4?R=Kd(s,t):s.type===14?R=FA(s,t):R=0,R===0)return R;R<i&&(i=R)}}return i}function UA(e){const t=e.codegenNode;if(t.type===13)return t.props}function $A(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function bO(e,{filename:t="",prefixIdentifiers:i=!1,hoistStatic:r=!1,cacheHandlers:o=!1,nodeTransforms:d=[],directiveTransforms:h={},transformHoist:s=null,isBuiltInComponent:v=xc,isCustomElement:R=xc,expressionPlugins:K=[],scopeId:k=null,slotted:z=!0,ssr:q=!1,inSSR:L=!1,ssrCssVars:O="",bindingMetadata:G=Hs,inline:M=!1,isTS:S=!1,onError:D=NS,onWarn:H=CA,compatConfig:U}){const E=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),ie={selfName:E&&Sf(nl(E[1])),prefixIdentifiers:i,hoistStatic:r,cacheHandlers:o,nodeTransforms:d,directiveTransforms:h,transformHoist:s,isBuiltInComponent:v,isCustomElement:R,expressionPlugins:K,scopeId:k,slotted:z,ssr:q,inSSR:L,ssrCssVars:O,bindingMetadata:G,inline:M,isTS:S,onError:D,onWarn:H,compatConfig:U,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(te){const $=ie.helpers.get(te)||0;return ie.helpers.set(te,$+1),te},removeHelper(te){const $=ie.helpers.get(te);if($){const V=$-1;V?ie.helpers.set(te,V):ie.helpers.delete(te)}},helperString(te){return`_${Ig[ie.helper(te)]}`},replaceNode(te){ie.parent.children[ie.childIndex]=ie.currentNode=te},removeNode(te){const $=ie.parent.children,V=te?$.indexOf(te):ie.currentNode?ie.childIndex:-1;!te||te===ie.currentNode?(ie.currentNode=null,ie.onNodeRemoved()):ie.childIndex>V&&(ie.childIndex--,ie.onNodeRemoved()),ie.parent.children.splice(V,1)},onNodeRemoved:()=>{},addIdentifiers(te){},removeIdentifiers(te){},hoist(te){zr(te)&&(te=Wr(te)),ie.hoists.push(te);const $=Wr(`_hoisted_${ie.hoists.length}`,!1,te.loc,2);return $.hoisted=te,$},cache(te,$=!1){return XL(ie.cached++,te,$)}};return ie.filters=new Set,ie}function wO(e,t){const i=bO(e,t);Yb(e,i),t.hoistStatic&&vO(e,i),t.ssr||TO(e,i),e.helpers=[...i.helpers.keys()],e.components=[...i.components],e.directives=[...i.directives],e.imports=i.imports,e.hoists=i.hoists,e.temps=i.temps,e.cached=i.cached,e.filters=[...i.filters]}function TO(e,t){const{helper:i}=t,{children:r}=e;if(r.length===1){const o=r[0];if(NA(e,o)&&o.codegenNode){const d=o.codegenNode;d.type===13&&eC(d,t),e.codegenNode=d}else e.codegenNode=o}else if(r.length>1){let o=64;e.codegenNode=Qy(t,i(Ky),void 0,e.children,o+"",void 0,void 0,!0,void 0,!1)}}function SO(e,t){let i=0;const r=()=>{i--};for(;i<e.children.length;i++){const o=e.children[i];zr(o)||(t.parent=e,t.childIndex=i,t.onNodeRemoved=r,Yb(o,t))}}function Yb(e,t){t.currentNode=e;const{nodeTransforms:i}=t,r=[];for(let d=0;d<i.length;d++){const h=i[d](e,t);if(h&&(An(h)?r.push(...h):r.push(h)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(y_);break;case 5:t.ssr||t.helper(Gb);break;case 9:for(let d=0;d<e.branches.length;d++)Yb(e.branches[d],t);break;case 10:case 11:case 1:case 0:SO(e,t);break}t.currentNode=e;let o=r.length;for(;o--;)r[o]()}function VA(e,t){const i=zr(e)?r=>r===e:r=>e.test(r);return(r,o)=>{if(r.type===1){const{props:d}=r;if(r.tagType===3&&d.some(nO))return;const h=[];for(let s=0;s<d.length;s++){const v=d[s];if(v.type===7&&i(v.name)){d.splice(s,1),s--;const R=t(r,v,o);R&&h.push(R)}}return h}}}const qb="/*#__PURE__*/",GA=e=>`${Ig[e]}: _${Ig[e]}`;function CO(e,{mode:t="function",prefixIdentifiers:i=t==="module",sourceMap:r=!1,filename:o="template.vue.html",scopeId:d=null,optimizeImports:h=!1,runtimeGlobalName:s="Vue",runtimeModuleName:v="vue",ssrRuntimeModuleName:R="vue/server-renderer",ssr:K=!1,isTS:k=!1,inSSR:z=!1}){const q={mode:t,prefixIdentifiers:i,sourceMap:r,filename:o,scopeId:d,optimizeImports:h,runtimeGlobalName:s,runtimeModuleName:v,ssrRuntimeModuleName:R,ssr:K,isTS:k,inSSR:z,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(O){return`_${Ig[O]}`},push(O,G){q.code+=O},indent(){L(++q.indentLevel)},deindent(O=!1){O?--q.indentLevel:L(--q.indentLevel)},newline(){L(q.indentLevel)}};function L(O){q.push(`
`+"  ".repeat(O))}return q}function EO(e,t={}){const i=CO(e,t);t.onContextCreated&&t.onContextCreated(i);const{mode:r,push:o,prefixIdentifiers:d,indent:h,deindent:s,newline:v,scopeId:R,ssr:K}=i,k=e.helpers.length>0,z=!d&&r!=="module";MO(e,i);const L=K?"ssrRender":"render",G=(K?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(o(`function ${L}(${G}) {`),h(),z&&(o("with (_ctx) {"),h(),k&&(o(`const { ${e.helpers.map(GA).join(", ")} } = _Vue`),o(`
`),v())),e.components.length&&(p3(e.components,"component",i),(e.directives.length||e.temps>0)&&v()),e.directives.length&&(p3(e.directives,"directive",i),e.temps>0&&v()),e.filters&&e.filters.length&&(v(),p3(e.filters,"filter",i),v()),e.temps>0){o("let ");for(let M=0;M<e.temps;M++)o(`${M>0?", ":""}_temp${M}`)}return(e.components.length||e.directives.length||e.temps)&&(o(`
`),v()),K||o("return "),e.codegenNode?Ul(e.codegenNode,i):o("null"),z&&(s(),o("}")),s(),o("}"),{ast:e,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function MO(e,t){const{ssr:i,prefixIdentifiers:r,push:o,newline:d,runtimeModuleName:h,runtimeGlobalName:s,ssrRuntimeModuleName:v}=t,R=s;if(e.helpers.length>0&&(o(`const _Vue = ${R}
`),e.hoists.length)){const K=[jS,US,y_,$S,AA].filter(k=>e.helpers.includes(k)).map(GA).join(", ");o(`const { ${K} } = _Vue
`)}kO(e.hoists,t),d(),o("return ")}function p3(e,t,{helper:i,push:r,newline:o,isTS:d}){const h=i(t==="filter"?HS:t==="component"?VS:GS);for(let s=0;s<e.length;s++){let v=e[s];const R=v.endsWith("__self");R&&(v=v.slice(0,-6)),r(`const ${e_(v,t)} = ${h}(${JSON.stringify(v)}${R?", true":""})${d?"!":""}`),s<e.length-1&&o()}}function kO(e,t){if(!e.length)return;t.pure=!0;const{push:i,newline:r,helper:o,scopeId:d,mode:h}=t;r();for(let s=0;s<e.length;s++){const v=e[s];v&&(i(`const _hoisted_${s+1} = `),Ul(v,t),r())}t.pure=!1}function iC(e,t){const i=e.length>3||!1;t.push("["),i&&t.indent(),x_(e,t,i),i&&t.deindent(),t.push("]")}function x_(e,t,i=!1,r=!0){const{push:o,newline:d}=t;for(let h=0;h<e.length;h++){const s=e[h];zr(s)?o(s):An(s)?iC(s,t):Ul(s,t),h<e.length-1&&(i?(r&&o(","),d()):r&&o(", "))}}function Ul(e,t){if(zr(e)){t.push(e);return}if(ff(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Ul(e.codegenNode,t);break;case 2:AO(e,t);break;case 4:HA(e,t);break;case 5:PO(e,t);break;case 12:Ul(e.codegenNode,t);break;case 8:WA(e,t);break;case 3:IO(e,t);break;case 13:LO(e,t);break;case 14:RO(e,t);break;case 15:BO(e,t);break;case 17:zO(e,t);break;case 18:NO(e,t);break;case 19:FO(e,t);break;case 20:jO(e,t);break;case 21:x_(e.body,t,!0,!1);break}}function AO(e,t){t.push(JSON.stringify(e.content),e)}function HA(e,t){const{content:i,isStatic:r}=e;t.push(r?JSON.stringify(i):i,e)}function PO(e,t){const{push:i,helper:r,pure:o}=t;o&&i(qb),i(`${r(Gb)}(`),Ul(e.content,t),i(")")}function WA(e,t){for(let i=0;i<e.children.length;i++){const r=e.children[i];zr(r)?t.push(r):Ul(r,t)}}function DO(e,t){const{push:i}=t;if(e.type===8)i("["),WA(e,t),i("]");else if(e.isStatic){const r=QS(e.content)?e.content:JSON.stringify(e.content);i(r,e)}else i(`[${e.content}]`,e)}function IO(e,t){const{push:i,helper:r,pure:o}=t;o&&i(qb),i(`${r(y_)}(${JSON.stringify(e.content)})`,e)}function LO(e,t){const{push:i,helper:r,pure:o}=t,{tag:d,props:h,children:s,patchFlag:v,dynamicProps:R,directives:K,isBlock:k,disableTracking:z,isComponent:q}=e;K&&i(r(WS)+"("),k&&i(`(${r(q0)}(${z?"true":""}), `),o&&i(qb);const L=k?Rg(t.inSSR,q):Og(t.inSSR,q);i(r(L)+"(",e),x_(OO([d,h,s,v,R]),t),i(")"),k&&i(")"),K&&(i(", "),Ul(K,t),i(")"))}function OO(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(i=>i||"null")}function RO(e,t){const{push:i,helper:r,pure:o}=t,d=zr(e.callee)?e.callee:r(e.callee);o&&i(qb),i(d+"(",e),x_(e.arguments,t),i(")")}function BO(e,t){const{push:i,indent:r,deindent:o,newline:d}=t,{properties:h}=e;if(!h.length){i("{}",e);return}const s=h.length>1||!1;i(s?"{":"{ "),s&&r();for(let v=0;v<h.length;v++){const{key:R,value:K}=h[v];DO(R,t),i(": "),Ul(K,t),v<h.length-1&&(i(","),d())}s&&o(),i(s?"}":" }")}function zO(e,t){iC(e.elements,t)}function NO(e,t){const{push:i,indent:r,deindent:o}=t,{params:d,returns:h,body:s,newline:v,isSlot:R}=e;R&&i(`_${Ig[KS]}(`),i("(",e),An(d)?x_(d,t):d&&Ul(d,t),i(") => "),(v||s)&&(i("{"),r()),h?(v&&i("return "),An(h)?iC(h,t):Ul(h,t)):s&&Ul(s,t),(v||s)&&(o(),i("}")),R&&(e.isNonScopedSlot&&i(", undefined, true"),i(")"))}function FO(e,t){const{test:i,consequent:r,alternate:o,newline:d}=e,{push:h,indent:s,deindent:v,newline:R}=t;if(i.type===4){const k=!QS(i.content);k&&h("("),HA(i,t),k&&h(")")}else h("("),Ul(i,t),h(")");d&&s(),t.indentLevel++,d||h(" "),h("? "),Ul(r,t),t.indentLevel--,d&&R(),d||h(" "),h(": ");const K=o.type===19;K||t.indentLevel++,Ul(o,t),K||t.indentLevel--,d&&v(!0)}function jO(e,t){const{push:i,helper:r,indent:o,deindent:d,newline:h}=t;i(`_cache[${e.index}] || (`),e.isVNode&&(o(),i(`${r(Wx)}(-1),`),h()),i(`_cache[${e.index}] = `),Ul(e.value,t),e.isVNode&&(i(","),h(),i(`${r(Wx)}(1),`),h(),i(`_cache[${e.index}]`),d()),i(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const UO=VA(/^(if|else|else-if)$/,(e,t,i)=>$O(e,t,i,(r,o,d)=>{const h=i.parent.children;let s=h.indexOf(r),v=0;for(;s-->=0;){const R=h[s];R&&R.type===9&&(v+=R.branches.length)}return()=>{if(d)r.codegenNode=iE(o,v,i);else{const R=VO(r.codegenNode);R.alternate=iE(o,v+r.branches.length-1,i)}}}));function $O(e,t,i,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const o=t.exp?t.exp.loc:e.loc;i.onError(Ro(28,t.loc)),t.exp=Wr("true",!1,o)}if(t.name==="if"){const o=tE(e,t),d={type:9,loc:e.loc,branches:[o]};if(i.replaceNode(d),r)return r(d,o,!0)}else{const o=i.parent.children;let d=o.indexOf(e);for(;d-->=-1;){const h=o[d];if(h&&h.type===3){i.removeNode(h);continue}if(h&&h.type===2&&!h.content.trim().length){i.removeNode(h);continue}if(h&&h.type===9){t.name==="else-if"&&h.branches[h.branches.length-1].condition===void 0&&i.onError(Ro(30,e.loc)),i.removeNode();const s=tE(e,t);h.branches.push(s);const v=r&&r(h,s,!1);Yb(s,i),v&&v(),i.currentNode=null}else i.onError(Ro(30,e.loc));break}}}function tE(e,t){const i=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:i&&!qd(e,"for")?e.children:[e],userKey:Hb(e,"key"),isTemplateIf:i}}function iE(e,t,i){return e.condition?gT(e.condition,nE(e,t,i),Ea(i.helper(y_),['""',"true"])):nE(e,t,i)}function nE(e,t,i){const{helper:r}=i,o=Qo("key",Wr(`${t}`,!1,xd,2)),{children:d}=e,h=d[0];if(d.length!==1||h.type!==1)if(d.length===1&&h.type===11){const v=h.codegenNode;return Kx(v,o,i),v}else{let v=64;return Qy(i,r(Ky),Zd([o]),d,v+"",void 0,void 0,!0,!1,!1,e.loc)}else{const v=h.codegenNode,R=sO(v);return R.type===13&&eC(R,i),Kx(R,o,i),v}}function VO(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const GO=VA("for",(e,t,i)=>{const{helper:r,removeHelper:o}=i;return HO(e,t,i,d=>{const h=Ea(r(YS),[d.source]),s=Xx(e),v=qd(e,"memo"),R=Hb(e,"key"),K=R&&(R.type===6?Wr(R.value.content,!0):R.exp),k=R?Qo("key",K):null,z=d.source.type===4&&d.source.constType>0,q=z?64:R?128:256;return d.codegenNode=Qy(i,r(Ky),void 0,h,q+"",void 0,void 0,!0,!z,!1,e.loc),()=>{let L;const{children:O}=d,G=O.length!==1||O[0].type!==1,M=Zx(e)?e:s&&e.children.length===1&&Zx(e.children[0])?e.children[0]:null;if(M?(L=M.codegenNode,s&&k&&Kx(L,k,i)):G?L=Qy(i,r(Ky),k?Zd([k]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(L=O[0].codegenNode,s&&k&&Kx(L,k,i),L.isBlock!==!z&&(L.isBlock?(o(q0),o(Rg(i.inSSR,L.isComponent))):o(Og(i.inSSR,L.isComponent))),L.isBlock=!z,L.isBlock?(r(q0),r(Rg(i.inSSR,L.isComponent))):r(Og(i.inSSR,L.isComponent))),v){const S=Lg(vT(d.parseResult,[Wr("_cached")]));S.body=ZL([Cu(["const _memo = (",v.exp,")"]),Cu(["if (_cached",...K?[" && _cached.key === ",K]:[],` && ${i.helperString(IA)}(_cached, _memo)) return _cached`]),Cu(["const _item = ",L]),Wr("_item.memo = _memo"),Wr("return _item")]),h.arguments.push(S,Wr("_cache"),Wr(String(i.cached++)))}else h.arguments.push(Lg(vT(d.parseResult),L,!0))}})});function HO(e,t,i,r){if(!t.exp){i.onError(Ro(31,t.loc));return}const o=YA(t.exp);if(!o){i.onError(Ro(32,t.loc));return}const{addIdentifiers:d,removeIdentifiers:h,scopes:s}=i,{source:v,value:R,key:K,index:k}=o,z={type:11,loc:t.loc,source:v,valueAlias:R,keyAlias:K,objectIndexAlias:k,parseResult:o,children:Xx(e)?e.children:[e]};i.replaceNode(z),s.vFor++;const q=r&&r(z);return()=>{s.vFor--,q&&q()}}const WO=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,rE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,YO=/^\(|\)$/g;function YA(e,t){const i=e.loc,r=e.content,o=r.match(WO);if(!o)return;const[,d,h]=o,s={source:ox(i,h.trim(),r.indexOf(h,d.length)),value:void 0,key:void 0,index:void 0};let v=d.trim().replace(YO,"").trim();const R=d.indexOf(v),K=v.match(rE);if(K){v=v.replace(rE,"").trim();const k=K[1].trim();let z;if(k&&(z=r.indexOf(k,R+v.length),s.key=ox(i,k,z)),K[2]){const q=K[2].trim();q&&(s.index=ox(i,q,r.indexOf(q,s.key?z+k.length:R+v.length)))}}return v&&(s.value=ox(i,v,R)),s}function ox(e,t,i){return Wr(t,!1,RA(e,i,t.length))}function vT({value:e,key:t,index:i},r=[]){return qO([e,t,i,...r])}function qO(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((i,r)=>i||Wr("_".repeat(r+1),!1))}const sE=Wr("undefined",!1),XO=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const i=qd(e,"slot");if(i)return i.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},ZO=(e,t,i)=>Lg(e,t,!1,!0,t.length?t[0].loc:i);function KO(e,t,i=ZO){t.helper(KS);const{children:r,loc:o}=e,d=[],h=[];let s=t.scopes.vSlot>0||t.scopes.vFor>0;const v=qd(e,"slot",!0);if(v){const{arg:G,exp:M}=v;G&&!Vc(G)&&(s=!0),d.push(Qo(G||Wr("default",!0),i(M,r,o)))}let R=!1,K=!1;const k=[],z=new Set;let q=0;for(let G=0;G<r.length;G++){const M=r[G];let S;if(!Xx(M)||!(S=qd(M,"slot",!0))){M.type!==3&&k.push(M);continue}if(v){t.onError(Ro(37,S.loc));break}R=!0;const{children:D,loc:H}=M,{arg:U=Wr("default",!0),exp:E,loc:ie}=S;let te;Vc(U)?te=U?U.content:"default":s=!0;const $=i(E,D,H);let V,j,x;if(V=qd(M,"if"))s=!0,h.push(gT(V.exp,ax(U,$,q++),sE));else if(j=qd(M,/^else(-if)?$/,!0)){let P=G,f;for(;P--&&(f=r[P],f.type===3););if(f&&Xx(f)&&qd(f,"if")){r.splice(G,1),G--;let g=h[h.length-1];for(;g.alternate.type===19;)g=g.alternate;g.alternate=j.exp?gT(j.exp,ax(U,$,q++),sE):ax(U,$,q++)}else t.onError(Ro(30,j.loc))}else if(x=qd(M,"for")){s=!0;const P=x.parseResult||YA(x.exp);P?h.push(Ea(t.helper(YS),[P.source,Lg(vT(P),ax(U,$),!0)])):t.onError(Ro(32,x.loc))}else{if(te){if(z.has(te)){t.onError(Ro(38,ie));continue}z.add(te),te==="default"&&(K=!0)}d.push(Qo(U,$))}}if(!v){const G=(M,S)=>{const D=i(M,S,o);return t.compatConfig&&(D.isNonScopedSlot=!0),Qo("default",D)};R?k.length&&k.some(M=>qA(M))&&(K?t.onError(Ro(39,k[0].loc)):d.push(G(void 0,k))):d.push(G(void 0,r))}const L=s?2:Ex(e.children)?3:1;let O=Zd(d.concat(Qo("_",Wr(L+"",!1))),o);return h.length&&(O=Ea(t.helper(DA),[O,v_(h)])),{slots:O,hasDynamicSlots:s}}function ax(e,t,i){const r=[Qo("name",e),Qo("fn",t)];return i!=null&&r.push(Qo("key",Wr(String(i),!0))),Zd(r)}function Ex(e){for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case 1:if(i.tagType===2||Ex(i.children))return!0;break;case 9:if(Ex(i.branches))return!0;break;case 10:case 11:if(Ex(i.children))return!0;break}}return!1}function qA(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():qA(e.content)}const XA=new WeakMap,JO=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:o}=e,d=e.tagType===1;let h=d?QO(e,t):`"${r}"`;const s=Zs(h)&&h.callee===Gx;let v,R,K,k=0,z,q,L,O=s||h===Fy||h===FS||!d&&(r==="svg"||r==="foreignObject");if(o.length>0){const G=ZA(e,t,void 0,d,s);v=G.props,k=G.patchFlag,q=G.dynamicPropNames;const M=G.directives;L=M&&M.length?v_(M.map(S=>t9(S,t))):void 0,G.shouldUseBlock&&(O=!0)}if(e.children.length>0)if(h===Vx&&(O=!0,k|=1024),d&&h!==Fy&&h!==Vx){const{slots:M,hasDynamicSlots:S}=KO(e,t);R=M,S&&(k|=1024)}else if(e.children.length===1&&h!==Fy){const M=e.children[0],S=M.type,D=S===5||S===8;D&&Kd(M,t)===0&&(k|=1),D||S===2?R=M:R=e.children}else R=e.children;k!==0&&(K=String(k),q&&q.length&&(z=i9(q))),e.codegenNode=Qy(t,h,v,R,K,z,L,!!O,!1,d,e.loc)};function QO(e,t,i=!1){let{tag:r}=e;const o=xT(r),d=Hb(e,"is");if(d)if(o||$0("COMPILER_IS_ON_ELEMENT",t)){const v=d.type===6?d.value&&Wr(d.value.content,!0):d.exp;if(v)return Ea(t.helper(Gx),[v])}else d.type===6&&d.value.content.startsWith("vue:")&&(r=d.value.content.slice(4));const h=!o&&qd(e,"is");if(h&&h.exp)return Ea(t.helper(Gx),[h.exp]);const s=LA(r)||t.isBuiltInComponent(r);return s?(i||t.helper(s),s):(t.helper(VS),t.components.add(r),e_(r,"component"))}function ZA(e,t,i=e.props,r,o,d=!1){const{tag:h,loc:s,children:v}=e;let R=[];const K=[],k=[],z=v.length>0;let q=!1,L=0,O=!1,G=!1,M=!1,S=!1,D=!1,H=!1;const U=[],E=$=>{R.length&&(K.push(Zd(oE(R),s)),R=[]),$&&K.push($)},ie=({key:$,value:V})=>{if(Vc($)){const j=$.content,x=J0(j);if(x&&(!r||o)&&j.toLowerCase()!=="onclick"&&j!=="onUpdate:modelValue"&&!B0(j)&&(S=!0),x&&B0(j)&&(H=!0),V.type===20||(V.type===4||V.type===8)&&Kd(V,t)>0)return;j==="ref"?O=!0:j==="class"?G=!0:j==="style"?M=!0:j!=="key"&&!U.includes(j)&&U.push(j),r&&(j==="class"||j==="style")&&!U.includes(j)&&U.push(j)}else D=!0};for(let $=0;$<i.length;$++){const V=i[$];if(V.type===6){const{loc:j,name:x,value:P}=V;let f=!0;if(x==="ref"&&(O=!0,t.scopes.vFor>0&&R.push(Qo(Wr("ref_for",!0),Wr("true")))),x==="is"&&(xT(h)||P&&P.content.startsWith("vue:")||$0("COMPILER_IS_ON_ELEMENT",t)))continue;R.push(Qo(Wr(x,!0,RA(j,0,x.length)),Wr(P?P.content:"",f,P?P.loc:j)))}else{const{name:j,arg:x,exp:P,loc:f}=V,g=j==="bind",b=j==="on";if(j==="slot"){r||t.onError(Ro(40,f));continue}if(j==="once"||j==="memo"||j==="is"||g&&I0(x,"is")&&(xT(h)||$0("COMPILER_IS_ON_ELEMENT",t))||b&&d)continue;if((g&&I0(x,"key")||b&&z&&I0(x,"vue:before-update"))&&(q=!0),g&&I0(x,"ref")&&t.scopes.vFor>0&&R.push(Qo(Wr("ref_for",!0),Wr("true"))),!x&&(g||b)){if(D=!0,P)if(g){if(E(),$0("COMPILER_V_BIND_OBJECT_ORDER",t)){K.unshift(P);continue}K.push(P)}else E({type:14,loc:f,callee:t.helper(ZS),arguments:r?[P]:[P,"true"]});else t.onError(Ro(g?34:35,f));continue}const A=t.directiveTransforms[j];if(A){const{props:X,needRuntime:Y}=A(V,e,t);!d&&X.forEach(ie),b&&x&&!Vc(x)?E(Zd(X,s)):R.push(...X),Y&&(k.push(V),ff(Y)&&XA.set(V,Y))}else ND(j)||(k.push(V),z&&(q=!0))}}let te;if(K.length?(E(),K.length>1?te=Ea(t.helper(Hx),K,s):te=K[0]):R.length&&(te=Zd(oE(R),s)),D?L|=16:(G&&!r&&(L|=2),M&&!r&&(L|=4),U.length&&(L|=8),S&&(L|=32)),!q&&(L===0||L===32)&&(O||H||k.length>0)&&(L|=512),!t.inSSR&&te)switch(te.type){case 15:let $=-1,V=-1,j=!1;for(let f=0;f<te.properties.length;f++){const g=te.properties[f].key;Vc(g)?g.content==="class"?$=f:g.content==="style"&&(V=f):g.isHandlerKey||(j=!0)}const x=te.properties[$],P=te.properties[V];j?te=Ea(t.helper(Jy),[te]):(x&&!Vc(x.value)&&(x.value=Ea(t.helper(qS),[x.value])),P&&(M||P.value.type===4&&P.value.content.trim()[0]==="["||P.value.type===17)&&(P.value=Ea(t.helper(XS),[P.value])));break;case 14:break;default:te=Ea(t.helper(Jy),[Ea(t.helper(__),[te])]);break}return{props:te,directives:k,patchFlag:L,dynamicPropNames:U,shouldUseBlock:q}}function oE(e){const t=new Map,i=[];for(let r=0;r<e.length;r++){const o=e[r];if(o.key.type===8||!o.key.isStatic){i.push(o);continue}const d=o.key.content,h=t.get(d);h?(d==="style"||d==="class"||J0(d))&&e9(h,o):(t.set(d,o),i.push(o))}return i}function e9(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=v_([e.value,t.value],e.loc)}function t9(e,t){const i=[],r=XA.get(e);r?i.push(t.helperString(r)):(t.helper(GS),t.directives.add(e.name),i.push(e_(e.name,"directive")));const{loc:o}=e;if(e.exp&&i.push(e.exp),e.arg&&(e.exp||i.push("void 0"),i.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||i.push("void 0"),i.push("void 0"));const d=Wr("true",!1,o);i.push(Zd(e.modifiers.map(h=>Qo(h,d)),o))}return v_(i,e.loc)}function i9(e){let t="[";for(let i=0,r=e.length;i<r;i++)t+=JSON.stringify(e[i]),i<r-1&&(t+=", ");return t+"]"}function xT(e){return e==="component"||e==="Component"}const n9=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},r9=/-(\w)/g,aE=n9(e=>e.replace(r9,(t,i)=>i?i.toUpperCase():"")),s9=(e,t)=>{if(Zx(e)){const{children:i,loc:r}=e,{slotName:o,slotProps:d}=o9(e,t),h=[t.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let s=2;d&&(h[2]=d,s=3),i.length&&(h[3]=Lg([],i,!1,!1,r),s=4),t.scopeId&&!t.slotted&&(s=5),h.splice(s),e.codegenNode=Ea(t.helper(PA),h,r)}};function o9(e,t){let i='"default"',r;const o=[];for(let d=0;d<e.props.length;d++){const h=e.props[d];h.type===6?h.value&&(h.name==="name"?i=JSON.stringify(h.value.content):(h.name=aE(h.name),o.push(h))):h.name==="bind"&&I0(h.arg,"name")?h.exp&&(i=h.exp):(h.name==="bind"&&h.arg&&Vc(h.arg)&&(h.arg.content=aE(h.arg.content)),o.push(h))}if(o.length>0){const{props:d,directives:h}=ZA(e,t,o,!1,!1);r=d,h.length&&t.onError(Ro(36,h[0].loc))}return{slotName:i,slotProps:r}}const a9=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,KA=(e,t,i,r)=>{const{loc:o,modifiers:d,arg:h}=e;!e.exp&&!d.length&&i.onError(Ro(35,o));let s;if(h.type===4)if(h.isStatic){let k=h.content;k.startsWith("vue:")&&(k=`vnode-${k.slice(4)}`);const z=t.tagType!==0||k.startsWith("vnode")||!/[A-Z]/.test(k)?z0(nl(k)):`on:${k}`;s=Wr(z,!0,h.loc)}else s=Cu([`${i.helperString(mT)}(`,h,")"]);else s=h,s.children.unshift(`${i.helperString(mT)}(`),s.children.push(")");let v=e.exp;v&&!v.content.trim()&&(v=void 0);let R=i.cacheHandlers&&!v&&!i.inVOnce;if(v){const k=OA(v.content),z=!(k||a9.test(v.content)),q=v.content.includes(";");(z||R&&k)&&(v=Cu([`${z?"$event":"(...args)"} => ${q?"{":"("}`,v,q?"}":")"]))}let K={props:[Qo(s,v||Wr("() => {}",!1,o))]};return r&&(K=r(K)),R&&(K.props[0].value=i.cache(K.props[0].value)),K.props.forEach(k=>k.key.isHandlerKey=!0),K},l9=(e,t,i)=>{const{exp:r,modifiers:o,loc:d}=e,h=e.arg;return h.type!==4?(h.children.unshift("("),h.children.push(') || ""')):h.isStatic||(h.content=`${h.content} || ""`),o.includes("camel")&&(h.type===4?h.isStatic?h.content=nl(h.content):h.content=`${i.helperString(fT)}(${h.content})`:(h.children.unshift(`${i.helperString(fT)}(`),h.children.push(")"))),i.inSSR||(o.includes("prop")&&lE(h,"."),o.includes("attr")&&lE(h,"^")),!r||r.type===4&&!r.content.trim()?(i.onError(Ro(34,d)),{props:[Qo(h,Wr("",!0,d))]}):{props:[Qo(h,r)]}},lE=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},c9=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const i=e.children;let r,o=!1;for(let d=0;d<i.length;d++){const h=i[d];if(h3(h)){o=!0;for(let s=d+1;s<i.length;s++){const v=i[s];if(h3(v))r||(r=i[d]=Cu([h],h.loc)),r.children.push(" + ",v),i.splice(s,1),s--;else{r=void 0;break}}}}if(!(!o||i.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(d=>d.type===7&&!t.directiveTransforms[d.name])&&e.tag!=="template")))for(let d=0;d<i.length;d++){const h=i[d];if(h3(h)||h.type===8){const s=[];(h.type!==2||h.content!==" ")&&s.push(h),!t.ssr&&Kd(h,t)===0&&s.push("1"),i[d]={type:12,content:h,loc:h.loc,codegenNode:Ea(t.helper($S),s)}}}}},cE=new WeakSet,d9=(e,t)=>{if(e.type===1&&qd(e,"once",!0))return cE.has(e)||t.inVOnce?void 0:(cE.add(e),t.inVOnce=!0,t.helper(Wx),()=>{t.inVOnce=!1;const i=t.currentNode;i.codegenNode&&(i.codegenNode=t.cache(i.codegenNode,!0))})},JA=(e,t,i)=>{const{exp:r,arg:o}=e;if(!r)return i.onError(Ro(41,e.loc)),lx();const d=r.loc.source,h=r.type===4?r.content:d,s=i.bindingMetadata[d];if(s==="props"||s==="props-aliased")return i.onError(Ro(44,r.loc)),lx();const v=!1;if(!h.trim()||!OA(h)&&!v)return i.onError(Ro(42,r.loc)),lx();const R=o||Wr("modelValue",!0),K=o?Vc(o)?`onUpdate:${o.content}`:Cu(['"onUpdate:" + ',o]):"onUpdate:modelValue";let k;const z=i.isTS?"($event: any)":"$event";k=Cu([`${z} => ((`,r,") = $event)"]);const q=[Qo(R,e.exp),Qo(K,k)];if(e.modifiers.length&&t.tagType===1){const L=e.modifiers.map(G=>(QS(G)?G:JSON.stringify(G))+": true").join(", "),O=o?Vc(o)?`${o.content}Modifiers`:Cu([o,' + "Modifiers"']):"modelModifiers";q.push(Qo(O,Wr(`{ ${L} }`,!1,e.loc,2)))}return lx(q)};function lx(e=[]){return{props:e}}const u9=/[\w).+\-_$\]]/,h9=(e,t)=>{$0("COMPILER_FILTER",t)&&(e.type===5&&Jx(e.content,t),e.type===1&&e.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&Jx(i.exp,t)}))};function Jx(e,t){if(e.type===4)dE(e,t);else for(let i=0;i<e.children.length;i++){const r=e.children[i];typeof r=="object"&&(r.type===4?dE(r,t):r.type===8?Jx(e,t):r.type===5&&Jx(r.content,t))}}function dE(e,t){const i=e.content;let r=!1,o=!1,d=!1,h=!1,s=0,v=0,R=0,K=0,k,z,q,L,O=[];for(q=0;q<i.length;q++)if(z=k,k=i.charCodeAt(q),r)k===39&&z!==92&&(r=!1);else if(o)k===34&&z!==92&&(o=!1);else if(d)k===96&&z!==92&&(d=!1);else if(h)k===47&&z!==92&&(h=!1);else if(k===124&&i.charCodeAt(q+1)!==124&&i.charCodeAt(q-1)!==124&&!s&&!v&&!R)L===void 0?(K=q+1,L=i.slice(0,q).trim()):G();else{switch(k){case 34:o=!0;break;case 39:r=!0;break;case 96:d=!0;break;case 40:R++;break;case 41:R--;break;case 91:v++;break;case 93:v--;break;case 123:s++;break;case 125:s--;break}if(k===47){let M=q-1,S;for(;M>=0&&(S=i.charAt(M),S===" ");M--);(!S||!u9.test(S))&&(h=!0)}}L===void 0?L=i.slice(0,q).trim():K!==0&&G();function G(){O.push(i.slice(K,q).trim()),K=q+1}if(O.length){for(q=0;q<O.length;q++)L=p9(L,O[q],t);e.content=L}}function p9(e,t,i){i.helper(HS);const r=t.indexOf("(");if(r<0)return i.filters.add(t),`${e_(t,"filter")}(${e})`;{const o=t.slice(0,r),d=t.slice(r+1);return i.filters.add(o),`${e_(o,"filter")}(${e}${d!==")"?","+d:d}`}}const uE=new WeakSet,f9=(e,t)=>{if(e.type===1){const i=qd(e,"memo");return!i||uE.has(e)?void 0:(uE.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&eC(r,t),e.codegenNode=Ea(t.helper(JS),[i.exp,Lg(void 0,r),"_cache",String(t.cached++)]))})}};function m9(e){return[[d9,UO,f9,GO,h9,s9,JO,XO,c9],{on:KA,bind:l9,model:JA}]}function g9(e,t={}){const i=t.onError||NS,r=t.mode==="module";t.prefixIdentifiers===!0?i(Ro(47)):r&&i(Ro(48));const o=!1;t.cacheHandlers&&i(Ro(49)),t.scopeId&&!r&&i(Ro(50));const d=zr(e)?lO(e,t):e,[h,s]=m9();return wO(d,Is({},t,{prefixIdentifiers:o,nodeTransforms:[...h,...t.nodeTransforms||[]],directiveTransforms:Is({},s,t.directiveTransforms||{})})),EO(d,Is({},t,{prefixIdentifiers:o}))}const y9=()=>({props:[]}),QA=Symbol(""),e8=Symbol(""),t8=Symbol(""),i8=Symbol(""),bT=Symbol(""),n8=Symbol(""),r8=Symbol(""),s8=Symbol(""),o8=Symbol(""),a8=Symbol("");YL({[QA]:"vModelRadio",[e8]:"vModelCheckbox",[t8]:"vModelText",[i8]:"vModelSelect",[bT]:"vModelDynamic",[n8]:"withModifiers",[r8]:"withKeys",[s8]:"vShow",[o8]:"Transition",[a8]:"TransitionGroup"});let lg;function _9(e,t=!1){return lg||(lg=document.createElement("div")),t?(lg.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,lg.children[0].getAttribute("foo")):(lg.innerHTML=e,lg.textContent)}const v9=Wc("style,iframe,script,noscript",!0),x9={isVoidTag:DD,isNativeTag:e=>AD(e)||PD(e),isPreTag:e=>e==="pre",decodeEntities:_9,isBuiltInComponent:e=>{if(pg(e,"Transition"))return o8;if(pg(e,"TransitionGroup"))return a8},getNamespace(e,t){let i=t?t.ns:0;if(t&&i===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(i=0);else t&&i===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(i=0);if(i===0){if(e==="svg")return 1;if(e==="math")return 2}return i},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(v9(e))return 2}return 0}},b9=e=>{e.type===1&&e.props.forEach((t,i)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[i]={type:7,name:"bind",arg:Wr("style",!0,t.loc),exp:w9(t.value.content,t.loc),modifiers:[],loc:t.loc})})},w9=(e,t)=>{const i=BM(e);return Wr(JSON.stringify(i),!1,t,3)};function np(e,t){return Ro(e,t)}const T9=(e,t,i)=>{const{exp:r,loc:o}=e;return r||i.onError(np(51,o)),t.children.length&&(i.onError(np(52,o)),t.children.length=0),{props:[Qo(Wr("innerHTML",!0,o),r||Wr("",!0))]}},S9=(e,t,i)=>{const{exp:r,loc:o}=e;return r||i.onError(np(53,o)),t.children.length&&(i.onError(np(54,o)),t.children.length=0),{props:[Qo(Wr("textContent",!0),r?Kd(r,i)>0?r:Ea(i.helperString(Gb),[r],o):Wr("",!0))]}},C9=(e,t,i)=>{const r=JA(e,t,i);if(!r.props.length||t.tagType===1)return r;e.arg&&i.onError(np(56,e.arg.loc));const{tag:o}=t,d=i.isCustomElement(o);if(o==="input"||o==="textarea"||o==="select"||d){let h=t8,s=!1;if(o==="input"||d){const v=Hb(t,"type");if(v){if(v.type===7)h=bT;else if(v.value)switch(v.value.content){case"radio":h=QA;break;case"checkbox":h=e8;break;case"file":s=!0,i.onError(np(57,e.loc));break}}else iO(t)&&(h=bT)}else o==="select"&&(h=i8);s||(r.needRuntime=i.helper(h))}else i.onError(np(55,e.loc));return r.props=r.props.filter(h=>!(h.key.type===4&&h.key.content==="modelValue")),r},E9=Wc("passive,once,capture"),M9=Wc("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),k9=Wc("left,right"),l8=Wc("onkeyup,onkeydown,onkeypress",!0),A9=(e,t,i,r)=>{const o=[],d=[],h=[];for(let s=0;s<t.length;s++){const v=t[s];v==="native"&&t_("COMPILER_V_ON_NATIVE",i)||E9(v)?h.push(v):k9(v)?Vc(e)?l8(e.content)?o.push(v):d.push(v):(o.push(v),d.push(v)):M9(v)?d.push(v):o.push(v)}return{keyModifiers:o,nonKeyModifiers:d,eventOptionModifiers:h}},hE=(e,t)=>Vc(e)&&e.content.toLowerCase()==="onclick"?Wr(t,!0):e.type!==4?Cu(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,P9=(e,t,i)=>KA(e,t,i,r=>{const{modifiers:o}=e;if(!o.length)return r;let{key:d,value:h}=r.props[0];const{keyModifiers:s,nonKeyModifiers:v,eventOptionModifiers:R}=A9(d,o,i,e.loc);if(v.includes("right")&&(d=hE(d,"onContextmenu")),v.includes("middle")&&(d=hE(d,"onMouseup")),v.length&&(h=Ea(i.helper(n8),[h,JSON.stringify(v)])),s.length&&(!Vc(d)||l8(d.content))&&(h=Ea(i.helper(r8),[h,JSON.stringify(s)])),R.length){const K=R.map(Sf).join("");d=Vc(d)?Wr(`${d.content}${K}`,!0):Cu(["(",d,`) + "${K}"`])}return{props:[Qo(d,h)]}}),D9=(e,t,i)=>{const{exp:r,loc:o}=e;return r||i.onError(np(59,o)),{props:[],needRuntime:i.helper(s8)}},I9=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(np(61,e.loc)),t.removeNode())},L9=[b9],O9={cloak:y9,html:T9,text:S9,model:C9,on:P9,show:D9};function R9(e,t={}){return g9(e,Is({},x9,t,{nodeTransforms:[I9,...L9,...t.nodeTransforms||[]],directiveTransforms:Is({},O9,t.directiveTransforms||{}),transformHoist:null}))}const pE=Object.create(null);function c8(e,t){if(!zr(e))if(e.nodeType)e=e.innerHTML;else return xc;const i=e,r=pE[i];if(r)return r;if(e[0]==="#"){const s=document.querySelector(e);e=s?s.innerHTML:""}const o=Is({hoistStatic:!0,onError:void 0,onWarn:xc},t);!o.isCustomElement&&typeof customElements<"u"&&(o.isCustomElement=s=>!!customElements.get(s));const{code:d}=R9(e,o),h=new Function("Vue",d)(UL);return h._rc=!0,pE[i]=h}kS(c8);const B9=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:zb,Comment:_l,EffectScope:wb,Fragment:Yi,KeepAlive:Sk,ReactiveEffect:Ug,Static:df,Suspense:yk,Teleport:ES,Text:vf,Transition:Au,TransitionGroup:gA,VueElement:g_,callWithAsyncErrorHandling:Gc,callWithErrorHandling:dh,camelize:nl,capitalize:Sf,cloneVNode:Eu,compatUtils:oA,compile:c8,computed:un,createApp:zS,createBlock:Dr,createCommentVNode:di,createElementBlock:vt,createElementVNode:Ne,createHydrationRenderer:SS,createPropsRestProxy:eA,createRenderer:TS,createSSRApp:wA,createSlots:Nl,createStaticVNode:nu,createTextVNode:rs,createVNode:an,customRef:ak,defineAsyncComponent:Tk,defineComponent:Gl,defineCustomElement:OS,defineEmits:Xk,defineExpose:Zk,defineProps:qk,defineSSRCustomElement:aA,get devtools(){return A0},effect:HM,effectScope:UM,getCurrentInstance:pp,getCurrentScope:eS,getTransitionRawChildren:p_,guardReactiveProps:Bl,h:Uc,handleError:Cf,hydrate:BS,initCustomFormatter:iA,initDirectivesForSSR:SA,inject:F0,isMemoSame:IS,isProxy:kb,isReactive:cf,isReadonly:gf,isRef:ha,isRuntimeOnly:Hk,isShallow:Ag,isVNode:ap,markRaw:Ab,mergeDefaults:Qk,mergeProps:Ko,nextTick:Fa,normalizeClass:Ln,normalizeProps:Ca,normalizeStyle:$o,onActivated:hS,onBeforeMount:fS,onBeforeUnmount:tm,onBeforeUpdate:Hg,onDeactivated:pS,onErrorCaptured:_S,onMounted:Go,onRenderTracked:yS,onRenderTriggered:gS,onScopeDispose:tS,onServerPrefetch:mS,onUnmounted:hh,onUpdated:em,openBlock:dt,popScopeId:up,provide:Gg,proxyRefs:Db,pushScopeId:dp,queuePostFlushCb:Lb,reactive:iu,readonly:Eb,ref:Ki,registerRuntimeCompiler:kS,render:$x,renderList:Xn,renderSlot:vn,resolveComponent:ur,resolveDirective:jb,resolveDynamicComponent:Fb,resolveFilter:sA,resolveTransitionHooks:W0,setBlockTracking:jx,setDevtoolsHook:lS,setTransitionHooks:_f,shallowReactive:rS,shallowReadonly:nk,shallowRef:rk,ssrContextKey:PS,ssrUtils:rA,stop:WM,toDisplayString:$i,toHandlerKey:z0,toHandlers:kk,toRaw:us,toRef:yf,toRefs:lk,transformVNodeArgs:jk,triggerRef:ok,unref:Li,useAttrs:AS,useCssModule:lA,useCssVars:cA,useSSRContext:DS,useSlots:m_,useTransitionState:Bb,vModelCheckbox:ip,vModelDynamic:RS,vModelRadio:Vb,vModelSelect:yd,vModelText:Hc,vShow:U0,version:LS,warn:dk,watch:Xs,watchEffect:vk,watchPostEffect:uS,watchSyncEffect:xk,withAsyncContext:tA,withCtx:Hn,withDefaults:Kk,withDirectives:Ms,withKeys:Tr,withMemo:nA,withModifiers:Uo,withScopeId:mk},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var d8;function bn(){return d8.apply(null,arguments)}function z9(e){d8=e}function Mu(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function V0(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ks(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nC(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ks(e,t))return!1;return!0}function Fc(e){return e===void 0}function lp(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function b_(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function u8(e,t){var i=[],r,o=e.length;for(r=0;r<o;++r)i.push(t(e[r],r));return i}function rf(e,t){for(var i in t)ks(t,i)&&(e[i]=t[i]);return ks(t,"toString")&&(e.toString=t.toString),ks(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ph(e,t,i,r){return R8(e,t,i,r,!0).utc()}function N9(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Br(e){return e._pf==null&&(e._pf=N9()),e._pf}var wT;Array.prototype.some?wT=Array.prototype.some:wT=function(e){var t=Object(this),i=t.length>>>0,r;for(r=0;r<i;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function rC(e){if(e._isValid==null){var t=Br(e),i=wT.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Xb(e){var t=ph(NaN);return e!=null?rf(Br(t),e):Br(t).userInvalidated=!0,t}var fE=bn.momentProperties=[],f3=!1;function sC(e,t){var i,r,o,d=fE.length;if(Fc(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Fc(t._i)||(e._i=t._i),Fc(t._f)||(e._f=t._f),Fc(t._l)||(e._l=t._l),Fc(t._strict)||(e._strict=t._strict),Fc(t._tzm)||(e._tzm=t._tzm),Fc(t._isUTC)||(e._isUTC=t._isUTC),Fc(t._offset)||(e._offset=t._offset),Fc(t._pf)||(e._pf=Br(t)),Fc(t._locale)||(e._locale=t._locale),d>0)for(i=0;i<d;i++)r=fE[i],o=t[r],Fc(o)||(e[r]=o);return e}function w_(e){sC(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),f3===!1&&(f3=!0,bn.updateOffset(this),f3=!1)}function ku(e){return e instanceof w_||e!=null&&e._isAMomentObject!=null}function h8(e){bn.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function ru(e,t){var i=!0;return rf(function(){if(bn.deprecationHandler!=null&&bn.deprecationHandler(null,e),i){var r=[],o,d,h,s=arguments.length;for(d=0;d<s;d++){if(o="",typeof arguments[d]=="object"){o+=`
[`+d+"] ";for(h in arguments[0])ks(arguments[0],h)&&(o+=h+": "+arguments[0][h]+", ");o=o.slice(0,-2)}else o=arguments[d];r.push(o)}h8(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),i=!1}return t.apply(this,arguments)},t)}var mE={};function p8(e,t){bn.deprecationHandler!=null&&bn.deprecationHandler(e,t),mE[e]||(h8(t),mE[e]=!0)}bn.suppressDeprecationWarnings=!1;bn.deprecationHandler=null;function fh(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function F9(e){var t,i;for(i in e)ks(e,i)&&(t=e[i],fh(t)?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function TT(e,t){var i=rf({},e),r;for(r in t)ks(t,r)&&(V0(e[r])&&V0(t[r])?(i[r]={},rf(i[r],e[r]),rf(i[r],t[r])):t[r]!=null?i[r]=t[r]:delete i[r]);for(r in e)ks(e,r)&&!ks(t,r)&&V0(e[r])&&(i[r]=rf({},i[r]));return i}function oC(e){e!=null&&this.set(e)}var ST;Object.keys?ST=Object.keys:ST=function(e){var t,i=[];for(t in e)ks(e,t)&&i.push(t);return i};var j9={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function U9(e,t,i){var r=this._calendar[e]||this._calendar.sameElse;return fh(r)?r.call(t,i):r}function uh(e,t,i){var r=""+Math.abs(e),o=t-r.length,d=e>=0;return(d?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var aC=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,cx=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,m3={},bg={};function ir(e,t,i,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(bg[e]=o),t&&(bg[t[0]]=function(){return uh(o.apply(this,arguments),t[1],t[2])}),i&&(bg[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function $9(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V9(e){var t=e.match(aC),i,r;for(i=0,r=t.length;i<r;i++)bg[t[i]]?t[i]=bg[t[i]]:t[i]=$9(t[i]);return function(o){var d="",h;for(h=0;h<r;h++)d+=fh(t[h])?t[h].call(o,e):t[h];return d}}function Mx(e,t){return e.isValid()?(t=f8(t,e.localeData()),m3[t]=m3[t]||V9(t),m3[t](e)):e.localeData().invalidDate()}function f8(e,t){var i=5;function r(o){return t.longDateFormat(o)||o}for(cx.lastIndex=0;i>=0&&cx.test(e);)e=e.replace(cx,r),cx.lastIndex=0,i-=1;return e}var G9={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H9(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(aC).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var W9="Invalid date";function Y9(){return this._invalidDate}var q9="%d",X9=/\d{1,2}/;function Z9(e){return this._ordinal.replace("%d",e)}var K9={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J9(e,t,i,r){var o=this._relativeTime[i];return fh(o)?o(e,t,i,r):o.replace(/%d/i,e)}function Q9(e,t){var i=this._relativeTime[e>0?"future":"past"];return fh(i)?i(t):i.replace(/%s/i,t)}var Uy={};function Hl(e,t){var i=e.toLowerCase();Uy[i]=Uy[i+"s"]=Uy[t]=e}function su(e){return typeof e=="string"?Uy[e]||Uy[e.toLowerCase()]:void 0}function lC(e){var t={},i,r;for(r in e)ks(e,r)&&(i=su(r),i&&(t[i]=e[r]));return t}var m8={};function Wl(e,t){m8[e]=t}function e7(e){var t=[],i;for(i in e)ks(e,i)&&t.push({unit:i,priority:m8[i]});return t.sort(function(r,o){return r.priority-o.priority}),t}function Zb(e){return e%4===0&&e%100!==0||e%400===0}function Xd(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Zr(e){var t=+e,i=0;return t!==0&&isFinite(t)&&(i=Xd(t)),i}function Wg(e,t){return function(i){return i!=null?(g8(this,e,i),bn.updateOffset(this,t),this):Qx(this,e)}}function Qx(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function g8(e,t,i){e.isValid()&&!isNaN(i)&&(t==="FullYear"&&Zb(e.year())&&e.month()===1&&e.date()===29?(i=Zr(i),e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),i2(i,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function t7(e){return e=su(e),fh(this[e])?this[e]():this}function i7(e,t){if(typeof e=="object"){e=lC(e);var i=e7(e),r,o=i.length;for(r=0;r<o;r++)this[i[r].unit](e[i[r].unit])}else if(e=su(e),fh(this[e]))return this[e](t);return this}var y8=/\d/,bd=/\d\d/,_8=/\d{3}/,cC=/\d{4}/,Kb=/[+-]?\d{6}/,Ao=/\d\d?/,v8=/\d\d\d\d?/,x8=/\d\d\d\d\d\d?/,Jb=/\d{1,3}/,dC=/\d{1,4}/,Qb=/[+-]?\d{1,6}/,Yg=/\d+/,e2=/[+-]?\d+/,n7=/Z|[+-]\d\d:?\d\d/gi,t2=/Z|[+-]\d\d(?::?\d\d)?/gi,r7=/[+-]?\d+(\.\d{1,3})?/,T_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,eb;eb={};function Dn(e,t,i){eb[e]=fh(t)?t:function(r,o){return r&&i?i:t}}function s7(e,t){return ks(eb,e)?eb[e](t._strict,t._locale):new RegExp(o7(e))}function o7(e){return md(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,i,r,o,d){return i||r||o||d}))}function md(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var CT={};function Js(e,t){var i,r=t,o;for(typeof e=="string"&&(e=[e]),lp(t)&&(r=function(d,h){h[t]=Zr(d)}),o=e.length,i=0;i<o;i++)CT[e[i]]=r}function S_(e,t){Js(e,function(i,r,o,d){o._w=o._w||{},t(i,o._w,o,d)})}function a7(e,t,i){t!=null&&ks(CT,e)&&CT[e](t,i._a,i,e)}var $l=0,Kh=1,rh=2,ja=3,Su=4,Jh=5,L0=6,l7=7,c7=8;function d7(e,t){return(e%t+t)%t}var ua;Array.prototype.indexOf?ua=Array.prototype.indexOf:ua=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function i2(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=d7(t,12);return e+=(t-i)/12,i===1?Zb(e)?29:28:31-i%7%2}ir("M",["MM",2],"Mo",function(){return this.month()+1});ir("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ir("MMMM",0,0,function(e){return this.localeData().months(this,e)});Hl("month","M");Wl("month",8);Dn("M",Ao);Dn("MM",Ao,bd);Dn("MMM",function(e,t){return t.monthsShortRegex(e)});Dn("MMMM",function(e,t){return t.monthsRegex(e)});Js(["M","MM"],function(e,t){t[Kh]=Zr(e)-1});Js(["MMM","MMMM"],function(e,t,i,r){var o=i._locale.monthsParse(e,r,i._strict);o!=null?t[Kh]=o:Br(i).invalidMonth=e});var u7="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),b8="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),w8=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,h7=T_,p7=T_;function f7(e,t){return e?Mu(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||w8).test(t)?"format":"standalone"][e.month()]:Mu(this._months)?this._months:this._months.standalone}function m7(e,t){return e?Mu(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[w8.test(t)?"format":"standalone"][e.month()]:Mu(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function g7(e,t,i){var r,o,d,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)d=ph([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(d,"").toLocaleLowerCase();return i?t==="MMM"?(o=ua.call(this._shortMonthsParse,h),o!==-1?o:null):(o=ua.call(this._longMonthsParse,h),o!==-1?o:null):t==="MMM"?(o=ua.call(this._shortMonthsParse,h),o!==-1?o:(o=ua.call(this._longMonthsParse,h),o!==-1?o:null)):(o=ua.call(this._longMonthsParse,h),o!==-1?o:(o=ua.call(this._shortMonthsParse,h),o!==-1?o:null))}function y7(e,t,i){var r,o,d;if(this._monthsParseExact)return g7.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=ph([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!i&&!this._monthsParse[r]&&(d="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(d.replace(".",""),"i")),i&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(i&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!i&&this._monthsParse[r].test(e))return r}}function T8(e,t){var i;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Zr(t);else if(t=e.localeData().monthsParse(t),!lp(t))return e}return i=Math.min(e.date(),i2(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function S8(e){return e!=null?(T8(this,e),bn.updateOffset(this,!0),this):Qx(this,"Month")}function _7(){return i2(this.year(),this.month())}function v7(e){return this._monthsParseExact?(ks(this,"_monthsRegex")||C8.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ks(this,"_monthsShortRegex")||(this._monthsShortRegex=h7),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function x7(e){return this._monthsParseExact?(ks(this,"_monthsRegex")||C8.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ks(this,"_monthsRegex")||(this._monthsRegex=p7),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function C8(){function e(h,s){return s.length-h.length}var t=[],i=[],r=[],o,d;for(o=0;o<12;o++)d=ph([2e3,o]),t.push(this.monthsShort(d,"")),i.push(this.months(d,"")),r.push(this.months(d,"")),r.push(this.monthsShort(d,""));for(t.sort(e),i.sort(e),r.sort(e),o=0;o<12;o++)t[o]=md(t[o]),i[o]=md(i[o]);for(o=0;o<24;o++)r[o]=md(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}ir("Y",0,0,function(){var e=this.year();return e<=9999?uh(e,4):"+"+e});ir(0,["YY",2],0,function(){return this.year()%100});ir(0,["YYYY",4],0,"year");ir(0,["YYYYY",5],0,"year");ir(0,["YYYYYY",6,!0],0,"year");Hl("year","y");Wl("year",1);Dn("Y",e2);Dn("YY",Ao,bd);Dn("YYYY",dC,cC);Dn("YYYYY",Qb,Kb);Dn("YYYYYY",Qb,Kb);Js(["YYYYY","YYYYYY"],$l);Js("YYYY",function(e,t){t[$l]=e.length===2?bn.parseTwoDigitYear(e):Zr(e)});Js("YY",function(e,t){t[$l]=bn.parseTwoDigitYear(e)});Js("Y",function(e,t){t[$l]=parseInt(e,10)});function $y(e){return Zb(e)?366:365}bn.parseTwoDigitYear=function(e){return Zr(e)+(Zr(e)>68?1900:2e3)};var E8=Wg("FullYear",!0);function b7(){return Zb(this.year())}function w7(e,t,i,r,o,d,h){var s;return e<100&&e>=0?(s=new Date(e+400,t,i,r,o,d,h),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,i,r,o,d,h),s}function n_(e){var t,i;return e<100&&e>=0?(i=Array.prototype.slice.call(arguments),i[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function tb(e,t,i){var r=7+t-i,o=(7+n_(e,0,r).getUTCDay()-t)%7;return-o+r-1}function M8(e,t,i,r,o){var d=(7+i-r)%7,h=tb(e,r,o),s=1+7*(t-1)+d+h,v,R;return s<=0?(v=e-1,R=$y(v)+s):s>$y(e)?(v=e+1,R=s-$y(e)):(v=e,R=s),{year:v,dayOfYear:R}}function r_(e,t,i){var r=tb(e.year(),t,i),o=Math.floor((e.dayOfYear()-r-1)/7)+1,d,h;return o<1?(h=e.year()-1,d=o+rp(h,t,i)):o>rp(e.year(),t,i)?(d=o-rp(e.year(),t,i),h=e.year()+1):(h=e.year(),d=o),{week:d,year:h}}function rp(e,t,i){var r=tb(e,t,i),o=tb(e+1,t,i);return($y(e)-r+o)/7}ir("w",["ww",2],"wo","week");ir("W",["WW",2],"Wo","isoWeek");Hl("week","w");Hl("isoWeek","W");Wl("week",5);Wl("isoWeek",5);Dn("w",Ao);Dn("ww",Ao,bd);Dn("W",Ao);Dn("WW",Ao,bd);S_(["w","ww","W","WW"],function(e,t,i,r){t[r.substr(0,1)]=Zr(e)});function T7(e){return r_(e,this._week.dow,this._week.doy).week}var S7={dow:0,doy:6};function C7(){return this._week.dow}function E7(){return this._week.doy}function M7(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function k7(e){var t=r_(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ir("d",0,"do","day");ir("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ir("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ir("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ir("e",0,0,"weekday");ir("E",0,0,"isoWeekday");Hl("day","d");Hl("weekday","e");Hl("isoWeekday","E");Wl("day",11);Wl("weekday",11);Wl("isoWeekday",11);Dn("d",Ao);Dn("e",Ao);Dn("E",Ao);Dn("dd",function(e,t){return t.weekdaysMinRegex(e)});Dn("ddd",function(e,t){return t.weekdaysShortRegex(e)});Dn("dddd",function(e,t){return t.weekdaysRegex(e)});S_(["dd","ddd","dddd"],function(e,t,i,r){var o=i._locale.weekdaysParse(e,r,i._strict);o!=null?t.d=o:Br(i).invalidWeekday=e});S_(["d","e","E"],function(e,t,i,r){t[r]=Zr(e)});function A7(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function P7(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function uC(e,t){return e.slice(t,7).concat(e.slice(0,t))}var D7="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),k8="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),I7="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),L7=T_,O7=T_,R7=T_;function B7(e,t){var i=Mu(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?uC(i,this._week.dow):e?i[e.day()]:i}function z7(e){return e===!0?uC(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function N7(e){return e===!0?uC(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function F7(e,t,i){var r,o,d,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)d=ph([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(d,"").toLocaleLowerCase();return i?t==="dddd"?(o=ua.call(this._weekdaysParse,h),o!==-1?o:null):t==="ddd"?(o=ua.call(this._shortWeekdaysParse,h),o!==-1?o:null):(o=ua.call(this._minWeekdaysParse,h),o!==-1?o:null):t==="dddd"?(o=ua.call(this._weekdaysParse,h),o!==-1||(o=ua.call(this._shortWeekdaysParse,h),o!==-1)?o:(o=ua.call(this._minWeekdaysParse,h),o!==-1?o:null)):t==="ddd"?(o=ua.call(this._shortWeekdaysParse,h),o!==-1||(o=ua.call(this._weekdaysParse,h),o!==-1)?o:(o=ua.call(this._minWeekdaysParse,h),o!==-1?o:null)):(o=ua.call(this._minWeekdaysParse,h),o!==-1||(o=ua.call(this._weekdaysParse,h),o!==-1)?o:(o=ua.call(this._shortWeekdaysParse,h),o!==-1?o:null))}function j7(e,t,i){var r,o,d;if(this._weekdaysParseExact)return F7.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=ph([2e3,1]).day(r),i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(d="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(d.replace(".",""),"i")),i&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(i&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(i&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!i&&this._weekdaysParse[r].test(e))return r}}function U7(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=A7(e,this.localeData()),this.add(e-t,"d")):t}function $7(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function V7(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=P7(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function G7(e){return this._weekdaysParseExact?(ks(this,"_weekdaysRegex")||hC.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ks(this,"_weekdaysRegex")||(this._weekdaysRegex=L7),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function H7(e){return this._weekdaysParseExact?(ks(this,"_weekdaysRegex")||hC.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ks(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=O7),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function W7(e){return this._weekdaysParseExact?(ks(this,"_weekdaysRegex")||hC.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ks(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=R7),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function hC(){function e(K,k){return k.length-K.length}var t=[],i=[],r=[],o=[],d,h,s,v,R;for(d=0;d<7;d++)h=ph([2e3,1]).day(d),s=md(this.weekdaysMin(h,"")),v=md(this.weekdaysShort(h,"")),R=md(this.weekdays(h,"")),t.push(s),i.push(v),r.push(R),o.push(s),o.push(v),o.push(R);t.sort(e),i.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function pC(){return this.hours()%12||12}function Y7(){return this.hours()||24}ir("H",["HH",2],0,"hour");ir("h",["hh",2],0,pC);ir("k",["kk",2],0,Y7);ir("hmm",0,0,function(){return""+pC.apply(this)+uh(this.minutes(),2)});ir("hmmss",0,0,function(){return""+pC.apply(this)+uh(this.minutes(),2)+uh(this.seconds(),2)});ir("Hmm",0,0,function(){return""+this.hours()+uh(this.minutes(),2)});ir("Hmmss",0,0,function(){return""+this.hours()+uh(this.minutes(),2)+uh(this.seconds(),2)});function A8(e,t){ir(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}A8("a",!0);A8("A",!1);Hl("hour","h");Wl("hour",13);function P8(e,t){return t._meridiemParse}Dn("a",P8);Dn("A",P8);Dn("H",Ao);Dn("h",Ao);Dn("k",Ao);Dn("HH",Ao,bd);Dn("hh",Ao,bd);Dn("kk",Ao,bd);Dn("hmm",v8);Dn("hmmss",x8);Dn("Hmm",v8);Dn("Hmmss",x8);Js(["H","HH"],ja);Js(["k","kk"],function(e,t,i){var r=Zr(e);t[ja]=r===24?0:r});Js(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e});Js(["h","hh"],function(e,t,i){t[ja]=Zr(e),Br(i).bigHour=!0});Js("hmm",function(e,t,i){var r=e.length-2;t[ja]=Zr(e.substr(0,r)),t[Su]=Zr(e.substr(r)),Br(i).bigHour=!0});Js("hmmss",function(e,t,i){var r=e.length-4,o=e.length-2;t[ja]=Zr(e.substr(0,r)),t[Su]=Zr(e.substr(r,2)),t[Jh]=Zr(e.substr(o)),Br(i).bigHour=!0});Js("Hmm",function(e,t,i){var r=e.length-2;t[ja]=Zr(e.substr(0,r)),t[Su]=Zr(e.substr(r))});Js("Hmmss",function(e,t,i){var r=e.length-4,o=e.length-2;t[ja]=Zr(e.substr(0,r)),t[Su]=Zr(e.substr(r,2)),t[Jh]=Zr(e.substr(o))});function q7(e){return(e+"").toLowerCase().charAt(0)==="p"}var X7=/[ap]\.?m?\.?/i,Z7=Wg("Hours",!0);function K7(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}var D8={calendar:j9,longDateFormat:G9,invalidDate:W9,ordinal:q9,dayOfMonthOrdinalParse:X9,relativeTime:K9,months:u7,monthsShort:b8,week:S7,weekdays:D7,weekdaysMin:I7,weekdaysShort:k8,meridiemParse:X7},Oo={},Ey={},s_;function J7(e,t){var i,r=Math.min(e.length,t.length);for(i=0;i<r;i+=1)if(e[i]!==t[i])return i;return r}function gE(e){return e&&e.toLowerCase().replace("_","-")}function Q7(e){for(var t=0,i,r,o,d;t<e.length;){for(d=gE(e[t]).split("-"),i=d.length,r=gE(e[t+1]),r=r?r.split("-"):null;i>0;){if(o=n2(d.slice(0,i).join("-")),o)return o;if(r&&r.length>=i&&J7(d,r)>=i-1)break;i--}t++}return s_}function eR(e){return e.match("^[^/\\\\]*$")!=null}function n2(e){var t=null,i;if(Oo[e]===void 0&&typeof Lx<"u"&&Lx&&Lx.exports&&eR(e))try{t=s_._abbr,i=require,i("./locale/"+e),hf(t)}catch{Oo[e]=null}return Oo[e]}function hf(e,t){var i;return e&&(Fc(t)?i=fp(e):i=fC(e,t),i?s_=i:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),s_._abbr}function fC(e,t){if(t!==null){var i,r=D8;if(t.abbr=e,Oo[e]!=null)p8("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Oo[e]._config;else if(t.parentLocale!=null)if(Oo[t.parentLocale]!=null)r=Oo[t.parentLocale]._config;else if(i=n2(t.parentLocale),i!=null)r=i._config;else return Ey[t.parentLocale]||(Ey[t.parentLocale]=[]),Ey[t.parentLocale].push({name:e,config:t}),null;return Oo[e]=new oC(TT(r,t)),Ey[e]&&Ey[e].forEach(function(o){fC(o.name,o.config)}),hf(e),Oo[e]}else return delete Oo[e],null}function tR(e,t){if(t!=null){var i,r,o=D8;Oo[e]!=null&&Oo[e].parentLocale!=null?Oo[e].set(TT(Oo[e]._config,t)):(r=n2(e),r!=null&&(o=r._config),t=TT(o,t),r==null&&(t.abbr=e),i=new oC(t),i.parentLocale=Oo[e],Oo[e]=i),hf(e)}else Oo[e]!=null&&(Oo[e].parentLocale!=null?(Oo[e]=Oo[e].parentLocale,e===hf()&&hf(e)):Oo[e]!=null&&delete Oo[e]);return Oo[e]}function fp(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return s_;if(!Mu(e)){if(t=n2(e),t)return t;e=[e]}return Q7(e)}function iR(){return ST(Oo)}function mC(e){var t,i=e._a;return i&&Br(e).overflow===-2&&(t=i[Kh]<0||i[Kh]>11?Kh:i[rh]<1||i[rh]>i2(i[$l],i[Kh])?rh:i[ja]<0||i[ja]>24||i[ja]===24&&(i[Su]!==0||i[Jh]!==0||i[L0]!==0)?ja:i[Su]<0||i[Su]>59?Su:i[Jh]<0||i[Jh]>59?Jh:i[L0]<0||i[L0]>999?L0:-1,Br(e)._overflowDayOfYear&&(t<$l||t>rh)&&(t=rh),Br(e)._overflowWeeks&&t===-1&&(t=l7),Br(e)._overflowWeekday&&t===-1&&(t=c7),Br(e).overflow=t),e}var nR=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rR=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sR=/Z|[+-]\d\d(?::?\d\d)?/,dx=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],g3=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],oR=/^\/?Date\((-?\d+)/i,aR=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,lR={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function I8(e){var t,i,r=e._i,o=nR.exec(r)||rR.exec(r),d,h,s,v,R=dx.length,K=g3.length;if(o){for(Br(e).iso=!0,t=0,i=R;t<i;t++)if(dx[t][1].exec(o[1])){h=dx[t][0],d=dx[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(o[3]){for(t=0,i=K;t<i;t++)if(g3[t][1].exec(o[3])){s=(o[2]||" ")+g3[t][0];break}if(s==null){e._isValid=!1;return}}if(!d&&s!=null){e._isValid=!1;return}if(o[4])if(sR.exec(o[4]))v="Z";else{e._isValid=!1;return}e._f=h+(s||"")+(v||""),yC(e)}else e._isValid=!1}function cR(e,t,i,r,o,d){var h=[dR(e),b8.indexOf(t),parseInt(i,10),parseInt(r,10),parseInt(o,10)];return d&&h.push(parseInt(d,10)),h}function dR(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function uR(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function hR(e,t,i){if(e){var r=k8.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return Br(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function pR(e,t,i){if(e)return lR[e];if(t)return 0;var r=parseInt(i,10),o=r%100,d=(r-o)/100;return d*60+o}function L8(e){var t=aR.exec(uR(e._i)),i;if(t){if(i=cR(t[4],t[3],t[2],t[5],t[6],t[7]),!hR(t[1],i,e))return;e._a=i,e._tzm=pR(t[8],t[9],t[10]),e._d=n_.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Br(e).rfc2822=!0}else e._isValid=!1}function fR(e){var t=oR.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(I8(e),e._isValid===!1)delete e._isValid;else return;if(L8(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:bn.createFromInputFallback(e)}bn.createFromInputFallback=ru("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function hg(e,t,i){return e??t??i}function mR(e){var t=new Date(bn.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function gC(e){var t,i,r=[],o,d,h;if(!e._d){for(o=mR(e),e._w&&e._a[rh]==null&&e._a[Kh]==null&&gR(e),e._dayOfYear!=null&&(h=hg(e._a[$l],o[$l]),(e._dayOfYear>$y(h)||e._dayOfYear===0)&&(Br(e)._overflowDayOfYear=!0),i=n_(h,0,e._dayOfYear),e._a[Kh]=i.getUTCMonth(),e._a[rh]=i.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ja]===24&&e._a[Su]===0&&e._a[Jh]===0&&e._a[L0]===0&&(e._nextDay=!0,e._a[ja]=0),e._d=(e._useUTC?n_:w7).apply(null,r),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ja]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(Br(e).weekdayMismatch=!0)}}function gR(e){var t,i,r,o,d,h,s,v,R;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,h=4,i=hg(t.GG,e._a[$l],r_(ko(),1,4).year),r=hg(t.W,1),o=hg(t.E,1),(o<1||o>7)&&(v=!0)):(d=e._locale._week.dow,h=e._locale._week.doy,R=r_(ko(),d,h),i=hg(t.gg,e._a[$l],R.year),r=hg(t.w,R.week),t.d!=null?(o=t.d,(o<0||o>6)&&(v=!0)):t.e!=null?(o=t.e+d,(t.e<0||t.e>6)&&(v=!0)):o=d),r<1||r>rp(i,d,h)?Br(e)._overflowWeeks=!0:v!=null?Br(e)._overflowWeekday=!0:(s=M8(i,r,o,d,h),e._a[$l]=s.year,e._dayOfYear=s.dayOfYear)}bn.ISO_8601=function(){};bn.RFC_2822=function(){};function yC(e){if(e._f===bn.ISO_8601){I8(e);return}if(e._f===bn.RFC_2822){L8(e);return}e._a=[],Br(e).empty=!0;var t=""+e._i,i,r,o,d,h,s=t.length,v=0,R,K;for(o=f8(e._f,e._locale).match(aC)||[],K=o.length,i=0;i<K;i++)d=o[i],r=(t.match(s7(d,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&Br(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),v+=r.length),bg[d]?(r?Br(e).empty=!1:Br(e).unusedTokens.push(d),a7(d,r,e)):e._strict&&!r&&Br(e).unusedTokens.push(d);Br(e).charsLeftOver=s-v,t.length>0&&Br(e).unusedInput.push(t),e._a[ja]<=12&&Br(e).bigHour===!0&&e._a[ja]>0&&(Br(e).bigHour=void 0),Br(e).parsedDateParts=e._a.slice(0),Br(e).meridiem=e._meridiem,e._a[ja]=yR(e._locale,e._a[ja],e._meridiem),R=Br(e).era,R!==null&&(e._a[$l]=e._locale.erasConvertYear(R,e._a[$l])),gC(e),mC(e)}function yR(e,t,i){var r;return i==null?t:e.meridiemHour!=null?e.meridiemHour(t,i):(e.isPM!=null&&(r=e.isPM(i),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function _R(e){var t,i,r,o,d,h,s=!1,v=e._f.length;if(v===0){Br(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<v;o++)d=0,h=!1,t=sC({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],yC(t),rC(t)&&(h=!0),d+=Br(t).charsLeftOver,d+=Br(t).unusedTokens.length*10,Br(t).score=d,s?d<r&&(r=d,i=t):(r==null||d<r||h)&&(r=d,i=t,h&&(s=!0));rf(e,i||t)}function vR(e){if(!e._d){var t=lC(e._i),i=t.day===void 0?t.date:t.day;e._a=u8([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),gC(e)}}function xR(e){var t=new w_(mC(O8(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function O8(e){var t=e._i,i=e._f;return e._locale=e._locale||fp(e._l),t===null||i===void 0&&t===""?Xb({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),ku(t)?new w_(mC(t)):(b_(t)?e._d=t:Mu(i)?_R(e):i?yC(e):bR(e),rC(e)||(e._d=null),e))}function bR(e){var t=e._i;Fc(t)?e._d=new Date(bn.now()):b_(t)?e._d=new Date(t.valueOf()):typeof t=="string"?fR(e):Mu(t)?(e._a=u8(t.slice(0),function(i){return parseInt(i,10)}),gC(e)):V0(t)?vR(e):lp(t)?e._d=new Date(t):bn.createFromInputFallback(e)}function R8(e,t,i,r,o){var d={};return(t===!0||t===!1)&&(r=t,t=void 0),(i===!0||i===!1)&&(r=i,i=void 0),(V0(e)&&nC(e)||Mu(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=o,d._l=i,d._i=e,d._f=t,d._strict=r,xR(d)}function ko(e,t,i,r){return R8(e,t,i,r,!1)}var wR=ru("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ko.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Xb()}),TR=ru("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ko.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Xb()});function B8(e,t){var i,r;if(t.length===1&&Mu(t[0])&&(t=t[0]),!t.length)return ko();for(i=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](i))&&(i=t[r]);return i}function SR(){var e=[].slice.call(arguments,0);return B8("isBefore",e)}function CR(){var e=[].slice.call(arguments,0);return B8("isAfter",e)}var ER=function(){return Date.now?Date.now():+new Date},My=["year","quarter","month","week","day","hour","minute","second","millisecond"];function MR(e){var t,i=!1,r,o=My.length;for(t in e)if(ks(e,t)&&!(ua.call(My,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[My[r]]){if(i)return!1;parseFloat(e[My[r]])!==Zr(e[My[r]])&&(i=!0)}return!0}function kR(){return this._isValid}function AR(){return Pu(NaN)}function r2(e){var t=lC(e),i=t.year||0,r=t.quarter||0,o=t.month||0,d=t.week||t.isoWeek||0,h=t.day||0,s=t.hour||0,v=t.minute||0,R=t.second||0,K=t.millisecond||0;this._isValid=MR(t),this._milliseconds=+K+R*1e3+v*6e4+s*1e3*60*60,this._days=+h+d*7,this._months=+o+r*3+i*12,this._data={},this._locale=fp(),this._bubble()}function kx(e){return e instanceof r2}function ET(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function PR(e,t,i){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),d=0,h;for(h=0;h<r;h++)(i&&e[h]!==t[h]||!i&&Zr(e[h])!==Zr(t[h]))&&d++;return d+o}function z8(e,t){ir(e,0,0,function(){var i=this.utcOffset(),r="+";return i<0&&(i=-i,r="-"),r+uh(~~(i/60),2)+t+uh(~~i%60,2)})}z8("Z",":");z8("ZZ","");Dn("Z",t2);Dn("ZZ",t2);Js(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=_C(t2,e)});var DR=/([\+\-]|\d\d)/gi;function _C(e,t){var i=(t||"").match(e),r,o,d;return i===null?null:(r=i[i.length-1]||[],o=(r+"").match(DR)||["-",0,0],d=+(o[1]*60)+Zr(o[2]),d===0?0:o[0]==="+"?d:-d)}function vC(e,t){var i,r;return t._isUTC?(i=t.clone(),r=(ku(e)||b_(e)?e.valueOf():ko(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),bn.updateOffset(i,!1),i):ko(e).local()}function MT(e){return-Math.round(e._d.getTimezoneOffset())}bn.updateOffset=function(){};function IR(e,t,i){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=_C(t2,e),e===null)return this}else Math.abs(e)<16&&!i&&(e=e*60);return!this._isUTC&&t&&(o=MT(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?j8(this,Pu(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,bn.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:MT(this)}function LR(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function OR(e){return this.utcOffset(0,e)}function RR(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(MT(this),"m")),this}function BR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=_C(n7,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function zR(e){return this.isValid()?(e=e?ko(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function NR(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function FR(){if(!Fc(this._isDSTShifted))return this._isDSTShifted;var e={},t;return sC(e,this),e=O8(e),e._a?(t=e._isUTC?ph(e._a):ko(e._a),this._isDSTShifted=this.isValid()&&PR(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function jR(){return this.isValid()?!this._isUTC:!1}function UR(){return this.isValid()?this._isUTC:!1}function N8(){return this.isValid()?this._isUTC&&this._offset===0:!1}var $R=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,VR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Pu(e,t){var i=e,r=null,o,d,h;return kx(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:lp(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(r=$R.exec(e))?(o=r[1]==="-"?-1:1,i={y:0,d:Zr(r[rh])*o,h:Zr(r[ja])*o,m:Zr(r[Su])*o,s:Zr(r[Jh])*o,ms:Zr(ET(r[L0]*1e3))*o}):(r=VR.exec(e))?(o=r[1]==="-"?-1:1,i={y:w0(r[2],o),M:w0(r[3],o),w:w0(r[4],o),d:w0(r[5],o),h:w0(r[6],o),m:w0(r[7],o),s:w0(r[8],o)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(h=GR(ko(i.from),ko(i.to)),i={},i.ms=h.milliseconds,i.M=h.months),d=new r2(i),kx(e)&&ks(e,"_locale")&&(d._locale=e._locale),kx(e)&&ks(e,"_isValid")&&(d._isValid=e._isValid),d}Pu.fn=r2.prototype;Pu.invalid=AR;function w0(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function yE(e,t){var i={};return i.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function GR(e,t){var i;return e.isValid()&&t.isValid()?(t=vC(t,e),e.isBefore(t)?i=yE(e,t):(i=yE(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function F8(e,t){return function(i,r){var o,d;return r!==null&&!isNaN(+r)&&(p8(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=i,i=r,r=d),o=Pu(i,r),j8(this,o,e),this}}function j8(e,t,i,r){var o=t._milliseconds,d=ET(t._days),h=ET(t._months);e.isValid()&&(r=r??!0,h&&T8(e,Qx(e,"Month")+h*i),d&&g8(e,"Date",Qx(e,"Date")+d*i),o&&e._d.setTime(e._d.valueOf()+o*i),r&&bn.updateOffset(e,d||h))}var HR=F8(1,"add"),WR=F8(-1,"subtract");function U8(e){return typeof e=="string"||e instanceof String}function YR(e){return ku(e)||b_(e)||U8(e)||lp(e)||XR(e)||qR(e)||e===null||e===void 0}function qR(e){var t=V0(e)&&!nC(e),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,d,h=r.length;for(o=0;o<h;o+=1)d=r[o],i=i||ks(e,d);return t&&i}function XR(e){var t=Mu(e),i=!1;return t&&(i=e.filter(function(r){return!lp(r)&&U8(e)}).length===0),t&&i}function ZR(e){var t=V0(e)&&!nC(e),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,d;for(o=0;o<r.length;o+=1)d=r[o],i=i||ks(e,d);return t&&i}function KR(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function JR(e,t){arguments.length===1&&(arguments[0]?YR(arguments[0])?(e=arguments[0],t=void 0):ZR(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||ko(),r=vC(i,this).startOf("day"),o=bn.calendarFormat(this,r)||"sameElse",d=t&&(fh(t[o])?t[o].call(this,i):t[o]);return this.format(d||this.localeData().calendar(o,this,ko(i)))}function QR(){return new w_(this)}function eB(e,t){var i=ku(e)?e:ko(e);return this.isValid()&&i.isValid()?(t=su(t)||"millisecond",t==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function tB(e,t){var i=ku(e)?e:ko(e);return this.isValid()&&i.isValid()?(t=su(t)||"millisecond",t==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function iB(e,t,i,r){var o=ku(e)?e:ko(e),d=ku(t)?t:ko(t);return this.isValid()&&o.isValid()&&d.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,i):!this.isBefore(o,i))&&(r[1]===")"?this.isBefore(d,i):!this.isAfter(d,i))):!1}function nB(e,t){var i=ku(e)?e:ko(e),r;return this.isValid()&&i.isValid()?(t=su(t)||"millisecond",t==="millisecond"?this.valueOf()===i.valueOf():(r=i.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function rB(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function sB(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function oB(e,t,i){var r,o,d;if(!this.isValid())return NaN;if(r=vC(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=su(t),t){case"year":d=Ax(this,r)/12;break;case"month":d=Ax(this,r);break;case"quarter":d=Ax(this,r)/3;break;case"second":d=(this-r)/1e3;break;case"minute":d=(this-r)/6e4;break;case"hour":d=(this-r)/36e5;break;case"day":d=(this-r-o)/864e5;break;case"week":d=(this-r-o)/6048e5;break;default:d=this-r}return i?d:Xd(d)}function Ax(e,t){if(e.date()<t.date())return-Ax(t,e);var i=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(i,"months"),o,d;return t-r<0?(o=e.clone().add(i-1,"months"),d=(t-r)/(r-o)):(o=e.clone().add(i+1,"months"),d=(t-r)/(o-r)),-(i+d)||0}bn.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";bn.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function aB(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lB(e){if(!this.isValid())return null;var t=e!==!0,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?Mx(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):fh(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Mx(i,"Z")):Mx(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function cB(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",i,r,o,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),i="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(i+r+o+d)}function dB(e){e||(e=this.isUtc()?bn.defaultFormatUtc:bn.defaultFormat);var t=Mx(this,e);return this.localeData().postformat(t)}function uB(e,t){return this.isValid()&&(ku(e)&&e.isValid()||ko(e).isValid())?Pu({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hB(e){return this.from(ko(),e)}function pB(e,t){return this.isValid()&&(ku(e)&&e.isValid()||ko(e).isValid())?Pu({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fB(e){return this.to(ko(),e)}function $8(e){var t;return e===void 0?this._locale._abbr:(t=fp(e),t!=null&&(this._locale=t),this)}var V8=ru("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function G8(){return this._locale}var ib=1e3,wg=60*ib,nb=60*wg,H8=(365*400+97)*24*nb;function Tg(e,t){return(e%t+t)%t}function W8(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-H8:new Date(e,t,i).valueOf()}function Y8(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-H8:Date.UTC(e,t,i)}function mB(e){var t,i;if(e=su(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?Y8:W8,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Tg(t+(this._isUTC?0:this.utcOffset()*wg),nb);break;case"minute":t=this._d.valueOf(),t-=Tg(t,wg);break;case"second":t=this._d.valueOf(),t-=Tg(t,ib);break}return this._d.setTime(t),bn.updateOffset(this,!0),this}function gB(e){var t,i;if(e=su(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?Y8:W8,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=nb-Tg(t+(this._isUTC?0:this.utcOffset()*wg),nb)-1;break;case"minute":t=this._d.valueOf(),t+=wg-Tg(t,wg)-1;break;case"second":t=this._d.valueOf(),t+=ib-Tg(t,ib)-1;break}return this._d.setTime(t),bn.updateOffset(this,!0),this}function yB(){return this._d.valueOf()-(this._offset||0)*6e4}function _B(){return Math.floor(this.valueOf()/1e3)}function vB(){return new Date(this.valueOf())}function xB(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bB(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function wB(){return this.isValid()?this.toISOString():null}function TB(){return rC(this)}function SB(){return rf({},Br(this))}function CB(){return Br(this).overflow}function EB(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ir("N",0,0,"eraAbbr");ir("NN",0,0,"eraAbbr");ir("NNN",0,0,"eraAbbr");ir("NNNN",0,0,"eraName");ir("NNNNN",0,0,"eraNarrow");ir("y",["y",1],"yo","eraYear");ir("y",["yy",2],0,"eraYear");ir("y",["yyy",3],0,"eraYear");ir("y",["yyyy",4],0,"eraYear");Dn("N",xC);Dn("NN",xC);Dn("NNN",xC);Dn("NNNN",zB);Dn("NNNNN",NB);Js(["N","NN","NNN","NNNN","NNNNN"],function(e,t,i,r){var o=i._locale.erasParse(e,r,i._strict);o?Br(i).era=o:Br(i).invalidEra=e});Dn("y",Yg);Dn("yy",Yg);Dn("yyy",Yg);Dn("yyyy",Yg);Dn("yo",FB);Js(["y","yy","yyy","yyyy"],$l);Js(["yo"],function(e,t,i,r){var o;i._locale._eraYearOrdinalRegex&&(o=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[$l]=i._locale.eraYearOrdinalParse(e,o):t[$l]=parseInt(e,10)});function MB(e,t){var i,r,o,d=this._eras||fp("en")._eras;for(i=0,r=d.length;i<r;++i){switch(typeof d[i].since){case"string":o=bn(d[i].since).startOf("day"),d[i].since=o.valueOf();break}switch(typeof d[i].until){case"undefined":d[i].until=1/0;break;case"string":o=bn(d[i].until).startOf("day").valueOf(),d[i].until=o.valueOf();break}}return d}function kB(e,t,i){var r,o,d=this.eras(),h,s,v;for(e=e.toUpperCase(),r=0,o=d.length;r<o;++r)if(h=d[r].name.toUpperCase(),s=d[r].abbr.toUpperCase(),v=d[r].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(s===e)return d[r];break;case"NNNN":if(h===e)return d[r];break;case"NNNNN":if(v===e)return d[r];break}else if([h,s,v].indexOf(e)>=0)return d[r]}function AB(e,t){var i=e.since<=e.until?1:-1;return t===void 0?bn(e.since).year():bn(e.since).year()+(t-e.offset)*i}function PB(){var e,t,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return r[e].name;return""}function DB(){var e,t,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return r[e].narrow;return""}function IB(){var e,t,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return r[e].abbr;return""}function LB(){var e,t,i,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(i=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-bn(o[e].since).year())*i+o[e].offset;return this.year()}function OB(e){return ks(this,"_erasNameRegex")||bC.call(this),e?this._erasNameRegex:this._erasRegex}function RB(e){return ks(this,"_erasAbbrRegex")||bC.call(this),e?this._erasAbbrRegex:this._erasRegex}function BB(e){return ks(this,"_erasNarrowRegex")||bC.call(this),e?this._erasNarrowRegex:this._erasRegex}function xC(e,t){return t.erasAbbrRegex(e)}function zB(e,t){return t.erasNameRegex(e)}function NB(e,t){return t.erasNarrowRegex(e)}function FB(e,t){return t._eraYearOrdinalRegex||Yg}function bC(){var e=[],t=[],i=[],r=[],o,d,h=this.eras();for(o=0,d=h.length;o<d;++o)t.push(md(h[o].name)),e.push(md(h[o].abbr)),i.push(md(h[o].narrow)),r.push(md(h[o].name)),r.push(md(h[o].abbr)),r.push(md(h[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}ir(0,["gg",2],0,function(){return this.weekYear()%100});ir(0,["GG",2],0,function(){return this.isoWeekYear()%100});function s2(e,t){ir(0,[e,e.length],0,t)}s2("gggg","weekYear");s2("ggggg","weekYear");s2("GGGG","isoWeekYear");s2("GGGGG","isoWeekYear");Hl("weekYear","gg");Hl("isoWeekYear","GG");Wl("weekYear",1);Wl("isoWeekYear",1);Dn("G",e2);Dn("g",e2);Dn("GG",Ao,bd);Dn("gg",Ao,bd);Dn("GGGG",dC,cC);Dn("gggg",dC,cC);Dn("GGGGG",Qb,Kb);Dn("ggggg",Qb,Kb);S_(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,r){t[r.substr(0,2)]=Zr(e)});S_(["gg","GG"],function(e,t,i,r){t[r]=bn.parseTwoDigitYear(e)});function jB(e){return q8.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function UB(e){return q8.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function $B(){return rp(this.year(),1,4)}function VB(){return rp(this.isoWeekYear(),1,4)}function GB(){var e=this.localeData()._week;return rp(this.year(),e.dow,e.doy)}function HB(){var e=this.localeData()._week;return rp(this.weekYear(),e.dow,e.doy)}function q8(e,t,i,r,o){var d;return e==null?r_(this,r,o).year:(d=rp(e,r,o),t>d&&(t=d),WB.call(this,e,t,i,r,o))}function WB(e,t,i,r,o){var d=M8(e,t,i,r,o),h=n_(d.year,0,d.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}ir("Q",0,"Qo","quarter");Hl("quarter","Q");Wl("quarter",7);Dn("Q",y8);Js("Q",function(e,t){t[Kh]=(Zr(e)-1)*3});function YB(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ir("D",["DD",2],"Do","date");Hl("date","D");Wl("date",9);Dn("D",Ao);Dn("DD",Ao,bd);Dn("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Js(["D","DD"],rh);Js("Do",function(e,t){t[rh]=Zr(e.match(Ao)[0])});var X8=Wg("Date",!0);ir("DDD",["DDDD",3],"DDDo","dayOfYear");Hl("dayOfYear","DDD");Wl("dayOfYear",4);Dn("DDD",Jb);Dn("DDDD",_8);Js(["DDD","DDDD"],function(e,t,i){i._dayOfYear=Zr(e)});function qB(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ir("m",["mm",2],0,"minute");Hl("minute","m");Wl("minute",14);Dn("m",Ao);Dn("mm",Ao,bd);Js(["m","mm"],Su);var XB=Wg("Minutes",!1);ir("s",["ss",2],0,"second");Hl("second","s");Wl("second",15);Dn("s",Ao);Dn("ss",Ao,bd);Js(["s","ss"],Jh);var ZB=Wg("Seconds",!1);ir("S",0,0,function(){return~~(this.millisecond()/100)});ir(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ir(0,["SSS",3],0,"millisecond");ir(0,["SSSS",4],0,function(){return this.millisecond()*10});ir(0,["SSSSS",5],0,function(){return this.millisecond()*100});ir(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ir(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ir(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ir(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Hl("millisecond","ms");Wl("millisecond",16);Dn("S",Jb,y8);Dn("SS",Jb,bd);Dn("SSS",Jb,_8);var sf,Z8;for(sf="SSSS";sf.length<=9;sf+="S")Dn(sf,Yg);function KB(e,t){t[L0]=Zr(("0."+e)*1e3)}for(sf="S";sf.length<=9;sf+="S")Js(sf,KB);Z8=Wg("Milliseconds",!1);ir("z",0,0,"zoneAbbr");ir("zz",0,0,"zoneName");function JB(){return this._isUTC?"UTC":""}function QB(){return this._isUTC?"Coordinated Universal Time":""}var on=w_.prototype;on.add=HR;on.calendar=JR;on.clone=QR;on.diff=oB;on.endOf=gB;on.format=dB;on.from=uB;on.fromNow=hB;on.to=pB;on.toNow=fB;on.get=t7;on.invalidAt=CB;on.isAfter=eB;on.isBefore=tB;on.isBetween=iB;on.isSame=nB;on.isSameOrAfter=rB;on.isSameOrBefore=sB;on.isValid=TB;on.lang=V8;on.locale=$8;on.localeData=G8;on.max=TR;on.min=wR;on.parsingFlags=SB;on.set=i7;on.startOf=mB;on.subtract=WR;on.toArray=xB;on.toObject=bB;on.toDate=vB;on.toISOString=lB;on.inspect=cB;typeof Symbol<"u"&&Symbol.for!=null&&(on[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});on.toJSON=wB;on.toString=aB;on.unix=_B;on.valueOf=yB;on.creationData=EB;on.eraName=PB;on.eraNarrow=DB;on.eraAbbr=IB;on.eraYear=LB;on.year=E8;on.isLeapYear=b7;on.weekYear=jB;on.isoWeekYear=UB;on.quarter=on.quarters=YB;on.month=S8;on.daysInMonth=_7;on.week=on.weeks=M7;on.isoWeek=on.isoWeeks=k7;on.weeksInYear=GB;on.weeksInWeekYear=HB;on.isoWeeksInYear=$B;on.isoWeeksInISOWeekYear=VB;on.date=X8;on.day=on.days=U7;on.weekday=$7;on.isoWeekday=V7;on.dayOfYear=qB;on.hour=on.hours=Z7;on.minute=on.minutes=XB;on.second=on.seconds=ZB;on.millisecond=on.milliseconds=Z8;on.utcOffset=IR;on.utc=OR;on.local=RR;on.parseZone=BR;on.hasAlignedHourOffset=zR;on.isDST=NR;on.isLocal=jR;on.isUtcOffset=UR;on.isUtc=N8;on.isUTC=N8;on.zoneAbbr=JB;on.zoneName=QB;on.dates=ru("dates accessor is deprecated. Use date instead.",X8);on.months=ru("months accessor is deprecated. Use month instead",S8);on.years=ru("years accessor is deprecated. Use year instead",E8);on.zone=ru("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",LR);on.isDSTShifted=ru("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",FR);function ez(e){return ko(e*1e3)}function tz(){return ko.apply(null,arguments).parseZone()}function K8(e){return e}var As=oC.prototype;As.calendar=U9;As.longDateFormat=H9;As.invalidDate=Y9;As.ordinal=Z9;As.preparse=K8;As.postformat=K8;As.relativeTime=J9;As.pastFuture=Q9;As.set=F9;As.eras=MB;As.erasParse=kB;As.erasConvertYear=AB;As.erasAbbrRegex=RB;As.erasNameRegex=OB;As.erasNarrowRegex=BB;As.months=f7;As.monthsShort=m7;As.monthsParse=y7;As.monthsRegex=x7;As.monthsShortRegex=v7;As.week=T7;As.firstDayOfYear=E7;As.firstDayOfWeek=C7;As.weekdays=B7;As.weekdaysMin=N7;As.weekdaysShort=z7;As.weekdaysParse=j7;As.weekdaysRegex=G7;As.weekdaysShortRegex=H7;As.weekdaysMinRegex=W7;As.isPM=q7;As.meridiem=K7;function rb(e,t,i,r){var o=fp(),d=ph().set(r,t);return o[i](d,e)}function J8(e,t,i){if(lp(e)&&(t=e,e=void 0),e=e||"",t!=null)return rb(e,t,i,"month");var r,o=[];for(r=0;r<12;r++)o[r]=rb(e,r,i,"month");return o}function wC(e,t,i,r){typeof e=="boolean"?(lp(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,lp(t)&&(i=t,t=void 0),t=t||"");var o=fp(),d=e?o._week.dow:0,h,s=[];if(i!=null)return rb(t,(i+d)%7,r,"day");for(h=0;h<7;h++)s[h]=rb(t,(h+d)%7,r,"day");return s}function iz(e,t){return J8(e,t,"months")}function nz(e,t){return J8(e,t,"monthsShort")}function rz(e,t,i){return wC(e,t,i,"weekdays")}function sz(e,t,i){return wC(e,t,i,"weekdaysShort")}function oz(e,t,i){return wC(e,t,i,"weekdaysMin")}hf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=Zr(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}});bn.lang=ru("moment.lang is deprecated. Use moment.locale instead.",hf);bn.langData=ru("moment.langData is deprecated. Use moment.localeData instead.",fp);var $h=Math.abs;function az(){var e=this._data;return this._milliseconds=$h(this._milliseconds),this._days=$h(this._days),this._months=$h(this._months),e.milliseconds=$h(e.milliseconds),e.seconds=$h(e.seconds),e.minutes=$h(e.minutes),e.hours=$h(e.hours),e.months=$h(e.months),e.years=$h(e.years),this}function Q8(e,t,i,r){var o=Pu(t,i);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function lz(e,t){return Q8(this,e,t,1)}function cz(e,t){return Q8(this,e,t,-1)}function _E(e){return e<0?Math.floor(e):Math.ceil(e)}function dz(){var e=this._milliseconds,t=this._days,i=this._months,r=this._data,o,d,h,s,v;return e>=0&&t>=0&&i>=0||e<=0&&t<=0&&i<=0||(e+=_E(kT(i)+t)*864e5,t=0,i=0),r.milliseconds=e%1e3,o=Xd(e/1e3),r.seconds=o%60,d=Xd(o/60),r.minutes=d%60,h=Xd(d/60),r.hours=h%24,t+=Xd(h/24),v=Xd(e4(t)),i+=v,t-=_E(kT(v)),s=Xd(i/12),i%=12,r.days=t,r.months=i,r.years=s,this}function e4(e){return e*4800/146097}function kT(e){return e*146097/4800}function uz(e){if(!this.isValid())return NaN;var t,i,r=this._milliseconds;if(e=su(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,i=this._months+e4(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(kT(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function hz(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Zr(this._months/12)*31536e6:NaN}function mp(e){return function(){return this.as(e)}}var pz=mp("ms"),fz=mp("s"),mz=mp("m"),gz=mp("h"),yz=mp("d"),_z=mp("w"),vz=mp("M"),xz=mp("Q"),bz=mp("y");function wz(){return Pu(this)}function Tz(e){return e=su(e),this.isValid()?this[e+"s"]():NaN}function im(e){return function(){return this.isValid()?this._data[e]:NaN}}var Sz=im("milliseconds"),Cz=im("seconds"),Ez=im("minutes"),Mz=im("hours"),kz=im("days"),Az=im("months"),Pz=im("years");function Dz(){return Xd(this.days()/7)}var Yh=Math.round,fg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Iz(e,t,i,r,o){return o.relativeTime(t||1,!!i,e,r)}function Lz(e,t,i,r){var o=Pu(e).abs(),d=Yh(o.as("s")),h=Yh(o.as("m")),s=Yh(o.as("h")),v=Yh(o.as("d")),R=Yh(o.as("M")),K=Yh(o.as("w")),k=Yh(o.as("y")),z=d<=i.ss&&["s",d]||d<i.s&&["ss",d]||h<=1&&["m"]||h<i.m&&["mm",h]||s<=1&&["h"]||s<i.h&&["hh",s]||v<=1&&["d"]||v<i.d&&["dd",v];return i.w!=null&&(z=z||K<=1&&["w"]||K<i.w&&["ww",K]),z=z||R<=1&&["M"]||R<i.M&&["MM",R]||k<=1&&["y"]||["yy",k],z[2]=t,z[3]=+e>0,z[4]=r,Iz.apply(null,z)}function Oz(e){return e===void 0?Yh:typeof e=="function"?(Yh=e,!0):!1}function Rz(e,t){return fg[e]===void 0?!1:t===void 0?fg[e]:(fg[e]=t,e==="s"&&(fg.ss=t-1),!0)}function Bz(e,t){if(!this.isValid())return this.localeData().invalidDate();var i=!1,r=fg,o,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(i=e),typeof t=="object"&&(r=Object.assign({},fg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),d=Lz(this,!i,r,o),i&&(d=o.pastFuture(+this,d)),o.postformat(d)}var y3=Math.abs;function cg(e){return(e>0)-(e<0)||+e}function o2(){if(!this.isValid())return this.localeData().invalidDate();var e=y3(this._milliseconds)/1e3,t=y3(this._days),i=y3(this._months),r,o,d,h,s=this.asSeconds(),v,R,K,k;return s?(r=Xd(e/60),o=Xd(r/60),e%=60,r%=60,d=Xd(i/12),i%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",v=s<0?"-":"",R=cg(this._months)!==cg(s)?"-":"",K=cg(this._days)!==cg(s)?"-":"",k=cg(this._milliseconds)!==cg(s)?"-":"",v+"P"+(d?R+d+"Y":"")+(i?R+i+"M":"")+(t?K+t+"D":"")+(o||r||e?"T":"")+(o?k+o+"H":"")+(r?k+r+"M":"")+(e?k+h+"S":"")):"P0D"}var hs=r2.prototype;hs.isValid=kR;hs.abs=az;hs.add=lz;hs.subtract=cz;hs.as=uz;hs.asMilliseconds=pz;hs.asSeconds=fz;hs.asMinutes=mz;hs.asHours=gz;hs.asDays=yz;hs.asWeeks=_z;hs.asMonths=vz;hs.asQuarters=xz;hs.asYears=bz;hs.valueOf=hz;hs._bubble=dz;hs.clone=wz;hs.get=Tz;hs.milliseconds=Sz;hs.seconds=Cz;hs.minutes=Ez;hs.hours=Mz;hs.days=kz;hs.weeks=Dz;hs.months=Az;hs.years=Pz;hs.humanize=Bz;hs.toISOString=o2;hs.toString=o2;hs.toJSON=o2;hs.locale=$8;hs.localeData=G8;hs.toIsoString=ru("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",o2);hs.lang=V8;ir("X",0,0,"unix");ir("x",0,0,"valueOf");Dn("x",e2);Dn("X",r7);Js("X",function(e,t,i){i._d=new Date(parseFloat(e)*1e3)});Js("x",function(e,t,i){i._d=new Date(Zr(e))});//! moment.js
bn.version="2.29.4";z9(ko);bn.fn=on;bn.min=SR;bn.max=CR;bn.now=ER;bn.utc=ph;bn.unix=ez;bn.months=iz;bn.isDate=b_;bn.locale=hf;bn.invalid=Xb;bn.duration=Pu;bn.isMoment=ku;bn.weekdays=rz;bn.parseZone=tz;bn.localeData=fp;bn.isDuration=kx;bn.monthsShort=nz;bn.weekdaysMin=oz;bn.defineLocale=fC;bn.updateLocale=tR;bn.locales=iR;bn.weekdaysShort=sz;bn.normalizeUnits=su;bn.relativeTimeRounding=Oz;bn.relativeTimeThreshold=Rz;bn.calendarFormat=KR;bn.prototype=on;bn.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t4={exports:{}};/*!
* sweetalert2 v11.4.0
* Released under the MIT License.
*/(function(e,t){(function(i,r){e.exports=r()})(Jp,function(){const i="SweetAlert2:",r=we=>{const Ee=[];for(let Ve=0;Ve<we.length;Ve++)Ee.indexOf(we[Ve])===-1&&Ee.push(we[Ve]);return Ee},o=we=>we.charAt(0).toUpperCase()+we.slice(1),d=we=>Array.prototype.slice.call(we),h=we=>{console.warn("".concat(i," ").concat(typeof we=="object"?we.join(" "):we))},s=we=>{console.error("".concat(i," ").concat(we))},v=[],R=we=>{v.includes(we)||(v.push(we),h(we))},K=(we,Ee)=>{R('"'.concat(we,'" is deprecated and will be removed in the next major release. Please use "').concat(Ee,'" instead.'))},k=we=>typeof we=="function"?we():we,z=we=>we&&typeof we.toPromise=="function",q=we=>z(we)?we.toPromise():Promise.resolve(we),L=we=>we&&Promise.resolve(we)===we,O={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},G=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],M={},S=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],D=we=>Object.prototype.hasOwnProperty.call(O,we),H=we=>G.indexOf(we)!==-1,U=we=>M[we],E=we=>{D(we)||h('Unknown parameter "'.concat(we,'"'))},ie=we=>{S.includes(we)&&h('The parameter "'.concat(we,'" is incompatible with toasts'))},te=we=>{U(we)&&K(we,U(we))},$=we=>{!we.backdrop&&we.allowOutsideClick&&h('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Ee in we)E(Ee),we.toast&&ie(Ee),te(Ee)},V="swal2-",j=we=>{const Ee={};for(const Ve in we)Ee[we[Ve]]=V+we[Ve];return Ee},x=j(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),P=j(["success","warning","info","question","error"]),f=()=>document.body.querySelector(".".concat(x.container)),g=we=>{const Ee=f();return Ee?Ee.querySelector(we):null},b=we=>g(".".concat(we)),A=()=>b(x.popup),X=()=>b(x.icon),Y=()=>b(x.title),J=()=>b(x["html-container"]),ce=()=>b(x.image),pe=()=>b(x["progress-steps"]),fe=()=>b(x["validation-message"]),F=()=>g(".".concat(x.actions," .").concat(x.confirm)),Q=()=>g(".".concat(x.actions," .").concat(x.deny)),se=()=>b(x["input-label"]),ue=()=>g(".".concat(x.loader)),Ce=()=>g(".".concat(x.actions," .").concat(x.cancel)),ne=()=>b(x.actions),ve=()=>b(x.footer),_e=()=>b(x["timer-progress-bar"]),oe=()=>b(x.close),ye=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Se=()=>{const we=d(A().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Ve,bt)=>{const Ei=parseInt(Ve.getAttribute("tabindex")),Tn=parseInt(bt.getAttribute("tabindex"));return Ei>Tn?1:Ei<Tn?-1:0}),Ee=d(A().querySelectorAll(ye)).filter(Ve=>Ve.getAttribute("tabindex")!=="-1");return r(we.concat(Ee)).filter(Ve=>Lt(Ve))},Re=()=>!qe(document.body,x["toast-shown"])&&!qe(document.body,x["no-backdrop"]),Le=()=>A()&&qe(A(),x.toast),$e=()=>A().hasAttribute("data-loading"),rt={previousBodyPadding:null},Qe=(we,Ee)=>{if(we.textContent="",Ee){const bt=new DOMParser().parseFromString(Ee,"text/html");d(bt.querySelector("head").childNodes).forEach(Ei=>{we.appendChild(Ei)}),d(bt.querySelector("body").childNodes).forEach(Ei=>{we.appendChild(Ei)})}},qe=(we,Ee)=>{if(!Ee)return!1;const Ve=Ee.split(/\s+/);for(let bt=0;bt<Ve.length;bt++)if(!we.classList.contains(Ve[bt]))return!1;return!0},xe=(we,Ee)=>{d(we.classList).forEach(Ve=>{!Object.values(x).includes(Ve)&&!Object.values(P).includes(Ve)&&!Object.values(Ee.showClass).includes(Ve)&&we.classList.remove(Ve)})},Ie=(we,Ee,Ve)=>{if(xe(we,Ee),Ee.customClass&&Ee.customClass[Ve]){if(typeof Ee.customClass[Ve]!="string"&&!Ee.customClass[Ve].forEach)return h("Invalid type of customClass.".concat(Ve,'! Expected string or iterable object, got "').concat(typeof Ee.customClass[Ve],'"'));ft(we,Ee.customClass[Ve])}},Be=(we,Ee)=>{if(!Ee)return null;switch(Ee){case"select":case"textarea":case"file":return we.querySelector(".".concat(x.popup," > .").concat(x[Ee]));case"checkbox":return we.querySelector(".".concat(x.popup," > .").concat(x.checkbox," input"));case"radio":return we.querySelector(".".concat(x.popup," > .").concat(x.radio," input:checked"))||we.querySelector(".".concat(x.popup," > .").concat(x.radio," input:first-child"));case"range":return we.querySelector(".".concat(x.popup," > .").concat(x.range," input"));default:return we.querySelector(".".concat(x.popup," > .").concat(x.input))}},Xe=we=>{if(we.focus(),we.type!=="file"){const Ee=we.value;we.value="",we.value=Ee}},Ke=(we,Ee,Ve)=>{!we||!Ee||(typeof Ee=="string"&&(Ee=Ee.split(/\s+/).filter(Boolean)),Ee.forEach(bt=>{Array.isArray(we)?we.forEach(Ei=>{Ve?Ei.classList.add(bt):Ei.classList.remove(bt)}):Ve?we.classList.add(bt):we.classList.remove(bt)}))},ft=(we,Ee)=>{Ke(we,Ee,!0)},St=(we,Ee)=>{Ke(we,Ee,!1)},Ot=(we,Ee)=>{const Ve=d(we.childNodes);for(let bt=0;bt<Ve.length;bt++)if(qe(Ve[bt],Ee))return Ve[bt]},yi=(we,Ee,Ve)=>{Ve==="".concat(parseInt(Ve))&&(Ve=parseInt(Ve)),Ve||parseInt(Ve)===0?we.style[Ee]=typeof Ve=="number"?"".concat(Ve,"px"):Ve:we.style.removeProperty(Ee)},Wt=function(we){let Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";we.style.display=Ee},fi=we=>{we.style.display="none"},Hi=(we,Ee,Ve,bt)=>{const Ei=we.querySelector(Ee);Ei&&(Ei.style[Ve]=bt)},pt=(we,Ee,Ve)=>{Ee?Wt(we,Ve):fi(we)},Lt=we=>!!(we&&(we.offsetWidth||we.offsetHeight||we.getClientRects().length)),ei=()=>!Lt(F())&&!Lt(Q())&&!Lt(Ce()),Pi=we=>we.scrollHeight>we.clientHeight,cn=we=>{const Ee=window.getComputedStyle(we),Ve=parseFloat(Ee.getPropertyValue("animation-duration")||"0"),bt=parseFloat(Ee.getPropertyValue("transition-duration")||"0");return Ve>0||bt>0},Wn=function(we){let Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const Ve=_e();Lt(Ve)&&(Ee&&(Ve.style.transition="none",Ve.style.width="100%"),setTimeout(()=>{Ve.style.transition="width ".concat(we/1e3,"s linear"),Ve.style.width="0%"},10))},Kr=()=>{const we=_e(),Ee=parseInt(window.getComputedStyle(we).width);we.style.removeProperty("transition"),we.style.width="100%";const Ve=parseInt(window.getComputedStyle(we).width),bt=Ee/Ve*100;we.style.removeProperty("transition"),we.style.width="".concat(bt,"%")},ui=()=>typeof window>"u"||typeof document>"u",Vi=100,qi={},Nr=()=>{qi.previousActiveElement&&qi.previousActiveElement.focus?(qi.previousActiveElement.focus(),qi.previousActiveElement=null):document.body&&document.body.focus()},go=we=>new Promise(Ee=>{if(!we)return Ee();const Ve=window.scrollX,bt=window.scrollY;qi.restoreFocusTimeout=setTimeout(()=>{Nr(),Ee()},Vi),window.scrollTo(Ve,bt)}),wn=`
 <div aria-labelledby="`.concat(x.title,'" aria-describedby="').concat(x["html-container"],'" class="').concat(x.popup,`" tabindex="-1">
   <button type="button" class="`).concat(x.close,`"></button>
   <ul class="`).concat(x["progress-steps"],`"></ul>
   <div class="`).concat(x.icon,`"></div>
   <img class="`).concat(x.image,`" />
   <h2 class="`).concat(x.title,'" id="').concat(x.title,`"></h2>
   <div class="`).concat(x["html-container"],'" id="').concat(x["html-container"],`"></div>
   <input class="`).concat(x.input,`" />
   <input type="file" class="`).concat(x.file,`" />
   <div class="`).concat(x.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(x.select,`"></select>
   <div class="`).concat(x.radio,`"></div>
   <label for="`).concat(x.checkbox,'" class="').concat(x.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(x.label,`"></span>
   </label>
   <textarea class="`).concat(x.textarea,`"></textarea>
   <div class="`).concat(x["validation-message"],'" id="').concat(x["validation-message"],`"></div>
   <div class="`).concat(x.actions,`">
     <div class="`).concat(x.loader,`"></div>
     <button type="button" class="`).concat(x.confirm,`"></button>
     <button type="button" class="`).concat(x.deny,`"></button>
     <button type="button" class="`).concat(x.cancel,`"></button>
   </div>
   <div class="`).concat(x.footer,`"></div>
   <div class="`).concat(x["timer-progress-bar-container"],`">
     <div class="`).concat(x["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),co=()=>{const we=f();return we?(we.remove(),St([document.documentElement,document.body],[x["no-backdrop"],x["toast-shown"],x["has-column"]]),!0):!1},On=()=>{qi.currentInstance.resetValidationMessage()},Va=()=>{const we=A(),Ee=Ot(we,x.input),Ve=Ot(we,x.file),bt=we.querySelector(".".concat(x.range," input")),Ei=we.querySelector(".".concat(x.range," output")),Tn=Ot(we,x.select),br=we.querySelector(".".concat(x.checkbox," input")),so=Ot(we,x.textarea);Ee.oninput=On,Ve.onchange=On,Tn.onchange=On,br.onchange=On,so.oninput=On,bt.oninput=()=>{On(),Ei.value=bt.value},bt.onchange=()=>{On(),bt.nextSibling.value=bt.value}},rl=we=>typeof we=="string"?document.querySelector(we):we,mt=we=>{const Ee=A();Ee.setAttribute("role",we.toast?"alert":"dialog"),Ee.setAttribute("aria-live",we.toast?"polite":"assertive"),we.toast||Ee.setAttribute("aria-modal","true")},Fe=we=>{window.getComputedStyle(we).direction==="rtl"&&ft(f(),x.rtl)},We=we=>{const Ee=co();if(ui()){s("SweetAlert2 requires document to initialize");return}const Ve=document.createElement("div");Ve.className=x.container,Ee&&ft(Ve,x["no-transition"]),Qe(Ve,wn);const bt=rl(we.target);bt.appendChild(Ve),mt(we),Fe(bt),Va()},ut=(we,Ee)=>{we instanceof HTMLElement?Ee.appendChild(we):typeof we=="object"?xt(we,Ee):we&&Qe(Ee,we)},xt=(we,Ee)=>{we.jquery?Rt(Ee,we):Qe(Ee,we.toString())},Rt=(we,Ee)=>{if(we.textContent="",0 in Ee)for(let Ve=0;Ve in Ee;Ve++)we.appendChild(Ee[Ve].cloneNode(!0));else we.appendChild(Ee.cloneNode(!0))},Ut=(()=>{if(ui())return!1;const we=document.createElement("div"),Ee={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const Ve in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Ve)&&typeof we.style[Ve]<"u")return Ee[Ve];return!1})(),Ht=()=>{const we=document.createElement("div");we.className=x["scrollbar-measure"],document.body.appendChild(we);const Ee=we.getBoundingClientRect().width-we.clientWidth;return document.body.removeChild(we),Ee},zt=(we,Ee)=>{const Ve=ne(),bt=ue();!Ee.showConfirmButton&&!Ee.showDenyButton&&!Ee.showCancelButton?fi(Ve):Wt(Ve),Ie(Ve,Ee,"actions"),Zt(Ve,bt,Ee),Qe(bt,Ee.loaderHtml),Ie(bt,Ee,"loader")};function Zt(we,Ee,Ve){const bt=F(),Ei=Q(),Tn=Ce();Ji(bt,"confirm",Ve),Ji(Ei,"deny",Ve),Ji(Tn,"cancel",Ve),xi(bt,Ei,Tn,Ve),Ve.reverseButtons&&(Ve.toast?(we.insertBefore(Tn,bt),we.insertBefore(Ei,bt)):(we.insertBefore(Tn,Ee),we.insertBefore(Ei,Ee),we.insertBefore(bt,Ee)))}function xi(we,Ee,Ve,bt){if(!bt.buttonsStyling)return St([we,Ee,Ve],x.styled);ft([we,Ee,Ve],x.styled),bt.confirmButtonColor&&(we.style.backgroundColor=bt.confirmButtonColor,ft(we,x["default-outline"])),bt.denyButtonColor&&(Ee.style.backgroundColor=bt.denyButtonColor,ft(Ee,x["default-outline"])),bt.cancelButtonColor&&(Ve.style.backgroundColor=bt.cancelButtonColor,ft(Ve,x["default-outline"]))}function Ji(we,Ee,Ve){pt(we,Ve["show".concat(o(Ee),"Button")],"inline-block"),Qe(we,Ve["".concat(Ee,"ButtonText")]),we.setAttribute("aria-label",Ve["".concat(Ee,"ButtonAriaLabel")]),we.className=x[Ee],Ie(we,Ve,"".concat(Ee,"Button")),ft(we,Ve["".concat(Ee,"ButtonClass")])}function Di(we,Ee){typeof Ee=="string"?we.style.background=Ee:Ee||ft([document.documentElement,document.body],x["no-backdrop"])}function Mn(we,Ee){Ee in x?ft(we,x[Ee]):(h('The "position" parameter is not valid, defaulting to "center"'),ft(we,x.center))}function Cn(we,Ee){if(Ee&&typeof Ee=="string"){const Ve="grow-".concat(Ee);Ve in x&&ft(we,x[Ve])}}const hn=(we,Ee)=>{const Ve=f();Ve&&(Di(Ve,Ee.backdrop),Mn(Ve,Ee.position),Cn(Ve,Ee.grow),Ie(Ve,Ee,"container"))};var Wi={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const cr=["input","file","range","select","radio","checkbox","textarea"],Ar=(we,Ee)=>{const Ve=A(),bt=Wi.innerParams.get(we),Ei=!bt||Ee.input!==bt.input;cr.forEach(Tn=>{const br=x[Tn],so=Ot(Ve,br);Or(Tn,Ee.inputAttributes),so.className=br,Ei&&fi(so)}),Ee.input&&(Ei&&_n(Ee),Ga(Ee))},_n=we=>{if(!ps[we.input])return s('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(we.input,'"'));const Ee=mi(we.input),Ve=ps[we.input](Ee,we);Wt(Ve),setTimeout(()=>{Xe(Ve)})},Yr=we=>{for(let Ee=0;Ee<we.attributes.length;Ee++){const Ve=we.attributes[Ee].name;["type","value","style"].includes(Ve)||we.removeAttribute(Ve)}},Or=(we,Ee)=>{const Ve=Be(A(),we);if(Ve){Yr(Ve);for(const bt in Ee)Ve.setAttribute(bt,Ee[bt])}},Ga=we=>{const Ee=mi(we.input);we.customClass&&ft(Ee,we.customClass.input)},Ha=(we,Ee)=>{(!we.placeholder||Ee.inputPlaceholder)&&(we.placeholder=Ee.inputPlaceholder)},yo=(we,Ee,Ve)=>{if(Ve.inputLabel){we.id=x.input;const bt=document.createElement("label"),Ei=x["input-label"];bt.setAttribute("for",we.id),bt.className=Ei,ft(bt,Ve.customClass.inputLabel),bt.innerText=Ve.inputLabel,Ee.insertAdjacentElement("beforebegin",bt)}},mi=we=>{const Ee=x[we]?x[we]:x.input;return Ot(A(),Ee)},ps={};ps.text=ps.email=ps.password=ps.number=ps.tel=ps.url=(we,Ee)=>(typeof Ee.inputValue=="string"||typeof Ee.inputValue=="number"?we.value=Ee.inputValue:L(Ee.inputValue)||h('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof Ee.inputValue,'"')),yo(we,we,Ee),Ha(we,Ee),we.type=Ee.input,we),ps.file=(we,Ee)=>(yo(we,we,Ee),Ha(we,Ee),we),ps.range=(we,Ee)=>{const Ve=we.querySelector("input"),bt=we.querySelector("output");return Ve.value=Ee.inputValue,Ve.type=Ee.input,bt.value=Ee.inputValue,yo(Ve,we,Ee),we},ps.select=(we,Ee)=>{if(we.textContent="",Ee.inputPlaceholder){const Ve=document.createElement("option");Qe(Ve,Ee.inputPlaceholder),Ve.value="",Ve.disabled=!0,Ve.selected=!0,we.appendChild(Ve)}return yo(we,we,Ee),we},ps.radio=we=>(we.textContent="",we),ps.checkbox=(we,Ee)=>{const Ve=Be(A(),"checkbox");Ve.value="1",Ve.id=x.checkbox,Ve.checked=!!Ee.inputValue;const bt=we.querySelector("span");return Qe(bt,Ee.inputPlaceholder),we},ps.textarea=(we,Ee)=>{we.value=Ee.inputValue,Ha(we,Ee),yo(we,we,Ee);const Ve=bt=>parseInt(window.getComputedStyle(bt).marginLeft)+parseInt(window.getComputedStyle(bt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const bt=parseInt(window.getComputedStyle(A()).width),Ei=()=>{const Tn=we.offsetWidth+Ve(we);Tn>bt?A().style.width="".concat(Tn,"px"):A().style.width=null};new MutationObserver(Ei).observe(we,{attributes:!0,attributeFilter:["style"]})}}),we};const Os=(we,Ee)=>{const Ve=J();Ie(Ve,Ee,"htmlContainer"),Ee.html?(ut(Ee.html,Ve),Wt(Ve,"block")):Ee.text?(Ve.textContent=Ee.text,Wt(Ve,"block")):fi(Ve),Ar(we,Ee)},Rs=(we,Ee)=>{const Ve=ve();pt(Ve,Ee.footer),Ee.footer&&ut(Ee.footer,Ve),Ie(Ve,Ee,"footer")},bc=(we,Ee)=>{const Ve=oe();Qe(Ve,Ee.closeButtonHtml),Ie(Ve,Ee,"closeButton"),pt(Ve,Ee.showCloseButton),Ve.setAttribute("aria-label",Ee.closeButtonAriaLabel)},Po=(we,Ee)=>{const Ve=Wi.innerParams.get(we),bt=X();if(Ve&&Ee.icon===Ve.icon){nr(bt,Ee),qc(bt,Ee);return}if(!Ee.icon&&!Ee.iconHtml)return fi(bt);if(Ee.icon&&Object.keys(P).indexOf(Ee.icon)===-1)return s('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(Ee.icon,'"')),fi(bt);Wt(bt),nr(bt,Ee),qc(bt,Ee),ft(bt,Ee.showClass.icon)},qc=(we,Ee)=>{for(const Ve in P)Ee.icon!==Ve&&St(we,P[Ve]);ft(we,P[Ee.icon]),dr(we,Ee),ou(),Ie(we,Ee,"icon")},ou=()=>{const we=A(),Ee=window.getComputedStyle(we).getPropertyValue("background-color"),Ve=we.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let bt=0;bt<Ve.length;bt++)Ve[bt].style.backgroundColor=Ee},uo=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Qi=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,nr=(we,Ee)=>{we.textContent="",Ee.iconHtml?Qe(we,ta(Ee.iconHtml)):Ee.icon==="success"?Qe(we,uo):Ee.icon==="error"?Qe(we,Qi):Qe(we,ta({question:"?",warning:"!",info:"i"}[Ee.icon]))},dr=(we,Ee)=>{if(Ee.iconColor){we.style.color=Ee.iconColor,we.style.borderColor=Ee.iconColor;for(const Ve of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Hi(we,Ve,"backgroundColor",Ee.iconColor);Hi(we,".swal2-success-ring","borderColor",Ee.iconColor)}},ta=we=>'<div class="'.concat(x["icon-content"],'">').concat(we,"</div>"),Wa=(we,Ee)=>{const Ve=ce();if(!Ee.imageUrl)return fi(Ve);Wt(Ve,""),Ve.setAttribute("src",Ee.imageUrl),Ve.setAttribute("alt",Ee.imageAlt),yi(Ve,"width",Ee.imageWidth),yi(Ve,"height",Ee.imageHeight),Ve.className=x.image,Ie(Ve,Ee,"image")},Fn=we=>{const Ee=document.createElement("li");return ft(Ee,x["progress-step"]),Qe(Ee,we),Ee},wc=we=>{const Ee=document.createElement("li");return ft(Ee,x["progress-step-line"]),we.progressStepsDistance&&(Ee.style.width=we.progressStepsDistance),Ee},Ma=(we,Ee)=>{const Ve=pe();if(!Ee.progressSteps||Ee.progressSteps.length===0)return fi(Ve);Wt(Ve),Ve.textContent="",Ee.currentProgressStep>=Ee.progressSteps.length&&h("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Ee.progressSteps.forEach((bt,Ei)=>{const Tn=Fn(bt);if(Ve.appendChild(Tn),Ei===Ee.currentProgressStep&&ft(Tn,x["active-progress-step"]),Ei!==Ee.progressSteps.length-1){const br=wc(Ee);Ve.appendChild(br)}})},sl=(we,Ee)=>{const Ve=Y();pt(Ve,Ee.title||Ee.titleText,"block"),Ee.title&&ut(Ee.title,Ve),Ee.titleText&&(Ve.innerText=Ee.titleText),Ie(Ve,Ee,"title")},Qs=(we,Ee)=>{const Ve=f(),bt=A();Ee.toast?(yi(Ve,"width",Ee.width),bt.style.width="100%",bt.insertBefore(ue(),X())):yi(bt,"width",Ee.width),yi(bt,"padding",Ee.padding),Ee.color&&(bt.style.color=Ee.color),Ee.background&&(bt.style.background=Ee.background),fi(fe()),Gr(bt,Ee)},Gr=(we,Ee)=>{we.className="".concat(x.popup," ").concat(Lt(we)?Ee.showClass.popup:""),Ee.toast?(ft([document.documentElement,document.body],x["toast-shown"]),ft(we,x.toast)):ft(we,x.modal),Ie(we,Ee,"popup"),typeof Ee.customClass=="string"&&ft(we,Ee.customClass),Ee.icon&&ft(we,x["icon-".concat(Ee.icon)])},ho=(we,Ee)=>{Qs(we,Ee),hn(we,Ee),Ma(we,Ee),Po(we,Ee),Wa(we,Ee),sl(we,Ee),bc(we,Ee),Os(we,Ee),zt(we,Ee),Rs(we,Ee),typeof Ee.didRender=="function"&&Ee.didRender(A())},Ho=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ql=()=>{d(document.body.children).forEach(Ee=>{Ee===f()||Ee.contains(f())||(Ee.hasAttribute("aria-hidden")&&Ee.setAttribute("data-previous-aria-hidden",Ee.getAttribute("aria-hidden")),Ee.setAttribute("aria-hidden","true"))})},ma=()=>{d(document.body.children).forEach(Ee=>{Ee.hasAttribute("data-previous-aria-hidden")?(Ee.setAttribute("aria-hidden",Ee.getAttribute("data-previous-aria-hidden")),Ee.removeAttribute("data-previous-aria-hidden")):Ee.removeAttribute("aria-hidden")})},vl=["swal-title","swal-html","swal-footer"],xl=we=>{const Ee=typeof we.template=="string"?document.querySelector(we.template):we.template;if(!Ee)return{};const Ve=Ee.content;return Xl(Ve),Object.assign(ol(Ve),bl(Ve),Xc(Ve),Zc(Ve),Bo(Ve),Ps(Ve,vl))},ol=we=>{const Ee={};return d(we.querySelectorAll("swal-param")).forEach(Ve=>{al(Ve,["name","value"]);const bt=Ve.getAttribute("name"),Ei=Ve.getAttribute("value");typeof O[bt]=="boolean"&&Ei==="false"&&(Ee[bt]=!1),typeof O[bt]=="object"&&(Ee[bt]=JSON.parse(Ei))}),Ee},bl=we=>{const Ee={};return d(we.querySelectorAll("swal-button")).forEach(Ve=>{al(Ve,["type","color","aria-label"]);const bt=Ve.getAttribute("type");Ee["".concat(bt,"ButtonText")]=Ve.innerHTML,Ee["show".concat(o(bt),"Button")]=!0,Ve.hasAttribute("color")&&(Ee["".concat(bt,"ButtonColor")]=Ve.getAttribute("color")),Ve.hasAttribute("aria-label")&&(Ee["".concat(bt,"ButtonAriaLabel")]=Ve.getAttribute("aria-label"))}),Ee},Xc=we=>{const Ee={},Ve=we.querySelector("swal-image");return Ve&&(al(Ve,["src","width","height","alt"]),Ve.hasAttribute("src")&&(Ee.imageUrl=Ve.getAttribute("src")),Ve.hasAttribute("width")&&(Ee.imageWidth=Ve.getAttribute("width")),Ve.hasAttribute("height")&&(Ee.imageHeight=Ve.getAttribute("height")),Ve.hasAttribute("alt")&&(Ee.imageAlt=Ve.getAttribute("alt"))),Ee},Zc=we=>{const Ee={},Ve=we.querySelector("swal-icon");return Ve&&(al(Ve,["type","color"]),Ve.hasAttribute("type")&&(Ee.icon=Ve.getAttribute("type")),Ve.hasAttribute("color")&&(Ee.iconColor=Ve.getAttribute("color")),Ee.iconHtml=Ve.innerHTML),Ee},Bo=we=>{const Ee={},Ve=we.querySelector("swal-input");Ve&&(al(Ve,["type","label","placeholder","value"]),Ee.input=Ve.getAttribute("type")||"text",Ve.hasAttribute("label")&&(Ee.inputLabel=Ve.getAttribute("label")),Ve.hasAttribute("placeholder")&&(Ee.inputPlaceholder=Ve.getAttribute("placeholder")),Ve.hasAttribute("value")&&(Ee.inputValue=Ve.getAttribute("value")));const bt=we.querySelectorAll("swal-input-option");return bt.length&&(Ee.inputOptions={},d(bt).forEach(Ei=>{al(Ei,["value"]);const Tn=Ei.getAttribute("value"),br=Ei.innerHTML;Ee.inputOptions[Tn]=br})),Ee},Ps=(we,Ee)=>{const Ve={};for(const bt in Ee){const Ei=Ee[bt],Tn=we.querySelector(Ei);Tn&&(al(Tn,[]),Ve[Ei.replace(/^swal-/,"")]=Tn.innerHTML.trim())}return Ve},Xl=we=>{const Ee=vl.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);d(we.children).forEach(Ve=>{const bt=Ve.tagName.toLowerCase();Ee.indexOf(bt)===-1&&h("Unrecognized element <".concat(bt,">"))})},al=(we,Ee)=>{d(we.attributes).forEach(Ve=>{Ee.indexOf(Ve.name)===-1&&h(['Unrecognized attribute "'.concat(Ve.name,'" on <').concat(we.tagName.toLowerCase(),">."),"".concat(Ee.length?"Allowed attributes are: ".concat(Ee.join(", ")):"To set the value, use HTML within the element.")])})};var eo={email:(we,Ee)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(we)?Promise.resolve():Promise.resolve(Ee||"Invalid email address"),url:(we,Ee)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(we)?Promise.resolve():Promise.resolve(Ee||"Invalid URL")};function ga(we){we.inputValidator||Object.keys(eo).forEach(Ee=>{we.input===Ee&&(we.inputValidator=eo[Ee])})}function Du(we){(!we.target||typeof we.target=="string"&&!document.querySelector(we.target)||typeof we.target!="string"&&!we.target.appendChild)&&(h('Target parameter is not valid, defaulting to "body"'),we.target="body")}function Sd(we){ga(we),we.showLoaderOnConfirm&&!we.preConfirm&&h(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Du(we),typeof we.title=="string"&&(we.title=we.title.split(`
`).join("<br />")),We(we)}class Ys{constructor(Ee,Ve){this.callback=Ee,this.remaining=Ve,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Ee){const Ve=this.running;return Ve&&this.stop(),this.remaining+=Ee,Ve&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Zl=()=>{rt.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(rt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(rt.previousBodyPadding+Ht(),"px"))},Cd=()=>{rt.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(rt.previousBodyPadding,"px"),rt.previousBodyPadding=null)},Kl=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!qe(document.body,x.iosfix)){const Ee=document.body.scrollTop;document.body.style.top="".concat(Ee*-1,"px"),ft(document.body,x.iosfix),wl(),to()}},to=()=>{const we=navigator.userAgent,Ee=!!we.match(/iPad/i)||!!we.match(/iPhone/i),Ve=!!we.match(/WebKit/i);Ee&&Ve&&!we.match(/CriOS/i)&&A().scrollHeight>window.innerHeight-44&&(f().style.paddingBottom="".concat(44,"px"))},wl=()=>{const we=f();let Ee;we.ontouchstart=Ve=>{Ee=Ed(Ve)},we.ontouchmove=Ve=>{Ee&&(Ve.preventDefault(),Ve.stopPropagation())}},Ed=we=>{const Ee=we.target,Ve=f();return Ir(we)||Fr(we)?!1:Ee===Ve||!Pi(Ve)&&Ee.tagName!=="INPUT"&&Ee.tagName!=="TEXTAREA"&&!(Pi(J())&&J().contains(Ee))},Ir=we=>we.touches&&we.touches.length&&we.touches[0].touchType==="stylus",Fr=we=>we.touches&&we.touches.length>1,Md=()=>{if(qe(document.body,x.iosfix)){const we=parseInt(document.body.style.top,10);St(document.body,x.iosfix),document.body.style.top="",document.body.scrollTop=we*-1}},Iu=10,au=we=>{const Ee=f(),Ve=A();typeof we.willOpen=="function"&&we.willOpen(Ve);const Ei=window.getComputedStyle(document.body).overflowY;Jl(Ee,Ve,we),setTimeout(()=>{Kc(Ee,Ve)},Iu),Re()&&(kd(Ee,we.scrollbarPadding,Ei),ql()),!Le()&&!qi.previousActiveElement&&(qi.previousActiveElement=document.activeElement),typeof we.didOpen=="function"&&setTimeout(()=>we.didOpen(Ve)),St(Ee,x["no-transition"])},ya=we=>{const Ee=A();if(we.target!==Ee)return;const Ve=f();Ee.removeEventListener(Ut,ya),Ve.style.overflowY="auto"},Kc=(we,Ee)=>{Ut&&cn(Ee)?(we.style.overflowY="hidden",Ee.addEventListener(Ut,ya)):we.style.overflowY="auto"},kd=(we,Ee,Ve)=>{Kl(),Ee&&Ve!=="hidden"&&Zl(),setTimeout(()=>{we.scrollTop=0})},Jl=(we,Ee,Ve)=>{ft(we,Ve.showClass.backdrop),Ee.style.setProperty("opacity","0","important"),Wt(Ee,"grid"),setTimeout(()=>{ft(Ee,Ve.showClass.popup),Ee.style.removeProperty("opacity")},Iu),ft([document.documentElement,document.body],x.shown),Ve.heightAuto&&Ve.backdrop&&!Ve.toast&&ft([document.documentElement,document.body],x["height-auto"])},ia=we=>{let Ee=A();Ee||new In,Ee=A();const Ve=ue();Le()?fi(X()):qs(Ee,we),Wt(Ve),Ee.setAttribute("data-loading",!0),Ee.setAttribute("aria-busy",!0),Ee.focus()},qs=(we,Ee)=>{const Ve=ne(),bt=ue();!Ee&&Lt(F())&&(Ee=F()),Wt(Ve),Ee&&(fi(Ee),bt.setAttribute("data-button-to-replace",Ee.className)),bt.parentNode.insertBefore(bt,Ee),ft([we,Ve],x.loading)},Z=(we,Ee)=>{Ee.input==="select"||Ee.input==="radio"?Ge(we,Ee):["text","email","number","tel","textarea"].includes(Ee.input)&&(z(Ee.inputValue)||L(Ee.inputValue))&&(ia(F()),Je(we,Ee))},de=(we,Ee)=>{const Ve=we.getInput();if(!Ve)return null;switch(Ee.input){case"checkbox":return be(Ve);case"radio":return ke(Ve);case"file":return Ue(Ve);default:return Ee.inputAutoTrim?Ve.value.trim():Ve.value}},be=we=>we.checked?1:0,ke=we=>we.checked?we.value:null,Ue=we=>we.files.length?we.getAttribute("multiple")!==null?we.files:we.files[0]:null,Ge=(we,Ee)=>{const Ve=A(),bt=Ei=>Bt[Ee.input](Ve,Et(Ei),Ee);z(Ee.inputOptions)||L(Ee.inputOptions)?(ia(F()),q(Ee.inputOptions).then(Ei=>{we.hideLoading(),bt(Ei)})):typeof Ee.inputOptions=="object"?bt(Ee.inputOptions):s("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof Ee.inputOptions))},Je=(we,Ee)=>{const Ve=we.getInput();fi(Ve),q(Ee.inputValue).then(bt=>{Ve.value=Ee.input==="number"?parseFloat(bt)||0:"".concat(bt),Wt(Ve),Ve.focus(),we.hideLoading()}).catch(bt=>{s("Error in inputValue promise: ".concat(bt)),Ve.value="",Wt(Ve),Ve.focus(),we.hideLoading()})},Bt={select:(we,Ee,Ve)=>{const bt=Ot(we,x.select),Ei=(Tn,br,so)=>{const Fs=document.createElement("option");Fs.value=so,Qe(Fs,br),Fs.selected=Kt(so,Ve.inputValue),Tn.appendChild(Fs)};Ee.forEach(Tn=>{const br=Tn[0],so=Tn[1];if(Array.isArray(so)){const Fs=document.createElement("optgroup");Fs.label=br,Fs.disabled=!1,bt.appendChild(Fs),so.forEach(Cl=>Ei(Fs,Cl[1],Cl[0]))}else Ei(bt,so,br)}),bt.focus()},radio:(we,Ee,Ve)=>{const bt=Ot(we,x.radio);Ee.forEach(Tn=>{const br=Tn[0],so=Tn[1],Fs=document.createElement("input"),Cl=document.createElement("label");Fs.type="radio",Fs.name=x.radio,Fs.value=br,Kt(br,Ve.inputValue)&&(Fs.checked=!0);const sn=document.createElement("span");Qe(sn,so),sn.className=x.label,Cl.appendChild(Fs),Cl.appendChild(sn),bt.appendChild(Cl)});const Ei=bt.querySelectorAll("input");Ei.length&&Ei[0].focus()}},Et=we=>{const Ee=[];return typeof Map<"u"&&we instanceof Map?we.forEach((Ve,bt)=>{let Ei=Ve;typeof Ei=="object"&&(Ei=Et(Ei)),Ee.push([bt,Ei])}):Object.keys(we).forEach(Ve=>{let bt=we[Ve];typeof bt=="object"&&(bt=Et(bt)),Ee.push([Ve,bt])}),Ee},Kt=(we,Ee)=>Ee&&Ee.toString()===we.toString(),gi=we=>{const Ee=Wi.innerParams.get(we);we.disableButtons(),Ee.input?hi(we,"confirm"):Jr(we,!0)},ki=we=>{const Ee=Wi.innerParams.get(we);we.disableButtons(),Ee.returnInputValueOnDeny?hi(we,"deny"):Zn(we,!1)},oi=(we,Ee)=>{we.disableButtons(),Ee(Ho.cancel)},hi=(we,Ee)=>{const Ve=Wi.innerParams.get(we);if(!Ve.input)return s('The "input" parameter is needed to be set when using returnInputValueOn'.concat(o(Ee)));const bt=de(we,Ve);Ve.inputValidator?Zi(we,bt,Ee):we.getInput().checkValidity()?Ee==="deny"?Zn(we,bt):Jr(we,bt):(we.enableButtons(),we.showValidationMessage(Ve.validationMessage))},Zi=(we,Ee,Ve)=>{const bt=Wi.innerParams.get(we);we.disableInput(),Promise.resolve().then(()=>q(bt.inputValidator(Ee,bt.validationMessage))).then(Tn=>{we.enableButtons(),we.enableInput(),Tn?we.showValidationMessage(Tn):Ve==="deny"?Zn(we,Ee):Jr(we,Ee)})},Zn=(we,Ee)=>{const Ve=Wi.innerParams.get(we||void 0);Ve.showLoaderOnDeny&&ia(Q()),Ve.preDeny?(Wi.awaitingPromise.set(we||void 0,!0),Promise.resolve().then(()=>q(Ve.preDeny(Ee,Ve.validationMessage))).then(Ei=>{Ei===!1?we.hideLoading():we.closePopup({isDenied:!0,value:typeof Ei>"u"?Ee:Ei})}).catch(Ei=>fs(we||void 0,Ei))):we.closePopup({isDenied:!0,value:Ee})},pn=(we,Ee)=>{we.closePopup({isConfirmed:!0,value:Ee})},fs=(we,Ee)=>{we.rejectPromise(Ee)},Jr=(we,Ee)=>{const Ve=Wi.innerParams.get(we||void 0);Ve.showLoaderOnConfirm&&ia(),Ve.preConfirm?(we.resetValidationMessage(),Wi.awaitingPromise.set(we||void 0,!0),Promise.resolve().then(()=>q(Ve.preConfirm(Ee,Ve.validationMessage))).then(Ei=>{Lt(fe())||Ei===!1?we.hideLoading():pn(we,typeof Ei>"u"?Ee:Ei)}).catch(Ei=>fs(we||void 0,Ei))):pn(we,Ee)},fr=(we,Ee,Ve)=>{Wi.innerParams.get(we).toast?mr(we,Ee,Ve):(yr(Ee),Qr(Ee),Ya(we,Ee,Ve))},mr=(we,Ee,Ve)=>{Ee.popup.onclick=()=>{const bt=Wi.innerParams.get(we);bt&&(Yn(bt)||bt.timer||bt.input)||Ve(Ho.close)}},Yn=we=>we.showConfirmButton||we.showDenyButton||we.showCancelButton||we.showCloseButton;let no=!1;const yr=we=>{we.popup.onmousedown=()=>{we.container.onmouseup=function(Ee){we.container.onmouseup=void 0,Ee.target===we.container&&(no=!0)}}},Qr=we=>{we.container.onmousedown=()=>{we.popup.onmouseup=function(Ee){we.popup.onmouseup=void 0,(Ee.target===we.popup||we.popup.contains(Ee.target))&&(no=!0)}}},Ya=(we,Ee,Ve)=>{Ee.container.onclick=bt=>{const Ei=Wi.innerParams.get(we);if(no){no=!1;return}bt.target===Ee.container&&k(Ei.allowOutsideClick)&&Ve(Ho.backdrop)}},Ql=()=>Lt(A()),ro=()=>F()&&F().click(),na=()=>Q()&&Q().click(),Jn=()=>Ce()&&Ce().click(),_o=(we,Ee,Ve,bt)=>{Ee.keydownTarget&&Ee.keydownHandlerAdded&&(Ee.keydownTarget.removeEventListener("keydown",Ee.keydownHandler,{capture:Ee.keydownListenerCapture}),Ee.keydownHandlerAdded=!1),Ve.toast||(Ee.keydownHandler=Ei=>ec(we,Ei,bt),Ee.keydownTarget=Ve.keydownListenerCapture?window:A(),Ee.keydownListenerCapture=Ve.keydownListenerCapture,Ee.keydownTarget.addEventListener("keydown",Ee.keydownHandler,{capture:Ee.keydownListenerCapture}),Ee.keydownHandlerAdded=!0)},ra=(we,Ee,Ve)=>{const bt=Se();if(bt.length)return Ee=Ee+Ve,Ee===bt.length?Ee=0:Ee===-1&&(Ee=bt.length-1),bt[Ee].focus();A().focus()},zo=["ArrowRight","ArrowDown"],_a=["ArrowLeft","ArrowUp"],ec=(we,Ee,Ve)=>{const bt=Wi.innerParams.get(we);bt&&(bt.stopKeydownPropagation&&Ee.stopPropagation(),Ee.key==="Enter"?ll(we,Ee,bt):Ee.key==="Tab"?Ad(Ee,bt):[...zo,..._a].includes(Ee.key)?jr(Ee.key):Ee.key==="Escape"&&va(Ee,bt,Ve))},ll=(we,Ee,Ve)=>{if(!(!k(Ve.allowEnterKey)||Ee.isComposing)&&Ee.target&&we.getInput()&&Ee.target.outerHTML===we.getInput().outerHTML){if(["textarea","file"].includes(Ve.input))return;ro(),Ee.preventDefault()}},Ad=(we,Ee)=>{const Ve=we.target,bt=Se();let Ei=-1;for(let Tn=0;Tn<bt.length;Tn++)if(Ve===bt[Tn]){Ei=Tn;break}we.shiftKey?ra(Ee,Ei,-1):ra(Ee,Ei,1),we.stopPropagation(),we.preventDefault()},jr=we=>{const Ee=F(),Ve=Q(),bt=Ce();if(![Ee,Ve,bt].includes(document.activeElement))return;const Ei=zo.includes(we)?"nextElementSibling":"previousElementSibling",Tn=document.activeElement[Ei];Tn instanceof HTMLElement&&Tn.focus()},va=(we,Ee,Ve)=>{k(Ee.allowEscapeKey)&&(we.preventDefault(),Ve(Ho.esc))},Jc=we=>typeof we=="object"&&we.jquery,tc=we=>we instanceof Element||Jc(we),No=we=>{const Ee={};return typeof we[0]=="object"&&!tc(we[0])?Object.assign(Ee,we[0]):["title","html","icon"].forEach((Ve,bt)=>{const Ei=we[bt];typeof Ei=="string"||tc(Ei)?Ee[Ve]=Ei:Ei!==void 0&&s("Unexpected type of ".concat(Ve,'! Expected "string" or "Element", got ').concat(typeof Ei))}),Ee};function ic(){const we=this;for(var Ee=arguments.length,Ve=new Array(Ee),bt=0;bt<Ee;bt++)Ve[bt]=arguments[bt];return new we(...Ve)}function Tc(we){class Ee extends this{_main(bt,Ei){return super._main(bt,Object.assign({},we,Ei))}}return Ee}const lu=()=>qi.timeout&&qi.timeout.getTimerLeft(),nc=()=>{if(qi.timeout)return Kr(),qi.timeout.stop()},rc=()=>{if(qi.timeout){const we=qi.timeout.start();return Wn(we),we}},Lu=()=>{const we=qi.timeout;return we&&(we.running?nc():rc())},sc=we=>{if(qi.timeout){const Ee=qi.timeout.increase(we);return Wn(Ee,!0),Ee}},cu=()=>qi.timeout&&qi.timeout.isRunning();let ka=!1;const Aa={};function oc(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Aa[we]=this,ka||(document.body.addEventListener("click",Pd),ka=!0)}const Pd=we=>{for(let Ee=we.target;Ee&&Ee!==document;Ee=Ee.parentNode)for(const Ve in Aa){const bt=Ee.getAttribute(Ve);if(bt){Aa[Ve].fire({template:bt});return}}};var Sc=Object.freeze({isValidParameter:D,isUpdatableParameter:H,isDeprecatedParameter:U,argsToParams:No,isVisible:Ql,clickConfirm:ro,clickDeny:na,clickCancel:Jn,getContainer:f,getPopup:A,getTitle:Y,getHtmlContainer:J,getImage:ce,getIcon:X,getInputLabel:se,getCloseButton:oe,getActions:ne,getConfirmButton:F,getDenyButton:Q,getCancelButton:Ce,getLoader:ue,getFooter:ve,getTimerProgressBar:_e,getFocusableElements:Se,getValidationMessage:fe,isLoading:$e,fire:ic,mixin:Tc,showLoading:ia,enableLoading:ia,getTimerLeft:lu,stopTimer:nc,resumeTimer:rc,toggleTimer:Lu,increaseTimer:sc,isTimerRunning:cu,bindClickHandler:oc});function sa(){const we=Wi.innerParams.get(this);if(!we)return;const Ee=Wi.domCache.get(this);fi(Ee.loader),Le()?we.icon&&Wt(X()):vo(Ee),St([Ee.popup,Ee.actions],x.loading),Ee.popup.removeAttribute("aria-busy"),Ee.popup.removeAttribute("data-loading"),Ee.confirmButton.disabled=!1,Ee.denyButton.disabled=!1,Ee.cancelButton.disabled=!1}const vo=we=>{const Ee=we.popup.getElementsByClassName(we.loader.getAttribute("data-button-to-replace"));Ee.length?Wt(Ee[0],"inline-block"):ei()&&fi(we.actions)};function Tl(we){const Ee=Wi.innerParams.get(we||this),Ve=Wi.domCache.get(we||this);return Ve?Be(Ve.popup,Ee.input):null}var ac={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Cc(we,Ee,Ve,bt){Le()?Yo(we,bt):(go(Ve).then(()=>Yo(we,bt)),qi.keydownTarget.removeEventListener("keydown",qi.keydownHandler,{capture:qi.keydownListenerCapture}),qi.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(Ee.setAttribute("style","display:none !important"),Ee.removeAttribute("class"),Ee.innerHTML=""):Ee.remove(),Re()&&(Cd(),Md(),ma()),yh()}function yh(){St([document.documentElement,document.body],[x.shown,x["height-auto"],x["no-backdrop"],x["toast-shown"]])}function xr(we){we=Ou(we);const Ee=ac.swalPromiseResolve.get(this),Ve=xo(this);this.isAwaitingPromise()?we.isDismissed||(Sl(this),Ee(we)):Ve&&Ee(we)}function Wo(){return!!Wi.awaitingPromise.get(this)}const xo=we=>{const Ee=A();if(!Ee)return!1;const Ve=Wi.innerParams.get(we);if(!Ve||qe(Ee,Ve.hideClass.popup))return!1;St(Ee,Ve.showClass.popup),ft(Ee,Ve.hideClass.popup);const bt=f();return St(bt,Ve.showClass.backdrop),ft(bt,Ve.hideClass.backdrop),Ru(we,Ee,Ve),!0};function oa(we){const Ee=ac.swalPromiseReject.get(this);Sl(this),Ee&&Ee(we)}const Sl=we=>{we.isAwaitingPromise()&&(Wi.awaitingPromise.delete(we),Wi.innerParams.get(we)||we._destroy())},Ou=we=>typeof we>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},we),Ru=(we,Ee,Ve)=>{const bt=f(),Ei=Ut&&cn(Ee);typeof Ve.willClose=="function"&&Ve.willClose(Ee),Ei?Bu(we,Ee,bt,Ve.returnFocus,Ve.didClose):Cc(we,bt,Ve.returnFocus,Ve.didClose)},Bu=(we,Ee,Ve,bt,Ei)=>{qi.swalCloseEventFinishedCallback=Cc.bind(null,we,Ve,bt,Ei),Ee.addEventListener(Ut,function(Tn){Tn.target===Ee&&(qi.swalCloseEventFinishedCallback(),delete qi.swalCloseEventFinishedCallback)})},Yo=(we,Ee)=>{setTimeout(()=>{typeof Ee=="function"&&Ee.bind(we.params)(),we._destroy()})};function $t(we,Ee,Ve){const bt=Wi.domCache.get(we);Ee.forEach(Ei=>{bt[Ei].disabled=Ve})}function bi(we,Ee){if(!we)return!1;if(we.type==="radio"){const bt=we.parentNode.parentNode.querySelectorAll("input");for(let Ei=0;Ei<bt.length;Ei++)bt[Ei].disabled=Ee}else we.disabled=Ee}function pi(){$t(this,["confirmButton","denyButton","cancelButton"],!1)}function fn(){$t(this,["confirmButton","denyButton","cancelButton"],!0)}function Qn(){return bi(this.getInput(),!1)}function Rr(){return bi(this.getInput(),!0)}function Ns(we){const Ee=Wi.domCache.get(this),Ve=Wi.innerParams.get(this);Qe(Ee.validationMessage,we),Ee.validationMessage.className=x["validation-message"],Ve.customClass&&Ve.customClass.validationMessage&&ft(Ee.validationMessage,Ve.customClass.validationMessage),Wt(Ee.validationMessage);const bt=this.getInput();bt&&(bt.setAttribute("aria-invalid",!0),bt.setAttribute("aria-describedby",x["validation-message"]),Xe(bt),ft(bt,x.inputerror))}function Ur(){const we=Wi.domCache.get(this);we.validationMessage&&fi(we.validationMessage);const Ee=this.getInput();Ee&&(Ee.removeAttribute("aria-invalid"),Ee.removeAttribute("aria-describedby"),St(Ee,x.inputerror))}function Ec(){return Wi.domCache.get(this).progressSteps}function Dd(we){const Ee=A(),Ve=Wi.innerParams.get(this);if(!Ee||qe(Ee,Ve.hideClass.popup))return h("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const bt=qo(we),Ei=Object.assign({},Ve,bt);ho(this,Ei),Wi.innerParams.set(this,Ei),Object.defineProperties(this,{params:{value:Object.assign({},this.params,we),writable:!1,enumerable:!0}})}const qo=we=>{const Ee={};return Object.keys(we).forEach(Ve=>{H(Ve)?Ee[Ve]=we[Ve]:h('Invalid parameter to update: "'.concat(Ve,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),Ee};function st(){const we=Wi.domCache.get(this),Ee=Wi.innerParams.get(this);if(!Ee){Ft(this);return}we.popup&&qi.swalCloseEventFinishedCallback&&(qi.swalCloseEventFinishedCallback(),delete qi.swalCloseEventFinishedCallback),qi.deferDisposalTimer&&(clearTimeout(qi.deferDisposalTimer),delete qi.deferDisposalTimer),typeof Ee.didDestroy=="function"&&Ee.didDestroy(),kt(this)}const kt=we=>{Ft(we),delete we.params,delete qi.keydownHandler,delete qi.keydownTarget,delete qi.currentInstance},Ft=we=>{we.isAwaitingPromise()?(wi(Wi,we),Wi.awaitingPromise.set(we,!0)):(wi(ac,we),wi(Wi,we))},wi=(we,Ee)=>{for(const Ve in we)we[Ve].delete(Ee)};var Vt=Object.freeze({hideLoading:sa,disableLoading:sa,getInput:Tl,close:xr,isAwaitingPromise:Wo,rejectPromise:oa,closePopup:xr,closeModal:xr,closeToast:xr,enableButtons:pi,disableButtons:fn,enableInput:Qn,disableInput:Rr,showValidationMessage:Ns,resetValidationMessage:Ur,getProgressSteps:Ec,update:Dd,_destroy:st});let li;class Ii{constructor(){if(typeof window>"u")return;li=this;for(var Ee=arguments.length,Ve=new Array(Ee),bt=0;bt<Ee;bt++)Ve[bt]=arguments[bt];const Ei=Object.freeze(this.constructor.argsToParams(Ve));Object.defineProperties(this,{params:{value:Ei,writable:!1,enumerable:!0,configurable:!0}});const Tn=this._main(this.params);Wi.promise.set(this,Tn)}_main(Ee){let Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(Object.assign({},Ve,Ee)),qi.currentInstance&&(qi.currentInstance._destroy(),Re()&&ma()),qi.currentInstance=this;const bt=zi(Ee,Ve);Sd(bt),Object.freeze(bt),qi.timeout&&(qi.timeout.stop(),delete qi.timeout),clearTimeout(qi.restoreFocusTimeout);const Ei=Bn(this);return ho(this,bt),Wi.innerParams.set(this,bt),rn(this,Ei,bt)}then(Ee){return Wi.promise.get(this).then(Ee)}finally(Ee){return Wi.promise.get(this).finally(Ee)}}const rn=(we,Ee,Ve)=>new Promise((bt,Ei)=>{const Tn=br=>{we.closePopup({isDismissed:!0,dismiss:br})};ac.swalPromiseResolve.set(we,bt),ac.swalPromiseReject.set(we,Ei),Ee.confirmButton.onclick=()=>gi(we),Ee.denyButton.onclick=()=>ki(we),Ee.cancelButton.onclick=()=>oi(we,Tn),Ee.closeButton.onclick=()=>Tn(Ho.close),fr(we,Ee,Tn),_o(we,qi,Ve,Tn),Z(we,Ve),au(Ve),jn(qi,Ve,Tn),$n(Ee,Ve),setTimeout(()=>{Ee.container.scrollTop=0})}),zi=(we,Ee)=>{const Ve=xl(we),bt=Object.assign({},O,Ee,Ve,we);return bt.showClass=Object.assign({},O.showClass,bt.showClass),bt.hideClass=Object.assign({},O.hideClass,bt.hideClass),bt},Bn=we=>{const Ee={popup:A(),container:f(),actions:ne(),confirmButton:F(),denyButton:Q(),cancelButton:Ce(),loader:ue(),closeButton:oe(),validationMessage:fe(),progressSteps:pe()};return Wi.domCache.set(we,Ee),Ee},jn=(we,Ee,Ve)=>{const bt=_e();fi(bt),Ee.timer&&(we.timeout=new Ys(()=>{Ve("timer"),delete we.timeout},Ee.timer),Ee.timerProgressBar&&(Wt(bt),Ie(bt,Ee,"timerProgressBar"),setTimeout(()=>{we.timeout&&we.timeout.running&&Wn(Ee.timer)})))},$n=(we,Ee)=>{if(!Ee.toast){if(!k(Ee.allowEnterKey))return Er();rr(we,Ee)||ra(Ee,-1,1)}},rr=(we,Ee)=>Ee.focusDeny&&Lt(we.denyButton)?(we.denyButton.focus(),!0):Ee.focusCancel&&Lt(we.cancelButton)?(we.cancelButton.focus(),!0):Ee.focusConfirm&&Lt(we.confirmButton)?(we.confirmButton.focus(),!0):!1,Er=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(Ii.prototype,Vt),Object.assign(Ii,Sc),Object.keys(Vt).forEach(we=>{Ii[we]=function(){if(li)return li[we](...arguments)}}),Ii.DismissReason=Ho,Ii.version="11.4.0";const In=Ii;return In.default=In,In}),typeof Jp<"u"&&Jp.Sweetalert2&&(Jp.swal=Jp.sweetAlert=Jp.Swal=Jp.SweetAlert=Jp.Sweetalert2)})(t4);var ux=t4.exports;class zz{static install(t,i={}){var r;const o=ux.mixin(i),d=function(...h){return o.fire.call(o,...h)};Object.assign(d,ux),Object.keys(ux).filter(h=>typeof ux[h]=="function").forEach(h=>{d[h]=o[h].bind(o)}),(r=t.config)!=null&&r.globalProperties&&!t.config.globalProperties.$swal?(t.config.globalProperties.$swal=d,t.provide("$swal",d)):Object.prototype.hasOwnProperty.call(t,"$swal")||(t.prototype.$swal=d,t.swal=d)}}function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function hr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function qn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function pr(e){qn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||eu(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Qh(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return isNaN(r)?new Date(NaN):(r&&i.setDate(i.getDate()+r),i)}function lh(e,t){qn(2,arguments);var i=pr(e),r=hr(t);if(isNaN(r))return new Date(NaN);if(!r)return i;var o=i.getDate(),d=new Date(i.getTime());d.setMonth(i.getMonth()+r+1,0);var h=d.getDate();return o>=h?d:(i.setFullYear(d.getFullYear(),d.getMonth(),o),i)}function i4(e,t){if(qn(2,arguments),!t||eu(t)!=="object")return new Date(NaN);var i=t.years?hr(t.years):0,r=t.months?hr(t.months):0,o=t.weeks?hr(t.weeks):0,d=t.days?hr(t.days):0,h=t.hours?hr(t.hours):0,s=t.minutes?hr(t.minutes):0,v=t.seconds?hr(t.seconds):0,R=pr(e),K=r||i?lh(R,r+i*12):R,k=d||o?Qh(K,d+o*7):K,z=s+h*60,q=v+z*60,L=q*1e3,O=new Date(k.getTime()+L);return O}function Nz(e,t){qn(2,arguments);var i=pr(e).getTime(),r=hr(t);return new Date(i+r)}var Fz={};function mh(){return Fz}function X0(e,t){var i,r,o,d,h,s,v,R;qn(1,arguments);var K=mh(),k=hr((i=(r=(o=(d=t==null?void 0:t.weekStartsOn)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:K.weekStartsOn)!==null&&r!==void 0?r:(v=K.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&i!==void 0?i:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var z=pr(e),q=z.getDay(),L=(q<k?7:0)+q-k;return z.setDate(z.getDate()-L),z.setHours(0,0,0,0),z}function sb(e){return qn(1,arguments),X0(e,{weekStartsOn:1})}function jz(e){qn(1,arguments);var t=pr(e),i=t.getFullYear(),r=new Date(0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);var o=sb(r),d=new Date(0);d.setFullYear(i,0,4),d.setHours(0,0,0,0);var h=sb(d);return t.getTime()>=o.getTime()?i+1:t.getTime()>=h.getTime()?i:i-1}function Uz(e){qn(1,arguments);var t=jz(e),i=new Date(0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);var r=sb(i);return r}function ob(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function vE(e){qn(1,arguments);var t=pr(e);return t.setHours(0,0,0,0),t}var $z=864e5;function Vz(e,t){qn(2,arguments);var i=vE(e),r=vE(t),o=i.getTime()-ob(i),d=r.getTime()-ob(r);return Math.round((o-d)/$z)}function n4(e,t){qn(2,arguments);var i=hr(t);return lh(e,i*12)}var TC=6e4,SC=36e5,Gz=1e3;function r4(e){return qn(1,arguments),e instanceof Date||eu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Vy(e){if(qn(1,arguments),!r4(e)&&typeof e!="number")return!1;var t=pr(e);return!isNaN(Number(t))}function xE(e,t){var i;qn(1,arguments);var r=e||{},o=pr(r.start),d=pr(r.end),h=d.getTime();if(!(o.getTime()<=h))throw new RangeError("Invalid interval");var s=[],v=o;v.setHours(0,0,0,0);var R=Number((i=t==null?void 0:t.step)!==null&&i!==void 0?i:1);if(R<1||isNaN(R))throw new RangeError("`options.step` must be a number greater than 1");for(;v.getTime()<=h;)s.push(pr(v)),v.setDate(v.getDate()+R),v.setHours(0,0,0,0);return s}function Hz(e,t){var i,r,o,d,h,s,v,R;qn(1,arguments);var K=mh(),k=hr((i=(r=(o=(d=t==null?void 0:t.weekStartsOn)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:K.weekStartsOn)!==null&&r!==void 0?r:(v=K.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&i!==void 0?i:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var z=pr(e),q=z.getDay(),L=(q<k?-7:0)+6-(q-k);return z.setDate(z.getDate()+L),z.setHours(23,59,59,999),z}function s4(e,t){qn(2,arguments);var i=hr(t);return Nz(e,-i)}var Wz=864e5;function Yz(e){qn(1,arguments);var t=pr(e),i=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=i-r;return Math.floor(o/Wz)+1}function Bg(e){qn(1,arguments);var t=1,i=pr(e),r=i.getUTCDay(),o=(r<t?7:0)+r-t;return i.setUTCDate(i.getUTCDate()-o),i.setUTCHours(0,0,0,0),i}function o4(e){qn(1,arguments);var t=pr(e),i=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(i+1,0,4),r.setUTCHours(0,0,0,0);var o=Bg(r),d=new Date(0);d.setUTCFullYear(i,0,4),d.setUTCHours(0,0,0,0);var h=Bg(d);return t.getTime()>=o.getTime()?i+1:t.getTime()>=h.getTime()?i:i-1}function qz(e){qn(1,arguments);var t=o4(e),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var r=Bg(i);return r}var Xz=6048e5;function a4(e){qn(1,arguments);var t=pr(e),i=Bg(t).getTime()-qz(t).getTime();return Math.round(i/Xz)+1}function Z0(e,t){var i,r,o,d,h,s,v,R;qn(1,arguments);var K=mh(),k=hr((i=(r=(o=(d=t==null?void 0:t.weekStartsOn)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:K.weekStartsOn)!==null&&r!==void 0?r:(v=K.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&i!==void 0?i:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var z=pr(e),q=z.getUTCDay(),L=(q<k?7:0)+q-k;return z.setUTCDate(z.getUTCDate()-L),z.setUTCHours(0,0,0,0),z}function CC(e,t){var i,r,o,d,h,s,v,R;qn(1,arguments);var K=pr(e),k=K.getUTCFullYear(),z=mh(),q=hr((i=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:z.firstWeekContainsDate)!==null&&r!==void 0?r:(v=z.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=new Date(0);L.setUTCFullYear(k+1,0,q),L.setUTCHours(0,0,0,0);var O=Z0(L,t),G=new Date(0);G.setUTCFullYear(k,0,q),G.setUTCHours(0,0,0,0);var M=Z0(G,t);return K.getTime()>=O.getTime()?k+1:K.getTime()>=M.getTime()?k:k-1}function Zz(e,t){var i,r,o,d,h,s,v,R;qn(1,arguments);var K=mh(),k=hr((i=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:K.firstWeekContainsDate)!==null&&r!==void 0?r:(v=K.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&i!==void 0?i:1),z=CC(e,t),q=new Date(0);q.setUTCFullYear(z,0,k),q.setUTCHours(0,0,0,0);var L=Z0(q,t);return L}var Kz=6048e5;function l4(e,t){qn(1,arguments);var i=pr(e),r=Z0(i,t).getTime()-Zz(i,t).getTime();return Math.round(r/Kz)+1}function $s(e,t){for(var i=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return i+r}var Jz={y:function(t,i){var r=t.getUTCFullYear(),o=r>0?r:1-r;return $s(i==="yy"?o%100:o,i.length)},M:function(t,i){var r=t.getUTCMonth();return i==="M"?String(r+1):$s(r+1,2)},d:function(t,i){return $s(t.getUTCDate(),i.length)},a:function(t,i){var r=t.getUTCHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,i){return $s(t.getUTCHours()%12||12,i.length)},H:function(t,i){return $s(t.getUTCHours(),i.length)},m:function(t,i){return $s(t.getUTCMinutes(),i.length)},s:function(t,i){return $s(t.getUTCSeconds(),i.length)},S:function(t,i){var r=i.length,o=t.getUTCMilliseconds(),d=Math.floor(o*Math.pow(10,r-3));return $s(d,i.length)}};const Qp=Jz;var dg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qz={G:function(t,i,r){var o=t.getUTCFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,i,r){if(i==="yo"){var o=t.getUTCFullYear(),d=o>0?o:1-o;return r.ordinalNumber(d,{unit:"year"})}return Qp.y(t,i)},Y:function(t,i,r,o){var d=CC(t,o),h=d>0?d:1-d;if(i==="YY"){var s=h%100;return $s(s,2)}return i==="Yo"?r.ordinalNumber(h,{unit:"year"}):$s(h,i.length)},R:function(t,i){var r=o4(t);return $s(r,i.length)},u:function(t,i){var r=t.getUTCFullYear();return $s(r,i.length)},Q:function(t,i,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(i){case"Q":return String(o);case"QQ":return $s(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,i,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(i){case"q":return String(o);case"qq":return $s(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,i,r){var o=t.getUTCMonth();switch(i){case"M":case"MM":return Qp.M(t,i);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,i,r){var o=t.getUTCMonth();switch(i){case"L":return String(o+1);case"LL":return $s(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,i,r,o){var d=l4(t,o);return i==="wo"?r.ordinalNumber(d,{unit:"week"}):$s(d,i.length)},I:function(t,i,r){var o=a4(t);return i==="Io"?r.ordinalNumber(o,{unit:"week"}):$s(o,i.length)},d:function(t,i,r){return i==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Qp.d(t,i)},D:function(t,i,r){var o=Yz(t);return i==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):$s(o,i.length)},E:function(t,i,r){var o=t.getUTCDay();switch(i){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,i,r,o){var d=t.getUTCDay(),h=(d-o.weekStartsOn+8)%7||7;switch(i){case"e":return String(h);case"ee":return $s(h,2);case"eo":return r.ordinalNumber(h,{unit:"day"});case"eee":return r.day(d,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(d,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(d,{width:"short",context:"formatting"});case"eeee":default:return r.day(d,{width:"wide",context:"formatting"})}},c:function(t,i,r,o){var d=t.getUTCDay(),h=(d-o.weekStartsOn+8)%7||7;switch(i){case"c":return String(h);case"cc":return $s(h,i.length);case"co":return r.ordinalNumber(h,{unit:"day"});case"ccc":return r.day(d,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(d,{width:"narrow",context:"standalone"});case"cccccc":return r.day(d,{width:"short",context:"standalone"});case"cccc":default:return r.day(d,{width:"wide",context:"standalone"})}},i:function(t,i,r){var o=t.getUTCDay(),d=o===0?7:o;switch(i){case"i":return String(d);case"ii":return $s(d,i.length);case"io":return r.ordinalNumber(d,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,i,r){var o=t.getUTCHours(),d=o/12>=1?"pm":"am";switch(i){case"a":case"aa":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(d,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(d,{width:"wide",context:"formatting"})}},b:function(t,i,r){var o=t.getUTCHours(),d;switch(o===12?d=dg.noon:o===0?d=dg.midnight:d=o/12>=1?"pm":"am",i){case"b":case"bb":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(d,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(d,{width:"wide",context:"formatting"})}},B:function(t,i,r){var o=t.getUTCHours(),d;switch(o>=17?d=dg.evening:o>=12?d=dg.afternoon:o>=4?d=dg.morning:d=dg.night,i){case"B":case"BB":case"BBB":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(d,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(d,{width:"wide",context:"formatting"})}},h:function(t,i,r){if(i==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Qp.h(t,i)},H:function(t,i,r){return i==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Qp.H(t,i)},K:function(t,i,r){var o=t.getUTCHours()%12;return i==="Ko"?r.ordinalNumber(o,{unit:"hour"}):$s(o,i.length)},k:function(t,i,r){var o=t.getUTCHours();return o===0&&(o=24),i==="ko"?r.ordinalNumber(o,{unit:"hour"}):$s(o,i.length)},m:function(t,i,r){return i==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Qp.m(t,i)},s:function(t,i,r){return i==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Qp.s(t,i)},S:function(t,i){return Qp.S(t,i)},X:function(t,i,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();if(h===0)return"Z";switch(i){case"X":return wE(h);case"XXXX":case"XX":return E0(h);case"XXXXX":case"XXX":default:return E0(h,":")}},x:function(t,i,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();switch(i){case"x":return wE(h);case"xxxx":case"xx":return E0(h);case"xxxxx":case"xxx":default:return E0(h,":")}},O:function(t,i,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+bE(h,":");case"OOOO":default:return"GMT"+E0(h,":")}},z:function(t,i,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+bE(h,":");case"zzzz":default:return"GMT"+E0(h,":")}},t:function(t,i,r,o){var d=o._originalDate||t,h=Math.floor(d.getTime()/1e3);return $s(h,i.length)},T:function(t,i,r,o){var d=o._originalDate||t,h=d.getTime();return $s(h,i.length)}};function bE(e,t){var i=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),d=r%60;if(d===0)return i+String(o);var h=t||"";return i+String(o)+h+$s(d,2)}function wE(e,t){if(e%60===0){var i=e>0?"-":"+";return i+$s(Math.abs(e)/60,2)}return E0(e,t)}function E0(e,t){var i=t||"",r=e>0?"-":"+",o=Math.abs(e),d=$s(Math.floor(o/60),2),h=$s(o%60,2);return r+d+i+h}const eN=Qz;var TE=function(t,i){switch(t){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}},c4=function(t,i){switch(t){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}},tN=function(t,i){var r=t.match(/(P+)(p+)?/)||[],o=r[1],d=r[2];if(!d)return TE(t,i);var h;switch(o){case"P":h=i.dateTime({width:"short"});break;case"PP":h=i.dateTime({width:"medium"});break;case"PPP":h=i.dateTime({width:"long"});break;case"PPPP":default:h=i.dateTime({width:"full"});break}return h.replace("{{date}}",TE(o,i)).replace("{{time}}",c4(d,i))},iN={p:c4,P:tN};const AT=iN;var nN=["D","DD"],rN=["YY","YYYY"];function d4(e){return nN.indexOf(e)!==-1}function u4(e){return rN.indexOf(e)!==-1}function ab(e,t,i){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var sN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oN=function(t,i,r){var o,d=sN[t];return typeof d=="string"?o=d:i===1?o=d.one:o=d.other.replace("{{count}}",i.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const aN=oN;function _3(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.width?String(t.width):e.defaultWidth,r=e.formats[i]||e.formats[e.defaultWidth];return r}}var lN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uN={date:_3({formats:lN,defaultWidth:"full"}),time:_3({formats:cN,defaultWidth:"full"}),dateTime:_3({formats:dN,defaultWidth:"full"})};const hN=uN;var pN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fN=function(t,i,r,o){return pN[t]};const mN=fN;function ky(e){return function(t,i){var r=i!=null&&i.context?String(i.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var d=e.defaultFormattingWidth||e.defaultWidth,h=i!=null&&i.width?String(i.width):d;o=e.formattingValues[h]||e.formattingValues[d]}else{var s=e.defaultWidth,v=i!=null&&i.width?String(i.width):e.defaultWidth;o=e.values[v]||e.values[s]}var R=e.argumentCallback?e.argumentCallback(t):t;return o[R]}}var gN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_N={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wN=function(t,i){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},TN={ordinalNumber:wN,era:ky({values:gN,defaultWidth:"wide"}),quarter:ky({values:yN,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ky({values:_N,defaultWidth:"wide"}),day:ky({values:vN,defaultWidth:"wide"}),dayPeriod:ky({values:xN,defaultWidth:"wide",formattingValues:bN,defaultFormattingWidth:"wide"})};const SN=TN;function Ay(e){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],d=t.match(o);if(!d)return null;var h=d[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(s)?EN(s,function(k){return k.test(h)}):CN(s,function(k){return k.test(h)}),R;R=e.valueCallback?e.valueCallback(v):v,R=i.valueCallback?i.valueCallback(R):R;var K=t.slice(h.length);return{value:R,rest:K}}}function CN(e,t){for(var i in e)if(e.hasOwnProperty(i)&&t(e[i]))return i}function EN(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return i}function MN(e){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],d=t.match(e.parsePattern);if(!d)return null;var h=e.valueCallback?e.valueCallback(d[0]):d[0];h=i.valueCallback?i.valueCallback(h):h;var s=t.slice(o.length);return{value:h,rest:s}}}var kN=/^(\d+)(th|st|nd|rd)?/i,AN=/\d+/i,PN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DN={any:[/^b/i,/^(a|c)/i]},IN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LN={any:[/1/i,/2/i,/3/i,/4/i]},ON={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jN={ordinalNumber:MN({matchPattern:kN,parsePattern:AN,valueCallback:function(t){return parseInt(t,10)}}),era:Ay({matchPatterns:PN,defaultMatchWidth:"wide",parsePatterns:DN,defaultParseWidth:"any"}),quarter:Ay({matchPatterns:IN,defaultMatchWidth:"wide",parsePatterns:LN,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ay({matchPatterns:ON,defaultMatchWidth:"wide",parsePatterns:RN,defaultParseWidth:"any"}),day:Ay({matchPatterns:BN,defaultMatchWidth:"wide",parsePatterns:zN,defaultParseWidth:"any"}),dayPeriod:Ay({matchPatterns:NN,defaultMatchWidth:"any",parsePatterns:FN,defaultParseWidth:"any"})};const UN=jN;var $N={code:"en-US",formatDistance:aN,formatLong:hN,formatRelative:mN,localize:SN,match:UN,options:{weekStartsOn:0,firstWeekContainsDate:1}};const h4=$N;var VN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HN=/^'([^]*?)'?$/,WN=/''/g,YN=/[a-zA-Z]/;function G0(e,t,i){var r,o,d,h,s,v,R,K,k,z,q,L,O,G,M,S,D,H;qn(2,arguments);var U=String(t),E=mh(),ie=(r=(o=i==null?void 0:i.locale)!==null&&o!==void 0?o:E.locale)!==null&&r!==void 0?r:h4,te=hr((d=(h=(s=(v=i==null?void 0:i.firstWeekContainsDate)!==null&&v!==void 0?v:i==null||(R=i.locale)===null||R===void 0||(K=R.options)===null||K===void 0?void 0:K.firstWeekContainsDate)!==null&&s!==void 0?s:E.firstWeekContainsDate)!==null&&h!==void 0?h:(k=E.locale)===null||k===void 0||(z=k.options)===null||z===void 0?void 0:z.firstWeekContainsDate)!==null&&d!==void 0?d:1);if(!(te>=1&&te<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=hr((q=(L=(O=(G=i==null?void 0:i.weekStartsOn)!==null&&G!==void 0?G:i==null||(M=i.locale)===null||M===void 0||(S=M.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&O!==void 0?O:E.weekStartsOn)!==null&&L!==void 0?L:(D=E.locale)===null||D===void 0||(H=D.options)===null||H===void 0?void 0:H.weekStartsOn)!==null&&q!==void 0?q:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ie.localize)throw new RangeError("locale must contain localize property");if(!ie.formatLong)throw new RangeError("locale must contain formatLong property");var V=pr(e);if(!Vy(V))throw new RangeError("Invalid time value");var j=ob(V),x=s4(V,j),P={firstWeekContainsDate:te,weekStartsOn:$,locale:ie,_originalDate:V},f=U.match(GN).map(function(g){var b=g[0];if(b==="p"||b==="P"){var A=AT[b];return A(g,ie.formatLong)}return g}).join("").match(VN).map(function(g){if(g==="''")return"'";var b=g[0];if(b==="'")return qN(g);var A=eN[b];if(A)return!(i!=null&&i.useAdditionalWeekYearTokens)&&u4(g)&&ab(g,t,String(e)),!(i!=null&&i.useAdditionalDayOfYearTokens)&&d4(g)&&ab(g,t,String(e)),A(x,g,ie.localize,P);if(b.match(YN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return g}).join("");return f}function qN(e){var t=e.match(HN);return t?t[1].replace(WN,"'"):e}function XN(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function ZN(e){qn(1,arguments);var t=pr(e),i=t.getDay();return i}function KN(e){qn(1,arguments);var t=pr(e),i=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(i,r+1,0),o.setHours(0,0,0,0),o.getDate()}function Xh(e){qn(1,arguments);var t=pr(e),i=t.getHours();return i}var JN=6048e5;function QN(e){qn(1,arguments);var t=pr(e),i=sb(t).getTime()-Uz(t).getTime();return Math.round(i/JN)+1}function Zh(e){qn(1,arguments);var t=pr(e),i=t.getMinutes();return i}function fo(e){qn(1,arguments);var t=pr(e),i=t.getMonth();return i}function zg(e){qn(1,arguments);var t=pr(e),i=t.getSeconds();return i}function eF(e,t){var i,r,o,d,h,s,v,R;qn(1,arguments);var K=pr(e),k=K.getFullYear(),z=mh(),q=hr((i=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:z.firstWeekContainsDate)!==null&&r!==void 0?r:(v=z.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=new Date(0);L.setFullYear(k+1,0,q),L.setHours(0,0,0,0);var O=X0(L,t),G=new Date(0);G.setFullYear(k,0,q),G.setHours(0,0,0,0);var M=X0(G,t);return K.getTime()>=O.getTime()?k+1:K.getTime()>=M.getTime()?k:k-1}function tF(e,t){var i,r,o,d,h,s,v,R;qn(1,arguments);var K=mh(),k=hr((i=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:K.firstWeekContainsDate)!==null&&r!==void 0?r:(v=K.locale)===null||v===void 0||(R=v.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&i!==void 0?i:1),z=eF(e,t),q=new Date(0);q.setFullYear(z,0,k),q.setHours(0,0,0,0);var L=X0(q,t);return L}var iF=6048e5;function nF(e,t){qn(1,arguments);var i=pr(e),r=X0(i,t).getTime()-tF(i,t).getTime();return Math.round(r/iF)+1}function Mo(e){return qn(1,arguments),pr(e).getFullYear()}function o_(e,t){qn(2,arguments);var i=pr(e),r=pr(t);return i.getTime()>r.getTime()}function a_(e,t){qn(2,arguments);var i=pr(e),r=pr(t);return i.getTime()<r.getTime()}function O0(e,t){qn(2,arguments);var i=pr(e),r=pr(t);return i.getTime()===r.getTime()}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function rF(e,t){if(e){if(typeof e=="string")return SE(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return SE(e,t)}}function CE(e,t){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=rF(e))||t&&e&&typeof e.length=="number"){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(R){throw R},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=!0,h=!1,s;return{s:function(){i=i.call(e)},n:function(){var R=i.next();return d=R.done,R},e:function(R){h=!0,s=R},f:function(){try{!d&&i.return!=null&&i.return()}finally{if(h)throw s}}}}function Pn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PT(e,t){return PT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},PT(e,t)}function Ts(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PT(e,t)}function lb(e){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},lb(e)}function sF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oF(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pn(e)}function Ss(e){var t=sF();return function(){var r=lb(e),o;if(t){var d=lb(this).constructor;o=Reflect.construct(r,arguments,d)}else o=r.apply(this,arguments);return oF(this,o)}}function as(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aF(e,t){if(eu(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(eu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p4(e){var t=aF(e,"string");return eu(t)==="symbol"?t:String(t)}function EE(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p4(r.key),r)}}function ls(e,t,i){return t&&EE(e.prototype,t),i&&EE(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function En(e,t,i){return t=p4(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var lF=10,f4=function(){function e(){as(this,e),En(this,"priority",void 0),En(this,"subPriority",0)}return ls(e,[{key:"validate",value:function(i,r){return!0}}]),e}(),cF=function(e){Ts(i,e);var t=Ss(i);function i(r,o,d,h,s){var v;return as(this,i),v=t.call(this),v.value=r,v.validateValue=o,v.setValue=d,v.priority=h,s&&(v.subPriority=s),v}return ls(i,[{key:"validate",value:function(o,d){return this.validateValue(o,this.value,d)}},{key:"set",value:function(o,d,h){return this.setValue(o,d,this.value,h)}}]),i}(f4),dF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",lF),En(Pn(r),"subPriority",-1),r}return ls(i,[{key:"set",value:function(o,d){if(d.timestampIsSet)return o;var h=new Date(0);return h.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),h.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),h}}]),i}(f4),Ls=function(){function e(){as(this,e),En(this,"incompatibleTokens",void 0),En(this,"priority",void 0),En(this,"subPriority",void 0)}return ls(e,[{key:"run",value:function(i,r,o,d){var h=this.parse(i,r,o,d);return h?{setter:new cF(h.value,this.validate,this.set,this.priority,this.subPriority),rest:h.rest}:null}},{key:"validate",value:function(i,r,o){return!0}}]),e}(),uF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",140),En(Pn(r),"incompatibleTokens",["R","u","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"G":case"GG":case"GGG":return h.era(o,{width:"abbreviated"})||h.era(o,{width:"narrow"});case"GGGGG":return h.era(o,{width:"narrow"});case"GGGG":default:return h.era(o,{width:"wide"})||h.era(o,{width:"abbreviated"})||h.era(o,{width:"narrow"})}}},{key:"set",value:function(o,d,h){return d.era=h,o.setUTCFullYear(h,0,1),o.setUTCHours(0,0,0,0),o}}]),i}(Ls),pa={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},sh={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function fa(e,t){return e&&{value:t(e.value),rest:e.rest}}function Vo(e,t){var i=t.match(e);return i?{value:parseInt(i[0],10),rest:t.slice(i[0].length)}:null}function oh(e,t){var i=t.match(e);if(!i)return null;if(i[0]==="Z")return{value:0,rest:t.slice(1)};var r=i[1]==="+"?1:-1,o=i[2]?parseInt(i[2],10):0,d=i[3]?parseInt(i[3],10):0,h=i[5]?parseInt(i[5],10):0;return{value:r*(o*SC+d*TC+h*Gz),rest:t.slice(i[0].length)}}function m4(e){return Vo(pa.anyDigitsSigned,e)}function ea(e,t){switch(e){case 1:return Vo(pa.singleDigit,t);case 2:return Vo(pa.twoDigits,t);case 3:return Vo(pa.threeDigits,t);case 4:return Vo(pa.fourDigits,t);default:return Vo(new RegExp("^\\d{1,"+e+"}"),t)}}function cb(e,t){switch(e){case 1:return Vo(pa.singleDigitSigned,t);case 2:return Vo(pa.twoDigitsSigned,t);case 3:return Vo(pa.threeDigitsSigned,t);case 4:return Vo(pa.fourDigitsSigned,t);default:return Vo(new RegExp("^-?\\d{1,"+e+"}"),t)}}function EC(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function g4(e,t){var i=t>0,r=i?t:1-t,o;if(r<=50)o=e||100;else{var d=r+50,h=Math.floor(d/100)*100,s=e>=d%100;o=e+h-(s?100:0)}return i?o:1-o}function y4(e){return e%400===0||e%4===0&&e%100!==0}var hF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){var s=function(R){return{year:R,isTwoDigitYear:d==="yy"}};switch(d){case"y":return fa(ea(4,o),s);case"yo":return fa(h.ordinalNumber(o,{unit:"year"}),s);default:return fa(ea(d.length,o),s)}}},{key:"validate",value:function(o,d){return d.isTwoDigitYear||d.year>0}},{key:"set",value:function(o,d,h){var s=o.getUTCFullYear();if(h.isTwoDigitYear){var v=g4(h.year,s);return o.setUTCFullYear(v,0,1),o.setUTCHours(0,0,0,0),o}var R=!("era"in d)||d.era===1?h.year:1-h.year;return o.setUTCFullYear(R,0,1),o.setUTCHours(0,0,0,0),o}}]),i}(Ls),pF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){var s=function(R){return{year:R,isTwoDigitYear:d==="YY"}};switch(d){case"Y":return fa(ea(4,o),s);case"Yo":return fa(h.ordinalNumber(o,{unit:"year"}),s);default:return fa(ea(d.length,o),s)}}},{key:"validate",value:function(o,d){return d.isTwoDigitYear||d.year>0}},{key:"set",value:function(o,d,h,s){var v=CC(o,s);if(h.isTwoDigitYear){var R=g4(h.year,v);return o.setUTCFullYear(R,0,s.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Z0(o,s)}var K=!("era"in d)||d.era===1?h.year:1-h.year;return o.setUTCFullYear(K,0,s.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Z0(o,s)}}]),i}(Ls),fF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d){return cb(d==="R"?4:d.length,o)}},{key:"set",value:function(o,d,h){var s=new Date(0);return s.setUTCFullYear(h,0,4),s.setUTCHours(0,0,0,0),Bg(s)}}]),i}(Ls),mF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d){return cb(d==="u"?4:d.length,o)}},{key:"set",value:function(o,d,h){return o.setUTCFullYear(h,0,1),o.setUTCHours(0,0,0,0),o}}]),i}(Ls),gF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",120),En(Pn(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"Q":case"QQ":return ea(d.length,o);case"Qo":return h.ordinalNumber(o,{unit:"quarter"});case"QQQ":return h.quarter(o,{width:"abbreviated",context:"formatting"})||h.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return h.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(o,{width:"wide",context:"formatting"})||h.quarter(o,{width:"abbreviated",context:"formatting"})||h.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=1&&d<=4}},{key:"set",value:function(o,d,h){return o.setUTCMonth((h-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),i}(Ls),yF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",120),En(Pn(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"q":case"qq":return ea(d.length,o);case"qo":return h.ordinalNumber(o,{unit:"quarter"});case"qqq":return h.quarter(o,{width:"abbreviated",context:"standalone"})||h.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return h.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(o,{width:"wide",context:"standalone"})||h.quarter(o,{width:"abbreviated",context:"standalone"})||h.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,d){return d>=1&&d<=4}},{key:"set",value:function(o,d,h){return o.setUTCMonth((h-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),i}(Ls),_F=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),En(Pn(r),"priority",110),r}return ls(i,[{key:"parse",value:function(o,d,h){var s=function(R){return R-1};switch(d){case"M":return fa(Vo(pa.month,o),s);case"MM":return fa(ea(2,o),s);case"Mo":return fa(h.ordinalNumber(o,{unit:"month"}),s);case"MMM":return h.month(o,{width:"abbreviated",context:"formatting"})||h.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return h.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(o,{width:"wide",context:"formatting"})||h.month(o,{width:"abbreviated",context:"formatting"})||h.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=11}},{key:"set",value:function(o,d,h){return o.setUTCMonth(h,1),o.setUTCHours(0,0,0,0),o}}]),i}(Ls),vF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",110),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){var s=function(R){return R-1};switch(d){case"L":return fa(Vo(pa.month,o),s);case"LL":return fa(ea(2,o),s);case"Lo":return fa(h.ordinalNumber(o,{unit:"month"}),s);case"LLL":return h.month(o,{width:"abbreviated",context:"standalone"})||h.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return h.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(o,{width:"wide",context:"standalone"})||h.month(o,{width:"abbreviated",context:"standalone"})||h.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=11}},{key:"set",value:function(o,d,h){return o.setUTCMonth(h,1),o.setUTCHours(0,0,0,0),o}}]),i}(Ls);function xF(e,t,i){qn(2,arguments);var r=pr(e),o=hr(t),d=l4(r,i)-o;return r.setUTCDate(r.getUTCDate()-d*7),r}var bF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",100),En(Pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"w":return Vo(pa.week,o);case"wo":return h.ordinalNumber(o,{unit:"week"});default:return ea(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=53}},{key:"set",value:function(o,d,h,s){return Z0(xF(o,h,s),s)}}]),i}(Ls);function wF(e,t){qn(2,arguments);var i=pr(e),r=hr(t),o=a4(i)-r;return i.setUTCDate(i.getUTCDate()-o*7),i}var TF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",100),En(Pn(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"I":return Vo(pa.week,o);case"Io":return h.ordinalNumber(o,{unit:"week"});default:return ea(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=53}},{key:"set",value:function(o,d,h){return Bg(wF(o,h))}}]),i}(Ls),SF=[31,28,31,30,31,30,31,31,30,31,30,31],CF=[31,29,31,30,31,30,31,31,30,31,30,31],EF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"subPriority",1),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"d":return Vo(pa.date,o);case"do":return h.ordinalNumber(o,{unit:"date"});default:return ea(d.length,o)}}},{key:"validate",value:function(o,d){var h=o.getUTCFullYear(),s=y4(h),v=o.getUTCMonth();return s?d>=1&&d<=CF[v]:d>=1&&d<=SF[v]}},{key:"set",value:function(o,d,h){return o.setUTCDate(h),o.setUTCHours(0,0,0,0),o}}]),i}(Ls),MF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"subpriority",1),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"D":case"DD":return Vo(pa.dayOfYear,o);case"Do":return h.ordinalNumber(o,{unit:"date"});default:return ea(d.length,o)}}},{key:"validate",value:function(o,d){var h=o.getUTCFullYear(),s=y4(h);return s?d>=1&&d<=366:d>=1&&d<=365}},{key:"set",value:function(o,d,h){return o.setUTCMonth(0,h),o.setUTCHours(0,0,0,0),o}}]),i}(Ls);function MC(e,t,i){var r,o,d,h,s,v,R,K;qn(2,arguments);var k=mh(),z=hr((r=(o=(d=(h=i==null?void 0:i.weekStartsOn)!==null&&h!==void 0?h:i==null||(s=i.locale)===null||s===void 0||(v=s.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&d!==void 0?d:k.weekStartsOn)!==null&&o!==void 0?o:(R=k.locale)===null||R===void 0||(K=R.options)===null||K===void 0?void 0:K.weekStartsOn)!==null&&r!==void 0?r:0);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var q=pr(e),L=hr(t),O=q.getUTCDay(),G=L%7,M=(G+7)%7,S=(M<z?7:0)+L-O;return q.setUTCDate(q.getUTCDate()+S),q}var kF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"E":case"EE":case"EEE":return h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return h.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=6}},{key:"set",value:function(o,d,h,s){return o=MC(o,h,s),o.setUTCHours(0,0,0,0),o}}]),i}(Ls),AF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h,s){var v=function(K){var k=Math.floor((K-1)/7)*7;return(K+s.weekStartsOn+6)%7+k};switch(d){case"e":case"ee":return fa(ea(d.length,o),v);case"eo":return fa(h.ordinalNumber(o,{unit:"day"}),v);case"eee":return h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"eeeee":return h.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=6}},{key:"set",value:function(o,d,h,s){return o=MC(o,h,s),o.setUTCHours(0,0,0,0),o}}]),i}(Ls),PF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h,s){var v=function(K){var k=Math.floor((K-1)/7)*7;return(K+s.weekStartsOn+6)%7+k};switch(d){case"c":case"cc":return fa(ea(d.length,o),v);case"co":return fa(h.ordinalNumber(o,{unit:"day"}),v);case"ccc":return h.day(o,{width:"abbreviated",context:"standalone"})||h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"});case"ccccc":return h.day(o,{width:"narrow",context:"standalone"});case"cccccc":return h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return h.day(o,{width:"wide",context:"standalone"})||h.day(o,{width:"abbreviated",context:"standalone"})||h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=6}},{key:"set",value:function(o,d,h,s){return o=MC(o,h,s),o.setUTCHours(0,0,0,0),o}}]),i}(Ls);function DF(e,t){qn(2,arguments);var i=hr(t);i%7===0&&(i=i-7);var r=1,o=pr(e),d=o.getUTCDay(),h=i%7,s=(h+7)%7,v=(s<r?7:0)+i-d;return o.setUTCDate(o.getUTCDate()+v),o}var IF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){var s=function(R){return R===0?7:R};switch(d){case"i":case"ii":return ea(d.length,o);case"io":return h.ordinalNumber(o,{unit:"day"});case"iii":return fa(h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s);case"iiiii":return fa(h.day(o,{width:"narrow",context:"formatting"}),s);case"iiiiii":return fa(h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s);case"iiii":default:return fa(h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(o,d){return d>=1&&d<=7}},{key:"set",value:function(o,d,h){return o=DF(o,h),o.setUTCHours(0,0,0,0),o}}]),i}(Ls),LF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",80),En(Pn(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"a":case"aa":case"aaa":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,d,h){return o.setUTCHours(EC(h),0,0,0),o}}]),i}(Ls),OF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",80),En(Pn(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"b":case"bb":case"bbb":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,d,h){return o.setUTCHours(EC(h),0,0,0),o}}]),i}(Ls),RF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",80),En(Pn(r),"incompatibleTokens",["a","b","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"B":case"BB":case"BBB":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,d,h){return o.setUTCHours(EC(h),0,0,0),o}}]),i}(Ls),BF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["H","K","k","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"h":return Vo(pa.hour12h,o);case"ho":return h.ordinalNumber(o,{unit:"hour"});default:return ea(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=12}},{key:"set",value:function(o,d,h){var s=o.getUTCHours()>=12;return s&&h<12?o.setUTCHours(h+12,0,0,0):!s&&h===12?o.setUTCHours(0,0,0,0):o.setUTCHours(h,0,0,0),o}}]),i}(Ls),zF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"H":return Vo(pa.hour23h,o);case"Ho":return h.ordinalNumber(o,{unit:"hour"});default:return ea(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=23}},{key:"set",value:function(o,d,h){return o.setUTCHours(h,0,0,0),o}}]),i}(Ls),NF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["h","H","k","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"K":return Vo(pa.hour11h,o);case"Ko":return h.ordinalNumber(o,{unit:"hour"});default:return ea(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=11}},{key:"set",value:function(o,d,h){var s=o.getUTCHours()>=12;return s&&h<12?o.setUTCHours(h+12,0,0,0):o.setUTCHours(h,0,0,0),o}}]),i}(Ls),FF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"k":return Vo(pa.hour24h,o);case"ko":return h.ordinalNumber(o,{unit:"hour"});default:return ea(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=24}},{key:"set",value:function(o,d,h){var s=h<=24?h%24:h;return o.setUTCHours(s,0,0,0),o}}]),i}(Ls),jF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",60),En(Pn(r),"incompatibleTokens",["t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"m":return Vo(pa.minute,o);case"mo":return h.ordinalNumber(o,{unit:"minute"});default:return ea(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=59}},{key:"set",value:function(o,d,h){return o.setUTCMinutes(h,0,0),o}}]),i}(Ls),UF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",50),En(Pn(r),"incompatibleTokens",["t","T"]),r}return ls(i,[{key:"parse",value:function(o,d,h){switch(d){case"s":return Vo(pa.second,o);case"so":return h.ordinalNumber(o,{unit:"second"});default:return ea(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=59}},{key:"set",value:function(o,d,h){return o.setUTCSeconds(h,0),o}}]),i}(Ls),$F=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",30),En(Pn(r),"incompatibleTokens",["t","T"]),r}return ls(i,[{key:"parse",value:function(o,d){var h=function(v){return Math.floor(v*Math.pow(10,-d.length+3))};return fa(ea(d.length,o),h)}},{key:"set",value:function(o,d,h){return o.setUTCMilliseconds(h),o}}]),i}(Ls),VF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",10),En(Pn(r),"incompatibleTokens",["t","T","x"]),r}return ls(i,[{key:"parse",value:function(o,d){switch(d){case"X":return oh(sh.basicOptionalMinutes,o);case"XX":return oh(sh.basic,o);case"XXXX":return oh(sh.basicOptionalSeconds,o);case"XXXXX":return oh(sh.extendedOptionalSeconds,o);case"XXX":default:return oh(sh.extended,o)}}},{key:"set",value:function(o,d,h){return d.timestampIsSet?o:new Date(o.getTime()-h)}}]),i}(Ls),GF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",10),En(Pn(r),"incompatibleTokens",["t","T","X"]),r}return ls(i,[{key:"parse",value:function(o,d){switch(d){case"x":return oh(sh.basicOptionalMinutes,o);case"xx":return oh(sh.basic,o);case"xxxx":return oh(sh.basicOptionalSeconds,o);case"xxxxx":return oh(sh.extendedOptionalSeconds,o);case"xxx":default:return oh(sh.extended,o)}}},{key:"set",value:function(o,d,h){return d.timestampIsSet?o:new Date(o.getTime()-h)}}]),i}(Ls),HF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",40),En(Pn(r),"incompatibleTokens","*"),r}return ls(i,[{key:"parse",value:function(o){return m4(o)}},{key:"set",value:function(o,d,h){return[new Date(h*1e3),{timestampIsSet:!0}]}}]),i}(Ls),WF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",20),En(Pn(r),"incompatibleTokens","*"),r}return ls(i,[{key:"parse",value:function(o){return m4(o)}},{key:"set",value:function(o,d,h){return[new Date(h),{timestampIsSet:!0}]}}]),i}(Ls),YF={G:new uF,y:new hF,Y:new pF,R:new fF,u:new mF,Q:new gF,q:new yF,M:new _F,L:new vF,w:new bF,I:new TF,d:new EF,D:new MF,E:new kF,e:new AF,c:new PF,i:new IF,a:new LF,b:new OF,B:new RF,h:new BF,H:new zF,K:new NF,k:new FF,m:new jF,s:new UF,S:new $F,X:new VF,x:new GF,t:new HF,T:new WF},qF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZF=/^'([^]*?)'?$/,KF=/''/g,JF=/\S/,QF=/[a-zA-Z]/;function DT(e,t,i,r){var o,d,h,s,v,R,K,k,z,q,L,O,G,M,S,D,H,U;qn(3,arguments);var E=String(e),ie=String(t),te=mh(),$=(o=(d=r==null?void 0:r.locale)!==null&&d!==void 0?d:te.locale)!==null&&o!==void 0?o:h4;if(!$.match)throw new RangeError("locale must contain match property");var V=hr((h=(s=(v=(R=r==null?void 0:r.firstWeekContainsDate)!==null&&R!==void 0?R:r==null||(K=r.locale)===null||K===void 0||(k=K.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&v!==void 0?v:te.firstWeekContainsDate)!==null&&s!==void 0?s:(z=te.locale)===null||z===void 0||(q=z.options)===null||q===void 0?void 0:q.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=hr((L=(O=(G=(M=r==null?void 0:r.weekStartsOn)!==null&&M!==void 0?M:r==null||(S=r.locale)===null||S===void 0||(D=S.options)===null||D===void 0?void 0:D.weekStartsOn)!==null&&G!==void 0?G:te.weekStartsOn)!==null&&O!==void 0?O:(H=te.locale)===null||H===void 0||(U=H.options)===null||U===void 0?void 0:U.weekStartsOn)!==null&&L!==void 0?L:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(ie==="")return E===""?pr(i):new Date(NaN);var x={firstWeekContainsDate:V,weekStartsOn:j,locale:$},P=[new dF],f=ie.match(XF).map(function(Ce){var ne=Ce[0];if(ne in AT){var ve=AT[ne];return ve(Ce,$.formatLong)}return Ce}).join("").match(qF),g=[],b=CE(f),A;try{var X=function(){var ne=A.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&u4(ne)&&ab(ne,ie,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&d4(ne)&&ab(ne,ie,e);var ve=ne[0],_e=YF[ve];if(_e){var oe=_e.incompatibleTokens;if(Array.isArray(oe)){var ye=g.find(function(Re){return oe.includes(Re.token)||Re.token===ve});if(ye)throw new RangeError("The format string mustn't contain `".concat(ye.fullToken,"` and `").concat(ne,"` at the same time"))}else if(_e.incompatibleTokens==="*"&&g.length>0)throw new RangeError("The format string mustn't contain `".concat(ne,"` and any other token at the same time"));g.push({token:ve,fullToken:ne});var Se=_e.run(E,ne,$.match,x);if(!Se)return{v:new Date(NaN)};P.push(Se.setter),E=Se.rest}else{if(ve.match(QF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ve+"`");if(ne==="''"?ne="'":ve==="'"&&(ne=ej(ne)),E.indexOf(ne)===0)E=E.slice(ne.length);else return{v:new Date(NaN)}}};for(b.s();!(A=b.n()).done;){var Y=X();if(eu(Y)==="object")return Y.v}}catch(Ce){b.e(Ce)}finally{b.f()}if(E.length>0&&JF.test(E))return new Date(NaN);var J=P.map(function(Ce){return Ce.priority}).sort(function(Ce,ne){return ne-Ce}).filter(function(Ce,ne,ve){return ve.indexOf(Ce)===ne}).map(function(Ce){return P.filter(function(ne){return ne.priority===Ce}).sort(function(ne,ve){return ve.subPriority-ne.subPriority})}).map(function(Ce){return Ce[0]}),ce=pr(i);if(isNaN(ce.getTime()))return new Date(NaN);var pe=s4(ce,ob(ce)),fe={},F=CE(J),Q;try{for(F.s();!(Q=F.n()).done;){var se=Q.value;if(!se.validate(pe,x))return new Date(NaN);var ue=se.set(pe,fe,x);Array.isArray(ue)?(pe=ue[0],XN(fe,ue[1])):pe=ue}}catch(Ce){F.e(Ce)}finally{F.f()}return pe}function ej(e){return e.match(ZF)[1].replace(KF,"'")}function tj(e,t){qn(2,arguments);var i=hr(t);return Qh(e,-i)}function ij(e,t){var i;qn(1,arguments);var r=hr((i=t==null?void 0:t.additionalDigits)!==null&&i!==void 0?i:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=oj(e),d;if(o.date){var h=aj(o.date,r);d=lj(h.restDateString,h.year)}if(!d||isNaN(d.getTime()))return new Date(NaN);var s=d.getTime(),v=0,R;if(o.time&&(v=cj(o.time),isNaN(v)))return new Date(NaN);if(o.timezone){if(R=dj(o.timezone),isNaN(R))return new Date(NaN)}else{var K=new Date(s+v),k=new Date(0);return k.setFullYear(K.getUTCFullYear(),K.getUTCMonth(),K.getUTCDate()),k.setHours(K.getUTCHours(),K.getUTCMinutes(),K.getUTCSeconds(),K.getUTCMilliseconds()),k}return new Date(s+v+R)}var hx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},nj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function oj(e){var t={},i=e.split(hx.dateTimeDelimiter),r;if(i.length>2)return t;if(/:/.test(i[0])?r=i[0]:(t.date=i[0],r=i[1],hx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(hx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=hx.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function aj(e,t){var i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(i);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,d=r[2]?parseInt(r[2]):null;return{year:d===null?o:d*100,restDateString:e.slice((r[1]||r[2]).length)}}function lj(e,t){if(t===null)return new Date(NaN);var i=e.match(nj);if(!i)return new Date(NaN);var r=!!i[4],o=Py(i[1]),d=Py(i[2])-1,h=Py(i[3]),s=Py(i[4]),v=Py(i[5])-1;if(r)return mj(t,s,v)?uj(t,s,v):new Date(NaN);var R=new Date(0);return!pj(t,d,h)||!fj(t,o)?new Date(NaN):(R.setUTCFullYear(t,d,Math.max(o,h)),R)}function Py(e){return e?parseInt(e):1}function cj(e){var t=e.match(rj);if(!t)return NaN;var i=v3(t[1]),r=v3(t[2]),o=v3(t[3]);return gj(i,r,o)?i*SC+r*TC+o*1e3:NaN}function v3(e){return e&&parseFloat(e.replace(",","."))||0}function dj(e){if(e==="Z")return 0;var t=e.match(sj);if(!t)return 0;var i=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return yj(r,o)?i*(r*SC+o*TC):NaN}function uj(e,t,i){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,d=(t-1)*7+i+1-o;return r.setUTCDate(r.getUTCDate()+d),r}var hj=[31,null,31,30,31,30,31,31,30,31,30,31];function _4(e){return e%400===0||e%4===0&&e%100!==0}function pj(e,t,i){return t>=0&&t<=11&&i>=1&&i<=(hj[t]||(_4(e)?29:28))}function fj(e,t){return t>=1&&t<=(_4(e)?366:365)}function mj(e,t,i){return t>=1&&t<=53&&i>=0&&i<=6}function gj(e,t,i){return e===24?t===0&&i===0:i>=0&&i<60&&t>=0&&t<60&&e>=0&&e<25}function yj(e,t){return t>=0&&t<=59}function mg(e,t){qn(2,arguments);var i=pr(e),r=hr(t),o=i.getFullYear(),d=i.getDate(),h=new Date(0);h.setFullYear(o,r,15),h.setHours(0,0,0,0);var s=KN(h);return i.setMonth(r,Math.min(d,s)),i}function il(e,t){if(qn(2,arguments),eu(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var i=pr(e);return isNaN(i.getTime())?new Date(NaN):(t.year!=null&&i.setFullYear(t.year),t.month!=null&&(i=mg(i,t.month)),t.date!=null&&i.setDate(hr(t.date)),t.hours!=null&&i.setHours(hr(t.hours)),t.minutes!=null&&i.setMinutes(hr(t.minutes)),t.seconds!=null&&i.setSeconds(hr(t.seconds)),t.milliseconds!=null&&i.setMilliseconds(hr(t.milliseconds)),i)}function v4(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return i.setHours(r),i}function kC(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return i.setMilliseconds(r),i}function x4(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return i.setMinutes(r),i}function b4(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return i.setSeconds(r),i}function ep(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return isNaN(i.getTime())?new Date(NaN):(i.setFullYear(r),i)}function Sg(e,t){qn(2,arguments);var i=hr(t);return lh(e,-i)}function _j(e,t){if(qn(2,arguments),!t||eu(t)!=="object")return new Date(NaN);var i=t.years?hr(t.years):0,r=t.months?hr(t.months):0,o=t.weeks?hr(t.weeks):0,d=t.days?hr(t.days):0,h=t.hours?hr(t.hours):0,s=t.minutes?hr(t.minutes):0,v=t.seconds?hr(t.seconds):0,R=Sg(e,r+i*12),K=tj(R,d+o*7),k=s+h*60,z=v+k*60,q=z*1e3,L=new Date(K.getTime()-q);return L}function vj(e,t){qn(2,arguments);var i=hr(t);return n4(e,-i)}function a2(){return dt(),vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ne("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ne("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ne("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ne("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function xj(){return dt(),vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ne("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ne("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function ME(){return dt(),vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ne("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function kE(){return dt(),vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ne("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function w4(){return dt(),vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ne("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ne("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function T4(){return dt(),vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ne("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function S4(){return dt(),vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ne("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const AE=(e,t,i,r,o)=>{const d=DT(e,t.slice(0,e.length),new Date);return Vy(d)&&r4(d)?r||o?d:il(d,{hours:+i.hours,minutes:+(i==null?void 0:i.minutes),seconds:+(i==null?void 0:i.seconds),milliseconds:0}):null},bj=(e,t,i,r,o)=>{const d=Array.isArray(i)?i[0]:i;if(typeof t=="string")return AE(e,t,d,r,o);if(Array.isArray(t)){let h=null;for(const s of t)if(h=AE(e,s,d,r,o),h)break;return h}return typeof t=="function"?t(e):null},Xi=e=>e?new Date(e):new Date,wj=(e,t,i)=>{if(t){const o=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getDate().toString().padStart(2,"0"),h=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),v=i?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${o}-${d}T${h}:${s}:${v}.000Z`}const r=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(r).toISOString()},Jd=e=>{let t=Xi(JSON.parse(JSON.stringify(e)));return t=v4(t,0),t=x4(t,0),t=b4(t,0),t=kC(t,0),t},Yd=(e,t,i,r)=>{let o=e?Xi(e):Xi();return(t||t===0)&&(o=v4(o,+t)),(i||i===0)&&(o=x4(o,+i)),(r||r===0)&&(o=b4(o,+r)),kC(o,0)},Fl=(e,t)=>!e||!t?!1:a_(Jd(e),Jd(t)),Vs=(e,t)=>!e||!t?!1:O0(Jd(e),Jd(t)),vc=(e,t)=>!e||!t?!1:o_(Jd(e),Jd(t)),C4=(e,t,i)=>e&&e[0]&&e[1]?vc(i,e[0])&&Fl(i,e[1]):e&&e[0]&&t?vc(i,e[0])&&Fl(i,t)||Fl(i,e[0])&&vc(i,t):!1,Dy=e=>{const t=il(new Date(e),{date:1});return Jd(t)},x3=(e,t,i)=>t&&(i||i===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===t?[r,i]:[r,isNaN(+e[r])?void 0:+e[r]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},px=e=>({hours:Xh(e),minutes:Zh(e),seconds:zg(e)}),Iy=iu({menuFocused:!1,shiftKeyInMenu:!1}),E4=()=>{const e=i=>{Iy.menuFocused=i},t=i=>{Iy.shiftKeyInMenu!==i&&(Iy.shiftKeyInMenu=i)};return{control:un(()=>({shiftKeyInMenu:Iy.shiftKeyInMenu,menuFocused:Iy.menuFocused})),setMenuFocused:e,setShiftKey:t}};function AC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var M4={exports:{}};(function(e){function t(i){return i&&i.__esModule?i:{default:i}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(M4);var Tj=M4.exports,IT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;function i(r){if(r===null||r===!0||r===!1)return NaN;var o=Number(r);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}e.exports=t.default})(IT,IT.exports);var Sj=IT.exports;const Cj=AC(Sj);var LT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;function i(r){var o=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return o.setUTCFullYear(r.getFullYear()),r.getTime()-o.getTime()}e.exports=t.default})(LT,LT.exports);var Ej=LT.exports;const PE=AC(Ej);function Mj(e,t){var i=Dj(t);return i.formatToParts?Aj(i,e):Pj(i,e)}var kj={year:0,month:1,day:2,hour:3,minute:4,second:5};function Aj(e,t){try{for(var i=e.formatToParts(t),r=[],o=0;o<i.length;o++){var d=kj[i[o].type];d>=0&&(r[d]=parseInt(i[o].value,10))}return r}catch(h){if(h instanceof RangeError)return[NaN];throw h}}function Pj(e,t){var i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var b3={};function Dj(e){if(!b3[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),i=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";b3[e]=i?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return b3[e]}function PC(e,t,i,r,o,d,h){var s=new Date(0);return s.setUTCFullYear(e,t,i),s.setUTCHours(r,o,d,h),s}var DE=36e5,Ij=6e4,w3={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function DC(e,t,i){var r,o;if(!e||(r=w3.timezoneZ.exec(e),r))return 0;var d;if(r=w3.timezoneHH.exec(e),r)return d=parseInt(r[1],10),IE(d)?-(d*DE):NaN;if(r=w3.timezoneHHMM.exec(e),r){d=parseInt(r[1],10);var h=parseInt(r[2],10);return IE(d,h)?(o=Math.abs(d)*DE+h*Ij,d>0?-o:o):NaN}if(Rj(e)){t=new Date(t||Date.now());var s=i?t:Lj(t),v=OT(s,e),R=i?v:Oj(t,v,e);return-R}return NaN}function Lj(e){return PC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function OT(e,t){var i=Mj(e,t),r=PC(i[0],i[1]-1,i[2],i[3]%24,i[4],i[5],0).getTime(),o=e.getTime(),d=o%1e3;return o-=d>=0?d:1e3+d,r-o}function Oj(e,t,i){var r=e.getTime(),o=r-t,d=OT(new Date(o),i);if(t===d)return t;o-=d-t;var h=OT(new Date(o),i);return d===h?d:Math.max(d,h)}function IE(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var LE={};function Rj(e){if(LE[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),LE[e]=!0,!0}catch{return!1}}var Bj=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const k4=Bj;var T3=36e5,OE=6e4,zj=2,_c={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:k4};function RT(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var i=t||{},r=i.additionalDigits==null?zj:Cj(i.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=Nj(e),d=Fj(o.date,r),h=d.year,s=d.restDateString,v=jj(s,h);if(isNaN(v))return new Date(NaN);if(v){var R=v.getTime(),K=0,k;if(o.time&&(K=Uj(o.time),isNaN(K)))return new Date(NaN);if(o.timeZone||i.timeZone){if(k=DC(o.timeZone||i.timeZone,new Date(R+K)),isNaN(k))return new Date(NaN)}else k=PE(new Date(R+K)),k=PE(new Date(R+K+k));return new Date(R+K+k)}else return new Date(NaN)}function Nj(e){var t={},i=_c.dateTimePattern.exec(e),r;if(i?(t.date=i[1],r=i[3]):(i=_c.datePattern.exec(e),i?(t.date=i[1],r=i[2]):(t.date=null,r=e)),r){var o=_c.timeZone.exec(r);o?(t.time=r.replace(o[1],""),t.timeZone=o[1].trim()):t.time=r}return t}function Fj(e,t){var i=_c.YYY[t],r=_c.YYYYY[t],o;if(o=_c.YYYY.exec(e)||r.exec(e),o){var d=o[1];return{year:parseInt(d,10),restDateString:e.slice(d.length)}}if(o=_c.YY.exec(e)||i.exec(e),o){var h=o[1];return{year:parseInt(h,10)*100,restDateString:e.slice(h.length)}}return{year:null}}function jj(e,t){if(t===null)return null;var i,r,o,d;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(i=_c.MM.exec(e),i)return r=new Date(0),o=parseInt(i[1],10)-1,BE(t,o)?(r.setUTCFullYear(t,o),r):new Date(NaN);if(i=_c.DDD.exec(e),i){r=new Date(0);var h=parseInt(i[1],10);return Gj(t,h)?(r.setUTCFullYear(t,0,h),r):new Date(NaN)}if(i=_c.MMDD.exec(e),i){r=new Date(0),o=parseInt(i[1],10)-1;var s=parseInt(i[2],10);return BE(t,o,s)?(r.setUTCFullYear(t,o,s),r):new Date(NaN)}if(i=_c.Www.exec(e),i)return d=parseInt(i[1],10)-1,zE(t,d)?RE(t,d):new Date(NaN);if(i=_c.WwwD.exec(e),i){d=parseInt(i[1],10)-1;var v=parseInt(i[2],10)-1;return zE(t,d,v)?RE(t,d,v):new Date(NaN)}return null}function Uj(e){var t,i,r;if(t=_c.HH.exec(e),t)return i=parseFloat(t[1].replace(",",".")),S3(i)?i%24*T3:NaN;if(t=_c.HHMM.exec(e),t)return i=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),S3(i,r)?i%24*T3+r*OE:NaN;if(t=_c.HHMMSS.exec(e),t){i=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return S3(i,r,o)?i%24*T3+r*OE+o*1e3:NaN}return null}function RE(e,t,i){t=t||0,i=i||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,d=t*7+i+1-o;return r.setUTCDate(r.getUTCDate()+d),r}var $j=[31,28,31,30,31,30,31,31,30,31,30,31],Vj=[31,29,31,30,31,30,31,31,30,31,30,31];function A4(e){return e%400===0||e%4===0&&e%100!==0}function BE(e,t,i){if(t<0||t>11)return!1;if(i!=null){if(i<1)return!1;var r=A4(e);if(r&&i>Vj[t]||!r&&i>$j[t])return!1}return!0}function Gj(e,t){if(t<1)return!1;var i=A4(e);return!(i&&t>366||!i&&t>365)}function zE(e,t,i){return!(t<0||t>52||i!=null&&(i<0||i>6))}function S3(e,t,i){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||i!=null&&(i<0||i>=60))}var BT={exports:{}},zT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;function i(r,o){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d]);return r}e.exports=t.default})(zT,zT.exports);var Hj=zT.exports;(function(e,t){var i=Tj.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=i(Hj);function o(d){return(0,r.default)({},d)}e.exports=t.default})(BT,BT.exports);var Wj=BT.exports;const Yj=AC(Wj);function qj(e,t,i){var r=RT(e,i),o=DC(t,r,!0),d=new Date(r.getTime()-o),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}function Xj(e,t,i){if(typeof e=="string"&&!e.match(k4)){var r=Yj(i);return r.timeZone=t,RT(e,r)}var o=RT(e,i),d=PC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()).getTime(),h=DC(t,new Date(d));return new Date(d+h)}const Zj=(e,t=3)=>{const i=[];for(let r=0;r<e.length;r+=t)i.push([e[r],e[r+1],e[r+2]]);return i};function NE(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function Kj(e){return t=>G0(new Date(`2017-01-0${t}T00:00:00+00:00`),"EEEEEE",{locale:e})}const Jj=(e,t,i)=>{const r=[1,2,3,4,5,6,7];let o;if(e!==null)try{o=r.map(Kj(e))}catch{o=r.map(NE(t))}else o=r.map(NE(t));const d=o.slice(0,i),h=o.slice(i+1,o.length);return[o[i]].concat(...h).concat(...d)},Qj=(e,t)=>{const i=[];for(let r=+e[0];r<=+e[1];r++)i.push({value:+r,text:`${r}`});return t?i.reverse():i},eU=(e,t,i)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(d=>{const h=d<10?`0${d}`:d;return new Date(`2017-${h}-01T00:00:00+00:00`)});if(e!==null)try{const d=i==="long"?"MMMM":"MMM";return r.map((h,s)=>{const v=G0(h,d,{locale:e});return{text:v.charAt(0).toUpperCase()+v.substring(1),value:s}})}catch{}const o=new Intl.DateTimeFormat(t,{month:i,timeZone:"UTC"});return r.map((d,h)=>{const s=o.format(d);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:h}})},tU=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Jo=e=>{const t=Li(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},iU=e=>Object.assign({type:"dot"},e),P4=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,db={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Rl=e=>e,FE=e=>e===0?e:!e||isNaN(+e)?null:+e,nU=e=>e===0?!0:!!e,jE=e=>e===null,rU=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},UE=e=>Object.assign({menuAppear:"",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},e),sU=e=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},e),oU=e=>e===null?0:typeof e=="boolean"?e?2:0:+e>=2?+e:2,aU=(e,t,i)=>e||(typeof i=="string"?i:t),lU=e=>typeof e=="boolean"?e?UE({}):!1:UE(e),cU=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),dU=e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e),uU=e=>Object.assign({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0},e),wd=e=>{const t=()=>{if(e.partialRange)return null;throw new Error(db.prop("partial-range"))},i=un(()=>({ariaLabels:sU(e.ariaLabels),textInputOptions:Object.assign(cU(),e.textInputOptions),multiCalendars:oU(e.multiCalendars),previewFormat:aU(e.previewFormat,e.format,d()),filters:dU(e.filters),transitions:lU(e.transitions),startTime:q(),actionRow:uU(e.actionRow)})),r=fe=>{if(e.range)return fe();throw new Error(db.prop("range"))},o=()=>{const fe=e.enableSeconds?":ss":"";return e.is24?`HH:mm${fe}`:`hh:mm${fe} aa`},d=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?o():e.weekPicker?"MM/dd/yyyy":e.yearPicker?"yyyy":e.enableTimePicker?`MM/dd/yyyy, ${o()}`:"MM/dd/yyyy",h=(fe,F)=>{if(typeof e.format=="function")return e.format(fe);const Q=F||d(),se=e.formatLocale?{locale:e.formatLocale}:void 0;return Array.isArray(fe)?`${G0(fe[0],Q,se)}${e.modelAuto&&!fe[1]?"":i.value.textInputOptions.rangeSeparator||"-"}${fe[1]?G0(fe[1],Q,se):""}`:G0(fe,Q,se)},s=fe=>e.timezone?qj(fe,e.timezone):fe,v=fe=>e.timezone?Xj(fe,e.timezone):fe,R=un(()=>fe=>{var F;return(F=e.hideNavigation)==null?void 0:F.includes(fe)}),K=fe=>{var F,Q,se,ue;return Array.isArray(e.allowedDates)&&!((F=e.allowedDates)!=null&&F.length)?!0:(Q=e.arrMapValues)!=null&&Q.allowedDates?!S(fe,e.arrMapValues.allowedDates):(se=e.allowedDates)!=null&&se.length?!((ue=e.allowedDates)!=null&&ue.some(Ce=>Vs(s(Xi(Ce)),s(fe)))):!1},k=fe=>{var F;const Q=e.maxDate?vc(s(fe),s(Xi(e.maxDate))):!1,se=e.minDate?Fl(s(fe),s(Xi(e.minDate))):!1,ue=S(fe,(F=e.arrMapValues)!=null&&F.disabledDates?e.arrMapValues.disabledDates:e.disabledDates),Ce=i.value.filters.months.map(ye=>+ye).includes(fo(fe)),ne=e.disabledWeekDays.length?e.disabledWeekDays.some(ye=>+ye===ZN(fe)):!1,ve=K(fe),_e=Mo(fe),oe=_e<+e.yearRange[0]||_e>+e.yearRange[1];return!(Q||se||ue||Ce||oe||ne||ve)},z=fe=>{const F={hours:Xh(Xi()),minutes:Zh(Xi()),seconds:e.enableSeconds?zg(Xi()):0};return Object.assign(F,fe)},q=()=>e.range?e.startTime&&Array.isArray(e.startTime)?[z(e.startTime[0]),z(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?z(e.startTime):null,L=fe=>!k(fe),O=fe=>Array.isArray(fe)?Vy(fe[0])&&(fe[1]?Vy(fe[1]):!0):fe?Vy(fe):!1,G=fe=>fe instanceof Date?fe:ij(fe),M=fe=>{const F=X0(s(fe),{weekStartsOn:+e.weekStart}),Q=Hz(s(fe),{weekStartsOn:+e.weekStart});return[F,Q]},S=(fe,F)=>fe?F instanceof Map?!!F.get(J(fe)):Array.isArray(F)?F.some(Q=>Vs(s(Xi(Q)),s(fe))):F(Xi(JSON.parse(JSON.stringify(fe)))):!0,D=(fe,F,Q)=>{let se=fe?Xi(fe):Xi();return(F||F===0)&&(se=mg(se,F)),Q&&(se=ep(se,Q)),se},H=fe=>il(Xi(),px(fe)),U=fe=>il(Xi(),{hours:+fe.hours||0,minutes:+fe.minutes||0,seconds:+fe.seconds||0}),E=(fe,F,Q,se)=>{if(!fe)return!0;if(se){const ue=Q==="max"?a_(fe,F):o_(fe,F),Ce={seconds:0,milliseconds:0};return ue||O0(il(fe,Ce),il(F,Ce))}return Q==="max"?fe.getTime()<=F.getTime():fe.getTime()>=F.getTime()},ie=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,te=fe=>Array.isArray(fe)?[fe[0]?H(fe[0]):null,fe[1]?H(fe[1]):null]:H(fe),$=fe=>{const F=e.maxTime?U(e.maxTime):Xi(e.maxDate);return Array.isArray(fe)?E(fe[0],F,"max",!!e.maxDate)&&E(fe[1],F,"max",!!e.maxDate):E(fe,F,"max",!!e.maxDate)},V=(fe,F)=>{const Q=e.minTime?U(e.minTime):Xi(e.minDate);return Array.isArray(fe)?E(fe[0],Q,"min",!!e.minDate)&&E(fe[1],Q,"min",!!e.minDate)&&F:E(fe,Q,"min",!!e.minDate)&&F},j=fe=>{let F=!0;if(!fe||ie())return!0;const Q=!e.minDate&&!e.maxDate?te(fe):fe;if((e.maxTime||e.maxDate)&&(F=$(Rl(Q))),(e.minTime||e.minDate)&&(F=V(Rl(Q),F)),e.disabledTimes){const se=Array.isArray(fe)?[px(fe[0]),fe[1]?px(fe[1]):void 0]:px(fe);F=!e.disabledTimes(se)}return F},x=(fe,F)=>{const Q=Xi(JSON.parse(JSON.stringify(fe))),se=[];for(let ue=0;ue<7;ue++){const Ce=Qh(Q,ue),ne=fo(Ce)!==F;se.push({text:e.hideOffsetDates&&ne?"":Ce.getDate(),value:Ce,current:!ne,classData:{}})}return se},P=(fe,F)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[fe==0,!0];case"fair":return[fe==0||F>fe,!0];case"append":return[!1,!1];default:return[!1,!1]}},f=(fe,F)=>{const Q=[],se=Xi(s(new Date(F,fe))),ue=Xi(s(new Date(F,fe+1,0))),Ce=e.weekStart,ne=X0(se,{weekStartsOn:Ce}),ve=_e=>{const oe=x(_e,fe);if(Q.push({days:oe}),!Q[Q.length-1].days.some(ye=>Vs(Jd(ye.value),Jd(ue)))){const ye=Qh(_e,7);ve(ye)}};if(ve(ne),e.sixWeeks&&Q.length<6){const _e=6-Q.length,oe=(se.getDay()+7-Ce)%7,ye=6-(ue.getDay()+7-Ce)%7,[Se,Re]=P(oe,ye);for(let Le=1;Le<=_e;Le++)if(Re?!!(Le%2)==Se:Se){const $e=Q[0].days[0],rt=x(Qh($e.value,-7),fo(se));Q.unshift({days:rt})}else{const $e=Q[Q.length-1],rt=$e.days[$e.days.length-1],Qe=x(Qh(rt.value,1),fo(se));Q.push({days:Qe})}}return Q},g=(fe,F,Q)=>[il(Xi(fe),{date:1}),il(Xi(),{month:F,year:Q,date:1})],b=(fe,F)=>Fl(...g(e.minDate,fe,F))||Vs(...g(e.minDate,fe,F)),A=(fe,F)=>vc(...g(e.maxDate,fe,F))||Vs(...g(e.maxDate,fe,F)),X=(fe,F,Q)=>{let se=!1;return e.maxDate&&Q&&A(fe,F)&&(se=!0),e.minDate&&!Q&&b(fe,F)&&(se=!0),se},Y=(fe,F,Q,se)=>{let ue=!1;return se?e.minDate&&e.maxDate?ue=X(fe,F,Q):(e.minDate&&b(fe,F)||e.maxDate&&A(fe,F))&&(ue=!0):ue=!0,ue},J=fe=>{const F=Jd(s(Xi(fe))).toISOString(),[Q]=F.split("T");return Q},ce=fe=>new Map(fe.map(F=>[J(F),!0])),pe=fe=>Array.isArray(fe)&&fe.length>0;return{checkPartialRangeValue:t,checkRangeEnabled:r,getZonedDate:s,getZonedToUtc:v,formatDate:h,getDefaultPattern:d,validateDate:k,getDefaultStartTime:q,isDisabled:L,isValidDate:O,sanitizeDate:G,getWeekFromDate:M,matchDate:S,setDateMonthOrYear:D,isValidTime:j,getCalendarDays:f,validateMonthYearInRange:Y,validateMaxDate:A,validateMinDate:b,assignDefaultTime:z,mapDatesArrToMap:fe=>{pe(e.allowedDates)&&(fe.allowedDates=ce(e.allowedDates)),pe(e.highlight)&&(fe.highlightedDates=ce(e.highlight)),pe(e.disabledDates)&&(fe.disabledDates=ce(e.disabledDates))},defaults:i,hideNavigationButtons:R}},Eo=iu({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),C3=Ki(null),fx=Ki(!1),E3=Ki(!1),M3=Ki(!1),k3=Ki(!1),mc=Ki(0),ml=Ki(0),Ef=()=>{const e=un(()=>fx.value?[...Eo.selectionGrid,Eo.actionRow].filter(k=>k.length):E3.value?[...Eo.timePicker[0],...Eo.timePicker[1],k3.value?[]:[C3.value],Eo.actionRow].filter(k=>k.length):M3.value?[...Eo.monthPicker,Eo.actionRow]:[Eo.monthYear,...Eo.calendar,Eo.time,Eo.actionRow].filter(k=>k.length)),t=k=>{mc.value=k?mc.value+1:mc.value-1;let z=null;e.value[ml.value]&&(z=e.value[ml.value][mc.value]),z||(mc.value=k?mc.value-1:mc.value+1)},i=k=>{ml.value===0&&!k||ml.value===e.value.length&&k||(ml.value=k?ml.value+1:ml.value-1,e.value[ml.value]?e.value[ml.value]&&!e.value[ml.value][mc.value]&&mc.value!==0&&(mc.value=e.value[ml.value].length-1):ml.value=k?ml.value-1:ml.value+1)},r=k=>{let z=null;e.value[ml.value]&&(z=e.value[ml.value][mc.value]),z?z.focus({preventScroll:!fx.value}):mc.value=k?mc.value-1:mc.value+1},o=()=>{t(!0),r(!0)},d=()=>{t(!1),r(!1)},h=()=>{i(!1),r(!0)},s=()=>{i(!0),r(!0)},v=(k,z)=>{Eo[z]=k},R=(k,z)=>{Eo[z]=k},K=()=>{mc.value=0,ml.value=0};return{buildMatrix:v,buildMultiLevelMatrix:R,setTimePickerBackRef:k=>{C3.value=k},setSelectionGrid:k=>{fx.value=k,K(),k||(Eo.selectionGrid=[])},setTimePicker:(k,z=!1)=>{E3.value=k,k3.value=z,K(),k||(Eo.timePicker[0]=[],Eo.timePicker[1]=[])},setTimePickerElements:(k,z=0)=>{Eo.timePicker[z]=k},arrowRight:o,arrowLeft:d,arrowUp:h,arrowDown:s,clearArrowNav:()=>{Eo.monthYear=[],Eo.calendar=[],Eo.time=[],Eo.actionRow=[],Eo.selectionGrid=[],Eo.timePicker[0]=[],Eo.timePicker[1]=[],fx.value=!1,E3.value=!1,k3.value=!1,M3.value=!1,K(),C3.value=null},setMonthPicker:k=>{M3.value=k,K()},refSets:Eo}},$E=e=>Array.isArray(e),T0=e=>Array.isArray(e),VE=e=>Array.isArray(e)&&e.length===2,hU=(e,t,i,r,o)=>{const{getDefaultStartTime:d,isDisabled:h,sanitizeDate:s,getWeekFromDate:v,setDateMonthOrYear:R,validateMonthYearInRange:K,defaults:k}=wd(e),z=un({get:()=>e.internalModelValue,set:pt=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",pt)}}),q=Ki([]);Xs(z,(pt,Lt)=>{e.range?ie():O0(pt,Lt)||ie()});const L=yf(e,"multiCalendars");Xs(L,()=>{xe(0)});const O=Ki([{month:fo(Xi()),year:Mo(Xi())}]);Xs(O,()=>{O.value.forEach((pt,Lt)=>{t("update-month-year",{instance:Lt,month:pt.month,year:pt.year})})},{deep:!0});const G=iu({hours:e.range?[Xh(Xi()),Xh(Xi())]:Xh(Xi()),minutes:e.range?[Zh(Xi()),Zh(Xi())]:Zh(Xi()),seconds:e.range?[0,0]:0}),M=un(()=>pt=>O.value[pt]?O.value[pt].month:0),S=un(()=>pt=>O.value[pt]?O.value[pt].year:0),D=un(()=>{var pt;return(pt=e.flow)!=null&&pt.length&&!e.partialFlow?o.value===e.flow.length:!0}),H=(pt,Lt,ei)=>{var Pi,cn;O.value[pt]||(O.value[pt]={month:0,year:0}),O.value[pt].month=jE(Lt)?(Pi=O.value[pt])==null?void 0:Pi.month:Lt,O.value[pt].year=jE(ei)?(cn=O.value[pt])==null?void 0:cn.year:ei},U=(pt,Lt)=>{G[pt]=Lt},E=()=>{e.startDate&&(H(0,fo(Xi(e.startDate)),Mo(Xi(e.startDate))),k.value.multiCalendars&&xe(0))};Go(()=>{z.value||(E(),k.value.startTime&&A()),ie(!0),e.focusStartDate&&e.startDate&&E()});const ie=(pt=!1)=>{if(z.value)return Array.isArray(z.value)?(q.value=z.value,x(pt)):$(z.value,pt);if(e.timePicker)return P();if(e.monthPicker&&!e.range)return f();if(e.yearPicker&&!e.range)return g();if(k.value.multiCalendars&&pt&&!e.startDate)return te(Xi(),pt)},te=(pt,Lt=!1)=>{if((!k.value.multiCalendars||!e.multiStatic||Lt)&&H(0,fo(pt),Mo(pt)),k.value.multiCalendars)for(let ei=1;ei<k.value.multiCalendars;ei++){const Pi=il(Xi(),{month:M.value(ei-1),year:S.value(ei-1)}),cn=i4(Pi,{months:1});O.value[ei]={month:fo(cn),year:Mo(cn)}}},$=(pt,Lt)=>{te(pt),U("hours",Xh(pt)),U("minutes",Zh(pt)),U("seconds",zg(pt)),k.value.multiCalendars&&Lt&&Y()},V=(pt,Lt)=>{pt[1]&&e.showLastInRange?te(pt[1],Lt):te(pt[0],Lt);const ei=(Pi,cn)=>[Pi(pt[0]),pt[1]?Pi(pt[1]):G[cn][1]];U("hours",ei(Xh,"hours")),U("minutes",ei(Zh,"minutes")),U("seconds",ei(zg,"seconds"))},j=(pt,Lt)=>{if((e.range||e.weekPicker)&&!e.multiDates)return V(pt,Lt);if(e.multiDates){const ei=pt[pt.length-1];return $(ei,Lt)}},x=pt=>{const Lt=z.value;j(Lt,pt),k.value.multiCalendars&&e.multiCalendarsSolo&&Y()},P=()=>{if(A(),!e.range)z.value=Yd(Xi(),G.hours,G.minutes,b());else{const pt=G.hours,Lt=G.minutes;z.value=[Yd(Xi(),pt[0],Lt[0],b()),Yd(Xi(),pt[1],Lt[1],b(!1))]}},f=()=>{e.multiDates?z.value=[R(Xi(),M.value(0),S.value(0))]:z.value=R(Xi(),M.value(0),S.value(0))},g=()=>{z.value=Xi()},b=(pt=!0)=>e.enableSeconds?Array.isArray(G.seconds)?pt?G.seconds[0]:G.seconds[1]:G.seconds:0,A=()=>{const pt=d();if(pt){const Lt=Array.isArray(pt),ei=Lt?[+pt[0].hours,+pt[1].hours]:+pt.hours,Pi=Lt?[+pt[0].minutes,+pt[1].minutes]:+pt.minutes,cn=Lt?[+pt[0].seconds,+pt[1].seconds]:+pt.seconds;U("hours",ei),U("minutes",Pi),e.enableSeconds&&U("seconds",cn)}},X=()=>Array.isArray(z.value)&&z.value.length?z.value[z.value.length-1]:null,Y=()=>{if(Array.isArray(z.value)&&z.value.length===2){const pt=Xi(Xi(z.value[1]?z.value[1]:lh(z.value[0],1))),[Lt,ei]=[fo(z.value[0]),Mo(z.value[0])],[Pi,cn]=[fo(z.value[1]),Mo(z.value[1])];(Lt!==Pi||Lt===Pi&&ei!==cn)&&e.multiCalendarsSolo&&H(1,fo(pt),Mo(pt))}else z.value&&!Array.isArray(z.value)&&H(0,fo(z.value),Mo(z.value))},J=pt=>{const Lt=lh(pt,1);return{month:fo(Lt),year:Mo(Lt)}},ce=pt=>{const Lt=fo(Xi(pt)),ei=Mo(Xi(pt));if(H(0,Lt,ei),k.value.multiCalendars>0)for(let Pi=1;Pi<k.value.multiCalendars;Pi++){const cn=J(il(Xi(pt),{year:M.value(Pi-1),month:S.value(Pi-1)}));H(Pi,cn.month,cn.year)}},pe=pt=>{if(z.value&&Array.isArray(z.value))if(z.value.some(Lt=>Vs(pt,Lt))){const Lt=z.value.filter(ei=>!Vs(ei,pt));z.value=Lt.length?Lt:null}else(e.multiDatesLimit&&+e.multiDatesLimit>z.value.length||!e.multiDatesLimit)&&z.value.push(pt);else z.value=[pt]},fe=(pt,Lt)=>{const ei=vc(pt,Lt)?Lt:pt,Pi=vc(Lt,pt)?Lt:pt;return xE({start:ei,end:Pi})},F=(pt,Lt=0)=>{if(Array.isArray(z.value)&&z.value[Lt]){const ei=Vz(pt,z.value[Lt]),Pi=fe(z.value[Lt],pt),cn=Pi.length===1?0:Pi.filter(Kr=>h(Kr)).length,Wn=Math.abs(ei)-cn;if(e.minRange&&e.maxRange)return Wn>=+e.minRange&&Wn<=+e.maxRange;if(e.minRange)return Wn>=+e.minRange;if(e.maxRange)return Wn<=+e.maxRange}return!0},Q=pt=>Array.isArray(z.value)&&z.value.length===2?e.fixedStart&&(vc(pt,z.value[0])||Vs(pt,z.value[0]))?[z.value[0],pt]:e.fixedEnd&&(Fl(pt,z.value[1])||Vs(pt,z.value[1]))?[pt,z.value[1]]:(t("invalid-fixed-range",pt),z.value):[],se=()=>{e.autoApply&&D.value&&t("auto-apply",e.partialFlow)},ue=()=>{e.autoApply&&t("select-date")},Ce=pt=>!xE({start:pt[0],end:pt[1]}).some(Lt=>h(Lt)),ne=pt=>(z.value=v(Xi(pt.value)),se()),ve=pt=>{const Lt=Yd(Xi(pt.value),G.hours,G.minutes,b());e.multiDates?pe(Lt):z.value=Lt,i(),se()},_e=()=>{q.value=z.value?z.value.slice():[],q.value.length===2&&!(e.fixedStart||e.fixedEnd)&&(q.value=[])},oe=(pt,Lt)=>{const ei=[Xi(pt.value),Qh(Xi(pt.value),+e.autoRange)];Ce(ei)&&(Lt&&ce(pt.value),q.value=ei)},ye=pt=>{Se(pt.value)||!F(pt.value,e.fixedStart?0:1)||(q.value=Q(Xi(pt.value)))},Se=pt=>e.noDisabledRange?fe(q.value[0],pt).some(Lt=>h(Lt)):!1,Re=(pt,Lt)=>{if(_e(),e.autoRange)return oe(pt,Lt);if(e.fixedStart||e.fixedEnd)return ye(pt);q.value[0]?F(Xi(pt.value))&&!Se(pt.value)&&(Fl(Xi(pt.value),Xi(q.value[0]))?(q.value.unshift(Xi(pt.value)),t("range-end",q.value[0])):(q.value[1]=Xi(pt.value),t("range-end",q.value[1]))):(q.value[0]=Xi(pt.value),t("range-start",q.value[0]))},Le=pt=>{q.value[pt]=Yd(q.value[pt],G.hours[pt],G.minutes[pt],b(pt!==1))},$e=()=>{var pt,Lt;q.value[0]&&q.value[1]&&+((pt=q.value)==null?void 0:pt[0])>+((Lt=q.value)==null?void 0:Lt[1])&&(q.value.reverse(),t("range-start",q.value[0]),t("range-end",q.value[1]))},rt=()=>{q.value.length&&(q.value[0]&&!q.value[1]?Le(0):(Le(0),Le(1),i()),$e(),z.value=q.value.slice(),q.value[0]&&q.value[1]&&e.autoApply&&t("auto-apply"),q.value[0]&&!q.value[1]&&e.modelAuto&&e.autoApply&&t("auto-apply"))},Qe=(pt,Lt=!1)=>{if(!(h(pt.value)||!pt.current&&e.hideOffsetDates)){if(e.weekPicker)return ne(pt);if(!e.range)return ve(pt);T0(G.hours)&&T0(G.minutes)&&!e.multiDates&&(Re(pt,Lt),rt())}},qe=pt=>{const Lt=pt[0];return e.weekNumbers==="local"?nF(Lt.value,{weekStartsOn:+e.weekStart}):e.weekNumbers==="iso"?QN(Lt.value):typeof e.weekNumbers=="function"?e.weekNumbers(Lt.value):""},xe=pt=>{for(let Lt=pt-1;Lt>=0;Lt--){const ei=Sg(il(Xi(),{month:M.value(Lt+1),year:S.value(Lt+1)}),1);H(Lt,fo(ei),Mo(ei))}for(let Lt=pt+1;Lt<=k.value.multiCalendars-1;Lt++){const ei=lh(il(Xi(),{month:M.value(Lt-1),year:S.value(Lt-1)}),1);H(Lt,fo(ei),Mo(ei))}},Ie=pt=>R(Xi(),M.value(pt),S.value(pt)),Be=pt=>Yd(pt,G.hours,G.minutes,b()),Xe=pt=>{pe(Ie(pt))},Ke=(pt,Lt)=>{const ei=e.monthPicker?M.value(pt)!==Lt.month||!Lt.fromNav:S.value(pt)!==Lt.year||!Lt.fromNav;if(H(pt,Lt.month,Lt.year),k.value.multiCalendars&&!e.multiCalendarsSolo&&xe(pt),e.monthPicker||e.yearPicker)if(e.multiDates)ei&&Xe(pt);else if(e.range){if(ei&&F(Ie(pt))){let Pi=z.value?z.value.slice():[];Pi.length===2&&Pi[1]!==null&&(Pi=[]),Pi.length?Fl(Ie(pt),Pi[0])?Pi.unshift(Ie(pt)):Pi[1]=Ie(pt):Pi=[Ie(pt)],z.value=Pi}}else(e.autoApplyMonth||ei)&&(z.value=Ie(pt));r(e.multiCalendarsSolo?pt:void 0)},ft=async(pt=!1)=>{if(e.autoApply&&(e.monthPicker||e.yearPicker)){await Fa();const Lt=e.monthPicker?pt:!1;e.range?t("auto-apply",Lt||!z.value||z.value.length===1):t("auto-apply",Lt)}i()},St=(pt,Lt)=>{const ei=il(Xi(),{month:M.value(Lt),year:S.value(Lt)}),Pi=pt<0?lh(ei,1):Sg(ei,1);K(fo(Pi),Mo(Pi),pt<0,e.preventMinMaxNavigation)&&(H(Lt,fo(Pi),Mo(Pi)),k.value.multiCalendars&&!e.multiCalendarsSolo&&xe(Lt),r())},Ot=pt=>{$E(pt)&&$E(z.value)&&T0(G.hours)&&T0(G.minutes)?(pt[0]&&z.value[0]&&(z.value[0]=Yd(pt[0],G.hours[0],G.minutes[0],b())),pt[1]&&z.value[1]&&(z.value[1]=Yd(pt[1],G.hours[1],G.minutes[1],b(!1)))):e.multiDates&&Array.isArray(z.value)?z.value[z.value.length-1]=Be(pt):!e.range&&!VE(pt)&&(z.value=Be(pt)),t("time-update")},yi=(pt,Lt=!0,ei=!1)=>{const Pi=Lt?pt:G.hours,cn=!Lt&&!ei?pt:G.minutes,Wn=ei?pt:G.seconds;if(e.range&&VE(z.value)&&T0(Pi)&&T0(cn)&&T0(Wn)&&!e.disableTimeRangeValidation){const Kr=Vi=>Yd(z.value[Vi],Pi[Vi],cn[Vi],Wn[Vi]),ui=Vi=>kC(z.value[Vi],0);if(Vs(z.value[0],z.value[1])&&(o_(Kr(0),ui(1))||a_(Kr(1),ui(0))))return}if(U("hours",Pi),U("minutes",cn),U("seconds",Wn),z.value)if(e.multiDates){const Kr=X();Kr&&Ot(Kr)}else Ot(z.value);else e.timePicker&&Ot(e.range?[Xi(),Xi()]:Xi());i()},Wt=(pt,Lt)=>{e.monthChangeOnScroll&&St(e.monthChangeOnScroll!=="inverse"?-pt.deltaY:pt.deltaY,Lt)},fi=(pt,Lt,ei=!1)=>{e.monthChangeOnArrows&&e.vertical===ei&&Hi(pt,Lt)},Hi=(pt,Lt)=>{St(pt==="right"?-1:1,Lt)};return{time:G,month:M,year:S,modelValue:z,calendars:O,monthYearSelect:ft,isDisabled:h,updateTime:yi,getWeekNum:qe,selectDate:Qe,updateMonthYear:Ke,handleScroll:Wt,getMarker:pt=>e.markers.find(Lt=>Vs(s(pt.value),s(Lt.date))),handleArrow:fi,handleSwipe:Hi,selectCurrentDate:()=>{e.range?z.value&&Array.isArray(z.value)&&z.value[0]?z.value=Fl(Xi(),z.value[0])?[Xi(),z.value[0]]:[z.value[0],Xi()]:z.value=[Xi()]:z.value=Xi(),ue()},presetDateRange:(pt,Lt)=>{Lt||pt.length&&pt.length<=2&&e.range&&(z.value=pt.map(ei=>Xi(ei)),ue(),e.multiCalendars&&Fa().then(()=>ie(!0)))}}},pU=(e,t,i)=>{const r=Ki(),{getZonedToUtc:o,getZonedDate:d,formatDate:h,getDefaultPattern:s,checkRangeEnabled:v,checkPartialRangeValue:R,isValidDate:K,setDateMonthOrYear:k,defaults:z}=wd(t),q=Ki(""),L=yf(t,"format");Xs(r,()=>{e("internal-model-change",r.value)}),Xs(L,()=>{X()});const O=F=>{const Q=F||Xi();return t.modelType?J(Q):{hours:Xh(Q),minutes:Zh(Q),seconds:t.enableSeconds?zg(Q):0}},G=F=>t.modelType?J(F):{month:fo(F),year:Mo(F)},M=F=>Array.isArray(F)?v(()=>[ep(Xi(),F[0]),F[1]?ep(Xi(),F[1]):R()]):ep(Xi(),+F),S=(F,Q)=>(typeof F=="string"||typeof F=="number")&&t.modelType?Y(F):Q,D=F=>Array.isArray(F)?[S(F[0],Yd(null,+F[0].hours,+F[0].minutes,F[0].seconds)),S(F[1],Yd(null,+F[1].hours,+F[1].minutes,F[1].seconds))]:S(F,Yd(null,F.hours,F.minutes,F.seconds)),H=F=>Array.isArray(F)?t.multiDates?F.map(Q=>S(Q,k(null,+Q.month,+Q.year))):v(()=>[S(F[0],k(null,+F[0].month,+F[0].year)),S(F[1],F[1]?k(null,+F[1].month,+F[1].year):R())]):S(F,k(null,+F.month,+F.year)),U=F=>{if(Array.isArray(F))return F.map(Q=>Y(Q));throw new Error(db.dateArr("multi-dates"))},E=F=>{if(Array.isArray(F))return[Xi(F[0]),Xi(F[1])];throw new Error(db.dateArr("week-picker"))},ie=F=>t.modelAuto?Array.isArray(F)?[Y(F[0]),Y(F[1])]:t.autoApply?[Y(F)]:[Y(F),null]:Array.isArray(F)?v(()=>[Y(F[0]),F[1]?Y(F[1]):R()]):Y(F),te=()=>{Array.isArray(r.value)&&t.range&&r.value.length===1&&r.value.push(R())},$=()=>{const F=r.value;return[J(F[0]),F[1]?J(F[1]):R()]},V=()=>r.value[1]?$():J(Rl(r.value[0])),j=()=>(r.value||[]).map(F=>J(F)),x=()=>(te(),t.modelAuto?V():t.multiDates?j():Array.isArray(r.value)?v(()=>$()):J(Rl(r.value))),P=F=>F?t.timePicker?D(Rl(F)):t.monthPicker?H(Rl(F)):t.yearPicker?M(Rl(F)):t.multiDates?U(Rl(F)):t.weekPicker?E(Rl(F)):ie(Rl(F)):null,f=F=>{const Q=P(F);K(Rl(Q))?(r.value=Rl(Q),X()):(r.value=null,q.value="")},g=()=>{var F;const Q=se=>{var ue;return G0(se,(ue=z.value.textInputOptions)==null?void 0:ue.format)};return`${Q(r.value[0])} ${(F=z.value.textInputOptions)==null?void 0:F.rangeSeparator} ${r.value[1]?Q(r.value[1]):""}`},b=()=>{var F;return i.value&&r.value?Array.isArray(r.value)?g():G0(r.value,(F=z.value.textInputOptions)==null?void 0:F.format):h(r.value)},A=()=>{var F;return r.value?t.multiDates?r.value.map(Q=>h(Q)).join("; "):t.textInput&&typeof((F=z.value.textInputOptions)==null?void 0:F.format)=="string"?b():h(r.value):""},X=()=>{!t.format||typeof t.format=="string"||t.textInput&&typeof t.textInputOptions.format=="string"?q.value=A():q.value=t.format(r.value)},Y=F=>{if(t.utc){const Q=new Date(F);return t.utc==="preserve"?new Date(Q.getTime()+Q.getTimezoneOffset()*6e4):Q}return t.modelType?t.modelType==="date"||t.modelType==="timestamp"?d(new Date(F)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?DT(F,s(),new Date):d(DT(F,t.modelType,new Date)):d(new Date(F))},J=F=>F?t.utc?wj(F,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+o(F):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?h(o(F)):h(o(F),t.modelType):o(F):"",ce=F=>{e("update:model-value",F)},pe=F=>Array.isArray(r.value)?t.multiDates?r.value.map(Q=>F(Q)):[F(r.value[0]),r.value[1]?F(r.value[1]):R()]:F(Rl(r.value)),fe=F=>ce(Rl(pe(F)));return{inputValue:q,internalModelValue:r,checkBeforeEmit:()=>r.value?t.range?t.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:f,formatInputValue:X,emitModelValue:()=>(X(),t.monthPicker?fe(G):t.timePicker?fe(O):t.yearPicker?fe(Mo):t.weekPicker?ce(r.value):ce(x()))}},fU=(e,t)=>{const{validateMonthYearInRange:i,validateMaxDate:r,validateMinDate:o,defaults:d}=wd(e),h=(k,z)=>{let q=k;return d.value.filters.months.includes(fo(q))?(q=z?lh(k,1):Sg(k,1),h(q,z)):q},s=(k,z)=>{let q=k;return d.value.filters.years.includes(Mo(q))?(q=z?n4(k,1):vj(k,1),s(q,z)):q},v=k=>{const z=il(new Date,{month:e.month,year:e.year});let q=k?lh(z,1):Sg(z,1);e.disableYearSelect&&(q=ep(q,e.year));let L=fo(q),O=Mo(q);d.value.filters.months.includes(L)&&(q=h(q,k),L=fo(q),O=Mo(q)),d.value.filters.years.includes(O)&&(q=s(q,k),O=Mo(q)),i(L,O,k,e.preventMinMaxNavigation)&&R(L,O)},R=(k,z)=>{t("update-month-year",{month:k,year:z})},K=un(()=>k=>{if(!e.preventMinMaxNavigation||k&&!e.maxDate||!k&&!e.minDate)return!1;const z=il(new Date,{month:e.month,year:e.year}),q=k?lh(z,1):Sg(z,1),L=[fo(q),Mo(q)];return k?!r(...L):!o(...L)});return{handleMonthYearChange:v,isDisabled:K,updateMonthYear:R}};var Px=(e=>(e.center="center",e.left="left",e.right="right",e))(Px||{});const mU=(e,t,i,r)=>{const o=Ki({top:"0",left:"0",transform:"none",opacity:"0"}),d=Ki(!1),h=yf(r,"teleportCenter"),s=un(()=>d.value?"-100%":"0"),v=()=>{R(),o.value.opacity="0"};Xs(h,()=>{S()}),Go(()=>{R()});const R=()=>{const x=Jo(t);if(x){const{top:P,left:f,width:g,height:b}=L(x);o.value.top=`${P+b/2}px`,q(f,g,50)}},K=x=>{if(r.teleport){const P=x.getBoundingClientRect();return{left:P.left+window.scrollX,top:P.top+window.scrollY}}return{top:0,left:0}},k=(x,P)=>{o.value.left=`${x+P}px`,o.value.transform=`translate(-100%, ${s.value})`},z=x=>{o.value.left=`${x}px`,o.value.transform=`translate(0, ${s.value})`},q=(x,P,f)=>{r.position===Px.left&&z(x),r.position===Px.right&&k(x,P),r.position===Px.center&&(o.value.left=`${x+P/2}px`,o.value.transform=f?`translate(-50%, -${f}%)`:`translate(-50%, ${s.value})`)},L=x=>{const{width:P,height:f}=x.getBoundingClientRect(),{top:g,left:b}=r.altPosition?r.altPosition(x):K(x);return{top:+g,left:+b,width:P,height:f}},O=()=>{const x=Jo(t);if(x){const{top:P,left:f,width:g,height:b}=L(x),A=ie();o.value.top=`${P+b/2}px`,q(f,g,A==="top"?100:0)}},G=()=>{o.value.left="50%",o.value.top="50%",o.value.transform="translate(-50%, -50%)",o.value.position="fixed",delete o.value.opacity},M=()=>{const x=Jo(t),{top:P,left:f,transform:g}=r.altPosition(x);o.value={top:`${P}px`,left:`${f}px`,transform:g||""}},S=(x=!0)=>{if(!r.inline)return h.value?G():r.altPosition!==null?M():(x&&i("recalculate-position"),$())},D=({inputEl:x,menuEl:P,left:f,width:g})=>{window.screen.width>768&&q(f,g),E(x,P)},H=(x,P)=>{const{top:f,left:g,height:b,width:A}=L(x);o.value.top=`${b+f+ +r.offset}px`,d.value=!1,D({inputEl:x,menuEl:P,left:g,width:A})},U=(x,P)=>{const{top:f,left:g,width:b}=L(x);o.value.top=`${f-+r.offset}px`,d.value=!0,D({inputEl:x,menuEl:P,left:g,width:b})},E=(x,P)=>{if(r.autoPosition){const{left:f,width:g}=L(x),{left:b,right:A}=P.getBoundingClientRect();return b<=0?z(f):A>=document.documentElement.clientWidth?k(f,g):q(f,g)}},ie=()=>{const x=Jo(e),P=Jo(t);if(x&&P){const{height:f}=x.getBoundingClientRect(),{top:g,height:b}=P.getBoundingClientRect(),A=window.innerHeight-g-b,X=g;return f<=A?"bottom":f>A&&f<=X?"top":A>=X?"bottom":"top"}return"bottom"},te=(x,P)=>ie()==="bottom"?H(x,P):U(x,P),$=()=>{const x=Jo(t),P=Jo(e);if(x&&P)return r.autoPosition?te(x,P):H(x,P)},V=function(x){if(x){const P=x.scrollHeight>x.clientHeight,f=window.getComputedStyle(x).overflowY.indexOf("hidden")!==-1;return P&&!f}return!0},j=function(x){return!x||x===document.body||x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:V(x)?x:j(x.parentNode)};return{openOnTop:d,menuStyle:o,resetPosition:v,setMenuPosition:S,setInitialPosition:O,getScrollableParent:j}},ug=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar","month-year"]},{name:"arrow-down",use:["time","calendar","month-year"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar"]}],gU=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],yU={all:()=>ug,monthYear:()=>ug.filter(e=>e.use.includes("month-year")),input:()=>gU,timePicker:()=>ug.filter(e=>e.use.includes("time")),action:()=>ug.filter(e=>e.use.includes("action")),calendar:()=>ug.filter(e=>e.use.includes("calendar")),menu:()=>ug.filter(e=>e.use.includes("menu"))},R0=(e,t,i)=>{const r=[];return yU[t]().forEach(o=>{e[o.name]&&r.push(o.name)}),i&&i.length&&i.forEach(o=>{o.slot&&r.push(o.slot)}),r},l2=e=>({transitionName:un(()=>t=>e&&typeof e!="boolean"?t?e.open:e.close:""),showTransition:!!e}),Mf={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:Function,default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},autoApplyMonth:{type:Boolean,default:!0}},_U={key:1,class:"dp__input_wrap"},vU=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],xU={key:2,class:"dp__clear_icon"},bU=Gl({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Mf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:t,emit:i}){const r=e,{getDefaultPattern:o,isValidDate:d,defaults:h,getDefaultStartTime:s,assignDefaultTime:v}=wd(r),R=Ki(),K=Ki(null),k=Ki(!1),z=Ki(!1),q=un(()=>({dp__pointer:!r.disabled&&!r.readonly&&!r.textInput,dp__disabled:r.disabled,dp__input_readonly:!r.textInput,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:r.state,dp__input_invalid:r.state===!1,dp__input_focus:k.value||r.isMenuOpen,dp__input_reg:!r.textInput,[r.inputClassName]:!!r.inputClassName})),L=()=>{i("set-input-date",null),r.autoApply&&(i("set-empty-date"),R.value=null)},O=j=>{var x;const P=s();return bj(j,((x=h.value.textInputOptions)==null?void 0:x.format)||o(),P||v({}),r.inputValue,z.value)},G=j=>{const{rangeSeparator:x}=h.value.textInputOptions,[P,f]=j.split(`${x}`);if(P){const g=O(P.trim()),b=f?O(f.trim()):null,A=g&&b?[g,b]:[g];R.value=g?A:null}},M=()=>{z.value=!0},S=j=>{if(r.range)G(j);else if(r.multiDates){const x=j.split(";");R.value=x.map(P=>O(P.trim())).filter(P=>P)}else R.value=O(j)},D=j=>{var x,P;const f=typeof j=="string"?j:(x=j.target)==null?void 0:x.value;f!==""?((P=h.value.textInputOptions)!=null&&P.openMenu&&!r.isMenuOpen&&i("open"),S(f),i("set-input-date",R.value)):L(),z.value=!1,i("update:input-value",f)},H=j=>{var x,P;r.textInput?(S(j.target.value),(x=h.value.textInputOptions)!=null&&x.enterSubmit&&d(R.value)&&r.inputValue!==""?(i("set-input-date",R.value,!0),R.value=null):(P=h.value.textInputOptions)!=null&&P.enterSubmit&&r.inputValue===""&&(R.value=null,i("clear"))):ie(j)},U=j=>{var x,P,f;r.textInput&&(x=h.value.textInputOptions)!=null&&x.tabSubmit&&S(j.target.value),(P=h.value.textInputOptions)!=null&&P.tabSubmit&&d(R.value)&&r.inputValue!==""?(i("set-input-date",R.value,!0),R.value=null):(f=h.value.textInputOptions)!=null&&f.tabSubmit&&r.inputValue===""&&(R.value=null,i("clear"))},E=()=>{k.value=!0,i("focus")},ie=j=>{var x;j.preventDefault(),j.stopImmediatePropagation(),j.stopPropagation(),r.textInput&&(x=h.value.textInputOptions)!=null&&x.openMenu&&!r.inlineWithInput?(i("toggle"),h.value.textInputOptions.enterSubmit&&i("select-date")):r.textInput||i("toggle")},te=()=>{i("real-blur"),k.value=!1,(!r.isMenuOpen||r.inline&&r.inlineWithInput)&&i("blur"),r.autoApply&&r.textInput&&R.value&&!r.isMenuOpen&&(i("set-input-date",R.value),i("select-date"),R.value=null)},$=()=>{i("clear")},V=j=>{if(!r.textInput){if(j.code==="Tab")return;j.preventDefault()}};return t({focusInput:()=>{var j;(j=K.value)==null||j.focus({preventScroll:!0})},setParsedDate:j=>{R.value=j}}),(j,x)=>{var P;return dt(),vt("div",{onClick:ie},[j.$slots.trigger&&!j.$slots["dp-input"]&&!j.inline?vn(j.$slots,"trigger",{key:0}):di("",!0),!j.$slots.trigger&&(!j.inline||j.inlineWithInput)?(dt(),vt("div",_U,[j.$slots["dp-input"]&&!j.$slots.trigger&&!j.inline?vn(j.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:D,onEnter:H,onTab:U,onClear:$,onBlur:te,onKeypress:V,onPaste:M}):di("",!0),j.$slots["dp-input"]?di("",!0):(dt(),vt("input",{key:1,ref_key:"inputRef",ref:K,id:j.uid?`dp-input-${j.uid}`:void 0,name:j.name,class:Ln(q.value),inputmode:j.textInput?"text":"none",placeholder:j.placeholder,disabled:j.disabled,readonly:j.readonly,required:j.required,value:e.inputValue,autocomplete:j.autocomplete,"aria-label":(P=Li(h).ariaLabels)==null?void 0:P.input,onInput:D,onKeydown:[Tr(H,["enter"]),Tr(U,["tab"]),V],onBlur:te,onFocus:E,onKeypress:V,onPaste:M},null,42,vU)),Ne("div",{onClick:x[2]||(x[2]=f=>i("toggle"))},[j.$slots["input-icon"]&&!j.hideInputIcon?(dt(),vt("span",{key:0,class:"dp__input_icon",onClick:x[0]||(x[0]=f=>i("toggle"))},[vn(j.$slots,"input-icon")])):di("",!0),!j.$slots["input-icon"]&&!j.hideInputIcon&&!j.$slots["dp-input"]?(dt(),Dr(Li(a2),{key:1,onClick:x[1]||(x[1]=f=>i("toggle")),class:"dp__input_icon dp__input_icons"})):di("",!0)]),j.$slots["clear-icon"]&&e.inputValue&&j.clearable&&!j.disabled&&!j.readonly?(dt(),vt("span",xU,[vn(j.$slots,"clear-icon",{clear:$})])):di("",!0),j.clearable&&!j.$slots["clear-icon"]&&e.inputValue&&!j.disabled&&!j.readonly?(dt(),Dr(Li(xj),{key:3,class:"dp__clear_icon dp__input_icons",onClick:Uo($,["stop","prevent"])},null,8,["onClick"])):di("",!0)])):di("",!0)])}}}),wU=["title"],TU={class:"dp__action_buttons"},SU=["onKeydown","disabled"],CU=Gl({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},calendarWidth:{type:Number,default:0},...Mf},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const i=e,{formatDate:r,isValidTime:o,defaults:d}=wd(i),{buildMatrix:h}=Ef(),s=Ki(null),v=Ki(null);Go(()=>{i.arrowNavigation&&h([Jo(s),Jo(v)],"actionRow")});const R=un(()=>i.range&&!i.partialRange&&i.internalModelValue?i.internalModelValue.length===2:!0),K=un(()=>!k.value||!z.value||!R.value),k=un(()=>!i.enableTimePicker||i.ignoreTimeValidation?!0:o(i.internalModelValue)),z=un(()=>i.monthPicker?i.range&&Array.isArray(i.internalModelValue)?!i.internalModelValue.filter(U=>!D(U)).length:D(i.internalModelValue):!0),q=()=>{const U=d.value.previewFormat;return i.timePicker||i.monthPicker,U(Rl(i.internalModelValue))},L=()=>{const U=i.internalModelValue;return d.value.multiCalendars>0?`${O(U[0])} - ${O(U[1])}`:[O(U[0]),O(U[1])]},O=U=>r(U,d.value.previewFormat),G=un(()=>!i.internalModelValue||!i.menuMount?"":typeof d.value.previewFormat=="string"?Array.isArray(i.internalModelValue)?i.internalModelValue.length===2&&i.internalModelValue[1]?L():i.multiDates?i.internalModelValue.map(U=>`${O(U)}`):i.modelAuto?`${O(i.internalModelValue[0])}`:`${O(i.internalModelValue[0])} -`:O(i.internalModelValue):q()),M=()=>i.multiDates?"; ":" - ",S=un(()=>Array.isArray(G.value)?G.value.join(M()):G.value),D=U=>{if(!i.monthPicker)return!0;let E=!0;const ie=Xi(Dy(U));if(i.minDate&&i.maxDate){const te=Xi(Dy(i.minDate)),$=Xi(Dy(i.maxDate));return vc(ie,te)&&Fl(ie,$)||Vs(ie,te)||Vs(ie,$)}if(i.minDate){const te=Xi(Dy(i.minDate));E=vc(ie,te)||Vs(ie,te)}if(i.maxDate){const te=Xi(Dy(i.maxDate));E=Fl(ie,te)||Vs(ie,te)}return E},H=()=>{k.value&&z.value&&R.value?t("select-date"):t("invalid-select")};return(U,E)=>(dt(),vt("div",{class:"dp__action_row",style:$o(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[U.$slots["action-row"]?vn(U.$slots,"action-row",Ca(Ko({key:0},{internalModelValue:e.internalModelValue,disabled:K.value,selectDate:()=>U.$emit("select-date"),closePicker:()=>U.$emit("close-picker")}))):(dt(),vt(Yi,{key:1},[Li(d).actionRow.showPreview?(dt(),vt("div",{key:0,class:"dp__selection_preview",title:S.value},[U.$slots["action-preview"]?vn(U.$slots,"action-preview",{key:0,value:e.internalModelValue}):di("",!0),U.$slots["action-preview"]?di("",!0):(dt(),vt(Yi,{key:1},[rs($i(S.value),1)],64))],8,wU)):di("",!0),Ne("div",TU,[U.$slots["action-buttons"]?vn(U.$slots,"action-buttons",{key:0,value:e.internalModelValue}):di("",!0),U.$slots["action-buttons"]?di("",!0):(dt(),vt(Yi,{key:1},[!U.inline&&Li(d).actionRow.showCancel?(dt(),vt("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:E[0]||(E[0]=ie=>U.$emit("close-picker")),onKeydown:[E[1]||(E[1]=Tr(ie=>U.$emit("close-picker"),["enter"])),E[2]||(E[2]=Tr(ie=>U.$emit("close-picker"),["space"]))]},$i(U.cancelText),545)):di("",!0),U.showNowButton||Li(d).actionRow.showNow?(dt(),vt("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:E[3]||(E[3]=ie=>U.$emit("select-now")),onKeydown:[E[4]||(E[4]=Tr(ie=>U.$emit("select-now"),["enter"])),E[5]||(E[5]=Tr(ie=>U.$emit("select-now"),["space"]))]},$i(U.nowButtonLabel),545)):di("",!0),Li(d).actionRow.showSelect?(dt(),vt("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[Tr(H,["enter"]),Tr(H,["space"])],onClick:H,disabled:K.value,ref_key:"selectButtonRef",ref:v},$i(U.selectText),41,SU)):di("",!0)],64))])],64))],4))}}),EU=["aria-label"],MU={class:"dp__calendar_header",role:"row"},kU={key:0,class:"dp__calendar_header_item",role:"gridcell"},AU=Ne("div",{class:"dp__calendar_header_separator"},null,-1),PU=["aria-label"],DU={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},IU={class:"dp__cell_inner"},LU=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],OU=Gl({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Mf},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:i}){const r=e,{buildMultiLevelMatrix:o}=Ef(),{setDateMonthOrYear:d,defaults:h}=wd(r),s=Ki(null),v=Ki({bottom:"",left:"",transform:""}),R=Ki([]),K=Ki(null),k=Ki(!0),z=Ki(""),q=Ki({startX:0,endX:0,startY:0,endY:0}),L=Ki([]),O=Ki({left:"50%"}),G=un(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),M=un(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):Jj(r.formatLocale,r.locale,+r.weekStart));Go(()=>{i("mount",{cmp:"calendar",refs:R}),r.noSwipe||K.value&&(K.value.addEventListener("touchstart",x,{passive:!1}),K.value.addEventListener("touchend",P,{passive:!1}),K.value.addEventListener("touchmove",f,{passive:!1})),r.monthChangeOnScroll&&K.value&&K.value.addEventListener("wheel",A,{passive:!1})});const S=X=>X?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",D=(X,Y)=>{if(r.transitions){const J=Jd(d(Xi(),r.month,r.year));z.value=vc(Jd(d(Xi(),X,Y)),J)?h.value.transitions[S(!0)]:h.value.transitions[S(!1)],k.value=!1,Fa(()=>{k.value=!0})}},H=un(()=>({[r.calendarClassName]:!!r.calendarClassName})),U=un(()=>X=>{const Y=iU(X);return{dp__marker_dot:Y.type==="dot",dp__marker_line:Y.type==="line"}}),E=un(()=>X=>Vs(X,s.value)),ie=un(()=>({dp__calendar:!0,dp__calendar_next:h.value.multiCalendars>0&&r.instance!==0})),te=un(()=>X=>r.hideOffsetDates?X.current:!0),$=un(()=>r.specificMode?{height:`${r.modeHeight}px`}:void 0),V=async(X,Y,J)=>{var ce,pe;if(i("set-hover-date",X),(pe=(ce=X.marker)==null?void 0:ce.tooltip)!=null&&pe.length){const fe=Jo(R.value[Y][J]);if(fe){const{width:F,height:Q}=fe.getBoundingClientRect();s.value=X.value;let se={left:`${F/2}px`},ue=-50;if(await Fa(),L.value[0]){const{left:Ce,width:ne}=L.value[0].getBoundingClientRect();Ce<0&&(se={left:"0"},ue=0,O.value.left=`${F/2}px`),window.innerWidth<Ce+ne&&(se={right:"0"},ue=0,O.value.left=`${ne-F/2}px`)}v.value={bottom:`${Q}px`,...se,transform:`translateX(${ue}%)`},i("tooltip-open",X.marker)}}},j=X=>{s.value&&(s.value=null,v.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),i("tooltip-close",X.marker))},x=X=>{q.value.startX=X.changedTouches[0].screenX,q.value.startY=X.changedTouches[0].screenY},P=X=>{q.value.endX=X.changedTouches[0].screenX,q.value.endY=X.changedTouches[0].screenY,g()},f=X=>{r.vertical&&!r.inline&&X.preventDefault()},g=()=>{const X=r.vertical?"Y":"X";Math.abs(q.value[`start${X}`]-q.value[`end${X}`])>10&&i("handle-swipe",q.value[`start${X}`]>q.value[`end${X}`]?"right":"left")},b=(X,Y,J)=>{X&&(Array.isArray(R.value[Y])?R.value[Y][J]=X:R.value[Y]=[X]),r.arrowNavigation&&o(R.value,"calendar")},A=X=>{r.monthChangeOnScroll&&(X.preventDefault(),i("handle-scroll",X))};return t({triggerTransition:D}),(X,Y)=>{var J;return dt(),vt("div",{class:Ln(ie.value)},[Ne("div",{style:$o($.value),ref_key:"calendarWrapRef",ref:K,role:"grid",class:Ln(H.value),"aria-label":(J=Li(h).ariaLabels)==null?void 0:J.calendarWrap},[e.specificMode?di("",!0):(dt(),vt(Yi,{key:0},[Ne("div",MU,[X.weekNumbers?(dt(),vt("div",kU,$i(X.weekNumName),1)):di("",!0),(dt(!0),vt(Yi,null,Xn(M.value,(ce,pe)=>(dt(),vt("div",{class:"dp__calendar_header_item",role:"gridcell",key:pe},[X.$slots["calendar-header"]?vn(X.$slots,"calendar-header",{key:0,day:ce,index:pe}):di("",!0),X.$slots["calendar-header"]?di("",!0):(dt(),vt(Yi,{key:1},[rs($i(ce),1)],64))]))),128))]),AU,an(Au,{name:z.value,css:!!X.transitions},{default:Hn(()=>{var ce;return[k.value?(dt(),vt("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(ce=Li(h).ariaLabels)==null?void 0:ce.calendarDays},[(dt(!0),vt(Yi,null,Xn(G.value,(pe,fe)=>(dt(),vt("div",{class:"dp__calendar_row",role:"row",key:fe},[X.weekNumbers?(dt(),vt("div",DU,[Ne("div",IU,$i(e.getWeekNum(pe.days)),1)])):di("",!0),(dt(!0),vt(Yi,null,Xn(pe.days,(F,Q)=>{var se,ue,Ce;return dt(),vt("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:ne=>b(ne,fe,Q),key:Q+fe,"aria-selected":F.classData.dp__active_date||F.classData.dp__range_start||F.classData.dp__range_start,"aria-disabled":F.classData.dp__cell_disabled,"aria-label":(ue=(se=Li(h).ariaLabels)==null?void 0:se.day)==null?void 0:ue.call(se,F),tabindex:"0",onClick:Uo(ne=>X.$emit("select-date",F),["stop","prevent"]),onKeydown:[Tr(ne=>X.$emit("select-date",F),["enter"]),Tr(ne=>X.$emit("handle-space",F),["space"])],onMouseenter:ne=>V(F,fe,Q),onMouseleave:ne=>j(F)},[Ne("div",{class:Ln(["dp__cell_inner",F.classData])},[X.$slots.day&&te.value(F)?vn(X.$slots,"day",{key:0,day:+F.text,date:F.value}):di("",!0),X.$slots.day?di("",!0):(dt(),vt(Yi,{key:1},[rs($i(F.text),1)],64)),F.marker&&te.value(F)?(dt(),vt(Yi,{key:2},[X.$slots.marker?vn(X.$slots,"marker",{key:0,marker:F.marker,day:+F.text,date:F.value}):(dt(),vt("div",{key:1,class:Ln(U.value(F.marker)),style:$o(F.marker.color?{backgroundColor:F.marker.color}:{})},null,6))],64)):di("",!0),E.value(F.value)?(dt(),vt("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:L,style:$o(v.value)},[(Ce=F.marker)!=null&&Ce.tooltip?(dt(),vt("div",{key:0,class:"dp__tooltip_content",onClick:Y[0]||(Y[0]=Uo(()=>{},["stop"]))},[(dt(!0),vt(Yi,null,Xn(F.marker.tooltip,(ne,ve)=>(dt(),vt("div",{key:ve,class:"dp__tooltip_text"},[X.$slots["marker-tooltip"]?vn(X.$slots,"marker-tooltip",{key:0,tooltip:ne,day:F.value}):di("",!0),X.$slots["marker-tooltip"]?di("",!0):(dt(),vt(Yi,{key:1},[Ne("div",{class:"dp__tooltip_mark",style:$o(ne.color?{backgroundColor:ne.color}:{})},null,4),Ne("div",null,$i(ne.text),1)],64))]))),128)),Ne("div",{class:"dp__arrow_bottom_tp",style:$o(O.value)},null,4)])):di("",!0)],4)):di("",!0)],2)],40,LU)}),128))]))),128))],8,PU)):di("",!0)]}),_:3},8,["name","css"])],64))],14,EU)],2)}}}),RU=["aria-label","aria-disabled"],A3=Gl({__name:"ActionIcon",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const i=Ki(null);return Go(()=>t("set-ref",i)),(r,o)=>(dt(),vt("button",{type:"button",class:"dp__btn dp__month_year_col_nav",onClick:o[0]||(o[0]=d=>r.$emit("activate")),onKeydown:[o[1]||(o[1]=Tr(Uo(d=>r.$emit("activate"),["prevent"]),["enter"])),o[2]||(o[2]=Tr(Uo(d=>r.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled,ref_key:"elRef",ref:i},[Ne("span",{class:Ln(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[vn(r.$slots,"default")],2)],40,RU))}}),BU=["onKeydown"],zU={class:"dp__selection_grid_header"},NU=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],FU=["aria-label","onKeydown"],Gy=Gl({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},autoApplyMonth:{type:Boolean,default:!1}},emits:["update:model-value","selected","toggle","reset-flow"],setup(e,{expose:t,emit:i}){const r=e,{setSelectionGrid:o,buildMultiLevelMatrix:d,setMonthPicker:h}=Ef(),{hideNavigationButtons:s}=wd(r),v=Ki(!1),R=Ki(null),K=Ki(null),k=Ki([]),z=Ki(),q=Ki(null),L=Ki(0),O=Ki(null);Hg(()=>{R.value=null}),Go(()=>{var A;Fa().then(()=>$()),M(),G(!0),(A=R.value)==null||A.focus({preventScroll:!0})}),hh(()=>G(!1));const G=A=>{var X;r.arrowNavigation&&((X=r.headerRefs)!=null&&X.length?h(A):o(A))},M=()=>{const A=Jo(K);A&&(r.textInput||A.focus({preventScroll:!0}),v.value=A.clientHeight<A.scrollHeight)},S=un(()=>({dp__overlay:!0})),D=un(()=>({dp__overlay_col:!0})),H=A=>r.monthPicker&&!r.autoApplyMonth?Vs(r.internalModelValue,ep(mg(new Date,A.value),r.year)):r.skipActive?!1:A.value===r.modelValue,U=un(()=>r.items.map(A=>A.filter(X=>X).map(X=>{var Y,J,ce;const pe=r.disabledValues.some(F=>F===X.value)||te(X.value),fe=(Y=r.multiModelValue)!=null&&Y.length?(J=r.multiModelValue)==null?void 0:J.some(F=>Vs(F,ep(r.monthPicker?mg(new Date,X.value):new Date,r.monthPicker?r.year:X.value))):H(X);return{...X,className:{dp__overlay_cell_active:fe,dp__overlay_cell:!fe,dp__overlay_cell_disabled:pe,dp__overlay_cell_active_disabled:pe&&fe,dp__overlay_cell_pad:!0,dp__cell_in_between:(ce=r.multiModelValue)!=null&&ce.length&&r.skipActive?j(X.value):!1}}}))),E=un(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:v.value,dp__button_bottom:r.autoApply})),ie=un(()=>{var A,X;return{dp__overlay_container:!0,dp__container_flex:((A=r.items)==null?void 0:A.length)<=6,dp__container_block:((X=r.items)==null?void 0:X.length)>6}}),te=A=>{const X=r.maxValue||r.maxValue===0,Y=r.minValue||r.minValue===0;return!X&&!Y?!1:X&&Y?+A>+r.maxValue||+A<+r.minValue:X?+A>+r.maxValue:Y?+A<+r.minValue:!1},$=()=>{const A=Jo(R),X=Jo(K),Y=Jo(q),J=Jo(O),ce=Y?Y.getBoundingClientRect().height:0;X&&(L.value=X.getBoundingClientRect().height-ce),A&&J&&(J.scrollTop=A.offsetTop-J.offsetTop-(L.value/2-A.getBoundingClientRect().height)-ce)},V=A=>{!r.disabledValues.some(X=>X===A)&&!te(A)&&(i("update:model-value",A),i("selected"))},j=A=>{const X=r.monthPicker?r.year:A;return C4(r.multiModelValue,ep(r.monthPicker?mg(new Date,z.value||0):new Date,r.monthPicker?X:z.value||X),ep(r.monthPicker?mg(new Date,A):new Date,X))},x=()=>{i("toggle"),i("reset-flow")},P=()=>{r.escClose&&x()},f=(A,X,Y,J)=>{A&&(X.value===+r.modelValue&&!r.disabledValues.includes(X.value)&&(R.value=A),r.arrowNavigation&&(Array.isArray(k.value[Y])?k.value[Y][J]=A:k.value[Y]=[A],g()))},g=()=>{var A,X;const Y=(A=r.headerRefs)!=null&&A.length?[r.headerRefs].concat(k.value):k.value.concat([r.skipButtonRef?[]:[q.value]]);d(Rl(Y),(X=r.headerRefs)!=null&&X.length?"monthPicker":"selectionGrid")},b=A=>{r.arrowNavigation||A.stopImmediatePropagation()};return t({focusGrid:M}),(A,X)=>{var Y;return dt(),vt("div",{ref_key:"gridWrapRef",ref:K,class:Ln(S.value),role:"dialog",tabindex:"0",onKeydown:[Tr(P,["esc"]),X[0]||(X[0]=Tr(J=>b(J),["left"])),X[1]||(X[1]=Tr(J=>b(J),["up"])),X[2]||(X[2]=Tr(J=>b(J),["down"])),X[3]||(X[3]=Tr(J=>b(J),["right"]))]},[Ne("div",{class:Ln(ie.value),ref_key:"containerRef",ref:O,role:"grid",style:$o({height:`${L.value}px`})},[Ne("div",zU,[vn(A.$slots,"header")]),A.$slots.overlay?vn(A.$slots,"overlay",{key:0}):(dt(!0),vt(Yi,{key:1},Xn(U.value,(J,ce)=>(dt(),vt("div",{class:Ln(["dp__overlay_row",{dp__flex_row:U.value.length>=3}]),key:ce,role:"row"},[(dt(!0),vt(Yi,null,Xn(J,(pe,fe)=>(dt(),vt("div",{role:"gridcell",class:Ln(D.value),key:pe.value,"aria-selected":pe.value===e.modelValue&&!e.disabledValues.includes(pe.value),"aria-disabled":pe.className.dp__overlay_cell_disabled,ref_for:!0,ref:F=>f(F,pe,ce,fe),tabindex:"0",onClick:F=>V(pe.value),onKeydown:[Tr(F=>V(pe.value),["enter"]),Tr(F=>V(pe.value),["space"])],onMouseover:F=>z.value=pe.value},[Ne("div",{class:Ln(pe.className)},[A.$slots.item?vn(A.$slots,"item",{key:0,item:pe}):di("",!0),A.$slots.item?di("",!0):(dt(),vt(Yi,{key:1},[rs($i(pe.text),1)],64))],2)],42,NU))),128))],2))),128))],6),A.$slots["button-icon"]?Ms((dt(),vt("div",{key:0,role:"button","aria-label":(Y=e.ariaLabels)==null?void 0:Y.toggleOverlay,class:Ln(E.value),tabindex:"0",ref_key:"toggleButton",ref:q,onClick:x,onKeydown:[Tr(x,["enter"]),Tr(x,["tab"])]},[vn(A.$slots,"button-icon")],42,FU)),[[U0,!Li(s)(e.type)]]):di("",!0)],42,BU)}}}),jU=["aria-label"],GE=Gl({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(e,{emit:t}){const i=e,{transitionName:r,showTransition:o}=l2(i.transitions),d=Ki(null);return Go(()=>t("set-ref",d)),(h,s)=>(dt(),vt(Yi,null,[Ne("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:s[0]||(s[0]=v=>h.$emit("toggle")),onKeydown:[s[1]||(s[1]=Tr(Uo(v=>h.$emit("toggle"),["prevent"]),["enter"])),s[2]||(s[2]=Tr(Uo(v=>h.$emit("toggle"),["prevent"]),["space"]))],"aria-label":e.ariaLabel,tabindex:"0",ref_key:"elRef",ref:d},[vn(h.$slots,"default")],40,jU),an(Au,{name:Li(r)(e.showSelectionGrid),css:Li(o)},{default:Hn(()=>[e.showSelectionGrid?(dt(),Dr(Gy,Ko({key:0},{modelValue:e.modelValue,items:e.items,disabledValues:e.disabledValues,minValue:e.minValue,maxValue:e.maxValue,escClose:e.escClose,type:e.type,arrowNavigation:e.arrowNavigation,textInput:e.textInput,autoApply:e.autoApply,ariaLabels:e.ariaLabels,hideNavigation:e.hideNavigation},{"header-refs":[],"onUpdate:modelValue":s[3]||(s[3]=v=>h.$emit("update:model-value",v)),onToggle:s[4]||(s[4]=v=>h.$emit("toggle"))}),Nl({"button-icon":Hn(()=>[h.$slots["calendar-icon"]?vn(h.$slots,"calendar-icon",{key:0}):di("",!0),h.$slots["calendar-icon"]?di("",!0):(dt(),Dr(Li(a2),{key:1}))]),_:2},[h.$slots[e.slotName]?{name:"item",fn:Hn(({item:v})=>[vn(h.$slots,e.slotName,{item:v})]),key:"0"}:void 0,h.$slots[e.overlaySlot]?{name:"overlay",fn:Hn(()=>[vn(h.$slots,e.overlaySlot)]),key:"1"}:void 0,h.$slots[`${e.overlaySlot}-header`]?{name:"header",fn:Hn(()=>[vn(h.$slots,`${e.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):di("",!0)]),_:3},8,["name","css"])],64))}}),UU={class:"dp__month_year_row"},$U={class:"dp__month_picker_header"},VU=["aria-label"],GU=["aria-label"],HU=["aria-label"],WU=Gl({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Mf},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:i}){const r=e,{defaults:o}=wd(r),{transitionName:d,showTransition:h}=l2(o.value.transitions),{buildMatrix:s}=Ef(),{handleMonthYearChange:v,isDisabled:R,updateMonthYear:K}=fU(r,i),k=Ki(!1),z=Ki(!1),q=Ki([null,null,null,null]),L=Ki(null),O=Ki(null),G=Ki(null);Go(()=>{i("mount")});const M=Q=>({get:()=>r[Q],set:se=>{const ue=Q==="month"?"year":"month";i("update-month-year",{[Q]:se,[ue]:r[ue]}),i("month-year-select",Q==="year"),Q==="month"?J(!0):ce(!0)}}),S=un(M("month")),D=un(M("year")),H=Q=>{const se=Mo(Xi(Q));return r.year===se},U=un(()=>r.monthPicker?Array.isArray(r.disabledDates)?r.disabledDates.map(Q=>Xi(Q)).filter(Q=>H(Q)).map(Q=>fo(Q)):[]:[]),E=un(()=>Q=>{const se=Q==="month";return{showSelectionGrid:(se?k:z).value,items:(se?g:b).value,disabledValues:o.value.filters[se?"months":"years"].concat(U.value),minValue:(se?V:te).value,maxValue:(se?j:$).value,headerRefs:se&&r.monthPicker?[L.value,O.value,G.value]:[],escClose:r.escClose,transitions:o.value.transitions,ariaLabels:o.value.ariaLabels,textInput:r.textInput,autoApply:r.autoApply,arrowNavigation:r.arrowNavigation,hideNavigation:r.hideNavigation}}),ie=un(()=>Q=>({month:r.month,year:r.year,items:Q==="month"?r.months:r.years,instance:r.instance,updateMonthYear:K,toggle:Q==="month"?J:ce})),te=un(()=>r.minDate?Mo(Xi(r.minDate)):null),$=un(()=>r.maxDate?Mo(Xi(r.maxDate)):null),V=un(()=>{if(r.minDate&&te.value){if(te.value>r.year)return 12;if(te.value===r.year)return fo(Xi(r.minDate))}return null}),j=un(()=>r.maxDate&&$.value?$.value<r.year?-1:$.value===r.year?fo(Xi(r.maxDate)):null:null),x=un(()=>(r.range||r.multiDates)&&r.internalModelValue&&(r.monthPicker||r.yearPicker)?r.internalModelValue:[]),P=Q=>{const se=[],ue=Ce=>Ce;for(let Ce=0;Ce<Q.length;Ce+=3){const ne=[Q[Ce],Q[Ce+1],Q[Ce+2]];se.push(ue(ne))}return se},f=un(()=>r.months.find(se=>se.value===r.month)||{text:"",value:0}),g=un(()=>P(r.months)),b=un(()=>P(r.years)),A=un(()=>o.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===0:!0),X=un(()=>o.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===o.value.multiCalendars-1:!0),Y=(Q,se)=>{se!==void 0?Q.value=se:Q.value=!Q.value},J=(Q=!1,se)=>{pe(Q),Y(k,se),k.value||i("overlay-closed")},ce=(Q=!1,se)=>{pe(Q),Y(z,se),z.value||i("overlay-closed")},pe=Q=>{Q||i("reset-flow")},fe=(Q=!1)=>{R.value(Q)||i("update-month-year",{year:Q?r.year+1:r.year-1,month:r.month,fromNav:!0})},F=(Q,se)=>{r.arrowNavigation&&(q.value[se]=Jo(Q),s(q.value,"monthYear"))};return t({toggleMonthPicker:J,toggleYearPicker:ce,handleMonthYearChange:v}),(Q,se)=>{var ue,Ce,ne,ve,_e;return dt(),vt("div",UU,[Q.$slots["month-year"]?vn(Q.$slots,"month-year",Ca(Ko({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:Li(K),handleMonthYearChange:Li(v),instance:e.instance}))):(dt(),vt(Yi,{key:1},[!Q.monthPicker&&!Q.yearPicker?(dt(),vt(Yi,{key:0},[A.value&&!Q.vertical?(dt(),Dr(A3,{key:0,"aria-label":(ue=Li(o).ariaLabels)==null?void 0:ue.prevMonth,disabled:Li(R)(!1),onActivate:se[0]||(se[0]=oe=>Li(v)(!1)),onSetRef:se[1]||(se[1]=oe=>F(oe,0))},{default:Hn(()=>[Q.$slots["arrow-left"]?vn(Q.$slots,"arrow-left",{key:0}):di("",!0),Q.$slots["arrow-left"]?di("",!0):(dt(),Dr(Li(ME),{key:1}))]),_:3},8,["aria-label","disabled"])):di("",!0),Ne("div",{class:Ln(["dp__month_year_wrap",{dp__year_disable_select:r.disableYearSelect}])},[an(GE,Ko({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(Ce=Li(o).ariaLabels)==null?void 0:Ce.openMonthsOverlay,modelValue:S.value,"onUpdate:modelValue":se[2]||(se[2]=oe=>S.value=oe)},E.value("month"),{onToggle:J,onSetRef:se[3]||(se[3]=oe=>F(oe,1))}),Nl({default:Hn(()=>[Q.$slots.month?vn(Q.$slots,"month",Ca(Ko({key:0},f.value))):di("",!0),Q.$slots.month?di("",!0):(dt(),vt(Yi,{key:1},[rs($i(f.value.text),1)],64))]),_:2},[Q.$slots["calendar-icon"]?{name:"calendar-icon",fn:Hn(()=>[vn(Q.$slots,"calendar-icon")]),key:"0"}:void 0,Q.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:Hn(({item:oe})=>[vn(Q.$slots,"month-overlay-value",{text:oe.text,value:oe.value})]),key:"1"}:void 0,Q.$slots["month-overlay"]?{name:"overlay-month",fn:Hn(()=>[vn(Q.$slots,"month-overlay",Ca(Bl(ie.value("month"))))]),key:"2"}:void 0,Q.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:Hn(()=>[vn(Q.$slots,"month-overlay-header",{toggle:J})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),r.disableYearSelect?di("",!0):(dt(),Dr(GE,Ko({key:0,type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(ne=Li(o).ariaLabels)==null?void 0:ne.openYearsOverlay,modelValue:D.value,"onUpdate:modelValue":se[4]||(se[4]=oe=>D.value=oe)},E.value("year"),{onToggle:ce,onSetRef:se[5]||(se[5]=oe=>F(oe,2))}),Nl({default:Hn(()=>[Q.$slots.year?vn(Q.$slots,"year",{key:0,year:e.year}):di("",!0),Q.$slots.year?di("",!0):(dt(),vt(Yi,{key:1},[rs($i(e.year),1)],64))]),_:2},[Q.$slots["calendar-icon"]?{name:"calendar-icon",fn:Hn(()=>[vn(Q.$slots,"calendar-icon")]),key:"0"}:void 0,Q.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:Hn(({item:oe})=>[vn(Q.$slots,"year-overlay-value",{text:oe.text,value:oe.value})]),key:"1"}:void 0,Q.$slots["year-overlay"]?{name:"overlay-year",fn:Hn(()=>[vn(Q.$slots,"year-overlay",Ca(Bl(ie.value("year"))))]),key:"2"}:void 0,Q.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:Hn(()=>[vn(Q.$slots,"year-overlay-header",{toggle:ce})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]))],2),A.value&&Q.vertical?(dt(),Dr(A3,{key:1,"aria-label":(ve=Li(o).ariaLabels)==null?void 0:ve.prevMonth,disabled:Li(R)(!1),onActivate:se[6]||(se[6]=oe=>Li(v)(!1))},{default:Hn(()=>[Q.$slots["arrow-up"]?vn(Q.$slots,"arrow-up",{key:0}):di("",!0),Q.$slots["arrow-up"]?di("",!0):(dt(),Dr(Li(T4),{key:1}))]),_:3},8,["aria-label","disabled"])):di("",!0),X.value?(dt(),Dr(A3,{key:2,ref:"rightIcon",disabled:Li(R)(!0),"aria-label":(_e=Li(o).ariaLabels)==null?void 0:_e.nextMonth,onActivate:se[7]||(se[7]=oe=>Li(v)(!0)),onSetRef:se[8]||(se[8]=oe=>F(oe,3))},{default:Hn(()=>[Q.$slots[Q.vertical?"arrow-down":"arrow-right"]?vn(Q.$slots,Q.vertical?"arrow-down":"arrow-right",{key:0}):di("",!0),Q.$slots[Q.vertical?"arrow-down":"arrow-right"]?di("",!0):(dt(),Dr(Fb(Q.vertical?Li(S4):Li(kE)),{key:1}))]),_:3},8,["disabled","aria-label"])):di("",!0)],64)):di("",!0),Q.monthPicker?(dt(),Dr(Gy,Ko({key:1},E.value("month"),{"skip-active":Q.range,"internal-model-value":e.internalModelValue,year:e.year,"auto-apply-month":Q.autoApplyMonth,"multi-model-value":x.value,"month-picker":"",modelValue:S.value,"onUpdate:modelValue":se[17]||(se[17]=oe=>S.value=oe),onToggle:J,onSelected:se[18]||(se[18]=oe=>Q.$emit("overlay-closed"))}),Nl({header:Hn(()=>{var oe,ye,Se;return[Ne("div",$U,[Ne("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:L,onClick:se[9]||(se[9]=Re=>fe(!1)),onKeydown:se[10]||(se[10]=Tr(Re=>fe(!1),["enter"]))},[Ne("div",{class:Ln(["dp__inner_nav",{dp__inner_nav_disabled:Li(R)(!1)}]),role:"button","aria-label":(oe=Li(o).ariaLabels)==null?void 0:oe.prevMonth},[Q.$slots["arrow-left"]?vn(Q.$slots,"arrow-left",{key:0}):di("",!0),Q.$slots["arrow-left"]?di("",!0):(dt(),Dr(Li(ME),{key:1}))],10,VU)],544),Ne("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:O,"aria-label":(ye=Li(o).ariaLabels)==null?void 0:ye.openYearsOverlay,tabindex:"0",onClick:se[11]||(se[11]=()=>ce(!1)),onKeydown:se[12]||(se[12]=Tr(()=>ce(!1),["enter"]))},[Q.$slots.year?vn(Q.$slots,"year",{key:0,year:e.year}):di("",!0),Q.$slots.year?di("",!0):(dt(),vt(Yi,{key:1},[rs($i(e.year),1)],64))],40,GU),Ne("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:G,onClick:se[13]||(se[13]=Re=>fe(!0)),onKeydown:se[14]||(se[14]=Tr(Re=>fe(!0),["enter"]))},[Ne("div",{class:Ln(["dp__inner_nav",{dp__inner_nav_disabled:Li(R)(!0)}]),role:"button","aria-label":(Se=Li(o).ariaLabels)==null?void 0:Se.nextMonth},[Q.$slots["arrow-right"]?vn(Q.$slots,"arrow-right",{key:0}):di("",!0),Q.$slots["arrow-right"]?di("",!0):(dt(),Dr(Li(kE),{key:1}))],10,HU)],544)]),an(Au,{name:Li(d)(z.value),css:Li(h)},{default:Hn(()=>[z.value?(dt(),Dr(Gy,Ko({key:0},E.value("year"),{modelValue:D.value,"onUpdate:modelValue":se[15]||(se[15]=Re=>D.value=Re),onToggle:ce,onSelected:se[16]||(se[16]=Re=>Q.$emit("overlay-closed"))}),Nl({"button-icon":Hn(()=>[Q.$slots["calendar-icon"]?vn(Q.$slots,"calendar-icon",{key:0}):di("",!0),Q.$slots["calendar-icon"]?di("",!0):(dt(),Dr(Li(a2),{key:1}))]),_:2},[Q.$slots["year-overlay-value"]?{name:"item",fn:Hn(({item:Re})=>[vn(Q.$slots,"year-overlay-value",{text:Re.text,value:Re.value})]),key:"0"}:void 0]),1040,["modelValue"])):di("",!0)]),_:3},8,["name","css"])]}),_:2},[Q.$slots["month-overlay-value"]?{name:"item",fn:Hn(({item:oe})=>[vn(Q.$slots,"month-overlay-value",{text:oe.text,value:oe.value})]),key:"0"}:void 0]),1040,["skip-active","internal-model-value","year","auto-apply-month","multi-model-value","modelValue"])):di("",!0),Q.yearPicker?(dt(),Dr(Gy,Ko({key:2},E.value("year"),{modelValue:D.value,"onUpdate:modelValue":se[19]||(se[19]=oe=>D.value=oe),"multi-model-value":x.value,"skip-active":Q.range,"skip-button-ref":"","year-picker":"",onToggle:ce,onSelected:se[20]||(se[20]=oe=>Q.$emit("overlay-closed"))}),Nl({_:2},[Q.$slots["year-overlay-value"]?{name:"item",fn:Hn(({item:oe})=>[vn(Q.$slots,"year-overlay-value",{text:oe.text,value:oe.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):di("",!0)],64))])}}}),YU={key:0,class:"dp__time_input"},qU=["aria-label","onKeydown","onClick"],XU=Ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ZU=Ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),KU=["aria-label","onKeydown","onClick"],JU=["aria-label","onKeydown","onClick"],QU=Ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),e$=Ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),t$={key:0},i$=["aria-label","onKeydown"],n$=Gl({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Mf},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:i}){const r=e,{setTimePickerElements:o,setTimePickerBackRef:d}=Ef(),{defaults:h}=wd(r),{transitionName:s,showTransition:v}=l2(h.value.transitions),R=iu({hours:!1,minutes:!1,seconds:!1}),K=Ki("AM"),k=Ki(null),z=Ki([]);Go(()=>{i("mounted")});const q=Y=>il(new Date,{hours:Y.hours,minutes:Y.minutes,seconds:r.enableSeconds?Y.seconds:0,milliseconds:0}),L=un(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),O=un(()=>Y=>!te(+r[Y]+ +r[`${Y}Increment`],Y)),G=un(()=>Y=>!te(+r[Y]-+r[`${Y}Increment`],Y)),M=(Y,J)=>i4(il(Xi(),Y),J),S=(Y,J)=>_j(il(Xi(),Y),J),D=un(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),H=un(()=>{const Y=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return r.enableSeconds?Y.concat([{type:"",separator:!0},{type:"seconds"}]):Y}),U=un(()=>H.value.filter(Y=>!Y.separator)),E=un(()=>Y=>{if(Y==="hours"){const J=f(+r.hours);return{text:J<10?`0${J}`:`${J}`,value:J}}return{text:r[Y]<10?`0${r[Y]}`:`${r[Y]}`,value:r[Y]}}),ie=Y=>{const J=r.is24?24:12,ce=Y==="hours"?J:60,pe=+r[`${Y}GridIncrement`],fe=Y==="hours"&&!r.is24?pe:0,F=[];for(let Q=fe;Q<ce;Q+=pe)F.push({value:Q,text:Q<10?`0${Q}`:`${Q}`});return Y==="hours"&&!r.is24&&F.push({value:0,text:"12"}),Zj(F)},te=(Y,J)=>{const ce=r.minTime?q(x3(r.minTime)):null,pe=r.maxTime?q(x3(r.maxTime)):null,fe=q(x3(L.value,J,Y));return ce&&pe?(a_(fe,pe)||O0(fe,pe))&&(o_(fe,ce)||O0(fe,ce)):ce?o_(fe,ce)||O0(fe,ce):pe?a_(fe,pe)||O0(fe,pe):!0},$=un(()=>Y=>ie(Y).flat().filter(J=>nU(J.value)).map(J=>J.value).filter(J=>!te(J,Y))),V=Y=>r[`no${Y[0].toUpperCase()+Y.slice(1)}Overlay`],j=Y=>{V(Y)||(R[Y]=!R[Y],R[Y]||i("overlay-closed"))},x=Y=>Y==="hours"?Xh:Y==="minutes"?Zh:zg,P=(Y,J=!0)=>{const ce=J?M:S,pe=J?+r[`${Y}Increment`]:-+r[`${Y}Increment`];te(+r[Y]+pe,Y)&&i(`update:${Y}`,x(Y)(ce({[Y]:+r[Y]},{[Y]:+r[`${Y}Increment`]})))},f=Y=>r.is24?Y:(Y>=12?K.value="PM":K.value="AM",tU(Y)),g=()=>{K.value==="PM"?(K.value="AM",i("update:hours",r.hours-12)):(K.value="PM",i("update:hours",r.hours+12)),i("am-pm-change",K.value)},b=Y=>{R[Y]=!0},A=(Y,J,ce)=>{if(Y&&r.arrowNavigation){Array.isArray(z.value[J])?z.value[J][ce]=Y:z.value[J]=[Y];const pe=z.value.reduce((fe,F)=>F.map((Q,se)=>[...fe[se]||[],F[se]]),[]);d(r.closeTimePickerBtn),k.value&&(pe[1]=pe[1].concat(k.value)),o(pe,r.order)}},X=(Y,J)=>Y==="hours"&&!r.is24?i(`update:${Y}`,K.value==="PM"?J+12:J):i(`update:${Y}`,J);return t({openChildCmp:b}),(Y,J)=>{var ce;return Y.disabled?di("",!0):(dt(),vt("div",YU,[(dt(!0),vt(Yi,null,Xn(H.value,(pe,fe)=>{var F,Q,se;return dt(),vt("div",{key:fe,class:Ln(D.value)},[pe.separator?(dt(),vt(Yi,{key:0},[rs(" : ")],64)):(dt(),vt(Yi,{key:1},[Ne("button",{type:"button",class:Ln({dp__btn:!0,dp__inc_dec_button:!r.timePickerInline,dp__inc_dec_button_inline:r.timePickerInline,dp__tp_inline_btn_top:r.timePickerInline,dp__inc_dec_button_disabled:O.value(pe.type)}),"aria-label":(F=Li(h).ariaLabels)==null?void 0:F.incrementValue(pe.type),tabindex:"0",onKeydown:[Tr(ue=>P(pe.type),["enter"]),Tr(ue=>P(pe.type),["space"])],onClick:ue=>P(pe.type),ref_for:!0,ref:ue=>A(ue,fe,0)},[r.timePickerInline?(dt(),vt(Yi,{key:1},[XU,ZU],64)):(dt(),vt(Yi,{key:0},[Y.$slots["arrow-up"]?vn(Y.$slots,"arrow-up",{key:0}):di("",!0),Y.$slots["arrow-up"]?di("",!0):(dt(),Dr(Li(T4),{key:1}))],64))],42,qU),Ne("button",{type:"button","aria-label":(Q=Li(h).ariaLabels)==null?void 0:Q.openTpOverlay(pe.type),class:Ln(["dp__btn",V(pe.type)?void 0:{dp__time_display:!0,dp__time_display_block:!r.timePickerInline,dp__time_display_inline:r.timePickerInline}]),tabindex:"0",onKeydown:[Tr(ue=>j(pe.type),["enter"]),Tr(ue=>j(pe.type),["space"])],onClick:ue=>j(pe.type),ref_for:!0,ref:ue=>A(ue,fe,1)},[Y.$slots[pe.type]?vn(Y.$slots,pe.type,{key:0,text:E.value(pe.type).text,value:E.value(pe.type).value}):di("",!0),Y.$slots[pe.type]?di("",!0):(dt(),vt(Yi,{key:1},[rs($i(E.value(pe.type).text),1)],64))],42,KU),Ne("button",{type:"button",class:Ln({dp__btn:!0,dp__inc_dec_button:!r.timePickerInline,dp__inc_dec_button_inline:r.timePickerInline,dp__tp_inline_btn_bottom:r.timePickerInline,dp__inc_dec_button_disabled:G.value(pe.type)}),"aria-label":(se=Li(h).ariaLabels)==null?void 0:se.decrementValue(pe.type),tabindex:"0",onKeydown:[Tr(ue=>P(pe.type,!1),["enter"]),Tr(ue=>P(pe.type,!1),["space"])],onClick:ue=>P(pe.type,!1),ref_for:!0,ref:ue=>A(ue,fe,2)},[r.timePickerInline?(dt(),vt(Yi,{key:1},[QU,e$],64)):(dt(),vt(Yi,{key:0},[Y.$slots["arrow-down"]?vn(Y.$slots,"arrow-down",{key:0}):di("",!0),Y.$slots["arrow-down"]?di("",!0):(dt(),Dr(Li(S4),{key:1}))],64))],42,JU)],64))],2)}),128)),Y.is24?di("",!0):(dt(),vt("div",t$,[Y.$slots["am-pm-button"]?vn(Y.$slots,"am-pm-button",{key:0,toggle:g,value:K.value}):di("",!0),Y.$slots["am-pm-button"]?di("",!0):(dt(),vt("button",{key:1,ref_key:"amPmButton",ref:k,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ce=Li(h).ariaLabels)==null?void 0:ce.amPmButton,tabindex:"0",onClick:g,onKeydown:[Tr(Uo(g,["prevent"]),["enter"]),Tr(Uo(g,["prevent"]),["space"])]},$i(K.value),41,i$))])),(dt(!0),vt(Yi,null,Xn(U.value,(pe,fe)=>(dt(),Dr(Au,{key:fe,name:Li(s)(R[pe.type]),css:Li(v)},{default:Hn(()=>[R[pe.type]?(dt(),Dr(Gy,{key:0,items:ie(pe.type),"disabled-values":Li(h).filters.times[pe.type].concat($.value(pe.type)),"esc-close":Y.escClose,"aria-labels":Li(h).ariaLabels,"hide-navigation":Y.hideNavigation,"onUpdate:modelValue":F=>X(pe.type,F),onSelected:F=>j(pe.type),onToggle:F=>j(pe.type),onResetFlow:J[0]||(J[0]=F=>Y.$emit("reset-flow")),type:pe.type},Nl({"button-icon":Hn(()=>[Y.$slots["clock-icon"]?vn(Y.$slots,"clock-icon",{key:0}):di("",!0),Y.$slots["clock-icon"]?di("",!0):(dt(),Dr(Li(w4),{key:1}))]),_:2},[Y.$slots[`${pe.type}-overlay-value`]?{name:"item",fn:Hn(({item:F})=>[vn(Y.$slots,`${pe.type}-overlay-value`,{text:F.text,value:F.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):di("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),r$=["aria-label"],s$=["tabindex"],o$=["aria-label"],a$=Gl({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Mf},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:i}){const r=e,{buildMatrix:o,setTimePicker:d}=Ef(),h=m_(),{hideNavigationButtons:s,defaults:v}=wd(r),{transitionName:R,showTransition:K}=l2(v.value.transitions),k=Ki(null),z=Ki(null),q=Ki([]),L=Ki(null);Go(()=>{i("mount"),!r.timePicker&&r.arrowNavigation?o([Jo(k.value)],"time"):d(!0,r.timePicker)});const O=un(()=>r.range&&r.modelAuto?P4(r.internalModelValue):!0),G=Ki(!1),M=j=>({hours:Array.isArray(r.hours)?r.hours[j]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[j]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[j]:r.seconds}),S=un(()=>{const j=[];if(r.range)for(let x=0;x<2;x++)j.push(M(x));else j.push(M(0));return j}),D=(j,x=!1,P="")=>{x||i("reset-flow"),G.value=j,i(j?"overlay-opened":"overlay-closed"),r.arrowNavigation&&d(j),Fa(()=>{P!==""&&q.value[0]&&q.value[0].openChildCmp(P)})},H=un(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!r.keepActionRow})),U=R0(h,"timePicker"),E=(j,x,P)=>r.range?x===0?[j,S.value[1][P]]:[S.value[0][P],j]:j,ie=j=>{i("update:hours",j)},te=j=>{i("update:minutes",j)},$=j=>{i("update:seconds",j)},V=()=>{if(L.value){const j=rU(L.value);j&&j.focus({preventScroll:!0})}};return t({toggleTimePicker:D}),(j,x)=>{var P;return dt(),vt("div",null,[!j.timePicker&&!j.timePickerInline?Ms((dt(),vt("button",{key:0,type:"button",class:Ln(H.value),"aria-label":(P=Li(v).ariaLabels)==null?void 0:P.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:k,onKeydown:[x[0]||(x[0]=Tr(f=>D(!0),["enter"])),x[1]||(x[1]=Tr(f=>D(!0),["space"]))],onClick:x[2]||(x[2]=f=>D(!0))},[j.$slots["clock-icon"]?vn(j.$slots,"clock-icon",{key:0}):di("",!0),j.$slots["clock-icon"]?di("",!0):(dt(),Dr(Li(w4),{key:1}))],42,r$)),[[U0,!Li(s)("time")]]):di("",!0),an(Au,{name:Li(R)(G.value),css:Li(K)&&!j.timePickerInline},{default:Hn(()=>{var f;return[G.value||j.timePicker||j.timePickerInline?(dt(),vt("div",{key:0,class:Ln({dp__overlay:!j.timePickerInline}),ref_key:"overlayRef",ref:L,tabindex:j.timePickerInline?void 0:0},[Ne("div",{class:Ln(j.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[j.$slots["time-picker-overlay"]?vn(j.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:ie,setMinutes:te,setSeconds:$}):di("",!0),j.$slots["time-picker-overlay"]?di("",!0):(dt(),vt("div",{key:1,class:Ln(j.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(dt(!0),vt(Yi,null,Xn(S.value,(g,b)=>Ms((dt(),Dr(n$,Ko({key:b},{...j.$props,order:b,hours:g.hours,minutes:g.minutes,seconds:g.seconds,closeTimePickerBtn:z.value,disabled:b===0?j.fixedStart:j.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:q,"onUpdate:hours":A=>ie(E(A,b,"hours")),"onUpdate:minutes":A=>te(E(A,b,"minutes")),"onUpdate:seconds":A=>$(E(A,b,"seconds")),onMounted:V,onOverlayClosed:V,onAmPmChange:x[3]||(x[3]=A=>j.$emit("am-pm-change",A))}),Nl({_:2},[Xn(Li(U),(A,X)=>({name:A,fn:Hn(Y=>[vn(j.$slots,A,Ca(Bl(Y)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[U0,b===0?!0:O.value]])),128))],2)),!j.timePicker&&!j.timePickerInline?Ms((dt(),vt("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:z,class:Ln(H.value),"aria-label":(f=Li(v).ariaLabels)==null?void 0:f.closeTimePicker,tabindex:"0",onKeydown:[x[4]||(x[4]=Tr(g=>D(!1),["enter"])),x[5]||(x[5]=Tr(g=>D(!1),["space"]))],onClick:x[6]||(x[6]=g=>D(!1))},[j.$slots["calendar-icon"]?vn(j.$slots,"calendar-icon",{key:0}):di("",!0),j.$slots["calendar-icon"]?di("",!0):(dt(),Dr(Li(a2),{key:1}))],42,o$)),[[U0,!Li(s)("time")]]):di("",!0)],2)],10,s$)):di("",!0)]}),_:3},8,["name","css"])])}}}),l$=(e,t)=>{const{isDisabled:i,matchDate:r,getWeekFromDate:o,defaults:d}=wd(t),h=Ki(null),s=Ki(Xi()),v=Y=>{!Y.current&&t.hideOffsetDates||(h.value=Y.value)},R=()=>{h.value=null},K=Y=>Array.isArray(e.value)&&t.range&&e.value[0]&&h.value?Y?vc(h.value,e.value[0]):Fl(h.value,e.value[0]):!0,k=(Y,J)=>{const ce=()=>e.value?J?e.value[0]||null:e.value[1]:null,pe=e.value&&Array.isArray(e.value)?ce():null;return Vs(Xi(Y.value),pe)},z=Y=>{const J=Array.isArray(e.value)?e.value[0]:null;return Y?!Fl(h.value||null,J):!0},q=(Y,J=!0)=>(t.range||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!Y.current?!1:Vs(Xi(Y.value),e.value[J?0:1]):t.range?k(Y,J)&&z(J)||Vs(Y.value,Array.isArray(e.value)?e.value[0]:null)&&K(J):!1,L=(Y,J,ce)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?Y?!1:ce?vc(e.value[0],J.value):Fl(e.value[0],J.value):!1,O=Y=>!e.value||t.hideOffsetDates&&!Y.current?!1:t.range?t.modelAuto&&Array.isArray(e.value)?Vs(Y.value,e.value[0]?e.value[0]:s.value):!1:t.multiDates&&Array.isArray(e.value)?e.value.some(J=>Vs(J,Y.value)):Vs(Y.value,e.value?e.value:s.value),G=Y=>{if(t.autoRange||t.weekPicker){if(h.value){if(t.hideOffsetDates&&!Y.current)return!1;const J=Qh(h.value,+t.autoRange),ce=o(Xi(h.value));return t.weekPicker?Vs(ce[1],Xi(Y.value)):Vs(J,Xi(Y.value))}return!1}return!1},M=Y=>{if(t.autoRange||t.weekPicker){if(h.value){const J=Qh(h.value,+t.autoRange);if(t.hideOffsetDates&&!Y.current)return!1;const ce=o(Xi(h.value));return t.weekPicker?vc(Y.value,ce[0])&&Fl(Y.value,ce[1]):vc(Y.value,h.value)&&Fl(Y.value,J)}return!1}return!1},S=Y=>{if(t.autoRange||t.weekPicker){if(h.value){if(t.hideOffsetDates&&!Y.current)return!1;const J=o(Xi(h.value));return t.weekPicker?Vs(J[0],Y.value):Vs(h.value,Y.value)}return!1}return!1},D=Y=>C4(e.value,h.value,Y.value),H=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,U=()=>t.modelAuto?P4(t.internalModelValue):!0,E=Y=>{if(Array.isArray(e.value)&&e.value.length||t.weekPicker)return!1;const J=t.range?!q(Y)&&!q(Y,!1):!0;return!i(Y.value)&&!O(Y)&&!(!Y.current&&t.hideOffsetDates)&&J},ie=Y=>t.range?t.modelAuto?H()&&O(Y):!1:O(Y),te=Y=>{var J;return t.highlight?r(Y.value,(J=t.arrMapValues)!=null&&J.highlightedDates?t.arrMapValues.highlightedDates:t.highlight):!1},$=Y=>i(Y.value)&&t.highlightDisabledDays===!1,V=Y=>t.highlightWeekDays&&t.highlightWeekDays.includes(Y.value.getDay()),j=Y=>(t.range||t.weekPicker)&&(!(d.value.multiCalendars>0)||Y.current)&&U()&&!(!Y.current&&t.hideOffsetDates)&&!O(Y)?D(Y):!1,x=Y=>{const{isRangeStart:J,isRangeEnd:ce}=g(Y),pe=t.range?J||ce:!1;return{dp__cell_offset:!Y.current,dp__pointer:!t.disabled&&!(!Y.current&&t.hideOffsetDates)&&!i(Y.value),dp__cell_disabled:i(Y.value),dp__cell_highlight:!$(Y)&&(te(Y)||V(Y))&&!ie(Y)&&!pe,dp__cell_highlight_active:!$(Y)&&(te(Y)||V(Y))&&ie(Y),dp__today:!t.noToday&&Vs(Y.value,s.value)&&Y.current}},P=Y=>({dp__active_date:ie(Y),dp__date_hover:E(Y)}),f=Y=>({...b(Y),...A(Y),dp__range_between_week:j(Y)&&t.weekPicker}),g=Y=>{const J=d.value.multiCalendars>0?Y.current&&q(Y)&&U():q(Y)&&U(),ce=d.value.multiCalendars>0?Y.current&&q(Y,!1)&&U():q(Y,!1)&&U();return{isRangeStart:J,isRangeEnd:ce}},b=Y=>{const{isRangeStart:J,isRangeEnd:ce}=g(Y);return{dp__range_start:J,dp__range_end:ce,dp__range_between:j(Y)&&!t.weekPicker,dp__date_hover_start:L(E(Y),Y,!0),dp__date_hover_end:L(E(Y),Y,!1)}},A=Y=>({...b(Y),dp__cell_auto_range:M(Y),dp__cell_auto_range_start:S(Y),dp__cell_auto_range_end:G(Y)}),X=Y=>t.range?t.autoRange?A(Y):t.modelAuto?{...P(Y),...b(Y)}:b(Y):t.weekPicker?f(Y):P(Y);return{setHoverDate:v,clearHoverDate:R,getDayClassData:Y=>t.hideOffsetDates&&!Y.current?{}:{...x(Y),...X(Y),[t.dayClass?t.dayClass(Y.value):""]:!0,[t.calendarCellClassName]:!!t.calendarCellClassName}}},c$=["id","onKeydown"],d$={key:0,class:"dp__sidebar_left"},u$={key:1,class:"dp__preset_ranges"},h$=["onClick"],p$={key:2,class:"dp__sidebar_right"},f$={key:3,class:"dp__action_extra"},m$=Gl({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},...Mf},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:i}){const r=e,o=un(()=>{const{openOnTop:ui,internalModelValue:Vi,arrMapValues:qi,...Nr}=r;return Nr}),{setMenuFocused:d,setShiftKey:h,control:s}=E4(),{getCalendarDays:v,defaults:R}=wd(r),K=m_(),k=Ki(null),z=iu({timePicker:!!(!r.enableTimePicker||r.timePicker||r.monthPicker),monthYearInput:!!r.timePicker,calendar:!1}),q=Ki([]),L=Ki([]),O=Ki(null),G=Ki(null),M=Ki(0),S=Ki(!1),D=Ki(0);Go(()=>{var ui;S.value=!0,!((ui=r.presetRanges)!=null&&ui.length)&&!K["left-sidebar"]&&!K["right-sidebar"]&&(Qe(),window.addEventListener("resize",Qe));const Vi=Jo(G);if(Vi&&!r.textInput&&!r.inline&&(d(!0),$()),Vi){const qi=Nr=>{r.allowPreventDefault&&Nr.preventDefault(),Nr.stopImmediatePropagation(),Nr.stopPropagation()};Vi.addEventListener("pointerdown",qi),Vi.addEventListener("mousedown",qi)}}),hh(()=>{window.removeEventListener("resize",Qe)});const{arrowRight:H,arrowLeft:U,arrowDown:E,arrowUp:ie}=Ef(),te=ui=>{ui||ui===0?L.value[ui].triggerTransition(f.value(ui),g.value(ui)):L.value.forEach((Vi,qi)=>Vi.triggerTransition(f.value(qi),g.value(qi)))},$=()=>{const ui=Jo(G);ui&&ui.focus({preventScroll:!0})},V=()=>{var ui;(ui=r.flow)!=null&&ui.length&&D.value!==-1&&(D.value+=1,i("flow-step",D.value),ei())},j=()=>{D.value=-1},{calendars:x,modelValue:P,month:f,year:g,time:b,updateTime:A,updateMonthYear:X,selectDate:Y,getWeekNum:J,monthYearSelect:ce,handleScroll:pe,handleArrow:fe,handleSwipe:F,getMarker:Q,selectCurrentDate:se,presetDateRange:ue}=hU(r,i,V,te,D),{setHoverDate:Ce,clearHoverDate:ne,getDayClassData:ve}=l$(P,r),_e={modelValue:P,month:f,year:g,time:b,updateTime:A,updateMonthYear:X,selectDate:Y,presetDateRange:ue,handleMonthYearChange:ui=>{q.value[0]&&q.value[0].handleMonthYearChange(ui)}};Xs(x,()=>{r.openOnTop&&setTimeout(()=>{i("recalculate-position")},0)},{deep:!0});const oe=R0(K,"calendar"),ye=R0(K,"action"),Se=R0(K,"timePicker"),Re=R0(K,"monthYear"),Le=un(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),$e=un(()=>Qj(r.yearRange,r.reverseYears)),rt=un(()=>eU(r.formatLocale,r.locale,r.monthNameFormat)),Qe=()=>{const ui=Jo(k);ui&&(M.value=ui.getBoundingClientRect().width)},qe=un(()=>ui=>v(f.value(ui),g.value(ui))),xe=un(()=>R.value.multiCalendars>0?[...Array(R.value.multiCalendars).keys()]:[0]),Ie=un(()=>ui=>ui===1),Be=un(()=>r.monthPicker||r.timePicker||r.yearPicker),Xe=un(()=>({dp__menu_inner:!0,dp__flex_display:R.value.multiCalendars>0})),Ke=un(()=>({dp__instance_calendar:R.value.multiCalendars>0})),ft=un(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly})),St=un(()=>ui=>yi(qe,ui)),Ot=un(()=>({dp__menu:!0,dp__menu_index:!r.inline,dp__relative:r.inline,[r.menuClassName]:!!r.menuClassName})),yi=(ui,Vi)=>ui.value(Vi).map(qi=>({...qi,days:qi.days.map(Nr=>(Nr.marker=Q(Nr),Nr.classData=ve(Nr),Nr))})),Wt=ui=>{ui.stopPropagation(),ui.stopImmediatePropagation()},fi=()=>{r.escClose&&i("close-picker")},Hi=(ui,Vi=!1)=>{Y(ui,Vi),r.spaceConfirm&&i("select-date")},pt=ui=>{var Vi;(Vi=r.flow)!=null&&Vi.length&&(z[ui]=!0,Object.keys(z).filter(qi=>!z[qi]).length||ei())},Lt=(ui,Vi,qi,Nr,...go)=>{if(r.flow[D.value]===ui){const wn=Nr?Vi.value[0]:Vi.value;wn&&wn[qi](...go)}},ei=()=>{Lt("month",q,"toggleMonthPicker",!0,!0),Lt("year",q,"toggleYearPicker",!0,!0),Lt("calendar",O,"toggleTimePicker",!1,!1,!0),Lt("time",O,"toggleTimePicker",!1,!0,!0);const ui=r.flow[D.value];(ui==="hours"||ui==="minutes"||ui==="seconds")&&Lt(ui,O,"toggleTimePicker",!1,!0,!0,ui)},Pi=ui=>{if(r.arrowNavigation){if(ui==="up")return ie();if(ui==="down")return E();if(ui==="left")return U();if(ui==="right")return H()}else ui==="left"||ui==="up"?fe("left",0,ui==="up"):fe("right",0,ui==="down")},cn=ui=>{h(ui.shiftKey),!r.disableMonthYearSelect&&ui.code==="Tab"&&ui.target.classList.contains("dp__menu")&&s.value.shiftKeyInMenu&&(ui.preventDefault(),ui.stopImmediatePropagation(),i("close-picker"))},Wn=()=>{$(),i("time-picker-close")},Kr=ui=>{var Vi,qi,Nr,go,wn;(Vi=O.value)==null||Vi.toggleTimePicker(!1,!1),(Nr=(qi=q.value)==null?void 0:qi[ui])==null||Nr.toggleMonthPicker(!1,!1),(wn=(go=q.value)==null?void 0:go[ui])==null||wn.toggleYearPicker(!1,!1)};return t({updateMonthYear:X,switchView:(ui,Vi=0)=>{var qi,Nr,go,wn,co;return ui==="month"?(Nr=(qi=q.value)==null?void 0:qi[Vi])==null?void 0:Nr.toggleMonthPicker(!1,!0):ui==="year"?(wn=(go=q.value)==null?void 0:go[Vi])==null?void 0:wn.toggleYearPicker(!1,!0):ui==="time"?(co=O.value)==null?void 0:co.toggleTimePicker(!0,!1):Kr(Vi)}}),(ui,Vi)=>{var qi;return dt(),Dr(Au,{appear:"",name:(qi=Li(R).transitions)==null?void 0:qi.menuAppear,css:!!ui.transitions},{default:Hn(()=>{var Nr,go;return[Ne("div",{id:ui.uid?`dp-menu-${ui.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:G,role:"dialog",class:Ln(Ot.value),onMouseleave:Vi[14]||(Vi[14]=(...wn)=>Li(ne)&&Li(ne)(...wn)),onClick:Wt,onKeydown:[Tr(fi,["esc"]),Vi[15]||(Vi[15]=Tr(Uo(wn=>Pi("left"),["prevent"]),["left"])),Vi[16]||(Vi[16]=Tr(Uo(wn=>Pi("up"),["prevent"]),["up"])),Vi[17]||(Vi[17]=Tr(Uo(wn=>Pi("down"),["prevent"]),["down"])),Vi[18]||(Vi[18]=Tr(Uo(wn=>Pi("right"),["prevent"]),["right"])),cn]},[(ui.disabled||ui.readonly)&&ui.inline?(dt(),vt("div",{key:0,class:Ln(ft.value)},null,2)):di("",!0),!ui.inline&&!ui.teleportCenter?(dt(),vt("div",{key:1,class:Ln(Le.value)},null,2)):di("",!0),Ne("div",{class:Ln({dp__menu_content_wrapper:((Nr=ui.presetRanges)==null?void 0:Nr.length)||!!ui.$slots["left-sidebar"]||!!ui.$slots["right-sidebar"]})},[ui.$slots["left-sidebar"]?(dt(),vt("div",d$,[vn(ui.$slots,"left-sidebar",Ca(Bl(_e)))])):di("",!0),(go=ui.presetRanges)!=null&&go.length?(dt(),vt("div",u$,[(dt(!0),vt(Yi,null,Xn(ui.presetRanges,(wn,co)=>(dt(),vt("div",{key:co,style:$o(wn.style||{}),class:"dp__preset_range",onClick:On=>Li(ue)(wn.range,!!wn.slot)},[wn.slot?vn(ui.$slots,wn.slot,{key:0,presetDateRange:Li(ue),label:wn.label,range:wn.range}):(dt(),vt(Yi,{key:1},[rs($i(wn.label),1)],64))],12,h$))),128))])):di("",!0),Ne("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:k,role:"document"},[Ne("div",{class:Ln(Xe.value)},[(dt(!0),vt(Yi,null,Xn(xe.value,(wn,co)=>(dt(),vt("div",{key:wn,class:Ln(Ke.value)},[!ui.disableMonthYearSelect&&!ui.timePicker?(dt(),Dr(WU,Ko({key:0,ref_for:!0,ref:On=>{On&&(q.value[co]=On)},months:rt.value,years:$e.value,month:Li(f)(wn),year:Li(g)(wn),instance:wn,"internal-model-value":e.internalModelValue},o.value,{onMount:Vi[0]||(Vi[0]=On=>pt("monthYearInput")),onResetFlow:j,onUpdateMonthYear:On=>Li(X)(wn,On),onMonthYearSelect:Li(ce),onOverlayClosed:$}),Nl({_:2},[Xn(Li(Re),(On,Va)=>({name:On,fn:Hn(rl=>[vn(ui.$slots,On,Ca(Bl(rl)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):di("",!0),an(OU,Ko({ref_for:!0,ref:On=>{On&&(L.value[co]=On)},"specific-mode":Be.value,"get-week-num":Li(J),instance:wn,"mapped-dates":St.value(wn),month:Li(f)(wn),year:Li(g)(wn)},o.value,{onSelectDate:On=>Li(Y)(On,!Ie.value(wn)),onHandleSpace:On=>Hi(On,!Ie.value(wn)),onSetHoverDate:Vi[1]||(Vi[1]=On=>Li(Ce)(On)),onHandleScroll:On=>Li(pe)(On,wn),onHandleSwipe:On=>Li(F)(On,wn),onMount:Vi[2]||(Vi[2]=On=>pt("calendar")),onResetFlow:j,onTooltipOpen:Vi[3]||(Vi[3]=On=>ui.$emit("tooltip-open",On)),onTooltipClose:Vi[4]||(Vi[4]=On=>ui.$emit("tooltip-close",On))}),Nl({_:2},[Xn(Li(oe),(On,Va)=>({name:On,fn:Hn(rl=>[vn(ui.$slots,On,Ca(Bl({...rl})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),Ne("div",null,[ui.$slots["time-picker"]?vn(ui.$slots,"time-picker",Ca(Ko({key:0},{time:Li(b),updateTime:Li(A)}))):(dt(),vt(Yi,{key:1},[ui.enableTimePicker&&!ui.monthPicker&&!ui.weekPicker?(dt(),Dr(a$,Ko({key:0,ref_key:"timePickerRef",ref:O,hours:Li(b).hours,minutes:Li(b).minutes,seconds:Li(b).seconds,"internal-model-value":e.internalModelValue},o.value,{onMount:Vi[5]||(Vi[5]=wn=>pt("timePicker")),"onUpdate:hours":Vi[6]||(Vi[6]=wn=>Li(A)(wn)),"onUpdate:minutes":Vi[7]||(Vi[7]=wn=>Li(A)(wn,!1)),"onUpdate:seconds":Vi[8]||(Vi[8]=wn=>Li(A)(wn,!1,!0)),onResetFlow:j,onOverlayClosed:Wn,onOverlayOpened:Vi[9]||(Vi[9]=wn=>ui.$emit("time-picker-open",wn)),onAmPmChange:Vi[10]||(Vi[10]=wn=>ui.$emit("am-pm-change",wn))}),Nl({_:2},[Xn(Li(Se),(wn,co)=>({name:wn,fn:Hn(On=>[vn(ui.$slots,wn,Ca(Bl(On)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):di("",!0)],64))])],512),ui.$slots["right-sidebar"]?(dt(),vt("div",p$,[vn(ui.$slots,"right-sidebar",Ca(Bl(_e)))])):di("",!0),ui.$slots["action-extra"]?(dt(),vt("div",f$,[ui.$slots["action-extra"]?vn(ui.$slots,"action-extra",{key:0,selectCurrentDate:Li(se)}):di("",!0)])):di("",!0)],2),!ui.autoApply||ui.keepActionRow?(dt(),Dr(CU,Ko({key:2,"menu-mount":S.value,"calendar-width":M.value,"internal-model-value":e.internalModelValue},o.value,{onClosePicker:Vi[11]||(Vi[11]=wn=>ui.$emit("close-picker")),onSelectDate:Vi[12]||(Vi[12]=wn=>ui.$emit("select-date")),onInvalidSelect:Vi[13]||(Vi[13]=wn=>ui.$emit("invalid-select")),onSelectNow:Li(se)}),Nl({_:2},[Xn(Li(ye),(wn,co)=>({name:wn,fn:Hn(On=>[vn(ui.$slots,wn,Ca(Bl({...On})))])}))]),1040,["menu-mount","calendar-width","internal-model-value","onSelectNow"])):di("",!0)],42,c$)]}),_:3},8,["name","css"])}}}),g$=typeof window<"u"?window:void 0,P3=()=>{},y$=e=>eS()?(tS(e),!0):!1,_$=(e,t,i,r)=>{if(!e)return P3;let o=P3;const d=Xs(()=>Li(e),s=>{o(),s&&(s.addEventListener(t,i,r),o=()=>{s.removeEventListener(t,i,r),o=P3})},{immediate:!0,flush:"post"}),h=()=>{d(),o()};return y$(h),h},v$=(e,t,i,r={})=>{const{window:o=g$,event:d="pointerdown"}=r;return o?_$(o,d,h=>{const s=Jo(e),v=Jo(t);!s||!v||s===h.target||h.composedPath().includes(s)||h.composedPath().includes(v)||i(h)},{passive:!0}):void 0},x$=Gl({__name:"VueDatePicker",props:{...Mf},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:i}){const r=e,o=m_(),d=Ki(!1),h=yf(r,"modelValue"),s=yf(r,"timezone"),v=Ki(null),R=Ki(null),K=Ki(!1),k=Ki(null),z=iu({disabledDates:null,allowedDates:null,highlightedDates:null}),{setMenuFocused:q,setShiftKey:L}=E4(),{clearArrowNav:O}=Ef(),{validateDate:G,isValidTime:M,defaults:S,mapDatesArrToMap:D}=wd(r);Go(()=>{f(r.modelValue),r.inline||(j(k.value).addEventListener("scroll",ce),window.addEventListener("resize",pe)),r.inline&&(d.value=!0),D(z)}),hh(()=>{if(!r.inline){const xe=j(k.value);xe&&xe.removeEventListener("scroll",ce),window.removeEventListener("resize",pe)}});const H=R0(o,"all",r.presetRanges),U=R0(o,"input");Xs([h,s],()=>{f(h.value)},{deep:!0});const{openOnTop:E,menuStyle:ie,resetPosition:te,setMenuPosition:$,setInitialPosition:V,getScrollableParent:j}=mU(v,R,i,r),{inputValue:x,internalModelValue:P,parseExternalModelValue:f,emitModelValue:g,formatInputValue:b,checkBeforeEmit:A}=pU(i,r,K),X=un(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:r.inline,dp__flex_display_with_input:r.inlineWithInput})),Y=un(()=>r.dark?"dp__theme_dark":"dp__theme_light"),J=un(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:r.inline}:{class:"dp__outer_menu_wrap"}),ce=()=>{d.value&&(r.closeOnScroll?_e():$())},pe=()=>{d.value&&$()},fe=async()=>{var xe,Ie,Be;!r.disabled&&!r.readonly&&(te(),await Fa(),d.value=!0,await Fa(),V(),await Fa(),$(),delete ie.value.opacity,!((xe=S.value.transitions)!=null&&xe.menuAppear)&&r.transitions&&((Be=(Ie=v.value)==null?void 0:Ie.$el)==null||Be.classList.add("dp__menu_transitioned")),d.value&&i("open"),d.value||ve(),f(r.modelValue))},F=()=>{x.value="",ve(),i("update:model-value",null),i("cleared"),r.closeOnClearValue&&_e()},Q=()=>{const xe=P.value;return!xe||!Array.isArray(xe)&&G(xe)?!0:Array.isArray(xe)?xe.length===2&&G(xe[0])&&G(xe[1])?!0:G(xe[0]):!1},se=()=>{A()&&Q()?(g(),_e()):i("invalid-select",P.value)},ue=xe=>{Ce(),g(),r.closeOnAutoApply&&!xe&&_e()},Ce=()=>{R.value&&r.textInput&&R.value.setParsedDate(P.value)},ne=(xe=!1)=>{r.autoApply&&M(P.value)&&Q()&&(r.range&&Array.isArray(P.value)?(r.partialRange||P.value.length===2)&&ue(xe):ue(xe))},ve=()=>{r.textInput||(P.value=null)},_e=()=>{r.inline||(d.value&&(d.value=!1,q(!1),L(!1),O(),i("closed"),V(),x.value&&f(h.value)),ve())},oe=(xe,Ie)=>{if(!xe){P.value=null;return}P.value=xe,Ie&&(se(),i("text-submit"))},ye=()=>{r.autoApply&&M(P.value)&&g(),Ce()},Se=()=>d.value?_e():fe(),Re=xe=>{P.value=xe},Le=()=>{r.textInput&&(K.value=!0,b()),i("focus")},$e=()=>{r.textInput&&(K.value=!1,f(r.modelValue)),i("blur")},rt=xe=>{v.value&&v.value.updateMonthYear(0,{month:FE(xe.month),year:FE(xe.year)})},Qe=xe=>{f(xe||r.modelValue)},qe=(xe,Ie)=>{var Be;(Be=v.value)==null||Be.switchView(xe,Ie)};return v$(v,R,r.onClickOutside?()=>r.onClickOutside(Q):_e),t({closeMenu:_e,selectDate:se,clearValue:F,openMenu:fe,onScroll:ce,formatInputValue:b,updateInternalModelValue:Re,setMonthYear:rt,parseModel:Qe,switchView:qe}),(xe,Ie)=>(dt(),vt("div",{class:Ln(X.value),ref_key:"pickerWrapperRef",ref:k},[an(bU,Ko({ref_key:"inputRef",ref:R,"is-menu-open":d.value,"input-value":Li(x),"onUpdate:inputValue":Ie[0]||(Ie[0]=Be=>ha(x)?x.value=Be:null)},xe.$props,{onClear:F,onOpen:fe,onSetInputDate:oe,onSetEmptyDate:Li(g),onSelectDate:se,onToggle:Se,onClose:_e,onFocus:Le,onBlur:$e,onRealBlur:Ie[1]||(Ie[1]=Be=>K.value=!1)}),Nl({_:2},[Xn(Li(U),(Be,Xe)=>({name:Be,fn:Hn(Ke=>[vn(xe.$slots,Be,Ca(Bl(Ke)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),d.value?(dt(),Dr(Fb(xe.teleport?ES:"div"),Ca(Ko({key:0},J.value)),{default:Hn(()=>[d.value?(dt(),Dr(m$,Ko({key:0,ref_key:"dpMenuRef",ref:v,class:Y.value,style:xe.inline?void 0:Li(ie),"open-on-top":Li(E),"arr-map-values":z},xe.$props,{"internal-model-value":Li(P),"onUpdate:internalModelValue":Ie[2]||(Ie[2]=Be=>ha(P)?P.value=Be:null),onClosePicker:_e,onSelectDate:se,onAutoApply:ne,onTimeUpdate:ye,onFlowStep:Ie[3]||(Ie[3]=Be=>xe.$emit("flow-step",Be)),onUpdateMonthYear:Ie[4]||(Ie[4]=Be=>xe.$emit("update-month-year",Be)),onInvalidSelect:Ie[5]||(Ie[5]=Be=>xe.$emit("invalid-select",Li(P))),onInvalidFixedRange:Ie[6]||(Ie[6]=Be=>xe.$emit("invalid-fixed-range",Be)),onRecalculatePosition:Li($),onTooltipOpen:Ie[7]||(Ie[7]=Be=>xe.$emit("tooltip-open",Be)),onTooltipClose:Ie[8]||(Ie[8]=Be=>xe.$emit("tooltip-close",Be)),onTimePickerOpen:Ie[9]||(Ie[9]=Be=>xe.$emit("time-picker-open",Be)),onTimePickerClose:Ie[10]||(Ie[10]=Be=>xe.$emit("time-picker-close",Be)),onAmPmChange:Ie[11]||(Ie[11]=Be=>xe.$emit("am-pm-change",Be)),onRangeStart:Ie[12]||(Ie[12]=Be=>xe.$emit("range-start",Be)),onRangeEnd:Ie[13]||(Ie[13]=Be=>xe.$emit("range-end",Be))}),Nl({_:2},[Xn(Li(H),(Be,Xe)=>({name:Be,fn:Hn(Ke=>[vn(xe.$slots,Be,Ca(Bl({...Ke})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])):di("",!0)]),_:3},16)):di("",!0)],2))}}),IC=(()=>{const e=x$;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),b$=Object.freeze(Object.defineProperty({__proto__:null,default:IC},Symbol.toStringTag,{value:"Module"}));Object.entries(b$).forEach(([e,t])=>{e!=="default"&&(IC[e]=t)});var D4={exports:{}};const I4=mM(B9);(function(e){e.exports=function(t){var i={};function r(o){if(i[o])return i[o].exports;var d=i[o]={i:o,l:!1,exports:{}};return t[o].call(d.exports,d,d.exports,r),d.l=!0,d.exports}return r.m=t,r.c=i,r.d=function(o,d,h){r.o(o,d)||Object.defineProperty(o,d,{enumerable:!0,get:h})},r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,d){if(d&1&&(o=r(o)),d&8||d&4&&typeof o=="object"&&o&&o.__esModule)return o;var h=Object.create(null);if(r.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:o}),d&2&&typeof o!="string")for(var s in o)r.d(h,s,(function(v){return o[v]}).bind(null,s));return h},r.n=function(o){var d=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(d,"a",d),d},r.o=function(o,d){return Object.prototype.hasOwnProperty.call(o,d)},r.p="",r(r.s="fb15")}({"6b0d":function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=(o,d)=>{for(const[h,s]of d)o[h]=s;return o}},"7e79":function(t,i,r){},8875:function(t,i,r){var o,d,h;(function(s,v){d=[],o=v,h=typeof o=="function"?o.apply(i,d):o,h!==void 0&&(t.exports=h)})(typeof self<"u"?self:this,function(){function s(){var v=Object.getOwnPropertyDescriptor(document,"currentScript");if(!v&&"currentScript"in document&&document.currentScript||v&&v.get!==s&&document.currentScript)return document.currentScript;try{throw new Error}catch(H){var R=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,K=/@([^@]*):(\d+):(\d+)\s*$/ig,k=R.exec(H.stack)||K.exec(H.stack),z=k&&k[1]||!1,q=k&&k[2]||!1,L=document.location.href.replace(document.location.hash,""),O,G,M,S=document.getElementsByTagName("script");z===L&&(O=document.documentElement.outerHTML,G=new RegExp("(?:[^\\n]+?\\n){0,"+(q-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),M=O.replace(G,"$1").trim());for(var D=0;D<S.length;D++)if(S[D].readyState==="interactive"||S[D].src===z||z===L&&S[D].innerHTML&&S[D].innerHTML.trim()===M)return S[D];return null}}return s})},"8bbf":function(t,i){t.exports=I4},fb15:function(t,i,r){if(r.r(i),typeof window<"u"){var o=window.document.currentScript;{var d=r("8875");o=d(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:d})}var h=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);h&&(r.p=h[1])}var s=r("8bbf"),v=["title"];function R(se,ue,Ce,ne,ve,_e){var oe=Object(s.resolveComponent)("donut-sections");return Object(s.openBlock)(),Object(s.createElementBlock)("div",{class:"cdc-container",style:Object(s.normalizeStyle)(_e.placementStyles.container)},[Object(s.createElementVNode)("div",{class:"cdc",ref:"donut",style:Object(s.normalizeStyle)(_e.donutStyles)},[Object(s.createVNode)(oe,Object(s.mergeProps)(Object(s.toHandlers)(_e.sectionListeners),{sections:_e.donutSections,"start-angle":Ce.startAngle}),null,16,["sections","start-angle"]),Object(s.createElementVNode)("div",{class:"cdc-overlay",style:Object(s.normalizeStyle)(_e.overlayStyles)},[Object(s.createElementVNode)("div",{class:"cdc-text",style:Object(s.normalizeStyle)(_e.donutTextStyles)},[Object(s.renderSlot)(se.$slots,"default",{},function(){return[Object(s.createTextVNode)(Object(s.toDisplayString)(Ce.text),1)]})],4)],4)],4),Object(s.renderSlot)(se.$slots,"legend",{},function(){return[Ce.hasLegend?(Object(s.openBlock)(),Object(s.createElementBlock)("div",{key:0,class:"cdc-legend",style:Object(s.normalizeStyle)(_e.placementStyles.legend)},[(Object(s.openBlock)(!0),Object(s.createElementBlock)(s.Fragment,null,Object(s.renderList)(_e.legend,function(ye,Se){return Object(s.openBlock)(),Object(s.createElementBlock)("span",{class:"cdc-legend-item",key:Se,title:ye.percent},[Object(s.createElementVNode)("span",{class:"cdc-legend-item-color",style:Object(s.normalizeStyle)(ye.styles)},null,4),Object(s.createElementVNode)("span",null,Object(s.toDisplayString)(ye.label),1)],8,v)}),128))],4)):Object(s.createCommentVNode)("",!0)]})],4)}var K=["click","mouseenter","mouseleave","mouseover","mouseout","mousemove"].map(function(se){return{nativeEventName:se,sectionEventName:"section-".concat(se)}}),k=["#FF6384","#36A2EB","#FFCE56","#F58231","#46F0F0","#D2F53C","#911EB4","#F032E6","#3CB44B","#FFE119","#E6194B","#FABEBE","#008080","#E6BEFF","#0082C8","#AA6E28","#FFFAC8","#800000","#AAFFC3","#808000","#FFD8B1","#000080","#808080","#000000"],z=k,q;function L(se){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(Ce){return typeof Ce}:L=function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},L(se)}function O(se,ue,Ce){return ue in se?Object.defineProperty(se,ue,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):se[ue]=Ce,se}var G="1em",M="dodgerblue",S={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},D=(q={},O(q,S.TOP,{container:{flexDirection:"column"},legend:{order:-1,margin:0,marginBottom:G}}),O(q,S.RIGHT,{container:{},legend:{flexDirection:"column",margin:0,marginLeft:G}}),O(q,S.BOTTOM,{container:{flexDirection:"column"},legend:{}}),O(q,S.LEFT,{container:{},legend:{flexDirection:"column",order:-1,margin:0,marginRight:G}}),q),H=function(ue){return!!ue&&ue.constructor===Object},U=[{type:"number",key:"value",required:!0},{key:"label"},{key:"color"}];function E(se){return H(se)?U.reduce(function(ue,Ce){if(!ue)return!1;var ne=!0;return Ce.required&&(ne=ne&&Object.hasOwnProperty.call(se,Ce.key)),Ce.type&&(ne=ne&&L(se[Ce.key])===Ce.type),ue&&ne},!0):!1}var ie=["title"];function te(se,ue,Ce,ne,ve,_e){return Object(s.openBlock)(),Object(s.createElementBlock)("div",{class:"cdc-sections",style:Object(s.normalizeStyle)(_e.containerStyles)},[(Object(s.openBlock)(!0),Object(s.createElementBlock)(s.Fragment,null,Object(s.renderList)(_e.donutSections,function(oe,ye){return Object(s.openBlock)(),Object(s.createElementBlock)("div",Object(s.mergeProps)(Object(s.toHandlers)(oe.listeners),{key:ye,class:["cdc-section",oe.className],style:oe.sectionStyles}),[Object(s.createElementVNode)("div",{class:"cdc-filler",style:Object(s.normalizeStyle)(oe.fillerStyles),title:oe.label},null,12,ie)],16)}),128))],4)}function $(se,ue){var Ce=Object.keys(se);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(se);ue&&(ne=ne.filter(function(ve){return Object.getOwnPropertyDescriptor(se,ve).enumerable})),Ce.push.apply(Ce,ne)}return Ce}function V(se){for(var ue=1;ue<arguments.length;ue++){var Ce=arguments[ue]!=null?arguments[ue]:{};ue%2?$(Object(Ce),!0).forEach(function(ne){j(se,ne,Ce[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(Ce)):$(Object(Ce)).forEach(function(ne){Object.defineProperty(se,ne,Object.getOwnPropertyDescriptor(Ce,ne))})}return se}function j(se,ue,Ce){return ue in se?Object.defineProperty(se,ue,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):se[ue]=Ce,se}var x={LEFT:"cdc-section-left",RIGHT:"cdc-section-right"},P={props:{startAngle:{type:Number,default:0},sections:{type:Array,default:function(){return[]}}},emits:K.map(function(se){return se.sectionEventName}),computed:{containerStyles:function(){return{transform:"rotate(".concat(this.startAngle,"deg)")}},donutSections:function(){var ue=this,Ce=180,ne=0,ve=0,_e=this.sections.map(function(oe){var ye=[x.RIGHT,-180],Se=ye[0],Re=ye[1];if(ne>=Ce){var Le=[x.LEFT,180];Se=Le[0],Re=Le[1]}var $e=Re+oe.degree,rt={backgroundColor:oe.color||M,transform:"rotate(".concat($e,"deg)")},Qe={transform:"rotate(".concat(ve,"deg)")};ne+=oe.degree,ne===180?ve=0:ve+=oe.degree;var qe=K.reduce(function(xe,Ie){var Be=Ie.nativeEventName,Xe=Ie.sectionEventName;return V(V({},xe),{},j({},Be,function(Ke){return ue.emitEvent(Xe,oe,Ke)}))},{});return{label:oe.label,className:Se,fillerStyles:rt,sectionStyles:Qe,listeners:qe}});return _e}},methods:{emitEvent:function(ue,Ce,ne){Ce.value!==0&&this.$emit(ue,Ce.$section,ne)}}},f=r("6b0d"),g=r.n(f),A=g()(P,[["render",te]]);r("7e79");function X(se,ue){var Ce=Object.keys(se);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(se);ue&&(ne=ne.filter(function(ve){return Object.getOwnPropertyDescriptor(se,ve).enumerable})),Ce.push.apply(Ce,ne)}return Ce}function Y(se){for(var ue=1;ue<arguments.length;ue++){var Ce=arguments[ue]!=null?arguments[ue]:{};ue%2?X(Object(Ce),!0).forEach(function(ne){J(se,ne,Ce[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(Ce)):X(Object(Ce)).forEach(function(ne){Object.defineProperty(se,ne,Object.getOwnPropertyDescriptor(Ce,ne))})}return se}function J(se,ue,Ce){return ue in se?Object.defineProperty(se,ue,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):se[ue]=Ce,se}var ce={name:"vc-donut",props:{size:{type:Number,default:250,validator:function(ue){return ue>0}},unit:{type:String,default:"px"},thickness:{type:Number,default:20,validator:function(ue){return ue>=0&&ue<=100}},text:{type:String,default:null},autoAdjustTextSize:{type:Boolean,default:!0},background:{type:String,default:"#ffffff"},foreground:{type:String,default:"#eeeeee"},sections:{type:Array,default:function(){return[]},validator:function(ue){for(var Ce=0;Ce<ue.length;++Ce)if(!E(ue[Ce]))return!1;return!0}},total:{type:Number,default:100,validator:function(ue){return ue>0}},hasLegend:{type:Boolean,default:!1},legendPlacement:{type:String,default:S.BOTTOM,validator:function(ue){return!!S[ue.toUpperCase()]}},startAngle:{type:Number,default:0}},emits:K.map(function(se){return se.sectionEventName}),watch:{autoAdjustTextSize:function(ue){ue?window.addEventListener("resize",this.resizeListener):window.removeEventListener("resize",this.resizeListener),this.recalcFontSize()},size:function(){this.recalcFontSize()},unit:function(){this.recalcFontSize()}},data:function(){return{donutEl:null,fontSize:"1em",resizeListener:null}},computed:{donutSections:function(){var ue=this,Ce=this.sections.reduce(function(Re,Le){return Re+Le.value},0);if(typeof Ce!="number")return[];if(Ce=Number(Ce.toFixed(2)),Ce>this.total){var ne="Sum of all the sections' values (".concat(Ce,") should not exceed `total` (").concat(this.total,")");throw new Error(ne)}var ve=360,_e=180,oe=0,ye=0,Se=[];return this.sections.forEach(function(Re){var Le=ve*(Re.value/ue.total),$e=[Le];Le>_e&&($e=[_e,Le-_e]);var rt=Re.color||z[ye++];$e.forEach(function(Qe){var qe=Number((oe+Qe).toFixed(2));if(qe>_e){var xe=_e-oe;Se.push(Y(Y({},Re),{},{degree:xe,color:rt,$section:Re}),Y(Y({},Re),{},{degree:Qe-xe,color:rt,$section:Re}))}else Se.push(Y(Y({},Re),{},{degree:Qe,color:rt,$section:Re}));oe+=Qe,oe>=_e&&(oe-=_e)})}),Se},legend:function(){var ue=this;if(!this.hasLegend)return null;var Ce=0;return this.sections.map(function(ne,ve){return{label:ne.label||"Section ".concat(ve+1),percent:"".concat(ne.value," (").concat(ne.value/ue.total*100,"%)"),styles:{backgroundColor:ne.color||z[Ce++]}}})},placementStyles:function(){return this.hasLegend?D[this.legendPlacement]:{}},donutStyles:function(){var ue="".concat(this.size).concat(this.unit),Ce={width:ue,paddingBottom:ue,backgroundColor:this.foreground};return Ce},overlayStyles:function(){var ue=100,Ce=ue-this.thickness,ne="".concat(Ce,"%"),ve="calc(50% - ".concat(Ce/2,"%)");return{height:ne,width:ne,top:ve,left:ve,backgroundColor:this.background}},donutTextStyles:function(){var ue=this.fontSize;return{fontSize:ue}},sectionListeners:function(){var ue=this;return K.reduce(function(Ce,ne){var ve=ne.sectionEventName;return Y(Y({},Ce),{},J({},ve,function(){for(var _e=arguments.length,oe=new Array(_e),ye=0;ye<_e;ye++)oe[ye]=arguments[ye];return ue.emitSectionEvent.apply(ue,[ve].concat(oe))}))},{})}},methods:{recalcFontSize:function(){var ue=this;if(!this.autoAdjustTextSize){this.fontSize="1em";return}var Ce=.08,ne=this.size;this.$nextTick(function(){ue.unit!=="px"&&(ue.donutEl?ne=ue.donutEl.clientWidth:ne=null),ue.fontSize=ne?"".concat((ne*Ce).toFixed(2),"px"):"1em"})},emitSectionEvent:function(ue){for(var Ce=arguments.length,ne=new Array(Ce>1?Ce-1:0),ve=1;ve<Ce;ve++)ne[ve-1]=arguments[ve];this.$emit.apply(this,[ue].concat(ne))}},created:function(){this.resizeListener=this.recalcFontSize.bind(this)},mounted:function(){this.donutEl=this.$refs.donut,this.autoAdjustTextSize&&(this.recalcFontSize(),window.addEventListener("resize",this.resizeListener))},beforeUnmount:function(){window.removeEventListener("resize",this.resizeListener)},components:{DonutSections:A}},fe=g()(ce,[["render",R]]),F={install:function(ue){ue.component(fe.name,fe)}},Q=F;i.default=Q}})})(D4);var w$=D4.exports;const T$=tu(w$);var L4={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(za,function(){var i,r,o;function d(s,v){if(!i)i=v;else if(!r)r=v;else{var R="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+i+")(sharedChunk); ("+r+")(sharedChunk); self.onerror = null;",K={};i(K),o=v(K),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(o.workerUrl=window.URL.createObjectURL(new Blob([R],{type:"text/javascript"})))}}d(["exports"],function(s){var v=typeof self<"u"?self:{},R="2.12.0";let K;const k={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(K==null){const a=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{K={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):a}catch{K=a}}return K},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},z={supported:!1,testSupport:function(a){!O&&L&&(G?M(a):q=a)}};let q,L,O=!1,G=!1;function M(a){const n=a.createTexture();a.bindTexture(a.TEXTURE_2D,n);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,L),a.isContextLost())return;z.supported=!0}catch{}a.deleteTexture(n),O=!0}v.document&&(L=v.document.createElement("img"),L.onload=function(){q&&M(q),q=null,G=!0},L.onerror=function(){O=!0,q=null},L.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const S="01";var D=H;function H(a,n,l,u){this.cx=3*a,this.bx=3*(l-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(u-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=n,this.p2x=l,this.p2y=u}H.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,n){if(n===void 0&&(n=1e-6),a<0)return 0;if(a>1)return 1;for(var l=a,u=0;u<8;u++){var m=this.sampleCurveX(l)-a;if(Math.abs(m)<n)return l;var w=this.sampleCurveDerivativeX(l);if(Math.abs(w)<1e-6)break;l-=m/w}var C=0,N=1;for(l=a,u=0;u<20&&(m=this.sampleCurveX(l),!(Math.abs(m-a)<n));u++)a>m?C=l:N=l,l=.5*(N-C)+C;return l},solve:function(a,n){return this.sampleCurveY(this.solveCurveX(a,n))}};var U=E;function E(a,n){this.x=a,this.y=n}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,n){return this.clone()._rotateAround(a,n)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var n=a.x-this.x,l=a.y-this.y;return n*n+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,n){return Math.atan2(this.x*n-this.y*a,this.x*a+this.y*n)},_matMult:function(a){var n=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=n,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var n=Math.cos(a),l=Math.sin(a),u=l*this.x+n*this.y;return this.x=n*this.x-l*this.y,this.y=u,this},_rotateAround:function(a,n){var l=Math.cos(a),u=Math.sin(a),m=n.y+u*(this.x-n.x)+l*(this.y-n.y);return this.x=n.x+l*(this.x-n.x)-u*(this.y-n.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},E.convert=function(a){return a instanceof E?a:Array.isArray(a)?new E(a[0],a[1]):a};const ie=Math.PI/180,te=180/Math.PI;function $(a){return a*ie}function V(a){return a*te}const j=[[0,0],[1,0],[1,1],[0,1]];function x(a){if(a<=0)return 0;if(a>=1)return 1;const n=a*a,l=n*a;return 4*(a<.5?l:3*(a-n)+l-.75)}function P(a,n,l,u){const m=new D(a,n,l,u);return function(w){return m.solve(w)}}const f=P(.25,.1,.25,1);function g(a,n,l){return Math.min(l,Math.max(n,a))}function b(a,n,l){return(l=g((l-a)/(n-a),0,1))*l*(3-2*l)}function A(a,n,l){const u=l-n,m=((a-n)%u+u)%u+n;return m===n?l:m}function X(a,n,l){if(!a.length)return l(null,[]);let u=a.length;const m=new Array(a.length);let w=null;a.forEach((C,N)=>{n(C,(ee,re)=>{ee&&(w=ee),m[N]=re,--u==0&&l(w,m)})})}function Y(a){const n=[];for(const l in a)n.push(a[l]);return n}function J(a,...n){for(const l of n)for(const u in l)a[u]=l[u];return a}let ce=1;function pe(){return ce++}function fe(){return function a(n){return n?(n^Math.random()*(16>>n/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,a)}()}function F(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Q(a){return!!a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}function se(a,n){a.forEach(l=>{n[l]&&(n[l]=n[l].bind(n))})}function ue(a,n){return a.indexOf(n,a.length-n.length)!==-1}function Ce(a,n,l){const u={};for(const m in a)u[m]=n.call(l||this,a[m],m,a);return u}function ne(a,n,l){const u={};for(const m in a)n.call(l||this,a[m],m,a)&&(u[m]=a[m]);return u}function ve(a){return Array.isArray(a)?a.map(ve):typeof a=="object"&&a?Ce(a,ve):a}const _e={};function oe(a){_e[a]||(typeof console<"u"&&console.warn(a),_e[a]=!0)}function ye(a,n,l){return(l.y-a.y)*(n.x-a.x)>(n.y-a.y)*(l.x-a.x)}function Se(a){let n=0;for(let l,u,m=0,w=a.length,C=w-1;m<w;C=m++)l=a[m],u=a[C],n+=(u.x-l.x)*(l.y+u.y);return n}function Re(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Le(a){const n={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,u,m,w)=>{const C=m||w;return n[u]=!C||C.toLowerCase(),""}),n["max-age"]){const l=parseInt(n["max-age"],10);isNaN(l)?delete n["max-age"]:n["max-age"]=l}return n}let $e=null;function rt(a){if($e==null){const n=a.navigator?a.navigator.userAgent:null;$e=!!a.safari||!(!n||!(/\b(iPad|iPhone|iPod)\b/.test(n)||n.match("Safari")&&!n.match("Chrome")))}return $e}function Qe(a){try{const n=v[a];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch{return!1}}function qe(a,n){return[a[4*n],a[4*n+1],a[4*n+2],a[4*n+3]]}const xe="mapbox-tiles";let Ie,Be,Xe=500,Ke=50;function ft(){try{return v.caches}catch{}}function St(){ft()&&!Ie&&(Ie=v.caches.open(xe))}function Ot(a){const n=a.indexOf("?");if(n<0)return a;const l=function(m){const w=m.indexOf("?");return w>0?m.slice(w+1).split("&"):[]}(a),u=l.filter(m=>{const w=m.split("=");return w[0]==="language"||w[0]==="worldview"});return u.length?`${a.slice(0,n)}?${u.join("&")}`:a.slice(0,n)}let yi=1/0;const Wt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Wt);class fi extends Error{constructor(n,l,u){l===401&&qi(u)&&(n+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(n),this.status=l,this.url=u}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Hi=Re()?()=>self.worker&&self.worker.referrer:()=>(v.location.protocol==="blob:"?v.parent:v).location.href,pt=function(a,n){if(!(/^file:/.test(l=a.url)||/^file:/.test(Hi())&&!/^\w+:/.test(l))){if(v.fetch&&v.Request&&v.AbortController&&v.Request.prototype.hasOwnProperty("signal"))return function(u,m){const w=new v.AbortController,C=new v.Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,referrer:Hi(),signal:w.signal});let N=!1,ee=!1;const re=(me=C.url).indexOf("sku=")>0&&qi(me);var me;u.type==="json"&&C.headers.set("Accept","application/json");const Te=(Oe,ze,He)=>{if(ee)return;if(Oe&&Oe.message!=="SecurityError"&&oe(Oe),ze&&He)return Me(ze);const tt=Date.now();v.fetch(C).then(_t=>{if(_t.ok){const At=re?_t.clone():null;return Me(_t,At,tt)}return m(new fi(_t.statusText,_t.status,u.url))}).catch(_t=>{_t.code!==20&&m(new Error(_t.message))})},Me=(Oe,ze,He)=>{(u.type==="arrayBuffer"?Oe.arrayBuffer():u.type==="json"?Oe.json():Oe.text()).then(tt=>{ee||(ze&&He&&function(_t,At,yt){if(St(),!Ie)return;const Tt={status:At.status,statusText:At.statusText,headers:new v.Headers};At.headers.forEach((ti,Qt)=>Tt.headers.set(Qt,ti));const It=Le(At.headers.get("Cache-Control")||"");if(It["no-store"])return;It["max-age"]&&Tt.headers.set("Expires",new Date(yt+1e3*It["max-age"]).toUTCString());const Pt=Tt.headers.get("Expires");Pt&&(new Date(Pt).getTime()-yt<42e4||function(ti,Qt){if(Be===void 0)try{new Response(new ReadableStream),Be=!0}catch{Be=!1}Be?Qt(ti.body):ti.blob().then(Qt)}(At,ti=>{const Qt=new v.Response(ti,Tt);St(),Ie&&Ie.then(vi=>vi.put(Ot(_t.url),Qt)).catch(vi=>oe(vi.message))}))}(C,ze,He),N=!0,m(null,tt,Oe.headers.get("Cache-Control"),Oe.headers.get("Expires")))}).catch(tt=>{ee||m(new Error(tt.message))})};return re?function(Oe,ze){if(St(),!Ie)return ze(null);const He=Ot(Oe.url);Ie.then(tt=>{tt.match(He).then(_t=>{const At=function(yt){if(!yt)return!1;const Tt=new Date(yt.headers.get("Expires")||0),It=Le(yt.headers.get("Cache-Control")||"");return Tt>Date.now()&&!It["no-cache"]}(_t);tt.delete(He),At&&tt.put(He,_t.clone()),ze(null,_t,At)}).catch(ze)}).catch(ze)}(C,Te):Te(null,null),{cancel:()=>{ee=!0,N||w.abort()}}}(a,n);if(Re()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,n,void 0,!0)}var l;return function(u,m){const w=new v.XMLHttpRequest;w.open(u.method||"GET",u.url,!0),u.type==="arrayBuffer"&&(w.responseType="arraybuffer");for(const C in u.headers)w.setRequestHeader(C,u.headers[C]);return u.type==="json"&&(w.responseType="text",w.setRequestHeader("Accept","application/json")),w.withCredentials=u.credentials==="include",w.onerror=()=>{m(new Error(w.statusText))},w.onload=()=>{if((w.status>=200&&w.status<300||w.status===0)&&w.response!==null){let C=w.response;if(u.type==="json")try{C=JSON.parse(w.response)}catch(N){return m(N)}m(null,C,w.getResponseHeader("Cache-Control"),w.getResponseHeader("Expires"))}else m(new fi(w.statusText,w.status,u.url))},w.send(u.body),{cancel:()=>w.abort()}}(a,n)},Lt=function(a,n){return pt(J(a,{type:"arrayBuffer"}),n)};function ei(a){const n=v.document.createElement("a");return n.href=a,n.protocol===v.document.location.protocol&&n.host===v.document.location.host}const Pi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let cn,Wn;cn=[],Wn=0;const Kr=function(a,n){if(z.supported&&(a.headers||(a.headers={}),a.headers.accept="image/webp,*/*"),Wn>=k.MAX_PARALLEL_IMAGE_REQUESTS){const w={requestParameters:a,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return cn.push(w),w}Wn++;let l=!1;const u=()=>{if(!l)for(l=!0,Wn--;cn.length&&Wn<k.MAX_PARALLEL_IMAGE_REQUESTS;){const w=cn.shift(),{requestParameters:C,callback:N,cancelled:ee}=w;ee||(w.cancel=Kr(C,N).cancel)}},m=Lt(a,(w,C,N,ee)=>{u(),w?n(w):C&&(v.createImageBitmap?function(re,me){const Te=new v.Blob([new Uint8Array(re)],{type:"image/png"});v.createImageBitmap(Te).then(Me=>{me(null,Me)}).catch(Me=>{me(new Error(`Could not load image because of ${Me.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(C,(re,me)=>n(re,me,N,ee)):function(re,me){const Te=new v.Image,Me=v.URL;Te.onload=()=>{me(null,Te),Me.revokeObjectURL(Te.src),Te.onload=null,v.requestAnimationFrame(()=>{Te.src=Pi})},Te.onerror=()=>me(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Oe=new v.Blob([new Uint8Array(re)],{type:"image/png"});Te.src=re.byteLength?Me.createObjectURL(Oe):Pi}(C,(re,me)=>n(re,me,N,ee)))});return{cancel:()=>{m.cancel(),u()}}},ui="NO_ACCESS_TOKEN";function Vi(a){return a.indexOf("mapbox:")===0}function qi(a){return k.API_URL_REGEX.test(a)}function Nr(a){return k.API_CDN_URL_REGEX.test(a)}function go(a){return k.API_STYLE_REGEX.test(a)&&!wn(a)}function wn(a){return k.API_SPRITE_REGEX.test(a)}const co=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function On(a){const n=a.match(co);if(!n)throw new Error("Unable to parse URL object");return{protocol:n[1],authority:n[2],path:n[3]||"/",params:n[4]?n[4].split("&"):[]}}function Va(a){const n=a.params.length?`?${a.params.join("&")}`:"";return`${a.protocol}://${a.authority}${a.path}${n}`}function rl(a){if(!a)return null;const n=a.split(".");if(!n||n.length!==3)return null;try{return JSON.parse(decodeURIComponent(v.atob(n[1]).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class mt{constructor(n){this.type=n,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(n){const l=rl(k.ACCESS_TOKEN);let u="";return u=l&&l.u?v.btoa(encodeURIComponent(l.u).replace(/%([0-9A-F]{2})/g,(m,w)=>String.fromCharCode(+("0x"+w)))):k.ACCESS_TOKEN||"",n?`mapbox.eventData.${n}:${u}`:`mapbox.eventData:${u}`}fetchEventData(){const n=Qe("localStorage"),l=this.getStorageKey(),u=this.getStorageKey("uuid");if(n)try{const m=v.localStorage.getItem(l);m&&(this.eventData=JSON.parse(m));const w=v.localStorage.getItem(u);w&&(this.anonId=w)}catch{oe("Unable to read from LocalStorage")}}saveEventData(){const n=Qe("localStorage"),l=this.getStorageKey(),u=this.getStorageKey("uuid");if(n)try{v.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&v.localStorage.setItem(l,JSON.stringify(this.eventData))}catch{oe("Unable to write to LocalStorage")}}processRequests(n){}postEvent(n,l,u,m){if(!k.EVENTS_URL)return;const w=On(k.EVENTS_URL);w.params.push(`access_token=${m||k.ACCESS_TOKEN||""}`);const C={event:this.type,created:new Date(n).toISOString()},N=l?J(C,l):C,ee={url:Va(w),headers:{"Content-Type":"text/plain"},body:JSON.stringify([N])};this.pendingRequest=function(re,me){return pt(J(re,{method:"POST"}),me)}(ee,re=>{this.pendingRequest=null,u(re),this.saveEventData(),this.processRequests(m)})}queueRequest(n,l){this.queue.push(n),this.processRequests(l)}}const Fe=new class extends mt{constructor(a){super("appUserTurnstile"),this._customAccessToken=a}postTurnstileEvent(a,n){k.EVENTS_URL&&k.ACCESS_TOKEN&&Array.isArray(a)&&a.some(l=>Vi(l)||qi(l))&&this.queueRequest(Date.now(),n)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const n=rl(k.ACCESS_TOKEN),l=n?n.u:k.ACCESS_TOKEN;let u=l!==this.eventData.tokenU;Q(this.anonId)||(this.anonId=fe(),u=!0);const m=this.queue.shift();if(this.eventData.lastSuccess){const w=new Date(this.eventData.lastSuccess),C=new Date(m),N=(m-this.eventData.lastSuccess)/864e5;u=u||N>=1||N<-1||w.getDate()!==C.getDate()}else u=!0;u?this.postEvent(m,{sdkIdentifier:"mapbox-gl-js",sdkVersion:R,skuId:S,"enabled.telemetry":!1,userId:this.anonId},w=>{w||(this.eventData.lastSuccess=m,this.eventData.tokenU=l)},a):this.processRequests()}},We=Fe.postTurnstileEvent.bind(Fe),ut=new class extends mt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(a,n,l,u){this.skuToken=n,this.errorCb=u,k.EVENTS_URL&&(l||k.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(ui)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:n,timestamp:l}=this.queue.shift();n&&this.success[n]||(this.anonId||this.fetchEventData(),Q(this.anonId)||(this.anonId=fe()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:R,skuId:S,skuToken:this.skuToken,userId:this.anonId},u=>{u?this.errorCb(u):n&&(this.success[n]=!0)},a))}},xt=ut.postMapLoadEvent.bind(ut),Rt=new class extends mt{constructor(){super("gljs.performance")}postPerformanceEvent(a,n){k.EVENTS_URL&&(a||k.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:n},a)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:n,performanceData:l}=this.queue.shift(),u=function(m){const w=v.performance.getEntriesByType("resource"),C=v.performance.getEntriesByType("mark"),N=function(Me){const Oe={};if(Me){for(const ze in Me)if(ze!=="other")for(const He of Me[ze]){const tt=`${ze}ResolveRangeMin`,_t=`${ze}ResolveRangeMax`,At=`${ze}RequestCount`,yt=`${ze}RequestCachedCount`;Oe[tt]=Math.min(Oe[tt]||1/0,He.startTime),Oe[_t]=Math.max(Oe[_t]||-1/0,He.responseEnd);const Tt=It=>{Oe[It]===void 0&&(Oe[It]=0),++Oe[It]};He.transferSize!==void 0&&He.transferSize===0&&Tt(yt),Tt(At)}}return Oe}(function(Me,Oe){const ze={};if(Me)for(const He of Me){const tt=Oe(He);ze[tt]===void 0&&(ze[tt]=[]),ze[tt].push(He)}return ze}(w,Di)),ee=v.devicePixelRatio,re=v.navigator.connection||v.navigator.mozConnection||v.navigator.webkitConnection,me={counters:[],metadata:[],attributes:[]},Te=(Me,Oe,ze)=>{ze!=null&&Me.push({name:Oe,value:ze.toString()})};for(const Me in N)Te(me.counters,Me,N[Me]);if(m.interactionRange[0]!==1/0&&m.interactionRange[1]!==-1/0&&(Te(me.counters,"interactionRangeMin",m.interactionRange[0]),Te(me.counters,"interactionRangeMax",m.interactionRange[1])),C)for(const Me of Object.keys(xi)){const Oe=xi[Me],ze=C.find(He=>He.name===Oe);ze&&Te(me.counters,Oe,ze.startTime)}return Te(me.counters,"visibilityHidden",m.visibilityHidden),Te(me.attributes,"style",function(Me){if(Me)for(const Oe of Me){const ze=Oe.name.split("?")[0];if(go(ze)){const He=ze.split("/").slice(-2);if(He.length===2)return`mapbox://styles/${He[0]}/${He[1]}`}}}(w)),Te(me.attributes,"terrainEnabled",m.terrainEnabled?"true":"false"),Te(me.attributes,"fogEnabled",m.fogEnabled?"true":"false"),Te(me.attributes,"projection",m.projection),Te(me.attributes,"zoom",m.zoom),Te(me.metadata,"devicePixelRatio",ee),Te(me.metadata,"connectionEffectiveType",re?re.effectiveType:void 0),Te(me.metadata,"navigatorUserAgent",v.navigator.userAgent),Te(me.metadata,"screenWidth",v.screen.width),Te(me.metadata,"screenHeight",v.screen.height),Te(me.metadata,"windowWidth",v.innerWidth),Te(me.metadata,"windowHeight",v.innerHeight),Te(me.metadata,"mapWidth",m.width/ee),Te(me.metadata,"mapHeight",m.height/ee),Te(me.metadata,"webglRenderer",m.renderer),Te(me.metadata,"webglVendor",m.vendor),Te(me.metadata,"sdkVersion",R),Te(me.metadata,"sdkIdentifier","mapbox-gl-js"),me}(l);for(const m of u.metadata);for(const m of u.counters);for(const m of u.attributes);this.postEvent(n,u,()=>{},a)}},Ut=Rt.postPerformanceEvent.bind(Rt),Ht=new class extends mt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(a,n,l,u){if(!k.API_URL||!k.SESSION_PATH)return;const m=On(k.API_URL+k.SESSION_PATH);m.params.push(`sku=${n||""}`),m.params.push(`access_token=${u||k.ACCESS_TOKEN||""}`);const w={url:Va(m),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(C,N){return pt(J(C,{method:"GET"}),N)}(w,C=>{this.pendingRequest=null,l(C),this.saveEventData(),this.processRequests(u)})}getSessionAPI(a,n,l,u){this.skuToken=n,this.errorCb=u,k.SESSION_PATH&&k.API_URL&&(l||k.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(ui)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:n,timestamp:l}=this.queue.shift();n&&this.success[n]||this.getSession(l,this.skuToken,u=>{u?this.errorCb(u):n&&(this.success[n]=!0)},a)}},zt=Ht.getSessionAPI.bind(Ht),Zt=new Set,xi={create:"create",load:"load",fullLoad:"fullLoad"},Ji={mark(a){v.performance.mark(a)},measure(a,n,l){v.performance.measure(a,n,l)}};function Di(a){const n=a.name.split("?")[0];return Nr(n)&&n.includes("mapbox-gl.js")?"javascript":Nr(n)&&n.includes("mapbox-gl.css")?"css":function(l){return k.API_FONTS_REGEX.test(l)}(n)?"fontRange":wn(n)?"sprite":go(n)?"style":function(l){return k.API_TILEJSON_REGEX.test(l)}(n)?"tilejson":"other"}const Mn=v.performance;function Cn(a){const n=a?a.url.toString():void 0;return Mn.getEntriesByName(n)}let hn,Wi,cr,Ar;const _n={now:()=>cr!==void 0?cr:v.performance.now(),setNow(a){cr=a},restoreNow(){cr=void 0},frame(a){const n=v.requestAnimationFrame(a);return{cancel:()=>v.cancelAnimationFrame(n)}},getImageData(a,n=0){const{width:l,height:u}=a;Ar||(Ar=v.document.createElement("canvas"));const m=Ar.getContext("2d",{willReadFrequently:!0});if(!m)throw new Error("failed to create canvas 2d context");return(l>Ar.width||u>Ar.height)&&(Ar.width=l,Ar.height=u),m.clearRect(-n,-n,l+2*n,u+2*n),m.drawImage(a,0,0,l,u),m.getImageData(-n,-n,l+2*n,u+2*n)},resolveURL:a=>(hn||(hn=v.document.createElement("a")),hn.href=a,hn.href),get devicePixelRatio(){return v.devicePixelRatio},get prefersReducedMotion(){return!!v.matchMedia&&(Wi==null&&(Wi=v.matchMedia("(prefers-reduced-motion: reduce)")),Wi.matches)}};function Yr(a,n,l){l[a]&&l[a].indexOf(n)!==-1||(l[a]=l[a]||[],l[a].push(n))}function Or(a,n,l){if(l&&l[a]){const u=l[a].indexOf(n);u!==-1&&l[a].splice(u,1)}}class Ga{constructor(n,l={}){J(this,l),this.type=n}}class Ha extends Ga{constructor(n,l={}){super("error",J({error:n},l))}}class yo{on(n,l){return this._listeners=this._listeners||{},Yr(n,l,this._listeners),this}off(n,l){return Or(n,l,this._listeners),Or(n,l,this._oneTimeListeners),this}once(n,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},Yr(n,l,this._oneTimeListeners),this):new Promise(u=>this.once(n,u))}fire(n,l){typeof n=="string"&&(n=new Ga(n,l||{}));const u=n.type;if(this.listens(u)){n.target=this;const m=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];for(const N of m)N.call(this,n);const w=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];for(const N of w)Or(u,N,this._oneTimeListeners),N.call(this,n);const C=this._eventedParent;C&&(J(n,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),C.fire(n))}else n instanceof Ha&&console.error(n.error);return this}listens(n){return!!(this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n))}setEventedParent(n,l){return this._eventedParent=n,this._eventedParentData=l,this}}var mi=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function ps(a,...n){for(const l of n)for(const u in l)a[u]=l[u];return a}function Os(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function Rs(a){if(Array.isArray(a))return a.map(Rs);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){const n={};for(const l in a)n[l]=Rs(a[l]);return n}return Os(a)}class bc extends Error{constructor(n,l){super(l),this.message=l,this.key=n}}var Po=bc;class qc{constructor(n,l=[]){this.parent=n,this.bindings={};for(const[u,m]of l)this.bindings[u]=m}concat(n){return new qc(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}var ou=qc;const uo={kind:"null"},Qi={kind:"number"},nr={kind:"string"},dr={kind:"boolean"},ta={kind:"color"},Wa={kind:"object"},Fn={kind:"value"},wc={kind:"collator"},Ma={kind:"formatted"},sl={kind:"resolvedImage"};function Qs(a,n){return{kind:"array",itemType:a,N:n}}function Gr(a){if(a.kind==="array"){const n=Gr(a.itemType);return typeof a.N=="number"?`array<${n}, ${a.N}>`:a.itemType.kind==="value"?"array":`array<${n}>`}return a.kind}const ho=[uo,Qi,nr,dr,ta,Ma,Wa,Qs(Fn),sl];function Ho(a,n){if(n.kind==="error")return null;if(a.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!Ho(a.itemType,n.itemType))&&(typeof a.N!="number"||a.N===n.N))return null}else{if(a.kind===n.kind)return null;if(a.kind==="value"){for(const l of ho)if(!Ho(l,n))return null}}return`Expected ${Gr(a)} but found ${Gr(n)} instead.`}function ql(a,n){return n.some(l=>l.kind===a.kind)}function ma(a,n){return n.some(l=>l==="null"?a===null:l==="array"?Array.isArray(a):l==="object"?a&&!Array.isArray(a)&&typeof a=="object":l===typeof a)}var vl,xl={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ol(a){return(a=Math.round(a))<0?0:a>255?255:a}function bl(a){return ol(a[a.length-1]==="%"?parseFloat(a)/100*255:parseInt(a))}function Xc(a){return(n=a[a.length-1]==="%"?parseFloat(a)/100:parseFloat(a))<0?0:n>1?1:n;var n}function Zc(a,n,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?a+(n-a)*l*6:2*l<1?n:3*l<2?a+(n-a)*(2/3-l)*6:a}try{vl={}.parseCSSColor=function(a){var n,l=a.replace(/ /g,"").toLowerCase();if(l in xl)return xl[l].slice();if(l[0]==="#")return l.length===4?(n=parseInt(l.substr(1),16))>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null:l.length===7&&(n=parseInt(l.substr(1),16))>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null;var u=l.indexOf("("),m=l.indexOf(")");if(u!==-1&&m+1===l.length){var w=l.substr(0,u),C=l.substr(u+1,m-(u+1)).split(","),N=1;switch(w){case"rgba":if(C.length!==4)return null;N=Xc(C.pop());case"rgb":return C.length!==3?null:[bl(C[0]),bl(C[1]),bl(C[2]),N];case"hsla":if(C.length!==4)return null;N=Xc(C.pop());case"hsl":if(C.length!==3)return null;var ee=(parseFloat(C[0])%360+360)%360/360,re=Xc(C[1]),me=Xc(C[2]),Te=me<=.5?me*(re+1):me+re-me*re,Me=2*me-Te;return[ol(255*Zc(Me,Te,ee+1/3)),ol(255*Zc(Me,Te,ee)),ol(255*Zc(Me,Te,ee-1/3)),N];default:return null}}return null}}catch{}class Bo{constructor(n,l,u,m=1){this.r=n,this.g=l,this.b=u,this.a=m}static parse(n){if(!n)return;if(n instanceof Bo)return n;if(typeof n!="string")return;const l=vl(n);return l?new Bo(l[0]/255*l[3],l[1]/255*l[3],l[2]/255*l[3],l[3]):void 0}toString(){const[n,l,u,m]=this.toArray();return`rgba(${Math.round(n)},${Math.round(l)},${Math.round(u)},${m})`}toArray(){const{r:n,g:l,b:u,a:m}=this;return m===0?[0,0,0,0]:[255*n/m,255*l/m,255*u/m,m]}toArray01(){const{r:n,g:l,b:u,a:m}=this;return m===0?[0,0,0,0]:[n/m,l/m,u/m,m]}toArray01PremultipliedAlpha(){const{r:n,g:l,b:u,a:m}=this;return[n,l,u,m]}}Bo.black=new Bo(0,0,0,1),Bo.white=new Bo(1,1,1,1),Bo.transparent=new Bo(0,0,0,0),Bo.red=new Bo(1,0,0,1),Bo.blue=new Bo(0,0,1,1);var Ps=Bo;class Xl{constructor(n,l,u){this.sensitivity=n?l?"variant":"case":l?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,l){return this.collator.compare(n,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class al{constructor(n,l,u,m,w){this.text=n.normalize?n.normalize():n,this.image=l,this.scale=u,this.fontStack=m,this.textColor=w}}class eo{constructor(n){this.sections=n}static fromString(n){return new eo([new al(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof eo?n:eo.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const l of this.sections){if(l.image){n.push(["image",l.image.name]);continue}n.push(l.text);const u={};l.fontStack&&(u["text-font"]=["literal",l.fontStack.split(",")]),l.scale&&(u["font-scale"]=l.scale),l.textColor&&(u["text-color"]=["rgba"].concat(l.textColor.toArray())),n.push(u)}return n}}class ga{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new ga({name:n,available:!1}):null}serialize(){return["image",this.name]}}function Du(a,n,l,u){return typeof a=="number"&&a>=0&&a<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof l=="number"&&l>=0&&l<=255?u===void 0||typeof u=="number"&&u>=0&&u<=1?null:`Invalid rgba value [${[a,n,l,u].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof u=="number"?[a,n,l,u]:[a,n,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Sd(a){if(a===null||typeof a=="string"||typeof a=="boolean"||typeof a=="number"||a instanceof Ps||a instanceof Xl||a instanceof eo||a instanceof ga)return!0;if(Array.isArray(a)){for(const n of a)if(!Sd(n))return!1;return!0}if(typeof a=="object"){for(const n in a)if(!Sd(a[n]))return!1;return!0}return!1}function Ys(a){if(a===null)return uo;if(typeof a=="string")return nr;if(typeof a=="boolean")return dr;if(typeof a=="number")return Qi;if(a instanceof Ps)return ta;if(a instanceof Xl)return wc;if(a instanceof eo)return Ma;if(a instanceof ga)return sl;if(Array.isArray(a)){const n=a.length;let l;for(const u of a){const m=Ys(u);if(l){if(l===m)continue;l=Fn;break}l=m}return Qs(l||Fn,n)}return Wa}function Zl(a){const n=typeof a;return a===null?"":n==="string"||n==="number"||n==="boolean"?String(a):a instanceof Ps||a instanceof eo||a instanceof ga?a.toString():JSON.stringify(a)}class Cd{constructor(n,l){this.type=n,this.value=l}static parse(n,l){if(n.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!Sd(n[1]))return l.error("invalid value");const u=n[1];let m=Ys(u);const w=l.expectedType;return m.kind!=="array"||m.N!==0||!w||w.kind!=="array"||typeof w.N=="number"&&w.N!==0||(m=w),new Cd(m,u)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Ps?["rgba"].concat(this.value.toArray()):this.value instanceof eo?this.value.serialize():this.value}}var Kl=Cd,to=class{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}};const wl={string:nr,number:Qi,boolean:dr,object:Wa};class Ed{constructor(n,l){this.type=n,this.args=l}static parse(n,l){if(n.length<2)return l.error("Expected at least one argument.");let u,m=1;const w=n[0];if(w==="array"){let N,ee;if(n.length>2){const re=n[1];if(typeof re!="string"||!(re in wl)||re==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);N=wl[re],m++}else N=Fn;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return l.error('The length argument to "array" must be a positive integer literal',2);ee=n[2],m++}u=Qs(N,ee)}else u=wl[w];const C=[];for(;m<n.length;m++){const N=l.parse(n[m],m,Fn);if(!N)return null;C.push(N)}return new Ed(u,C)}evaluate(n){for(let l=0;l<this.args.length;l++){const u=this.args[l].evaluate(n);if(!Ho(this.type,Ys(u)))return u;if(l===this.args.length-1)throw new to(`Expected value to be of type ${Gr(this.type)}, but found ${Gr(Ys(u))} instead.`)}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,l=[n.kind];if(n.kind==="array"){const u=n.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){l.push(u.kind);const m=n.N;(typeof m=="number"||this.args.length>1)&&l.push(m)}}return l.concat(this.args.map(u=>u.serialize()))}}var Ir=Ed;class Fr{constructor(n){this.type=Ma,this.sections=n}static parse(n,l){if(n.length<2)return l.error("Expected at least one argument.");const u=n[1];if(!Array.isArray(u)&&typeof u=="object")return l.error("First argument must be an image or text section.");const m=[];let w=!1;for(let C=1;C<=n.length-1;++C){const N=n[C];if(w&&typeof N=="object"&&!Array.isArray(N)){w=!1;let ee=null;if(N["font-scale"]&&(ee=l.parse(N["font-scale"],1,Qi),!ee))return null;let re=null;if(N["text-font"]&&(re=l.parse(N["text-font"],1,Qs(nr)),!re))return null;let me=null;if(N["text-color"]&&(me=l.parse(N["text-color"],1,ta),!me))return null;const Te=m[m.length-1];Te.scale=ee,Te.font=re,Te.textColor=me}else{const ee=l.parse(n[C],1,Fn);if(!ee)return null;const re=ee.type.kind;if(re!=="string"&&re!=="value"&&re!=="null"&&re!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");w=!0,m.push({content:ee,scale:null,font:null,textColor:null})}}return new Fr(m)}evaluate(n){return new eo(this.sections.map(l=>{const u=l.content.evaluate(n);return Ys(u)===sl?new al("",u,null,null,null):new al(Zl(u),null,l.scale?l.scale.evaluate(n):null,l.font?l.font.evaluate(n).join(","):null,l.textColor?l.textColor.evaluate(n):null)}))}eachChild(n){for(const l of this.sections)n(l.content),l.scale&&n(l.scale),l.font&&n(l.font),l.textColor&&n(l.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const l of this.sections){n.push(l.content.serialize());const u={};l.scale&&(u["font-scale"]=l.scale.serialize()),l.font&&(u["text-font"]=l.font.serialize()),l.textColor&&(u["text-color"]=l.textColor.serialize()),n.push(u)}return n}}class Md{constructor(n){this.type=sl,this.input=n}static parse(n,l){if(n.length!==2)return l.error("Expected two arguments.");const u=l.parse(n[1],1,nr);return u?new Md(u):l.error("No image name provided.")}evaluate(n){const l=this.input.evaluate(n),u=ga.fromString(l);return u&&n.availableImages&&(u.available=n.availableImages.indexOf(l)>-1),u}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Iu={"to-boolean":dr,"to-color":ta,"to-number":Qi,"to-string":nr};class au{constructor(n,l){this.type=n,this.args=l}static parse(n,l){if(n.length<2)return l.error("Expected at least one argument.");const u=n[0];if((u==="to-boolean"||u==="to-string")&&n.length!==2)return l.error("Expected one argument.");const m=Iu[u],w=[];for(let C=1;C<n.length;C++){const N=l.parse(n[C],C,Fn);if(!N)return null;w.push(N)}return new au(m,w)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let l,u;for(const m of this.args){if(l=m.evaluate(n),u=null,l instanceof Ps)return l;if(typeof l=="string"){const w=n.parseColor(l);if(w)return w}else if(Array.isArray(l)&&(u=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Du(l[0],l[1],l[2],l[3]),!u))return new Ps(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new to(u||`Could not parse color from value '${typeof l=="string"?l:String(JSON.stringify(l))}'`)}if(this.type.kind==="number"){let l=null;for(const u of this.args){if(l=u.evaluate(n),l===null)return 0;const m=Number(l);if(!isNaN(m))return m}throw new to(`Could not convert ${JSON.stringify(l)} to number.`)}return this.type.kind==="formatted"?eo.fromString(Zl(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?ga.fromString(Zl(this.args[0].evaluate(n))):Zl(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Fr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Md(this.args[0]).serialize();const n=[`to-${this.type.kind}`];return this.eachChild(l=>{n.push(l.serialize())}),n}}var ya=au;const Kc=["Unknown","Point","LineString","Polygon"];var kd=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Kc[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const a=this.featureDistanceData.center,n=this.featureDistanceData.scale,{x:l,y:u}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(l*n-a[0])+this.featureDistanceData.bearing[1]*(u*n-a[1])}return 0}parseColor(a){let n=this._parseColorCache[a];return n||(n=this._parseColorCache[a]=Ps.parse(a)),n}};class Jl{constructor(n,l,u,m){this.name=n,this.type=l,this._evaluate=u,this.args=m}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,l){const u=n[0],m=Jl.definitions[u];if(!m)return l.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0);const w=Array.isArray(m)?m[0]:m.type,C=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,N=C.filter(([re])=>!Array.isArray(re)||re.length===n.length-1);let ee=null;for(const[re,me]of N){ee=new Qr(l.registry,l.path,null,l.scope);const Te=[];let Me=!1;for(let Oe=1;Oe<n.length;Oe++){const ze=n[Oe],He=Array.isArray(re)?re[Oe-1]:re.type,tt=ee.parse(ze,1+Te.length,He);if(!tt){Me=!0;break}Te.push(tt)}if(!Me)if(Array.isArray(re)&&re.length!==Te.length)ee.error(`Expected ${re.length} arguments, but found ${Te.length} instead.`);else{for(let Oe=0;Oe<Te.length;Oe++){const ze=Array.isArray(re)?re[Oe]:re.type,He=Te[Oe];ee.concat(Oe+1).checkSubtype(ze,He.type)}if(ee.errors.length===0)return new Jl(u,w,me,Te)}}if(N.length===1)l.errors.push(...ee.errors);else{const re=(N.length?N:C).map(([Te])=>{return Me=Te,Array.isArray(Me)?`(${Me.map(Gr).join(", ")})`:`(${Gr(Me.type)}...)`;var Me}).join(" | "),me=[];for(let Te=1;Te<n.length;Te++){const Me=l.parse(n[Te],1+me.length);if(!Me)return null;me.push(Gr(Me.type))}l.error(`Expected arguments of type ${re}, but found (${me.join(", ")}) instead.`)}return null}static register(n,l){Jl.definitions=l;for(const u in l)n[u]=Jl}}var ia=Jl;class qs{constructor(n,l,u){this.type=wc,this.locale=u,this.caseSensitive=n,this.diacriticSensitive=l}static parse(n,l){if(n.length!==2)return l.error("Expected one argument.");const u=n[1];if(typeof u!="object"||Array.isArray(u))return l.error("Collator options argument must be an object.");const m=l.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,dr);if(!m)return null;const w=l.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,dr);if(!w)return null;let C=null;return u.locale&&(C=l.parse(u.locale,1,nr),!C)?null:new qs(m,w,C)}evaluate(n){return new Xl(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}const Z=8192;function de(a,n){a[0]=Math.min(a[0],n[0]),a[1]=Math.min(a[1],n[1]),a[2]=Math.max(a[2],n[0]),a[3]=Math.max(a[3],n[1])}function be(a,n){return!(a[0]<=n[0]||a[2]>=n[2]||a[1]<=n[1]||a[3]>=n[3])}function ke(a,n){const l=(180+a[0])/360,u=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,m=Math.pow(2,n.z);return[Math.round(l*m*Z),Math.round(u*m*Z)]}function Ue(a,n,l){const u=a[0]-n[0],m=a[1]-n[1],w=a[0]-l[0],C=a[1]-l[1];return u*C-w*m==0&&u*w<=0&&m*C<=0}function Ge(a,n){let l=!1;for(let C=0,N=n.length;C<N;C++){const ee=n[C];for(let re=0,me=ee.length;re<me-1;re++){if(Ue(a,ee[re],ee[re+1]))return!1;(m=ee[re])[1]>(u=a)[1]!=(w=ee[re+1])[1]>u[1]&&u[0]<(w[0]-m[0])*(u[1]-m[1])/(w[1]-m[1])+m[0]&&(l=!l)}}var u,m,w;return l}function Je(a,n){for(let l=0;l<n.length;l++)if(Ge(a,n[l]))return!0;return!1}function Bt(a,n,l,u){const m=u[0]-l[0],w=u[1]-l[1],C=(a[0]-l[0])*w-m*(a[1]-l[1]),N=(n[0]-l[0])*w-m*(n[1]-l[1]);return C>0&&N<0||C<0&&N>0}function Et(a,n,l){for(const re of l)for(let me=0;me<re.length-1;++me)if((N=[(C=re[me+1])[0]-(w=re[me])[0],C[1]-w[1]])[0]*(ee=[(m=n)[0]-(u=a)[0],m[1]-u[1]])[1]-N[1]*ee[0]!=0&&Bt(u,m,w,C)&&Bt(w,C,u,m))return!0;var u,m,w,C,N,ee;return!1}function Kt(a,n){for(let l=0;l<a.length;++l)if(!Ge(a[l],n))return!1;for(let l=0;l<a.length-1;++l)if(Et(a[l],a[l+1],n))return!1;return!0}function gi(a,n){for(let l=0;l<n.length;l++)if(Kt(a,n[l]))return!0;return!1}function ki(a,n,l){const u=[];for(let m=0;m<a.length;m++){const w=[];for(let C=0;C<a[m].length;C++){const N=ke(a[m][C],l);de(n,N),w.push(N)}u.push(w)}return u}function oi(a,n,l){const u=[];for(let m=0;m<a.length;m++){const w=ki(a[m],n,l);u.push(w)}return u}function hi(a,n,l,u){if(a[0]<l[0]||a[0]>l[2]){const m=.5*u;let w=a[0]-l[0]>m?-u:l[0]-a[0]>m?u:0;w===0&&(w=a[0]-l[2]>m?-u:l[2]-a[0]>m?u:0),a[0]+=w}de(n,a)}function Zi(a,n,l,u){const m=Math.pow(2,u.z)*Z,w=[u.x*Z,u.y*Z],C=[];if(!a)return C;for(const N of a)for(const ee of N){const re=[ee.x+w[0],ee.y+w[1]];hi(re,n,l,m),C.push(re)}return C}function Zn(a,n,l,u){const m=Math.pow(2,u.z)*Z,w=[u.x*Z,u.y*Z],C=[];if(!a)return C;for(const ee of a){const re=[];for(const me of ee){const Te=[me.x+w[0],me.y+w[1]];de(n,Te),re.push(Te)}C.push(re)}if(n[2]-n[0]<=m/2){(N=n)[0]=N[1]=1/0,N[2]=N[3]=-1/0;for(const ee of C)for(const re of ee)hi(re,n,l,m)}var N;return C}class pn{constructor(n,l){this.type=dr,this.geojson=n,this.geometries=l}static parse(n,l){if(n.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(Sd(n[1])){const u=n[1];if(u.type==="FeatureCollection")for(let m=0;m<u.features.length;++m){const w=u.features[m].geometry.type;if(w==="Polygon"||w==="MultiPolygon")return new pn(u,u.features[m].geometry)}else if(u.type==="Feature"){const m=u.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new pn(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new pn(u,u)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(l,u){const m=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],C=l.canonicalID();if(!C)return!1;if(u.type==="Polygon"){const N=ki(u.coordinates,w,C),ee=Zi(l.geometry(),m,w,C);if(!be(m,w))return!1;for(const re of ee)if(!Ge(re,N))return!1}if(u.type==="MultiPolygon"){const N=oi(u.coordinates,w,C),ee=Zi(l.geometry(),m,w,C);if(!be(m,w))return!1;for(const re of ee)if(!Je(re,N))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(l,u){const m=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],C=l.canonicalID();if(!C)return!1;if(u.type==="Polygon"){const N=ki(u.coordinates,w,C),ee=Zn(l.geometry(),m,w,C);if(!be(m,w))return!1;for(const re of ee)if(!Kt(re,N))return!1}if(u.type==="MultiPolygon"){const N=oi(u.coordinates,w,C),ee=Zn(l.geometry(),m,w,C);if(!be(m,w))return!1;for(const re of ee)if(!gi(re,N))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var fs=pn;function Jr(a){if(a instanceof ia&&(a.name==="get"&&a.args.length===1||a.name==="feature-state"||a.name==="has"&&a.args.length===1||a.name==="properties"||a.name==="geometry-type"||a.name==="id"||/^filter-/.test(a.name))||a instanceof fs)return!1;let n=!0;return a.eachChild(l=>{n&&!Jr(l)&&(n=!1)}),n}function fr(a){if(a instanceof ia&&a.name==="feature-state")return!1;let n=!0;return a.eachChild(l=>{n&&!fr(l)&&(n=!1)}),n}function mr(a,n){if(a instanceof ia&&n.indexOf(a.name)>=0)return!1;let l=!0;return a.eachChild(u=>{l&&!mr(u,n)&&(l=!1)}),l}class Yn{constructor(n,l){this.type=l.type,this.name=n,this.boundExpression=l}static parse(n,l){if(n.length!==2||typeof n[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const u=n[1];return l.scope.has(u)?new Yn(u,l.scope.get(u)):l.error(`Unknown variable "${u}". Make sure "${u}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var no=Yn;class yr{constructor(n,l=[],u,m=new ou,w=[]){this.registry=n,this.path=l,this.key=l.map(C=>`[${C}]`).join(""),this.scope=m,this.errors=w,this.expectedType=u}parse(n,l,u,m,w={}){return l?this.concat(l,u,m)._parse(n,w):this._parse(n,w)}_parse(n,l){function u(m,w,C){return C==="assert"?new Ir(w,[m]):C==="coerce"?new ya(w,[m]):m}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=n[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const w=this.registry[m];if(w){let C=w.parse(n,this);if(!C)return null;if(this.expectedType){const N=this.expectedType,ee=C.type;if(N.kind!=="string"&&N.kind!=="number"&&N.kind!=="boolean"&&N.kind!=="object"&&N.kind!=="array"||ee.kind!=="value")if(N.kind!=="color"&&N.kind!=="formatted"&&N.kind!=="resolvedImage"||ee.kind!=="value"&&ee.kind!=="string"){if(this.checkSubtype(N,ee))return null}else C=u(C,N,l.typeAnnotation||"coerce");else C=u(C,N,l.typeAnnotation||"assert")}if(!(C instanceof Kl)&&C.type.kind!=="resolvedImage"&&Ya(C)){const N=new kd;try{C=new Kl(C.type,C.evaluate(N))}catch(ee){return this.error(ee.message),null}}return C}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,l,u){const m=typeof n=="number"?this.path.concat(n):this.path,w=u?this.scope.concat(u):this.scope;return new yr(this.registry,m,l||null,w,this.errors)}error(n,...l){const u=`${this.key}${l.map(m=>`[${m}]`).join("")}`;this.errors.push(new Po(u,n))}checkSubtype(n,l){const u=Ho(n,l);return u&&this.error(u),u}}var Qr=yr;function Ya(a){if(a instanceof no)return Ya(a.boundExpression);if(a instanceof ia&&a.name==="error"||a instanceof qs||a instanceof fs)return!1;const n=a instanceof ya||a instanceof Ir;let l=!0;return a.eachChild(u=>{l=n?l&&Ya(u):l&&u instanceof Kl}),!!l&&Jr(a)&&mr(a,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Ql(a,n){const l=a.length-1;let u,m,w=0,C=l,N=0;for(;w<=C;)if(N=Math.floor((w+C)/2),u=a[N],m=a[N+1],u<=n){if(N===l||n<m)return N;w=N+1}else{if(!(u>n))throw new to("Input is not a number.");C=N-1}return 0}class ro{constructor(n,l,u){this.type=n,this.input=l,this.labels=[],this.outputs=[];for(const[m,w]of u)this.labels.push(m),this.outputs.push(w)}static parse(n,l){if(n.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return l.error("Expected an even number of arguments.");const u=l.parse(n[1],1,Qi);if(!u)return null;const m=[];let w=null;l.expectedType&&l.expectedType.kind!=="value"&&(w=l.expectedType);for(let C=1;C<n.length;C+=2){const N=C===1?-1/0:n[C],ee=n[C+1],re=C,me=C+1;if(typeof N!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',re);if(m.length&&m[m.length-1][0]>=N)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',re);const Te=l.parse(ee,me,w);if(!Te)return null;w=w||Te.type,m.push([N,Te])}return new ro(w,u,m)}evaluate(n){const l=this.labels,u=this.outputs;if(l.length===1)return u[0].evaluate(n);const m=this.input.evaluate(n);if(m<=l[0])return u[0].evaluate(n);const w=l.length;return m>=l[w-1]?u[w-1].evaluate(n):u[Ql(l,m)].evaluate(n)}eachChild(n){n(this.input);for(const l of this.outputs)n(l)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let l=0;l<this.labels.length;l++)l>0&&n.push(this.labels[l]),n.push(this.outputs[l].serialize());return n}}var na=ro;function Jn(a,n,l){return a*(1-l)+n*l}var _o=Object.freeze({__proto__:null,number:Jn,color:function(a,n,l){return new Ps(Jn(a.r,n.r,l),Jn(a.g,n.g,l),Jn(a.b,n.b,l),Jn(a.a,n.a,l))},array:function(a,n,l){return a.map((u,m)=>Jn(u,n[m],l))}});const ra=.95047,zo=1.08883,_a=4/29,ec=6/29,ll=3*ec*ec,Ad=Math.PI/180,jr=180/Math.PI;function va(a){return a>.008856451679035631?Math.pow(a,1/3):a/ll+_a}function Jc(a){return a>ec?a*a*a:ll*(a-_a)}function tc(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function No(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function ic(a){const n=No(a.r),l=No(a.g),u=No(a.b),m=va((.4124564*n+.3575761*l+.1804375*u)/ra),w=va((.2126729*n+.7151522*l+.072175*u)/1);return{l:116*w-16,a:500*(m-w),b:200*(w-va((.0193339*n+.119192*l+.9503041*u)/zo)),alpha:a.a}}function Tc(a){let n=(a.l+16)/116,l=isNaN(a.a)?n:n+a.a/500,u=isNaN(a.b)?n:n-a.b/200;return n=1*Jc(n),l=ra*Jc(l),u=zo*Jc(u),new Ps(tc(3.2404542*l-1.5371385*n-.4985314*u),tc(-.969266*l+1.8760108*n+.041556*u),tc(.0556434*l-.2040259*n+1.0572252*u),a.alpha)}function lu(a,n,l){const u=n-a;return a+l*(u>180||u<-180?u-360*Math.round(u/360):u)}const nc={forward:ic,reverse:Tc,interpolate:function(a,n,l){return{l:Jn(a.l,n.l,l),a:Jn(a.a,n.a,l),b:Jn(a.b,n.b,l),alpha:Jn(a.alpha,n.alpha,l)}}},rc={forward:function(a){const{l:n,a:l,b:u}=ic(a),m=Math.atan2(u,l)*jr;return{h:m<0?m+360:m,c:Math.sqrt(l*l+u*u),l:n,alpha:a.a}},reverse:function(a){const n=a.h*Ad,l=a.c;return Tc({l:a.l,a:Math.cos(n)*l,b:Math.sin(n)*l,alpha:a.alpha})},interpolate:function(a,n,l){return{h:lu(a.h,n.h,l),c:Jn(a.c,n.c,l),l:Jn(a.l,n.l,l),alpha:Jn(a.alpha,n.alpha,l)}}};var Lu=Object.freeze({__proto__:null,lab:nc,hcl:rc});class sc{constructor(n,l,u,m,w){this.type=n,this.operator=l,this.interpolation=u,this.input=m,this.labels=[],this.outputs=[];for(const[C,N]of w)this.labels.push(C),this.outputs.push(N)}static interpolationFactor(n,l,u,m){let w=0;if(n.name==="exponential")w=cu(l,n.base,u,m);else if(n.name==="linear")w=cu(l,1,u,m);else if(n.name==="cubic-bezier"){const C=n.controlPoints;w=new D(C[0],C[1],C[2],C[3]).solve(cu(l,1,u,m))}return w}static parse(n,l){let[u,m,w,...C]=n;if(!Array.isArray(m)||m.length===0)return l.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const re=m[1];if(typeof re!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:re}}else{if(m[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const re=m.slice(1);if(re.length!==4||re.some(me=>typeof me!="number"||me<0||me>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:re}}}if(n.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(w=l.parse(w,2,Qi),!w)return null;const N=[];let ee=null;u==="interpolate-hcl"||u==="interpolate-lab"?ee=ta:l.expectedType&&l.expectedType.kind!=="value"&&(ee=l.expectedType);for(let re=0;re<C.length;re+=2){const me=C[re],Te=C[re+1],Me=re+3,Oe=re+4;if(typeof me!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Me);if(N.length&&N[N.length-1][0]>=me)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Me);const ze=l.parse(Te,Oe,ee);if(!ze)return null;ee=ee||ze.type,N.push([me,ze])}return ee.kind==="number"||ee.kind==="color"||ee.kind==="array"&&ee.itemType.kind==="number"&&typeof ee.N=="number"?new sc(ee,u,m,w,N):l.error(`Type ${Gr(ee)} is not interpolatable.`)}evaluate(n){const l=this.labels,u=this.outputs;if(l.length===1)return u[0].evaluate(n);const m=this.input.evaluate(n);if(m<=l[0])return u[0].evaluate(n);const w=l.length;if(m>=l[w-1])return u[w-1].evaluate(n);const C=Ql(l,m),N=sc.interpolationFactor(this.interpolation,m,l[C],l[C+1]),ee=u[C].evaluate(n),re=u[C+1].evaluate(n);return this.operator==="interpolate"?_o[this.type.kind.toLowerCase()](ee,re,N):this.operator==="interpolate-hcl"?rc.reverse(rc.interpolate(rc.forward(ee),rc.forward(re),N)):nc.reverse(nc.interpolate(nc.forward(ee),nc.forward(re),N))}eachChild(n){n(this.input);for(const l of this.outputs)n(l)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const l=[this.operator,n,this.input.serialize()];for(let u=0;u<this.labels.length;u++)l.push(this.labels[u],this.outputs[u].serialize());return l}}function cu(a,n,l,u){const m=u-l,w=a-l;return m===0?0:n===1?w/m:(Math.pow(n,w)-1)/(Math.pow(n,m)-1)}var ka=sc;class Aa{constructor(n,l){this.type=n,this.args=l}static parse(n,l){if(n.length<2)return l.error("Expectected at least one argument.");let u=null;const m=l.expectedType;m&&m.kind!=="value"&&(u=m);const w=[];for(const N of n.slice(1)){const ee=l.parse(N,1+w.length,u,void 0,{typeAnnotation:"omit"});if(!ee)return null;u=u||ee.type,w.push(ee)}const C=m&&w.some(N=>Ho(m,N.type));return new Aa(C?Fn:u,w)}evaluate(n){let l,u=null,m=0;for(const w of this.args){if(m++,u=w.evaluate(n),u&&u instanceof ga&&!u.available&&(l||(l=u),u=null,m===this.args.length))return l;if(u!==null)break}return u}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(l=>{n.push(l.serialize())}),n}}var oc=Aa;class Pd{constructor(n,l){this.type=l.type,this.bindings=[].concat(n),this.result=l}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const l of this.bindings)n(l[1]);n(this.result)}static parse(n,l){if(n.length<4)return l.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const u=[];for(let w=1;w<n.length-1;w+=2){const C=n[w];if(typeof C!="string")return l.error(`Expected string, but found ${typeof C} instead.`,w);if(/[^a-zA-Z0-9_]/.test(C))return l.error("Variable names must contain only alphanumeric characters or '_'.",w);const N=l.parse(n[w+1],w+1);if(!N)return null;u.push([C,N])}const m=l.parse(n[n.length-1],n.length-1,l.expectedType,u);return m?new Pd(u,m):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[l,u]of this.bindings)n.push(l,u.serialize());return n.push(this.result.serialize()),n}}var Sc=Pd;class sa{constructor(n,l,u){this.type=n,this.index=l,this.input=u}static parse(n,l){if(n.length!==3)return l.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const u=l.parse(n[1],1,Qi),m=l.parse(n[2],2,Qs(l.expectedType||Fn));return u&&m?new sa(m.type.itemType,u,m):null}evaluate(n){const l=this.index.evaluate(n),u=this.input.evaluate(n);if(l<0)throw new to(`Array index out of bounds: ${l} < 0.`);if(l>=u.length)throw new to(`Array index out of bounds: ${l} > ${u.length-1}.`);if(l!==Math.floor(l))throw new to(`Array index must be an integer, but found ${l} instead.`);return u[l]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var vo=sa;class Tl{constructor(n,l){this.type=dr,this.needle=n,this.haystack=l}static parse(n,l){if(n.length!==3)return l.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const u=l.parse(n[1],1,Fn),m=l.parse(n[2],2,Fn);return u&&m?ql(u.type,[dr,nr,Qi,uo,Fn])?new Tl(u,m):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(u.type)} instead`):null}evaluate(n){const l=this.needle.evaluate(n),u=this.haystack.evaluate(n);if(u==null)return!1;if(!ma(l,["boolean","string","number","null"]))throw new to(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(Ys(l))} instead.`);if(!ma(u,["string","array"]))throw new to(`Expected second argument to be of type array or string, but found ${Gr(Ys(u))} instead.`);return u.indexOf(l)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var ac=Tl;class Cc{constructor(n,l,u){this.type=Qi,this.needle=n,this.haystack=l,this.fromIndex=u}static parse(n,l){if(n.length<=2||n.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const u=l.parse(n[1],1,Fn),m=l.parse(n[2],2,Fn);if(!u||!m)return null;if(!ql(u.type,[dr,nr,Qi,uo,Fn]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(u.type)} instead`);if(n.length===4){const w=l.parse(n[3],3,Qi);return w?new Cc(u,m,w):null}return new Cc(u,m)}evaluate(n){const l=this.needle.evaluate(n),u=this.haystack.evaluate(n);if(!ma(l,["boolean","string","number","null"]))throw new to(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(Ys(l))} instead.`);if(!ma(u,["string","array"]))throw new to(`Expected second argument to be of type array or string, but found ${Gr(Ys(u))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(n);return u.indexOf(l,m)}return u.indexOf(l)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var yh=Cc;class xr{constructor(n,l,u,m,w,C){this.inputType=n,this.type=l,this.input=u,this.cases=m,this.outputs=w,this.otherwise=C}static parse(n,l){if(n.length<5)return l.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return l.error("Expected an even number of arguments.");let u,m;l.expectedType&&l.expectedType.kind!=="value"&&(m=l.expectedType);const w={},C=[];for(let re=2;re<n.length-1;re+=2){let me=n[re];const Te=n[re+1];Array.isArray(me)||(me=[me]);const Me=l.concat(re);if(me.length===0)return Me.error("Expected at least one branch label.");for(const ze of me){if(typeof ze!="number"&&typeof ze!="string")return Me.error("Branch labels must be numbers or strings.");if(typeof ze=="number"&&Math.abs(ze)>Number.MAX_SAFE_INTEGER)return Me.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ze=="number"&&Math.floor(ze)!==ze)return Me.error("Numeric branch labels must be integer values.");if(u){if(Me.checkSubtype(u,Ys(ze)))return null}else u=Ys(ze);if(w[String(ze)]!==void 0)return Me.error("Branch labels must be unique.");w[String(ze)]=C.length}const Oe=l.parse(Te,re,m);if(!Oe)return null;m=m||Oe.type,C.push(Oe)}const N=l.parse(n[1],1,Fn);if(!N)return null;const ee=l.parse(n[n.length-1],n.length-1,m);return ee?N.type.kind!=="value"&&l.concat(1).checkSubtype(u,N.type)?null:new xr(u,m,N,w,C,ee):null}evaluate(n){const l=this.input.evaluate(n);return(Ys(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],l=Object.keys(this.cases).sort(),u=[],m={};for(const C of l){const N=m[this.cases[C]];N===void 0?(m[this.cases[C]]=u.length,u.push([this.cases[C],[C]])):u[N][1].push(C)}const w=C=>this.inputType.kind==="number"?Number(C):C;for(const[C,N]of u)n.push(N.length===1?w(N[0]):N.map(w)),n.push(this.outputs[C].serialize());return n.push(this.otherwise.serialize()),n}}var Wo=xr;class xo{constructor(n,l,u){this.type=n,this.branches=l,this.otherwise=u}static parse(n,l){if(n.length<4)return l.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return l.error("Expected an odd number of arguments.");let u;l.expectedType&&l.expectedType.kind!=="value"&&(u=l.expectedType);const m=[];for(let C=1;C<n.length-1;C+=2){const N=l.parse(n[C],C,dr);if(!N)return null;const ee=l.parse(n[C+1],C+1,u);if(!ee)return null;m.push([N,ee]),u=u||ee.type}const w=l.parse(n[n.length-1],n.length-1,u);return w?new xo(u,m,w):null}evaluate(n){for(const[l,u]of this.branches)if(l.evaluate(n))return u.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[l,u]of this.branches)n(l),n(u);n(this.otherwise)}outputDefined(){return this.branches.every(([n,l])=>l.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(l=>{n.push(l.serialize())}),n}}var oa=xo;class Sl{constructor(n,l,u,m){this.type=n,this.input=l,this.beginIndex=u,this.endIndex=m}static parse(n,l){if(n.length<=2||n.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const u=l.parse(n[1],1,Fn),m=l.parse(n[2],2,Qi);if(!u||!m)return null;if(!ql(u.type,[Qs(Fn),nr,Fn]))return l.error(`Expected first argument to be of type array or string, but found ${Gr(u.type)} instead`);if(n.length===4){const w=l.parse(n[3],3,Qi);return w?new Sl(u.type,u,m,w):null}return new Sl(u.type,u,m)}evaluate(n){const l=this.input.evaluate(n),u=this.beginIndex.evaluate(n);if(!ma(l,["string","array"]))throw new to(`Expected first argument to be of type array or string, but found ${Gr(Ys(l))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(n);return l.slice(u,m)}return l.slice(u)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Ou=Sl;function Ru(a,n){return a==="=="||a==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function Bu(a,n,l,u){return u.compare(n,l)===0}function Yo(a,n,l){const u=a!=="=="&&a!=="!=";return class O4{constructor(w,C,N){this.type=dr,this.lhs=w,this.rhs=C,this.collator=N,this.hasUntypedArgument=w.type.kind==="value"||C.type.kind==="value"}static parse(w,C){if(w.length!==3&&w.length!==4)return C.error("Expected two or three arguments.");const N=w[0];let ee=C.parse(w[1],1,Fn);if(!ee)return null;if(!Ru(N,ee.type))return C.concat(1).error(`"${N}" comparisons are not supported for type '${Gr(ee.type)}'.`);let re=C.parse(w[2],2,Fn);if(!re)return null;if(!Ru(N,re.type))return C.concat(2).error(`"${N}" comparisons are not supported for type '${Gr(re.type)}'.`);if(ee.type.kind!==re.type.kind&&ee.type.kind!=="value"&&re.type.kind!=="value")return C.error(`Cannot compare types '${Gr(ee.type)}' and '${Gr(re.type)}'.`);u&&(ee.type.kind==="value"&&re.type.kind!=="value"?ee=new Ir(re.type,[ee]):ee.type.kind!=="value"&&re.type.kind==="value"&&(re=new Ir(ee.type,[re])));let me=null;if(w.length===4){if(ee.type.kind!=="string"&&re.type.kind!=="string"&&ee.type.kind!=="value"&&re.type.kind!=="value")return C.error("Cannot use collator to compare non-string types.");if(me=C.parse(w[3],3,wc),!me)return null}return new O4(ee,re,me)}evaluate(w){const C=this.lhs.evaluate(w),N=this.rhs.evaluate(w);if(u&&this.hasUntypedArgument){const ee=Ys(C),re=Ys(N);if(ee.kind!==re.kind||ee.kind!=="string"&&ee.kind!=="number")throw new to(`Expected arguments for "${a}" to be (string, string) or (number, number), but found (${ee.kind}, ${re.kind}) instead.`)}if(this.collator&&!u&&this.hasUntypedArgument){const ee=Ys(C),re=Ys(N);if(ee.kind!=="string"||re.kind!=="string")return n(w,C,N)}return this.collator?l(w,C,N,this.collator.evaluate(w)):n(w,C,N)}eachChild(w){w(this.lhs),w(this.rhs),this.collator&&w(this.collator)}outputDefined(){return!0}serialize(){const w=[a];return this.eachChild(C=>{w.push(C.serialize())}),w}}}const $t=Yo("==",function(a,n,l){return n===l},Bu),bi=Yo("!=",function(a,n,l){return n!==l},function(a,n,l,u){return!Bu(0,n,l,u)}),pi=Yo("<",function(a,n,l){return n<l},function(a,n,l,u){return u.compare(n,l)<0}),fn=Yo(">",function(a,n,l){return n>l},function(a,n,l,u){return u.compare(n,l)>0}),Qn=Yo("<=",function(a,n,l){return n<=l},function(a,n,l,u){return u.compare(n,l)<=0}),Rr=Yo(">=",function(a,n,l){return n>=l},function(a,n,l,u){return u.compare(n,l)>=0});class Ns{constructor(n,l,u,m,w,C){this.type=nr,this.number=n,this.locale=l,this.currency=u,this.unit=m,this.minFractionDigits=w,this.maxFractionDigits=C}static parse(n,l){if(n.length!==3)return l.error("Expected two arguments.");const u=l.parse(n[1],1,Qi);if(!u)return null;const m=n[2];if(typeof m!="object"||Array.isArray(m))return l.error("NumberFormat options argument must be an object.");let w=null;if(m.locale&&(w=l.parse(m.locale,1,nr),!w))return null;let C=null;if(m.currency&&(C=l.parse(m.currency,1,nr),!C))return null;let N=null;if(m.unit&&(N=l.parse(m.unit,1,nr),!N))return null;let ee=null;if(m["min-fraction-digits"]&&(ee=l.parse(m["min-fraction-digits"],1,Qi),!ee))return null;let re=null;return m["max-fraction-digits"]&&(re=l.parse(m["max-fraction-digits"],1,Qi),!re)?null:new Ns(u,w,C,N,ee,re)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class Ur{constructor(n){this.type=Qi,this.input=n}static parse(n,l){if(n.length!==2)return l.error(`Expected 1 argument, but found ${n.length-1} instead.`);const u=l.parse(n[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${Gr(u.type)} instead.`):new Ur(u):null}evaluate(n){const l=this.input.evaluate(n);if(typeof l=="string"||Array.isArray(l))return l.length;throw new to(`Expected value to be of type string or array, but found ${Gr(Ys(l))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(l=>{n.push(l.serialize())}),n}}const Ec={"==":$t,"!=":bi,">":fn,"<":pi,">=":Rr,"<=":Qn,array:Ir,at:vo,boolean:Ir,case:oa,coalesce:oc,collator:qs,format:Fr,image:Md,in:ac,"index-of":yh,interpolate:ka,"interpolate-hcl":ka,"interpolate-lab":ka,length:Ur,let:Sc,literal:Kl,match:Wo,number:Ir,"number-format":Ns,object:Ir,slice:Ou,step:na,string:Ir,"to-boolean":ya,"to-color":ya,"to-number":ya,"to-string":ya,var:no,within:fs};function Dd(a,[n,l,u,m]){n=n.evaluate(a),l=l.evaluate(a),u=u.evaluate(a);const w=m?m.evaluate(a):1,C=Du(n,l,u,w);if(C)throw new to(C);return new Ps(n/255*w,l/255*w,u/255*w,w)}function qo(a,n){return a in n}function st(a,n){const l=n[a];return l===void 0?null:l}function kt(a){return{type:a}}ia.register(Ec,{error:[{kind:"error"},[nr],(a,[n])=>{throw new to(n.evaluate(a))}],typeof:[nr,[Fn],(a,[n])=>Gr(Ys(n.evaluate(a)))],"to-rgba":[Qs(Qi,4),[ta],(a,[n])=>n.evaluate(a).toArray()],rgb:[ta,[Qi,Qi,Qi],Dd],rgba:[ta,[Qi,Qi,Qi,Qi],Dd],has:{type:dr,overloads:[[[nr],(a,[n])=>qo(n.evaluate(a),a.properties())],[[nr,Wa],(a,[n,l])=>qo(n.evaluate(a),l.evaluate(a))]]},get:{type:Fn,overloads:[[[nr],(a,[n])=>st(n.evaluate(a),a.properties())],[[nr,Wa],(a,[n,l])=>st(n.evaluate(a),l.evaluate(a))]]},"feature-state":[Fn,[nr],(a,[n])=>st(n.evaluate(a),a.featureState||{})],properties:[Wa,[],a=>a.properties()],"geometry-type":[nr,[],a=>a.geometryType()],id:[Fn,[],a=>a.id()],zoom:[Qi,[],a=>a.globals.zoom],pitch:[Qi,[],a=>a.globals.pitch||0],"distance-from-center":[Qi,[],a=>a.distanceFromCenter()],"heatmap-density":[Qi,[],a=>a.globals.heatmapDensity||0],"line-progress":[Qi,[],a=>a.globals.lineProgress||0],"sky-radial-progress":[Qi,[],a=>a.globals.skyRadialProgress||0],accumulated:[Fn,[],a=>a.globals.accumulated===void 0?null:a.globals.accumulated],"+":[Qi,kt(Qi),(a,n)=>{let l=0;for(const u of n)l+=u.evaluate(a);return l}],"*":[Qi,kt(Qi),(a,n)=>{let l=1;for(const u of n)l*=u.evaluate(a);return l}],"-":{type:Qi,overloads:[[[Qi,Qi],(a,[n,l])=>n.evaluate(a)-l.evaluate(a)],[[Qi],(a,[n])=>-n.evaluate(a)]]},"/":[Qi,[Qi,Qi],(a,[n,l])=>n.evaluate(a)/l.evaluate(a)],"%":[Qi,[Qi,Qi],(a,[n,l])=>n.evaluate(a)%l.evaluate(a)],ln2:[Qi,[],()=>Math.LN2],pi:[Qi,[],()=>Math.PI],e:[Qi,[],()=>Math.E],"^":[Qi,[Qi,Qi],(a,[n,l])=>Math.pow(n.evaluate(a),l.evaluate(a))],sqrt:[Qi,[Qi],(a,[n])=>Math.sqrt(n.evaluate(a))],log10:[Qi,[Qi],(a,[n])=>Math.log(n.evaluate(a))/Math.LN10],ln:[Qi,[Qi],(a,[n])=>Math.log(n.evaluate(a))],log2:[Qi,[Qi],(a,[n])=>Math.log(n.evaluate(a))/Math.LN2],sin:[Qi,[Qi],(a,[n])=>Math.sin(n.evaluate(a))],cos:[Qi,[Qi],(a,[n])=>Math.cos(n.evaluate(a))],tan:[Qi,[Qi],(a,[n])=>Math.tan(n.evaluate(a))],asin:[Qi,[Qi],(a,[n])=>Math.asin(n.evaluate(a))],acos:[Qi,[Qi],(a,[n])=>Math.acos(n.evaluate(a))],atan:[Qi,[Qi],(a,[n])=>Math.atan(n.evaluate(a))],min:[Qi,kt(Qi),(a,n)=>Math.min(...n.map(l=>l.evaluate(a)))],max:[Qi,kt(Qi),(a,n)=>Math.max(...n.map(l=>l.evaluate(a)))],abs:[Qi,[Qi],(a,[n])=>Math.abs(n.evaluate(a))],round:[Qi,[Qi],(a,[n])=>{const l=n.evaluate(a);return l<0?-Math.round(-l):Math.round(l)}],floor:[Qi,[Qi],(a,[n])=>Math.floor(n.evaluate(a))],ceil:[Qi,[Qi],(a,[n])=>Math.ceil(n.evaluate(a))],"filter-==":[dr,[nr,Fn],(a,[n,l])=>a.properties()[n.value]===l.value],"filter-id-==":[dr,[Fn],(a,[n])=>a.id()===n.value],"filter-type-==":[dr,[nr],(a,[n])=>a.geometryType()===n.value],"filter-<":[dr,[nr,Fn],(a,[n,l])=>{const u=a.properties()[n.value],m=l.value;return typeof u==typeof m&&u<m}],"filter-id-<":[dr,[Fn],(a,[n])=>{const l=a.id(),u=n.value;return typeof l==typeof u&&l<u}],"filter->":[dr,[nr,Fn],(a,[n,l])=>{const u=a.properties()[n.value],m=l.value;return typeof u==typeof m&&u>m}],"filter-id->":[dr,[Fn],(a,[n])=>{const l=a.id(),u=n.value;return typeof l==typeof u&&l>u}],"filter-<=":[dr,[nr,Fn],(a,[n,l])=>{const u=a.properties()[n.value],m=l.value;return typeof u==typeof m&&u<=m}],"filter-id-<=":[dr,[Fn],(a,[n])=>{const l=a.id(),u=n.value;return typeof l==typeof u&&l<=u}],"filter->=":[dr,[nr,Fn],(a,[n,l])=>{const u=a.properties()[n.value],m=l.value;return typeof u==typeof m&&u>=m}],"filter-id->=":[dr,[Fn],(a,[n])=>{const l=a.id(),u=n.value;return typeof l==typeof u&&l>=u}],"filter-has":[dr,[Fn],(a,[n])=>n.value in a.properties()],"filter-has-id":[dr,[],a=>a.id()!==null&&a.id()!==void 0],"filter-type-in":[dr,[Qs(nr)],(a,[n])=>n.value.indexOf(a.geometryType())>=0],"filter-id-in":[dr,[Qs(Fn)],(a,[n])=>n.value.indexOf(a.id())>=0],"filter-in-small":[dr,[nr,Qs(Fn)],(a,[n,l])=>l.value.indexOf(a.properties()[n.value])>=0],"filter-in-large":[dr,[nr,Qs(Fn)],(a,[n,l])=>function(u,m,w,C){for(;w<=C;){const N=w+C>>1;if(m[N]===u)return!0;m[N]>u?C=N-1:w=N+1}return!1}(a.properties()[n.value],l.value,0,l.value.length-1)],all:{type:dr,overloads:[[[dr,dr],(a,[n,l])=>n.evaluate(a)&&l.evaluate(a)],[kt(dr),(a,n)=>{for(const l of n)if(!l.evaluate(a))return!1;return!0}]]},any:{type:dr,overloads:[[[dr,dr],(a,[n,l])=>n.evaluate(a)||l.evaluate(a)],[kt(dr),(a,n)=>{for(const l of n)if(l.evaluate(a))return!0;return!1}]]},"!":[dr,[dr],(a,[n])=>!n.evaluate(a)],"is-supported-script":[dr,[nr],(a,[n])=>{const l=a.globals&&a.globals.isSupportedScript;return!l||l(n.evaluate(a))}],upcase:[nr,[nr],(a,[n])=>n.evaluate(a).toUpperCase()],downcase:[nr,[nr],(a,[n])=>n.evaluate(a).toLowerCase()],concat:[nr,kt(Fn),(a,n)=>n.map(l=>Zl(l.evaluate(a))).join("")],"resolved-locale":[nr,[wc],(a,[n])=>n.evaluate(a).resolvedLocale()]});var Ft=Ec;function wi(a){return{result:"success",value:a}}function Vt(a){return{result:"error",value:a}}function li(a){return a["property-type"]==="data-driven"}function Ii(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function rn(a){return!!a.expression&&a.expression.interpolated}function zi(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":a===null?"null":typeof a}function Bn(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}function jn(a){return a}function $n(a,n){const l=n.type==="color",u=a.stops&&typeof a.stops[0][0]=="object",m=u||!(u||a.property!==void 0),w=a.type||(rn(n)?"exponential":"interval");if(l&&((a=ps({},a)).stops&&(a.stops=a.stops.map(re=>[re[0],Ps.parse(re[1])])),a.default=Ps.parse(a.default?a.default:n.default)),a.colorSpace&&a.colorSpace!=="rgb"&&!Lu[a.colorSpace])throw new Error(`Unknown color space: ${a.colorSpace}`);let C,N,ee;if(w==="exponential")C=we;else if(w==="interval")C=In;else if(w==="categorical"){C=Er,N=Object.create(null);for(const re of a.stops)N[re[0]]=re[1];ee=typeof a.stops[0][0]}else{if(w!=="identity")throw new Error(`Unknown function type "${w}"`);C=Ee}if(u){const re={},me=[];for(let Oe=0;Oe<a.stops.length;Oe++){const ze=a.stops[Oe],He=ze[0].zoom;re[He]===void 0&&(re[He]={zoom:He,type:a.type,property:a.property,default:a.default,stops:[]},me.push(He)),re[He].stops.push([ze[0].value,ze[1]])}const Te=[];for(const Oe of me)Te.push([re[Oe].zoom,$n(re[Oe],n)]);const Me={name:"linear"};return{kind:"composite",interpolationType:Me,interpolationFactor:ka.interpolationFactor.bind(void 0,Me),zoomStops:Te.map(Oe=>Oe[0]),evaluate:({zoom:Oe},ze)=>we({stops:Te,base:a.base},n,Oe).evaluate(Oe,ze)}}if(m){const re=w==="exponential"?{name:"exponential",base:a.base!==void 0?a.base:1}:null;return{kind:"camera",interpolationType:re,interpolationFactor:ka.interpolationFactor.bind(void 0,re),zoomStops:a.stops.map(me=>me[0]),evaluate:({zoom:me})=>C(a,n,me,N,ee)}}return{kind:"source",evaluate(re,me){const Te=me&&me.properties?me.properties[a.property]:void 0;return Te===void 0?rr(a.default,n.default):C(a,n,Te,N,ee)}}}function rr(a,n,l){return a!==void 0?a:n!==void 0?n:l!==void 0?l:void 0}function Er(a,n,l,u,m){return rr(typeof l===m?u[l]:void 0,a.default,n.default)}function In(a,n,l){if(zi(l)!=="number")return rr(a.default,n.default);const u=a.stops.length;if(u===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[u-1][0])return a.stops[u-1][1];const m=Ql(a.stops.map(w=>w[0]),l);return a.stops[m][1]}function we(a,n,l){const u=a.base!==void 0?a.base:1;if(zi(l)!=="number")return rr(a.default,n.default);const m=a.stops.length;if(m===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[m-1][0])return a.stops[m-1][1];const w=Ql(a.stops.map(me=>me[0]),l),C=function(me,Te,Me,Oe){const ze=Oe-Me,He=me-Me;return ze===0?0:Te===1?He/ze:(Math.pow(Te,He)-1)/(Math.pow(Te,ze)-1)}(l,u,a.stops[w][0],a.stops[w+1][0]),N=a.stops[w][1],ee=a.stops[w+1][1];let re=_o[n.type]||jn;if(a.colorSpace&&a.colorSpace!=="rgb"){const me=Lu[a.colorSpace];re=(Te,Me)=>me.reverse(me.interpolate(me.forward(Te),me.forward(Me),C))}return typeof N.evaluate=="function"?{evaluate(...me){const Te=N.evaluate.apply(void 0,me),Me=ee.evaluate.apply(void 0,me);if(Te!==void 0&&Me!==void 0)return re(Te,Me,C)}}:re(N,ee,C)}function Ee(a,n,l){return n.type==="color"?l=Ps.parse(l):n.type==="formatted"?l=eo.fromString(l.toString()):n.type==="resolvedImage"?l=ga.fromString(l.toString()):zi(l)===n.type||n.type==="enum"&&n.values[l]||(l=void 0),rr(l,a.default,n.default)}class Ve{constructor(n,l){this.expression=n,this._warningHistory={},this._evaluator=new kd,this._defaultValue=l?function(u){return u.type==="color"&&(Bn(u.default)||Array.isArray(u.default))?new Ps(0,0,0,0):u.type==="color"?Ps.parse(u.default)||null:u.default===void 0?null:u.default}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(n,l,u,m,w,C,N,ee){return this._evaluator.globals=n,this._evaluator.feature=l,this._evaluator.featureState=u,this._evaluator.canonical=m||null,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=C,this._evaluator.featureTileCoord=N||null,this._evaluator.featureDistanceData=ee||null,this.expression.evaluate(this._evaluator)}evaluate(n,l,u,m,w,C,N,ee){this._evaluator.globals=n,this._evaluator.feature=l||null,this._evaluator.featureState=u||null,this._evaluator.canonical=m||null,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=C||null,this._evaluator.featureTileCoord=N||null,this._evaluator.featureDistanceData=ee||null;try{const re=this.expression.evaluate(this._evaluator);if(re==null||typeof re=="number"&&re!=re)return this._defaultValue;if(this._enumValues&&!(re in this._enumValues))throw new to(`Expected value to be one of ${Object.keys(this._enumValues).map(me=>JSON.stringify(me)).join(", ")}, but found ${JSON.stringify(re)} instead.`);return re}catch(re){return this._warningHistory[re.message]||(this._warningHistory[re.message]=!0,typeof console<"u"&&console.warn(re.message)),this._defaultValue}}}function bt(a){return Array.isArray(a)&&a.length>0&&typeof a[0]=="string"&&a[0]in Ft}function Ei(a,n){const l=new Qr(Ft,[],n?function(m){const w={color:ta,string:nr,number:Qi,enum:nr,boolean:dr,formatted:Ma,resolvedImage:sl};return m.type==="array"?Qs(w[m.value]||Fn,m.length):w[m.type]}(n):void 0),u=l.parse(a,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return u?wi(new Ve(u,n)):Vt(l.errors)}class Tn{constructor(n,l){this.kind=n,this._styleExpression=l,this.isStateDependent=n!=="constant"&&!fr(l.expression)}evaluateWithoutErrorHandling(n,l,u,m,w,C){return this._styleExpression.evaluateWithoutErrorHandling(n,l,u,m,w,C)}evaluate(n,l,u,m,w,C){return this._styleExpression.evaluate(n,l,u,m,w,C)}}class br{constructor(n,l,u,m){this.kind=n,this.zoomStops=u,this._styleExpression=l,this.isStateDependent=n!=="camera"&&!fr(l.expression),this.interpolationType=m}evaluateWithoutErrorHandling(n,l,u,m,w,C){return this._styleExpression.evaluateWithoutErrorHandling(n,l,u,m,w,C)}evaluate(n,l,u,m,w,C){return this._styleExpression.evaluate(n,l,u,m,w,C)}interpolationFactor(n,l,u){return this.interpolationType?ka.interpolationFactor(this.interpolationType,n,l,u):0}}function so(a,n){if((a=Ei(a,n)).result==="error")return a;const l=a.value.expression,u=Jr(l);if(!u&&!li(n))return Vt([new Po("","data expressions not supported")]);const m=mr(l,["zoom","pitch","distance-from-center"]);if(!m&&!Ii(n))return Vt([new Po("","zoom expressions not supported")]);const w=Cl(l);return w||m?w instanceof Po?Vt([w]):w instanceof ka&&!rn(n)?Vt([new Po("",'"interpolate" expressions cannot be used with this property')]):wi(w?new br(u?"camera":"composite",a.value,w.labels,w instanceof ka?w.interpolation:void 0):new Tn(u?"constant":"source",a.value)):Vt([new Po("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Fs{constructor(n,l){this._parameters=n,this._specification=l,ps(this,$n(this._parameters,this._specification))}static deserialize(n){return new Fs(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function Cl(a){let n=null;if(a instanceof Sc)n=Cl(a.result);else if(a instanceof oc){for(const l of a.args)if(n=Cl(l),n)break}else(a instanceof na||a instanceof ka)&&a.input instanceof ia&&a.input.name==="zoom"&&(n=a);return n instanceof Po||a.eachChild(l=>{const u=Cl(l);u instanceof Po?n=u:!n&&u?n=new Po("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&u&&n!==u&&(n=new Po("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}class sn{constructor(n,l,u,m){this.message=(n?`${n}: `:"")+u,m&&(this.identifier=m),l!=null&&l.__line__&&(this.line=l.__line__)}}function El(a){const n=a.key,l=a.value,u=a.valueSpec||{},m=a.objectElementValidators||{},w=a.style,C=a.styleSpec;let N=[];const ee=zi(l);if(ee!=="object")return[new sn(n,l,`object expected, ${ee} found`)];for(const re in l){const me=re.split(".")[0],Te=u[me]||u["*"];let Me;m[me]?Me=m[me]:u[me]?Me=er:m["*"]?Me=m["*"]:u["*"]&&(Me=er),Me?N=N.concat(Me({key:(n&&`${n}.`)+re,value:l[re],valueSpec:Te,style:w,styleSpec:C,object:l,objectKey:re},l)):N.push(new sn(n,l[re],`unknown property "${re}"`))}for(const re in u)m[re]||u[re].required&&u[re].default===void 0&&l[re]===void 0&&N.push(new sn(n,l,`missing required property "${re}"`));return N}function Id(a){const n=a.value,l=a.valueSpec,u=a.style,m=a.styleSpec,w=a.key,C=a.arrayElementValidator||er;if(zi(n)!=="array")return[new sn(w,n,`array expected, ${zi(n)} found`)];if(l.length&&n.length!==l.length)return[new sn(w,n,`array length ${l.length} expected, length ${n.length} found`)];if(l["min-length"]&&n.length<l["min-length"])return[new sn(w,n,`array length at least ${l["min-length"]} expected, length ${n.length} found`)];let N={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};m.$version<7&&(N.function=l.function),zi(l.value)==="object"&&(N=l.value);let ee=[];for(let re=0;re<n.length;re++)ee=ee.concat(C({array:n,arrayIndex:re,value:n[re],valueSpec:N,style:u,styleSpec:m,key:`${w}[${re}]`}));return ee}function _h(a){const n=a.key,l=a.value,u=a.valueSpec;let m=zi(l);if(m==="number"&&l!=l&&(m="NaN"),m!=="number")return[new sn(n,l,`number expected, ${m} found`)];if("minimum"in u){let w=u.minimum;if(zi(u.minimum)==="array"&&(w=u.minimum[a.arrayIndex]),l<w)return[new sn(n,l,`${l} is less than the minimum value ${w}`)]}if("maximum"in u){let w=u.maximum;if(zi(u.maximum)==="array"&&(w=u.maximum[a.arrayIndex]),l>w)return[new sn(n,l,`${l} is greater than the maximum value ${w}`)]}return[]}function yp(a){const n=a.valueSpec,l=Os(a.value.type);let u,m,w,C={};const N=l!=="categorical"&&a.value.property===void 0,ee=!N,re=zi(a.value.stops)==="array"&&zi(a.value.stops[0])==="array"&&zi(a.value.stops[0][0])==="object",me=El({key:a.key,value:a.value,valueSpec:a.styleSpec.function,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(Oe){if(l==="identity")return[new sn(Oe.key,Oe.value,'identity function may not have a "stops" property')];let ze=[];const He=Oe.value;return ze=ze.concat(Id({key:Oe.key,value:He,valueSpec:Oe.valueSpec,style:Oe.style,styleSpec:Oe.styleSpec,arrayElementValidator:Te})),zi(He)==="array"&&He.length===0&&ze.push(new sn(Oe.key,He,"array must have at least one stop")),ze},default:function(Oe){return er({key:Oe.key,value:Oe.value,valueSpec:n,style:Oe.style,styleSpec:Oe.styleSpec})}}});return l==="identity"&&N&&me.push(new sn(a.key,a.value,'missing required property "property"')),l==="identity"||a.value.stops||me.push(new sn(a.key,a.value,'missing required property "stops"')),l==="exponential"&&a.valueSpec.expression&&!rn(a.valueSpec)&&me.push(new sn(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(ee&&!li(a.valueSpec)?me.push(new sn(a.key,a.value,"property functions not supported")):N&&!Ii(a.valueSpec)&&me.push(new sn(a.key,a.value,"zoom functions not supported"))),l!=="categorical"&&!re||a.value.property!==void 0||me.push(new sn(a.key,a.value,'"property" property is required')),me;function Te(Oe){let ze=[];const He=Oe.value,tt=Oe.key;if(zi(He)!=="array")return[new sn(tt,He,`array expected, ${zi(He)} found`)];if(He.length!==2)return[new sn(tt,He,`array length 2 expected, length ${He.length} found`)];if(re){if(zi(He[0])!=="object")return[new sn(tt,He,`object expected, ${zi(He[0])} found`)];if(He[0].zoom===void 0)return[new sn(tt,He,"object stop key must have zoom")];if(He[0].value===void 0)return[new sn(tt,He,"object stop key must have value")];const _t=Os(He[0].zoom);if(typeof _t!="number")return[new sn(tt,He[0].zoom,"stop zoom values must be numbers")];if(w&&w>_t)return[new sn(tt,He[0].zoom,"stop zoom values must appear in ascending order")];_t!==w&&(w=_t,m=void 0,C={}),ze=ze.concat(El({key:`${tt}[0]`,value:He[0],valueSpec:{zoom:{}},style:Oe.style,styleSpec:Oe.styleSpec,objectElementValidators:{zoom:_h,value:Me}}))}else ze=ze.concat(Me({key:`${tt}[0]`,value:He[0],valueSpec:{},style:Oe.style,styleSpec:Oe.styleSpec},He));return bt(Rs(He[1]))?ze.concat([new sn(`${tt}[1]`,He[1],"expressions are not allowed in function stops.")]):ze.concat(er({key:`${tt}[1]`,value:He[1],valueSpec:n,style:Oe.style,styleSpec:Oe.styleSpec}))}function Me(Oe,ze){const He=zi(Oe.value),tt=Os(Oe.value),_t=Oe.value!==null?Oe.value:ze;if(u){if(He!==u)return[new sn(Oe.key,_t,`${He} stop domain type must match previous stop domain type ${u}`)]}else u=He;if(He!=="number"&&He!=="string"&&He!=="boolean"&&typeof tt!="number"&&typeof tt!="string"&&typeof tt!="boolean")return[new sn(Oe.key,_t,"stop domain value must be a number, string, or boolean")];if(He!=="number"&&l!=="categorical"){let At=`number expected, ${He} found`;return li(n)&&l===void 0&&(At+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new sn(Oe.key,_t,At)]}return l!=="categorical"||He!=="number"||typeof tt=="number"&&isFinite(tt)&&Math.floor(tt)===tt?l!=="categorical"&&He==="number"&&typeof tt=="number"&&typeof m=="number"&&m!==void 0&&tt<m?[new sn(Oe.key,_t,"stop domain values must appear in ascending order")]:(m=tt,l==="categorical"&&tt in C?[new sn(Oe.key,_t,"stop domain values must be unique")]:(C[tt]=!0,[])):[new sn(Oe.key,_t,`integer expected, found ${String(tt)}`)]}}function zu(a){const n=(a.expressionContext==="property"?so:Ei)(Rs(a.value),a.valueSpec);if(n.result==="error")return n.value.map(u=>new sn(`${a.key}${u.key}`,a.value,u.message));const l=n.value.expression||n.value._styleExpression.expression;if(a.expressionContext==="property"&&a.propertyKey==="text-font"&&!l.outputDefined())return[new sn(a.key,a.value,`Invalid data expression for "${a.propertyKey}". Output values must be contained as literals within the expression.`)];if(a.expressionContext==="property"&&a.propertyType==="layout"&&!fr(l))return[new sn(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if(a.expressionContext==="filter")return Af(l,a);if(a.expressionContext&&a.expressionContext.indexOf("cluster")===0){if(!mr(l,["zoom","feature-state"]))return[new sn(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(a.expressionContext==="cluster-initial"&&!Jr(l))return[new sn(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Af(a,n){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(n.valueSpec&&n.valueSpec.expression)for(const m of n.valueSpec.expression.parameters)l.delete(m);if(l.size===0)return[];const u=[];return a instanceof ia&&l.has(a.name)?[new sn(n.key,n.value,`["${a.name}"] expression is not supported in a filter for a ${n.object.type} layer with id: ${n.object.id}`)]:(a.eachChild(m=>{u.push(...Af(m,n))}),u)}function _p(a){const n=a.key,l=a.value,u=a.valueSpec,m=[];return Array.isArray(u.values)?u.values.indexOf(Os(l))===-1&&m.push(new sn(n,l,`expected one of [${u.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(u.values).indexOf(Os(l))===-1&&m.push(new sn(n,l,`expected one of [${Object.keys(u.values).join(", ")}], ${JSON.stringify(l)} found`)),m}function Nu(a){if(a===!0||a===!1)return!0;if(!Array.isArray(a)||a.length===0)return!1;switch(a[0]){case"has":return a.length>=2&&a[1]!=="$id"&&a[1]!=="$type";case"in":return a.length>=3&&(typeof a[1]!="string"||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return a.length!==3||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(const n of a.slice(1))if(!Nu(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function js(a,n="fill"){if(a==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Nu(a)||(a=Mc(a));const l=a;let u=!0;try{u=function(re){if(!Fu(re))return re;let me=Rs(re);return vh(me),me=ms(me),me}(l)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(l,null,2)}
        `)}const m=mi[`filter_${n}`],w=Ei(u,m);let C=null;if(w.result==="error")throw new Error(w.value.map(re=>`${re.key}: ${re.message}`).join(", "));C=(re,me,Te)=>w.value.evaluate(re,me,{},Te);let N=null,ee=null;if(u!==l){const re=Ei(l,m);if(re.result==="error")throw new Error(re.value.map(me=>`${me.key}: ${me.message}`).join(", "));N=(me,Te,Me,Oe,ze)=>re.value.evaluate(me,Te,{},Me,void 0,void 0,Oe,ze),ee=!Jr(re.value.expression)}return{filter:C,dynamicFilter:N||void 0,needGeometry:vp(u),needFeature:!!ee}}function ms(a){if(!Array.isArray(a))return a;const n=function(l){if(sm.has(l[0])){for(let u=1;u<l.length;u++)if(Fu(l[u]))return!0}return l}(a);return n===!0?n:n.map(l=>ms(l))}function vh(a){let n=!1;const l=[];if(a[0]==="case"){for(let u=1;u<a.length-1;u+=2)n=n||Fu(a[u]),l.push(a[u+1]);l.push(a[a.length-1])}else if(a[0]==="match"){n=n||Fu(a[1]);for(let u=2;u<a.length-1;u+=2)l.push(a[u+1]);l.push(a[a.length-1])}else if(a[0]==="step"){n=n||Fu(a[1]);for(let u=1;u<a.length-1;u+=2)l.push(a[u+1])}n&&(a.length=0,a.push("any",...l));for(let u=1;u<a.length;u++)vh(a[u])}function Fu(a){if(!Array.isArray(a))return!1;if((n=a[0])==="pitch"||n==="distance-from-center")return!0;var n;for(let l=1;l<a.length;l++)if(Fu(a[l]))return!0;return!1}const sm=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Zg(a,n){return a<n?-1:a>n?1:0}function vp(a){if(!Array.isArray(a))return!1;if(a[0]==="within")return!0;for(let n=1;n<a.length;n++)if(vp(a[n]))return!0;return!1}function Mc(a){if(!a)return!0;const n=a[0];return a.length<=1?n!=="any":n==="=="?xh(a[1],a[2],"=="):n==="!="?Ld(xh(a[1],a[2],"==")):n==="<"||n===">"||n==="<="||n===">="?xh(a[1],a[2],n):n==="any"?(l=a.slice(1),["any"].concat(l.map(Mc))):n==="all"?["all"].concat(a.slice(1).map(Mc)):n==="none"?["all"].concat(a.slice(1).map(Mc).map(Ld)):n==="in"?Qc(a[1],a.slice(2)):n==="!in"?Ld(Qc(a[1],a.slice(2))):n==="has"?ju(a[1]):n==="!has"?Ld(ju(a[1])):n!=="within"||a;var l}function xh(a,n,l){switch(a){case"$type":return[`filter-type-${l}`,n];case"$id":return[`filter-id-${l}`,n];default:return[`filter-${l}`,a,n]}}function Qc(a,n){if(n.length===0)return!1;switch(a){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(l=>typeof l!=typeof n[0])?["filter-in-large",a,["literal",n.sort(Zg)]]:["filter-in-small",a,["literal",n]]}}function ju(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function Ld(a){return["!",a]}function Od(a){return Nu(Rs(a.value))?zu(ps({},a,{expressionContext:"filter",valueSpec:a.styleSpec[`filter_${a.layerType||"fill"}`]})):du(a)}function du(a){const n=a.value,l=a.key;if(zi(n)!=="array")return[new sn(l,n,`array expected, ${zi(n)} found`)];const u=a.styleSpec;let m,w=[];if(n.length<1)return[new sn(l,n,"filter array must have at least 1 element")];switch(w=w.concat(_p({key:`${l}[0]`,value:n[0],valueSpec:u.filter_operator,style:a.style,styleSpec:a.styleSpec})),Os(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&Os(n[1])==="$type"&&w.push(new sn(l,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&w.push(new sn(l,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(m=zi(n[1]),m!=="string"&&w.push(new sn(`${l}[1]`,n[1],`string expected, ${m} found`)));for(let C=2;C<n.length;C++)m=zi(n[C]),Os(n[1])==="$type"?w=w.concat(_p({key:`${l}[${C}]`,value:n[C],valueSpec:u.geometry_type,style:a.style,styleSpec:a.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&w.push(new sn(`${l}[${C}]`,n[C],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let C=1;C<n.length;C++)w=w.concat(du({key:`${l}[${C}]`,value:n[C],style:a.style,styleSpec:a.styleSpec}));break;case"has":case"!has":m=zi(n[1]),n.length!==2?w.push(new sn(l,n,`filter array for "${n[0]}" operator must have 2 elements`)):m!=="string"&&w.push(new sn(`${l}[1]`,n[1],`string expected, ${m} found`));break;case"within":m=zi(n[1]),n.length!==2?w.push(new sn(l,n,`filter array for "${n[0]}" operator must have 2 elements`)):m!=="object"&&w.push(new sn(`${l}[1]`,n[1],`object expected, ${m} found`))}return w}function Pf(a,n){const l=a.key,u=a.style,m=a.styleSpec,w=a.value,C=a.objectKey,N=m[`${n}_${a.layerType}`];if(!N)return[];const ee=C.match(/^(.*)-transition$/);if(n==="paint"&&ee&&N[ee[1]]&&N[ee[1]].transition)return er({key:l,value:w,valueSpec:m.transition,style:u,styleSpec:m});const re=a.valueSpec||N[C];if(!re)return[new sn(l,w,`unknown property "${C}"`)];let me;if(zi(w)==="string"&&li(re)&&!re.tokens&&(me=/^{([^}]+)}$/.exec(w)))return[new sn(l,w,`"${C}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(me[1])} }\`.`)];const Te=[];return a.layerType==="symbol"&&(C==="text-field"&&u&&!u.glyphs&&Te.push(new sn(l,w,'use of "text-field" requires a style "glyphs" property')),C==="text-font"&&Bn(Rs(w))&&Os(w.type)==="identity"&&Te.push(new sn(l,w,'"text-font" does not support identity functions'))),Te.concat(er({key:a.key,value:w,valueSpec:re,style:u,styleSpec:m,expressionContext:"property",propertyType:n,propertyKey:C}))}function Df(a){return Pf(a,"paint")}function om(a){return Pf(a,"layout")}function xp(a){let n=[];const l=a.value,u=a.key,m=a.style,w=a.styleSpec;l.type||l.ref||n.push(new sn(u,l,'either "type" or "ref" is required'));let C=Os(l.type);const N=Os(l.ref);if(l.id){const ee=Os(l.id);for(let re=0;re<a.arrayIndex;re++){const me=m.layers[re];Os(me.id)===ee&&n.push(new sn(u,l.id,`duplicate layer id "${l.id}", previously used at line ${me.id.__line__}`))}}if("ref"in l){let ee;["type","source","source-layer","filter","layout"].forEach(re=>{re in l&&n.push(new sn(u,l[re],`"${re}" is prohibited for ref layers`))}),m.layers.forEach(re=>{Os(re.id)===N&&(ee=re)}),ee?ee.ref?n.push(new sn(u,l.ref,"ref cannot reference another ref layer")):C=Os(ee.type):typeof N=="string"&&n.push(new sn(u,l.ref,`ref layer "${N}" not found`))}else if(C!=="background"&&C!=="sky")if(l.source){const ee=m.sources&&m.sources[l.source],re=ee&&Os(ee.type);ee?re==="vector"&&C==="raster"?n.push(new sn(u,l.source,`layer "${l.id}" requires a raster source`)):re==="raster"&&C!=="raster"?n.push(new sn(u,l.source,`layer "${l.id}" requires a vector source`)):re!=="vector"||l["source-layer"]?re==="raster-dem"&&C!=="hillshade"?n.push(new sn(u,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):C!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||re==="geojson"&&ee.lineMetrics||n.push(new sn(u,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new sn(u,l,`layer "${l.id}" must specify a "source-layer"`)):n.push(new sn(u,l.source,`source "${l.source}" not found`))}else n.push(new sn(u,l,'missing required property "source"'));return n=n.concat(El({key:u,value:l,valueSpec:w.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":()=>[],type:()=>er({key:`${u}.type`,value:l.type,valueSpec:w.layer.type,style:a.style,styleSpec:a.styleSpec,object:l,objectKey:"type"}),filter:ee=>Od(ps({layerType:C},ee)),layout:ee=>El({layer:l,key:ee.key,value:ee.value,valueSpec:{},style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{"*":re=>om(ps({layerType:C},re))}}),paint:ee=>El({layer:l,key:ee.key,value:ee.value,valueSpec:{},style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{"*":re=>Df(ps({layerType:C},re))}})}})),n}function ed(a){const n=a.value,l=a.key,u=zi(n);return u!=="string"?[new sn(l,n,`string expected, ${u} found`)]:[]}const Uu={promoteId:function({key:a,value:n}){if(zi(n)==="string")return ed({key:a,value:n});{const l=[];for(const u in n)l.push(...ed({key:`${a}.${u}`,value:n[u]}));return l}}};function $u(a){const n=a.value,l=a.key,u=a.styleSpec,m=a.style;if(!n.type)return[new sn(l,n,'"type" is required')];const w=Os(n.type);let C;switch(w){case"vector":case"raster":case"raster-dem":return C=El({key:l,value:n,valueSpec:u[`source_${w.replace("-","_")}`],style:a.style,styleSpec:u,objectElementValidators:Uu}),C;case"geojson":if(C=El({key:l,value:n,valueSpec:u.source_geojson,style:m,styleSpec:u,objectElementValidators:Uu}),n.cluster)for(const N in n.clusterProperties){const[ee,re]=n.clusterProperties[N],me=typeof ee=="string"?[ee,["accumulated"],["get",N]]:ee;C.push(...zu({key:`${l}.${N}.map`,value:re,expressionContext:"cluster-map"})),C.push(...zu({key:`${l}.${N}.reduce`,value:me,expressionContext:"cluster-reduce"}))}return C;case"video":return El({key:l,value:n,valueSpec:u.source_video,style:m,styleSpec:u});case"image":return El({key:l,value:n,valueSpec:u.source_image,style:m,styleSpec:u});case"canvas":return[new sn(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return _p({key:`${l}.type`,value:n.type,valueSpec:{values:If(u)},style:m,styleSpec:u})}}function If(a){return a.source.reduce((n,l)=>{const u=a[l];return u.type.type==="enum"&&(n=n.concat(Object.keys(u.type.values))),n},[])}function it(a){const n=a.value,l=a.styleSpec,u=l.light,m=a.style;let w=[];const C=zi(n);if(n===void 0)return w;if(C!=="object")return w=w.concat([new sn("light",n,`object expected, ${C} found`)]),w;for(const N in n){const ee=N.match(/^(.*)-transition$/);w=w.concat(ee&&u[ee[1]]&&u[ee[1]].transition?er({key:N,value:n[N],valueSpec:l.transition,style:m,styleSpec:l}):u[N]?er({key:N,value:n[N],valueSpec:u[N],style:m,styleSpec:l}):[new sn(N,n[N],`unknown property "${N}"`)])}return w}function td(a){const n=a.value,l=a.key,u=a.style,m=a.styleSpec,w=m.terrain;let C=[];const N=zi(n);if(n===void 0)return C;if(N!=="object")return C=C.concat([new sn("terrain",n,`object expected, ${N} found`)]),C;for(const ee in n){const re=ee.match(/^(.*)-transition$/);C=C.concat(re&&w[re[1]]&&w[re[1]].transition?er({key:ee,value:n[ee],valueSpec:m.transition,style:u,styleSpec:m}):w[ee]?er({key:ee,value:n[ee],valueSpec:w[ee],style:u,styleSpec:m}):[new sn(ee,n[ee],`unknown property "${ee}"`)])}if(n.source){const ee=u.sources&&u.sources[n.source],re=ee&&Os(ee.type);ee?re!=="raster-dem"&&C.push(new sn(l,n.source,`terrain cannot be used with a source of type ${String(re)}, it only be used with a "raster-dem" source type`)):C.push(new sn(l,n.source,`source "${n.source}" not found`))}else C.push(new sn(l,n,'terrain is missing required property "source"'));return C}function bh(a){const n=a.value,l=a.style,u=a.styleSpec,m=u.fog;let w=[];const C=zi(n);if(n===void 0)return w;if(C!=="object")return w=w.concat([new sn("fog",n,`object expected, ${C} found`)]),w;for(const N in n){const ee=N.match(/^(.*)-transition$/);w=w.concat(ee&&m[ee[1]]&&m[ee[1]].transition?er({key:N,value:n[N],valueSpec:u.transition,style:l,styleSpec:u}):m[N]?er({key:N,value:n[N],valueSpec:m[N],style:l,styleSpec:u}):[new sn(N,n[N],`unknown property "${N}"`)])}return w}const cl={"*":()=>[],array:Id,boolean:function(a){const n=a.value,l=a.key,u=zi(n);return u!=="boolean"?[new sn(l,n,`boolean expected, ${u} found`)]:[]},number:_h,color:function(a){const n=a.key,l=a.value,u=zi(l);return u!=="string"?[new sn(n,l,`color expected, ${u} found`)]:vl(l)===null?[new sn(n,l,`color expected, "${l}" found`)]:[]},enum:_p,filter:Od,function:yp,layer:xp,object:El,source:$u,light:it,terrain:td,fog:bh,string:ed,formatted:function(a){return ed(a).length===0?[]:zu(a)},resolvedImage:function(a){return ed(a).length===0?[]:zu(a)},projection:function(a){const n=a.value,l=a.styleSpec,u=l.projection,m=a.style;let w=[];const C=zi(n);if(C==="object")for(const N in n)w=w.concat(er({key:N,value:n[N],valueSpec:u[N],style:m,styleSpec:l}));else C!=="string"&&(w=w.concat([new sn("projection",n,`object or string expected, ${C} found`)]));return w}};function er(a){const n=a.value,l=a.valueSpec,u=a.styleSpec;return l.expression&&Bn(Os(n))?yp(a):l.expression&&bt(Rs(n))?zu(a):l.type&&cl[l.type]?cl[l.type](a):El(ps({},a,{valueSpec:l.type?u[l.type]:l}))}function Kg(a){const n=a.value,l=a.key,u=ed(a);return u.length||(n.indexOf("{fontstack}")===-1&&u.push(new sn(l,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&u.push(new sn(l,n,'"glyphs" url must include a "{range}" token'))),u}function Lf(a,n=mi){return id(er({key:"",value:a,valueSpec:n.$root,styleSpec:n,style:a,objectElementValidators:{glyphs:Kg,"*":()=>[]}}))}const Jg=a=>id(Df(a)),uu=a=>id(om(a));function id(a){return a.slice().sort((n,l)=>n.line&&l.line?n.line-l.line:0)}function am(a,n){let l=!1;if(n&&n.length)for(const u of n)a.fire(new Ha(new Error(u.message))),l=!0;return l}var Vu=kc;function kc(a,n,l){var u=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var m=new Int32Array(this.arrayBuffer);a=m[0],this.d=(n=m[1])+2*(l=m[2]);for(var w=0;w<this.d*this.d;w++){var C=m[3+w],N=m[3+w+1];u.push(C===N?null:m.subarray(C,N))}var ee=m[3+u.length+1];this.keys=m.subarray(m[3+u.length],ee),this.bboxes=m.subarray(ee),this.insert=this._insertReadonly}else{this.d=n+2*l;for(var re=0;re<this.d*this.d;re++)u.push([]);this.keys=[],this.bboxes=[]}this.n=n,this.extent=a,this.padding=l,this.scale=n/a,this.uid=0;var me=l/n*a;this.min=-me,this.max=a+me}kc.prototype.insert=function(a,n,l,u,m){this._forEachCell(n,l,u,m,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(n),this.bboxes.push(l),this.bboxes.push(u),this.bboxes.push(m)},kc.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},kc.prototype._insertCell=function(a,n,l,u,m,w){this.cells[m].push(w)},kc.prototype.query=function(a,n,l,u,m){var w=this.min,C=this.max;if(a<=w&&n<=w&&C<=l&&C<=u&&!m)return Array.prototype.slice.call(this.keys);var N=[];return this._forEachCell(a,n,l,u,this._queryCell,N,{},m),N},kc.prototype._queryCell=function(a,n,l,u,m,w,C,N){var ee=this.cells[m];if(ee!==null)for(var re=this.keys,me=this.bboxes,Te=0;Te<ee.length;Te++){var Me=ee[Te];if(C[Me]===void 0){var Oe=4*Me;(N?N(me[Oe+0],me[Oe+1],me[Oe+2],me[Oe+3]):a<=me[Oe+2]&&n<=me[Oe+3]&&l>=me[Oe+0]&&u>=me[Oe+1])?(C[Me]=!0,w.push(re[Me])):C[Me]=!1}}},kc.prototype._forEachCell=function(a,n,l,u,m,w,C,N){for(var ee=this._convertToCellCoord(a),re=this._convertToCellCoord(n),me=this._convertToCellCoord(l),Te=this._convertToCellCoord(u),Me=ee;Me<=me;Me++)for(var Oe=re;Oe<=Te;Oe++){var ze=this.d*Oe+Me;if((!N||N(this._convertFromCellCoord(Me),this._convertFromCellCoord(Oe),this._convertFromCellCoord(Me+1),this._convertFromCellCoord(Oe+1)))&&m.call(this,a,n,l,u,ze,w,C,N))return}},kc.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},kc.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},kc.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,n=3+this.cells.length+1+1,l=0,u=0;u<this.cells.length;u++)l+=this.cells[u].length;var m=new Int32Array(n+l+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;for(var w=n,C=0;C<a.length;C++){var N=a[C];m[3+C]=w,m.set(N,w),w+=N.length}return m[3+a.length]=w,m.set(this.keys,w),m[3+a.length+1]=w+=this.keys.length,m.set(this.bboxes,w),w+=this.bboxes.length,m.buffer};const bp={};function nn(a,n,l={}){Object.defineProperty(a,"_classRegistryKey",{value:n,writeable:!1}),bp[n]={klass:a,omit:l.omit||[]}}nn(Object,"Object"),Vu.serialize=function(a,n){const l=a.toArrayBuffer();return n&&n.push(l),{buffer:l}},Vu.deserialize=function(a){return new Vu(a.buffer)},Object.defineProperty(Vu,"name",{value:"Grid"}),nn(Vu,"Grid"),nn(Ps,"Color"),nn(Error,"Error"),nn(fi,"AJAXError"),nn(ga,"ResolvedImage"),nn(Fs,"StylePropertyFunction"),nn(Ve,"StyleExpression",{omit:["_evaluator"]}),nn(br,"ZoomDependentExpression"),nn(Tn,"ZoomConstantExpression"),nn(ia,"CompoundExpression",{omit:["_evaluate"]});for(const a in Ft)bp[Ft[a]._classRegistryKey]||nn(Ft[a],`Expression${a}`);function lm(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&a.constructor.name==="ArrayBuffer")}function cm(a){return v.ImageBitmap&&a instanceof v.ImageBitmap}function Rd(a,n){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(lm(a)||cm(a))return n&&n.push(a),a;if(ArrayBuffer.isView(a)){const l=a;return n&&n.push(l.buffer),l}if(a instanceof v.ImageData)return n&&n.push(a.data.buffer),a;if(Array.isArray(a)){const l=[];for(const u of a)l.push(Rd(u,n));return l}if(typeof a=="object"){const l=a.constructor,u=l._classRegistryKey;if(!u)throw new Error(`can't serialize object of unregistered class ${u}`);const m=l.serialize?l.serialize(a,n):{};if(!l.serialize){for(const w in a)a.hasOwnProperty(w)&&(bp[u].omit.indexOf(w)>=0||(m[w]=Rd(a[w],n)));a instanceof Error&&(m.message=a.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return u!=="Object"&&(m.$name=u),m}throw new Error("can't serialize object of type "+typeof a)}function wh(a){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||lm(a)||cm(a)||ArrayBuffer.isView(a)||a instanceof v.ImageData)return a;if(Array.isArray(a))return a.map(wh);if(typeof a=="object"){const n=a.$name||"Object",{klass:l}=bp[n];if(!l)throw new Error(`can't deserialize unregistered class ${n}`);if(l.deserialize)return l.deserialize(a);const u=Object.create(l.prototype);for(const m of Object.keys(a))m!=="$name"&&(u[m]=wh(a[m]));return u}throw new Error("can't deserialize object of type "+typeof a)}const Of=a=>a>=1536&&a<=1791,Ac=a=>a>=1872&&a<=1919,Rf=a=>a>=2208&&a<=2303,Bf=a=>a>=11904&&a<=12031,zf=a=>a>=12032&&a<=12255,Nf=a=>a>=12272&&a<=12287,Gu=a=>a>=12288&&a<=12351,lc=a=>a>=12352&&a<=12447,wp=a=>a>=12448&&a<=12543,dm=a=>a>=12544&&a<=12591,dl=a=>a>=12704&&a<=12735,um=a=>a>=12736&&a<=12783,hm=a=>a>=12784&&a<=12799,pm=a=>a>=12800&&a<=13055,fm=a=>a>=13056&&a<=13311,mm=a=>a>=13312&&a<=19903,Tp=a=>a>=19968&&a<=40959,Ff=a=>a>=40960&&a<=42127,gm=a=>a>=42128&&a<=42191,jf=a=>a>=44032&&a<=55215,hu=a=>a>=63744&&a<=64255,_=a=>a>=64336&&a<=65023,c=a=>a>=65040&&a<=65055,p=a=>a>=65072&&a<=65103,T=a=>a>=65104&&a<=65135,B=a=>a>=65136&&a<=65279,W=a=>a>=65280&&a<=65519;function ae(a){for(const n of a)if(De(n.charCodeAt(0)))return!0;return!1}function he(a){for(const n of a)if(!ge(n.charCodeAt(0)))return!1;return!0}function ge(a){return!(Of(a)||Ac(a)||Rf(a)||_(a)||B(a))}function De(a){return!(a!==746&&a!==747&&(a<4352||!(dl(a)||dm(a)||p(a)&&!(a>=65097&&a<=65103)||hu(a)||fm(a)||Bf(a)||um(a)||!(!Gu(a)||a>=12296&&a<=12305||a>=12308&&a<=12319||a===12336)||mm(a)||Tp(a)||pm(a)||(n=>n>=12592&&n<=12687)(a)||(n=>n>=43360&&n<=43391)(a)||(n=>n>=55216&&n<=55295)(a)||(n=>n>=4352&&n<=4607)(a)||jf(a)||lc(a)||Nf(a)||(n=>n>=12688&&n<=12703)(a)||zf(a)||hm(a)||wp(a)&&a!==12540||!(!W(a)||a===65288||a===65289||a===65293||a>=65306&&a<=65310||a===65339||a===65341||a===65343||a>=65371&&a<=65503||a===65507||a>=65512&&a<=65519)||!(!T(a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||(n=>n>=5120&&n<=5759)(a)||(n=>n>=6320&&n<=6399)(a)||c(a)||(n=>n>=19904&&n<=19967)(a)||Ff(a)||gm(a))))}function Ae(a){return!(De(a)||function(n){return!!((l=>l>=128&&l<=255)(n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||(l=>l>=8192&&l<=8303)(n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||(l=>l>=8448&&l<=8527)(n)||(l=>l>=8528&&l<=8591)(n)||(l=>l>=8960&&l<=9215)(n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||(l=>l>=9216&&l<=9279)(n)&&n!==9251||(l=>l>=9280&&l<=9311)(n)||(l=>l>=9312&&l<=9471)(n)||(l=>l>=9632&&l<=9727)(n)||(l=>l>=9728&&l<=9983)(n)&&!(n>=9754&&n<=9759)||(l=>l>=11008&&l<=11263)(n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||Gu(n)||wp(n)||(l=>l>=57344&&l<=63743)(n)||p(n)||T(n)||W(n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(a))}function je(a){return a>=1424&&a<=2303||_(a)||B(a)}function Ze(a,n){return!(!n&&je(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||(l=>l>=6016&&l<=6143)(a))}function at(a){for(const n of a)if(je(n.charCodeAt(0)))return!0;return!1}const lt="deferred",ht="loading",et="loaded";let nt=null,gt="unavailable",ct=null;const wt=function(a){a&&typeof a=="string"&&a.indexOf("NetworkError")>-1&&(gt="error"),nt&&nt(a)};function Dt(){Ct.fire(new Ga("pluginStateChange",{pluginStatus:gt,pluginURL:ct}))}const Ct=new yo,jt=function(){return gt},ii=function(){if(gt!==lt||!ct)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");gt=ht,Dt(),ct&&Lt({url:ct},a=>{a?wt(a):(gt=et,Dt())})},Jt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>gt===et||Jt.applyArabicShaping!=null,isLoading:()=>gt===ht,setState(a){gt=a.pluginStatus,ct=a.pluginURL},isParsed:()=>Jt.applyArabicShaping!=null&&Jt.processBidirectionalText!=null&&Jt.processStyledBidirectionalText!=null,getPluginURL:()=>ct};class Gt{constructor(n,l){this.zoom=n,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.transition=l.transition,this.pitch=l.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(n){return function(l,u){for(const m of l)if(!Ze(m.charCodeAt(0),u))return!1;return!0}(n,Jt.isLoaded())}}class Mi{constructor(n,l){this.property=n,this.value=l,this.expression=function(u,m){if(Bn(u))return new Fs(u,m);if(bt(u)){const w=so(u,m);if(w.result==="error")throw new Error(w.value.map(C=>`${C.key}: ${C.message}`).join(", "));return w.value}{let w=u;return typeof u=="string"&&m.type==="color"&&(w=Ps.parse(u)),{kind:"constant",evaluate:()=>w}}}(l===void 0?n.specification.default:l,n.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,l,u){return this.property.possiblyEvaluate(this,n,l,u)}}class Xt{constructor(n){this.property=n,this.value=new Mi(n,void 0)}transitioned(n,l){return new ri(this.property,this.value,l,J({},n.transition,this.transition),n.now)}untransitioned(){return new ri(this.property,this.value,null,{},0)}}class _i{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues)}getValue(n){return ve(this._values[n].value.value)}setValue(n,l){this._values.hasOwnProperty(n)||(this._values[n]=new Xt(this._values[n].property)),this._values[n].value=new Mi(this._values[n].property,l===null?void 0:ve(l))}getTransition(n){return ve(this._values[n].transition)}setTransition(n,l){this._values.hasOwnProperty(n)||(this._values[n]=new Xt(this._values[n].property)),this._values[n].transition=ve(l)||void 0}serialize(){const n={};for(const l of Object.keys(this._values)){const u=this.getValue(l);u!==void 0&&(n[l]=u);const m=this.getTransition(l);m!==void 0&&(n[`${l}-transition`]=m)}return n}transitioned(n,l){const u=new Ri(this._properties);for(const m of Object.keys(this._values))u._values[m]=this._values[m].transitioned(n,l._values[m]);return u}untransitioned(){const n=new Ri(this._properties);for(const l of Object.keys(this._values))n._values[l]=this._values[l].untransitioned();return n}}class ri{constructor(n,l,u,m,w){const C=m.delay||0,N=m.duration||0;w=w||0,this.property=n,this.value=l,this.begin=w+C,this.end=this.begin+N,n.specification.transition&&(m.delay||m.duration)&&(this.prior=u)}possiblyEvaluate(n,l,u){const m=n.now||0,w=this.value.possiblyEvaluate(n,l,u),C=this.prior;if(C){if(m>this.end)return this.prior=null,w;if(this.value.isDataDriven())return this.prior=null,w;if(m<this.begin)return C.possiblyEvaluate(n,l,u);{const N=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(C.possiblyEvaluate(n,l,u),w,x(N))}}return w}}class Ri{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,l,u){const m=new Ni(this._properties);for(const w of Object.keys(this._values))m._values[w]=this._values[w].possiblyEvaluate(n,l,u);return m}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class si{constructor(n){this._properties=n,this._values=Object.create(n.defaultPropertyValues)}getValue(n){return ve(this._values[n].value)}setValue(n,l){this._values[n]=new Mi(this._values[n].property,l===null?void 0:ve(l))}serialize(){const n={};for(const l of Object.keys(this._values)){const u=this.getValue(l);u!==void 0&&(n[l]=u)}return n}possiblyEvaluate(n,l,u){const m=new Ni(this._properties);for(const w of Object.keys(this._values))m._values[w]=this._values[w].possiblyEvaluate(n,l,u);return m}}class Si{constructor(n,l,u){this.property=n,this.value=l,this.parameters=u}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,l,u,m){return this.property.evaluate(this.value,this.parameters,n,l,u,m)}}class Ni{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class Yt{constructor(n){this.specification=n}possiblyEvaluate(n,l){return n.expression.evaluate(l)}interpolate(n,l,u){const m=_o[this.specification.type];return m?m(n,l,u):n}}class ni{constructor(n,l){this.specification=n,this.overrides=l}possiblyEvaluate(n,l,u,m){return new Si(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(l,null,{},u,m)}:n.expression,l)}interpolate(n,l,u){if(n.value.kind!=="constant"||l.value.kind!=="constant")return n;if(n.value.value===void 0||l.value.value===void 0)return new Si(this,{kind:"constant",value:void 0},n.parameters);const m=_o[this.specification.type];return m?new Si(this,{kind:"constant",value:m(n.value.value,l.value.value,u)},n.parameters):n}evaluate(n,l,u,m,w,C){return n.kind==="constant"?n.value:n.evaluate(l,u,m,w,C)}}class mn{constructor(n){this.specification=n}possiblyEvaluate(n,l,u,m){return!!n.expression.evaluate(l,null,{},u,m)}interpolate(){return!1}}class Sn{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const l=new Gt(0,{});for(const u in n){const m=n[u];m.specification.overridable&&this.overridableProperties.push(u);const w=this.defaultPropertyValues[u]=new Mi(m,void 0),C=this.defaultTransitionablePropertyValues[u]=new Xt(m);this.defaultTransitioningPropertyValues[u]=C.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=w.possiblyEvaluate(l)}}}function gn(a,n){return 256*(a=g(Math.floor(a),0,255))+g(Math.floor(n),0,255)}nn(ni,"DataDrivenProperty"),nn(Yt,"DataConstantProperty"),nn(mn,"ColorRampProperty");const Un={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class lr{constructor(n,l){this._structArray=n,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class kn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,l){return n._trim(),l&&(n.isTransferred=!0,l.push(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const l=Object.create(this.prototype);return l.arrayBuffer=n.arrayBuffer,l.length=n.length,l.capacity=n.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function dn(a,n=1){let l=0,u=0;return{members:a.map(m=>{const w=Un[m.type].BYTES_PER_ELEMENT,C=l=is(l,Math.max(n,w)),N=m.components||1;return u=Math.max(u,w),l+=w*N,{name:m.name,type:m.type,components:N,offset:C}}),size:is(l,Math.max(u,n)),alignment:n}}function is(a,n){return Math.ceil(a/n)*n}class Hr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l){const u=this.length;return this.resize(u+1),this.emplace(u,n,l)}emplace(n,l,u){const m=2*n;return this.int16[m+0]=l,this.int16[m+1]=u,n}}Hr.prototype.bytesPerElement=4,nn(Hr,"StructArrayLayout2i4");class ss extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l,u){const m=this.length;return this.resize(m+1),this.emplace(m,n,l,u)}emplace(n,l,u,m){const w=3*n;return this.int16[w+0]=l,this.int16[w+1]=u,this.int16[w+2]=m,n}}ss.prototype.bytesPerElement=6,nn(ss,"StructArrayLayout3i6");class es extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l,u,m){const w=this.length;return this.resize(w+1),this.emplace(w,n,l,u,m)}emplace(n,l,u,m,w){const C=4*n;return this.int16[C+0]=l,this.int16[C+1]=u,this.int16[C+2]=m,this.int16[C+3]=w,n}}es.prototype.bytesPerElement=8,nn(es,"StructArrayLayout4i8");class qa extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w,C,N){const ee=this.length;return this.resize(ee+1),this.emplace(ee,n,l,u,m,w,C,N)}emplace(n,l,u,m,w,C,N,ee){const re=6*n,me=12*n,Te=3*n;return this.int16[re+0]=l,this.int16[re+1]=u,this.uint8[me+4]=m,this.uint8[me+5]=w,this.uint8[me+6]=C,this.uint8[me+7]=N,this.float32[Te+2]=ee,n}}qa.prototype.bytesPerElement=12,nn(qa,"StructArrayLayout2i4ub1f12");class Pa extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,u,m){const w=this.length;return this.resize(w+1),this.emplace(w,n,l,u,m)}emplace(n,l,u,m,w){const C=4*n;return this.float32[C+0]=l,this.float32[C+1]=u,this.float32[C+2]=m,this.float32[C+3]=w,n}}Pa.prototype.bytesPerElement=16,nn(Pa,"StructArrayLayout4f16");class xa extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w){const C=this.length;return this.resize(C+1),this.emplace(C,n,l,u,m,w)}emplace(n,l,u,m,w,C){const N=6*n,ee=3*n;return this.uint16[N+0]=l,this.uint16[N+1]=u,this.uint16[N+2]=m,this.uint16[N+3]=w,this.float32[ee+2]=C,n}}xa.prototype.bytesPerElement=12,nn(xa,"StructArrayLayout4ui1f12");class cc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l,u,m){const w=this.length;return this.resize(w+1),this.emplace(w,n,l,u,m)}emplace(n,l,u,m,w){const C=4*n;return this.uint16[C+0]=l,this.uint16[C+1]=u,this.uint16[C+2]=m,this.uint16[C+3]=w,n}}cc.prototype.bytesPerElement=8,nn(cc,"StructArrayLayout4ui8");class gs extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w,C){const N=this.length;return this.resize(N+1),this.emplace(N,n,l,u,m,w,C)}emplace(n,l,u,m,w,C,N){const ee=6*n;return this.int16[ee+0]=l,this.int16[ee+1]=u,this.int16[ee+2]=m,this.int16[ee+3]=w,this.int16[ee+4]=C,this.int16[ee+5]=N,n}}gs.prototype.bytesPerElement=12,nn(gs,"StructArrayLayout6i12");class ts extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w,C,N,ee,re,me,Te,Me){const Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,n,l,u,m,w,C,N,ee,re,me,Te,Me)}emplace(n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe){const ze=12*n;return this.int16[ze+0]=l,this.int16[ze+1]=u,this.int16[ze+2]=m,this.int16[ze+3]=w,this.uint16[ze+4]=C,this.uint16[ze+5]=N,this.uint16[ze+6]=ee,this.uint16[ze+7]=re,this.int16[ze+8]=me,this.int16[ze+9]=Te,this.int16[ze+10]=Me,this.int16[ze+11]=Oe,n}}ts.prototype.bytesPerElement=24,nn(ts,"StructArrayLayout4i4ui4i24");class $r extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w,C){const N=this.length;return this.resize(N+1),this.emplace(N,n,l,u,m,w,C)}emplace(n,l,u,m,w,C,N){const ee=10*n,re=5*n;return this.int16[ee+0]=l,this.int16[ee+1]=u,this.int16[ee+2]=m,this.float32[re+2]=w,this.float32[re+3]=C,this.float32[re+4]=N,n}}$r.prototype.bytesPerElement=20,nn($r,"StructArrayLayout3i3f20");class oo extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const l=this.length;return this.resize(l+1),this.emplace(l,n)}emplace(n,l){return this.uint32[1*n+0]=l,n}}oo.prototype.bytesPerElement=4,nn(oo,"StructArrayLayout1ul4");class aa extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe){const ze=this.length;return this.resize(ze+1),this.emplace(ze,n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe)}emplace(n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe,ze){const He=20*n,tt=10*n;return this.int16[He+0]=l,this.int16[He+1]=u,this.int16[He+2]=m,this.int16[He+3]=w,this.int16[He+4]=C,this.float32[tt+3]=N,this.float32[tt+4]=ee,this.float32[tt+5]=re,this.float32[tt+6]=me,this.int16[He+14]=Te,this.uint32[tt+8]=Me,this.uint16[He+18]=Oe,this.uint16[He+19]=ze,n}}aa.prototype.bytesPerElement=40,nn(aa,"StructArrayLayout5i4f1i1ul2ui40");class ys extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w,C,N){const ee=this.length;return this.resize(ee+1),this.emplace(ee,n,l,u,m,w,C,N)}emplace(n,l,u,m,w,C,N,ee){const re=8*n;return this.int16[re+0]=l,this.int16[re+1]=u,this.int16[re+2]=m,this.int16[re+4]=w,this.int16[re+5]=C,this.int16[re+6]=N,this.int16[re+7]=ee,n}}ys.prototype.bytesPerElement=16,nn(ys,"StructArrayLayout3i2i2i16");class ba extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w){const C=this.length;return this.resize(C+1),this.emplace(C,n,l,u,m,w)}emplace(n,l,u,m,w,C){const N=4*n,ee=8*n;return this.float32[N+0]=l,this.float32[N+1]=u,this.float32[N+2]=m,this.int16[ee+6]=w,this.int16[ee+7]=C,n}}ba.prototype.bytesPerElement=16,nn(ba,"StructArrayLayout2f1f2i16");class Th extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,u,m){const w=this.length;return this.resize(w+1),this.emplace(w,n,l,u,m)}emplace(n,l,u,m,w){const C=12*n,N=3*n;return this.uint8[C+0]=l,this.uint8[C+1]=u,this.float32[N+1]=m,this.float32[N+2]=w,n}}Th.prototype.bytesPerElement=12,nn(Th,"StructArrayLayout2ub2f12");class dc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,u){const m=this.length;return this.resize(m+1),this.emplace(m,n,l,u)}emplace(n,l,u,m){const w=3*n;return this.float32[w+0]=l,this.float32[w+1]=u,this.float32[w+2]=m,n}}dc.prototype.bytesPerElement=12,nn(dc,"StructArrayLayout3f12");class la extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l,u){const m=this.length;return this.resize(m+1),this.emplace(m,n,l,u)}emplace(n,l,u,m){const w=3*n;return this.uint16[w+0]=l,this.uint16[w+1]=u,this.uint16[w+2]=m,n}}la.prototype.bytesPerElement=6,nn(la,"StructArrayLayout3ui6");class Xa extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe,ze,He,tt,_t,At,yt,Tt,It){const Pt=this.length;return this.resize(Pt+1),this.emplace(Pt,n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe,ze,He,tt,_t,At,yt,Tt,It)}emplace(n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe,ze,He,tt,_t,At,yt,Tt,It,Pt){const ti=30*n,Qt=15*n,vi=60*n;return this.int16[ti+0]=l,this.int16[ti+1]=u,this.int16[ti+2]=m,this.float32[Qt+2]=w,this.float32[Qt+3]=C,this.uint16[ti+8]=N,this.uint16[ti+9]=ee,this.uint32[Qt+5]=re,this.uint32[Qt+6]=me,this.uint32[Qt+7]=Te,this.uint16[ti+16]=Me,this.uint16[ti+17]=Oe,this.uint16[ti+18]=ze,this.float32[Qt+10]=He,this.float32[Qt+11]=tt,this.uint8[vi+48]=_t,this.uint8[vi+49]=At,this.uint8[vi+50]=yt,this.uint32[Qt+13]=Tt,this.int16[ti+28]=It,this.uint8[vi+58]=Pt,n}}Xa.prototype.bytesPerElement=60,nn(Xa,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Pc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe,ze,He,tt,_t,At,yt,Tt,It,Pt,ti,Qt,vi,ji,ai,Ti,Ci,Oi){const Ui=this.length;return this.resize(Ui+1),this.emplace(Ui,n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe,ze,He,tt,_t,At,yt,Tt,It,Pt,ti,Qt,vi,ji,ai,Ti,Ci,Oi)}emplace(n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe,ze,He,tt,_t,At,yt,Tt,It,Pt,ti,Qt,vi,ji,ai,Ti,Ci,Oi,Ui){const ci=38*n,en=19*n;return this.int16[ci+0]=l,this.int16[ci+1]=u,this.int16[ci+2]=m,this.float32[en+2]=w,this.float32[en+3]=C,this.int16[ci+8]=N,this.int16[ci+9]=ee,this.int16[ci+10]=re,this.int16[ci+11]=me,this.int16[ci+12]=Te,this.int16[ci+13]=Me,this.uint16[ci+14]=Oe,this.uint16[ci+15]=ze,this.uint16[ci+16]=He,this.uint16[ci+17]=tt,this.uint16[ci+18]=_t,this.uint16[ci+19]=At,this.uint16[ci+20]=yt,this.uint16[ci+21]=Tt,this.uint16[ci+22]=It,this.uint16[ci+23]=Pt,this.uint16[ci+24]=ti,this.uint16[ci+25]=Qt,this.uint16[ci+26]=vi,this.uint16[ci+27]=ji,this.uint16[ci+28]=ai,this.uint32[en+15]=Ti,this.float32[en+16]=Ci,this.float32[en+17]=Oi,this.float32[en+18]=Ui,n}}Pc.prototype.bytesPerElement=76,nn(Pc,"StructArrayLayout3i2f6i15ui1ul3f76");class Ml extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const l=this.length;return this.resize(l+1),this.emplace(l,n)}emplace(n,l){return this.float32[1*n+0]=l,n}}Ml.prototype.bytesPerElement=4,nn(Ml,"StructArrayLayout1f4");class gr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,u,m,w){const C=this.length;return this.resize(C+1),this.emplace(C,n,l,u,m,w)}emplace(n,l,u,m,w,C){const N=5*n;return this.float32[N+0]=l,this.float32[N+1]=u,this.float32[N+2]=m,this.float32[N+3]=w,this.float32[N+4]=C,n}}gr.prototype.bytesPerElement=20,nn(gr,"StructArrayLayout5f20");class Hu extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l,u,m){const w=this.length;return this.resize(w+1),this.emplace(w,n,l,u,m)}emplace(n,l,u,m,w){const C=6*n;return this.uint32[3*n+0]=l,this.uint16[C+2]=u,this.uint16[C+3]=m,this.uint16[C+4]=w,n}}Hu.prototype.bytesPerElement=12,nn(Hu,"StructArrayLayout1ul3ui12");class Dc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l){const u=this.length;return this.resize(u+1),this.emplace(u,n,l)}emplace(n,l,u){const m=2*n;return this.uint16[m+0]=l,this.uint16[m+1]=u,n}}Dc.prototype.bytesPerElement=4,nn(Dc,"StructArrayLayout2ui4");class pu extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const l=this.length;return this.resize(l+1),this.emplace(l,n)}emplace(n,l){return this.uint16[1*n+0]=l,n}}pu.prototype.bytesPerElement=2,nn(pu,"StructArrayLayout1ui2");class Uf extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l){const u=this.length;return this.resize(u+1),this.emplace(u,n,l)}emplace(n,l,u){const m=2*n;return this.float32[m+0]=l,this.float32[m+1]=u,n}}Uf.prototype.bytesPerElement=8,nn(Uf,"StructArrayLayout2f8");class k_ extends lr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}k_.prototype.size=40;class Qg extends aa{get(n){return new k_(this,n)}}nn(Qg,"CollisionBoxArray");class uc extends lr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(n){this._structArray.uint8[this._pos1+49]=n}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(n){this._structArray.uint8[this._pos1+50]=n}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(n){this._structArray.uint32[this._pos4+13]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(n){this._structArray.uint8[this._pos1+58]=n}}uc.prototype.size=60;class A_ extends Xa{get(n){return new uc(this,n)}}nn(A_,"PlacedSymbolArray");class $f extends lr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(n){this._structArray.uint32[this._pos4+15]=n}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}$f.prototype.size=76;class ym extends Pc{get(n){return new $f(this,n)}}nn(ym,"SymbolInstanceArray");class e1 extends Ml{getoffsetX(n){return this.float32[1*n+0]}}nn(e1,"GlyphOffsetArray");class t1 extends Hr{getx(n){return this.int16[2*n+0]}gety(n){return this.int16[2*n+1]}}nn(t1,"SymbolLineVertexArray");class kl extends lr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}kl.prototype.size=12;class fu extends Hu{get(n){return new kl(this,n)}}nn(fu,"FeatureIndexArray");class _m extends Dc{geta_centroid_pos0(n){return this.uint16[2*n+0]}geta_centroid_pos1(n){return this.uint16[2*n+1]}}nn(_m,"FillExtrusionCentroidArray");const P_=dn([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),vm=dn([{name:"a_dash",components:4,type:"Uint16"}]);var Sh={exports:{}},xm={exports:{}};xm.exports=function(a,n){var l,u,m,w,C,N,ee,re;for(u=a.length-(l=3&a.length),m=n,C=3432918353,N=461845907,re=0;re<u;)ee=255&a.charCodeAt(re)|(255&a.charCodeAt(++re))<<8|(255&a.charCodeAt(++re))<<16|(255&a.charCodeAt(++re))<<24,++re,m=27492+(65535&(w=5*(65535&(m=(m^=ee=(65535&(ee=(ee=(65535&ee)*C+(((ee>>>16)*C&65535)<<16)&4294967295)<<15|ee>>>17))*N+(((ee>>>16)*N&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(w>>>16)&65535)<<16);switch(ee=0,l){case 3:ee^=(255&a.charCodeAt(re+2))<<16;case 2:ee^=(255&a.charCodeAt(re+1))<<8;case 1:m^=ee=(65535&(ee=(ee=(65535&(ee^=255&a.charCodeAt(re)))*C+(((ee>>>16)*C&65535)<<16)&4294967295)<<15|ee>>>17))*N+(((ee>>>16)*N&65535)<<16)&4294967295}return m^=a.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0};var i1={exports:{}};i1.exports=function(a,n){for(var l,u=a.length,m=n^u,w=0;u>=4;)l=1540483477*(65535&(l=255&a.charCodeAt(w)|(255&a.charCodeAt(++w))<<8|(255&a.charCodeAt(++w))<<16|(255&a.charCodeAt(++w))<<24))+((1540483477*(l>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),u-=4,++w;switch(u){case 3:m^=(255&a.charCodeAt(w+2))<<16;case 2:m^=(255&a.charCodeAt(w+1))<<8;case 1:m=1540483477*(65535&(m^=255&a.charCodeAt(w)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0};var bm=xm.exports,n1=i1.exports;Sh.exports=bm,Sh.exports.murmur3=bm,Sh.exports.murmur2=n1;class nd{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(n,l,u,m){this.ids.push(D_(n)),this.positions.push(l,u,m)}getPositions(n){const l=D_(n);let u=0,m=this.ids.length-1;for(;u<m;){const C=u+m>>1;this.ids[C]>=l?m=C:u=C+1}const w=[];for(;this.ids[u]===l;)w.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return w}static serialize(n,l){const u=new Float64Array(n.ids),m=new Uint32Array(n.positions);return Bd(u,m,0,u.length-1),l&&l.push(u.buffer,m.buffer),{ids:u,positions:m}}static deserialize(n){const l=new nd;return l.ids=n.ids,l.positions=n.positions,l.indexed=!0,l}}function D_(a){const n=+a;return!isNaN(n)&&Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:Sh.exports(String(a))}function Bd(a,n,l,u){for(;l<u;){const m=a[l+u>>1];let w=l-1,C=u+1;for(;;){do w++;while(a[w]<m);do C--;while(a[C]>m);if(w>=C)break;Vf(a,w,C),Vf(n,3*w,3*C),Vf(n,3*w+1,3*C+1),Vf(n,3*w+2,3*C+2)}C-l<u-C?(Bd(a,n,l,C),l=C+1):(Bd(a,n,C+1,u),u=C)}}function Vf(a,n,l){const u=a[n];a[n]=a[l],a[l]=u}nn(nd,"FeaturePositionMap");class zd{constructor(n){this.gl=n.gl,this.initialized=!1}fetchUniformLocation(n,l){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(n,l),this.initialized=!0),!!this.location}}class Sp extends zd{constructor(n){super(n),this.current=0}set(n,l,u){this.fetchUniformLocation(n,l)&&this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class I_ extends zd{constructor(n){super(n),this.current=[0,0,0,0]}set(n,l,u){this.fetchUniformLocation(n,l)&&(u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3])))}}class L_ extends zd{constructor(n){super(n),this.current=Ps.transparent}set(n,l,u){this.fetchUniformLocation(n,l)&&(u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a)))}}const u2=new Float32Array(16),O_=new Float32Array(9),R_=new Float32Array(4);function r1(a){return[gn(255*a.r,255*a.g),gn(255*a.b,255*a.a)]}class Cp{constructor(n,l,u){this.value=n,this.uniformNames=l.map(m=>`u_${m}`),this.type=u}setUniform(n,l,u,m,w){l.set(n,w,m.constantOr(this.value))}getBinding(n,l){return this.type==="color"?new L_(n):new Sp(n)}}class Ch{constructor(n,l){this.uniformNames=l.map(u=>`u_${u}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(n){this.pixelRatio=n.pixelRatio||1,this.pattern=n.tl.concat(n.br)}setUniform(n,l,u,m,w){const C=w==="u_pattern"||w==="u_dash"?this.pattern:w==="u_pixel_ratio"?this.pixelRatio:null;C&&l.set(n,w,C)}getBinding(n,l){return l==="u_pattern"||l==="u_dash"?new I_(n):new Sp(n)}}class Do{constructor(n,l,u,m){this.expression=n,this.type=u,this.maxValue=0,this.paintVertexAttributes=l.map(w=>({name:`a_${w}`,type:"Float32",components:u==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(n,l,u,m,w,C){const N=this.paintVertexArray.length,ee=this.expression.evaluate(new Gt(0),l,{},w,m,C);this.paintVertexArray.resize(n),this._setPaintValue(N,n,ee)}updatePaintArray(n,l,u,m,w){const C=this.expression.evaluate({zoom:0},u,m,void 0,w);this._setPaintValue(n,l,C)}_setPaintValue(n,l,u){if(this.type==="color"){const m=r1(u);for(let w=n;w<l;w++)this.paintVertexArray.emplace(w,m[0],m[1])}else{for(let m=n;m<l;m++)this.paintVertexArray.emplace(m,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Xo{constructor(n,l,u,m,w,C){this.expression=n,this.uniformNames=l.map(N=>`u_${N}_t`),this.type=u,this.useIntegerZoom=m,this.zoom=w,this.maxValue=0,this.paintVertexAttributes=l.map(N=>({name:`a_${N}`,type:"Float32",components:u==="color"?4:2,offset:0})),this.paintVertexArray=new C}populatePaintArray(n,l,u,m,w,C){const N=this.expression.evaluate(new Gt(this.zoom),l,{},w,m,C),ee=this.expression.evaluate(new Gt(this.zoom+1),l,{},w,m,C),re=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(re,n,N,ee)}updatePaintArray(n,l,u,m,w){const C=this.expression.evaluate({zoom:this.zoom},u,m,void 0,w),N=this.expression.evaluate({zoom:this.zoom+1},u,m,void 0,w);this._setPaintValue(n,l,C,N)}_setPaintValue(n,l,u,m){if(this.type==="color"){const w=r1(u),C=r1(m);for(let N=n;N<l;N++)this.paintVertexArray.emplace(N,w[0],w[1],C[0],C[1])}else{for(let w=n;w<l;w++)this.paintVertexArray.emplace(w,u,m);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(m))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,l,u,m,w){const C=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,N=g(this.expression.interpolationFactor(C,this.zoom,this.zoom+1),0,1);l.set(n,w,N)}getBinding(n,l){return new Sp(n)}}class Wu{constructor(n,l,u,m,w){this.expression=n,this.layerId=w,this.paintVertexAttributes=(u==="array"?vm:P_).members;for(let C=0;C<l.length;++C);this.paintVertexArray=new m}populatePaintArray(n,l,u){const m=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValues(m,n,l.patterns&&l.patterns[this.layerId],u)}updatePaintArray(n,l,u,m,w,C){this._setPaintValues(n,l,u.patterns&&u.patterns[this.layerId],C)}_setPaintValues(n,l,u,m){if(!m||!u)return;const w=m[u];if(!w)return;const{tl:C,br:N,pixelRatio:ee}=w;for(let re=n;re<l;re++)this.paintVertexArray.emplace(re,C[0],C[1],N[0],N[1],ee)}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Yu{constructor(n,l,u=()=>!0){this.binders={},this._buffers=[];const m=[];for(const w in n.paint._values){if(!u(w))continue;const C=n.paint.get(w);if(!(C instanceof Si&&li(C.property.specification)))continue;const N=B_(w,n.type),ee=C.value,re=C.property.specification.type,me=C.property.useIntegerZoom,Te=w==="line-dasharray"||w.endsWith("pattern"),Me=w==="line-dasharray"&&n.layout.get("line-cap").value.kind!=="constant";if(ee.kind!=="constant"||Me)if(ee.kind==="source"||Me||Te){const Oe=s1(w,re,"source");this.binders[w]=Te?new Wu(ee,N,re,Oe,n.id):new Do(ee,N,re,Oe),m.push(`/a_${w}`)}else{const Oe=s1(w,re,"composite");this.binders[w]=new Xo(ee,N,re,me,l,Oe),m.push(`/z_${w}`)}else this.binders[w]=Te?new Ch(ee.value,N):new Cp(ee.value,N,re),m.push(`/u_${w}`)}this.cacheKey=m.sort().join("")}getMaxValue(n){const l=this.binders[n];return l instanceof Do||l instanceof Xo?l.maxValue:0}populatePaintArrays(n,l,u,m,w,C){for(const N in this.binders){const ee=this.binders[N];(ee instanceof Do||ee instanceof Xo||ee instanceof Wu)&&ee.populatePaintArray(n,l,u,m,w,C)}}setConstantPatternPositions(n){for(const l in this.binders){const u=this.binders[l];u instanceof Ch&&u.setConstantPatternPositions(n)}}updatePaintArrays(n,l,u,m,w,C){let N=!1;for(const ee in n){const re=l.getPositions(ee);for(const me of re){const Te=u.feature(me.index);for(const Me in this.binders){const Oe=this.binders[Me];if((Oe instanceof Do||Oe instanceof Xo||Oe instanceof Wu)&&Oe.expression.isStateDependent===!0){const ze=m.paint.get(Me);Oe.expression=ze.value,Oe.updatePaintArray(me.start,me.end,Te,n[ee],w,C),N=!0}}}}return N}defines(){const n=[];for(const l in this.binders){const u=this.binders[l];(u instanceof Cp||u instanceof Ch)&&n.push(...u.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return n}getBinderAttributes(){const n=[];for(const l in this.binders){const u=this.binders[l];if(u instanceof Do||u instanceof Xo||u instanceof Wu)for(let m=0;m<u.paintVertexAttributes.length;m++)n.push(u.paintVertexAttributes[m].name)}return n}getBinderUniforms(){const n=[];for(const l in this.binders){const u=this.binders[l];if(u instanceof Cp||u instanceof Ch||u instanceof Xo)for(const m of u.uniformNames)n.push(m)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n){const l=[];for(const u in this.binders){const m=this.binders[u];if(m instanceof Cp||m instanceof Ch||m instanceof Xo)for(const w of m.uniformNames)l.push({name:w,property:u,binding:m.getBinding(n,w)})}return l}setUniforms(n,l,u,m,w){for(const{name:C,property:N,binding:ee}of u)this.binders[N].setUniform(n,ee,w,m.get(N),C)}updatePaintBuffers(){this._buffers=[];for(const n in this.binders){const l=this.binders[n];(l instanceof Do||l instanceof Xo||l instanceof Wu)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(n){for(const l in this.binders){const u=this.binders[l];(u instanceof Do||u instanceof Xo||u instanceof Wu)&&u.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const l=this.binders[n];(l instanceof Do||l instanceof Xo||l instanceof Wu)&&l.destroy()}}}class Nd{constructor(n,l,u=()=>!0){this.programConfigurations={};for(const m of n)this.programConfigurations[m.id]=new Yu(m,l,u);this.needsUpload=!1,this._featureMap=new nd,this._bufferOffset=0}populatePaintArrays(n,l,u,m,w,C,N){for(const ee in this.programConfigurations)this.programConfigurations[ee].populatePaintArrays(n,l,m,w,C,N);l.id!==void 0&&this._featureMap.add(l.id,u,this._bufferOffset,n),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,l,u,m,w){for(const C of u)this.needsUpload=this.programConfigurations[C.id].updatePaintArrays(n,this._featureMap,l,C,m,w)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}const Ep={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function B_(a,n){return Ep[a]||[a.replace(`${n}-`,"").replace(/-/g,"_")]}const z_={"line-pattern":{source:xa,composite:xa},"fill-pattern":{source:xa,composite:xa},"fill-extrusion-pattern":{source:xa,composite:xa},"line-dasharray":{source:cc,composite:cc}},h2={color:{source:Uf,composite:Pa},number:{source:Ml,composite:Uf}};function s1(a,n,l){const u=z_[a];return u&&u[l]||h2[n][l]}nn(Cp,"ConstantBinder"),nn(Ch,"PatternConstantBinder"),nn(Do,"SourceExpressionBinder"),nn(Wu,"PatternCompositeBinder"),nn(Xo,"CompositeExpressionBinder"),nn(Yu,"ProgramConfiguration",{omit:["_buffers"]}),nn(Nd,"ProgramConfigurationSet");const mu="-transition";class ul extends yo{constructor(n,l){if(super(),this.id=n.id,this.type=n.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,n.type!=="custom"&&(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type!=="background"&&n.type!=="sky"&&(this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter),l.layout&&(this._unevaluatedLayout=new si(l.layout)),l.paint)){this._transitionablePaint=new _i(l.paint);for(const u in n.paint)this.setPaintProperty(u,n.paint[u],{validate:!1});for(const u in n.layout)this.setLayoutProperty(u,n.layout[u],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ni(l.paint)}}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,l,u={}){l!=null&&this._validate(uu,`layers.${this.id}.layout.${n}`,n,l,u)||(n!=="visibility"?this._unevaluatedLayout.setValue(n,l):this.visibility=l)}getPaintProperty(n){return ue(n,mu)?this._transitionablePaint.getTransition(n.slice(0,-mu.length)):this._transitionablePaint.getValue(n)}setPaintProperty(n,l,u={}){if(l!=null&&this._validate(Jg,`layers.${this.id}.paint.${n}`,n,l,u))return!1;if(ue(n,mu))return this._transitionablePaint.setTransition(n.slice(0,-mu.length),l||void 0),!1;{const m=this._transitionablePaint._values[n],w=m.value.isDataDriven(),C=m.value;this._transitionablePaint.setValue(n,l),this._handleSpecialPaintPropertyUpdate(n);const N=this._transitionablePaint._values[n].value,ee=N.isDataDriven(),re=ue(n,"pattern")||n==="line-dasharray";return ee||w||re||this._handleOverridablePaintPropertyUpdate(n,C,N)}}_handleSpecialPaintPropertyUpdate(n){}getProgramIds(){return null}getProgramConfiguration(n){return null}_handleOverridablePaintPropertyUpdate(n,l,u){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,l){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,l)}serialize(){const n={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(n.layout=n.layout||{},n.layout.visibility=this.visibility),ne(n,(l,u)=>!(l===void 0||u==="layout"&&!Object.keys(l).length||u==="paint"&&!Object.keys(l).length))}_validate(n,l,u,m,w={}){return(!w||w.validate!==!1)&&am(this,n.call(Lf,{key:l,layerType:this.type,objectKey:u,value:m,styleSpec:mi,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const n in this.paint._values){const l=this.paint.get(n);if(l instanceof Si&&li(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=js(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const p2=dn([{name:"a_pos",components:2,type:"Int16"}],4),N_=dn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class bo{constructor(n=[]){this.segments=n}prepareSegment(n,l,u,m){let w=this.segments[this.segments.length-1];return n>bo.MAX_VERTEX_ARRAY_LENGTH&&oe(`Max vertices per segment is ${bo.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!w||w.vertexLength+n>bo.MAX_VERTEX_ARRAY_LENGTH||w.sortKey!==m)&&(w={vertexOffset:l.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},m!==void 0&&(w.sortKey=m),this.segments.push(w)),w}get(){return this.segments}destroy(){for(const n of this.segments)for(const l in n.vaos)n.vaos[l].destroy()}static simpleSegment(n,l,u,m){return new bo([{vertexOffset:n,primitiveOffset:l,vertexLength:u,primitiveLength:m,vaos:{},sortKey:0}])}}bo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,nn(bo,"SegmentVector");var Rn=8192;class gu{constructor(n,l){n&&(l?this.setSouthWest(n).setNorthEast(l):n.length===4?this.setSouthWest([n[0],n[1]]).setNorthEast([n[2],n[3]]):this.setSouthWest(n[0]).setNorthEast(n[1]))}setNorthEast(n){return this._ne=n instanceof Pr?new Pr(n.lng,n.lat):Pr.convert(n),this}setSouthWest(n){return this._sw=n instanceof Pr?new Pr(n.lng,n.lat):Pr.convert(n),this}extend(n){const l=this._sw,u=this._ne;let m,w;if(n instanceof Pr)m=n,w=n;else{if(!(n instanceof gu))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(gu.convert(n)):this.extend(Pr.convert(n)):typeof n=="object"&&n!==null&&n.hasOwnProperty("lat")&&n.hasOwnProperty("lon")?this.extend(Pr.convert(n)):this;if(m=n._sw,w=n._ne,!m||!w)return this}return l||u?(l.lng=Math.min(m.lng,l.lng),l.lat=Math.min(m.lat,l.lat),u.lng=Math.max(w.lng,u.lng),u.lat=Math.max(w.lat,u.lat)):(this._sw=new Pr(m.lng,m.lat),this._ne=new Pr(w.lng,w.lat)),this}getCenter(){return new Pr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Pr(this.getWest(),this.getNorth())}getSouthEast(){return new Pr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:l,lat:u}=Pr.convert(n);let m=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(m=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=u&&u<=this._ne.lat&&m}static convert(n){return!n||n instanceof gu?n:new gu(n)}}const Eh=63710088e-1;class Pr{constructor(n,l){if(isNaN(n)||isNaN(l))throw new Error(`Invalid LngLat object: (${n}, ${l})`);if(this.lng=+n,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Pr(A(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const l=Math.PI/180,u=this.lat*l,m=n.lat*l,w=Math.sin(u)*Math.sin(m)+Math.cos(u)*Math.cos(m)*Math.cos((n.lng-this.lng)*l);return Eh*Math.acos(Math.min(w,1))}toBounds(n=0){const l=360*n/40075017,u=l/Math.cos(Math.PI/180*this.lat);return new gu(new Pr(this.lng-u,this.lat-l),new Pr(this.lng+u,this.lat+l))}static convert(n){if(n instanceof Pr)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new Pr(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new Pr(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Gf=2*Math.PI*Eh;function o1(a){return Gf*Math.cos(a*Math.PI/180)}function rd(a){return(180+a)/360}function hc(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function pc(a,n){return a/o1(n)}function hl(a){return 360*a-180}function wa(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}function a1(a,n){return a*o1(wa(n))}const Ta=85.051129;function l1(a){return 1/Math.cos(a*Math.PI/180)}class Mh{constructor(n,l,u=0){this.x=+n,this.y=+l,this.z=+u}static fromLngLat(n,l=0){const u=Pr.convert(n);return new Mh(rd(u.lng),hc(u.lat),pc(l,u.lat))}toLngLat(){return new Pr(hl(this.x),wa(this.y))}toAltitude(){return a1(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Gf*l1(wa(this.y))}}function c1(a,n,l,u,m,w,C,N,ee){const re=(n+u)/2,me=(l+m)/2,Te=new U(re,me);N(Te),function(Me,Oe,ze,He,tt,_t){const At=ze-tt,yt=He-_t;return Math.abs((He-Oe)*At-(ze-Me)*yt)/Math.hypot(At,yt)}(Te.x,Te.y,w.x,w.y,C.x,C.y)>=ee?(c1(a,n,l,re,me,w,Te,N,ee),c1(a,re,me,u,m,Te,C,N,ee)):a.push(C)}function d1(a,n,l){let u=a[0],m=u.x,w=u.y;n(u);const C=[u];for(let N=1;N<a.length;N++){const ee=a[N],{x:re,y:me}=ee;n(ee),c1(C,m,w,re,me,u,ee,n,l),m=re,w=me,u=ee}return C}function u1(a,n,l,u){if(u(n,l)){const m=n.add(l)._mult(.5);u1(a,n,m,u),u1(a,m,l,u)}else a.push(l)}function f2(a,n){let l=a[0];const u=[l];for(let m=1;m<a.length;m++){const w=a[m];u1(u,l,w,n),l=w}return u}const sd=Math.pow(2,14)-1,wm=-sd-1;function h1(a,n){const l=Math.round(a.x*n),u=Math.round(a.y*n);return a.x=g(l,wm,sd),a.y=g(u,wm,sd),(l<a.x||l>a.x+1||u<a.y||u>a.y+1)&&oe("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a}function od(a,n,l){const u=a.loadGeometry(),m=a.extent,w=Rn/m;if(n&&l&&l.projection.isReprojectedInTileSpace){const C=1<<n.z,{scale:N,x:ee,y:re,projection:me}=l,Te=Me=>{const Oe=hl((n.x+Me.x/m)/C),ze=wa((n.y+Me.y/m)/C),He=me.project(Oe,ze);Me.x=(He.x*N-ee)*m,Me.y=(He.y*N-re)*m};for(let Me=0;Me<u.length;Me++)if(a.type!==1)u[Me]=d1(u[Me],Te,1);else{const Oe=[];for(const ze of u[Me])ze.x<0||ze.x>=m||ze.y<0||ze.y>=m||(Te(ze),Oe.push(ze));u[Me]=Oe}}for(const C of u)for(const N of C)h1(N,w);return u}function Fd(a,n){return{type:a.type,id:a.id,properties:a.properties,geometry:n?od(a):[]}}function yu(a,n,l,u,m){a.emplaceBack(2*n+(u+1)/2,2*l+(m+1)/2)}function Kn(a,n,l){a.emplaceBack(n.x,n.y,n.z,l[0]*16384,l[1]*16384,l[2]*16384)}class Mp{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(l=>l.id),this.index=n.index,this.hasPattern=!1,this.projection=n.projection,this.layoutVertexArray=new Hr,this.indexArray=new la,this.segments=new bo,this.programConfigurations=new Nd(n.layers,n.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(n,l,u,m){const w=this.layers[0],C=[];let N=null;w.type==="circle"&&(N=w.layout.get("circle-sort-key"));for(const{feature:re,id:me,index:Te,sourceLayerIndex:Me}of n){const Oe=this.layers[0]._featureFilter.needGeometry,ze=Fd(re,Oe);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),ze,u))continue;const He=N?N.evaluate(ze,{},u):void 0,tt={id:me,properties:re.properties,type:re.type,sourceLayerIndex:Me,index:Te,geometry:Oe?ze.geometry:od(re,u,m),patterns:{},sortKey:He};C.push(tt)}N&&C.sort((re,me)=>re.sortKey-me.sortKey);let ee=null;m.projection.name==="globe"&&(this.globeExtVertexArray=new gs,ee=m.projection);for(const re of C){const{geometry:me,index:Te,sourceLayerIndex:Me}=re,Oe=n[Te].feature;this.addFeature(re,me,Te,l.availableImages,u,ee),l.featureIndex.insert(Oe,me,Te,Me,this.index)}}update(n,l,u,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,l,this.stateDependentLayers,u,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,p2.members),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,N_.members))),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(n,l,u,m,w,C){for(const N of l)for(const ee of N){const re=ee.x,me=ee.y;if(re<0||re>=Rn||me<0||me>=Rn)continue;if(C){const Oe=C.projectTilePoint(re,me,w),ze=C.upVector(w,re,me),He=this.globeExtVertexArray;Kn(He,Oe,ze),Kn(He,Oe,ze),Kn(He,Oe,ze),Kn(He,Oe,ze)}const Te=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),Me=Te.vertexLength;yu(this.layoutVertexArray,re,me,-1,-1),yu(this.layoutVertexArray,re,me,1,-1),yu(this.layoutVertexArray,re,me,1,1),yu(this.layoutVertexArray,re,me,-1,1),this.indexArray.emplaceBack(Me,Me+1,Me+2),this.indexArray.emplaceBack(Me,Me+2,Me+3),Te.vertexLength+=4,Te.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,{},m,w)}}function Tm(a,n){for(let l=0;l<a.length;l++)if(Ah(n,a[l]))return!0;for(let l=0;l<n.length;l++)if(Ah(a,n[l]))return!0;return!!Sm(a,n)}function kh(a,n,l){return!!Ah(a,n)||!!f1(n,a,l)}function F_(a,n){if(a.length===1)return m1(n,a[0]);for(let l=0;l<n.length;l++){const u=n[l];for(let m=0;m<u.length;m++)if(Ah(a,u[m]))return!0}for(let l=0;l<a.length;l++)if(m1(n,a[l]))return!0;for(let l=0;l<n.length;l++)if(Sm(a,n[l]))return!0;return!1}function p1(a,n,l){if(a.length>1){if(Sm(a,n))return!0;for(let u=0;u<n.length;u++)if(f1(n[u],a,l))return!0}for(let u=0;u<a.length;u++)if(f1(a[u],n,l))return!0;return!1}function Sm(a,n){if(a.length===0||n.length===0)return!1;for(let l=0;l<a.length-1;l++){const u=a[l],m=a[l+1];for(let w=0;w<n.length-1;w++)if(Za(u,m,n[w],n[w+1]))return!0}return!1}function Za(a,n,l,u){return ye(a,l,u)!==ye(n,l,u)&&ye(a,n,l)!==ye(a,n,u)}function f1(a,n,l){const u=l*l;if(n.length===1)return a.distSqr(n[0])<u;for(let m=1;m<n.length;m++)if(j_(a,n[m-1],n[m])<u)return!0;return!1}function j_(a,n,l){const u=n.distSqr(l);if(u===0)return a.distSqr(n);const m=((a.x-n.x)*(l.x-n.x)+(a.y-n.y)*(l.y-n.y))/u;return a.distSqr(m<0?n:m>1?l:l.sub(n)._mult(m)._add(n))}function m1(a,n){let l,u,m,w=!1;for(let C=0;C<a.length;C++){l=a[C];for(let N=0,ee=l.length-1;N<l.length;ee=N++)u=l[N],m=l[ee],u.y>n.y!=m.y>n.y&&n.x<(m.x-u.x)*(n.y-u.y)/(m.y-u.y)+u.x&&(w=!w)}return w}function Ah(a,n){let l=!1;for(let u=0,m=a.length-1;u<a.length;m=u++){const w=a[u],C=a[m];w.y>n.y!=C.y>n.y&&n.x<(C.x-w.x)*(n.y-w.y)/(C.y-w.y)+w.x&&(l=!l)}return l}function g1(a,n,l,u,m){for(const C of a)if(n<=C.x&&l<=C.y&&u>=C.x&&m>=C.y)return!0;const w=[new U(n,l),new U(n,m),new U(u,m),new U(u,l)];if(a.length>2){for(const C of w)if(Ah(a,C))return!0}for(let C=0;C<a.length-1;C++)if(m2(a[C],a[C+1],w))return!0;return!1}function m2(a,n,l){const u=l[0],m=l[2];if(a.x<u.x&&n.x<u.x||a.x>m.x&&n.x>m.x||a.y<u.y&&n.y<u.y||a.y>m.y&&n.y>m.y)return!1;const w=ye(a,n,l[0]);return w!==ye(a,n,l[1])||w!==ye(a,n,l[2])||w!==ye(a,n,l[3])}function kp(a,n,l){const u=n.paint.get(a).value;return u.kind==="constant"?u.value:l.programConfigurations.get(n.id).getMaxValue(a)}function Cm(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function jd(a,n,l,u,m){if(!n[0]&&!n[1])return a;const w=U.convert(n)._mult(m);l==="viewport"&&w._rotate(-u);const C=[];for(let N=0;N<a.length;N++)C.push(a[N].sub(w));return C}function Ka(a,n,l,u){const m=U.convert(a)._mult(u);return n==="viewport"&&m._rotate(-l),m}nn(Mp,"CircleBucket",{omit:["layers"]});const y1=new Sn({"circle-sort-key":new ni(mi.layout_circle["circle-sort-key"])});var g2={paint:new Sn({"circle-radius":new ni(mi.paint_circle["circle-radius"]),"circle-color":new ni(mi.paint_circle["circle-color"]),"circle-blur":new ni(mi.paint_circle["circle-blur"]),"circle-opacity":new ni(mi.paint_circle["circle-opacity"]),"circle-translate":new Yt(mi.paint_circle["circle-translate"]),"circle-translate-anchor":new Yt(mi.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yt(mi.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yt(mi.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ni(mi.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ni(mi.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ni(mi.paint_circle["circle-stroke-opacity"])}),layout:y1},Ap=1e-6,Al=typeof Float32Array<"u"?Float32Array:Array;function U_(){var a=new Al(9);return Al!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function Pp(a,n,l){var u=n[0],m=n[1],w=n[2],C=n[3],N=n[4],ee=n[5],re=n[6],me=n[7],Te=n[8],Me=l[0],Oe=l[1],ze=l[2],He=l[3],tt=l[4],_t=l[5],At=l[6],yt=l[7],Tt=l[8];return a[0]=Me*u+Oe*C+ze*re,a[1]=Me*m+Oe*N+ze*me,a[2]=Me*w+Oe*ee+ze*Te,a[3]=He*u+tt*C+_t*re,a[4]=He*m+tt*N+_t*me,a[5]=He*w+tt*ee+_t*Te,a[6]=At*u+yt*C+Tt*re,a[7]=At*m+yt*N+Tt*me,a[8]=At*w+yt*ee+Tt*Te,a}function Ic(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Em(a,n){var l=n[0],u=n[1],m=n[2],w=n[3],C=n[4],N=n[5],ee=n[6],re=n[7],me=n[8],Te=n[9],Me=n[10],Oe=n[11],ze=n[12],He=n[13],tt=n[14],_t=n[15],At=l*N-u*C,yt=l*ee-m*C,Tt=l*re-w*C,It=u*ee-m*N,Pt=u*re-w*N,ti=m*re-w*ee,Qt=me*He-Te*ze,vi=me*tt-Me*ze,ji=me*_t-Oe*ze,ai=Te*tt-Me*He,Ti=Te*_t-Oe*He,Ci=Me*_t-Oe*tt,Oi=At*Ci-yt*Ti+Tt*ai+It*ji-Pt*vi+ti*Qt;return Oi?(a[0]=(N*Ci-ee*Ti+re*ai)*(Oi=1/Oi),a[1]=(m*Ti-u*Ci-w*ai)*Oi,a[2]=(He*ti-tt*Pt+_t*It)*Oi,a[3]=(Me*Pt-Te*ti-Oe*It)*Oi,a[4]=(ee*ji-C*Ci-re*vi)*Oi,a[5]=(l*Ci-m*ji+w*vi)*Oi,a[6]=(tt*Tt-ze*ti-_t*yt)*Oi,a[7]=(me*ti-Me*Tt+Oe*yt)*Oi,a[8]=(C*Ti-N*ji+re*Qt)*Oi,a[9]=(u*ji-l*Ti-w*Qt)*Oi,a[10]=(ze*Pt-He*Tt+_t*At)*Oi,a[11]=(Te*Tt-me*Pt-Oe*At)*Oi,a[12]=(N*vi-C*ai-ee*Qt)*Oi,a[13]=(l*ai-u*vi+m*Qt)*Oi,a[14]=(He*yt-ze*It-tt*At)*Oi,a[15]=(me*It-Te*yt+Me*At)*Oi,a):null}function Ph(a,n,l){var u=n[0],m=n[1],w=n[2],C=n[3],N=n[4],ee=n[5],re=n[6],me=n[7],Te=n[8],Me=n[9],Oe=n[10],ze=n[11],He=n[12],tt=n[13],_t=n[14],At=n[15],yt=l[0],Tt=l[1],It=l[2],Pt=l[3];return a[0]=yt*u+Tt*N+It*Te+Pt*He,a[1]=yt*m+Tt*ee+It*Me+Pt*tt,a[2]=yt*w+Tt*re+It*Oe+Pt*_t,a[3]=yt*C+Tt*me+It*ze+Pt*At,a[4]=(yt=l[4])*u+(Tt=l[5])*N+(It=l[6])*Te+(Pt=l[7])*He,a[5]=yt*m+Tt*ee+It*Me+Pt*tt,a[6]=yt*w+Tt*re+It*Oe+Pt*_t,a[7]=yt*C+Tt*me+It*ze+Pt*At,a[8]=(yt=l[8])*u+(Tt=l[9])*N+(It=l[10])*Te+(Pt=l[11])*He,a[9]=yt*m+Tt*ee+It*Me+Pt*tt,a[10]=yt*w+Tt*re+It*Oe+Pt*_t,a[11]=yt*C+Tt*me+It*ze+Pt*At,a[12]=(yt=l[12])*u+(Tt=l[13])*N+(It=l[14])*Te+(Pt=l[15])*He,a[13]=yt*m+Tt*ee+It*Me+Pt*tt,a[14]=yt*w+Tt*re+It*Oe+Pt*_t,a[15]=yt*C+Tt*me+It*ze+Pt*At,a}function Hf(a,n,l){var u,m,w,C,N,ee,re,me,Te,Me,Oe,ze,He=l[0],tt=l[1],_t=l[2];return n===a?(a[12]=n[0]*He+n[4]*tt+n[8]*_t+n[12],a[13]=n[1]*He+n[5]*tt+n[9]*_t+n[13],a[14]=n[2]*He+n[6]*tt+n[10]*_t+n[14],a[15]=n[3]*He+n[7]*tt+n[11]*_t+n[15]):(m=n[1],w=n[2],C=n[3],N=n[4],ee=n[5],re=n[6],me=n[7],Te=n[8],Me=n[9],Oe=n[10],ze=n[11],a[0]=u=n[0],a[1]=m,a[2]=w,a[3]=C,a[4]=N,a[5]=ee,a[6]=re,a[7]=me,a[8]=Te,a[9]=Me,a[10]=Oe,a[11]=ze,a[12]=u*He+N*tt+Te*_t+n[12],a[13]=m*He+ee*tt+Me*_t+n[13],a[14]=w*He+re*tt+Oe*_t+n[14],a[15]=C*He+me*tt+ze*_t+n[15]),a}function Dh(a,n,l){var u=l[0],m=l[1],w=l[2];return a[0]=n[0]*u,a[1]=n[1]*u,a[2]=n[2]*u,a[3]=n[3]*u,a[4]=n[4]*m,a[5]=n[5]*m,a[6]=n[6]*m,a[7]=n[7]*m,a[8]=n[8]*w,a[9]=n[9]*w,a[10]=n[10]*w,a[11]=n[11]*w,a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15],a}function _1(a,n,l){var u=Math.sin(l),m=Math.cos(l),w=n[4],C=n[5],N=n[6],ee=n[7],re=n[8],me=n[9],Te=n[10],Me=n[11];return n!==a&&(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15]),a[4]=w*m+re*u,a[5]=C*m+me*u,a[6]=N*m+Te*u,a[7]=ee*m+Me*u,a[8]=re*m-w*u,a[9]=me*m-C*u,a[10]=Te*m-N*u,a[11]=Me*m-ee*u,a}function Wf(a,n,l){var u=Math.sin(l),m=Math.cos(l),w=n[0],C=n[1],N=n[2],ee=n[3],re=n[8],me=n[9],Te=n[10],Me=n[11];return n!==a&&(a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15]),a[0]=w*m-re*u,a[1]=C*m-me*u,a[2]=N*m-Te*u,a[3]=ee*m-Me*u,a[8]=w*u+re*m,a[9]=C*u+me*m,a[10]=N*u+Te*m,a[11]=ee*u+Me*m,a}function v1(a,n){return a[0]=n[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=n[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=n[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function $_(a,n,l){var u,m,w,C=l[0],N=l[1],ee=l[2],re=Math.hypot(C,N,ee);return re<Ap?null:(C*=re=1/re,N*=re,ee*=re,u=Math.sin(n),m=Math.cos(n),a[0]=C*C*(w=1-m)+m,a[1]=N*C*w+ee*u,a[2]=ee*C*w-N*u,a[3]=0,a[4]=C*N*w-ee*u,a[5]=N*N*w+m,a[6]=ee*N*w+C*u,a[7]=0,a[8]=C*ee*w+N*u,a[9]=N*ee*w-C*u,a[10]=ee*ee*w+m,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}Math.hypot||(Math.hypot=function(){for(var a=0,n=arguments.length;n--;)a+=arguments[n]*arguments[n];return Math.sqrt(a)});var x1=Ph;function Mm(){var a=new Al(3);return Al!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function Dp(a){var n=new Al(3);return n[0]=a[0],n[1]=a[1],n[2]=a[2],n}function Ih(a){return Math.hypot(a[0],a[1],a[2])}function Lh(a,n,l){var u=new Al(3);return u[0]=a,u[1]=n,u[2]=l,u}function Ud(a,n,l){return a[0]=n[0]+l[0],a[1]=n[1]+l[1],a[2]=n[2]+l[2],a}function Ip(a,n,l){return a[0]=n[0]-l[0],a[1]=n[1]-l[1],a[2]=n[2]-l[2],a}function b1(a,n,l){return a[0]=n[0]*l[0],a[1]=n[1]*l[1],a[2]=n[2]*l[2],a}function Pl(a,n,l){return a[0]=Math.min(n[0],l[0]),a[1]=Math.min(n[1],l[1]),a[2]=Math.min(n[2],l[2]),a}function ad(a,n,l){return a[0]=Math.max(n[0],l[0]),a[1]=Math.max(n[1],l[1]),a[2]=Math.max(n[2],l[2]),a}function fc(a,n,l){return a[0]=n[0]*l,a[1]=n[1]*l,a[2]=n[2]*l,a}function Lp(a,n,l,u){return a[0]=n[0]+l[0]*u,a[1]=n[1]+l[1]*u,a[2]=n[2]+l[2]*u,a}function Ja(a,n){var l=n[0],u=n[1],m=n[2],w=l*l+u*u+m*m;return w>0&&(w=1/Math.sqrt(w)),a[0]=n[0]*w,a[1]=n[1]*w,a[2]=n[2]*w,a}function Lc(a,n){return a[0]*n[0]+a[1]*n[1]+a[2]*n[2]}function w1(a,n,l){var u=n[0],m=n[1],w=n[2],C=l[0],N=l[1],ee=l[2];return a[0]=m*ee-w*N,a[1]=w*C-u*ee,a[2]=u*N-m*C,a}function po(a,n,l){var u=n[0],m=n[1],w=n[2],C=l[3]*u+l[7]*m+l[11]*w+l[15];return a[0]=(l[0]*u+l[4]*m+l[8]*w+l[12])/(C=C||1),a[1]=(l[1]*u+l[5]*m+l[9]*w+l[13])/C,a[2]=(l[2]*u+l[6]*m+l[10]*w+l[14])/C,a}function V_(a,n,l){var u=l[0],m=l[1],w=l[2],C=n[0],N=n[1],ee=n[2],re=m*ee-w*N,me=w*C-u*ee,Te=u*N-m*C,Me=m*Te-w*me,Oe=w*re-u*Te,ze=u*me-m*re,He=2*l[3];return me*=He,Te*=He,Oe*=2,ze*=2,a[0]=C+(re*=He)+(Me*=2),a[1]=N+me+Oe,a[2]=ee+Te+ze,a}var Yf,ld=Ip,y2=b1,_2=Ih;function G_(a,n,l){return a[0]=n[0]*l,a[1]=n[1]*l,a[2]=n[2]*l,a[3]=n[3]*l,a}function H_(a,n){var l=n[0],u=n[1],m=n[2],w=n[3],C=l*l+u*u+m*m+w*w;return C>0&&(C=1/Math.sqrt(C)),a[0]=l*C,a[1]=u*C,a[2]=m*C,a[3]=w*C,a}function qu(a,n,l){var u=n[0],m=n[1],w=n[2],C=n[3];return a[0]=l[0]*u+l[4]*m+l[8]*w+l[12]*C,a[1]=l[1]*u+l[5]*m+l[9]*w+l[13]*C,a[2]=l[2]*u+l[6]*m+l[10]*w+l[14]*C,a[3]=l[3]*u+l[7]*m+l[11]*w+l[15]*C,a}function T1(){var a=new Al(4);return Al!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function S1(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function W_(a,n,l){l*=.5;var u=n[0],m=n[1],w=n[2],C=n[3],N=Math.sin(l),ee=Math.cos(l);return a[0]=u*ee+C*N,a[1]=m*ee+w*N,a[2]=w*ee-m*N,a[3]=C*ee-u*N,a}function Y_(a,n,l){l*=.5;var u=n[0],m=n[1],w=n[2],C=n[3],N=Math.sin(l),ee=Math.cos(l);return a[0]=u*ee-w*N,a[1]=m*ee+C*N,a[2]=w*ee+u*N,a[3]=C*ee-m*N,a}Mm(),Yf=new Al(4),Al!=Float32Array&&(Yf[0]=0,Yf[1]=0,Yf[2]=0,Yf[3]=0);var v2=H_;Mm(),Lh(1,0,0),Lh(0,1,0),T1(),T1(),U_();class km{constructor(n,l){this.pos=n,this.dir=l}intersectsPlane(n,l,u){const m=Lc(l,this.dir);if(Math.abs(m)<1e-6)return!1;const w=((n[0]-this.pos[0])*l[0]+(n[1]-this.pos[1])*l[1]+(n[2]-this.pos[2])*l[2])/m;return u[0]=this.pos[0]+this.dir[0]*w,u[1]=this.pos[1]+this.dir[1]*w,u[2]=this.pos[2]+this.dir[2]*w,!0}closestPointOnSphere(n,l,u){if(function(Oe,ze){var He=Oe[0],tt=Oe[1],_t=Oe[2],At=ze[0],yt=ze[1],Tt=ze[2];return Math.abs(He-At)<=Ap*Math.max(1,Math.abs(He),Math.abs(At))&&Math.abs(tt-yt)<=Ap*Math.max(1,Math.abs(tt),Math.abs(yt))&&Math.abs(_t-Tt)<=Ap*Math.max(1,Math.abs(_t),Math.abs(Tt))}(this.pos,n)||l===0)return u[0]=u[1]=u[2]=0,!1;const[m,w,C]=this.dir,N=this.pos[0]-n[0],ee=this.pos[1]-n[1],re=this.pos[2]-n[2],me=m*m+w*w+C*C,Te=2*(N*m+ee*w+re*C),Me=Te*Te-4*me*(N*N+ee*ee+re*re-l*l);if(Me<0){const Oe=Math.max(-Te/2,0),ze=N+m*Oe,He=ee+w*Oe,tt=re+C*Oe,_t=Math.hypot(ze,He,tt);return u[0]=ze*l/_t,u[1]=He*l/_t,u[2]=tt*l/_t,!1}{const Oe=(-Te-Math.sqrt(Me))/(2*me);if(Oe<0){const ze=Math.hypot(N,ee,re);return u[0]=N*l/ze,u[1]=ee*l/ze,u[2]=re*l/ze,!1}return u[0]=N+m*Oe,u[1]=ee+w*Oe,u[2]=re+C*Oe,!0}}}class C1{constructor(n,l,u,m,w){this.TL=n,this.TR=l,this.BR=u,this.BL=m,this.horizon=w}static fromInvProjectionMatrix(n,l,u){const m=[-1,1,1],w=[1,1,1],C=[1,-1,1],N=[-1,-1,1],ee=po(m,m,n),re=po(w,w,n),me=po(C,C,n),Te=po(N,N,n);return new C1(ee,re,me,Te,l/u)}}class E1{constructor(n,l){this.points=n,this.planes=l}static fromInvProjectionMatrix(n,l,u,m){const w=Math.pow(2,u),C=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(ee=>{const re=qu([],ee,n),me=1/re[3]/l*w;return function(Te,Me,Oe){return Te[0]=Me[0]*Oe[0],Te[1]=Me[1]*Oe[1],Te[2]=Me[2]*Oe[2],Te[3]=Me[3]*Oe[3],Te}(re,re,[me,me,m?1/re[3]:me,me])}),N=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(ee=>{const re=Ja([],w1([],ld([],C[ee[0]],C[ee[1]]),ld([],C[ee[2]],C[ee[1]]))),me=-Lc(re,C[ee[1]]);return re.concat(me)});return new E1(C,N)}}class Qa{static fromPoints(n){const l=[1/0,1/0,1/0],u=[-1/0,-1/0,-1/0];for(const m of n)Pl(l,l,m),ad(u,u,m);return new Qa(l,u)}static applyTransform(n,l){const u=n.getCorners();for(let m=0;m<u.length;++m)po(u[m],u[m],l);return Qa.fromPoints(u)}constructor(n,l){this.min=n,this.max=l,this.center=fc([],Ud([],this.min,this.max),.5)}quadrant(n){const l=[n%2==0,n<2],u=Dp(this.min),m=Dp(this.max);for(let w=0;w<l.length;w++)u[w]=l[w]?this.min[w]:this.center[w],m[w]=l[w]?this.center[w]:this.max[w];return m[2]=this.max[2],new Qa(u,m)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}distanceZ(n){return Math.max(Math.min(this.max[2],n[2]),this.min[2])-n[2]}getCorners(){const n=this.min,l=this.max;return[[n[0],n[1],n[2]],[l[0],n[1],n[2]],[l[0],l[1],n[2]],[n[0],l[1],n[2]],[n[0],n[1],l[2]],[l[0],n[1],l[2]],[l[0],l[1],l[2]],[n[0],l[1],l[2]]]}intersects(n){const l=this.getCorners();let u=!0;for(let m=0;m<n.planes.length;m++){const w=n.planes[m];let C=0;for(let N=0;N<l.length;N++)C+=Lc(w,l[N])+w[3]>=0;if(C===0)return 0;C!==l.length&&(u=!1)}if(u)return 2;for(let m=0;m<3;m++){let w=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let N=0;N<n.points.length;N++){const ee=n.points[N][m]-this.min[m];w=Math.min(w,ee),C=Math.max(C,ee)}if(C<0||w>this.max[m]-this.min[m])return 0}return 1}}function q_(a,n,l,u,m,w,C,N,ee){if(w&&a.queryGeometry.isAboveHorizon)return!1;w&&(ee*=a.pixelToTileUnitsFactor);const re=a.tileID.canonical,me=l.projection.upVectorScale(re,l.center.lat,l.worldSize).metersToTile;for(const Te of n)for(const Me of Te){const Oe=Me.add(N),ze=m&&l.elevation?l.elevation.exaggeration()*m.getElevationAt(Oe.x,Oe.y,!0):0,He=l.projection.projectTilePoint(Oe.x,Oe.y,re);if(ze>0){const yt=l.projection.upVector(re,Oe.x,Oe.y);He.x+=yt[0]*me*ze,He.y+=yt[1]*me*ze,He.z+=yt[2]*me*ze}const tt=w?Oe:x2(He.x,He.y,He.z,u),_t=w?a.tilespaceRays.map(yt=>b2(yt,ze)):a.queryGeometry.screenGeometry,At=qu([],[He.x,He.y,He.z,1],u);if(!C&&w?ee*=At[3]/l.cameraToCenterDistance:C&&!w&&(ee*=l.cameraToCenterDistance/At[3]),w){const yt=wa((Me.y/Rn+re.y)/(1<<re.z));ee/=l.projection.pixelsPerMeter(yt,1)/pc(1,yt)}if(kh(_t,tt,ee))return!0}return!1}function x2(a,n,l,u){const m=qu([],[a,n,l,1],u);return new U(m[0]/m[3],m[1]/m[3])}const X_=Lh(0,0,0),Oc=Lh(0,0,1);function b2(a,n){const l=Mm();return X_[2]=n,a.intersectsPlane(X_,Oc,l),new U(l[0],l[1])}class Z_ extends Mp{}function K_(a,{width:n,height:l},u,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==n*l*u)throw new RangeError("mismatched image size")}else m=new Uint8Array(n*l*u);return a.width=n,a.height=l,a.data=m,a}function M1(a,n,l){const{width:u,height:m}=n;u===a.width&&m===a.height||(k1(a,n,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,u),height:Math.min(a.height,m)},l),a.width=u,a.height=m,a.data=n.data)}function k1(a,n,l,u,m,w){if(m.width===0||m.height===0)return n;if(m.width>a.width||m.height>a.height||l.x>a.width-m.width||l.y>a.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>n.width||m.height>n.height||u.x>n.width-m.width||u.y>n.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const C=a.data,N=n.data;for(let ee=0;ee<m.height;ee++){const re=((l.y+ee)*a.width+l.x)*w,me=((u.y+ee)*n.width+u.x)*w;for(let Te=0;Te<m.width*w;Te++)N[me+Te]=C[re+Te]}return n}nn(Z_,"HeatmapBucket",{omit:["layers"]});class _u{constructor(n,l){K_(this,n,1,l)}resize(n){M1(this,new _u(n),1)}clone(){return new _u({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,l,u,m,w){k1(n,l,u,m,w,1)}}class Dl{constructor(n,l){K_(this,n,4,l)}resize(n){M1(this,new Dl(n),4)}replace(n,l){l?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Dl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,l,u,m,w){k1(n,l,u,m,w,4)}}nn(_u,"AlphaImage"),nn(Dl,"RGBAImage");var w2={paint:new Sn({"heatmap-radius":new ni(mi.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ni(mi.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yt(mi.paint_heatmap["heatmap-intensity"]),"heatmap-color":new mn(mi.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yt(mi.paint_heatmap["heatmap-opacity"])})};function qf(a){const n={},l=a.resolution||256,u=a.clips?a.clips.length:1,m=a.image||new Dl({width:l,height:u}),w=(C,N,ee)=>{n[a.evaluationKey]=ee;const re=a.expression.evaluate(n);m.data[C+N+0]=Math.floor(255*re.r/re.a),m.data[C+N+1]=Math.floor(255*re.g/re.a),m.data[C+N+2]=Math.floor(255*re.b/re.a),m.data[C+N+3]=Math.floor(255*re.a)};if(a.clips)for(let C=0,N=0;C<u;++C,N+=4*l)for(let ee=0,re=0;ee<l;ee++,re+=4){const me=ee/(l-1),{start:Te,end:Me}=a.clips[C];w(N,re,Te*(1-me)+Me*me)}else for(let C=0,N=0;C<l;C++,N+=4)w(0,N,C/(l-1));return m}var T2={paint:new Sn({"hillshade-illumination-direction":new Yt(mi.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yt(mi.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yt(mi.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yt(mi.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yt(mi.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yt(mi.paint_hillshade["hillshade-accent-color"])})};const S2=dn([{name:"a_pos",components:2,type:"Int16"}],4),{members:C2}=S2;var Xf={exports:{}};function Am(a,n,l){l=l||2;var u,m,w,C,N,ee,re,me=n&&n.length,Te=me?n[0]*l:a.length,Me=J_(a,0,Te,l,!0),Oe=[];if(!Me||Me.next===Me.prev)return Oe;if(me&&(Me=function(He,tt,_t,At){var yt,Tt,It,Pt=[];for(yt=0,Tt=tt.length;yt<Tt;yt++)(It=J_(He,tt[yt]*At,yt<Tt-1?tt[yt+1]*At:He.length,At,!1))===It.next&&(It.steiner=!0),Pt.push(L2(It));for(Pt.sort(P2),yt=0;yt<Pt.length;yt++)_t=D2(Pt[yt],_t);return _t}(a,n,Me,l)),a.length>80*l){u=w=a[0],m=C=a[1];for(var ze=l;ze<Te;ze+=l)(N=a[ze])<u&&(u=N),(ee=a[ze+1])<m&&(m=ee),N>w&&(w=N),ee>C&&(C=ee);re=(re=Math.max(w-u,C-m))!==0?32767/re:0}return Zf(Me,Oe,l,u,m,re,0),Oe}function J_(a,n,l,u,m){var w,C;if(m===I1(a,n,l,u)>0)for(w=n;w<l;w+=u)C=ev(w,a[w],a[w+1],C);else for(w=l-u;w>=n;w-=u)C=ev(w,a[w],a[w+1],C);return C&&Rp(C,C.next)&&(Jf(C),C=C.next),C}function Oh(a,n){if(!a)return a;n||(n=a);var l,u=a;do if(l=!1,u.steiner||!Rp(u,u.next)&&wo(u.prev,u,u.next)!==0)u=u.next;else{if(Jf(u),(u=n=u.prev)===u.next)break;l=!0}while(l||u!==n);return n}function Zf(a,n,l,u,m,w,C){if(a){!C&&w&&function(me,Te,Me,Oe){var ze=me;do ze.z===0&&(ze.z=A1(ze.x,ze.y,Te,Me,Oe)),ze.prevZ=ze.prev,ze.nextZ=ze.next,ze=ze.next;while(ze!==me);ze.prevZ.nextZ=null,ze.prevZ=null,function(He){var tt,_t,At,yt,Tt,It,Pt,ti,Qt=1;do{for(_t=He,He=null,Tt=null,It=0;_t;){for(It++,At=_t,Pt=0,tt=0;tt<Qt&&(Pt++,At=At.nextZ);tt++);for(ti=Qt;Pt>0||ti>0&&At;)Pt!==0&&(ti===0||!At||_t.z<=At.z)?(yt=_t,_t=_t.nextZ,Pt--):(yt=At,At=At.nextZ,ti--),Tt?Tt.nextZ=yt:He=yt,yt.prevZ=Tt,Tt=yt;_t=At}Tt.nextZ=null,Qt*=2}while(It>1)}(ze)}(a,u,m,w);for(var N,ee,re=a;a.prev!==a.next;)if(N=a.prev,ee=a.next,w?M2(a,u,m,w):E2(a))n.push(N.i/l|0),n.push(a.i/l|0),n.push(ee.i/l|0),Jf(a),a=ee.next,re=ee.next;else if((a=ee)===re){C?C===1?Zf(a=k2(Oh(a),n,l),n,l,u,m,w,2):C===2&&A2(a,n,l,u,m,w):Zf(Oh(a),n,l,u,m,w,1);break}}}function E2(a){var n=a.prev,l=a,u=a.next;if(wo(n,l,u)>=0)return!1;for(var m=n.x,w=l.x,C=u.x,N=n.y,ee=l.y,re=u.y,me=m<w?m<C?m:C:w<C?w:C,Te=N<ee?N<re?N:re:ee<re?ee:re,Me=m>w?m>C?m:C:w>C?w:C,Oe=N>ee?N>re?N:re:ee>re?ee:re,ze=u.next;ze!==n;){if(ze.x>=me&&ze.x<=Me&&ze.y>=Te&&ze.y<=Oe&&Op(m,N,w,ee,C,re,ze.x,ze.y)&&wo(ze.prev,ze,ze.next)>=0)return!1;ze=ze.next}return!0}function M2(a,n,l,u){var m=a.prev,w=a,C=a.next;if(wo(m,w,C)>=0)return!1;for(var N=m.x,ee=w.x,re=C.x,me=m.y,Te=w.y,Me=C.y,Oe=N<ee?N<re?N:re:ee<re?ee:re,ze=me<Te?me<Me?me:Me:Te<Me?Te:Me,He=N>ee?N>re?N:re:ee>re?ee:re,tt=me>Te?me>Me?me:Me:Te>Me?Te:Me,_t=A1(Oe,ze,n,l,u),At=A1(He,tt,n,l,u),yt=a.prevZ,Tt=a.nextZ;yt&&yt.z>=_t&&Tt&&Tt.z<=At;){if(yt.x>=Oe&&yt.x<=He&&yt.y>=ze&&yt.y<=tt&&yt!==m&&yt!==C&&Op(N,me,ee,Te,re,Me,yt.x,yt.y)&&wo(yt.prev,yt,yt.next)>=0||(yt=yt.prevZ,Tt.x>=Oe&&Tt.x<=He&&Tt.y>=ze&&Tt.y<=tt&&Tt!==m&&Tt!==C&&Op(N,me,ee,Te,re,Me,Tt.x,Tt.y)&&wo(Tt.prev,Tt,Tt.next)>=0))return!1;Tt=Tt.nextZ}for(;yt&&yt.z>=_t;){if(yt.x>=Oe&&yt.x<=He&&yt.y>=ze&&yt.y<=tt&&yt!==m&&yt!==C&&Op(N,me,ee,Te,re,Me,yt.x,yt.y)&&wo(yt.prev,yt,yt.next)>=0)return!1;yt=yt.prevZ}for(;Tt&&Tt.z<=At;){if(Tt.x>=Oe&&Tt.x<=He&&Tt.y>=ze&&Tt.y<=tt&&Tt!==m&&Tt!==C&&Op(N,me,ee,Te,re,Me,Tt.x,Tt.y)&&wo(Tt.prev,Tt,Tt.next)>=0)return!1;Tt=Tt.nextZ}return!0}function k2(a,n,l){var u=a;do{var m=u.prev,w=u.next.next;!Rp(m,w)&&P1(m,u,u.next,w)&&Kf(m,w)&&Kf(w,m)&&(n.push(m.i/l|0),n.push(u.i/l|0),n.push(w.i/l|0),Jf(u),Jf(u.next),u=a=w),u=u.next}while(u!==a);return Oh(u)}function A2(a,n,l,u,m,w){var C=a;do{for(var N=C.next.next;N!==C.prev;){if(C.i!==N.i&&O2(C,N)){var ee=Q_(C,N);return C=Oh(C,C.next),ee=Oh(ee,ee.next),Zf(C,n,l,u,m,w,0),void Zf(ee,n,l,u,m,w,0)}N=N.next}C=C.next}while(C!==a)}function P2(a,n){return a.x-n.x}function D2(a,n){var l=function(m,w){var C,N=w,ee=m.x,re=m.y,me=-1/0;do{if(re<=N.y&&re>=N.next.y&&N.next.y!==N.y){var Te=N.x+(re-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(Te<=ee&&Te>me&&(me=Te,C=N.x<N.next.x?N:N.next,Te===ee))return C}N=N.next}while(N!==w);if(!C)return null;var Me,Oe=C,ze=C.x,He=C.y,tt=1/0;N=C;do ee>=N.x&&N.x>=ze&&ee!==N.x&&Op(re<He?ee:me,re,ze,He,re<He?me:ee,re,N.x,N.y)&&(Me=Math.abs(re-N.y)/(ee-N.x),Kf(N,m)&&(Me<tt||Me===tt&&(N.x>C.x||N.x===C.x&&I2(C,N)))&&(C=N,tt=Me)),N=N.next;while(N!==Oe);return C}(a,n);if(!l)return n;var u=Q_(l,a);return Oh(u,u.next),Oh(l,l.next)}function I2(a,n){return wo(a.prev,a,n.prev)<0&&wo(n.next,a,a.next)<0}function A1(a,n,l,u,m){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-l)*m|0)|a<<8))|a<<4))|a<<2))|a<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-u)*m|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function L2(a){var n=a,l=a;do(n.x<l.x||n.x===l.x&&n.y<l.y)&&(l=n),n=n.next;while(n!==a);return l}function Op(a,n,l,u,m,w,C,N){return(m-C)*(n-N)>=(a-C)*(w-N)&&(a-C)*(u-N)>=(l-C)*(n-N)&&(l-C)*(w-N)>=(m-C)*(u-N)}function O2(a,n){return a.next.i!==n.i&&a.prev.i!==n.i&&!function(l,u){var m=l;do{if(m.i!==l.i&&m.next.i!==l.i&&m.i!==u.i&&m.next.i!==u.i&&P1(m,m.next,l,u))return!0;m=m.next}while(m!==l);return!1}(a,n)&&(Kf(a,n)&&Kf(n,a)&&function(l,u){var m=l,w=!1,C=(l.x+u.x)/2,N=(l.y+u.y)/2;do m.y>N!=m.next.y>N&&m.next.y!==m.y&&C<(m.next.x-m.x)*(N-m.y)/(m.next.y-m.y)+m.x&&(w=!w),m=m.next;while(m!==l);return w}(a,n)&&(wo(a.prev,a,n.prev)||wo(a,n.prev,n))||Rp(a,n)&&wo(a.prev,a,a.next)>0&&wo(n.prev,n,n.next)>0)}function wo(a,n,l){return(n.y-a.y)*(l.x-n.x)-(n.x-a.x)*(l.y-n.y)}function Rp(a,n){return a.x===n.x&&a.y===n.y}function P1(a,n,l,u){var m=Dm(wo(a,n,l)),w=Dm(wo(a,n,u)),C=Dm(wo(l,u,a)),N=Dm(wo(l,u,n));return m!==w&&C!==N||!(m!==0||!Pm(a,l,n))||!(w!==0||!Pm(a,u,n))||!(C!==0||!Pm(l,a,u))||!(N!==0||!Pm(l,n,u))}function Pm(a,n,l){return n.x<=Math.max(a.x,l.x)&&n.x>=Math.min(a.x,l.x)&&n.y<=Math.max(a.y,l.y)&&n.y>=Math.min(a.y,l.y)}function Dm(a){return a>0?1:a<0?-1:0}function Kf(a,n){return wo(a.prev,a,a.next)<0?wo(a,n,a.next)>=0&&wo(a,a.prev,n)>=0:wo(a,n,a.prev)<0||wo(a,a.next,n)<0}function Q_(a,n){var l=new D1(a.i,a.x,a.y),u=new D1(n.i,n.x,n.y),m=a.next,w=n.prev;return a.next=n,n.prev=a,l.next=m,m.prev=l,u.next=l,l.prev=u,w.next=u,u.prev=w,u}function ev(a,n,l,u){var m=new D1(a,n,l);return u?(m.next=u.next,m.prev=u,u.next.prev=m,u.next=m):(m.prev=m,m.next=m),m}function Jf(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function D1(a,n,l){this.i=a,this.x=n,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I1(a,n,l,u){for(var m=0,w=n,C=l-u;w<l;w+=u)m+=(a[C]-a[w])*(a[w+1]+a[C+1]),C=w;return m}function tv(a,n,l,u,m){iv(a,n,l||0,u||a.length-1,m||R2)}function iv(a,n,l,u,m){for(;u>l;){if(u-l>600){var w=u-l+1,C=n-l+1,N=Math.log(w),ee=.5*Math.exp(2*N/3),re=.5*Math.sqrt(N*ee*(w-ee)/w)*(C-w/2<0?-1:1);iv(a,n,Math.max(l,Math.floor(n-C*ee/w+re)),Math.min(u,Math.floor(n+(w-C)*ee/w+re)),m)}var me=a[n],Te=l,Me=u;for(Xu(a,l,n),m(a[u],me)>0&&Xu(a,l,u);Te<Me;){for(Xu(a,Te,Me),Te++,Me--;m(a[Te],me)<0;)Te++;for(;m(a[Me],me)>0;)Me--}m(a[l],me)===0?Xu(a,l,Me):Xu(a,++Me,u),Me<=n&&(l=Me+1),n<=Me&&(u=Me-1)}}function Xu(a,n,l){var u=a[n];a[n]=a[l],a[l]=u}function R2(a,n){return a<n?-1:a>n?1:0}function L1(a,n){const l=a.length;if(l<=1)return[a];const u=[];let m,w;for(let C=0;C<l;C++){const N=Se(a[C]);N!==0&&(a[C].area=Math.abs(N),w===void 0&&(w=N<0),w===N<0?(m&&u.push(m),m=[a[C]]):m.push(a[C]))}if(m&&u.push(m),n>1)for(let C=0;C<u.length;C++)u[C].length<=n||(tv(u[C],n,1,u[C].length-1,B2),u[C]=u[C].slice(0,n));return u}function B2(a,n){return n.area-a.area}function O1(a,n,l){const u=l.patternDependencies;let m=!1;for(const w of n){const C=w.paint.get(`${a}-pattern`);C.isConstant()||(m=!0);const N=C.constantOr(null);N&&(m=!0,u[N]=!0)}return m}function R1(a,n,l,u,m){const w=m.patternDependencies;for(const C of n){const N=C.paint.get(`${a}-pattern`).value;if(N.kind!=="constant"){let ee=N.evaluate({zoom:u},l,{},m.availableImages);ee=ee&&ee.name?ee.name:ee,w[ee]=!0,l.patterns[C.id]=ee}}return l}Xf.exports=Am,Xf.exports.default=Am,Am.deviation=function(a,n,l,u){var m=n&&n.length,w=Math.abs(I1(a,0,m?n[0]*l:a.length,l));if(m)for(var C=0,N=n.length;C<N;C++)w-=Math.abs(I1(a,n[C]*l,C<N-1?n[C+1]*l:a.length,l));var ee=0;for(C=0;C<u.length;C+=3){var re=u[C]*l,me=u[C+1]*l,Te=u[C+2]*l;ee+=Math.abs((a[re]-a[Te])*(a[me+1]-a[re+1])-(a[re]-a[me])*(a[Te+1]-a[re+1]))}return w===0&&ee===0?0:Math.abs((ee-w)/w)},Am.flatten=function(a){for(var n=a[0][0].length,l={vertices:[],holes:[],dimensions:n},u=0,m=0;m<a.length;m++){for(var w=0;w<a[m].length;w++)for(var C=0;C<n;C++)l.vertices.push(a[m][w][C]);m>0&&l.holes.push(u+=a[m-1].length)}return l};class Im{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(l=>l.id),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Hr,this.indexArray=new la,this.indexArray2=new Dc,this.programConfigurations=new Nd(n.layers,n.zoom),this.segments=new bo,this.segments2=new bo,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.projection=n.projection}populate(n,l,u,m){this.hasPattern=O1("fill",this.layers,l);const w=this.layers[0].layout.get("fill-sort-key"),C=[];for(const{feature:N,id:ee,index:re,sourceLayerIndex:me}of n){const Te=this.layers[0]._featureFilter.needGeometry,Me=Fd(N,Te);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),Me,u))continue;const Oe=w?w.evaluate(Me,{},u,l.availableImages):void 0,ze={id:ee,properties:N.properties,type:N.type,sourceLayerIndex:me,index:re,geometry:Te?Me.geometry:od(N,u,m),patterns:{},sortKey:Oe};C.push(ze)}w&&C.sort((N,ee)=>N.sortKey-ee.sortKey);for(const N of C){const{geometry:ee,index:re,sourceLayerIndex:me}=N;if(this.hasPattern){const Te=R1("fill",this.layers,N,this.zoom,l);this.patternFeatures.push(Te)}else this.addFeature(N,ee,re,u,{},l.availableImages);l.featureIndex.insert(n[re].feature,ee,re,me,this.index)}}update(n,l,u,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,l,this.stateDependentLayers,u,m)}addFeatures(n,l,u,m,w){for(const C of this.patternFeatures)this.addFeature(C,C.geometry,C.index,l,u,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,C2),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,l,u,m,w,C=[]){for(const N of L1(l,500)){let ee=0;for(const ze of N)ee+=ze.length;const re=this.segments.prepareSegment(ee,this.layoutVertexArray,this.indexArray),me=re.vertexLength,Te=[],Me=[];for(const ze of N){if(ze.length===0)continue;ze!==N[0]&&Me.push(Te.length/2);const He=this.segments2.prepareSegment(ze.length,this.layoutVertexArray,this.indexArray2),tt=He.vertexLength;this.layoutVertexArray.emplaceBack(ze[0].x,ze[0].y),this.indexArray2.emplaceBack(tt+ze.length-1,tt),Te.push(ze[0].x),Te.push(ze[0].y);for(let _t=1;_t<ze.length;_t++)this.layoutVertexArray.emplaceBack(ze[_t].x,ze[_t].y),this.indexArray2.emplaceBack(tt+_t-1,tt+_t),Te.push(ze[_t].x),Te.push(ze[_t].y);He.vertexLength+=ze.length,He.primitiveLength+=ze.length}const Oe=Xf.exports(Te,Me);for(let ze=0;ze<Oe.length;ze+=3)this.indexArray.emplaceBack(me+Oe[ze],me+Oe[ze+1],me+Oe[ze+2]);re.vertexLength+=ee,re.primitiveLength+=Oe.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,w,C,m)}}nn(Im,"FillBucket",{omit:["layers","patternFeatures"]});const z2=new Sn({"fill-sort-key":new ni(mi.layout_fill["fill-sort-key"])});var N2={paint:new Sn({"fill-antialias":new Yt(mi.paint_fill["fill-antialias"]),"fill-opacity":new ni(mi.paint_fill["fill-opacity"]),"fill-color":new ni(mi.paint_fill["fill-color"]),"fill-outline-color":new ni(mi.paint_fill["fill-outline-color"]),"fill-translate":new Yt(mi.paint_fill["fill-translate"]),"fill-translate-anchor":new Yt(mi.paint_fill["fill-translate-anchor"]),"fill-pattern":new ni(mi.paint_fill["fill-pattern"])}),layout:z2};const F2=dn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),j2=dn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),U2=dn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:$2}=F2;var Lm={},V2=U,nv=Bp;function Bp(a,n,l,u,m){this.properties={},this.extent=l,this.type=0,this._pbf=a,this._geometry=-1,this._keys=u,this._values=m,a.readFields(rv,this,n)}function rv(a,n,l){a==1?n.id=l.readVarint():a==2?function(u,m){for(var w=u.readVarint()+u.pos;u.pos<w;){var C=m._keys[u.readVarint()],N=m._values[u.readVarint()];m.properties[C]=N}}(l,n):a==3?n.type=l.readVarint():a==4&&(n._geometry=l.pos)}function sv(a){for(var n,l,u=0,m=0,w=a.length,C=w-1;m<w;C=m++)u+=((l=a[C]).x-(n=a[m]).x)*(n.y+l.y);return u}Bp.types=["Unknown","Point","LineString","Polygon"],Bp.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var n,l=a.readVarint()+a.pos,u=1,m=0,w=0,C=0,N=[];a.pos<l;){if(m<=0){var ee=a.readVarint();u=7&ee,m=ee>>3}if(m--,u===1||u===2)w+=a.readSVarint(),C+=a.readSVarint(),u===1&&(n&&N.push(n),n=[]),n.push(new V2(w,C));else{if(u!==7)throw new Error("unknown command "+u);n&&n.push(n[0].clone())}}return n&&N.push(n),N},Bp.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var n=a.readVarint()+a.pos,l=1,u=0,m=0,w=0,C=1/0,N=-1/0,ee=1/0,re=-1/0;a.pos<n;){if(u<=0){var me=a.readVarint();l=7&me,u=me>>3}if(u--,l===1||l===2)(m+=a.readSVarint())<C&&(C=m),m>N&&(N=m),(w+=a.readSVarint())<ee&&(ee=w),w>re&&(re=w);else if(l!==7)throw new Error("unknown command "+l)}return[C,ee,N,re]},Bp.prototype.toGeoJSON=function(a,n,l){var u,m,w=this.extent*Math.pow(2,l),C=this.extent*a,N=this.extent*n,ee=this.loadGeometry(),re=Bp.types[this.type];function me(Oe){for(var ze=0;ze<Oe.length;ze++){var He=Oe[ze];Oe[ze]=[360*(He.x+C)/w-180,360/Math.PI*Math.atan(Math.exp((180-360*(He.y+N)/w)*Math.PI/180))-90]}}switch(this.type){case 1:var Te=[];for(u=0;u<ee.length;u++)Te[u]=ee[u][0];me(ee=Te);break;case 2:for(u=0;u<ee.length;u++)me(ee[u]);break;case 3:for(ee=function(Oe){var ze=Oe.length;if(ze<=1)return[Oe];for(var He,tt,_t=[],At=0;At<ze;At++){var yt=sv(Oe[At]);yt!==0&&(tt===void 0&&(tt=yt<0),tt===yt<0?(He&&_t.push(He),He=[Oe[At]]):He.push(Oe[At]))}return He&&_t.push(He),_t}(ee),u=0;u<ee.length;u++)for(m=0;m<ee[u].length;m++)me(ee[u][m])}ee.length===1?ee=ee[0]:re="Multi"+re;var Me={type:"Feature",geometry:{type:re,coordinates:ee},properties:this.properties};return"id"in this&&(Me.id=this.id),Me};var G2=nv,ov=av;function av(a,n){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(H2,this,n),this.length=this._features.length}function H2(a,n,l){a===15?n.version=l.readVarint():a===1?n.name=l.readString():a===5?n.extent=l.readVarint():a===2?n._features.push(l.pos):a===3?n._keys.push(l.readString()):a===4&&n._values.push(function(u){for(var m=null,w=u.readVarint()+u.pos;u.pos<w;){var C=u.readVarint()>>3;m=C===1?u.readString():C===2?u.readFloat():C===3?u.readDouble():C===4?u.readVarint64():C===5?u.readVarint():C===6?u.readSVarint():C===7?u.readBoolean():null}return m}(l))}av.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var n=this._pbf.readVarint()+this._pbf.pos;return new G2(this._pbf,n,this.extent,this._keys,this._values)};var Om=ov;function W2(a,n,l){if(a===3){var u=new Om(l,l.readVarint()+l.pos);u.length&&(n[u.name]=u)}}var B1=Lm.VectorTile=function(a,n){this.layers=a.readFields(W2,{},n)},Rm=Lm.VectorTileFeature=nv;function Bm(a,n,l,u){const m=[],w=u===0?(C,N,ee,re,me,Te)=>{C.push(new U(Te,ee+(Te-N)/(re-N)*(me-ee)))}:(C,N,ee,re,me,Te)=>{C.push(new U(N+(Te-ee)/(me-ee)*(re-N),Te))};for(const C of a){const N=[];for(const ee of C){if(ee.length<=2)continue;const re=[];for(let Me=0;Me<ee.length-1;Me++){const Oe=ee[Me].x,ze=ee[Me].y,He=ee[Me+1].x,tt=ee[Me+1].y,_t=u===0?Oe:ze,At=u===0?He:tt;_t<n?At>n&&w(re,Oe,ze,He,tt,n):_t>l?At<l&&w(re,Oe,ze,He,tt,l):re.push(ee[Me]),At<n&&_t>=n&&w(re,Oe,ze,He,tt,n),At>l&&_t<=l&&w(re,Oe,ze,He,tt,l)}let me=ee[ee.length-1];const Te=u===0?me.x:me.y;Te>=n&&Te<=l&&re.push(me),re.length&&(me=re[re.length-1],re[0].x===me.x&&re[0].y===me.y||re.push(re[0]),N.push(re))}N.length&&m.push(N)}return m}Lm.VectorTileLayer=ov;const Y2=Rm.types,q2=Math.pow(2,13);function Qf(a,n,l,u,m,w,C,N){a.emplaceBack((n<<1)+C,(l<<1)+w,(Math.floor(u*q2)<<1)+m,Math.round(N))}function e0(a,n,l){a.emplaceBack(n.x,n.y,n.z,l[0]*16384,l[1]*16384,l[2]*16384)}class lv{constructor(){this.acc=new U(0,0),this.polyCount=[]}startRing(n){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new U(n.x,n.y),this.max=new U(n.x,n.y))}append(n,l){this.currentPolyCount.edges++,this.acc._add(n);const u=this.min,m=this.max;n.x<u.x?u.x=n.x:n.x>m.x&&(m.x=n.x),n.y<u.y?u.y=n.y:n.y>m.y&&(m.y=n.y),((n.x===0||n.x===Rn)&&n.x===l.x)!=((n.y===0||n.y===Rn)&&n.y===l.y)&&this.processBorderOverlap(n,l),l.x<0!=n.x<0&&this.addBorderIntersection(0,Jn(l.y,n.y,(0-l.x)/(n.x-l.x))),l.x>Rn!=n.x>Rn&&this.addBorderIntersection(1,Jn(l.y,n.y,(Rn-l.x)/(n.x-l.x))),l.y<0!=n.y<0&&this.addBorderIntersection(2,Jn(l.x,n.x,(0-l.y)/(n.y-l.y))),l.y>Rn!=n.y>Rn&&this.addBorderIntersection(3,Jn(l.x,n.x,(Rn-l.y)/(n.y-l.y)))}addBorderIntersection(n,l){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const u=this.borders[n];l<u[0]&&(u[0]=l),l>u[1]&&(u[1]=l)}processBorderOverlap(n,l){if(n.x===l.x){if(n.y===l.y)return;const u=n.x===0?0:1;this.addBorderIntersection(u,l.y),this.addBorderIntersection(u,n.y)}else{const u=n.y===0?2:3;this.addBorderIntersection(u,l.x),this.addBorderIntersection(u,n.x)}}centroid(){const n=this.polyCount.reduce((l,u)=>l+u.edges,0);return n!==0?this.acc.div(n)._round():new U(0,0)}span(){return new U(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((n,l)=>n+ +(l[0]!==Number.MAX_VALUE),0)}}class t0{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(l=>l.id),this.index=n.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=n.projection,this.layoutVertexArray=new es,this.centroidVertexArray=new _m,this.indexArray=new la,this.programConfigurations=new Nd(n.layers,n.zoom),this.segments=new bo,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.enableTerrain=n.enableTerrain}populate(n,l,u,m){this.features=[],this.hasPattern=O1("fill-extrusion",this.layers,l),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(w){const C=Math.exp(Math.PI*(1-w.y/(1<<w.z)*2));return 80150034*C/(C*C+1)/Rn/(1<<w.z)}(u),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:w,id:C,index:N,sourceLayerIndex:ee}of n){const re=this.layers[0]._featureFilter.needGeometry,me=Fd(w,re);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),me,u))continue;const Te={id:C,sourceLayerIndex:ee,index:N,geometry:re?me.geometry:od(w,u,m),properties:w.properties,type:w.type,patterns:{}},Me=this.layoutVertexArray.length;this.hasPattern?this.features.push(R1("fill-extrusion",this.layers,Te,this.zoom,l)):this.addFeature(Te,Te.geometry,N,u,{},l.availableImages,m),l.featureIndex.insert(w,Te.geometry,N,ee,this.index,Me)}this.sortBorders()}addFeatures(n,l,u,m,w){for(const C of this.features){const{geometry:N}=C;this.addFeature(C,N,C.index,l,u,m,w)}this.sortBorders()}update(n,l,u,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,l,this.stateDependentLayers,u,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,$2),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=n.createVertexBuffer(this.layoutVertexExtArray,U2.members,!0))),this.programConfigurations.upload(n),this.uploaded=!0}uploadCentroid(n){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,j2.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,l,u,m,w,C,N){const ee=[new U(0,0),new U(Rn,Rn)],re=N.projection,me=re.name==="globe",Te=this.enableTerrain&&!me?new lv:null,Me=Y2[n.type]==="Polygon";me&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new gs);const Oe=L1(l,500);for(let _t=Oe.length-1;_t>=0;_t--){const At=Oe[_t];(At.length===0||(ze=At[0]).every(yt=>yt.x<=0)||ze.every(yt=>yt.x>=Rn)||ze.every(yt=>yt.y<=0)||ze.every(yt=>yt.y>=Rn))&&Oe.splice(_t,1)}var ze;let He;if(me)He=j1(Oe,ee,m);else{He=[];for(const _t of Oe)He.push({polygon:_t,bounds:ee})}const tt=Me?this.edgeRadius:0;for(const{polygon:_t,bounds:At}of He){let yt=0,Tt=0;for(const Pt of _t)Me&&!Pt[0].equals(Pt[Pt.length-1])&&Pt.push(Pt[0]),Tt+=Me?Pt.length-1:Pt.length;const It=this.segments.prepareSegment((Me?5:4)*Tt,this.layoutVertexArray,this.indexArray);if(Me){const Pt=[],ti=[];yt=It.vertexLength;for(const vi of _t){let ji,ai;vi.length&&vi!==_t[0]&&ti.push(Pt.length/2),ji=vi[1].sub(vi[0])._perp()._unit();for(let Ti=1;Ti<vi.length;Ti++){const Ci=vi[Ti],Oi=vi[Ti===vi.length-1?1:Ti+1];let{x:Ui,y:ci}=Ci;if(tt){ai=Oi.sub(Ci)._perp()._unit();const en=ji.add(ai)._unit(),Nn=tt*Math.min(4,1/(ji.x*en.x+ji.y*en.y));Ui+=Nn*en.x,ci+=Nn*en.y,ji=ai}Qf(this.layoutVertexArray,Ui,ci,0,0,1,1,0),It.vertexLength++,Pt.push(Ci.x,Ci.y),me&&e0(this.layoutVertexExtArray,re.projectTilePoint(Ui,ci,m),re.upVector(m,Ui,ci))}}const Qt=Xf.exports(Pt,ti);for(let vi=0;vi<Qt.length;vi+=3)this.indexArray.emplaceBack(yt+Qt[vi],yt+Qt[vi+2],yt+Qt[vi+1]),It.primitiveLength++}for(const Pt of _t){Te&&Pt.length&&Te.startRing(Pt[0]);let ti,Qt,vi,ji=Pt.length>4&&N1(Pt[Pt.length-2],Pt[0],Pt[1]),ai=tt?zm(Pt[Pt.length-2],Pt[0],Pt[1],tt):0;Qt=Pt[1].sub(Pt[0])._perp()._unit();let Ti=!0;for(let Ci=1,Oi=0;Ci<Pt.length;Ci++){let Ui=Pt[Ci-1],ci=Pt[Ci];const en=Pt[Ci===Pt.length-1?1:Ci+1];if(Te&&Me&&Te.currentPolyCount.top++,z1(ci,Ui,At)){tt&&(Qt=en.sub(ci)._perp()._unit(),Ti=!Ti);continue}Te&&Te.append(ci,Ui);const Nn=ci.sub(Ui)._perp(),ln=Nn.x/(Math.abs(Nn.x)+Math.abs(Nn.y)),xn=Nn.y>0?1:0,tn=Ui.dist(ci);if(Oi+tn>32768&&(Oi=0),tt){vi=en.sub(ci)._perp()._unit();let vr=dv(Ui,ci,en,cv(Qt,vi),tt);isNaN(vr)&&(vr=0);const Gn=ci.sub(Ui)._unit();Ui=Ui.add(Gn.mult(ai))._round(),ci=ci.add(Gn.mult(-vr))._round(),ai=vr,Qt=vi}const Vn=It.vertexLength,Mr=Pt.length>4&&N1(Ui,ci,en);let wr=Nm(Oi,ji,Ti);if(Qf(this.layoutVertexArray,Ui.x,Ui.y,ln,xn,0,0,wr),Qf(this.layoutVertexArray,Ui.x,Ui.y,ln,xn,0,1,wr),Oi+=tn,wr=Nm(Oi,Mr,!Ti),ji=Mr,Qf(this.layoutVertexArray,ci.x,ci.y,ln,xn,0,0,wr),Qf(this.layoutVertexArray,ci.x,ci.y,ln,xn,0,1,wr),It.vertexLength+=4,this.indexArray.emplaceBack(Vn+0,Vn+1,Vn+2),this.indexArray.emplaceBack(Vn+1,Vn+3,Vn+2),It.primitiveLength+=2,tt){const vr=yt+(Ci===1?Pt.length-2:Ci-2),Gn=Ci===1?yt:vr+1;if(this.indexArray.emplaceBack(Vn+1,vr,Vn+3),this.indexArray.emplaceBack(vr,Gn,Vn+3),It.primitiveLength+=2,ti===void 0&&(ti=Vn),!z1(en,Pt[Ci],At)){const cs=Ci===Pt.length-1?ti:It.vertexLength;this.indexArray.emplaceBack(Vn+2,Vn+3,cs),this.indexArray.emplaceBack(Vn+3,cs+1,cs),this.indexArray.emplaceBack(Vn+3,Gn,cs+1),It.primitiveLength+=3}Ti=!Ti}if(me){const vr=this.layoutVertexExtArray,Gn=re.projectTilePoint(Ui.x,Ui.y,m),cs=re.projectTilePoint(ci.x,ci.y,m),or=re.upVector(m,Ui.x,Ui.y),kr=re.upVector(m,ci.x,ci.y);e0(vr,Gn,or),e0(vr,Gn,or),e0(vr,cs,kr),e0(vr,cs,kr)}}Me&&(yt+=Pt.length-1)}}if(Te&&Te.polyCount.length>0){if(Te.borders){Te.vertexArrayOffset=this.centroidVertexArray.length;const _t=Te.borders,At=this.featuresOnBorder.push(Te)-1;for(let yt=0;yt<4;yt++)_t[yt][0]!==Number.MAX_VALUE&&this.borders[yt].push(At)}this.encodeCentroid(Te.borders?void 0:Te.centroid(),Te)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,w,C,m)}sortBorders(){for(let n=0;n<4;n++)this.borders[n].sort((l,u)=>this.featuresOnBorder[l].borders[n][0]-this.featuresOnBorder[u].borders[n][0])}encodeCentroid(n,l,u=!0){let m,w;if(n)if(n.y!==0){const N=l.span()._mult(this.tileToMeter);m=(Math.max(n.x,1)<<3)+Math.min(7,Math.round(N.x/10)),w=(Math.max(n.y,1)<<3)+Math.min(7,Math.round(N.y/10))}else m=Math.ceil(7*(n.x+450)),w=0;else m=0,w=+u;let C=u?this.centroidVertexArray.length:l.vertexArrayOffset;for(const N of l.polyCount){u&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*N.edges+N.top);for(let ee=0;ee<N.top;ee++)this.centroidVertexArray.emplace(C++,m,w);for(let ee=0;ee<2*N.edges;ee++)this.centroidVertexArray.emplace(C++,0,w),this.centroidVertexArray.emplace(C++,m,w)}}}function cv(a,n){const l=a.add(n)._unit();return a.x*l.x+a.y*l.y}function zm(a,n,l,u){const m=n.sub(a)._perp()._unit(),w=l.sub(n)._perp()._unit();return dv(a,n,l,cv(m,w),u)}function dv(a,n,l,u,m){const w=Math.sqrt(1-u*u);return Math.min(a.dist(n)/3,n.dist(l)/3,m*w/u)}function z1(a,n,l){return a.x<l[0].x&&n.x<l[0].x||a.x>l[1].x&&n.x>l[1].x||a.y<l[0].y&&n.y<l[0].y||a.y>l[1].y&&n.y>l[1].y}function N1(a,n,l){if(a.x<0||a.x>=Rn||n.x<0||n.x>=Rn||l.x<0||l.x>=Rn)return!1;const u=l.sub(n),m=u.perp(),w=a.sub(n);return(u.x*w.x+u.y*w.y)/Math.sqrt((u.x*u.x+u.y*u.y)*(w.x*w.x+w.y*w.y))>-.866&&m.x*w.x+m.y*w.y<0}function Nm(a,n,l){const u=n?2|a:-3&a;return l?1|u:-2&u}function F1(){const a=Math.PI/32,n=Math.tan(a),l=Eh;return l*Math.sqrt(1+2*n*n)-l}function j1(a,n,l){const u=1<<l.z,m=hl(l.x/u),w=hl((l.x+1)/u),C=wa(l.y/u),N=wa((l.y+1)/u);return function(ee,re,me,Te,Me=0,Oe){const ze=[];if(!ee.length||!me||!Te)return ze;const He=(Pt,ti)=>{for(const Qt of Pt)ze.push({polygon:Qt,bounds:ti})},tt=Math.ceil(Math.log2(me)),_t=Math.ceil(Math.log2(Te)),At=tt-_t,yt=[];for(let Pt=0;Pt<Math.abs(At);Pt++)yt.push(At>0?0:1);for(let Pt=0;Pt<Math.min(tt,_t);Pt++)yt.push(0),yt.push(1);let Tt=ee;if(Tt=Bm(Tt,re[0].y-Me,re[1].y+Me,1),Tt=Bm(Tt,re[0].x-Me,re[1].x+Me,0),!Tt.length)return ze;const It=[];for(yt.length?It.push({polygons:Tt,bounds:re,depth:0}):He(Tt,re);It.length;){const Pt=It.pop(),ti=Pt.depth,Qt=yt[ti],vi=Pt.bounds[0],ji=Pt.bounds[1],ai=Qt===0?vi.x:vi.y,Ti=Qt===0?ji.x:ji.y,Ci=Oe?Oe(Qt,ai,Ti):.5*(ai+Ti),Oi=Bm(Pt.polygons,ai-Me,Ci+Me,Qt),Ui=Bm(Pt.polygons,Ci-Me,Ti+Me,Qt);if(Oi.length){const ci=[vi,new U(Qt===0?Ci:ji.x,Qt===1?Ci:ji.y)];yt.length>ti+1?It.push({polygons:Oi,bounds:ci,depth:ti+1}):He(Oi,ci)}if(Ui.length){const ci=[new U(Qt===0?Ci:vi.x,Qt===1?Ci:vi.y),ji];yt.length>ti+1?It.push({polygons:Ui,bounds:ci,depth:ti+1}):He(Ui,ci)}}return ze}(a,n,Math.ceil((w-m)/11.25),Math.ceil((C-N)/11.25),1,(ee,re,me)=>{if(ee===0)return .5*(re+me);{const Te=wa((l.y+re/Rn)/u);return(hc(.5*(wa((l.y+me/Rn)/u)+Te))*u-l.y)*Rn}})}nn(t0,"FillExtrusionBucket",{omit:["layers","features"]}),nn(lv,"PartMetadata");const uv=new Sn({"fill-extrusion-edge-radius":new Yt(mi["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var hv={paint:new Sn({"fill-extrusion-opacity":new Yt(mi["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ni(mi["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yt(mi["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yt(mi["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ni(mi["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ni(mi["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ni(mi["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Yt(mi["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Yt(mi["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Yt(mi["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:uv};function pv(a,n,l){var u=2*Math.PI*6378137/256/Math.pow(2,l);return[a*u-2*Math.PI*6378137/2,n*u-2*Math.PI*6378137/2]}class Fm{constructor(n,l,u){this.z=n,this.x=l,this.y=u,this.key=Zu(0,n,n,l,u)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,l){const u=function(w,C,N){var ee=pv(256*w,256*(C=Math.pow(2,N)-C-1),N),re=pv(256*(w+1),256*(C+1),N);return ee[0]+","+ee[1]+","+re[0]+","+re[1]}(this.x,this.y,this.z),m=function(w,C,N){let ee,re="";for(let me=w;me>0;me--)ee=1<<me-1,re+=(C&ee?1:0)+(N&ee?2:0);return re}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(l==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",m).replace("{bbox-epsg-3857}",u)}toString(){return`${this.z}/${this.x}/${this.y}`}}class fv{constructor(n,l){this.wrap=n,this.canonical=l,this.key=Zu(n,l.z,l.z,l.x,l.y)}}class ca{constructor(n,l,u,m,w){this.overscaledZ=n,this.wrap=l,this.canonical=new Fm(u,+m,+w),this.key=l===0&&n===u?this.canonical.key:Zu(l,n,u,m,w)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){const l=this.canonical.z-n;return n>this.canonical.z?new ca(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ca(n,this.wrap,n,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(n,l=!0){if(this.overscaledZ===n&&l)return this.key;if(n>this.canonical.z)return Zu(this.wrap*+l,n,this.canonical.z,this.canonical.x,this.canonical.y);{const u=this.canonical.z-n;return Zu(this.wrap*+l,n,n,this.canonical.x>>u,this.canonical.y>>u)}}isChildOf(n){if(n.wrap!==this.wrap)return!1;const l=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.x===this.canonical.x>>l&&n.canonical.y===this.canonical.y>>l}children(n){if(this.overscaledZ>=n)return[new ca(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,u=2*this.canonical.x,m=2*this.canonical.y;return[new ca(l,this.wrap,l,u,m),new ca(l,this.wrap,l,u+1,m),new ca(l,this.wrap,l,u,m+1),new ca(l,this.wrap,l,u+1,m+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new ca(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new ca(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new fv(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Zu(a,n,l,u,m){const w=1<<Math.min(l,22);let C=w*(m%w)+u%w;return a&&l<22&&(C+=w*w*((a<0?-2*a-1:2*a)%(1<<2*(22-l)))),16*(32*C+l)+(n-l)}nn(Fm,"CanonicalTileID"),nn(ca,"OverscaledTileID",{omit:["projMatrix"]});class zp extends U{constructor(n,l,u){super(n,l),this.z=u}}function i0(a,n){return a.x*n.x+a.y*n.y}function jm(a,n){if(a.length===1){let l=0;const u=n[l++];let m;for(;!m||u.equals(m);)if(m=n[l++],!m)return 1/0;for(;l<n.length;l++){const w=n[l],C=a[0],N=m.sub(u),ee=w.sub(u),re=C.sub(u),me=i0(N,N),Te=i0(N,ee),Me=i0(ee,ee),Oe=i0(re,N),ze=i0(re,ee),He=me*Me-Te*Te,tt=(Me*Oe-Te*ze)/He,_t=(me*ze-Te*Oe)/He,At=u.z*(1-tt-_t)+m.z*tt+w.z*_t;if(isFinite(At))return At}return 1/0}{let l=1/0;for(const u of n)l=Math.min(l,u.z);return l}}function U1(a,n,l,u,m,w,C,N){const ee=C*m.getElevationAt(a,n,!0,!0),re=w[0]!==0,me=re?w[1]===0?C*(w[0]/7-450):C*function(Te,Me,Oe){const ze=Math.floor(Me[0]/8),He=Math.floor(Me[1]/8),tt=10*(Me[0]-8*ze),_t=10*(Me[1]-8*He),At=Te.getElevationAt(ze,He,!0,!0),yt=Te.getMeterToDEM(Oe),Tt=Math.floor(.5*(tt*yt-1)),It=Math.floor(.5*(_t*yt-1)),Pt=Te.tileCoordToPixel(ze,He),ti=2*Tt+1,Qt=2*It+1,vi=function(Ui,ci,en,Nn,ln){return[Ui.getElevationAtPixel(ci,en,!0),Ui.getElevationAtPixel(ci+ln,en,!0),Ui.getElevationAtPixel(ci,en+ln,!0),Ui.getElevationAtPixel(ci+Nn,en+ln,!0)]}(Te,Pt.x-Tt,Pt.y-It,ti,Qt),ji=Math.abs(vi[0]-vi[1]),ai=Math.abs(vi[2]-vi[3]),Ti=Math.abs(vi[0]-vi[2])+Math.abs(vi[1]-vi[3]),Ci=Math.min(.25,.5*yt*(ji+ai)/ti),Oi=Math.min(.25,.5*yt*Ti/Qt);return At+Math.max(Ci*tt,Oi*_t)}(m,w,N):ee;return{base:ee+(l===0)?-1:l,top:re?Math.max(me+u,ee+l+2):ee+u}}const X2=dn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Z2}=X2,K2=dn([{name:"a_packed",components:4,type:"Float32"}]),{members:J2}=K2,Q2=Rm.types,ew=Math.cos(Math.PI/180*37.5);class Um{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(l=>l.id),this.index=n.index,this.projection=n.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new qa,this.layoutVertexArray2=new Pa,this.indexArray=new la,this.programConfigurations=new Nd(n.layers,n.zoom),this.segments=new bo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(n,l,u,m){this.hasPattern=O1("line",this.layers,l);const w=this.layers[0].layout.get("line-sort-key"),C=[];for(const{feature:me,id:Te,index:Me,sourceLayerIndex:Oe}of n){const ze=this.layers[0]._featureFilter.needGeometry,He=Fd(me,ze);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),He,u))continue;const tt=w?w.evaluate(He,{},u):void 0,_t={id:Te,properties:me.properties,type:me.type,sourceLayerIndex:Oe,index:Me,geometry:ze?He.geometry:od(me,u,m),patterns:{},sortKey:tt};C.push(_t)}w&&C.sort((me,Te)=>me.sortKey-Te.sortKey);const{lineAtlas:N,featureIndex:ee}=l,re=this.addConstantDashes(N);for(const me of C){const{geometry:Te,index:Me,sourceLayerIndex:Oe}=me;if(re&&this.addFeatureDashes(me,N),this.hasPattern){const ze=R1("line",this.layers,me,this.zoom,l);this.patternFeatures.push(ze)}else this.addFeature(me,Te,Me,u,N.positions,l.availableImages);ee.insert(n[Me].feature,Te,Me,Oe,this.index)}}addConstantDashes(n){let l=!1;for(const u of this.layers){const m=u.paint.get("line-dasharray").value,w=u.layout.get("line-cap").value;if(m.kind!=="constant"||w.kind!=="constant")l=!0;else{const C=w.value,N=m.value;if(!N)continue;n.addDash(N,C)}}return l}addFeatureDashes(n,l){const u=this.zoom;for(const m of this.layers){const w=m.paint.get("line-dasharray").value,C=m.layout.get("line-cap").value;if(w.kind==="constant"&&C.kind==="constant")continue;let N,ee;if(w.kind==="constant"){if(N=w.value,!N)continue}else N=w.evaluate({zoom:u},n);ee=C.kind==="constant"?C.value:C.evaluate({zoom:u},n),l.addDash(N,ee),n.patterns[m.id]=l.getKey(N,ee)}}update(n,l,u,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,l,this.stateDependentLayers,u,m)}addFeatures(n,l,u,m,w){for(const C of this.patternFeatures)this.addFeature(C,C.geometry,C.index,l,u,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,J2)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Z2),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,l,u,m,w,C){const N=this.layers[0].layout,ee=N.get("line-join").evaluate(n,{}),re=N.get("line-cap").evaluate(n,{}),me=N.get("line-miter-limit"),Te=N.get("line-round-limit");this.lineClips=this.lineFeatureClips(n);for(const Me of l)this.addLine(Me,n,ee,re,me,Te);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,w,C,m)}addLine(n,l,u,m,w,C){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let _t=0;_t<n.length-1;_t++)this.totalDistance+=n[_t].dist(n[_t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const N=Q2[l.type]==="Polygon";let ee=n.length;for(;ee>=2&&n[ee-1].equals(n[ee-2]);)ee--;let re=0;for(;re<ee-1&&n[re].equals(n[re+1]);)re++;if(ee<(N?3:2))return;u==="bevel"&&(w=1.05);const me=this.overscaling<=16?122880/(512*this.overscaling):0,Te=this.segments.prepareSegment(10*ee,this.layoutVertexArray,this.indexArray);let Me,Oe,ze,He,tt;this.e1=this.e2=-1,N&&(Me=n[ee-2],tt=n[re].sub(Me)._unit()._perp());for(let _t=re;_t<ee;_t++){if(ze=_t===ee-1?N?n[re+1]:void 0:n[_t+1],ze&&n[_t].equals(ze))continue;tt&&(He=tt),Me&&(Oe=Me),Me=n[_t],tt=ze?ze.sub(Me)._unit()._perp():He,He=He||tt;let At=He.add(tt);At.x===0&&At.y===0||At._unit();const yt=He.x*tt.x+He.y*tt.y,Tt=At.x*tt.x+At.y*tt.y,It=Tt!==0?1/Tt:1/0,Pt=2*Math.sqrt(2-2*Tt),ti=Tt<ew&&Oe&&ze,Qt=He.x*tt.y-He.y*tt.x>0;if(ti&&_t>re){const ai=Me.dist(Oe);if(ai>2*me){const Ti=Me.sub(Me.sub(Oe)._mult(me/ai)._round());this.updateDistance(Oe,Ti),this.addCurrentVertex(Ti,He,0,0,Te),Oe=Ti}}const vi=Oe&&ze;let ji=vi?u:N?"butt":m;if(vi&&ji==="round"&&(It<C?ji="miter":It<=2&&(ji="fakeround")),ji==="miter"&&It>w&&(ji="bevel"),ji==="bevel"&&(It>2&&(ji="flipbevel"),It<w&&(ji="miter")),Oe&&this.updateDistance(Oe,Me),ji==="miter")At._mult(It),this.addCurrentVertex(Me,At,0,0,Te);else if(ji==="flipbevel"){if(It>100)At=tt.mult(-1);else{const ai=It*He.add(tt).mag()/He.sub(tt).mag();At._perp()._mult(ai*(Qt?-1:1))}this.addCurrentVertex(Me,At,0,0,Te),this.addCurrentVertex(Me,At.mult(-1),0,0,Te)}else if(ji==="bevel"||ji==="fakeround"){const ai=-Math.sqrt(It*It-1),Ti=Qt?ai:0,Ci=Qt?0:ai;if(Oe&&this.addCurrentVertex(Me,He,Ti,Ci,Te),ji==="fakeround"){const Oi=Math.round(180*Pt/Math.PI/20);for(let Ui=1;Ui<Oi;Ui++){let ci=Ui/Oi;if(ci!==.5){const Nn=ci-.5;ci+=ci*Nn*(ci-1)*((1.0904+yt*(yt*(3.55645-1.43519*yt)-3.2452))*Nn*Nn+(.848013+yt*(.215638*yt-1.06021)))}const en=tt.sub(He)._mult(ci)._add(He)._unit()._mult(Qt?-1:1);this.addHalfVertex(Me,en.x,en.y,!1,Qt,0,Te)}}ze&&this.addCurrentVertex(Me,tt,-Ti,-Ci,Te)}else if(ji==="butt")this.addCurrentVertex(Me,At,0,0,Te);else if(ji==="square"){const ai=Oe?1:-1;Oe||this.addCurrentVertex(Me,At,ai,ai,Te),this.addCurrentVertex(Me,At,0,0,Te),Oe&&this.addCurrentVertex(Me,At,ai,ai,Te)}else ji==="round"&&(Oe&&(this.addCurrentVertex(Me,He,0,0,Te),this.addCurrentVertex(Me,He,1,1,Te,!0)),ze&&(this.addCurrentVertex(Me,tt,-1,-1,Te,!0),this.addCurrentVertex(Me,tt,0,0,Te)));if(ti&&_t<ee-1){const ai=Me.dist(ze);if(ai>2*me){const Ti=Me.add(ze.sub(Me)._mult(me/ai)._round());this.updateDistance(Me,Ti),this.addCurrentVertex(Ti,tt,0,0,Te),Me=Ti}}}}addCurrentVertex(n,l,u,m,w,C=!1){const N=l.y*m-l.x,ee=-l.y-l.x*m;this.addHalfVertex(n,l.x+l.y*u,l.y-l.x*u,C,!1,u,w),this.addHalfVertex(n,N,ee,C,!0,-m,w)}addHalfVertex({x:n,y:l},u,m,w,C,N,ee){this.layoutVertexArray.emplaceBack((n<<1)+(w?1:0),(l<<1)+(C?1:0),Math.round(63*u)+128,Math.round(63*m)+128,1+(N===0?0:N<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const re=ee.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,re),ee.primitiveLength++),C?this.e2=re:this.e1=re}updateScaledDistance(){if(this.lineClips){const n=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=n*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(n,l){this.distance+=n.dist(l),this.updateScaledDistance()}}nn(Um,"LineBucket",{omit:["layers","patternFeatures"]});const tw=new Sn({"line-cap":new ni(mi.layout_line["line-cap"]),"line-join":new ni(mi.layout_line["line-join"]),"line-miter-limit":new Yt(mi.layout_line["line-miter-limit"]),"line-round-limit":new Yt(mi.layout_line["line-round-limit"]),"line-sort-key":new ni(mi.layout_line["line-sort-key"])});var mv={paint:new Sn({"line-opacity":new ni(mi.paint_line["line-opacity"]),"line-color":new ni(mi.paint_line["line-color"]),"line-translate":new Yt(mi.paint_line["line-translate"]),"line-translate-anchor":new Yt(mi.paint_line["line-translate-anchor"]),"line-width":new ni(mi.paint_line["line-width"]),"line-gap-width":new ni(mi.paint_line["line-gap-width"]),"line-offset":new ni(mi.paint_line["line-offset"]),"line-blur":new ni(mi.paint_line["line-blur"]),"line-dasharray":new ni(mi.paint_line["line-dasharray"]),"line-pattern":new ni(mi.paint_line["line-pattern"]),"line-gradient":new mn(mi.paint_line["line-gradient"]),"line-trim-offset":new Yt(mi.paint_line["line-trim-offset"])}),layout:tw};const gv=new class extends ni{possiblyEvaluate(a,n){return n=new Gt(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,transition:n.transition}),super.possiblyEvaluate(a,n)}evaluate(a,n,l,u){return n=J({},n,{zoom:Math.floor(n.zoom)}),super.evaluate(a,n,l,u)}}(mv.paint.properties["line-width"].specification);function yv(a,n){return n>0?n+2*a:a}gv.useIntegerZoom=!0;const iw=dn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),cd=dn([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),nw=dn([{name:"a_projected_pos",components:4,type:"Float32"}],4);dn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const rw=dn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Rh=dn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);dn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const _r=dn([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),sw=dn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);dn([{name:"triangle",components:3,type:"Uint16"}]),dn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),dn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),dn([{type:"Float32",name:"offsetX"}]),dn([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var _s=24;const Cs=128;function $1(a,n){const{expression:l}=n;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new Gt(a+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:u,interpolationType:m}=l;let w=0;for(;w<u.length&&u[w]<=a;)w++;w=Math.max(0,w-1);let C=w;for(;C<u.length&&u[C]<a+1;)C++;C=Math.min(u.length-1,C);const N=u[w],ee=u[C];return l.kind==="composite"?{kind:"composite",minZoom:N,maxZoom:ee,interpolationType:m}:{kind:"camera",minZoom:N,maxZoom:ee,minSize:l.evaluate(new Gt(N)),maxSize:l.evaluate(new Gt(ee)),interpolationType:m}}}function dd(a,{uSize:n,uSizeT:l},{lowerSize:u,upperSize:m}){return a.kind==="source"?u/Cs:a.kind==="composite"?Jn(u/Cs,m/Cs,l):n}function Np(a,n){let l=0,u=0;if(a.kind==="constant")u=a.layoutSize;else if(a.kind!=="source"){const{interpolationType:m,minZoom:w,maxZoom:C}=a,N=m?g(ka.interpolationFactor(m,n,w,C),0,1):0;a.kind==="camera"?u=Jn(a.minSize,a.maxSize,N):l=N}return{uSizeT:l,uSize:u}}var ow=Object.freeze({__proto__:null,getSizeData:$1,evaluateSizeForFeature:dd,evaluateSizeForZoom:Np,SIZE_PACK_FACTOR:Cs});function aw(a,n,l){return a.sections.forEach(u=>{u.text=function(m,w,C){const N=w.layout.get("text-transform").evaluate(C,{});return N==="uppercase"?m=m.toLocaleUpperCase():N==="lowercase"&&(m=m.toLocaleLowerCase()),Jt.applyArabicShaping&&(m=Jt.applyArabicShaping(m)),m}(u.text,n,l)}),a}const n0={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function lw(a){return a==="︶"||a==="﹈"||a==="︸"||a==="﹄"||a==="﹂"||a==="︾"||a==="︼"||a==="︺"||a==="︘"||a==="﹀"||a==="︐"||a==="︓"||a==="︔"||a==="｀"||a==="￣"||a==="︑"||a==="︒"}function V1(a){return a==="︵"||a==="﹇"||a==="︷"||a==="﹃"||a==="﹁"||a==="︽"||a==="︻"||a==="︹"||a==="︗"||a==="︿"}var r0=ns,$d=function(a,n,l,u,m){var w,C,N=8*m-u-1,ee=(1<<N)-1,re=ee>>1,me=-7,Te=l?m-1:0,Me=l?-1:1,Oe=a[n+Te];for(Te+=Me,w=Oe&(1<<-me)-1,Oe>>=-me,me+=N;me>0;w=256*w+a[n+Te],Te+=Me,me-=8);for(C=w&(1<<-me)-1,w>>=-me,me+=u;me>0;C=256*C+a[n+Te],Te+=Me,me-=8);if(w===0)w=1-re;else{if(w===ee)return C?NaN:1/0*(Oe?-1:1);C+=Math.pow(2,u),w-=re}return(Oe?-1:1)*C*Math.pow(2,w-u)},G1=function(a,n,l,u,m,w){var C,N,ee,re=8*w-m-1,me=(1<<re)-1,Te=me>>1,Me=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,Oe=u?0:w-1,ze=u?1:-1,He=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(N=isNaN(n)?1:0,C=me):(C=Math.floor(Math.log(n)/Math.LN2),n*(ee=Math.pow(2,-C))<1&&(C--,ee*=2),(n+=C+Te>=1?Me/ee:Me*Math.pow(2,1-Te))*ee>=2&&(C++,ee/=2),C+Te>=me?(N=0,C=me):C+Te>=1?(N=(n*ee-1)*Math.pow(2,m),C+=Te):(N=n*Math.pow(2,Te-1)*Math.pow(2,m),C=0));m>=8;a[l+Oe]=255&N,Oe+=ze,N/=256,m-=8);for(C=C<<m|N,re+=m;re>0;a[l+Oe]=255&C,Oe+=ze,C/=256,re-=8);a[l+Oe-ze]|=128*He};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function ns(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}ns.Varint=0,ns.Fixed64=1,ns.Bytes=2,ns.Fixed32=5;var ao=4294967296,To=1/ao,H1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function vu(a){return a.type===ns.Bytes?a.readVarint()+a.pos:a.pos+1}function Fp(a,n,l){return l?4294967296*n+(a>>>0):4294967296*(n>>>0)+(a>>>0)}function _v(a,n,l){var u=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(7*Math.LN2));l.realloc(u);for(var m=l.pos-1;m>=a;m--)l.buf[m+u]=l.buf[m]}function cw(a,n){for(var l=0;l<a.length;l++)n.writeVarint(a[l])}function dw(a,n){for(var l=0;l<a.length;l++)n.writeSVarint(a[l])}function uw(a,n){for(var l=0;l<a.length;l++)n.writeFloat(a[l])}function vv(a,n){for(var l=0;l<a.length;l++)n.writeDouble(a[l])}function s0(a,n){for(var l=0;l<a.length;l++)n.writeBoolean(a[l])}function W1(a,n){for(var l=0;l<a.length;l++)n.writeFixed32(a[l])}function hw(a,n){for(var l=0;l<a.length;l++)n.writeSFixed32(a[l])}function xv(a,n){for(var l=0;l<a.length;l++)n.writeFixed64(a[l])}function $m(a,n){for(var l=0;l<a.length;l++)n.writeSFixed64(a[l])}function el(a,n){return(a[n]|a[n+1]<<8|a[n+2]<<16)+16777216*a[n+3]}function ud(a,n,l){a[l]=n,a[l+1]=n>>>8,a[l+2]=n>>>16,a[l+3]=n>>>24}function bv(a,n){return(a[n]|a[n+1]<<8|a[n+2]<<16)+(a[n+3]<<24)}function pw(a,n,l){n.glyphs=[],a===1&&l.readMessage(fw,n)}function fw(a,n,l){if(a===3){const{id:u,bitmap:m,width:w,height:C,left:N,top:ee,advance:re}=l.readMessage(mw,{});n.glyphs.push({id:u,bitmap:new _u({width:w+6,height:C+6},m),metrics:{width:w,height:C,left:N,top:ee,advance:re}})}else a===4?n.ascender=l.readSVarint():a===5&&(n.descender=l.readSVarint())}function mw(a,n,l){a===1?n.id=l.readVarint():a===2?n.bitmap=l.readBytes():a===3?n.width=l.readVarint():a===4?n.height=l.readVarint():a===5?n.left=l.readSVarint():a===6?n.top=l.readSVarint():a===7&&(n.advance=l.readVarint())}function Y1(a){let n=0,l=0;for(const C of a)n+=C.w*C.h,l=Math.max(l,C.w);a.sort((C,N)=>N.h-C.h);const u=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),l),h:1/0}];let m=0,w=0;for(const C of a)for(let N=u.length-1;N>=0;N--){const ee=u[N];if(!(C.w>ee.w||C.h>ee.h)){if(C.x=ee.x,C.y=ee.y,w=Math.max(w,C.y+C.h),m=Math.max(m,C.x+C.w),C.w===ee.w&&C.h===ee.h){const re=u.pop();N<u.length&&(u[N]=re)}else C.h===ee.h?(ee.x+=C.w,ee.w-=C.w):C.w===ee.w?(ee.y+=C.h,ee.h-=C.h):(u.push({x:ee.x+C.w,y:ee.y,w:ee.w-C.w,h:C.h}),ee.y+=C.h,ee.h-=C.h);break}}return{w:m,h:w,fill:n/(m*w)||0}}ns.prototype={destroy:function(){this.buf=null},readFields:function(a,n,l){for(l=l||this.length;this.pos<l;){var u=this.readVarint(),m=u>>3,w=this.pos;this.type=7&u,a(m,n,this),this.pos===w&&this.skip(u)}return n},readMessage:function(a,n){return this.readFields(a,n,this.readVarint()+this.pos)},readFixed32:function(){var a=el(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=bv(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=el(this.buf,this.pos)+el(this.buf,this.pos+4)*ao;return this.pos+=8,a},readSFixed64:function(){var a=el(this.buf,this.pos)+bv(this.buf,this.pos+4)*ao;return this.pos+=8,a},readFloat:function(){var a=$d(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=$d(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var n,l,u=this.buf;return n=127&(l=u[this.pos++]),l<128?n:(n|=(127&(l=u[this.pos++]))<<7,l<128?n:(n|=(127&(l=u[this.pos++]))<<14,l<128?n:(n|=(127&(l=u[this.pos++]))<<21,l<128?n:function(m,w,C){var N,ee,re=C.buf;if(N=(112&(ee=re[C.pos++]))>>4,ee<128||(N|=(127&(ee=re[C.pos++]))<<3,ee<128)||(N|=(127&(ee=re[C.pos++]))<<10,ee<128)||(N|=(127&(ee=re[C.pos++]))<<17,ee<128)||(N|=(127&(ee=re[C.pos++]))<<24,ee<128)||(N|=(1&(ee=re[C.pos++]))<<31,ee<128))return Fp(m,N,w);throw new Error("Expected varint not more than 10 bytes")}(n|=(15&(l=u[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var a=this.readVarint()+this.pos,n=this.pos;return this.pos=a,a-n>=12&&H1?function(l,u,m){return H1.decode(l.subarray(u,m))}(this.buf,n,a):function(l,u,m){for(var w="",C=u;C<m;){var N,ee,re,me=l[C],Te=null,Me=me>239?4:me>223?3:me>191?2:1;if(C+Me>m)break;Me===1?me<128&&(Te=me):Me===2?(192&(N=l[C+1]))==128&&(Te=(31&me)<<6|63&N)<=127&&(Te=null):Me===3?(ee=l[C+2],(192&(N=l[C+1]))==128&&(192&ee)==128&&((Te=(15&me)<<12|(63&N)<<6|63&ee)<=2047||Te>=55296&&Te<=57343)&&(Te=null)):Me===4&&(ee=l[C+2],re=l[C+3],(192&(N=l[C+1]))==128&&(192&ee)==128&&(192&re)==128&&((Te=(15&me)<<18|(63&N)<<12|(63&ee)<<6|63&re)<=65535||Te>=1114112)&&(Te=null)),Te===null?(Te=65533,Me=1):Te>65535&&(Te-=65536,w+=String.fromCharCode(Te>>>10&1023|55296),Te=56320|1023&Te),w+=String.fromCharCode(Te),C+=Me}return w}(this.buf,n,a)},readBytes:function(){var a=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,a);return this.pos=a,n},readPackedVarint:function(a,n){if(this.type!==ns.Bytes)return a.push(this.readVarint(n));var l=vu(this);for(a=a||[];this.pos<l;)a.push(this.readVarint(n));return a},readPackedSVarint:function(a){if(this.type!==ns.Bytes)return a.push(this.readSVarint());var n=vu(this);for(a=a||[];this.pos<n;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==ns.Bytes)return a.push(this.readBoolean());var n=vu(this);for(a=a||[];this.pos<n;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==ns.Bytes)return a.push(this.readFloat());var n=vu(this);for(a=a||[];this.pos<n;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==ns.Bytes)return a.push(this.readDouble());var n=vu(this);for(a=a||[];this.pos<n;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==ns.Bytes)return a.push(this.readFixed32());var n=vu(this);for(a=a||[];this.pos<n;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==ns.Bytes)return a.push(this.readSFixed32());var n=vu(this);for(a=a||[];this.pos<n;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==ns.Bytes)return a.push(this.readFixed64());var n=vu(this);for(a=a||[];this.pos<n;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==ns.Bytes)return a.push(this.readSFixed64());var n=vu(this);for(a=a||[];this.pos<n;)a.push(this.readSFixed64());return a},skip:function(a){var n=7&a;if(n===ns.Varint)for(;this.buf[this.pos++]>127;);else if(n===ns.Bytes)this.pos=this.readVarint()+this.pos;else if(n===ns.Fixed32)this.pos+=4;else{if(n!==ns.Fixed64)throw new Error("Unimplemented type: "+n);this.pos+=8}},writeTag:function(a,n){this.writeVarint(a<<3|n)},realloc:function(a){for(var n=this.length||16;n<this.pos+a;)n*=2;if(n!==this.length){var l=new Uint8Array(n);l.set(this.buf),this.buf=l,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),ud(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),ud(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),ud(this.buf,-1&a,this.pos),ud(this.buf,Math.floor(a*To),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),ud(this.buf,-1&a,this.pos),ud(this.buf,Math.floor(a*To),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(n,l){var u,m;if(n>=0?(u=n%4294967296|0,m=n/4294967296|0):(m=~(-n/4294967296),4294967295^(u=~(-n%4294967296))?u=u+1|0:(u=0,m=m+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(w,C,N){N.buf[N.pos++]=127&w|128,w>>>=7,N.buf[N.pos++]=127&w|128,w>>>=7,N.buf[N.pos++]=127&w|128,w>>>=7,N.buf[N.pos++]=127&w|128,N.buf[N.pos]=127&(w>>>=7)}(u,0,l),function(w,C){var N=(7&w)<<4;C.buf[C.pos++]|=N|((w>>>=3)?128:0),w&&(C.buf[C.pos++]=127&w|((w>>>=7)?128:0),w&&(C.buf[C.pos++]=127&w|((w>>>=7)?128:0),w&&(C.buf[C.pos++]=127&w|((w>>>=7)?128:0),w&&(C.buf[C.pos++]=127&w|((w>>>=7)?128:0),w&&(C.buf[C.pos++]=127&w)))))}(m,l)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(!!a)},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var n=this.pos;this.pos=function(u,m,w){for(var C,N,ee=0;ee<m.length;ee++){if((C=m.charCodeAt(ee))>55295&&C<57344){if(!N){C>56319||ee+1===m.length?(u[w++]=239,u[w++]=191,u[w++]=189):N=C;continue}if(C<56320){u[w++]=239,u[w++]=191,u[w++]=189,N=C;continue}C=N-55296<<10|C-56320|65536,N=null}else N&&(u[w++]=239,u[w++]=191,u[w++]=189,N=null);C<128?u[w++]=C:(C<2048?u[w++]=C>>6|192:(C<65536?u[w++]=C>>12|224:(u[w++]=C>>18|240,u[w++]=C>>12&63|128),u[w++]=C>>6&63|128),u[w++]=63&C|128)}return w}(this.buf,a,this.pos);var l=this.pos-n;l>=128&&_v(n,l,this),this.pos=n-1,this.writeVarint(l),this.pos+=l},writeFloat:function(a){this.realloc(4),G1(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),G1(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var n=a.length;this.writeVarint(n),this.realloc(n);for(var l=0;l<n;l++)this.buf[this.pos++]=a[l]},writeRawMessage:function(a,n){this.pos++;var l=this.pos;a(n,this);var u=this.pos-l;u>=128&&_v(l,u,this),this.pos=l-1,this.writeVarint(u),this.pos+=u},writeMessage:function(a,n,l){this.writeTag(a,ns.Bytes),this.writeRawMessage(n,l)},writePackedVarint:function(a,n){n.length&&this.writeMessage(a,cw,n)},writePackedSVarint:function(a,n){n.length&&this.writeMessage(a,dw,n)},writePackedBoolean:function(a,n){n.length&&this.writeMessage(a,s0,n)},writePackedFloat:function(a,n){n.length&&this.writeMessage(a,uw,n)},writePackedDouble:function(a,n){n.length&&this.writeMessage(a,vv,n)},writePackedFixed32:function(a,n){n.length&&this.writeMessage(a,W1,n)},writePackedSFixed32:function(a,n){n.length&&this.writeMessage(a,hw,n)},writePackedFixed64:function(a,n){n.length&&this.writeMessage(a,xv,n)},writePackedSFixed64:function(a,n){n.length&&this.writeMessage(a,$m,n)},writeBytesField:function(a,n){this.writeTag(a,ns.Bytes),this.writeBytes(n)},writeFixed32Field:function(a,n){this.writeTag(a,ns.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(a,n){this.writeTag(a,ns.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(a,n){this.writeTag(a,ns.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(a,n){this.writeTag(a,ns.Fixed64),this.writeSFixed64(n)},writeVarintField:function(a,n){this.writeTag(a,ns.Varint),this.writeVarint(n)},writeSVarintField:function(a,n){this.writeTag(a,ns.Varint),this.writeSVarint(n)},writeStringField:function(a,n){this.writeTag(a,ns.Bytes),this.writeString(n)},writeFloatField:function(a,n){this.writeTag(a,ns.Fixed32),this.writeFloat(n)},writeDoubleField:function(a,n){this.writeTag(a,ns.Fixed64),this.writeDouble(n)},writeBooleanField:function(a,n){this.writeVarintField(a,!!n)}};class Vm{constructor(n,{pixelRatio:l,version:u,stretchX:m,stretchY:w,content:C}){this.paddedRect=n,this.pixelRatio=l,this.stretchX=m,this.stretchY=w,this.content=C,this.version=u}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Vd{constructor(n,l){const u={},m={};this.haveRenderCallbacks=[];const w=[];this.addImages(n,u,w),this.addImages(l,m,w);const{w:C,h:N}=Y1(w),ee=new Dl({width:C||1,height:N||1});for(const re in n){const me=n[re],Te=u[re].paddedRect;Dl.copy(me.data,ee,{x:0,y:0},{x:Te.x+1,y:Te.y+1},me.data)}for(const re in l){const me=l[re],Te=m[re].paddedRect,Me=Te.x+1,Oe=Te.y+1,ze=me.data.width,He=me.data.height;Dl.copy(me.data,ee,{x:0,y:0},{x:Me,y:Oe},me.data),Dl.copy(me.data,ee,{x:0,y:He-1},{x:Me,y:Oe-1},{width:ze,height:1}),Dl.copy(me.data,ee,{x:0,y:0},{x:Me,y:Oe+He},{width:ze,height:1}),Dl.copy(me.data,ee,{x:ze-1,y:0},{x:Me-1,y:Oe},{width:1,height:He}),Dl.copy(me.data,ee,{x:0,y:0},{x:Me+ze,y:Oe},{width:1,height:He})}this.image=ee,this.iconPositions=u,this.patternPositions=m}addImages(n,l,u){for(const m in n){const w=n[m],C={x:0,y:0,w:w.data.width+2,h:w.data.height+2};u.push(C),l[m]=new Vm(C,w),w.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(n,l){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(u=>n.hasImage(u)),n.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const u in n.updatedImages)this.patchUpdatedImage(this.iconPositions[u],n.getImage(u),l),this.patchUpdatedImage(this.patternPositions[u],n.getImage(u),l)}patchUpdatedImage(n,l,u){if(!n||!l||n.version===l.version)return;n.version=l.version;const[m,w]=n.tl;u.update(l.data,void 0,{x:m,y:w})}}nn(Vm,"ImagePosition"),nn(Vd,"ImageAtlas");const tr={horizontal:1,vertical:2,horizontalOnly:3};class jp{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(n,l){const u=new jp;return u.scale=n||1,u.fontStack=l,u}static forImage(n){const l=new jp;return l.imageName=n,l}}class Da{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,l){const u=new Da;for(let m=0;m<n.sections.length;m++){const w=n.sections[m];w.image?u.addImageSection(w):u.addTextSection(w,l)}return u}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSections(){return this.sections}getSectionIndex(n){return this.sectionIndex[n]}getCharCode(n){return this.text.charCodeAt(n)}verticalizePunctuation(n){this.text=function(l,u){let m="";for(let w=0;w<l.length;w++){const C=l.charCodeAt(w+1)||null,N=l.charCodeAt(w-1)||null;m+=!u&&(C&&Ae(C)&&!n0[l[w+1]]||N&&Ae(N)&&!n0[l[w-1]])||!n0[l[w]]?l[w]:n0[l[w]]}return m}(this.text,n)}trim(){let n=0;for(let u=0;u<this.text.length&&Hm[this.text.charCodeAt(u)];u++)n++;let l=this.text.length;for(let u=this.text.length-1;u>=0&&u>=n&&Hm[this.text.charCodeAt(u)];u--)l--;this.text=this.text.substring(n,l),this.sectionIndex=this.sectionIndex.slice(n,l)}substring(n,l){const u=new Da;return u.text=this.text.substring(n,l),u.sectionIndex=this.sectionIndex.slice(n,l),u.sections=this.sections,u}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,l)=>Math.max(n,this.sections[l].scale),0)}addTextSection(n,l){this.text+=n.text,this.sections.push(jp.forText(n.scale,n.fontStack||l));const u=this.sections.length-1;for(let m=0;m<n.text.length;++m)this.sectionIndex.push(u)}addImageSection(n){const l=n.image?n.image.name:"";if(l.length===0)return void oe("Can't add FormattedSection with an empty image.");const u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(jp.forImage(l)),this.sectionIndex.push(this.sections.length-1)):oe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Gm(a,n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe,ze){const He=Da.fromFeature(a,m);Te===tr.vertical&&He.verticalizePunctuation(Me);let tt=[];const _t=function(Pt,ti,Qt,vi,ji,ai){if(!Pt)return[];const Ti=[],Ci=function(en,Nn,ln,xn,tn,Vn){let Mr=0;for(let wr=0;wr<en.length();wr++){const vr=en.getSection(wr);Mr+=wv(en.getCharCode(wr),vr,xn,tn,Nn,Vn)}return Mr/Math.max(1,Math.ceil(Mr/ln))}(Pt,ti,Qt,vi,ji,ai),Oi=Pt.text.indexOf("​")>=0;let Ui=0;for(let en=0;en<Pt.length();en++){const Nn=Pt.getSection(en),ln=Pt.getCharCode(en);if(Hm[ln]||(Ui+=wv(ln,Nn,vi,ji,ti,ai)),en<Pt.length()-1){const xn=!((ci=ln)<11904||!(dl(ci)||dm(ci)||p(ci)||hu(ci)||fm(ci)||Bf(ci)||um(ci)||Gu(ci)||mm(ci)||Tp(ci)||pm(ci)||W(ci)||lc(ci)||Nf(ci)||zf(ci)||hm(ci)||wp(ci)||c(ci)||gm(ci)||Ff(ci)));(Es[ln]||xn||Nn.imageName)&&Ti.push(Tv(en+1,Ui,Ci,Ti,Wm(ln,Pt.getCharCode(en+1),xn&&Oi),!1))}}var ci;return Sv(Tv(Pt.length(),Ui,Ci,Ti,0,!0))}(He,re,w,n,u,Oe),{processBidirectionalText:At,processStyledBidirectionalText:yt}=Jt;if(At&&He.sections.length===1){const Pt=At(He.toString(),_t);for(const ti of Pt){const Qt=new Da;Qt.text=ti,Qt.sections=He.sections;for(let vi=0;vi<ti.length;vi++)Qt.sectionIndex.push(0);tt.push(Qt)}}else if(yt){const Pt=yt(He.text,He.sectionIndex,_t);for(const ti of Pt){const Qt=new Da;Qt.text=ti[0],Qt.sectionIndex=ti[1],Qt.sections=He.sections,tt.push(Qt)}}else tt=function(Pt,ti){const Qt=[],vi=Pt.text;let ji=0;for(const ai of ti)Qt.push(Pt.substring(ji,ai)),ji=ai;return ji<vi.length&&Qt.push(Pt.substring(ji,vi.length)),Qt}(He,_t);const Tt=[],It={positionedLines:Tt,text:He.toString(),top:me[1],bottom:me[1],left:me[0],right:me[0],writingMode:Te,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Pt,ti,Qt,vi,ji,ai,Ti,Ci,Oi,Ui,ci,en){let Nn=0,ln=0,xn=0;const tn=Ci==="right"?1:Ci==="left"?0:.5;let Vn=!1;for(const or of ji){const kr=or.getSections();for(const vs of kr){if(vs.imageName)continue;const Bs=ti[vs.fontStack];if(Bs&&(Vn=Bs.ascender!==void 0&&Bs.descender!==void 0,!Vn))break}if(!Vn)break}let Mr=0;for(const or of ji){or.trim();const kr=or.getMaxScale(),vs=(kr-1)*_s,Bs={positionedGlyphs:[],lineOffset:0};Pt.positionedLines[Mr]=Bs;const Ds=Bs.positionedGlyphs;let zs=0;if(!or.length()){ln+=ai,++Mr;continue}let Us=0,Co=0;for(let ds=0;ds<or.length();ds++){const Zo=or.getSection(ds),jo=or.getSectionIndex(ds),Xr=or.getCharCode(ds);let lo=Zo.scale,da=null,xs=null,Lo=null,fl=_s,La=0;const Oa=!(Oi===tr.horizontal||!ci&&!De(Xr)||ci&&(Hm[Xr]||(wr=Xr,Of(wr)||Ac(wr)||Rf(wr)||_(wr)||B(wr))));if(Zo.imageName){const Ol=vi[Zo.imageName];if(!Ol)continue;Lo=Zo.imageName,Pt.iconsInText=Pt.iconsInText||!0,xs=Ol.paddedRect;const Ra=Ol.displaySize;lo=lo*_s/en,da={width:Ra[0],height:Ra[1],left:1,top:-3,advance:Oa?Ra[1]:Ra[0],localGlyph:!1},La=Vn?-da.height*lo:kr*_s-17-Ra[1]*lo,fl=da.advance;const Uh=(Oa?Ra[0]:Ra[1])*lo-_s*kr;Uh>0&&Uh>zs&&(zs=Uh)}else{const Ol=Qt[Zo.fontStack];if(!Ol)continue;Ol[Xr]&&(xs=Ol[Xr]);const Ra=ti[Zo.fontStack];if(!Ra)continue;const Uh=Ra.glyphs[Xr];if(!Uh)continue;if(da=Uh.metrics,fl=Xr!==8203?_s:0,Vn){const ag=Ra.ascender!==void 0?Math.abs(Ra.ascender):0,vy=Ra.descender!==void 0?Math.abs(Ra.descender):0,xy=(ag+vy)*lo;Us<xy&&(Us=xy,Co=(ag-vy)/2*lo),La=-ag*lo}else La=(kr-lo)*_s-17}Oa?(Pt.verticalizable=!0,Ds.push({glyph:Xr,imageName:Lo,x:Nn,y:ln+La,vertical:Oa,scale:lo,localGlyph:da.localGlyph,fontStack:Zo.fontStack,sectionIndex:jo,metrics:da,rect:xs}),Nn+=fl*lo+Ui):(Ds.push({glyph:Xr,imageName:Lo,x:Nn,y:ln+La,vertical:Oa,scale:lo,localGlyph:da.localGlyph,fontStack:Zo.fontStack,sectionIndex:jo,metrics:da,rect:xs}),Nn+=da.advance*lo+Ui)}Ds.length!==0&&(xn=Math.max(Nn-Ui,xn),Vn?Cv(Ds,tn,zs,Co,ai*kr/2):Cv(Ds,tn,zs,0,ai/2)),Nn=0;const Ia=ai*kr+zs;Bs.lineOffset=Math.max(zs,vs),ln+=Ia,++Mr}var wr;const vr=ln,{horizontalAlign:Gn,verticalAlign:cs}=X1(Ti);(function(or,kr,vs,Bs,Ds,zs){const Us=(kr-vs)*Ds,Co=-zs*Bs;for(const Ia of or)for(const ds of Ia.positionedGlyphs)ds.x+=Us,ds.y+=Co})(Pt.positionedLines,tn,Gn,cs,xn,vr),Pt.top+=-cs*vr,Pt.bottom=Pt.top+vr,Pt.left+=-Gn*xn,Pt.right=Pt.left+xn,Pt.hasBaseline=Vn}(It,n,l,u,tt,C,N,ee,Te,re,Me,ze),!function(Pt){for(const ti of Pt)if(ti.positionedGlyphs.length!==0)return!1;return!0}(Tt)&&It}const Hm={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Es={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function wv(a,n,l,u,m,w){if(n.imageName){const C=u[n.imageName];return C?C.displaySize[0]*n.scale*_s/w+m:0}{const C=l[n.fontStack],N=C&&C.glyphs[a];return N?N.metrics.advance*n.scale+m:0}}function q1(a,n,l,u){const m=Math.pow(a-n,2);return u?a<n?m/2:2*m:m+Math.abs(l)*l}function Wm(a,n,l){let u=0;return a===10&&(u-=1e4),l&&(u+=150),a!==40&&a!==65288||(u+=50),n!==41&&n!==65289||(u+=50),u}function Tv(a,n,l,u,m,w){let C=null,N=q1(n,l,m,w);for(const ee of u){const re=q1(n-ee.x,l,m,w)+ee.badness;re<=N&&(C=ee,N=re)}return{index:a,x:n,priorBreak:C,badness:N}}function Sv(a){return a?Sv(a.priorBreak).concat(a.index):[]}function X1(a){let n=.5,l=.5;switch(a){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:n,verticalAlign:l}}function Cv(a,n,l,u,m){if(!(n||l||u||m))return;const w=a.length-1,C=a[w],N=(C.x+C.metrics.advance*C.scale)*n;for(let ee=0;ee<=w;ee++)a[ee].x-=N,a[ee].y+=l+u+m}function gw(a,n,l){const{horizontalAlign:u,verticalAlign:m}=X1(l),w=n[0]-a.displaySize[0]*u,C=n[1]-a.displaySize[1]*m;return{image:a,top:C,bottom:C+a.displaySize[1],left:w,right:w+a.displaySize[0]}}function Ev(a,n,l,u,m,w){const C=a.image;let N;if(C.content){const tt=C.content,_t=C.pixelRatio||1;N=[tt[0]/_t,tt[1]/_t,C.displaySize[0]-tt[2]/_t,C.displaySize[1]-tt[3]/_t]}const ee=n.left*w,re=n.right*w;let me,Te,Me,Oe;l==="width"||l==="both"?(Oe=m[0]+ee-u[3],Te=m[0]+re+u[1]):(Oe=m[0]+(ee+re-C.displaySize[0])/2,Te=Oe+C.displaySize[0]);const ze=n.top*w,He=n.bottom*w;return l==="height"||l==="both"?(me=m[1]+ze-u[0],Me=m[1]+He+u[2]):(me=m[1]+(ze+He-C.displaySize[1])/2,Me=me+C.displaySize[1]),{image:C,top:me,right:Te,bottom:Me,left:Oe,collisionPadding:N}}class xu extends U{constructor(n,l,u,m,w){super(n,l),this.angle=m,this.z=u,w!==void 0&&(this.segment=w)}clone(){return new xu(this.x,this.y,this.z,this.angle,this.segment)}}function Mv(a,n,l,u,m){if(n.segment===void 0)return!0;let w=n,C=n.segment+1,N=0;for(;N>-l/2;){if(C--,C<0)return!1;N-=a[C].dist(w),w=a[C]}N+=a[C].dist(a[C+1]),C++;const ee=[];let re=0;for(;N<l/2;){const me=a[C],Te=a[C+1];if(!Te)return!1;let Me=a[C-1].angleTo(me)-me.angleTo(Te);for(Me=Math.abs((Me+3*Math.PI)%(2*Math.PI)-Math.PI),ee.push({distance:N,angleDelta:Me}),re+=Me;N-ee[0].distance>u;)re-=ee.shift().angleDelta;if(re>m)return!1;C++,N+=me.dist(Te)}return!0}function kv(a){let n=0;for(let l=0;l<a.length-1;l++)n+=a[l].dist(a[l+1]);return n}function Av(a,n,l){return a?.6*n*l:0}function Pv(a,n){return Math.max(a?a.right-a.left:0,n?n.right-n.left:0)}function yw(a,n,l,u,m,w){const C=Av(l,m,w),N=Pv(l,u)*w;let ee=0;const re=kv(a)/2;for(let me=0;me<a.length-1;me++){const Te=a[me],Me=a[me+1],Oe=Te.dist(Me);if(ee+Oe>re){const ze=(re-ee)/Oe,He=Jn(Te.x,Me.x,ze),tt=Jn(Te.y,Me.y,ze),_t=new xu(He,tt,0,Me.angleTo(Te),me);return!C||Mv(a,_t,N,C,n)?_t:void 0}ee+=Oe}}function _w(a,n,l,u,m,w,C,N,ee){const re=Av(u,w,C),me=Pv(u,m),Te=me*C,Me=a[0].x===0||a[0].x===ee||a[0].y===0||a[0].y===ee;return n-Te<n/4&&(n=Te+n/4),Ym(a,Me?n/2*N%n:(me/2+2*w)*C*N%n,n,re,l,Te,Me,!1,ee)}function Ym(a,n,l,u,m,w,C,N,ee){const re=w/2,me=kv(a);let Te=0,Me=n-l,Oe=[];for(let ze=0;ze<a.length-1;ze++){const He=a[ze],tt=a[ze+1],_t=He.dist(tt),At=tt.angleTo(He);for(;Me+l<Te+_t;){Me+=l;const yt=(Me-Te)/_t,Tt=Jn(He.x,tt.x,yt),It=Jn(He.y,tt.y,yt);if(Tt>=0&&Tt<ee&&It>=0&&It<ee&&Me-re>=0&&Me+re<=me){const Pt=new xu(Tt,It,0,At,ze);Pt._round(),u&&!Mv(a,Pt,w,u,m)||Oe.push(Pt)}}Te+=_t}return N||Oe.length||C||(Oe=Ym(a,Te/2,l,u,m,w,C,!0,ee)),Oe}function Dv(a,n,l,u,m){const w=[];for(let C=0;C<a.length;C++){const N=a[C];let ee;for(let re=0;re<N.length-1;re++){let me=N[re],Te=N[re+1];me.x<n&&Te.x<n||(me.x<n?me=new U(n,me.y+(n-me.x)/(Te.x-me.x)*(Te.y-me.y))._round():Te.x<n&&(Te=new U(n,me.y+(n-me.x)/(Te.x-me.x)*(Te.y-me.y))._round()),me.y<l&&Te.y<l||(me.y<l?me=new U(me.x+(l-me.y)/(Te.y-me.y)*(Te.x-me.x),l)._round():Te.y<l&&(Te=new U(me.x+(l-me.y)/(Te.y-me.y)*(Te.x-me.x),l)._round()),me.x>=u&&Te.x>=u||(me.x>=u?me=new U(u,me.y+(u-me.x)/(Te.x-me.x)*(Te.y-me.y))._round():Te.x>=u&&(Te=new U(u,me.y+(u-me.x)/(Te.x-me.x)*(Te.y-me.y))._round()),me.y>=m&&Te.y>=m||(me.y>=m?me=new U(me.x+(m-me.y)/(Te.y-me.y)*(Te.x-me.x),m)._round():Te.y>=m&&(Te=new U(me.x+(m-me.y)/(Te.y-me.y)*(Te.x-me.x),m)._round()),ee&&me.equals(ee[ee.length-1])||(ee=[me],w.push(ee)),ee.push(Te)))))}}return w}nn(xu,"Anchor");const Bh=1e20;function Iv(a,n,l,u,m,w,C,N,ee){for(let re=n;re<n+u;re++)Lv(a,l*w+re,w,m,C,N,ee);for(let re=l;re<l+m;re++)Lv(a,re*w+n,1,u,C,N,ee)}function Lv(a,n,l,u,m,w,C){w[0]=0,C[0]=-Bh,C[1]=Bh,m[0]=a[n];for(let N=1,ee=0,re=0;N<u;N++){m[N]=a[n+N*l];const me=N*N;do{const Te=w[ee];re=(m[N]-m[Te]+me-Te*Te)/(N-Te)/2}while(re<=C[ee]&&--ee>-1);ee++,w[ee]=N,C[ee]=re,C[ee+1]=Bh}for(let N=0,ee=0;N<u;N++){for(;C[ee+1]<N;)ee++;const re=w[ee],me=N-re;a[n+N*l]=m[re]+me*me}}const Z1={none:0,ideographs:1,all:2};class So{constructor(n,l,u){this.requestManager=n,this.localGlyphMode=l,this.localFontFamily=u,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(n){this.url=n}getGlyphs(n,l){const u=[];for(const m in n)for(const w of n[m])u.push({stack:m,id:w});X(u,({stack:m,id:w},C)=>{let N=this.entries[m];N||(N=this.entries[m]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let ee=N.glyphs[w];if(ee!==void 0)return void C(null,{stack:m,id:w,glyph:ee});if(ee=this._tinySDF(N,m,w),ee)return N.glyphs[w]=ee,void C(null,{stack:m,id:w,glyph:ee});const re=Math.floor(w/256);if(256*re>65535)return void C(new Error("glyphs > 65535 not supported"));if(N.ranges[re])return void C(null,{stack:m,id:w,glyph:ee});let me=N.requests[re];me||(me=N.requests[re]=[],So.loadGlyphRange(m,re,this.url,this.requestManager,(Te,Me)=>{if(Me){N.ascender=Me.ascender,N.descender=Me.descender;for(const Oe in Me.glyphs)this._doesCharSupportLocalGlyph(+Oe)||(N.glyphs[+Oe]=Me.glyphs[+Oe]);N.ranges[re]=!0}for(const Oe of me)Oe(Te,Me);delete N.requests[re]})),me.push((Te,Me)=>{Te?C(Te):Me&&C(null,{stack:m,id:w,glyph:Me.glyphs[w]||null})})},(m,w)=>{if(m)l(m);else if(w){const C={};for(const{stack:N,id:ee,glyph:re}of w)C[N]===void 0&&(C[N]={}),C[N].glyphs===void 0&&(C[N].glyphs={}),C[N].glyphs[ee]=re&&{id:re.id,bitmap:re.bitmap.clone(),metrics:re.metrics},C[N].ascender=this.entries[N].ascender,C[N].descender=this.entries[N].descender;l(null,C)}})}_doesCharSupportLocalGlyph(n){return this.localGlyphMode!==Z1.none&&(this.localGlyphMode===Z1.all?!!this.localFontFamily:!!this.localFontFamily&&(Tp(n)||jf(n)||lc(n)||wp(n)||Gu(n)))}_tinySDF(n,l,u){const m=this.localFontFamily;if(!m||!this._doesCharSupportLocalGlyph(u))return;let w=n.tinySDF;if(!w){let He="400";/bold/i.test(l)?He="900":/medium/i.test(l)?He="500":/light/i.test(l)&&(He="200"),w=n.tinySDF=new So.TinySDF({fontFamily:m,fontWeight:He,fontSize:48,buffer:6,radius:16}),w.fontWeight=He}if(this.localGlyphs[w.fontWeight][u])return this.localGlyphs[w.fontWeight][u];const C=String.fromCharCode(u),{data:N,width:ee,height:re,glyphWidth:me,glyphHeight:Te,glyphLeft:Me,glyphTop:Oe,glyphAdvance:ze}=w.draw(C);return this.localGlyphs[w.fontWeight][u]={id:u,bitmap:new _u({width:ee,height:re},N),metrics:{width:me/2,height:Te/2,left:Me/2,top:Oe/2-27,advance:ze/2,localGlyph:!0}}}}function pl(a,n,l,u){const m=[],w=a.image,C=w.pixelRatio,N=w.paddedRect.w-2,ee=w.paddedRect.h-2,re=a.right-a.left,me=a.bottom-a.top,Te=w.stretchX||[[0,N]],Me=w.stretchY||[[0,ee]],Oe=(ai,Ti)=>ai+Ti[1]-Ti[0],ze=Te.reduce(Oe,0),He=Me.reduce(Oe,0),tt=N-ze,_t=ee-He;let At=0,yt=ze,Tt=0,It=He,Pt=0,ti=tt,Qt=0,vi=_t;if(w.content&&u){const ai=w.content;At=qm(Te,0,ai[0]),Tt=qm(Me,0,ai[1]),yt=qm(Te,ai[0],ai[2]),It=qm(Me,ai[1],ai[3]),Pt=ai[0]-At,Qt=ai[1]-Tt,ti=ai[2]-ai[0]-yt,vi=ai[3]-ai[1]-It}const ji=(ai,Ti,Ci,Oi)=>{const Ui=Xm(ai.stretch-At,yt,re,a.left),ci=o0(ai.fixed-Pt,ti,ai.stretch,ze),en=Xm(Ti.stretch-Tt,It,me,a.top),Nn=o0(Ti.fixed-Qt,vi,Ti.stretch,He),ln=Xm(Ci.stretch-At,yt,re,a.left),xn=o0(Ci.fixed-Pt,ti,Ci.stretch,ze),tn=Xm(Oi.stretch-Tt,It,me,a.top),Vn=o0(Oi.fixed-Qt,vi,Oi.stretch,He),Mr=new U(Ui,en),wr=new U(ln,en),vr=new U(ln,tn),Gn=new U(Ui,tn),cs=new U(ci/C,Nn/C),or=new U(xn/C,Vn/C),kr=n*Math.PI/180;if(kr){const Ds=Math.sin(kr),zs=Math.cos(kr),Us=[zs,-Ds,Ds,zs];Mr._matMult(Us),wr._matMult(Us),Gn._matMult(Us),vr._matMult(Us)}const vs=ai.stretch+ai.fixed,Bs=Ti.stretch+Ti.fixed;return{tl:Mr,tr:wr,bl:Gn,br:vr,tex:{x:w.paddedRect.x+1+vs,y:w.paddedRect.y+1+Bs,w:Ci.stretch+Ci.fixed-vs,h:Oi.stretch+Oi.fixed-Bs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:cs,pixelOffsetBR:or,minFontScaleX:ti/C/re,minFontScaleY:vi/C/me,isSDF:l}};if(u&&(w.stretchX||w.stretchY)){const ai=Ov(Te,tt,ze),Ti=Ov(Me,_t,He);for(let Ci=0;Ci<ai.length-1;Ci++){const Oi=ai[Ci],Ui=ai[Ci+1];for(let ci=0;ci<Ti.length-1;ci++)m.push(ji(Oi,Ti[ci],Ui,Ti[ci+1]))}}else m.push(ji({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:N+1},{fixed:0,stretch:ee+1}));return m}function qm(a,n,l){let u=0;for(const m of a)u+=Math.max(n,Math.min(l,m[1]))-Math.max(n,Math.min(l,m[0]));return u}function Ov(a,n,l){const u=[{fixed:-1,stretch:0}];for(const[m,w]of a){const C=u[u.length-1];u.push({fixed:m-C.stretch,stretch:C.stretch}),u.push({fixed:m-C.stretch,stretch:C.stretch+(w-m)})}return u.push({fixed:n+1,stretch:l}),u}function Xm(a,n,l,u){return a/n*l+u}function o0(a,n,l,u){return a-n*l/u}function vw(a,n,l,u){const m=n+a.positionedLines[u].lineOffset;return u===0?l+m/2:l+(m+(n+a.positionedLines[u-1].lineOffset))/2}So.loadGlyphRange=function(a,n,l,u,m){const w=256*n,C=w+255,N=u.transformRequest(u.normalizeGlyphsURL(l).replace("{fontstack}",a).replace("{range}",`${w}-${C}`),Wt.Glyphs);Lt(N,(ee,re)=>{if(ee)m(ee);else if(re){const me={},Te=function(Me){return new r0(Me).readFields(pw,{})}(re);for(const Me of Te.glyphs)me[Me.id]=Me;m(null,{glyphs:me,ascender:Te.ascender,descender:Te.descender})}})},So.TinySDF=class{constructor({fontSize:a=24,buffer:n=3,radius:l=8,cutoff:u=.25,fontFamily:m="sans-serif",fontWeight:w="normal",fontStyle:C="normal"}={}){this.buffer=n,this.cutoff=u,this.radius=l;const N=this.size=a+4*n,ee=this._createCanvas(N),re=this.ctx=ee.getContext("2d",{willReadFrequently:!0});re.font=`${C} ${w} ${a}px ${m}`,re.textBaseline="alphabetic",re.textAlign="left",re.fillStyle="black",this.gridOuter=new Float64Array(N*N),this.gridInner=new Float64Array(N*N),this.f=new Float64Array(N),this.z=new Float64Array(N+1),this.v=new Uint16Array(N)}_createCanvas(a){const n=document.createElement("canvas");return n.width=n.height=a,n}draw(a){const{width:n,actualBoundingBoxAscent:l,actualBoundingBoxDescent:u,actualBoundingBoxLeft:m,actualBoundingBoxRight:w}=this.ctx.measureText(a),C=Math.ceil(l),N=Math.min(this.size-this.buffer,Math.ceil(w-m)),ee=Math.min(this.size-this.buffer,C+Math.ceil(u)),re=N+2*this.buffer,me=ee+2*this.buffer,Te=Math.max(re*me,0),Me=new Uint8ClampedArray(Te),Oe={data:Me,width:re,height:me,glyphWidth:N,glyphHeight:ee,glyphTop:C,glyphLeft:0,glyphAdvance:n};if(N===0||ee===0)return Oe;const{ctx:ze,buffer:He,gridInner:tt,gridOuter:_t}=this;ze.clearRect(He,He,N,ee),ze.fillText(a,He,He+C);const At=ze.getImageData(He,He,N,ee);_t.fill(Bh,0,Te),tt.fill(0,0,Te);for(let yt=0;yt<ee;yt++)for(let Tt=0;Tt<N;Tt++){const It=At.data[4*(yt*N+Tt)+3]/255;if(It===0)continue;const Pt=(yt+He)*re+Tt+He;if(It===1)_t[Pt]=0,tt[Pt]=Bh;else{const ti=.5-It;_t[Pt]=ti>0?ti*ti:0,tt[Pt]=ti<0?ti*ti:0}}Iv(_t,0,0,re,me,re,this.f,this.v,this.z),Iv(tt,He,He,N,ee,re,this.f,this.v,this.z);for(let yt=0;yt<Te;yt++){const Tt=Math.sqrt(_t[yt])-Math.sqrt(tt[yt]);Me[yt]=Math.round(255-255*(Tt/this.radius+this.cutoff))}return Oe}};class xw{constructor(n=[],l=bw){if(this.data=n,this.length=this.data.length,this.compare=l,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:l,compare:u}=this,m=l[n];for(;n>0;){const w=n-1>>1,C=l[w];if(u(m,C)>=0)break;l[n]=C,n=w}l[n]=m}_down(n){const{data:l,compare:u}=this,m=this.length>>1,w=l[n];for(;n<m;){let C=1+(n<<1),N=l[C];const ee=C+1;if(ee<this.length&&u(l[ee],N)<0&&(C=ee,N=l[ee]),u(N,w)>=0)break;l[n]=N,n=C}l[n]=w}}function bw(a,n){return a<n?-1:a>n?1:0}function Rv(a,n=1,l=!1){let u=1/0,m=1/0,w=-1/0,C=-1/0;const N=a[0];for(let Oe=0;Oe<N.length;Oe++){const ze=N[Oe];(!Oe||ze.x<u)&&(u=ze.x),(!Oe||ze.y<m)&&(m=ze.y),(!Oe||ze.x>w)&&(w=ze.x),(!Oe||ze.y>C)&&(C=ze.y)}const ee=Math.min(w-u,C-m);let re=ee/2;const me=new xw([],ww);if(ee===0)return new U(u,m);for(let Oe=u;Oe<w;Oe+=ee)for(let ze=m;ze<C;ze+=ee)me.push(new Up(Oe+re,ze+re,re,a));let Te=function(Oe){let ze=0,He=0,tt=0;const _t=Oe[0];for(let At=0,yt=_t.length,Tt=yt-1;At<yt;Tt=At++){const It=_t[At],Pt=_t[Tt],ti=It.x*Pt.y-Pt.x*It.y;He+=(It.x+Pt.x)*ti,tt+=(It.y+Pt.y)*ti,ze+=3*ti}return new Up(He/ze,tt/ze,0,Oe)}(a),Me=me.length;for(;me.length;){const Oe=me.pop();(Oe.d>Te.d||!Te.d)&&(Te=Oe,l&&console.log("found best %d after %d probes",Math.round(1e4*Oe.d)/1e4,Me)),Oe.max-Te.d<=n||(re=Oe.h/2,me.push(new Up(Oe.p.x-re,Oe.p.y-re,re,a)),me.push(new Up(Oe.p.x+re,Oe.p.y-re,re,a)),me.push(new Up(Oe.p.x-re,Oe.p.y+re,re,a)),me.push(new Up(Oe.p.x+re,Oe.p.y+re,re,a)),Me+=4)}return l&&(console.log(`num probes: ${Me}`),console.log(`best distance: ${Te.d}`)),Te.p}function ww(a,n){return n.max-a.max}function Up(a,n,l,u){this.p=new U(a,n),this.h=l,this.d=function(m,w){let C=!1,N=1/0;for(let ee=0;ee<w.length;ee++){const re=w[ee];for(let me=0,Te=re.length,Me=Te-1;me<Te;Me=me++){const Oe=re[me],ze=re[Me];Oe.y>m.y!=ze.y>m.y&&m.x<(ze.x-Oe.x)*(m.y-Oe.y)/(ze.y-Oe.y)+Oe.x&&(C=!C),N=Math.min(N,j_(m,Oe,ze))}}return(C?1:-1)*Math.sqrt(N)}(this.p,u),this.max=this.d+this.h*Math.SQRT2}const K1=Number.POSITIVE_INFINITY,Bv=Math.sqrt(2);function J1(a,[n,l]){let u=0,m=0;if(l===K1){n<0&&(n=0);const w=n/Bv;switch(a){case"top-right":case"top-left":m=w-7;break;case"bottom-right":case"bottom-left":m=7-w;break;case"bottom":m=7-n;break;case"top":m=n-7}switch(a){case"top-right":case"bottom-right":u=-w;break;case"top-left":case"bottom-left":u=w;break;case"left":u=n;break;case"right":u=-n}}else{switch(n=Math.abs(n),l=Math.abs(l),a){case"top-right":case"top-left":case"top":m=l-7;break;case"bottom-right":case"bottom-left":case"bottom":m=7-l}switch(a){case"top-right":case"bottom-right":case"right":u=-n;break;case"top-left":case"bottom-left":case"left":u=n}}return[u,m]}function Tw(a,n,l,u,m,w,C,N,ee,re){a.createArrays(),a.tilePixelRatio=Rn/(512*a.overscaling),a.compareText={},a.iconsNeedLinear=!1;const me=a.layers[0].layout,Te=a.layers[0]._unevaluatedLayout._values,Me={};if(a.textSizeData.kind==="composite"){const{minZoom:He,maxZoom:tt}=a.textSizeData;Me.compositeTextSizes=[Te["text-size"].possiblyEvaluate(new Gt(He),N),Te["text-size"].possiblyEvaluate(new Gt(tt),N)]}if(a.iconSizeData.kind==="composite"){const{minZoom:He,maxZoom:tt}=a.iconSizeData;Me.compositeIconSizes=[Te["icon-size"].possiblyEvaluate(new Gt(He),N),Te["icon-size"].possiblyEvaluate(new Gt(tt),N)]}Me.layoutTextSize=Te["text-size"].possiblyEvaluate(new Gt(ee+1),N),Me.layoutIconSize=Te["icon-size"].possiblyEvaluate(new Gt(ee+1),N),Me.textMaxSize=Te["text-size"].possiblyEvaluate(new Gt(18),N);const Oe=me.get("text-rotation-alignment")==="map"&&me.get("symbol-placement")!=="point",ze=me.get("text-size");for(const He of a.features){const tt=me.get("text-font").evaluate(He,{},N).join(","),_t=ze.evaluate(He,{},N),At=Me.layoutTextSize.evaluate(He,{},N),yt=(Me.layoutIconSize.evaluate(He,{},N),{horizontal:{},vertical:void 0}),Tt=He.text;let It,Pt=[0,0];if(Tt){const vi=Tt.toString(),ji=me.get("text-letter-spacing").evaluate(He,{},N)*_s,ai=me.get("text-line-height").evaluate(He,{},N)*_s,Ti=he(vi)?ji:0,Ci=me.get("text-anchor").evaluate(He,{},N),Oi=me.get("text-variable-anchor");if(!Oi){const ln=me.get("text-radial-offset").evaluate(He,{},N);Pt=ln?J1(Ci,[ln*_s,K1]):me.get("text-offset").evaluate(He,{},N).map(xn=>xn*_s)}let Ui=Oe?"center":me.get("text-justify").evaluate(He,{},N);const ci=me.get("symbol-placement")==="point",en=ci?me.get("text-max-width").evaluate(He,{},N)*_s:1/0,Nn=ln=>{a.allowVerticalPlacement&&ae(vi)&&(yt.vertical=Gm(Tt,n,l,m,tt,en,ai,Ci,ln,Ti,Pt,tr.vertical,!0,At,_t))};if(!Oe&&Oi){const ln=Ui==="auto"?Oi.map(tn=>Q1(tn)):[Ui];let xn=!1;for(let tn=0;tn<ln.length;tn++){const Vn=ln[tn];if(!yt.horizontal[Vn])if(xn)yt.horizontal[Vn]=yt.horizontal[0];else{const Mr=Gm(Tt,n,l,m,tt,en,ai,"center",Vn,Ti,Pt,tr.horizontal,!1,At,_t);Mr&&(yt.horizontal[Vn]=Mr,xn=Mr.positionedLines.length===1)}}Nn("left")}else{if(Ui==="auto"&&(Ui=Q1(Ci)),ci||me.get("text-writing-mode").indexOf("horizontal")>=0||!ae(vi)){const ln=Gm(Tt,n,l,m,tt,en,ai,Ci,Ui,Ti,Pt,tr.horizontal,!1,At,_t);ln&&(yt.horizontal[Ui]=ln)}Nn(ci?"left":Ui)}}let ti=!1;if(He.icon&&He.icon.name){const vi=u[He.icon.name];vi&&(It=gw(m[He.icon.name],me.get("icon-offset").evaluate(He,{},N),me.get("icon-anchor").evaluate(He,{},N)),ti=vi.sdf,a.sdfIcons===void 0?a.sdfIcons=vi.sdf:a.sdfIcons!==vi.sdf&&oe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(vi.pixelRatio!==a.pixelRatio||me.get("icon-rotate").constantOr(1)!==0)&&(a.iconsNeedLinear=!0))}const Qt=zv(yt.horizontal)||yt.vertical;a.iconsInText||(a.iconsInText=!!Qt&&Qt.iconsInText),(Qt||It)&&Sw(a,He,yt,It,u,Me,At,0,Pt,ti,C,N,re)}w&&a.generateCollisionDebugBuffers(ee,a.collisionBoxArray)}function Q1(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Sw(a,n,l,u,m,w,C,N,ee,re,me,Te,Me){let Oe=w.textMaxSize.evaluate(n,{},Te);Oe===void 0&&(Oe=C);const ze=a.layers[0].layout,He=ze.get("icon-offset").evaluate(n,{},Te),tt=zv(l.horizontal)||l.vertical,_t=Me.name==="globe",At=C/24,yt=a.tilePixelRatio*Oe/24,Tt=(Ti=a.overscaling,a.zoom>18&&Ti>2&&(Ti>>=1),Math.max(Rn/(512*Ti),1)*ze.get("symbol-spacing")),It=ze.get("text-padding")*a.tilePixelRatio,Pt=ze.get("icon-padding")*a.tilePixelRatio,ti=$(ze.get("text-max-angle")),Qt=ze.get("text-rotation-alignment")==="map"&&ze.get("symbol-placement")!=="point",vi=ze.get("icon-rotation-alignment")==="map"&&ze.get("symbol-placement")!=="point",ji=ze.get("symbol-placement"),ai=Tt/2;var Ti;const Ci=ze.get("icon-text-fit");let Oi;u&&Ci!=="none"&&(a.allowVerticalPlacement&&l.vertical&&(Oi=Ev(u,l.vertical,Ci,ze.get("icon-text-fit-padding"),He,At)),tt&&(u=Ev(u,tt,Ci,ze.get("icon-text-fit-padding"),He,At)));const Ui=(ci,en,Nn)=>{if(en.x<0||en.x>=Rn||en.y<0||en.y>=Rn)return;let ln=null;if(_t){const{x:xn,y:tn,z:Vn}=Me.projectTilePoint(en.x,en.y,Nn);ln={anchor:new xu(xn,tn,Vn,0,void 0),up:Me.upVector(Nn,en.x,en.y)}}(function(xn,tn,Vn,Mr,wr,vr,Gn,cs,or,kr,vs,Bs,Ds,zs,Us,Co,Ia,ds,Zo,jo,Xr,lo,da,xs,Lo){const fl=xn.addToLineVertexArray(tn,Mr);let La,Oa,Ol,Ra,Uh,ag,vy,xy=0,KC=0,JC=0,QC=0,Zw=-1,Kw=-1;const eh={};let e5=Sh.exports("");const _0=Vn?Vn.anchor:tn;let Jw=0,Qw=0;if(or._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Jw,Qw]=or.layout.get("text-offset").evaluate(Xr,{},Lo).map(zc=>zc*_s):(Jw=or.layout.get("text-radial-offset").evaluate(Xr,{},Lo)*_s,Qw=K1),xn.allowVerticalPlacement&&wr.vertical){const zc=wr.vertical;if(Us)ag=ey(zc),cs&&(vy=ey(cs));else{const Nc=or.layout.get("text-rotate").evaluate(Xr,{},Lo)+90;Ol=Zm(kr,_0,tn,vs,Bs,Ds,zc,zs,Nc,Co),cs&&(Ra=Zm(kr,_0,tn,vs,Bs,Ds,cs,ds,Nc))}}if(vr){const zc=or.layout.get("icon-rotate").evaluate(Xr,{},Lo),Nc=or.layout.get("icon-text-fit")!=="none",by=pl(vr,zc,da,Nc),t3=cs?pl(cs,zc,da,Nc):void 0;Oa=Zm(kr,_0,tn,vs,Bs,Ds,vr,ds,zc),xy=4*by.length;const t5=xn.iconSizeData;let v0=null;t5.kind==="source"?(v0=[Cs*or.layout.get("icon-size").evaluate(Xr,{},Lo)],v0[0]>Ku&&oe(`${xn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):t5.kind==="composite"&&(v0=[Cs*lo.compositeIconSizes[0].evaluate(Xr,{},Lo),Cs*lo.compositeIconSizes[1].evaluate(Xr,{},Lo)],(v0[0]>Ku||v0[1]>Ku)&&oe(`${xn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),xn.addSymbols(xn.icon,by,v0,jo,Zo,Xr,!1,Vn,tn,fl.lineStartIndex,fl.lineLength,-1,xs,Lo),Zw=xn.icon.placedSymbolArray.length-1,t3&&(KC=4*t3.length,xn.addSymbols(xn.icon,t3,v0,jo,Zo,Xr,tr.vertical,Vn,tn,fl.lineStartIndex,fl.lineLength,-1,xs,Lo),Kw=xn.icon.placedSymbolArray.length-1)}for(const zc in wr.horizontal){const Nc=wr.horizontal[zc];La||(e5=Sh.exports(Nc.text),Us?Uh=ey(Nc):La=Zm(kr,_0,tn,vs,Bs,Ds,Nc,zs,or.layout.get("text-rotate").evaluate(Xr,{},Lo),Co));const by=Nc.positionedLines.length===1;if(JC+=zh(xn,Vn,tn,Nc,Gn,or,Us,Xr,Co,fl,wr.vertical?tr.horizontal:tr.horizontalOnly,by?Object.keys(wr.horizontal):[zc],eh,Zw,lo,xs,Lo),by)break}wr.vertical&&(QC+=zh(xn,Vn,tn,wr.vertical,Gn,or,Us,Xr,Co,fl,tr.vertical,["vertical"],eh,Kw,lo,xs,Lo));let Yp=-1;const e3=(zc,Nc)=>zc?Math.max(zc,Nc):Nc;Yp=e3(Uh,Yp),Yp=e3(ag,Yp),Yp=e3(vy,Yp);const iP=Yp>-1?1:0;xn.glyphOffsetArray.length>=Ju.MAX_GLYPHS&&oe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Xr.sortKey!==void 0&&xn.addToSortKeyRanges(xn.symbolInstances.length,Xr.sortKey),xn.symbolInstances.emplaceBack(_0.x,_0.y,_0.z,tn.x,tn.y,eh.right>=0?eh.right:-1,eh.center>=0?eh.center:-1,eh.left>=0?eh.left:-1,eh.vertical>=0?eh.vertical:-1,Zw,Kw,e5,La!==void 0?La:xn.collisionBoxArray.length,La!==void 0?La+1:xn.collisionBoxArray.length,Ol!==void 0?Ol:xn.collisionBoxArray.length,Ol!==void 0?Ol+1:xn.collisionBoxArray.length,Oa!==void 0?Oa:xn.collisionBoxArray.length,Oa!==void 0?Oa+1:xn.collisionBoxArray.length,Ra||xn.collisionBoxArray.length,Ra?Ra+1:xn.collisionBoxArray.length,vs,JC,QC,xy,KC,iP,0,Jw,Qw,Yp)})(a,en,ln,ci,l,u,m,Oi,a.layers[0],a.collisionBoxArray,n.index,n.sourceLayerIndex,a.index,It,Qt,ee,0,Pt,vi,He,n,w,re,me,Te)};if(ji==="line")for(const ci of Dv(n.geometry,0,0,Rn,Rn)){const en=_w(ci,Tt,ti,l.vertical||tt,u,24,yt,a.overscaling,Rn);for(const Nn of en){const ln=tt;ln&&Cw(a,ln.text,ai,Nn)||Ui(ci,Nn,Te)}}else if(ji==="line-center"){for(const ci of n.geometry)if(ci.length>1){const en=yw(ci,ti,l.vertical||tt,u,24,yt);en&&Ui(ci,en,Te)}}else if(n.type==="Polygon")for(const ci of L1(n.geometry,0)){const en=Rv(ci,16);Ui(ci[0],new xu(en.x,en.y,0,0,void 0),Te)}else if(n.type==="LineString")for(const ci of n.geometry)Ui(ci,new xu(ci[0].x,ci[0].y,0,0,void 0),Te);else if(n.type==="Point")for(const ci of n.geometry)for(const en of ci)Ui([en],new xu(en.x,en.y,0,0,void 0),Te)}const Ku=32640;function zh(a,n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe,ze,He,tt){const _t=function(Tt,It,Pt,ti,Qt,vi,ji,ai){const Ti=[];if(It.positionedLines.length===0)return Ti;const Ci=ti.layout.get("text-rotate").evaluate(vi,{})*Math.PI/180,Oi=function(ln){const xn=ln[0],tn=ln[1],Vn=xn*tn;return Vn>0?[xn,-tn]:Vn<0?[-xn,tn]:xn===0?[tn,xn]:[tn,-xn]}(Pt);let Ui=Math.abs(It.top-It.bottom);for(const ln of It.positionedLines)Ui-=ln.lineOffset;const ci=It.positionedLines.length,en=Ui/ci;let Nn=It.top-Pt[1];for(let ln=0;ln<ci;++ln){const xn=It.positionedLines[ln];Nn=vw(It,en,Nn,ln);for(const tn of xn.positionedGlyphs){if(!tn.rect)continue;const Vn=tn.rect||{};let Mr=4,wr=!0,vr=1,Gn=0;if(tn.imageName){const xs=ji[tn.imageName];if(!xs)continue;if(xs.sdf){oe("SDF images are not supported in formatted text and will be ignored.");continue}wr=!1,vr=xs.pixelRatio,Mr=1/vr}const cs=(Qt||ai)&&tn.vertical,or=tn.metrics.advance*tn.scale/2,kr=tn.metrics,vs=tn.rect;if(vs===null)continue;ai&&It.verticalizable&&(Gn=tn.imageName?or-tn.metrics.width*tn.scale/2:0);const Bs=Qt?[tn.x+or,tn.y]:[0,0];let Ds=[0,0],zs=[0,0],Us=!1;Qt||(cs?(zs=[tn.x+or+Oi[0],tn.y+Oi[1]-Gn],Us=!0):Ds=[tn.x+or+Pt[0],tn.y+Pt[1]-Gn]);const Co=vs.w*tn.scale/(vr*(tn.localGlyph?2:1)),Ia=vs.h*tn.scale/(vr*(tn.localGlyph?2:1));let ds,Zo,jo,Xr;if(cs){const xs=tn.y-Nn,Lo=new U(-or,or-xs),fl=-Math.PI/2,La=new U(...zs);ds=new U(-or+Ds[0],Ds[1]),ds._rotateAround(fl,Lo)._add(La),ds.x+=-xs+or,ds.y-=(kr.left-Mr)*tn.scale;const Oa=tn.imageName?kr.advance*tn.scale:_s*tn.scale,Ol=String.fromCharCode(tn.glyph);lw(Ol)?ds.x+=(1-Mr)*tn.scale:V1(Ol)?ds.x+=Oa-kr.height*tn.scale+(-Mr-1)*tn.scale:ds.x+=tn.imageName||kr.width+2*Mr===vs.w&&kr.height+2*Mr===vs.h?(Oa-Ia)/2:(Oa-(kr.height+2*Mr)*tn.scale)/2,Zo=new U(ds.x,ds.y-Co),jo=new U(ds.x+Ia,ds.y),Xr=new U(ds.x+Ia,ds.y-Co)}else{const xs=(kr.left-Mr)*tn.scale-or+Ds[0],Lo=(-kr.top-Mr)*tn.scale+Ds[1],fl=xs+Co,La=Lo+Ia;ds=new U(xs,Lo),Zo=new U(fl,Lo),jo=new U(xs,La),Xr=new U(fl,La)}if(Ci){let xs;xs=Qt?new U(0,0):Us?new U(Oi[0],Oi[1]):new U(Pt[0],Pt[1]),ds._rotateAround(Ci,xs),Zo._rotateAround(Ci,xs),jo._rotateAround(Ci,xs),Xr._rotateAround(Ci,xs)}const lo=new U(0,0),da=new U(0,0);Ti.push({tl:ds,tr:Zo,bl:jo,br:Xr,tex:Vn,writingMode:It.writingMode,glyphOffset:Bs,sectionIndex:tn.sectionIndex,isSDF:wr,pixelOffsetTL:lo,pixelOffsetBR:da,minFontScaleX:0,minFontScaleY:0})}}return Ti}(0,u,ee,w,C,N,m,a.allowVerticalPlacement),At=a.textSizeData;let yt=null;At.kind==="source"?(yt=[Cs*w.layout.get("text-size").evaluate(N,{},tt)],yt[0]>Ku&&oe(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):At.kind==="composite"&&(yt=[Cs*ze.compositeTextSizes[0].evaluate(N,{},tt),Cs*ze.compositeTextSizes[1].evaluate(N,{},tt)],(yt[0]>Ku||yt[1]>Ku)&&oe(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),a.addSymbols(a.text,_t,yt,ee,C,N,me,n,l,re.lineStartIndex,re.lineLength,Oe,He,tt);for(const Tt of Te)Me[Tt]=a.text.placedSymbolArray.length-1;return 4*_t.length}function zv(a){for(const n in a)return a[n];return null}function Zm(a,n,l,u,m,w,C,N,ee,re){let me=C.top,Te=C.bottom,Me=C.left,Oe=C.right;const ze=C.collisionPadding;if(ze&&(Me-=ze[0],me-=ze[1],Oe+=ze[2],Te+=ze[3]),ee){const He=new U(Me,me),tt=new U(Oe,me),_t=new U(Me,Te),At=new U(Oe,Te),yt=$(ee);let Tt=new U(0,0);re&&(Tt=new U(re[0],re[1])),He._rotateAround(yt,Tt),tt._rotateAround(yt,Tt),_t._rotateAround(yt,Tt),At._rotateAround(yt,Tt),Me=Math.min(He.x,tt.x,_t.x,At.x),Oe=Math.max(He.x,tt.x,_t.x,At.x),me=Math.min(He.y,tt.y,_t.y,At.y),Te=Math.max(He.y,tt.y,_t.y,At.y)}return a.emplaceBack(n.x,n.y,n.z,l.x,l.y,Me,me,Oe,Te,N,u,m,w),a.length-1}function ey(a){a.collisionPadding&&(a.top-=a.collisionPadding[1],a.bottom+=a.collisionPadding[3]);const n=a.bottom-a.top;return n>0?Math.max(10,n):null}function Cw(a,n,l,u){const m=a.compareText;if(n in m){const w=m[n];for(let C=w.length-1;C>=0;C--)if(u.dist(w[C])<l)return!0}else m[n]=[];return m[n].push(u),!1}const Ew=dn([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:ty}=Ew,iy=dn([{name:"a_pos_3",components:3,type:"Int16"}]);var a0=dn([{name:"a_pos",type:"Int16",components:2}]);const bu=Rn/Math.PI/2,ny=2*pc(1,0)*bu*Math.PI,$p=64,Vp=[$p,32,16],Rc=-bu,Bc=bu,Mw=[new Qa([Rc,Rc,Rc],[Bc,Bc,Bc]),new Qa([Rc,Rc,Rc],[0,0,Bc]),new Qa([0,Rc,Rc],[Bc,0,Bc]),new Qa([Rc,0,Rc],[0,Bc,Bc]),new Qa([0,0,Rc],[Bc,Bc,Bc])];function Nv(a,n,l,u=!0){const m=fc([],a._camera.position,a.worldSize),w=[n,l,1,1];qu(w,w,a.pixelMatrixInverse),G_(w,w,1/w[3]);const C=Ja([],ld([],w,m)),N=a.globeMatrix,ee=[N[12],N[13],N[14]],re=ld([],ee,m),me=Ih(re),Te=Ja([],re),Me=a.worldSize/(2*Math.PI),Oe=Lc(Te,C),ze=Math.asin(Me/me);if(ze<Math.acos(Oe)){if(!u)return null;const ji=[],ai=[];fc(ji,C,me/Oe),Ja(ai,ld(ai,ji,re)),Ja(C,Ud(C,re,fc(C,ai,Math.tan(ze)*me)))}const He=[];new km(m,C).closestPointOnSphere(ee,Me,He);const tt=Ja([],qe(N,0)),_t=Ja([],qe(N,1)),At=Ja([],qe(N,2)),yt=Lc(tt,He),Tt=Lc(_t,He),It=Lc(At,He),Pt=V(Math.asin(-Tt/Me));let ti=V(Math.atan2(yt,It));ti=a.center.lng+function(ji,ai){const Ti=(ai-ji+180)%360-180;return Ti<-180?Ti+360:Ti}(a.center.lng,ti);const Qt=rd(ti),vi=g(hc(Pt),0,1);return new Mh(Qt,vi)}class kw{constructor(n,l,u){this.a=ld([],n,u),this.b=ld([],l,u),this.center=u;const m=Ja([],this.a),w=Ja([],this.b);this.angle=Math.acos(Lc(m,w))}}function ry(a,n){if(a.angle===0)return null;let l;return l=a.a[n]===0?1/a.angle*.5*Math.PI:1/a.angle*Math.atan(a.b[n]/a.a[n]/Math.sin(a.angle)-1/Math.tan(a.angle)),l<0||l>1?null:function(u,m,w,C){const N=Math.sin(w);return u*(Math.sin((1-C)*w)/N)+m*(Math.sin(C*w)/N)}(a.a[n],a.b[n],a.angle,g(l,0,1))+a.center[n]}function Gd(a){if(a.z<=1)return Mw[a.z+2*a.y+a.x];const n=sy(Km(a));return Qa.fromPoints(n)}function Nh(a,n,l){return fc(a,a,1-l),Lp(a,a,n,l)}function Fv(a,n){const l=Fh(n.zoom);if(l===0)return Gd(a);const u=Km(a),m=sy(u),w=rd(u.getWest())*n.worldSize,C=rd(u.getEast())*n.worldSize,N=hc(u.getNorth())*n.worldSize,ee=hc(u.getSouth())*n.worldSize,re=[w,N,0],me=[C,N,0],Te=[w,ee,0],Me=[C,ee,0],Oe=Em([],n.globeMatrix);return po(re,re,Oe),po(me,me,Oe),po(Te,Te,Oe),po(Me,Me,Oe),m[0]=Nh(m[0],Te,l),m[1]=Nh(m[1],Me,l),m[2]=Nh(m[2],me,l),m[3]=Nh(m[3],re,l),Qa.fromPoints(m)}function jv(a,n,l){for(const u of a)po(u,u,n),fc(u,u,l)}function Aw(a,n,l){const u=n/a.worldSize,m=a.globeMatrix;if(l.z<=1){const Qt=Gd(l).getCorners();return jv(Qt,m,u),Qa.fromPoints(Qt)}const w=Km(l),C=sy(w);jv(C,m,u);const N=Number.MAX_VALUE,ee=[-N,-N,-N],re=[N,N,N];if(w.contains(a.center)){for(const ji of C)Pl(re,re,ji),ad(ee,ee,ji);ee[2]=0;const Qt=a.point,vi=[Qt.x*u,Qt.y*u,0];return Pl(re,re,vi),ad(ee,ee,vi),new Qa(re,ee)}const me=[m[12]*u,m[13]*u,m[14]*u],Te=w.getCenter(),Me=g(a.center.lat,-85.051129,Ta),Oe=g(Te.lat,-85.051129,Ta),ze=rd(a.center.lng),He=hc(Me);let tt=ze-rd(Te.lng);const _t=He-hc(Oe);tt>.5?tt-=1:tt<-.5&&(tt+=1);let At=0;Math.abs(tt)>Math.abs(_t)?At=tt>=0?1:3:(At=_t>=0?0:2,Lp(me,me,[m[4]*u,m[5]*u,m[6]*u],-Math.sin($(_t>=0?w.getSouth():w.getNorth()))*bu));const yt=C[At],Tt=C[(At+1)%4],It=new kw(yt,Tt,me),Pt=[ry(It,0)||yt[0],ry(It,1)||yt[1],ry(It,2)||yt[2]],ti=Fh(a.zoom);if(ti>0){const Qt=function({x:ji,y:ai,z:Ti},Ci,Oi,Ui,ci){const en=1/(1<<Ti);let Nn=ji*en,ln=Nn+en,xn=ai*en,tn=xn+en,Vn=0;const Mr=(Nn+ln)/2-Ui;return Mr>.5?Vn=-1:Mr<-.5&&(Vn=1),Nn=((Nn+Vn)*Ci-(Ui*=Ci))*Oi+Ui,ln=((ln+Vn)*Ci-Ui)*Oi+Ui,xn=(xn*Ci-(ci*=Ci))*Oi+ci,tn=(tn*Ci-ci)*Oi+ci,[[Nn,tn,0],[ln,tn,0],[ln,xn,0],[Nn,xn,0]]}(l,n,a._pixelsPerMercatorPixel,ze,He);for(let ji=0;ji<C.length;ji++)Nh(C[ji],Qt[ji],ti);const vi=Ud([],Qt[At],Qt[(At+1)%4]);fc(vi,vi,.5),Nh(Pt,vi,ti)}for(const Qt of C)Pl(re,re,Qt),ad(ee,ee,Qt);return re[2]=Math.min(yt[2],Tt[2]),Pl(re,re,Pt),ad(ee,ee,Pt),new Qa(re,ee)}function Km({x:a,y:n,z:l}){const u=1/(1<<l),m=new Pr(hl(a*u),wa((n+1)*u)),w=new Pr(hl((a+1)*u),wa(n*u));return new gu(m,w)}function sy(a){const n=$(a.getNorth()),l=$(a.getSouth()),u=Math.cos(n),m=Math.cos(l),w=Math.sin(n),C=Math.sin(l),N=a.getWest(),ee=a.getEast();return[Gp(m,C,N),Gp(m,C,ee),Gp(u,w,ee),Gp(u,w,N)]}function Gp(a,n,l,u=bu){return l=$(l),[a*Math.sin(l)*u,-n*u,a*Math.cos(l)*u]}function l0(a,n,l){return Gp(Math.cos($(a)),Math.sin($(a)),n,l)}function c0(a,n,l,u){const m=1<<l.z,w=(a/Rn+l.x)/m;return l0(wa((n/Rn+l.y)/m),hl(w),u)}function Jm({min:a,max:n}){return 16383/Math.max(n[0]-a[0],n[1]-a[1],n[2]-a[2])}const Uv=new Float64Array(16);function d0(a){const n=Jm(a),l=v1(Uv,[n,n,n]);return Hf(l,l,((u=[])[0]=-(m=a.min)[0],u[1]=-m[1],u[2]=-m[2],u));var u,m}function oy(a){const n=(u=a.min,(l=Uv)[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=u[0],l[13]=u[1],l[14]=u[2],l[15]=1,l);var l,u;const m=1/Jm(a);return Dh(n,n,[m,m,m])}function Qm(a,n,l,u,m){const w=function(ee){const re=Rn/(2*Math.PI);return ee/(2*Math.PI)/re}(l),C=[a,n,-l/(2*Math.PI)],N=Ic(new Float64Array(16));return Hf(N,N,C),Dh(N,N,[w,w,w]),_1(N,N,$(-m)),Wf(N,N,$(-u)),N}function Fh(a){return b(5,6,a)}function ay(a,n){const l=l0(n.lat,n.lng),u=function(ze){const He=l0(ze._center.lat,ze._center.lng);let tt=w1([],Lh(0,1,0),He);const _t=$_([],-ze.angle,He);tt=po(tt,tt,_t),$_(_t,-ze._pitch,tt);const At=Ja([],He);return fc(At,At,ze.cameraToCenterDistance/ze.pixelsPerMeter*ny),po(At,At,_t),Ud([],He,At)}(a);return C=(m=Ip([],u,l))[0],N=m[1],ee=m[2],re=(w=l)[0],me=w[1],Te=w[2],Oe=(Me=Math.sqrt(C*C+N*N+ee*ee)*Math.sqrt(re*re+me*me+Te*Te))&&Lc(m,w)/Me,Math.acos(Math.min(Math.max(Oe,-1),1));var m,w,C,N,ee,re,me,Te,Me,Oe}function ly(a,n){return ay(a,n)>Math.PI/2*1.01}const $v=$(85),Pw=Math.cos($v),cy=Math.sin($v);function Vv(a,n){const l=a.fovAboveCenter,u=a.elevation?a.elevation.getMinElevationBelowMSL()*n:0,m=(a._camera.position[2]*a.worldSize-u)/Math.cos(a._pitch),w=Math.sin(l)*m/Math.sin(Math.max(Math.PI/2-a._pitch-l,.01)),C=Math.sin(a._pitch)*w+m;return Math.min(1.01*C,m*(1/a._horizonShift))}function jh(a,n){if(!n.isReprojectedInTileSpace)return{scale:1<<a.z,x:a.x,y:a.y,x2:a.x+1,y2:a.y+1,projection:n};const l=Math.pow(2,-a.z),u=a.x*l,m=(a.x+1)*l,w=a.y*l,C=(a.y+1)*l,N=hl(u),ee=hl(m),re=wa(w),me=wa(C),Te=n.project(N,re),Me=n.project(ee,re),Oe=n.project(ee,me),ze=n.project(N,me);let He=Math.min(Te.x,Me.x,Oe.x,ze.x),tt=Math.min(Te.y,Me.y,Oe.y,ze.y),_t=Math.max(Te.x,Me.x,Oe.x,ze.x),At=Math.max(Te.y,Me.y,Oe.y,ze.y);const yt=l/16;function Tt(Pt,ti,Qt,vi,ji,ai){const Ti=(Qt+ji)/2,Ci=(vi+ai)/2,Oi=n.project(hl(Ti),wa(Ci)),Ui=Math.max(0,He-Oi.x,tt-Oi.y,Oi.x-_t,Oi.y-At);He=Math.min(He,Oi.x),_t=Math.max(_t,Oi.x),tt=Math.min(tt,Oi.y),At=Math.max(At,Oi.y),Ui>yt&&(Tt(Pt,Oi,Qt,vi,Ti,Ci),Tt(Oi,ti,Ti,Ci,ji,ai))}Tt(Te,Me,u,w,m,w),Tt(Me,Oe,m,w,m,C),Tt(Oe,ze,m,C,u,C),Tt(ze,Te,u,C,u,w),He-=yt,tt-=yt,_t+=yt,At+=yt;const It=1/Math.max(_t-He,At-tt);return{scale:It,x:He*It,y:tt*It,x2:_t*It,y2:At*It,projection:n}}const Dw=Ic(new Float32Array(16));class Fo{constructor(n){this.spec=n,this.name=n.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(n,l){return{x:0,y:0,z:0}}unproject(n,l){return new Pr(0,0)}projectTilePoint(n,l,u){return{x:n,y:l,z:0}}locationPoint(n,l,u=!0){return n._coordinatePoint(n.locationCoordinate(l),u)}pixelsPerMeter(n,l){return pc(1,n)*l}pixelSpaceConversion(n,l,u){return 1}farthestPixelDistance(n){return Vv(n,n.pixelsPerMeter)}pointCoordinate(n,l,u,m){const w=n.horizonLineFromTop(!1),C=new U(l,Math.max(w,u));return n.rayIntersectionCoordinate(n.pointRayIntersection(C,m))}pointCoordinate3D(n,l,u){const m=new U(l,u);if(n.elevation)return n.elevation.pointCoordinate(m);{const w=this.pointCoordinate(n,m.x,m.y,0);return[w.x,w.y,w.z]}}isPointAboveHorizon(n,l){if(n.elevation)return!this.pointCoordinate3D(n,l.x,l.y);const u=n.horizonLineFromTop();return l.y<u}createInversionMatrix(n,l){return Dw}createTileMatrix(n,l,u){let m,w,C;const N=u.canonical,ee=Ic(new Float64Array(16));if(this.isReprojectedInTileSpace){const re=jh(N,this);m=1,w=re.x+u.wrap*re.scale,C=re.y,Dh(ee,ee,[m/re.scale,m/re.scale,n.pixelsPerMeter/l])}else m=l/n.zoomScale(N.z),w=(N.x+Math.pow(2,N.z)*u.wrap)*m,C=N.y*m;return Hf(ee,ee,[w,C,0]),Dh(ee,ee,[m/Rn,m/Rn,1]),ee}upVector(n,l,u){return[0,0,1]}upVectorScale(n,l,u){return{metersToTile:1}}}class dy extends Fo{constructor(n){super(n),this.range=[4,7],this.center=n.center||[-96,37.5];const[l,u]=this.parallels=n.parallels||[29.5,45.5],m=Math.sin($(l));this.n=(m+Math.sin($(u)))/2,this.c=1+m*(2*this.n-m),this.r0=Math.sqrt(this.c)/this.n}project(n,l){const{n:u,c:m,r0:w}=this,C=$(n-this.center[0]),N=$(l),ee=Math.sqrt(m-2*u*Math.sin(N))/u;return{x:ee*Math.sin(C*u),y:ee*Math.cos(C*u)-w,z:0}}unproject(n,l){const{n:u,c:m,r0:w}=this,C=w+l;let N=Math.atan2(n,Math.abs(C))*Math.sign(C);C*u<0&&(N-=Math.PI*Math.sign(n)*Math.sign(C));const ee=$(this.center[0])*u;N=A(N,-Math.PI-ee,Math.PI-ee);const re=g(V(N/u)+this.center[0],-180,180),me=Math.asin(g((m-(n*n+C*C)*u*u)/(2*u),-1,1)),Te=g(V(me),-85.051129,Ta);return new Pr(re,Te)}}const u0=1.340264,h0=-.081106,p0=893e-6,f0=.003796,Hp=Math.sqrt(3)/2;class Iw extends Fo{project(n,l){l=l/180*Math.PI,n=n/180*Math.PI;const u=Math.asin(Hp*Math.sin(l)),m=u*u,w=m*m*m;return{x:.5*(n*Math.cos(u)/(Hp*(u0+3*h0*m+w*(7*p0+9*f0*m)))/Math.PI+.5),y:1-.5*(u*(u0+h0*m+w*(p0+f0*m))/Math.PI+1),z:0}}unproject(n,l){n=(2*n-.5)*Math.PI;let u=l=(2*(1-l)-1)*Math.PI,m=u*u,w=m*m*m;for(let me,Te,Me,Oe=0;Oe<12&&(Te=u*(u0+h0*m+w*(p0+f0*m))-l,Me=u0+3*h0*m+w*(7*p0+9*f0*m),me=Te/Me,u=g(u-me,-Math.PI/3,Math.PI/3),m=u*u,w=m*m*m,!(Math.abs(me)<1e-12));++Oe);const C=Hp*n*(u0+3*h0*m+w*(7*p0+9*f0*m))/Math.cos(u),N=Math.asin(Math.sin(u)/Hp),ee=g(180*C/Math.PI,-180,180),re=g(180*N/Math.PI,-85.051129,Ta);return new Pr(ee,re)}}class uy extends Fo{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0}project(n,l){return{x:.5+n/360,y:.5-l/360,z:0}}unproject(n,l){const u=360*(n-.5),m=g(360*(.5-l),-85.051129,Ta);return new Pr(u,m)}}const Wp=Math.PI/2;function eg(a){return Math.tan((Wp+a)/2)}class Lw extends Fo{constructor(n){super(n),this.center=n.center||[0,30];const[l,u]=this.parallels=n.parallels||[30,30];let m=$(l),w=$(u);this.southernCenter=m+w<0,this.southernCenter&&(m=-m,w=-w);const C=Math.cos(m),N=eg(m);this.n=m===w?Math.sin(m):Math.log(C/Math.cos(w))/Math.log(eg(w)/N),this.f=C*Math.pow(eg(m),this.n)/this.n}project(n,l){l=$(l),this.southernCenter&&(l=-l),n=$(n-this.center[0]);const u=1e-6,{n:m,f:w}=this;w>0?l<-Wp+u&&(l=-Wp+u):l>Wp-u&&(l=Wp-u);const C=w/Math.pow(eg(l),m);let N=C*Math.sin(m*n),ee=w-C*Math.cos(m*n);return N=.5*(N/Math.PI+.5),ee=.5*(ee/Math.PI+.5),{x:N,y:this.southernCenter?ee:1-ee,z:0}}unproject(n,l){n=(2*n-.5)*Math.PI,this.southernCenter&&(l=1-l),l=(2*(1-l)-.5)*Math.PI;const{n:u,f:m}=this,w=m-l,C=Math.sign(w),N=Math.sign(u)*Math.sqrt(n*n+w*w);let ee=Math.atan2(n,Math.abs(w))*C;w*u<0&&(ee-=Math.PI*Math.sign(n)*C);const re=g(V(ee/u)+this.center[0],-180,180),me=g(V(2*Math.atan(Math.pow(m/N,1/u))-Wp),-85.051129,Ta);return new Pr(re,this.southernCenter?-me:me)}}class Gv extends Fo{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(n,l){return{x:rd(n),y:hc(l),z:0}}unproject(n,l){const u=hl(n),m=wa(l);return new Pr(u,m)}}const hy=$(Ta);class Ow extends Fo{project(n,l){const u=(l=$(l))*l,m=u*u;return{x:.5*((n=$(n))*(.8707-.131979*u+m*(m*(.003971*u-.001529*m)-.013791))/Math.PI+.5),y:1-.5*(l*(1.007226+u*(.015085+m*(.028874*u-.044475-.005916*m)))/Math.PI+1),z:0}}unproject(n,l){n=(2*n-.5)*Math.PI;let u=l=(2*(1-l)-1)*Math.PI,m=25,w=0,C=u*u;do{C=u*u;const re=C*C;w=(u*(1.007226+C*(.015085+re*(.028874*C-.044475-.005916*re)))-l)/(1.007226+C*(.045255+re*(.259866*C-.311325-.005916*11*re))),u=g(u-w,-hy,hy)}while(Math.abs(w)>1e-6&&--m>0);C=u*u;const N=g(V(n/(.8707+C*(C*(C*C*C*(.003971-.001529*C)-.013791)-.131979))),-180,180),ee=V(u);return new Pr(N,ee)}}const Hv=$(Ta);class Rw extends Fo{project(n,l){l=$(l),n=$(n);const u=Math.cos(l),m=2/Math.PI,w=Math.acos(u*Math.cos(n/2)),C=Math.sin(w)/w,N=.5*(n*m+2*u*Math.sin(n/2)/C)||0,ee=.5*(l+Math.sin(l)/C)||0;return{x:.5*(N/Math.PI+.5),y:1-.5*(ee/Math.PI+1),z:0}}unproject(n,l){let u=n=(2*n-.5)*Math.PI,m=l=(2*(1-l)-1)*Math.PI,w=25;const C=1e-6;let N=0,ee=0;do{const re=Math.cos(m),me=Math.sin(m),Te=2*me*re,Me=me*me,Oe=re*re,ze=Math.cos(u/2),He=Math.sin(u/2),tt=2*ze*He,_t=He*He,At=1-Oe*ze*ze,yt=At?1/At:0,Tt=At?Math.acos(re*ze)*Math.sqrt(1/At):0,It=.5*(2*Tt*re*He+2*u/Math.PI)-n,Pt=.5*(Tt*me+m)-l,ti=.5*yt*(Oe*_t+Tt*re*ze*Me)+1/Math.PI,Qt=yt*(tt*Te/4-Tt*me*He),vi=.125*yt*(Te*He-Tt*me*Oe*tt),ji=.5*yt*(Me*ze+Tt*_t*re)+.5,ai=Qt*vi-ji*ti;N=(Pt*Qt-It*ji)/ai,ee=(It*vi-Pt*ti)/ai,u=g(u-N,-Math.PI,Math.PI),m=g(m-ee,-Hv,Hv)}while((Math.abs(N)>C||Math.abs(ee)>C)&&--w>0);return new Pr(V(u),V(m))}}class tg extends Fo{constructor(n){super(n),this.center=n.center||[0,0],this.parallels=n.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos($(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(n,l){const{scale:u,cosPhi:m}=this;return{x:$(n)*m*u+.5,y:-Math.sin($(l))/m*u+.5,z:0}}unproject(n,l){const{scale:u,cosPhi:m}=this,w=-(l-.5)/u,C=g(V((n-.5)/u)/m,-180,180),N=Math.asin(g(w*m,-1,1)),ee=g(V(N),-85.051129,Ta);return new Pr(C,ee)}}class py extends Gv{constructor(n){super(n),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(n,l,u){const m=c0(n,l,u);return po(m,m,d0(Gd(u))),{x:m[0],y:m[1],z:m[2]}}locationPoint(n,l){const u=l0(l.lat,l.lng),m=Ja([],u),w=n.elevation?n.elevation.getAtPointOrZero(n.locationCoordinate(l),n._centerAltitude):n._centerAltitude;Lp(u,u,m,pc(1,0)*Rn*w);const C=Ic(new Float64Array(16));return Ph(C,n.pixelMatrix,n.globeMatrix),po(u,u,C),new U(u[0],u[1])}pixelsPerMeter(n,l){return pc(1,0)*l}pixelSpaceConversion(n,l,u){const m=pc(1,n)*l,w=Jn(pc(1,45)*l,m,u);return this.pixelsPerMeter(n,l)/w}createTileMatrix(n,l,u){const m=oy(Gd(u.canonical));return Ph(new Float64Array(16),n.globeMatrix,m)}createInversionMatrix(n,l){const{center:u}=n,m=d0(Gd(l));return Wf(m,m,$(u.lng)),_1(m,m,$(u.lat)),Dh(m,m,[n._pixelsPerMercatorPixel,n._pixelsPerMercatorPixel,1]),Float32Array.from(m)}pointCoordinate(n,l,u,m){return Nv(n,l,u,!0)||new Mh(0,0)}pointCoordinate3D(n,l,u){const m=this.pointCoordinate(n,l,u,0);return[m.x,m.y,m.z]}isPointAboveHorizon(n,l){return!Nv(n,l.x,l.y,!1)}farthestPixelDistance(n){const l=function(m,w){const C=m.cameraToCenterDistance,N=m._centerAltitude*w,ee=m._camera,re=m._camera.forward(),me=Ud([],fc([],re,-C),[0,0,N]),Te=m.worldSize/(2*Math.PI),Me=[0,0,-Te],Oe=m.width/m.height,ze=Math.tan(m.fovAboveCenter),He=fc([],ee.up(),ze),tt=fc([],ee.right(),ze*Oe),_t=Ja([],Ud([],Ud([],re,He),tt)),At=[];let yt;if(new km(me,_t).closestPointOnSphere(Me,Te,At)){const Tt=Ud([],At,Me),It=ld([],Tt,me);yt=Math.cos(m.fovAboveCenter)*Ih(It)}else{const Tt=ld([],me,Me),It=ld([],Me,me);Ja(It,It);const Pt=Ih(Tt)-Te;yt=Math.sqrt(Pt*(Pt+2*Te));const ti=Math.acos(yt/(Te+Pt))-Math.acos(Lc(re,It));yt*=Math.cos(ti)}return 1.01*yt}(n,this.pixelsPerMeter(n.center.lat,n.worldSize)),u=Fh(n.zoom);if(u>0){const m=Vv(n,pc(1,n.center.lat)*n.worldSize),w=n.worldSize/(2*Math.PI),C=Math.max(n.width,n.height)/n.worldSize*Math.PI;return Jn(l,m+w*(1-Math.cos(C)),Math.pow(u,10))}return l}upVector(n,l,u){return c0(l,u,n,1)}upVectorScale(n){return{metersToTile:ny*Jm(Gd(n))}}}function Wv(a){const n=a.parallels,l=!!n&&Math.abs(n[0]+n[1])<.01;switch(a.name){case"mercator":return new Gv(a);case"equirectangular":return new uy(a);case"naturalEarth":return new Ow(a);case"equalEarth":return new Iw(a);case"winkelTripel":return new Rw(a);case"albers":return l?new tg(a):new dy(a);case"lambertConformalConic":return l?new tg(a):new Lw(a);case"globe":return new py(a)}throw new Error(`Invalid projection name: ${a.name}`)}const Bw=Rm.types,zw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ig(a,n,l,u,m,w,C,N,ee,re,me,Te,Me){const Oe=N?Math.min(Ku,Math.round(N[0])):0,ze=N?Math.min(Ku,Math.round(N[1])):0;a.emplaceBack(n,l,Math.round(32*u),Math.round(32*m),w,C,(Oe<<1)+(ee?1:0),ze,16*re,16*me,256*Te,256*Me)}function ng(a,n,l,u,m,w,C){a.emplaceBack(n,l,u,m,w,C)}function rg(a,n,l,u,m){a.emplaceBack(n,l,u,m),a.emplaceBack(n,l,u,m),a.emplaceBack(n,l,u,m),a.emplaceBack(n,l,u,m)}function Nw(a){for(const n of a.sections)if(at(n.text))return!0;return!1}class fy{constructor(n){this.layoutVertexArray=new ts,this.indexArray=new la,this.programConfigurations=n,this.segments=new bo,this.dynamicLayoutVertexArray=new Pa,this.opacityVertexArray=new oo,this.placedSymbolArray=new A_,this.globeExtVertexArray=new $r}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(n,l,u,m){this.isEmpty()||(u&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,iw.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,nw.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,zw,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,cd.members,!0)),this.opacityVertexBuffer.itemSize=1),(u||m)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}nn(fy,"SymbolBuffers");class my{constructor(n,l,u){this.layoutVertexArray=new n,this.layoutAttributes=l,this.indexArray=new u,this.segments=new bo,this.collisionVertexArray=new Th,this.collisionVertexArrayExt=new dc}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,rw.members,!0),this.collisionVertexBufferExt=n.createVertexBuffer(this.collisionVertexArrayExt,Rh.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}nn(my,"CollisionBuffers");class Ju{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(C=>C.id),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ic([]),this.placementViewportMatrix=Ic([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=$1(this.zoom,l["text-size"]),this.iconSizeData=$1(this.zoom,l["icon-size"]);const u=this.layers[0].layout,m=u.get("symbol-sort-key"),w=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=w!=="viewport-y"&&m.constantOr(1)!==void 0,this.sortFeaturesByY=(w==="viewport-y"||w==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=u.get("text-writing-mode").map(C=>tr[C]),this.stateDependentLayerIds=this.layers.filter(C=>C.isStateDependent()).map(C=>C.id),this.sourceID=n.sourceID,this.projection=n.projection}createArrays(){this.text=new fy(new Nd(this.layers,this.zoom,n=>/^text/.test(n))),this.icon=new fy(new Nd(this.layers,this.zoom,n=>/^icon/.test(n))),this.glyphOffsetArray=new e1,this.lineVertexArray=new t1,this.symbolInstances=new ym}calculateGlyphDependencies(n,l,u,m,w){for(let C=0;C<n.length;C++)if(l[n.charCodeAt(C)]=!0,m&&w){const N=n0[n.charAt(C)];N&&(l[N.charCodeAt(0)]=!0)}}populate(n,l,u,m){const w=this.layers[0],C=w.layout,N=this.projection.name==="globe",ee=C.get("text-font"),re=C.get("text-field"),me=C.get("icon-image"),Te=(re.value.kind!=="constant"||re.value.value instanceof eo&&!re.value.value.isEmpty()||re.value.value.toString().length>0)&&(ee.value.kind!=="constant"||ee.value.value.length>0),Me=me.value.kind!=="constant"||!!me.value.value||Object.keys(me.parameters).length>0,Oe=C.get("symbol-sort-key");if(this.features=[],!Te&&!Me)return;const ze=l.iconDependencies,He=l.glyphDependencies,tt=l.availableImages,_t=new Gt(this.zoom);for(const{feature:At,id:yt,index:Tt,sourceLayerIndex:It}of n){const Pt=w._featureFilter.needGeometry,ti=Fd(At,Pt);if(!w._featureFilter.filter(_t,ti,u))continue;if(Pt||(ti.geometry=od(At,u,m)),N&&At.type!==1&&u.z<=5){const ai=ti.geometry,Ti=.98078528056,Ci=(Oi,Ui)=>Lc(c0(Oi.x,Oi.y,u,1),c0(Ui.x,Ui.y,u,1))<Ti;for(let Oi=0;Oi<ai.length;Oi++)ai[Oi]=f2(ai[Oi],Ci)}let Qt,vi;if(Te){const ai=w.getValueAndResolveTokens("text-field",ti,u,tt),Ti=eo.factory(ai);Nw(Ti)&&(this.hasRTLText=!0),(!this.hasRTLText||jt()==="unavailable"||this.hasRTLText&&Jt.isParsed())&&(Qt=aw(Ti,w,ti))}if(Me){const ai=w.getValueAndResolveTokens("icon-image",ti,u,tt);vi=ai instanceof ga?ai:ga.fromString(ai)}if(!Qt&&!vi)continue;const ji=this.sortFeaturesByKey?Oe.evaluate(ti,{},u):void 0;if(this.features.push({id:yt,text:Qt,icon:vi,index:Tt,sourceLayerIndex:It,geometry:ti.geometry,properties:At.properties,type:Bw[At.type],sortKey:ji}),vi&&(ze[vi.name]=!0),Qt){const ai=ee.evaluate(ti,{},u).join(","),Ti=C.get("text-rotation-alignment")==="map"&&C.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(tr.vertical)>=0;for(const Ci of Qt.sections)if(Ci.image)ze[Ci.image.name]=!0;else{const Oi=ae(Qt.toString()),Ui=Ci.fontStack||ai,ci=He[Ui]=He[Ui]||{};this.calculateGlyphDependencies(Ci.text,ci,Ti,this.allowVerticalPlacement,Oi)}}}C.get("symbol-placement")==="line"&&(this.features=function(At){const yt={},Tt={},It=[];let Pt=0;function ti(ai){It.push(At[ai]),Pt++}function Qt(ai,Ti,Ci){const Oi=Tt[ai];return delete Tt[ai],Tt[Ti]=Oi,It[Oi].geometry[0].pop(),It[Oi].geometry[0]=It[Oi].geometry[0].concat(Ci[0]),Oi}function vi(ai,Ti,Ci){const Oi=yt[Ti];return delete yt[Ti],yt[ai]=Oi,It[Oi].geometry[0].shift(),It[Oi].geometry[0]=Ci[0].concat(It[Oi].geometry[0]),Oi}function ji(ai,Ti,Ci){const Oi=Ci?Ti[0][Ti[0].length-1]:Ti[0][0];return`${ai}:${Oi.x}:${Oi.y}`}for(let ai=0;ai<At.length;ai++){const Ti=At[ai],Ci=Ti.geometry,Oi=Ti.text?Ti.text.toString():null;if(!Oi){ti(ai);continue}const Ui=ji(Oi,Ci),ci=ji(Oi,Ci,!0);if(Ui in Tt&&ci in yt&&Tt[Ui]!==yt[ci]){const en=vi(Ui,ci,Ci),Nn=Qt(Ui,ci,It[en].geometry);delete yt[Ui],delete Tt[ci],Tt[ji(Oi,It[Nn].geometry,!0)]=Nn,It[en].geometry=null}else Ui in Tt?Qt(Ui,ci,Ci):ci in yt?vi(Ui,ci,Ci):(ti(ai),yt[Ui]=Pt-1,Tt[ci]=Pt-1)}return It.filter(ai=>ai.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((At,yt)=>At.sortKey-yt.sortKey)}update(n,l,u,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(n,l,this.layers,u,m),this.icon.programConfigurations.updatePaintArrays(n,l,this.layers,u,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Wv(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,l){const u=this.lineVertexArray.length;if(n.segment!==void 0)for(const{x:m,y:w}of l)this.lineVertexArray.emplaceBack(m,w);return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}}addSymbols(n,l,u,m,w,C,N,ee,re,me,Te,Me,Oe,ze){const He=n.indexArray,tt=n.layoutVertexArray,_t=n.globeExtVertexArray,At=n.segments.prepareSegment(4*l.length,tt,He,this.canOverlap?C.sortKey:void 0),yt=this.glyphOffsetArray.length,Tt=At.vertexLength,It=this.allowVerticalPlacement&&N===tr.vertical?Math.PI/2:0,Pt=C.text&&C.text.sections;for(let Qt=0;Qt<l.length;Qt++){const{tl:vi,tr:ji,bl:ai,br:Ti,tex:Ci,pixelOffsetTL:Oi,pixelOffsetBR:Ui,minFontScaleX:ci,minFontScaleY:en,glyphOffset:Nn,isSDF:ln,sectionIndex:xn}=l[Qt],tn=At.vertexLength,Vn=Nn[1];if(ig(tt,re.x,re.y,vi.x,Vn+vi.y,Ci.x,Ci.y,u,ln,Oi.x,Oi.y,ci,en),ig(tt,re.x,re.y,ji.x,Vn+ji.y,Ci.x+Ci.w,Ci.y,u,ln,Ui.x,Oi.y,ci,en),ig(tt,re.x,re.y,ai.x,Vn+ai.y,Ci.x,Ci.y+Ci.h,u,ln,Oi.x,Ui.y,ci,en),ig(tt,re.x,re.y,Ti.x,Vn+Ti.y,Ci.x+Ci.w,Ci.y+Ci.h,u,ln,Ui.x,Ui.y,ci,en),ee){const{x:Mr,y:wr,z:vr}=ee.anchor,[Gn,cs,or]=ee.up;ng(_t,Mr,wr,vr,Gn,cs,or),ng(_t,Mr,wr,vr,Gn,cs,or),ng(_t,Mr,wr,vr,Gn,cs,or),ng(_t,Mr,wr,vr,Gn,cs,or),rg(n.dynamicLayoutVertexArray,Mr,wr,vr,It)}else rg(n.dynamicLayoutVertexArray,re.x,re.y,re.z,It);He.emplaceBack(tn,tn+1,tn+2),He.emplaceBack(tn+1,tn+2,tn+3),At.vertexLength+=4,At.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Nn[0]),Qt!==l.length-1&&xn===l[Qt+1].sectionIndex||n.programConfigurations.populatePaintArrays(tt.length,C,C.index,{},Oe,ze,Pt&&Pt[xn])}const ti=ee?ee.anchor:re;n.placedSymbolArray.emplaceBack(ti.x,ti.y,ti.z,re.x,re.y,yt,this.glyphOffsetArray.length-yt,Tt,me,Te,re.segment,u?u[0]:0,u?u[1]:0,m[0],m[1],N,0,!1,0,Me,0)}_commitLayoutVertex(n,l,u,m,w,C,N){n.emplaceBack(l,u,m,w,C,Math.round(N.x),Math.round(N.y))}_addCollisionDebugVertices(n,l,u,m,w,C,N){const ee=u.segments.prepareSegment(4,u.layoutVertexArray,u.indexArray),re=ee.vertexLength,me=N.tileAnchorX,Te=N.tileAnchorY;for(let Oe=0;Oe<4;Oe++)u.collisionVertexArray.emplaceBack(0,0,0,0);u.collisionVertexArrayExt.emplaceBack(l,-n.padding,-n.padding),u.collisionVertexArrayExt.emplaceBack(l,n.padding,-n.padding),u.collisionVertexArrayExt.emplaceBack(l,n.padding,n.padding),u.collisionVertexArrayExt.emplaceBack(l,-n.padding,n.padding),this._commitLayoutVertex(u.layoutVertexArray,m,w,C,me,Te,new U(n.x1,n.y1)),this._commitLayoutVertex(u.layoutVertexArray,m,w,C,me,Te,new U(n.x2,n.y1)),this._commitLayoutVertex(u.layoutVertexArray,m,w,C,me,Te,new U(n.x2,n.y2)),this._commitLayoutVertex(u.layoutVertexArray,m,w,C,me,Te,new U(n.x1,n.y2)),ee.vertexLength+=4;const Me=u.indexArray;Me.emplaceBack(re,re+1),Me.emplaceBack(re+1,re+2),Me.emplaceBack(re+2,re+3),Me.emplaceBack(re+3,re),ee.primitiveLength+=4}_addTextDebugCollisionBoxes(n,l,u,m,w,C){for(let N=m;N<w;N++){const ee=u.get(N),re=this.getSymbolInstanceTextSize(n,C,l,N);this._addCollisionDebugVertices(ee,re,this.textCollisionBox,ee.projectedAnchorX,ee.projectedAnchorY,ee.projectedAnchorZ,C)}}_addIconDebugCollisionBoxes(n,l,u,m,w,C){for(let N=m;N<w;N++){const ee=u.get(N),re=this.getSymbolInstanceIconSize(n,l,C.placedIconSymbolIndex);this._addCollisionDebugVertices(ee,re,this.iconCollisionBox,ee.projectedAnchorX,ee.projectedAnchorY,ee.projectedAnchorZ,C)}}generateCollisionDebugBuffers(n,l){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new my(ys,_r.members,Dc),this.iconCollisionBox=new my(ys,_r.members,Dc);const u=Np(this.iconSizeData,n),m=Np(this.textSizeData,n);for(let w=0;w<this.symbolInstances.length;w++){const C=this.symbolInstances.get(w);this._addTextDebugCollisionBoxes(m,n,l,C.textBoxStartIndex,C.textBoxEndIndex,C),this._addTextDebugCollisionBoxes(m,n,l,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._addIconDebugCollisionBoxes(u,n,l,C.iconBoxStartIndex,C.iconBoxEndIndex,C),this._addIconDebugCollisionBoxes(u,n,l,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C)}}getSymbolInstanceTextSize(n,l,u,m){const w=this.text.placedSymbolArray.get(l.rightJustifiedTextSymbolIndex>=0?l.rightJustifiedTextSymbolIndex:l.centerJustifiedTextSymbolIndex>=0?l.centerJustifiedTextSymbolIndex:l.leftJustifiedTextSymbolIndex>=0?l.leftJustifiedTextSymbolIndex:l.verticalPlacedTextSymbolIndex>=0?l.verticalPlacedTextSymbolIndex:m),C=dd(this.textSizeData,n,w)/_s;return this.tilePixelRatio*C}getSymbolInstanceIconSize(n,l,u){const m=this.icon.placedSymbolArray.get(u),w=dd(this.iconSizeData,n,m);return this.tilePixelRatio*w}_commitDebugCollisionVertexUpdate(n,l,u){n.emplaceBack(l,-u,-u),n.emplaceBack(l,u,-u),n.emplaceBack(l,u,u),n.emplaceBack(l,-u,u)}_updateTextDebugCollisionBoxes(n,l,u,m,w,C){for(let N=m;N<w;N++){const ee=u.get(N),re=this.getSymbolInstanceTextSize(n,C,l,N);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,re,ee.padding)}}_updateIconDebugCollisionBoxes(n,l,u,m,w,C){for(let N=m;N<w;N++){const ee=u.get(N),re=this.getSymbolInstanceIconSize(n,l,C);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,re,ee.padding)}}updateCollisionDebugBuffers(n,l){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const u=Np(this.iconSizeData,n),m=Np(this.textSizeData,n);for(let w=0;w<this.symbolInstances.length;w++){const C=this.symbolInstances.get(w);this._updateTextDebugCollisionBoxes(m,n,l,C.textBoxStartIndex,C.textBoxEndIndex,C),this._updateTextDebugCollisionBoxes(m,n,l,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._updateIconDebugCollisionBoxes(u,n,l,C.iconBoxStartIndex,C.iconBoxEndIndex,C.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(u,n,l,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(n,l,u,m,w,C,N,ee,re){const me={};if(l<u){const{x1:Te,y1:Me,x2:Oe,y2:ze,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:At,tileAnchorX:yt,tileAnchorY:Tt,featureIndex:It}=n.get(l);me.textBox={x1:Te,y1:Me,x2:Oe,y2:ze,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:At,tileAnchorX:yt,tileAnchorY:Tt},me.textFeatureIndex=It}if(m<w){const{x1:Te,y1:Me,x2:Oe,y2:ze,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:At,tileAnchorX:yt,tileAnchorY:Tt,featureIndex:It}=n.get(m);me.verticalTextBox={x1:Te,y1:Me,x2:Oe,y2:ze,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:At,tileAnchorX:yt,tileAnchorY:Tt},me.verticalTextFeatureIndex=It}if(C<N){const{x1:Te,y1:Me,x2:Oe,y2:ze,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:At,tileAnchorX:yt,tileAnchorY:Tt,featureIndex:It}=n.get(C);me.iconBox={x1:Te,y1:Me,x2:Oe,y2:ze,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:At,tileAnchorX:yt,tileAnchorY:Tt},me.iconFeatureIndex=It}if(ee<re){const{x1:Te,y1:Me,x2:Oe,y2:ze,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:At,tileAnchorX:yt,tileAnchorY:Tt,featureIndex:It}=n.get(ee);me.verticalIconBox={x1:Te,y1:Me,x2:Oe,y2:ze,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:At,tileAnchorX:yt,tileAnchorY:Tt},me.verticalIconFeatureIndex=It}return me}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const u=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(n,l){const u=n.placedSymbolArray.get(l),m=u.vertexStartIndex+4*u.numGlyphs;for(let w=u.vertexStartIndex;w<m;w+=4)n.indexArray.emplaceBack(w,w+1,w+2),n.indexArray.emplaceBack(w+1,w+2,w+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(n),u=Math.cos(n),m=[],w=[],C=[];for(let N=0;N<this.symbolInstances.length;++N){C.push(N);const ee=this.symbolInstances.get(N);m.push(0|Math.round(l*ee.tileAnchorX+u*ee.tileAnchorY)),w.push(ee.featureIndex)}return C.sort((N,ee)=>m[N]-m[ee]||w[ee]-w[N]),C}addToSortKeyRanges(n,l){const u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===l?u.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const u=this.symbolInstances.get(l);this.featureSortOrder.push(u.featureIndex);const{rightJustifiedTextSymbolIndex:m,centerJustifiedTextSymbolIndex:w,leftJustifiedTextSymbolIndex:C,verticalPlacedTextSymbolIndex:N,placedIconSymbolIndex:ee,verticalPlacedIconSymbolIndex:re}=u;m>=0&&this.addIndicesForPlacedSymbol(this.text,m),w>=0&&w!==m&&this.addIndicesForPlacedSymbol(this.text,w),C>=0&&C!==w&&C!==m&&this.addIndicesForPlacedSymbol(this.text,C),N>=0&&this.addIndicesForPlacedSymbol(this.text,N),ee>=0&&this.addIndicesForPlacedSymbol(this.icon,ee),re>=0&&this.addIndicesForPlacedSymbol(this.icon,re)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}nn(Ju,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Ju.MAX_GLYPHS=65535,Ju.addDynamicAttributes=rg;const Fw=new Sn({"symbol-placement":new Yt(mi.layout_symbol["symbol-placement"]),"symbol-spacing":new Yt(mi.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yt(mi.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ni(mi.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Yt(mi.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Yt(mi.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Yt(mi.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yt(mi.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yt(mi.layout_symbol["icon-rotation-alignment"]),"icon-size":new ni(mi.layout_symbol["icon-size"]),"icon-text-fit":new Yt(mi.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Yt(mi.layout_symbol["icon-text-fit-padding"]),"icon-image":new ni(mi.layout_symbol["icon-image"]),"icon-rotate":new ni(mi.layout_symbol["icon-rotate"]),"icon-padding":new Yt(mi.layout_symbol["icon-padding"]),"icon-keep-upright":new Yt(mi.layout_symbol["icon-keep-upright"]),"icon-offset":new ni(mi.layout_symbol["icon-offset"]),"icon-anchor":new ni(mi.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yt(mi.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yt(mi.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yt(mi.layout_symbol["text-rotation-alignment"]),"text-field":new ni(mi.layout_symbol["text-field"]),"text-font":new ni(mi.layout_symbol["text-font"]),"text-size":new ni(mi.layout_symbol["text-size"]),"text-max-width":new ni(mi.layout_symbol["text-max-width"]),"text-line-height":new ni(mi.layout_symbol["text-line-height"]),"text-letter-spacing":new ni(mi.layout_symbol["text-letter-spacing"]),"text-justify":new ni(mi.layout_symbol["text-justify"]),"text-radial-offset":new ni(mi.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Yt(mi.layout_symbol["text-variable-anchor"]),"text-anchor":new ni(mi.layout_symbol["text-anchor"]),"text-max-angle":new Yt(mi.layout_symbol["text-max-angle"]),"text-writing-mode":new Yt(mi.layout_symbol["text-writing-mode"]),"text-rotate":new ni(mi.layout_symbol["text-rotate"]),"text-padding":new Yt(mi.layout_symbol["text-padding"]),"text-keep-upright":new Yt(mi.layout_symbol["text-keep-upright"]),"text-transform":new ni(mi.layout_symbol["text-transform"]),"text-offset":new ni(mi.layout_symbol["text-offset"]),"text-allow-overlap":new Yt(mi.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Yt(mi.layout_symbol["text-ignore-placement"]),"text-optional":new Yt(mi.layout_symbol["text-optional"])});var gy={paint:new Sn({"icon-opacity":new ni(mi.paint_symbol["icon-opacity"]),"icon-color":new ni(mi.paint_symbol["icon-color"]),"icon-halo-color":new ni(mi.paint_symbol["icon-halo-color"]),"icon-halo-width":new ni(mi.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ni(mi.paint_symbol["icon-halo-blur"]),"icon-translate":new Yt(mi.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yt(mi.paint_symbol["icon-translate-anchor"]),"text-opacity":new ni(mi.paint_symbol["text-opacity"]),"text-color":new ni(mi.paint_symbol["text-color"],{runtimeType:ta,getOverride:a=>a.textColor,hasOverride:a=>!!a.textColor}),"text-halo-color":new ni(mi.paint_symbol["text-halo-color"]),"text-halo-width":new ni(mi.paint_symbol["text-halo-width"]),"text-halo-blur":new ni(mi.paint_symbol["text-halo-blur"]),"text-translate":new Yt(mi.paint_symbol["text-translate"]),"text-translate-anchor":new Yt(mi.paint_symbol["text-translate-anchor"])}),layout:Fw};class Yv{constructor(n){this.type=n.property.overrides?n.property.overrides.runtimeType:uo,this.defaultValue=n}evaluate(n){if(n.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(n.formattedSection))return l.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}nn(Yv,"FormatSectionOverride",{omit:["defaultValue"]});class sg extends ul{constructor(n){super(n,gy)}recalculate(n,l){super.recalculate(n,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const u=this.layout.get("text-writing-mode");if(u){const m=[];for(const w of u)m.indexOf(w)<0&&m.push(w);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(n,l,u,m){const w=this.layout.get(n).evaluate(l,{},u,m),C=this._unevaluatedLayout._values[n];return C.isDataDriven()||bt(C.value)||!w?w:function(N,ee){return ee.replace(/{([^{}]+)}/g,(re,me)=>me in N?String(N[me]):"")}(l.properties,w)}createBucket(n){return new Ju(n)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const n of gy.paint.overridableProperties){if(!sg.hasPaintOverride(this.layout,n))continue;const l=this.paint.get(n),u=new Yv(l),m=new Ve(u,l.property.specification);let w=null;w=l.value.kind==="constant"||l.value.kind==="source"?new Tn("source",m):new br("composite",m,l.value.zoomStops,l.value._interpolationType),this.paint._values[n]=new Si(l.property,w,l.parameters)}}_handleOverridablePaintPropertyUpdate(n,l,u){return!(!this.layout||l.isDataDriven()||u.isDataDriven())&&sg.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,l){const u=n.get("text-field"),m=gy.paint.properties[l];let w=!1;const C=N=>{for(const ee of N)if(m.overrides&&m.overrides.hasOverride(ee))return void(w=!0)};if(u.value.kind==="constant"&&u.value.value instanceof eo)C(u.value.value.sections);else if(u.value.kind==="source"){const N=re=>{w||(re instanceof Kl&&Ys(re.value)===Ma?C(re.value.sections):re instanceof Fr?C(re.sections):re.eachChild(N))},ee=u.value;ee._styleExpression&&N(ee._styleExpression.expression)}return w}getProgramConfiguration(n){return new Yu(this,n)}}var jw={paint:new Sn({"background-color":new Yt(mi.paint_background["background-color"]),"background-pattern":new Yt(mi.paint_background["background-pattern"]),"background-opacity":new Yt(mi.paint_background["background-opacity"])})},Uw={paint:new Sn({"raster-opacity":new Yt(mi.paint_raster["raster-opacity"]),"raster-hue-rotate":new Yt(mi.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yt(mi.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yt(mi.paint_raster["raster-brightness-max"]),"raster-saturation":new Yt(mi.paint_raster["raster-saturation"]),"raster-contrast":new Yt(mi.paint_raster["raster-contrast"]),"raster-resampling":new Yt(mi.paint_raster["raster-resampling"]),"raster-fade-duration":new Yt(mi.paint_raster["raster-fade-duration"])})};class $w extends ul{constructor(n){super(n,{}),this.implementation=n}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(n){this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)}onRemove(n){this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)}}var Vw={paint:new Sn({"sky-type":new Yt(mi.paint_sky["sky-type"]),"sky-atmosphere-sun":new Yt(mi.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Yt(mi.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Yt(mi.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Yt(mi.paint_sky["sky-gradient-radius"]),"sky-gradient":new mn(mi.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Yt(mi.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Yt(mi.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Yt(mi.paint_sky["sky-opacity"])})};function yy(a,n,l){const u=[0,0,1],m=S1([]);return Y_(m,m,l?-$(a)+Math.PI:$(a)),W_(m,m,-$(n)),V_(u,u,m),Ja(u,u)}const Gw={circle:class extends ul{constructor(a){super(a,g2)}createBucket(a){return new Mp(a)}queryRadius(a){const n=a;return kp("circle-radius",this,n)+kp("circle-stroke-width",this,n)+Cm(this.paint.get("circle-translate"))}queryIntersectsFeature(a,n,l,u,m,w,C,N){const ee=Ka(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),w.angle,a.pixelToTileUnitsFactor),re=this.paint.get("circle-radius").evaluate(n,l)+this.paint.get("circle-stroke-width").evaluate(n,l);return q_(a,u,w,C,N,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",ee,re)}getProgramIds(){return["circle"]}getProgramConfiguration(a){return new Yu(this,a)}},heatmap:class extends ul{createBucket(a){return new Z_(a)}constructor(a){super(a,w2),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=qf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(a){return kp("heatmap-radius",this,a)}queryIntersectsFeature(a,n,l,u,m,w,C,N){const ee=this.paint.get("heatmap-radius").evaluate(n,l);return q_(a,u,w,C,N,!0,!0,new U(0,0),ee)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(a){return new Yu(this,a)}},hillshade:class extends ul{constructor(a){super(a,T2)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends ul{constructor(a){super(a,N2)}getProgramIds(){const a=this.paint.get("fill-pattern"),n=a&&a.constantOr(1),l=[n?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&l.push(n&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),l}getProgramConfiguration(a){return new Yu(this,a)}recalculate(a,n){super.recalculate(a,n);const l=this.paint._values["fill-outline-color"];l.value.kind==="constant"&&l.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new Im(a)}queryRadius(){return Cm(this.paint.get("fill-translate"))}queryIntersectsFeature(a,n,l,u,m,w){return!a.queryGeometry.isAboveHorizon&&F_(jd(a.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),w.angle,a.pixelToTileUnitsFactor),u)}isTileClipped(){return!0}},"fill-extrusion":class extends ul{constructor(a){super(a,hv)}createBucket(a){return new t0(a)}queryRadius(){return Cm(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(a){return new Yu(this,a)}queryIntersectsFeature(a,n,l,u,m,w,C,N,ee){const re=Ka(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),w.angle,a.pixelToTileUnitsFactor),me=this.paint.get("fill-extrusion-height").evaluate(n,l),Te=this.paint.get("fill-extrusion-base").evaluate(n,l),Me=[0,0],Oe=N&&w.elevation,ze=w.elevation?w.elevation.exaggeration():1,He=a.tile.getBucket(this);if(Oe&&He instanceof t0){const Tt=He.centroidVertexArray,It=ee+1;It<Tt.length&&(Me[0]=Tt.geta_centroid_pos0(It),Me[1]=Tt.geta_centroid_pos1(It))}if(Me[0]===0&&Me[1]===1)return!1;w.projection.name==="globe"&&(u=j1([u],[new U(0,0),new U(Rn,Rn)],a.tileID.canonical).map(Tt=>Tt.polygon).flat());const tt=Oe?N:null,[_t,At]=function(Tt,It,Pt,ti,Qt,vi,ji,ai,Ti,Ci,Oi){return Tt.projection.name==="globe"?function(Ui,ci,en,Nn,ln,xn,tn,Vn,Mr,wr,vr){const Gn=[],cs=[],or=Ui.projection.upVectorScale(vr,Ui.center.lat,Ui.worldSize).metersToTile,kr=[0,0,0,1],vs=[0,0,0,1],Bs=(zs,Us,Co,Ia)=>{zs[0]=Us,zs[1]=Co,zs[2]=Ia,zs[3]=1},Ds=F1();en>0&&(en+=Ds),Nn+=Ds;for(const zs of ci){const Us=[],Co=[];for(const Ia of zs){const ds=Ia.x+ln.x,Zo=Ia.y+ln.y,jo=Ui.projection.projectTilePoint(ds,Zo,vr),Xr=Ui.projection.upVector(vr,Ia.x,Ia.y);let lo=en,da=Nn;if(tn){const xs=U1(ds,Zo,en,Nn,tn,Vn,Mr,wr);lo+=xs.base,da+=xs.top}en!==0?Bs(kr,jo.x+Xr[0]*or*lo,jo.y+Xr[1]*or*lo,jo.z+Xr[2]*or*lo):Bs(kr,jo.x,jo.y,jo.z),Bs(vs,jo.x+Xr[0]*or*da,jo.y+Xr[1]*or*da,jo.z+Xr[2]*or*da),po(kr,kr,xn),po(vs,vs,xn),Us.push(new zp(kr[0],kr[1],kr[2])),Co.push(new zp(vs[0],vs[1],vs[2]))}Gn.push(Us),cs.push(Co)}return[Gn,cs]}(Tt,It,Pt,ti,Qt,vi,ji,ai,Ti,Ci,Oi):ji?function(Ui,ci,en,Nn,ln,xn,tn,Vn,Mr){const wr=[],vr=[],Gn=[0,0,0,1];for(const cs of Ui){const or=[],kr=[];for(const vs of cs){const Bs=vs.x+Nn.x,Ds=vs.y+Nn.y,zs=U1(Bs,Ds,ci,en,xn,tn,Vn,Mr);Gn[0]=Bs,Gn[1]=Ds,Gn[2]=zs.base,Gn[3]=1,qu(Gn,Gn,ln),Gn[3]=Math.max(Gn[3],1e-5);const Us=new zp(Gn[0]/Gn[3],Gn[1]/Gn[3],Gn[2]/Gn[3]);Gn[0]=Bs,Gn[1]=Ds,Gn[2]=zs.top,Gn[3]=1,qu(Gn,Gn,ln),Gn[3]=Math.max(Gn[3],1e-5);const Co=new zp(Gn[0]/Gn[3],Gn[1]/Gn[3],Gn[2]/Gn[3]);or.push(Us),kr.push(Co)}wr.push(or),vr.push(kr)}return[wr,vr]}(It,Pt,ti,Qt,vi,ji,ai,Ti,Ci):function(Ui,ci,en,Nn,ln){const xn=[],tn=[],Vn=ln[8]*ci,Mr=ln[9]*ci,wr=ln[10]*ci,vr=ln[11]*ci,Gn=ln[8]*en,cs=ln[9]*en,or=ln[10]*en,kr=ln[11]*en;for(const vs of Ui){const Bs=[],Ds=[];for(const zs of vs){const Us=zs.x+Nn.x,Co=zs.y+Nn.y,Ia=ln[0]*Us+ln[4]*Co+ln[12],ds=ln[1]*Us+ln[5]*Co+ln[13],Zo=ln[2]*Us+ln[6]*Co+ln[14],jo=ln[3]*Us+ln[7]*Co+ln[15],Xr=Ia+Vn,lo=ds+Mr,da=Zo+wr,xs=Math.max(jo+vr,1e-5),Lo=Ia+Gn,fl=ds+cs,La=Zo+or,Oa=Math.max(jo+kr,1e-5);Bs.push(new zp(Xr/xs,lo/xs,da/xs)),Ds.push(new zp(Lo/Oa,fl/Oa,La/Oa))}xn.push(Bs),tn.push(Ds)}return[xn,tn]}(It,Pt,ti,Qt,vi)}(w,u,Te,me,re,C,tt,Me,ze,w.center.lat,a.tileID.canonical),yt=a.queryGeometry;return function(Tt,It,Pt){let ti=1/0;F_(Pt,It)&&(ti=jm(Pt,It[0]));for(let Qt=0;Qt<It.length;Qt++){const vi=It[Qt],ji=Tt[Qt];for(let ai=0;ai<vi.length-1;ai++){const Ti=vi[ai],Ci=[Ti,vi[ai+1],ji[ai+1],ji[ai],Ti];Tm(Pt,Ci)&&(ti=Math.min(ti,jm(Pt,Ci)))}}return ti!==1/0&&ti}(_t,At,yt.isPointQuery()?yt.screenBounds:yt.screenGeometry)}},line:class extends ul{constructor(a){super(a,mv),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const n=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=n._styleExpression&&n._styleExpression.expression instanceof na,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,n){super.recalculate(a,n),this.paint._values["line-floorwidth"]=gv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new Um(a)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(a){return new Yu(this,a)}queryRadius(a){const n=a,l=yv(kp("line-width",this,n),kp("line-gap-width",this,n)),u=kp("line-offset",this,n);return l/2+Math.abs(u)+Cm(this.paint.get("line-translate"))}queryIntersectsFeature(a,n,l,u,m,w){if(a.queryGeometry.isAboveHorizon)return!1;const C=jd(a.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),w.angle,a.pixelToTileUnitsFactor),N=a.pixelToTileUnitsFactor/2*yv(this.paint.get("line-width").evaluate(n,l),this.paint.get("line-gap-width").evaluate(n,l)),ee=this.paint.get("line-offset").evaluate(n,l);return ee&&(u=function(re,me){const Te=[],Me=new U(0,0);for(let Oe=0;Oe<re.length;Oe++){const ze=re[Oe],He=[];for(let tt=0;tt<ze.length;tt++){const _t=ze[tt-1],At=ze[tt],yt=ze[tt+1],Tt=tt===0?Me:At.sub(_t)._unit()._perp(),It=tt===ze.length-1?Me:yt.sub(At)._unit()._perp(),Pt=Tt._add(It)._unit();Pt._mult(1/(Pt.x*It.x+Pt.y*It.y)),He.push(Pt._mult(me)._add(At))}Te.push(He)}return Te}(u,ee*a.pixelToTileUnitsFactor)),function(re,me,Te){for(let Me=0;Me<me.length;Me++){const Oe=me[Me];if(re.length>=3){for(let ze=0;ze<Oe.length;ze++)if(Ah(re,Oe[ze]))return!0}if(p1(re,Oe,Te))return!0}return!1}(C,u,N)}isTileClipped(){return!0}},symbol:sg,background:class extends ul{constructor(a){super(a,jw)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends ul{constructor(a){super(a,Uw)}getProgramIds(){return["raster"]}},sky:class extends ul{constructor(a){super(a,Vw),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="sky-gradient"?this._updateColorRamp():a!=="sky-atmosphere-sun"&&a!=="sky-atmosphere-halo-color"&&a!=="sky-atmosphere-color"&&a!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=qf({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(a){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const n=a.style.light.properties.get("position");return this._lightPosition.azimuthal!==n.azimuthal||this._lightPosition.polar!==n.polar}return!1}getCenter(a,n){if(this.paint.get("sky-type")==="atmosphere"){const u=this.paint.get("sky-atmosphere-sun"),m=!u,w=a.style.light,C=w.properties.get("position");return m&&w.properties.get("anchor")==="viewport"&&oe("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),m?yy(C.azimuthal,90-C.polar,n):yy(u[0],90-u[1],n)}const l=this.paint.get("sky-gradient-center");return yy(l[0],90-l[1],n)}is3D(){return!1}isSky(){return!0}markSkyboxValid(a){this._skyboxInvalidated=!1,this._lightPosition=a.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const a=this.paint.get("sky-type");return a==="atmosphere"?["skyboxCapture","skybox"]:a==="gradient"?["skyboxGradient"]:null}}};class m0{constructor(n,l,u,m){this.context=n,this.format=u,this.texture=n.gl.createTexture(),this.update(l,m)}update(n,l,u){const{width:m,height:w}=n,{context:C}=this,{gl:N}=C,{HTMLImageElement:ee,HTMLCanvasElement:re,HTMLVideoElement:me,ImageData:Te,ImageBitmap:Me}=v;if(N.bindTexture(N.TEXTURE_2D,this.texture),C.pixelStoreUnpackFlipY.set(!1),C.pixelStoreUnpack.set(1),C.pixelStoreUnpackPremultiplyAlpha.set(this.format===N.RGBA&&(!l||l.premultiply!==!1)),u||this.size&&this.size[0]===m&&this.size[1]===w){const{x:Oe,y:ze}=u||{x:0,y:0};n instanceof ee||n instanceof re||n instanceof me||n instanceof Te||Me&&n instanceof Me?N.texSubImage2D(N.TEXTURE_2D,0,Oe,ze,N.RGBA,N.UNSIGNED_BYTE,n):N.texSubImage2D(N.TEXTURE_2D,0,Oe,ze,m,w,N.RGBA,N.UNSIGNED_BYTE,n.data)}else this.size=[m,w],n instanceof ee||n instanceof re||n instanceof me||n instanceof Te||Me&&n instanceof Me?N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,N.UNSIGNED_BYTE,n):N.texImage2D(N.TEXTURE_2D,0,this.format,m,w,0,this.format,N.UNSIGNED_BYTE,n.data);this.useMipmap=!!(l&&l.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&N.generateMipmap(N.TEXTURE_2D)}bind(n,l){const{context:u}=this,{gl:m}=u;m.bindTexture(m.TEXTURE_2D,this.texture),n!==this.filter&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,n),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,this.useMipmap?n===m.NEAREST?m.NEAREST_MIPMAP_NEAREST:m.LINEAR_MIPMAP_NEAREST:n),this.filter=n),l!==this.wrap&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,l),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class y{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class I{constructor(){this.tasks={},this.taskQueue=[],se(["process"],this),this.invoker=new y(this.process),this.nextId=0}add(n,l){const u=this.nextId++,m=function({type:w,isSymbolTile:C,zoom:N}){return N=N||0,w==="message"?0:w!=="maybePrepare"||C?w!=="parseTile"||C?w==="parseTile"&&C?300-N:w==="maybePrepare"&&C?400-N:500:200-N:100-N}(l);if(m===0){Re();try{n()}finally{}return{cancel:()=>{}}}return this.tasks[u]={fn:n,metadata:l,priority:m,id:u},this.taskQueue.push(u),this.invoker.trigger(),{cancel:()=>{delete this.tasks[u]}}}process(){Re();try{if(this.taskQueue=this.taskQueue.filter(u=>!!this.tasks[u]),!this.taskQueue.length)return;const n=this.pick();if(n===null)return;const l=this.tasks[n];if(delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),!l)return;l.fn()}finally{}}pick(){let n=null,l=1/0;for(let m=0;m<this.taskQueue.length;m++){const w=this.tasks[this.taskQueue[m]];w.priority<l&&(l=w.priority,n=m)}if(n===null)return null;const u=this.taskQueue[n];return this.taskQueue.splice(n,1),u}remove(){this.invoker.remove()}}class le{constructor(n){this._stringToNumber={},this._numberToString=[];for(let l=0;l<n.length;l++){const u=n[l];this._stringToNumber[u]=l,this._numberToString[l]=u}}encode(n){return this._stringToNumber[n]}decode(n){return this._numberToString[n]}}const Pe=["tile","layer","source","sourceLayer","state"];class Ye{constructor(n,l,u,m,w){this.type="Feature",this._vectorTileFeature=n,this._z=l,this._x=u,this._y=m,this.properties=n.properties,this.id=w}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(n.id=this.id);for(const l of Pe)this[l]!==void 0&&(n[l]=this[l]);return n}}const ot=32,Mt=33,Nt=new Uint16Array(8184);for(let a=0;a<2046;a++){let n=a+2,l=0,u=0,m=0,w=0,C=0,N=0;for(1&n?m=w=C=ot:l=u=N=ot;(n>>=1)>1;){const re=l+m>>1,me=u+w>>1;1&n?(m=l,w=u,l=C,u=N):(l=m,u=w,m=C,w=N),C=re,N=me}const ee=4*a;Nt[ee+0]=l,Nt[ee+1]=u,Nt[ee+2]=m,Nt[ee+3]=w}const qt=new Uint16Array(2178),Ai=new Uint8Array(1089),Bi=new Uint16Array(1089);function Gi(a){return a===0?-.03125:a===32?.03125:0}var yn=dn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const zn={type:2,extent:Rn,loadGeometry:()=>[[new U(0,0),new U(8193,0),new U(8193,8193),new U(0,8193),new U(0,0)]]};class sr{constructor(n,l,u,m,w){this.tileID=n,this.uid=pe(),this.uses=0,this.tileSize=l,this.tileZoom=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=w,this.expiredRequestCount=0,this.state="loading",m&&m.transform&&(this.projection=m.transform.projection)}registerFadeDuration(n){const l=n+this.timeAdded;l<_n.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=jh(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(n,l,u){if(this.unloadVectorData(),this.state="loaded",n){n.featureIndex&&(this.latestFeatureIndex=n.featureIndex,n.rawTileData?(this.latestRawTileData=n.rawTileData,this.latestFeatureIndex.rawTileData=n.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=n.collisionBoxArray,this.buckets=function(m,w){const C={};if(!w)return C;for(const N of m){const ee=N.layerIds.map(re=>w.getLayer(re)).filter(Boolean);if(ee.length!==0){N.layers=ee,N.stateDependentLayerIds&&(N.stateDependentLayers=N.stateDependentLayerIds.map(re=>ee.filter(me=>me.id===re)[0]));for(const re of ee)C[re.id]=N}}return C}(n.buckets,l.style),this.hasSymbolBuckets=!1;for(const m in this.buckets){const w=this.buckets[m];if(w instanceof Ju){if(this.hasSymbolBuckets=!0,!u)break;w.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const m in this.buckets){const w=this.buckets[m];if(w instanceof Ju&&w.hasRTLText){this.hasRTLText=!0,Jt.isLoading()||Jt.isLoaded()||jt()!=="deferred"||ii();break}}this.queryPadding=0;for(const m in this.buckets){const w=this.buckets[m];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(m).queryRadius(w))}n.imageAtlas&&(this.imageAtlas=n.imageAtlas),n.glyphAtlasImage&&(this.glyphAtlasImage=n.glyphAtlasImage),n.lineAtlas&&(this.lineAtlas=n.lineAtlas)}else this.collisionBoxArray=new Qg}unloadVectorData(){if(this.hasData()){for(const n in this.buckets)this.buckets[n].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(n){return this.buckets[n.id]}upload(n){for(const u in this.buckets){const m=this.buckets[u];m.uploadPending()&&m.upload(n)}const l=n.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new m0(n,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new m0(n,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new m0(n,this.lineAtlas.image,l.ALPHA),this.lineAtlas.uploaded=!0)}prepare(n){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(n,this.imageAtlasTexture)}queryRenderedFeatures(n,l,u,m,w,C,N,ee){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:m,pixelPosMatrix:N,transform:C,params:w,tileTransform:this.tileTransform},n,l,u):{}}querySourceFeatures(n,l){const u=this.latestFeatureIndex;if(!u||!u.rawTileData)return;const m=u.loadVTLayers(),w=l?l.sourceLayer:"",C=m._geojsonTileLayer||m[w];if(!C)return;const N=js(l&&l.filter),{z:ee,x:re,y:me}=this.tileID.canonical,Te={z:ee,x:re,y:me};for(let Me=0;Me<C.length;Me++){const Oe=C.feature(Me);if(N.needGeometry){const tt=Fd(Oe,!0);if(!N.filter(new Gt(this.tileID.overscaledZ),tt,this.tileID.canonical))continue}else if(!N.filter(new Gt(this.tileID.overscaledZ),Oe))continue;const ze=u.getId(Oe,w),He=new Ye(Oe,ee,re,me,ze);He.tile=Te,n.push(He)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(n){const l=this.expirationTime;if(n.cacheControl){const u=Le(n.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else n.expires&&(this.expirationTime=new Date(n.expires).getTime());if(this.expirationTime){const u=Date.now();let m=!1;if(this.expirationTime>u)m=!1;else if(l)if(this.expirationTime<l)m=!0;else{const w=this.expirationTime-l;w?this.expirationTime=u+Math.max(w,3e4):m=!0}else m=!0;m?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(n,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(n).length===0||!l)return;const u=this.latestFeatureIndex.loadVTLayers(),m=l.style.listImages();for(const w in this.buckets){if(!l.style.hasLayer(w))continue;const C=this.buckets[w],N=C.layers[0].sourceLayer||"_geojsonTileLayer",ee=u[N],re=n[N];if(!ee||!re||Object.keys(re).length===0)continue;if(C.update(re,ee,m,this.imageAtlas&&this.imageAtlas.patternPositions||{}),C instanceof Um||C instanceof Im){const Te=l.style._getSourceCache(C.layers[0].source);l._terrain&&l._terrain.enabled&&Te&&C.programConfigurations.needsUpload&&l._terrain._clearRenderCacheForTile(Te.id,this.tileID)}const me=l&&l.style&&l.style.getLayer(w);me&&(this.queryPadding=Math.max(this.queryPadding,me.queryRadius(C)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<_n.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(n){this.symbolFadeHoldUntil=_n.now()+n}setTexture(n,l){const u=l.context,m=u.gl;this.texture=this.texture||l.getTileTexture(n.width),this.texture?this.texture.update(n,{useMipmap:!0}):(this.texture=new m0(u,n,m.RGBA,{useMipmap:!0}),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE),u.extTextureFilterAnisotropic&&m.texParameterf(m.TEXTURE_2D,u.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,u.extTextureFilterAnisotropicMax))}setDependencies(n,l){const u={};for(const m of l)u[m]=!0;this.dependencies[n]=u}hasDependency(n,l){for(const u of n){const m=this.dependencies[u];if(m){for(const w of l)if(m[w])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(n,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const u=od(zn,this.tileID.canonical,this.tileTransform)[0],m=new Hr,w=new pu;for(let C=0;C<u.length;C++){const{x:N,y:ee}=u[C];m.emplaceBack(N,ee),w.emplaceBack(C)}w.emplaceBack(0),this._tileDebugIndexBuffer=n.createIndexBuffer(w),this._tileDebugBuffer=n.createVertexBuffer(m,a0.members),this._tileDebugSegments=bo.simpleSegment(0,0,m.length,w.length)}_makeTileBoundsBuffers(n,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const u=od(zn,this.tileID.canonical,this.tileTransform)[0];let m,w;if(this.isRaster){const C=function(N,ee){const re=jh(N,ee),me=Math.pow(2,N.z);for(let tt=0;tt<Mt;tt++)for(let _t=0;_t<Mt;_t++){const At=hl((N.x+(_t+Gi(_t))/ot)/me),yt=wa((N.y+(tt+Gi(tt))/ot)/me),Tt=ee.project(At,yt),It=tt*Mt+_t;qt[2*It+0]=Math.round((Tt.x*re.scale-re.x)*Rn),qt[2*It+1]=Math.round((Tt.y*re.scale-re.y)*Rn)}Ai.fill(0),Bi.fill(0);for(let tt=2045;tt>=0;tt--){const _t=4*tt,At=Nt[_t+0],yt=Nt[_t+1],Tt=Nt[_t+2],It=Nt[_t+3],Pt=At+Tt>>1,ti=yt+It>>1,Qt=Pt+ti-yt,vi=ti+At-Pt,ji=yt*Mt+At,ai=It*Mt+Tt,Ti=ti*Mt+Pt,Ci=Math.hypot((qt[2*ji+0]+qt[2*ai+0])/2-qt[2*Ti+0],(qt[2*ji+1]+qt[2*ai+1])/2-qt[2*Ti+1])>=16;if(Ai[Ti]=Ai[Ti]||(Ci?1:0),tt<1022){const Oi=(yt+vi>>1)*Mt+(At+Qt>>1),Ui=(It+vi>>1)*Mt+(Tt+Qt>>1);Ai[Ti]=Ai[Ti]||Ai[Oi]||Ai[Ui]}}const Te=new es,Me=new la;let Oe=0;function ze(tt,_t){const At=_t*Mt+tt;return Bi[At]===0&&(Te.emplaceBack(qt[2*At+0],qt[2*At+1],tt*Rn/ot,_t*Rn/ot),Bi[At]=++Oe),Bi[At]-1}function He(tt,_t,At,yt,Tt,It){const Pt=tt+At>>1,ti=_t+yt>>1;if(Math.abs(tt-Tt)+Math.abs(_t-It)>1&&Ai[ti*Mt+Pt])He(Tt,It,tt,_t,Pt,ti),He(At,yt,Tt,It,Pt,ti);else{const Qt=ze(tt,_t),vi=ze(At,yt),ji=ze(Tt,It);Me.emplaceBack(Qt,vi,ji)}}return He(0,0,ot,ot,ot,0),He(ot,ot,0,0,0,ot),{vertices:Te,indices:Me}}(this.tileID.canonical,l);m=C.vertices,w=C.indices}else{m=new es,w=new la;for(const{x:N,y:ee}of u)m.emplaceBack(N,ee,0,0);const C=Xf.exports(m.int16,void 0,4);for(let N=0;N<C.length;N+=3)w.emplaceBack(C[N],C[N+1],C[N+2])}this._tileBoundsBuffer=n.createVertexBuffer(m,yn.members),this._tileBoundsIndexBuffer=n.createIndexBuffer(w),this._tileBoundsSegments=bo.simpleSegment(0,0,m.length,w.length)}_makeGlobeTileDebugBuffers(n,l){const u=l.projection;if(!u||u.name!=="globe"||l.freezeTileCoverage)return;const m=this.tileID.canonical,w=d0(Fv(m,l)),C=Fh(l.zoom);let N;C>0&&(N=Em(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(n,m,l,w,N,C),this._makeGlobeTileDebugTextBuffer(n,m,l,w,N,C)}_globePoint(n,l,u,m,w,C,N){let ee=c0(n,l,u);if(C){const re=1<<u.z,me=rd(m.center.lng),Te=hc(m.center.lat),Me=(u.x+.5)/re-me;let Oe=0;Me>.5?Oe=-1:Me<-.5&&(Oe=1);let ze=(n/Rn+u.x)/re+Oe,He=(l/Rn+u.y)/re;ze=(ze-me)*m._pixelsPerMercatorPixel+me,He=(He-Te)*m._pixelsPerMercatorPixel+Te;const tt=[ze*m.worldSize,He*m.worldSize,0];po(tt,tt,C),ee=Nh(ee,tt,N)}return po(ee,ee,w)}_makeGlobeTileDebugBorderBuffer(n,l,u,m,w,C){const N=new Hr,ee=new pu,re=new ss,me=(Me,Oe,ze,He,tt)=>{const _t=(ze-Me)/(tt-1),At=(He-Oe)/(tt-1),yt=N.length;for(let Tt=0;Tt<tt;Tt++){const It=Me+Tt*_t,Pt=Oe+Tt*At;N.emplaceBack(It,Pt);const ti=this._globePoint(It,Pt,l,u,m,w,C);re.emplaceBack(ti[0],ti[1],ti[2]),ee.emplaceBack(yt+Tt)}},Te=Rn;me(0,0,Te,0,16),me(Te,0,Te,Te,16),me(Te,Te,0,Te,16),me(0,Te,0,0,16),this._tileDebugIndexBuffer=n.createIndexBuffer(ee),this._tileDebugBuffer=n.createVertexBuffer(N,a0.members),this._globeTileDebugBorderBuffer=n.createVertexBuffer(re,iy.members),this._tileDebugSegments=bo.simpleSegment(0,0,N.length,ee.length)}_makeGlobeTileDebugTextBuffer(n,l,u,m,w,C){const N=new Hr,ee=new la,re=new ss,me=25;ee.reserve(32),N.reserve(me),re.reserve(me);const Te=(Me,Oe)=>me*Me+Oe;for(let Me=0;Me<me;Me++){const Oe=2048*Me;for(let ze=0;ze<me;ze++){const He=2048*ze;N.emplaceBack(He,Oe);const tt=this._globePoint(He,Oe,l,u,m,w,C);re.emplaceBack(tt[0],tt[1],tt[2])}}for(let Me=0;Me<4;Me++)for(let Oe=0;Oe<4;Oe++){const ze=Te(Me,Oe),He=Te(Me,Oe+1),tt=Te(Me+1,Oe),_t=Te(Me+1,Oe+1);ee.emplaceBack(ze,He,tt),ee.emplaceBack(tt,He,_t)}this._tileDebugTextIndexBuffer=n.createIndexBuffer(ee),this._tileDebugTextBuffer=n.createVertexBuffer(N,a0.members),this._globeTileDebugTextBuffer=n.createVertexBuffer(re,iy.members),this._tileDebugTextSegments=bo.simpleSegment(0,0,me,32)}}class Lr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(n,l,u){const m=String(l);if(this.stateChanges[n]=this.stateChanges[n]||{},this.stateChanges[n][m]=this.stateChanges[n][m]||{},J(this.stateChanges[n][m],u),this.deletedStates[n]===null){this.deletedStates[n]={};for(const w in this.state[n])w!==m&&(this.deletedStates[n][w]=null)}else if(this.deletedStates[n]&&this.deletedStates[n][m]===null){this.deletedStates[n][m]={};for(const w in this.state[n][m])u[w]||(this.deletedStates[n][m][w]=null)}else for(const w in u)this.deletedStates[n]&&this.deletedStates[n][m]&&this.deletedStates[n][m][w]===null&&delete this.deletedStates[n][m][w]}removeFeatureState(n,l,u){if(this.deletedStates[n]===null)return;const m=String(l);if(this.deletedStates[n]=this.deletedStates[n]||{},u&&l!==void 0)this.deletedStates[n][m]!==null&&(this.deletedStates[n][m]=this.deletedStates[n][m]||{},this.deletedStates[n][m][u]=null);else if(l!==void 0)if(this.stateChanges[n]&&this.stateChanges[n][m])for(u in this.deletedStates[n][m]={},this.stateChanges[n][m])this.deletedStates[n][m][u]=null;else this.deletedStates[n][m]=null;else this.deletedStates[n]=null}getState(n,l){const u=String(l),m=J({},(this.state[n]||{})[u],(this.stateChanges[n]||{})[u]);if(this.deletedStates[n]===null)return{};if(this.deletedStates[n]){const w=this.deletedStates[n][l];if(w===null)return{};for(const C in w)delete m[C]}return m}initializeTileState(n,l){n.setFeatureState(this.state,l)}coalesceChanges(n,l){const u={};for(const m in this.stateChanges){this.state[m]=this.state[m]||{};const w={};for(const C in this.stateChanges[m])this.state[m][C]||(this.state[m][C]={}),J(this.state[m][C],this.stateChanges[m][C]),w[C]=this.state[m][C];u[m]=w}for(const m in this.deletedStates){this.state[m]=this.state[m]||{};const w={};if(this.deletedStates[m]===null)for(const C in this.state[m])w[C]={},this.state[m][C]={};else for(const C in this.deletedStates[m]){if(this.deletedStates[m][C]===null)this.state[m][C]={};else for(const N of Object.keys(this.deletedStates[m][C]))delete this.state[m][C][N];w[C]=this.state[m][C]}u[m]=u[m]||{},J(u[m],w)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(const m in n)n[m].setFeatureState(u,l)}}class ar{constructor(n){this.size=n,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(n,l){const u=this.toIdx(n,l);return{min:this.minimums[u],max:this.maximums[u]}}isLeaf(n,l){return this.leaves[this.toIdx(n,l)]}toIdx(n,l){return l*this.size+n}}function Vr(a,n,l,u){let m=0,w=Number.MAX_VALUE;for(let C=0;C<3;C++)if(Math.abs(u[C])<1e-15){if(l[C]<a[C]||l[C]>n[C])return null}else{const N=1/u[C];let ee=(a[C]-l[C])*N,re=(n[C]-l[C])*N;if(ee>re){const me=ee;ee=re,re=me}if(ee>m&&(m=ee),re<w&&(w=re),m>w)return null}return m}function qr(a,n,l,u,m,w,C,N,ee,re,me){const Te=u-a,Me=m-n,Oe=w-l,ze=C-a,He=N-n,tt=ee-l,_t=me[1]*tt-me[2]*He,At=me[2]*ze-me[0]*tt,yt=me[0]*He-me[1]*ze,Tt=Te*_t+Me*At+Oe*yt;if(Math.abs(Tt)<1e-15)return null;const It=1/Tt,Pt=re[0]-a,ti=re[1]-n,Qt=re[2]-l,vi=(Pt*_t+ti*At+Qt*yt)*It;if(vi<0||vi>1)return null;const ji=ti*Oe-Qt*Me,ai=Qt*Te-Pt*Oe,Ti=Pt*Me-ti*Te,Ci=(me[0]*ji+me[1]*ai+me[2]*Ti)*It;return Ci<0||vi+Ci>1?null:(ze*ji+He*ai+tt*Ti)*It}function Il(a,n,l){return(a-n)/(l-n)}function tl(a,n,l,u,m,w,C,N,ee){const re=1<<l,me=w-u,Te=C-m,Me=(a+1)/re*me+u,Oe=(n+0)/re*Te+m,ze=(n+1)/re*Te+m;N[0]=(a+0)/re*me+u,N[1]=Oe,ee[0]=Me,ee[1]=ze}class Ll{constructor(n){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=n,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const l=function(w){const C=Math.ceil(Math.log2(w.dim/8)),N=[];let ee=Math.ceil(Math.pow(2,C));const re=1/ee,me=(Oe,ze,He,tt,_t)=>{const At=tt?1:0,yt=(Oe+1)*He-At,Tt=ze*He,It=(ze+1)*He-At;_t[0]=Oe*He,_t[1]=Tt,_t[2]=yt,_t[3]=It};let Te=new ar(ee);const Me=[];for(let Oe=0;Oe<ee*ee;Oe++){me(Oe%ee,Math.floor(Oe/ee),re,!1,Me);const ze=Sa(Me[0],Me[1],w),He=Sa(Me[2],Me[1],w),tt=Sa(Me[2],Me[3],w),_t=Sa(Me[0],Me[3],w);Te.minimums.push(Math.min(ze,He,tt,_t)),Te.maximums.push(Math.max(ze,He,tt,_t)),Te.leaves.push(1)}for(N.push(Te),ee/=2;ee>=1;ee/=2){const Oe=N[N.length-1];Te=new ar(ee);for(let ze=0;ze<ee*ee;ze++){me(ze%ee,Math.floor(ze/ee),2,!0,Me);const He=Oe.getElevation(Me[0],Me[1]),tt=Oe.getElevation(Me[2],Me[1]),_t=Oe.getElevation(Me[2],Me[3]),At=Oe.getElevation(Me[0],Me[3]),yt=Oe.isLeaf(Me[0],Me[1]),Tt=Oe.isLeaf(Me[2],Me[1]),It=Oe.isLeaf(Me[2],Me[3]),Pt=Oe.isLeaf(Me[0],Me[3]),ti=Math.min(He.min,tt.min,_t.min,At.min),Qt=Math.max(He.max,tt.max,_t.max,At.max),vi=yt&&Tt&&It&&Pt;Te.maximums.push(Qt),Te.minimums.push(ti),Te.leaves.push(Qt-ti<=5&&vi?1:0)}N.push(Te)}return N}(this.dem),u=l.length-1,m=l[u];this._addNode(m.minimums[0],m.maximums[0],m.leaves[0]),this._construct(l,0,0,u,0)}raycastRoot(n,l,u,m,w,C,N=1){return Vr([n,l,-100],[u,m,this.maximums[0]*N],w,C)}raycast(n,l,u,m,w,C,N=1){if(!this.nodeCount)return null;const ee=this.raycastRoot(n,l,u,m,w,C,N);if(ee==null)return null;const re=[],me=[],Te=[],Me=[],Oe=[{idx:0,t:ee,nodex:0,nodey:0,depth:0}];for(;Oe.length>0;){const{idx:ze,t:He,nodex:tt,nodey:_t,depth:At}=Oe.pop();if(this.leaves[ze]){tl(tt,_t,At,n,l,u,m,Te,Me);const Tt=1<<At,It=(tt+0)/Tt,Pt=(tt+1)/Tt,ti=(_t+0)/Tt,Qt=(_t+1)/Tt,vi=Sa(It,ti,this.dem)*N,ji=Sa(Pt,ti,this.dem)*N,ai=Sa(Pt,Qt,this.dem)*N,Ti=Sa(It,Qt,this.dem)*N,Ci=qr(Te[0],Te[1],vi,Me[0],Te[1],ji,Me[0],Me[1],ai,w,C),Oi=qr(Me[0],Me[1],ai,Te[0],Me[1],Ti,Te[0],Te[1],vi,w,C),Ui=Math.min(Ci!==null?Ci:Number.MAX_VALUE,Oi!==null?Oi:Number.MAX_VALUE);if(Ui!==Number.MAX_VALUE)return Ui;{const ci=Lp([],w,C,He);if(Io(vi,ji,Ti,ai,Il(ci[0],Te[0],Me[0]),Il(ci[1],Te[1],Me[1]))>=ci[2])return He}continue}let yt=0;for(let Tt=0;Tt<this._siblingOffset.length;Tt++){tl((tt<<1)+this._siblingOffset[Tt][0],(_t<<1)+this._siblingOffset[Tt][1],At+1,n,l,u,m,Te,Me),Te[2]=-100,Me[2]=this.maximums[this.childOffsets[ze]+Tt]*N;const It=Vr(Te,Me,w,C);if(It!=null){const Pt=It;re[Tt]=Pt;let ti=!1;for(let Qt=0;Qt<yt&&!ti;Qt++)Pt>=re[me[Qt]]&&(me.splice(Qt,0,Tt),ti=!0);ti||(me[yt]=Tt),yt++}}for(let Tt=0;Tt<yt;Tt++){const It=me[Tt];Oe.push({idx:this.childOffsets[ze]+It,t:re[It],nodex:(tt<<1)+this._siblingOffset[It][0],nodey:(_t<<1)+this._siblingOffset[It][1],depth:At+1})}}return null}_addNode(n,l,u){return this.minimums.push(n),this.maximums.push(l),this.leaves.push(u),this.childOffsets.push(0),this.nodeCount++}_construct(n,l,u,m,w){if(n[m].isLeaf(l,u)===1)return;this.childOffsets[w]||(this.childOffsets[w]=this.nodeCount);const C=m-1,N=n[C];let ee=0,re=0;for(let me=0;me<this._siblingOffset.length;me++){const Te=2*l+this._siblingOffset[me][0],Me=2*u+this._siblingOffset[me][1],Oe=N.getElevation(Te,Me),ze=N.isLeaf(Te,Me),He=this._addNode(Oe.min,Oe.max,ze);ze&&(ee|=1<<me),re||(re=He)}for(let me=0;me<this._siblingOffset.length;me++)ee&1<<me||this._construct(n,2*l+this._siblingOffset[me][0],2*u+this._siblingOffset[me][1],C,re+me)}}function Io(a,n,l,u,m,w){return Jn(Jn(a,l,w),Jn(n,u,w),m)}function Sa(a,n,l){const u=l.dim,m=g(a*u-.5,0,u-1),w=g(n*u-.5,0,u-1),C=Math.floor(m),N=Math.floor(w),ee=Math.min(C+1,u-1),re=Math.min(N+1,u-1);return Io(l.get(C,N),l.get(ee,N),l.get(C,re),l.get(ee,re),m-C,w-N)}const Hd={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class g0{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(n,l,u,m=!1,w=!1){if(this.uid=n,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return oe(`"${u}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=l.height;const C=this.dim=l.height-2,N=new Uint32Array(l.data.buffer);if(this.pixels=new Uint8Array(l.data.buffer),this.encoding=u||"mapbox",this.borderReady=m,!m){for(let ee=0;ee<C;ee++)N[this._idx(-1,ee)]=N[this._idx(0,ee)],N[this._idx(C,ee)]=N[this._idx(C-1,ee)],N[this._idx(ee,-1)]=N[this._idx(ee,0)],N[this._idx(ee,C)]=N[this._idx(ee,C-1)];N[this._idx(-1,-1)]=N[this._idx(0,0)],N[this._idx(C,-1)]=N[this._idx(C-1,0)],N[this._idx(-1,C)]=N[this._idx(0,C-1)],N[this._idx(C,C)]=N[this._idx(C-1,C-1)],w&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Ll(this)}get(n,l,u=!1){u&&(n=g(n,-1,this.dim),l=g(l,-1,this.dim));const m=4*this._idx(n,l);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[m],this.pixels[m+1],this.pixels[m+2])}static getUnpackVector(n){return Hd[n]}get unpackVector(){return Hd[this.encoding]}_idx(n,l){if(n<-1||n>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(n+1)}_unpackMapbox(n,l,u){return(256*n*256+256*l+u)/10-1e4}_unpackTerrarium(n,l,u){return 256*n+l+u/256-32768}static pack(n,l){const u=[0,0,0,0],m=g0.getUnpackVector(l);let w=Math.floor((n+m[3])/m[2]);return u[2]=w%256,w=Math.floor(w/256),u[1]=w%256,w=Math.floor(w/256),u[0]=w,u}getPixels(){return new Dl({width:this.stride,height:this.stride},this.pixels)}backfillBorder(n,l,u){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let m=l*this.dim,w=l*this.dim+this.dim,C=u*this.dim,N=u*this.dim+this.dim;switch(l){case-1:m=w-1;break;case 1:w=m+1}switch(u){case-1:C=N-1;break;case 1:N=C+1}const ee=-l*this.dim,re=-u*this.dim;for(let me=C;me<N;me++)for(let Te=m;Te<w;Te++){const Me=4*this._idx(Te,me),Oe=4*this._idx(Te+ee,me+re);this.pixels[Me+0]=n.pixels[Oe+0],this.pixels[Me+1]=n.pixels[Oe+1],this.pixels[Me+2]=n.pixels[Oe+2],this.pixels[Me+3]=n.pixels[Oe+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}nn(g0,"DEMData"),nn(Ll,"DemMinMaxQuadTree",{omit:["dem"]});class Q6{constructor(n,l){this.max=n,this.onRemove=l,this.reset()}reset(){for(const n in this.data)for(const l of this.data[n])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(n,l,u){const m=n.wrapped().key;this.data[m]===void 0&&(this.data[m]=[]);const w={value:l,timeout:void 0};if(u!==void 0&&(w.timeout=setTimeout(()=>{this.remove(n,w)},u)),this.data[m].push(w),this.order.push(m),this.order.length>this.max){const C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(n){return n.wrapped().key in this.data}getAndRemove(n){return this.has(n)?this._getAndRemoveByKey(n.wrapped().key):null}_getAndRemoveByKey(n){const l=this.data[n].shift();return l.timeout&&clearTimeout(l.timeout),this.data[n].length===0&&delete this.data[n],this.order.splice(this.order.indexOf(n),1),l.value}getByKey(n){const l=this.data[n];return l?l[0].value:null}get(n){return this.has(n)?this.data[n.wrapped().key][0].value:null}remove(n,l){if(!this.has(n))return this;const u=n.wrapped().key,m=l===void 0?0:this.data[u].indexOf(l),w=this.data[u][m];return this.data[u].splice(m,1),w.timeout&&clearTimeout(w.timeout),this.data[u].length===0&&delete this.data[u],this.onRemove(w.value),this.order.splice(this.order.indexOf(u),1),this}setMaxSize(n){for(this.max=n;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(n){const l=[];for(const u in this.data)for(const m of this.data[u])n(m.value)||l.push(m);for(const u of l)this.remove(u.value.tileID,u)}}class og{constructor(n,l,u){this.func=n,this.mask=l,this.range=u}}og.ReadOnly=!1,og.ReadWrite=!0,og.disabled=new og(519,og.ReadOnly,[0,1]);const Hw=7680;class Ww{constructor(n,l,u,m,w,C){this.test=n,this.ref=l,this.mask=u,this.fail=m,this.depthFail=w,this.pass=C}}Ww.disabled=new Ww({func:519,mask:0},0,0,Hw,Hw,Hw);class Qu{constructor(n,l,u){this.blendFunction=n,this.blendColor=l,this.mask=u}}Qu.Replace=[1,0],Qu.disabled=new Qu(Qu.Replace,Ps.transparent,[!1,!1,!1,!1]),Qu.unblended=new Qu(Qu.Replace,Ps.transparent,[!0,!0,!0,!0]),Qu.alphaBlended=new Qu([1,771],Ps.transparent,[!0,!0,!0,!0]);const Yw=1029,qw=2305;class wu{constructor(n,l,u){this.enable=n,this.mode=l,this.frontFace=u}}wu.disabled=new wu(!1,Yw,qw),wu.backCCW=new wu(!0,Yw,qw),wu.backCW=new wu(!0,Yw,2304),wu.frontCW=new wu(!0,1028,2304),wu.frontCCW=new wu(!0,1028,qw);class y0 extends yo{constructor(n,l,u){super(),this.id=n,this._onlySymbols=u,l.on("data",m=>{m.dataType==="source"&&m.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&m.dataType==="source"&&m.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new Q6(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Lr,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(n){this.map=n,this._minTileCacheSize=this._minTileCacheSize===void 0&&n?n._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&n?n._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const n in this._tiles){const l=this._tiles[n];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const n=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,n&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(n,l){return n.isSymbolTile=this._onlySymbols,this._source.loadTile(n,l)}_unloadTile(n){if(this._source.unloadTile)return this._source.unloadTile(n,()=>{})}_abortTile(n){if(this._source.abortTile)return this._source.abortTile(n,()=>{})}serialize(){return this._source.serialize()}prepare(n){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const u=this._tiles[l];u.upload(n),u.prepare(this.map.style.imageManager)}}getIds(){return Y(this._tiles).map(n=>n.tileID).sort(VC).map(n=>n.key)}getRenderableIds(n){const l=[];for(const u in this._tiles)this._isIdRenderable(+u,n)&&l.push(this._tiles[u]);return n?l.sort((u,m)=>{const w=u.tileID,C=m.tileID,N=new U(w.canonical.x,w.canonical.y)._rotate(this.transform.angle),ee=new U(C.canonical.x,C.canonical.y)._rotate(this.transform.angle);return w.overscaledZ-C.overscaledZ||ee.y-N.y||ee.x-N.x}).map(u=>u.tileID.key):l.map(u=>u.tileID).sort(VC).map(u=>u.key)}hasRenderableParent(n){const l=this.findLoadedParent(n,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(n,l){return this._tiles[n]&&this._tiles[n].hasData()&&!this._coveredTiles[n]&&(l||!this._tiles[n].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const n in this._tiles)this._tiles[n].state!=="errored"&&this._reloadTile(+n,"reloading")}}_reloadTile(n,l){const u=this._tiles[n];u&&(u.state!=="loading"&&(u.state=l),this._loadTile(u,this._tileLoaded.bind(this,u,n,l)))}_tileLoaded(n,l,u,m){if(m)if(n.state="errored",m.status!==404)this._source.fire(new Ha(m,{tile:n}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const w=this.map.painter.terrain;this.update(this.transform,w.getScaledDemTileSize(),!0),w.resetTileLookupCache(this.id)}else this.update(this.transform);else n.timeAdded=_n.now(),u==="expired"&&(n.refreshedUponExpiration=!0),this._setTileReloadTimer(l,n),this._source.type==="raster-dem"&&n.dem&&this._backfillDEM(n),this._state.initializeTileState(n,this.map?this.map.painter:null),this._source.fire(new Ga("data",{dataType:"source",tile:n,coord:n.tileID,sourceCacheId:this.id}))}_backfillDEM(n){const l=this.getRenderableIds();for(let m=0;m<l.length;m++){const w=l[m];if(n.neighboringTiles&&n.neighboringTiles[w]){const C=this.getTileByID(w);u(n,C),u(C,n)}}function u(m,w){if(!m.dem||m.dem.borderReady)return;m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0;let C=w.tileID.canonical.x-m.tileID.canonical.x;const N=w.tileID.canonical.y-m.tileID.canonical.y,ee=Math.pow(2,m.tileID.canonical.z),re=w.tileID.key;C===0&&N===0||Math.abs(N)>1||(Math.abs(C)>1&&(Math.abs(C+ee)===1?C+=ee:Math.abs(C-ee)===1&&(C-=ee)),w.dem&&m.dem&&(m.dem.backfillBorder(w.dem,C,N),m.neighboringTiles&&m.neighboringTiles[re]&&(m.neighboringTiles[re].backfilled=!0)))}}getTile(n){return this.getTileByID(n.key)}getTileByID(n){return this._tiles[n]}_retainLoadedChildren(n,l,u,m){for(const w in this._tiles){let C=this._tiles[w];if(m[w]||!C.hasData()||C.tileID.overscaledZ<=l||C.tileID.overscaledZ>u)continue;let N=C.tileID;for(;C&&C.tileID.overscaledZ>l+1;){const re=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[re.key],C&&C.hasData()&&(N=re)}let ee=N;for(;ee.overscaledZ>l;)if(ee=ee.scaledTo(ee.overscaledZ-1),n[ee.key]){m[N.key]=N;break}}}findLoadedParent(n,l){if(n.key in this._loadedParentTiles){const u=this._loadedParentTiles[n.key];return u&&u.tileID.overscaledZ>=l?u:null}for(let u=n.overscaledZ-1;u>=l;u--){const m=n.scaledTo(u),w=this._getLoadedTile(m);if(w)return w}}_getLoadedTile(n){const l=this._tiles[n.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?n.wrapped().key:n.canonical.key)}updateCacheSize(n,l){l=l||this._source.tileSize;const u=Math.ceil(n.width/l)+1,m=Math.ceil(n.height/l)+1,w=Math.floor(u*m*5),C=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,w):w,N=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,C):C;this._cache.setMaxSize(N)}handleWrapJump(n){const l=Math.round((n-(this._prevLng===void 0?n:this._prevLng))/360);if(this._prevLng=n,l){const u={};for(const m in this._tiles){const w=this._tiles[m];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+l),u[w.tileID.key]=w}this._tiles=u;for(const m in this._timers)clearTimeout(this._timers[m]),delete this._timers[m];for(const m in this._tiles)this._setTileReloadTimer(+m,this._tiles[m])}}update(n,l,u){if(this.transform=n,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!u)return;let m;this.updateCacheSize(n,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=n.getVisibleUnwrappedCoordinates(this._source.tileID).map(N=>new ca(N.canonical.z,N.wrap,N.canonical.z,N.canonical.x,N.canonical.y)):(m=n.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!u,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(m=m.filter(N=>this._source.hasTile(N)))):m=[];const w=this._updateRetainedTiles(m);if(GC(this._source.type)&&m.length!==0){const N={},ee={},re=Object.keys(w);for(const Te of re){const Me=w[Te],Oe=this._tiles[Te];if(!Oe||Oe.fadeEndTime&&Oe.fadeEndTime<=_n.now())continue;const ze=this.findLoadedParent(Me,Math.max(Me.overscaledZ-y0.maxOverzooming,this._source.minzoom));ze&&(this._addTile(ze.tileID),N[ze.tileID.key]=ze.tileID),ee[Te]=Me}const me=m[m.length-1].overscaledZ;for(const Te in this._tiles){const Me=this._tiles[Te];if(w[Te]||!Me.hasData())continue;let Oe=Me.tileID;for(;Oe.overscaledZ>me;){Oe=Oe.scaledTo(Oe.overscaledZ-1);const ze=this._tiles[Oe.key];if(ze&&ze.hasData()&&ee[Oe.key]){w[Te]=Me.tileID;break}}}for(const Te in N)w[Te]||(this._coveredTiles[Te]=!0,w[Te]=N[Te])}for(const N in w)this._tiles[N].clearFadeHold();const C=function(N,ee){const re=[];for(const me in N)me in ee||re.push(me);return re}(this._tiles,w);for(const N of C){const ee=this._tiles[N];ee.hasSymbolBuckets&&!ee.holdingForFade()?ee.setHoldDuration(this.map._fadeDuration):ee.hasSymbolBuckets&&!ee.symbolFadeFinished()||this._removeTile(+N)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const n in this._tiles)this._tiles[n].holdingForFade()&&this._removeTile(+n)}_updateRetainedTiles(n){const l={};if(n.length===0)return l;const u={},m=n.reduce((re,me)=>Math.min(re,me.overscaledZ),1/0),w=n[0].overscaledZ,C=Math.max(w-y0.maxOverzooming,this._source.minzoom),N=Math.max(w+y0.maxUnderzooming,this._source.minzoom),ee={};for(const re of n){const me=this._addTile(re);l[re.key]=re,me.hasData()||m<this._source.maxzoom&&(ee[re.key]=re)}this._retainLoadedChildren(ee,m,N,l);for(const re of n){let me=this._tiles[re.key];if(me.hasData())continue;if(re.canonical.z>=this._source.maxzoom){const Me=re.children(this._source.maxzoom)[0],Oe=this.getTile(Me);if(Oe&&Oe.hasData()){l[Me.key]=Me;continue}}else{const Me=re.children(this._source.maxzoom);if(l[Me[0].key]&&l[Me[1].key]&&l[Me[2].key]&&l[Me[3].key])continue}let Te=me.wasRequested();for(let Me=re.overscaledZ-1;Me>=C;--Me){const Oe=re.scaledTo(Me);if(u[Oe.key]||(u[Oe.key]=!0,me=this.getTile(Oe),!me&&Te&&(me=this._addTile(Oe)),me&&(l[Oe.key]=Oe,Te=me.wasRequested(),me.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const n in this._tiles){const l=[];let u,m=this._tiles[n].tileID;for(;m.overscaledZ>0;){if(m.key in this._loadedParentTiles){u=this._loadedParentTiles[m.key];break}l.push(m.key);const w=m.scaledTo(m.overscaledZ-1);if(u=this._getLoadedTile(w),u)break;m=w}for(const w of l)this._loadedParentTiles[w]=u}}_addTile(n){let l=this._tiles[n.key];if(l)return l;l=this._cache.getAndRemove(n),l&&(this._setTileReloadTimer(n.key,l),l.tileID=n,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[n.key]&&(clearTimeout(this._cacheTimers[n.key]),delete this._cacheTimers[n.key],this._setTileReloadTimer(n.key,l)));const u=!!l;if(!u){const m=this.map?this.map.painter:null;l=new sr(n,this._source.tileSize*n.overscaleFactor(),this.transform.tileZoom,m,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,n.key,l.state))}return l?(l.uses++,this._tiles[n.key]=l,u||this._source.fire(new Ga("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(n,l){n in this._timers&&(clearTimeout(this._timers[n]),delete this._timers[n]);const u=l.getExpiryTimeout();u&&(this._timers[n]=setTimeout(()=>{this._reloadTile(n,"expired"),delete this._timers[n]},u))}_removeTile(n){const l=this._tiles[n];l&&(l.uses--,delete this._tiles[n],this._timers[n]&&(clearTimeout(this._timers[n]),delete this._timers[n]),l.uses>0||(l.hasData()&&l.state!=="reloading"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const n in this._tiles)this._removeTile(+n);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(n,l,u){const m=[],w=this.transform;if(!w)return m;const C=w.projection.name==="globe",N=rd(w.center.lng);for(const ee in this._tiles){const re=this._tiles[ee];if(u&&re.clearQueryDebugViz(),re.holdingForFade())continue;let me;if(C){const Te=re.tileID.canonical;if(Te.z===0){const Me=[Math.abs(g(N,..._y(Te,-1))-N),Math.abs(g(N,..._y(Te,1))-N)];me=[0,2*Me.indexOf(Math.min(...Me))-1]}else{const Me=[Math.abs(g(N,..._y(Te,-1))-N),Math.abs(g(N,..._y(Te,0))-N),Math.abs(g(N,..._y(Te,1))-N)];me=[Me.indexOf(Math.min(...Me))-1]}}else me=[0];for(const Te of me){const Me=n.containsTile(re,w,l,Te);Me&&m.push(Me)}}return m}getVisibleCoordinates(n){const l=this.getRenderableIds(n).map(u=>this._tiles[u].tileID);for(const u of l)u.projMatrix=this.transform.calculateProjMatrix(u.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(GC(this._source.type))for(const n in this._tiles){const l=this._tiles[n];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=_n.now())return!0}return!1}setFeatureState(n,l,u){this._state.updateState(n=n||"_geojsonTileLayer",l,u)}removeFeatureState(n,l,u){this._state.removeFeatureState(n=n||"_geojsonTileLayer",l,u)}getFeatureState(n,l){return this._state.getState(n=n||"_geojsonTileLayer",l)}setDependencies(n,l,u){const m=this._tiles[n];m&&m.setDependencies(l,u)}reloadTilesForDependencies(n,l){for(const u in this._tiles)this._tiles[u].hasDependency(n,l)&&this._reloadTile(+u,"reloading");this._cache.filter(u=>!u.hasDependency(n,l))}_preloadTiles(n,l){const u=new Map,m=Array.isArray(n)?n:[n],w=this.map.painter.terrain,C=this.usedForTerrain&&w?w.getScaledDemTileSize():this._source.tileSize;for(const N of m){const ee=N.coveringTiles({tileSize:C,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const re of ee)u.set(re.key,re);this.usedForTerrain&&N.updateElevation(!1)}X(Array.from(u.values()),(N,ee)=>{const re=new sr(N,this._source.tileSize*N.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(re,me=>{this._source.type==="raster-dem"&&re.dem&&this._backfillDEM(re),ee(me,re)})},l)}}function VC(a,n){const l=Math.abs(2*a.wrap)-+(a.wrap<0),u=Math.abs(2*n.wrap)-+(n.wrap<0);return a.overscaledZ-n.overscaledZ||u-l||n.canonical.y-a.canonical.y||n.canonical.x-a.canonical.x}function GC(a){return a==="raster"||a==="image"||a==="video"||a==="custom"}function _y(a,n){const l=1<<a.z;return[a.x/l+n,(a.x+1)/l+n]}y0.maxOverzooming=10,y0.maxUnderzooming=3;class qv{constructor(n,l,u){this._demTile=n,this._dem=this._demTile.dem,this._scale=l,this._offset=u}static create(n,l,u){const m=u||n.findDEMTileFor(l);if(!m||!m.dem)return;const w=m.dem,C=m.tileID,N=1<<l.canonical.z-C.canonical.z;return new qv(m,m.tileSize/Rn/N,[(l.canonical.x/N-C.canonical.x)*w.dim,(l.canonical.y/N-C.canonical.y)*w.dim])}tileCoordToPixel(n,l){const u=l*this._scale+this._offset[1],m=Math.floor(n*this._scale+this._offset[0]),w=Math.floor(u);return new U(m,w)}getElevationAt(n,l,u,m){const w=n*this._scale+this._offset[0],C=l*this._scale+this._offset[1],N=Math.floor(w),ee=Math.floor(C),re=this._dem;return m=!!m,u?Jn(Jn(re.get(N,ee,m),re.get(N,ee+1,m),C-ee),Jn(re.get(N+1,ee,m),re.get(N+1,ee+1,m),C-ee),w-N):re.get(N,ee,m)}getElevationAtPixel(n,l,u){return this._dem.get(n,l,!!u)}getMeterToDEM(n){return(1<<this._demTile.tileID.canonical.z)*pc(1,n)*this._dem.stride}}class HC{constructor(n,l){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new Vu(Rn,16,0),this.featureIndexArray=new fu,this.promoteId=l}insert(n,l,u,m,w,C=0){const N=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,m,w,C);const ee=this.grid;for(let re=0;re<l.length;re++){const me=l[re],Te=[1/0,1/0,-1/0,-1/0];for(let Me=0;Me<me.length;Me++){const Oe=me[Me];Te[0]=Math.min(Te[0],Oe.x),Te[1]=Math.min(Te[1],Oe.y),Te[2]=Math.max(Te[2],Oe.x),Te[3]=Math.max(Te[3],Oe.y)}Te[0]<Rn&&Te[1]<Rn&&Te[2]>=0&&Te[3]>=0&&ee.insert(N,Te[0],Te[1],Te[2],Te[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new B1(new r0(this.rawTileData)).layers,this.sourceLayerCoder=new le(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const n in this.vtLayers)this.vtFeatures[n]=[]}return this.vtLayers}query(n,l,u,m){this.loadVTLayers();const w=n.params||{},C=js(w.filter),N=n.tileResult,ee=n.transform,re=N.bufferedTilespaceBounds,me=this.grid.query(re.min.x,re.min.y,re.max.x,re.max.y,(ze,He,tt,_t)=>g1(N.bufferedTilespaceGeometry,ze,He,tt,_t));me.sort(eP);let Te=null;ee.elevation&&me.length>0&&(Te=qv.create(ee.elevation,this.tileID));const Me={};let Oe;for(let ze=0;ze<me.length;ze++){const He=me[ze];if(He===Oe)continue;Oe=He;const tt=this.featureIndexArray.get(He);let _t=null;this.loadMatchingFeature(Me,tt,C,w.layers,w.availableImages,l,u,m,(At,yt,Tt,It=0)=>(_t||(_t=od(At,this.tileID.canonical,n.tileTransform)),yt.queryIntersectsFeature(N,At,Tt,_t,this.z,n.transform,n.pixelPosMatrix,Te,It)))}return Me}loadMatchingFeature(n,l,u,m,w,C,N,ee,re){const{featureIndex:me,bucketIndex:Te,sourceLayerIndex:Me,layoutVertexArrayOffset:Oe}=l,ze=this.bucketLayerIDs[Te];if(m&&!function(At,yt){for(let Tt=0;Tt<At.length;Tt++)if(yt.indexOf(At[Tt])>=0)return!0;return!1}(m,ze))return;const He=this.sourceLayerCoder.decode(Me),tt=this.vtLayers[He].feature(me);if(u.needGeometry){const At=Fd(tt,!0);if(!u.filter(new Gt(this.tileID.overscaledZ),At,this.tileID.canonical))return}else if(!u.filter(new Gt(this.tileID.overscaledZ),tt))return;const _t=this.getId(tt,He);for(let At=0;At<ze.length;At++){const yt=ze[At];if(m&&m.indexOf(yt)<0)continue;const Tt=C[yt];if(!Tt)continue;let It={};_t!==void 0&&ee&&(It=ee.getState(Tt.sourceLayer||"_geojsonTileLayer",_t));const Pt=J({},N[yt]);Pt.paint=WC(Pt.paint,Tt.paint,tt,It,w),Pt.layout=WC(Pt.layout,Tt.layout,tt,It,w);const ti=!re||re(tt,Tt,It,Oe);if(!ti)continue;const Qt=new Ye(tt,this.z,this.x,this.y,_t);Qt.layer=Pt;let vi=n[yt];vi===void 0&&(vi=n[yt]=[]),vi.push({featureIndex:me,feature:Qt,intersectionZ:ti})}}lookupSymbolFeatures(n,l,u,m,w,C,N,ee){const re={};this.loadVTLayers();const me=js(w);for(const Te of n)this.loadMatchingFeature(re,{bucketIndex:u,sourceLayerIndex:m,featureIndex:Te,layoutVertexArrayOffset:0},me,C,N,ee,l);return re}loadFeature(n){const{featureIndex:l,sourceLayerIndex:u}=n;this.loadVTLayers();const m=this.sourceLayerCoder.decode(u),w=this.vtFeatures[m];if(w[l])return w[l];const C=this.vtLayers[m].feature(l);return w[l]=C,C}hasLayer(n){for(const l of this.bucketLayerIDs)for(const u of l)if(n===u)return!0;return!1}getId(n,l){let u=n.id;if(this.promoteId){const m=typeof this.promoteId=="string"?this.promoteId:this.promoteId[l];m!=null&&(u=n.properties[m]),typeof u=="boolean"&&(u=Number(u))}return u}}function WC(a,n,l,u,m){return Ce(a,(w,C)=>{const N=n instanceof Ni?n.get(C):null;return N&&N.evaluate?N.evaluate(l,u,m):N})}function eP(a,n){return n-a}nn(HC,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class YC{constructor(n,l){this.width=n,this.height=l,this.nextRow=0,this.image=new _u({width:n,height:l}),this.positions={},this.uploaded=!1}getDash(n,l){const u=this.getKey(n,l);return this.positions[u]}trim(){const n=this.width,l=this.height=F(this.nextRow);this.image.resize({width:n,height:l})}getKey(n,l){return n.join(",")+l}getDashRanges(n,l,u){const m=[];let w=n.length%2==1?-n[n.length-1]*u:0,C=n[0]*u,N=!0;m.push({left:w,right:C,isDash:N,zeroLength:n[0]===0});let ee=n[0];for(let re=1;re<n.length;re++){N=!N;const me=n[re];w=ee*u,ee+=me,C=ee*u,m.push({left:w,right:C,isDash:N,zeroLength:me===0})}return m}addRoundDash(n,l,u){const m=l/2;for(let w=-u;w<=u;w++){const C=this.width*(this.nextRow+u+w);let N=0,ee=n[N];for(let re=0;re<this.width;re++){re/ee.right>1&&(ee=n[++N]);const me=Math.abs(re-ee.left),Te=Math.abs(re-ee.right),Me=Math.min(me,Te);let Oe;const ze=w/u*(m+1);if(ee.isDash){const He=m-Math.abs(ze);Oe=Math.sqrt(Me*Me+He*He)}else Oe=m-Math.sqrt(Me*Me+ze*ze);this.image.data[C+re]=Math.max(0,Math.min(255,Oe+128))}}}addRegularDash(n,l){for(let ee=n.length-1;ee>=0;--ee){const re=n[ee],me=n[ee+1];re.zeroLength?n.splice(ee,1):me&&me.isDash===re.isDash&&(me.left=re.left,n.splice(ee,1))}const u=n[0],m=n[n.length-1];u.isDash===m.isDash&&(u.left=m.left-this.width,m.right=u.right+this.width);const w=this.width*this.nextRow;let C=0,N=n[C];for(let ee=0;ee<this.width;ee++){ee/N.right>1&&(N=n[++C]);const re=Math.abs(ee-N.left),me=Math.abs(ee-N.right),Te=Math.min(re,me);this.image.data[w+ee]=Math.max(0,Math.min(255,(N.isDash?Te:-Te)+l+128))}}addDash(n,l){const u=this.getKey(n,l);if(this.positions[u])return this.positions[u];const m=l==="round",w=m?7:0,C=2*w+1;if(this.nextRow+C>this.height)return oe("LineAtlas out of space"),null;n.length===0&&n.push(1);let N=0;for(let me=0;me<n.length;me++)n[me]<0&&(oe("Negative value is found in line dasharray, replacing values with 0"),n[me]=0),N+=n[me];if(N!==0){const me=this.width/N,Te=this.getDashRanges(n,this.width,me);m?this.addRoundDash(Te,me,w):this.addRegularDash(Te,l==="square"?.5*me:0)}const ee=this.nextRow+w;this.nextRow+=C;const re={tl:[ee,w],br:[N,0]};return this.positions[u]=re,re}}nn(YC,"LineAtlas");class qC{constructor(n){const l={},u=[];for(const N in n){const ee=n[N],re=l[N]={};for(const me in ee.glyphs){const Te=ee.glyphs[+me];if(!Te||Te.bitmap.width===0||Te.bitmap.height===0)continue;const Me=Te.metrics.localGlyph?2:1,Oe={x:0,y:0,w:Te.bitmap.width+2*Me,h:Te.bitmap.height+2*Me};u.push(Oe),re[me]=Oe}}const{w:m,h:w}=Y1(u),C=new _u({width:m||1,height:w||1});for(const N in n){const ee=n[N];for(const re in ee.glyphs){const me=ee.glyphs[+re];if(!me||me.bitmap.width===0||me.bitmap.height===0)continue;const Te=l[N][re],Me=me.metrics.localGlyph?2:1;_u.copy(me.bitmap,C,{x:0,y:0},{x:Te.x+Me,y:Te.y+Me},me.bitmap)}}this.image=C,this.positions=l}}nn(qC,"GlyphAtlas");class tP{constructor(n){this.tileID=new ca(n.tileID.overscaledZ,n.tileID.wrap,n.tileID.canonical.z,n.tileID.canonical.x,n.tileID.canonical.y),this.tileZoom=n.tileZoom,this.uid=n.uid,this.zoom=n.zoom,this.canonical=n.tileID.canonical,this.pixelRatio=n.pixelRatio,this.tileSize=n.tileSize,this.source=n.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=n.showCollisionBoxes,this.collectResourceTiming=!!n.collectResourceTiming,this.returnDependencies=!!n.returnDependencies,this.promoteId=n.promoteId,this.enableTerrain=!!n.enableTerrain,this.isSymbolTile=n.isSymbolTile,this.tileTransform=jh(n.tileID.canonical,n.projection),this.projection=n.projection}parse(n,l,u,m,w){this.status="parsing",this.data=n,this.collisionBoxArray=new Qg;const C=new le(Object.keys(n.layers).sort()),N=new HC(this.tileID,this.promoteId);N.bucketLayerIDs=[];const ee={},re=new YC(256,256),me={featureIndex:N,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:re,availableImages:u},Te=l.familiesBySource[this.source];for(const It in Te){const Pt=n.layers[It];if(!Pt)continue;let ti=!1,Qt=!1;for(const ai of Te[It])ai[0].type==="symbol"?ti=!0:Qt=!0;if(this.isSymbolTile===!0&&!ti||this.isSymbolTile===!1&&!Qt)continue;Pt.version===1&&oe(`Vector tile source "${this.source}" layer "${It}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const vi=C.encode(It),ji=[];for(let ai=0;ai<Pt.length;ai++){const Ti=Pt.feature(ai),Ci=N.getId(Ti,It);ji.push({feature:Ti,id:Ci,index:ai,sourceLayerIndex:vi})}for(const ai of Te[It]){const Ti=ai[0];this.isSymbolTile!==void 0&&Ti.type==="symbol"!==this.isSymbolTile||Ti.minzoom&&this.zoom<Math.floor(Ti.minzoom)||Ti.maxzoom&&this.zoom>=Ti.maxzoom||Ti.visibility!=="none"&&(Xw(ai,this.zoom,u),(ee[Ti.id]=Ti.createBucket({index:N.bucketLayerIDs.length,layers:ai,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:vi,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:u})).populate(ji,me,this.tileID.canonical,this.tileTransform),N.bucketLayerIDs.push(ai.map(Ci=>Ci.id)))}}let Me,Oe,ze,He;re.trim();const tt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},_t=Ce(me.glyphDependencies,It=>Object.keys(It).map(Number));Object.keys(_t).length?m.send("getGlyphs",{uid:this.uid,stacks:_t},(It,Pt)=>{Me||(Me=It,Oe=Pt,Tt.call(this))},void 0,!1,tt):Oe={};const At=Object.keys(me.iconDependencies);At.length?m.send("getImages",{icons:At,source:this.source,tileID:this.tileID,type:"icons"},(It,Pt)=>{Me||(Me=It,ze=Pt,Tt.call(this))},void 0,!1,tt):ze={};const yt=Object.keys(me.patternDependencies);function Tt(){if(Me)return w(Me);if(Oe&&ze&&He){const It=new qC(Oe),Pt=new Vd(ze,He);for(const ti in ee){const Qt=ee[ti];Qt instanceof Ju?(Xw(Qt.layers,this.zoom,u),Tw(Qt,Oe,It.positions,ze,Pt.iconPositions,this.showCollisionBoxes,u,this.tileID.canonical,this.tileZoom,this.projection)):Qt.hasPattern&&(Qt instanceof Um||Qt instanceof Im||Qt instanceof t0)&&(Xw(Qt.layers,this.zoom,u),Qt.addFeatures(me,this.tileID.canonical,Pt.patternPositions,u,this.tileTransform))}this.status="done",w(null,{buckets:Y(ee).filter(ti=>!ti.isEmpty()),featureIndex:N,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:It.image,lineAtlas:re,imageAtlas:Pt,glyphMap:this.returnDependencies?Oe:null,iconMap:this.returnDependencies?ze:null,glyphPositions:this.returnDependencies?It.positions:null})}}yt.length?m.send("getImages",{icons:yt,source:this.source,tileID:this.tileID,type:"patterns"},(It,Pt)=>{Me||(Me=It,He=Pt,Tt.call(this))},void 0,!1,tt):He={},Tt.call(this)}}function Xw(a,n,l){const u=new Gt(n);for(const m of a)m.recalculate(u,l)}class XC{constructor(n){this.entries={},this.scheduler=n}request(n,l,u,m){const w=this.entries[n]=this.entries[n]||{callbacks:[]};if(w.result){const[C,N]=w.result;return this.scheduler?this.scheduler.add(()=>{m(C,N)},l):m(C,N),()=>{}}return w.callbacks.push(m),w.cancel||(w.cancel=u((C,N)=>{w.result=[C,N];for(const ee of w.callbacks)this.scheduler?this.scheduler.add(()=>{ee(C,N)},l):ee(C,N);setTimeout(()=>delete this.entries[n],3e3)})),()=>{w.result||(w.callbacks=w.callbacks.filter(C=>C!==m),w.callbacks.length||(w.cancel(),delete this.entries[n]))}}}function ZC(a,n,l){const u=JSON.stringify(a.request);return a.data&&(this.deduped.entries[u]={result:[null,a.data]}),this.deduped.request(u,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom},m=>{const w=Lt(a.request,(C,N,ee,re)=>{C?m(C):N&&m(null,{vectorTile:l?void 0:new B1(new r0(N)),rawData:N,cacheControl:ee,expires:re})});return()=>{w.cancel(),m()}},n)}s.ARRAY_TYPE=Al,s.AUTH_ERR_MSG=ui,s.Aabb=Qa,s.Actor=class{constructor(a,n,l){this.target=a,this.parent=n,this.mapId=l,this.callbacks={},this.cancelCallbacks={},se(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Re()?a:v,this.scheduler=new I}send(a,n,l,u,m=!1,w){const C=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(l.metadata=w,this.callbacks[C]=l);const N=rt(this.globalScope)?void 0:[];return this.target.postMessage({id:C,type:a,hasCallback:!!l,targetMapId:u,mustQueue:m,sourceMapId:this.mapId,data:Rd(n,N)},N),{cancel:()=>{l&&delete this.callbacks[C],this.target.postMessage({id:C,type:"<cancel>",targetMapId:u,sourceMapId:this.mapId})}}}receive(a){const n=a.data,l=n.id;if(l&&(!n.targetMapId||this.mapId===n.targetMapId))if(n.type==="<cancel>"){const u=this.cancelCallbacks[l];delete this.cancelCallbacks[l],u&&u.cancel()}else if(n.mustQueue||Re()){const u=this.callbacks[l];this.cancelCallbacks[l]=this.scheduler.add(()=>this.processTask(l,n),u&&u.metadata||{type:"message"})}else this.processTask(l,n)}processTask(a,n){if(n.type==="<response>"){const l=this.callbacks[a];delete this.callbacks[a],l&&(n.error?l(wh(n.error)):l(null,wh(n.data)))}else{const l=rt(this.globalScope)?void 0:[],u=n.hasCallback?(w,C)=>{delete this.cancelCallbacks[a],this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:w?Rd(w):null,data:Rd(C,l)},l)}:w=>{},m=wh(n.data);if(this.parent[n.type])this.parent[n.type](n.sourceMapId,m,u);else if(this.parent.getWorkerSource){const w=n.type.split(".");this.parent.getWorkerSource(n.sourceMapId,w[0],m.source)[w[1]](m,u)}else u(new Error(`Could not find function ${n.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.CanonicalTileID=Fm,s.Color=Ps,s.ColorMode=Qu,s.CullFaceMode=wu,s.DEMData=g0,s.DataConstantProperty=Yt,s.DedupedRequest=XC,s.DepthMode=og,s.EXTENT=Rn,s.Elevation=class{isDataAvailableAtPoint(a){const n=this._source();if(this.isUsingMockSource()||!n||a.y<0||a.y>1)return!1;const l=n.getSource().maxzoom,u=1<<l,m=Math.floor(a.x),w=Math.floor((a.x-m)*u),C=Math.floor(a.y*u),N=this.findDEMTileFor(new ca(l,m,l,w,C));return!(!N||!N.dem)}getAtPointOrZero(a,n=0){return this.getAtPoint(a,n)||0}getAtPoint(a,n,l=!0){if(this.isUsingMockSource())return null;n==null&&(n=null);const u=this._source();if(!u||a.y<0||a.y>1)return n;const m=u.getSource().maxzoom,w=1<<m,C=Math.floor(a.x),N=a.x-C,ee=new ca(m,C,m,Math.floor(N*w),Math.floor(a.y*w)),re=this.findDEMTileFor(ee);if(!re||!re.dem)return n;const me=re.dem,Te=1<<re.tileID.canonical.z,Me=(N*Te-re.tileID.canonical.x)*me.dim,Oe=(a.y*Te-re.tileID.canonical.y)*me.dim,ze=Math.floor(Me),He=Math.floor(Oe);return(l?this.exaggeration():1)*Jn(Jn(me.get(ze,He),me.get(ze,He+1),Oe-He),Jn(me.get(ze+1,He),me.get(ze+1,He+1),Oe-He),Me-ze)}getAtTileOffset(a,n,l){const u=1<<a.canonical.z;return this.getAtPointOrZero(new Mh(a.wrap+(a.canonical.x+n/Rn)/u,(a.canonical.y+l/Rn)/u))}getAtTileOffsetFunc(a,n,l,u){return m=>{const w=this.getAtTileOffset(a,m.x,m.y),C=u.upVector(a.canonical,m.x,m.y);return fc(C,C,w*u.upVectorScale(a.canonical,n,l).metersToTile),C}}getForTilePoints(a,n,l,u){if(this.isUsingMockSource())return!1;const m=qv.create(this,a,u);return!!m&&(n.forEach(w=>{w[2]=this.exaggeration()*m.getElevationAt(w[0],w[1],l)}),!0)}getMinMaxForTile(a){if(this.isUsingMockSource())return null;const n=this.findDEMTileFor(a);if(!n||!n.dem)return null;const l=n.dem.tree,u=n.tileID,m=1<<a.canonical.z-u.canonical.z;let w=a.canonical.x/m-u.canonical.x,C=a.canonical.y/m-u.canonical.y,N=0;for(let ee=0;ee<a.canonical.z-u.canonical.z&&!l.leaves[N];ee++){w*=2,C*=2;const re=2*Math.floor(C)+Math.floor(w);N=l.childOffsets[N]+re,w%=1,C%=1}return{min:this.exaggeration()*l.minimums[N],max:this.exaggeration()*l.maximums[N]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(a,n,l){throw new Error("Pure virtual method called.")}pointCoordinate(a){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(a){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},s.ErrorEvent=Ha,s.EvaluationParameters=Gt,s.Event=Ga,s.Evented=yo,s.FillExtrusionBucket=t0,s.Frustum=E1,s.FrustumCorners=C1,s.GLOBE_METERS_TO_ECEF=ny,s.GLOBE_RADIUS=bu,s.GLOBE_SCALE_MATCH_LATITUDE=45,s.GLOBE_ZOOM_THRESHOLD_MAX=6,s.GLOBE_ZOOM_THRESHOLD_MIN=5,s.GlobeSharedBuffers=class{constructor(a){this._createGrid(a),this._createPoles(a)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const a of this._poleSegments)a.destroy();for(const a of this._gridSegments)a.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const a of this._wireframeSegments)a.destroy()}}_createGrid(a){const n=new Hr,l=new la,u=65;for(let m=0;m<u;m++)for(let w=0;w<u;w++)n.emplaceBack(w,m);this._gridSegments=[];for(let m=0,w=0;m<Vp.length;m++){const C=Vp[m];for(let ee=0;ee<C;ee++)for(let re=0;re<64;re++){const me=ee*u+re;l.emplaceBack(me+1,me,me+u),l.emplaceBack(me+u,me+u+1,me+1)}const N=64*C*2;this._gridSegments.push(bo.simpleSegment(0,w,(C+1)*u,N)),w+=N}this._gridBuffer=a.createVertexBuffer(n,a0.members),this._gridIndexBuffer=a.createIndexBuffer(l,!0)}_createPoles(a){const n=new la;for(let m=0;m<=$p;m++)n.emplaceBack(0,m+1,m+2);this._poleIndexBuffer=a.createIndexBuffer(n,!0);const l=new gr,u=new gr;this._poleSegments=[];for(let m=0,w=0;m<5;m++){const C=360/(1<<m);l.emplaceBack(0,-bu,0,.5,0),u.emplaceBack(0,-bu,0,.5,1);for(let N=0;N<=$p;N++){const ee=N/$p,re=Jn(0,C,ee),[me,Te,Me]=Gp(Pw,cy,re,bu);l.emplaceBack(me,Te,Me,ee,0),u.emplaceBack(me,Te,Me,ee,1)}this._poleSegments.push(bo.simpleSegment(w,0,66,64)),w+=66}this._poleNorthVertexBuffer=a.createVertexBuffer(l,ty,!1),this._poleSouthVertexBuffer=a.createVertexBuffer(u,ty,!1)}getGridBuffers(a){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[a]]}getPoleBuffers(a){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[a]]}getWirefameBuffers(a,n){if(!this._wireframeSegments){const l=new Dc,u=$p,m=u+1;this._wireframeSegments=[];for(let w=0,C=0;w<Vp.length;w++){const N=Vp[w];for(let re=0;re<N;re++)for(let me=0;me<u;me++){const Te=re*m+me;l.emplaceBack(Te,Te+1),l.emplaceBack(Te,Te+m),l.emplaceBack(Te,Te+m+1)}const ee=N*u*3;this._wireframeSegments.push(bo.simpleSegment(0,C,(N+1)*m,ee)),C+=ee}this._wireframeIndexBuffer=a.createIndexBuffer(l)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[n]]}},s.GlyphManager=So,s.ImagePosition=Vm,s.LivePerformanceUtils=Ji,s.LngLat=Pr,s.LngLatBounds=gu,s.LocalGlyphMode=Z1,s.MAX_MERCATOR_LATITUDE=Ta,s.MercatorCoordinate=Mh,s.ONE_EM=_s,s.OverscaledTileID=ca,s.PerformanceMarkers=xi,s.Properties=Sn,s.RGBAImage=Dl,s.Ray=km,s.RequestManager=class{constructor(a,n,l){this._transformRequestFn=a,this._customAccessToken=n,this._silenceAuthErrors=!!l,this._createSkuToken()}_createSkuToken(){const a=function(){let n="";for(let l=0;l<10;l++)n+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",S,n].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=a.token,this._skuTokenExpiresAt=a.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(a,n){return this._transformRequestFn&&this._transformRequestFn(a,n)||{url:a}}normalizeStyleURL(a,n){if(!Vi(a))return a;const l=On(a);return l.path=`/styles/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||n)}normalizeGlyphsURL(a,n){if(!Vi(a))return a;const l=On(a);return l.path=`/fonts/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||n)}normalizeSourceURL(a,n,l,u){if(!Vi(a))return a;const m=On(a);return m.path=`/v4/${m.authority}.json`,m.params.push("secure"),l&&m.params.push(`language=${l}`),u&&m.params.push(`worldview=${u}`),this._makeAPIURL(m,this._customAccessToken||n)}normalizeSpriteURL(a,n,l,u){const m=On(a);return Vi(a)?(m.path=`/styles/v1${m.path}/sprite${n}${l}`,this._makeAPIURL(m,this._customAccessToken||u)):(m.path+=`${n}${l}`,Va(m))}normalizeTileURL(a,n,l){if(this._isSkuTokenExpired()&&this._createSkuToken(),a&&!Vi(a))return a;const u=On(a);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${n||l&&u.authority!=="raster"&&l===512?"@2x":""}${z.supported?".webp":"$1"}`),u.authority==="raster"?u.path=`/${k.RASTER_URL_PREFIX}${u.path}`:(u.path=u.path.replace(/^.+\/v4\//,"/"),u.path=`/${k.TILE_URL_VERSION}${u.path}`);const m=this._customAccessToken||function(w){for(const C of w){const N=C.match(/^access_token=(.*)$/);if(N)return N[1]}return null}(u.params)||k.ACCESS_TOKEN;return k.REQUIRE_ACCESS_TOKEN&&m&&this._skuToken&&u.params.push(`sku=${this._skuToken}`),this._makeAPIURL(u,m)}canonicalizeTileURL(a,n){const l=On(a);if(!l.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!l.path.match(/\.[\w]+$/))return a;let u="mapbox://";l.path.match(/^\/raster\/v1\//)?u+=`raster/${l.path.replace(`/${k.RASTER_URL_PREFIX}/`,"")}`:u+=`tiles/${l.path.replace(`/${k.TILE_URL_VERSION}/`,"")}`;let m=l.params;return n&&(m=m.filter(w=>!w.match(/^access_token=/))),m.length&&(u+=`?${m.join("&")}`),u}canonicalizeTileset(a,n){const l=!!n&&Vi(n),u=[];for(const m of a.tiles||[])qi(m)?u.push(this.canonicalizeTileURL(m,l)):u.push(m);return u}_makeAPIURL(a,n){const l="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",u=On(k.API_URL);if(a.protocol=u.protocol,a.authority=u.authority,a.protocol==="http"){const m=a.params.indexOf("secure");m>=0&&a.params.splice(m,1)}if(u.path!=="/"&&(a.path=`${u.path}${a.path}`),!k.REQUIRE_ACCESS_TOKEN)return Va(a);if(n=n||k.ACCESS_TOKEN,!this._silenceAuthErrors){if(!n)throw new Error(`An API access token is required to use Mapbox GL. ${l}`);if(n[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${l}`)}return a.params=a.params.filter(m=>m.indexOf("access_token")===-1),a.params.push(`access_token=${n||""}`),Va(a)}},s.ResourceType=Wt,s.SegmentVector=bo,s.SourceCache=y0,s.StencilMode=Ww,s.StructArrayLayout1ui2=pu,s.StructArrayLayout2f1f2i16=ba,s.StructArrayLayout2i4=Hr,s.StructArrayLayout2ui4=Dc,s.StructArrayLayout3f12=dc,s.StructArrayLayout3ui6=la,s.StructArrayLayout4i8=es,s.StructArrayLayout5f20=gr,s.Texture=m0,s.Tile=sr,s.Transitionable=_i,s.Uniform1f=Sp,s.Uniform1i=class extends zd{constructor(a){super(a),this.current=0}set(a,n,l){this.fetchUniformLocation(a,n)&&this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},s.Uniform2f=class extends zd{constructor(a){super(a),this.current=[0,0]}set(a,n,l){this.fetchUniformLocation(a,n)&&(l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1])))}},s.Uniform3f=class extends zd{constructor(a){super(a),this.current=[0,0,0]}set(a,n,l){this.fetchUniformLocation(a,n)&&(l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2])))}},s.Uniform4f=I_,s.UniformColor=L_,s.UniformMatrix2f=class extends zd{constructor(a){super(a),this.current=R_}set(a,n,l){if(this.fetchUniformLocation(a,n)){for(let u=0;u<4;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix2fv(this.location,!1,l);break}}}},s.UniformMatrix3f=class extends zd{constructor(a){super(a),this.current=O_}set(a,n,l){if(this.fetchUniformLocation(a,n)){for(let u=0;u<9;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix3fv(this.location,!1,l);break}}}},s.UniformMatrix4f=class extends zd{constructor(a){super(a),this.current=u2}set(a,n,l){if(this.fetchUniformLocation(a,n)){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let u=1;u<16;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}}},s.UnwrappedTileID=fv,s.ValidationError=sn,s.VectorTileFeature=Rm,s.VectorTileWorkerSource=class extends yo{constructor(a,n,l,u,m){super(),this.actor=a,this.layerIndex=n,this.availableImages=l,this.loadVectorData=m||ZC,this.loading={},this.loaded={},this.deduped=new XC(a.scheduler),this.isSpriteLoaded=u,this.scheduler=a.scheduler}loadTile(a,n){const l=a.uid,u=a&&a.request,m=u&&u.collectResourceTiming,w=this.loading[l]=new tP(a);w.abort=this.loadVectorData(a,(C,N)=>{const ee=!this.loading[l];if(delete this.loading[l],ee||C||!N)return w.status="done",ee||(this.loaded[l]=w),n(C);const re=N.rawData,me={};N.expires&&(me.expires=N.expires),N.cacheControl&&(me.cacheControl=N.cacheControl),w.vectorTile=N.vectorTile||new B1(new r0(re));const Te=()=>{w.parse(w.vectorTile,this.layerIndex,this.availableImages,this.actor,(Me,Oe)=>{if(Me||!Oe)return n(Me);const ze={};if(m){const He=Cn(u);He.length>0&&(ze.resourceTiming=JSON.parse(JSON.stringify(He)))}n(null,J({rawTileData:re.slice(0)},Oe,me,ze))})};this.isSpriteLoaded?Te():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Te,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom}):Te()}),this.loaded=this.loaded||{},this.loaded[l]=w})}reloadTile(a,n){const l=this.loaded,u=a.uid,m=this;if(l&&l[u]){const w=l[u];w.showCollisionBoxes=a.showCollisionBoxes,w.enableTerrain=!!a.enableTerrain,w.projection=a.projection,w.tileTransform=jh(a.tileID.canonical,a.projection);const C=(N,ee)=>{const re=w.reloadCallback;re&&(delete w.reloadCallback,w.parse(w.vectorTile,m.layerIndex,this.availableImages,m.actor,re)),n(N,ee)};w.status==="parsing"?w.reloadCallback=C:w.status==="done"&&(w.vectorTile?w.parse(w.vectorTile,this.layerIndex,this.availableImages,this.actor,C):C())}}abortTile(a,n){const l=a.uid,u=this.loading[l];u&&(u.abort&&u.abort(),delete this.loading[l]),n()}removeTile(a,n){const l=this.loaded,u=a.uid;l&&l[u]&&delete l[u],n()}},s.WritingMode=tr,s.add=Ud,s.addDynamicAttributes=rg,s.adjoint=function(a,n){var l=n[0],u=n[1],m=n[2],w=n[3],C=n[4],N=n[5],ee=n[6],re=n[7],me=n[8];return a[0]=C*me-N*re,a[1]=m*re-u*me,a[2]=u*N-m*C,a[3]=N*ee-w*me,a[4]=l*me-m*ee,a[5]=m*w-l*N,a[6]=w*re-C*ee,a[7]=u*ee-l*re,a[8]=l*C-u*w,a},s.asyncAll=X,s.bezier=P,s.bindAll=se,s.boundsAttributes=yn,s.bufferConvexPolygon=function(a,n){const l=[];for(let u=0;u<a.length;u++){const m=A(u-1,-1,a.length-1),w=A(u+1,-1,a.length-1),C=a[u],N=a[w],ee=a[m].sub(C).unit(),re=N.sub(C).unit(),me=re.angleWithSep(ee.x,ee.y),Te=ee.add(re).unit().mult(-1*n/Math.sin(me/2));l.push(C.add(Te))}return l},s.cacheEntryPossiblyAdded=function(a){yi++,yi>Ke&&(a.getActor().send("enforceCacheSizeLimit",Xe),yi=0)},s.calculateGlobeLabelMatrix=function(a,n){const{x:l,y:u}=a.point,m=Qm(l,u,a.worldSize/a._pixelsPerMercatorPixel,0,0);return Ph(m,m,oy(Gd(n)))},s.calculateGlobeMatrix=function(a){const{x:n,y:l}=a.point,{lng:u,lat:m}=a._center;return Qm(n,l,a.worldSize,u,m)},s.calculateGlobeMercatorMatrix=function(a){const n=a.pixelsPerMeter,l=n/pc(1,a.center.lat),u=Ic(new Float64Array(16));return Hf(u,u,[a.point.x,a.point.y,0]),Dh(u,u,[l,l,n]),Float32Array.from(u)},s.circumferenceAtLatitude=o1,s.clamp=g,s.clearTileCache=function(a){if(!ft())return;const n=v.caches.delete(xe);a&&n.catch(a).then(()=>a())},s.clipLine=Dv,s.clone=function(a){var n=new Al(16);return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15],n},s.clone$1=ve,s.collisionCircleLayout=sw,s.config=k,s.conjugate=function(a,n){return a[0]=-n[0],a[1]=-n[1],a[2]=-n[2],a[3]=n[3],a},s.create=function(){var a=new Al(16);return Al!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},s.create$1=U_,s.createExpression=Ei,s.createLayout=dn,s.createStyleLayer=function(a){return a.type==="custom"?new $w(a):new Gw[a.type](a)},s.cross=w1,s.degToRad=$,s.distance=function(a,n){return Math.hypot(n[0]-a[0],n[1]-a[1],n[2]-a[2])},s.div=function(a,n,l){return a[0]=n[0]/l[0],a[1]=n[1]/l[1],a[2]=n[2]/l[2],a},s.dot=Lc,s.earthRadius=Eh,s.ease=f,s.easeCubicInOut=x,s.ecefToLatLng=function([a,n,l]){const u=Math.hypot(a,n,l),m=Math.atan2(a,l),w=.5*Math.PI-Math.acos(-n/u);return new Pr(V(m),V(w))},s.emitValidationErrors=am,s.endsWith=ue,s.enforceCacheSizeLimit=function(a){St(),Ie&&Ie.then(n=>{n.keys().then(l=>{for(let u=0;u<l.length-a;u++)n.delete(l[u])})})},s.evaluateSizeForFeature=dd,s.evaluateSizeForZoom=Np,s.evaluateVariableOffset=J1,s.evented=Ct,s.exactEquals=function(a,n){return a[0]===n[0]&&a[1]===n[1]&&a[2]===n[2]&&a[3]===n[3]},s.exactEquals$1=function(a,n){return a[0]===n[0]&&a[1]===n[1]&&a[2]===n[2]},s.exported=_n,s.exported$1=z,s.extend=J,s.extend$1=ps,s.fillExtrusionHeightLift=F1,s.filterObject=ne,s.fromMat4=function(a,n){return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[4],a[4]=n[5],a[5]=n[6],a[6]=n[8],a[7]=n[9],a[8]=n[10],a},s.fromQuat=function(a,n){var l=n[0],u=n[1],m=n[2],w=n[3],C=l+l,N=u+u,ee=m+m,re=l*C,me=u*C,Te=u*N,Me=m*C,Oe=m*N,ze=m*ee,He=w*C,tt=w*N,_t=w*ee;return a[0]=1-Te-ze,a[1]=me+_t,a[2]=Me-tt,a[3]=0,a[4]=me-_t,a[5]=1-re-ze,a[6]=Oe+He,a[7]=0,a[8]=Me+tt,a[9]=Oe-He,a[10]=1-re-Te,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},s.fromRotation=function(a,n){var l=Math.sin(n),u=Math.cos(n);return a[0]=u,a[1]=l,a[2]=0,a[3]=-l,a[4]=u,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},s.fromScaling=v1,s.furthestTileCorner=function(a){const n=Math.round((a+45+360)%360/90)%4;return j[n]},s.getAABBPointSquareDist=function(a,n,l){let u=0;for(let m=0;m<2;++m){const w=l?l[m]:0;a[m]>w&&(u+=(a[m]-w)*(a[m]-w)),n[m]<w&&(u+=(w-n[m])*(w-n[m]))}return u},s.getAnchorAlignment=X1,s.getAnchorJustification=Q1,s.getBounds=function(a){let n=1/0,l=1/0,u=-1/0,m=-1/0;for(const w of a)n=Math.min(n,w.x),l=Math.min(l,w.y),u=Math.max(u,w.x),m=Math.max(m,w.y);return{min:new U(n,l),max:new U(u,m)}},s.getColumn=qe,s.getGridMatrix=function(a,n,l,u){const m=n.getNorth(),w=n.getSouth(),C=n.getWest(),N=n.getEast(),ee=1<<a.z,re=N-C,me=m-w,Te=re/$p,Me=-me/Vp[l],Oe=[0,Te,0,Me,0,0,m,C,0];if(a.z>0){const ze=180/u;Pp(Oe,Oe,[ze/re+1,0,0,0,ze/me+1,0,-.5*ze/Te,.5*ze/Me,1])}return Oe[2]=ee,Oe[5]=a.x,Oe[8]=a.y,Oe},s.getImage=Kr,s.getJSON=function(a,n){return pt(J(a,{type:"json"}),n)},s.getLatitudinalLod=function(a){const n=80.051129;a=g(a,-80.051129,n)/n*90;const l=Math.pow(Math.abs(Math.sin($(a))),3);return Math.round(l*(Vp.length-1))},s.getMapSessionAPI=zt,s.getPerformanceMeasurement=Cn,s.getProjection=Wv,s.getRTLTextPluginStatus=jt,s.getReferrer=Hi,s.getTilePoint=function(a,{x:n,y:l},u=0){return new U(((n-u)*a.scale-a.x)*Rn,(l*a.scale-a.y)*Rn)},s.getTileVec3=function(a,n,l=0){return Lh(((n.x-l)*a.scale-a.x)*Rn,(n.y*a.scale-a.y)*Rn,a1(n.z,n.y))},s.getVideo=function(a,n){const l=v.document.createElement("video");l.muted=!0,l.onloadstart=function(){n(null,l)};for(let u=0;u<a.length;u++){const m=v.document.createElement("source");ei(a[u])||(l.crossOrigin="Anonymous"),m.src=a[u],l.appendChild(m)}return{cancel:()=>{}}},s.globeCenterToScreenPoint=function(a){const n=[0,0,0],l=Ic(new Float64Array(16));return Ph(l,a.pixelMatrix,a.globeMatrix),po(n,n,l),new U(n[0],n[1])},s.globeDenormalizeECEF=oy,s.globeECEFOrigin=function(a,n){const l=[0,0,0];return po(l,l,d0(Gd(n.canonical))),po(l,l,a),l},s.globeNormalizeECEF=d0,s.globePixelsToTileUnits=function(a,n){return Rn/(512*Math.pow(2,a))*Jm(Gd(n))},s.globePoleMatrixForTile=function(a,n,l){const u=Ic(new Float64Array(16)),m=(n/(1<<a)-.5)*Math.PI*2;return Wf(u,l.globeMatrix,m),Float32Array.from(u)},s.globeTileBounds=Gd,s.globeTiltAtLngLat=ay,s.globeToMercatorTransition=Fh,s.globeUseCustomAntiAliasing=function(a,n,l){const u=Fh(l.zoom),m=a.style.map._antialias,w=!!n.extStandardDerivatives,C=n.extStandardDerivativesForceOff||a.terrain&&a.terrain.exaggeration()>0;return u===0&&!m&&!C&&w},s.identity=Ic,s.identity$1=S1,s.invert=Em,s.isFullscreen=function(){return!!v.document.fullscreenElement||!!v.document.webkitFullscreenElement},s.isLngLatBehindGlobe=ly,s.isMapAuthenticated=function(a){return Zt.has(a)},s.isMapboxURL=Vi,s.isSafariWithAntialiasingBug=function(a){const n=a.navigator?a.navigator.userAgent:null;return!!rt(a)&&n&&(n.match("Version/15.4")||n.match("Version/15.5")||n.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},s.latFromMercatorY=wa,s.latLngToECEF=l0,s.len=_2,s.length=Ih,s.length$1=function(a){return Math.hypot(a[0],a[1],a[2],a[3])},s.lngFromMercatorX=hl,s.loadVectorTile=ZC,s.makeRequest=pt,s.mapValue=function(a,n,l,u,m){return g((a-n)/(l-n)*(m-u)+u,u,m)},s.mercatorScale=l1,s.mercatorXfromLng=rd,s.mercatorYfromLat=hc,s.mercatorZfromAltitude=pc,s.mul=x1,s.mul$1=y2,s.multiply=Ph,s.multiply$1=Pp,s.multiply$2=b1,s.nextPowerOfTwo=F,s.normalize=Ja,s.normalize$1=v2,s.normalize$2=H_,s.number=Jn,s.ortho=function(a,n,l,u,m,w,C){var N=1/(n-l),ee=1/(u-m),re=1/(w-C);return a[0]=-2*N,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*ee,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*re,a[11]=0,a[12]=(n+l)*N,a[13]=(m+u)*ee,a[14]=(C+w)*re,a[15]=1,a},s.pbf=r0,s.perspective=function(a,n,l,u,m){var w,C=1/Math.tan(n/2);return a[0]=C/l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=C,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,m!=null&&m!==1/0?(a[10]=(m+u)*(w=1/(u-m)),a[14]=2*m*u*w):(a[10]=-1,a[14]=-2*u),a},s.pick=function(a,n){const l={};for(let u=0;u<n.length;u++){const m=n[u];m in a&&(l[m]=a[m])}return l},s.plugin=Jt,s.pointGeometry=U,s.polesInViewport=function(a){const n=Ic(new Float64Array(16));Ph(n,a.pixelMatrix,a.globeMatrix);const l=[0,Rc,0],u=[0,Bc,0];return po(l,l,n),po(u,u,n),[l[0]>0&&l[0]<=a.width&&l[1]>0&&l[1]<=a.height&&!ly(a,new Pr(a.center.lat,90)),u[0]>0&&u[0]<=a.width&&u[1]>0&&u[1]<=a.height&&!ly(a,new Pr(a.center.lat,-90))]},s.polygonContainsPoint=Ah,s.polygonIntersectsBox=g1,s.polygonIntersectsPolygon=Tm,s.polygonizeBounds=function(a,n,l=0,u=!0){const m=new U(l,l),w=a.sub(m),C=n.add(m),N=[w,new U(C.x,w.y),C,new U(w.x,C.y)];return u&&N.push(w.clone()),N},s.posAttributes=a0,s.postMapLoadEvent=xt,s.postPerformanceEvent=Ut,s.postTurnstileEvent=We,s.potpack=Y1,s.prevPowerOfTwo=function(a){return a<=1?1:Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},s.radToDeg=V,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.registerForPluginStateChange=function(a){return a({pluginStatus:gt,pluginURL:ct}),Ct.on("pluginStateChange",a),a},s.removeAuthState=function(a){Zt.delete(a)},s.renderColorRamp=qf,s.resample=d1,s.rotateX=_1,s.rotateX$1=W_,s.rotateY=Wf,s.rotateY$1=Y_,s.rotateZ=function(a,n,l){var u=Math.sin(l),m=Math.cos(l),w=n[0],C=n[1],N=n[2],ee=n[3],re=n[4],me=n[5],Te=n[6],Me=n[7];return n!==a&&(a[8]=n[8],a[9]=n[9],a[10]=n[10],a[11]=n[11],a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15]),a[0]=w*m+re*u,a[1]=C*m+me*u,a[2]=N*m+Te*u,a[3]=ee*m+Me*u,a[4]=re*m-w*u,a[5]=me*m-C*u,a[6]=Te*m-N*u,a[7]=Me*m-ee*u,a},s.rotateZ$1=function(a,n,l){l*=.5;var u=n[0],m=n[1],w=n[2],C=n[3],N=Math.sin(l),ee=Math.cos(l);return a[0]=u*ee+m*N,a[1]=m*ee-u*N,a[2]=w*ee+C*N,a[3]=C*ee-w*N,a},s.scale=Dh,s.scale$1=G_,s.scale$2=fc,s.scaleAndAdd=Lp,s.set=function(a,n,l,u){return a[0]=n,a[1]=l,a[2]=u,a},s.setCacheLimits=function(a,n){Xe=a,Ke=n},s.setColumn=function(a,n,l){a[4*n+0]=l[0],a[4*n+1]=l[1],a[4*n+2]=l[2],a[4*n+3]=l[3]},s.setRTLTextPlugin=function(a,n,l=!1){if(gt===lt||gt===ht||gt===et)throw new Error("setRTLTextPlugin cannot be called multiple times.");ct=_n.resolveURL(a),gt=lt,nt=n,Dt(),l||ii()},s.smoothstep=b,s.spec=mi,s.squaredLength=function(a){var n=a[0],l=a[1],u=a[2];return n*n+l*l+u*u},s.storeAuthState=function(a,n){n?Zt.add(a):Zt.delete(a)},s.sub=ld,s.subtract=Ip,s.symbolSize=ow,s.tileAABB=function(a,n,l,u,m,w,C,N,ee){if(ee.name==="globe")return Aw(a,n,new Fm(l,u,m));const re=jh({z:l,x:u,y:m},ee);return new Qa([(w+re.x/re.scale)*n,n*(re.y/re.scale),C],[(w+re.x2/re.scale)*n,n*(re.y2/re.scale),N])},s.tileCornersToBounds=Km,s.tileTransform=jh,s.transformMat3=function(a,n,l){var u=n[0],m=n[1],w=n[2];return a[0]=u*l[0]+m*l[3]+w*l[6],a[1]=u*l[1]+m*l[4]+w*l[7],a[2]=u*l[2]+m*l[5]+w*l[8],a},s.transformMat4=po,s.transformMat4$1=qu,s.transformQuat=V_,s.transitionTileAABBinECEF=Fv,s.translate=Hf,s.transpose=function(a,n){if(a===n){var l=n[1],u=n[2],m=n[5];a[1]=n[3],a[2]=n[6],a[3]=l,a[5]=n[7],a[6]=u,a[7]=m}else a[0]=n[0],a[1]=n[3],a[2]=n[6],a[3]=n[1],a[4]=n[4],a[5]=n[7],a[6]=n[2],a[7]=n[5],a[8]=n[8];return a},s.triggerPluginCompletionEvent=wt,s.uniqueId=pe,s.updateGlobeVertexNormal=function(a,n,l,u,m){const w=5*n+2;a.float32[w+0]=l,a.float32[w+1]=u,a.float32[w+2]=m},s.validateCustomStyleLayer=function(a){const n=[],l=a.id;return l===void 0&&n.push({message:`layers.${l}: missing required property "id"`}),a.render===void 0&&n.push({message:`layers.${l}: missing required method "render"`}),a.renderingMode&&a.renderingMode!=="2d"&&a.renderingMode!=="3d"&&n.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),n},s.validateFilter=a=>id(Od(a)),s.validateFog=a=>id(bh(a)),s.validateLayer=a=>id(xp(a)),s.validateLight=a=>id(it(a)),s.validateSource=a=>id($u(a)),s.validateStyle=Lf,s.validateTerrain=a=>id(td(a)),s.values=Y,s.vectorTile=Lm,s.version=R,s.warnOnce=oe,s.window=v,s.wrap=A}),d(["./shared"],function(s){function v(mt){if(typeof mt=="number"||typeof mt=="boolean"||typeof mt=="string"||mt==null)return JSON.stringify(mt);if(Array.isArray(mt)){let We="[";for(const ut of mt)We+=`${v(ut)},`;return`${We}]`}let Fe="{";for(const We of Object.keys(mt).sort())Fe+=`${We}:${v(mt[We])},`;return`${Fe}}`}function R(mt){let Fe="";for(const We of s.refProperties)Fe+=`/${v(mt[We])}`;return Fe}class K{constructor(Fe){this.keyCache={},Fe&&this.replace(Fe)}replace(Fe){this._layerConfigs={},this._layers={},this.update(Fe,[])}update(Fe,We){for(const xt of Fe)this._layerConfigs[xt.id]=xt,(this._layers[xt.id]=s.createStyleLayer(xt)).compileFilter(),this.keyCache[xt.id]&&delete this.keyCache[xt.id];for(const xt of We)delete this.keyCache[xt],delete this._layerConfigs[xt],delete this._layers[xt];this.familiesBySource={};const ut=function(xt,Rt){const Ut={};for(let zt=0;zt<xt.length;zt++){const Zt=Rt&&Rt[xt[zt].id]||R(xt[zt]);Rt&&(Rt[xt[zt].id]=Zt);let xi=Ut[Zt];xi||(xi=Ut[Zt]=[]),xi.push(xt[zt])}const Ht=[];for(const zt in Ut)Ht.push(Ut[zt]);return Ht}(s.values(this._layerConfigs),this.keyCache);for(const xt of ut){const Rt=xt.map(Ji=>this._layers[Ji.id]),Ut=Rt[0];if(Ut.visibility==="none")continue;const Ht=Ut.source||"";let zt=this.familiesBySource[Ht];zt||(zt=this.familiesBySource[Ht]={});const Zt=Ut.sourceLayer||"_geojsonTileLayer";let xi=zt[Zt];xi||(xi=zt[Zt]=[]),xi.push(Rt)}}}class k{loadTile(Fe,We){const{uid:ut,encoding:xt,rawImageData:Rt,padding:Ut,buildQuadTree:Ht}=Fe,zt=s.window.ImageBitmap&&Rt instanceof s.window.ImageBitmap?this.getImageData(Rt,Ut):Rt;We(null,new s.DEMData(ut,zt,xt,Ut<1,Ht))}getImageData(Fe,We){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Fe.width,Fe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Fe.width,this.offscreenCanvas.height=Fe.height,this.offscreenCanvasContext.drawImage(Fe,0,0,Fe.width,Fe.height);const ut=this.offscreenCanvasContext.getImageData(-We,-We,Fe.width+2*We,Fe.height+2*We);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ut}}var z=function mt(Fe,We){var ut,xt=Fe&&Fe.type;if(xt==="FeatureCollection")for(ut=0;ut<Fe.features.length;ut++)mt(Fe.features[ut],We);else if(xt==="GeometryCollection")for(ut=0;ut<Fe.geometries.length;ut++)mt(Fe.geometries[ut],We);else if(xt==="Feature")mt(Fe.geometry,We);else if(xt==="Polygon")q(Fe.coordinates,We);else if(xt==="MultiPolygon")for(ut=0;ut<Fe.coordinates.length;ut++)q(Fe.coordinates[ut],We);return Fe};function q(mt,Fe){if(mt.length!==0){L(mt[0],Fe);for(var We=1;We<mt.length;We++)L(mt[We],!Fe)}}function L(mt,Fe){for(var We=0,ut=0,xt=0,Rt=mt.length,Ut=Rt-1;xt<Rt;Ut=xt++){var Ht=(mt[xt][0]-mt[Ut][0])*(mt[Ut][1]+mt[xt][1]),zt=We+Ht;ut+=Math.abs(We)>=Math.abs(Ht)?We-zt+Ht:Ht-zt+We,We=zt}We+ut>=0!=!!Fe&&mt.reverse()}const O=s.VectorTileFeature.prototype.toGeoJSON;class G{constructor(Fe){this._feature=Fe,this.extent=s.EXTENT,this.type=Fe.type,this.properties=Fe.tags,"id"in Fe&&!isNaN(Fe.id)&&(this.id=parseInt(Fe.id,10))}loadGeometry(){if(this._feature.type===1){const Fe=[];for(const We of this._feature.geometry)Fe.push([new s.pointGeometry(We[0],We[1])]);return Fe}{const Fe=[];for(const We of this._feature.geometry){const ut=[];for(const xt of We)ut.push(new s.pointGeometry(xt[0],xt[1]));Fe.push(ut)}return Fe}}toGeoJSON(Fe,We,ut){return O.call(this,Fe,We,ut)}}class M{constructor(Fe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=Fe.length,this._features=Fe}feature(Fe){return new G(this._features[Fe])}}var S={exports:{}},D=s.pointGeometry,H=s.vectorTile.VectorTileFeature,U=E;function E(mt,Fe){this.options=Fe||{},this.features=mt,this.length=mt.length}function ie(mt,Fe){this.id=typeof mt.id=="number"?mt.id:void 0,this.type=mt.type,this.rawGeometry=mt.type===1?[mt.geometry]:mt.geometry,this.properties=mt.tags,this.extent=Fe||4096}E.prototype.feature=function(mt){return new ie(this.features[mt],this.options.extent)},ie.prototype.loadGeometry=function(){var mt=this.rawGeometry;this.geometry=[];for(var Fe=0;Fe<mt.length;Fe++){for(var We=mt[Fe],ut=[],xt=0;xt<We.length;xt++)ut.push(new D(We[xt][0],We[xt][1]));this.geometry.push(ut)}return this.geometry},ie.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var mt=this.geometry,Fe=1/0,We=-1/0,ut=1/0,xt=-1/0,Rt=0;Rt<mt.length;Rt++)for(var Ut=mt[Rt],Ht=0;Ht<Ut.length;Ht++){var zt=Ut[Ht];Fe=Math.min(Fe,zt.x),We=Math.max(We,zt.x),ut=Math.min(ut,zt.y),xt=Math.max(xt,zt.y)}return[Fe,ut,We,xt]},ie.prototype.toGeoJSON=H.prototype.toGeoJSON;var te=s.pbf,$=U;function V(mt){var Fe=new te;return function(We,ut){for(var xt in We.layers)ut.writeMessage(3,j,We.layers[xt])}(mt,Fe),Fe.finish()}function j(mt,Fe){var We;Fe.writeVarintField(15,mt.version||1),Fe.writeStringField(1,mt.name||""),Fe.writeVarintField(5,mt.extent||4096);var ut={keys:[],values:[],keycache:{},valuecache:{}};for(We=0;We<mt.length;We++)ut.feature=mt.feature(We),Fe.writeMessage(2,x,ut);var xt=ut.keys;for(We=0;We<xt.length;We++)Fe.writeStringField(3,xt[We]);var Rt=ut.values;for(We=0;We<Rt.length;We++)Fe.writeMessage(4,A,Rt[We])}function x(mt,Fe){var We=mt.feature;We.id!==void 0&&Fe.writeVarintField(1,We.id),Fe.writeMessage(2,P,mt),Fe.writeVarintField(3,We.type),Fe.writeMessage(4,b,We)}function P(mt,Fe){var We=mt.feature,ut=mt.keys,xt=mt.values,Rt=mt.keycache,Ut=mt.valuecache;for(var Ht in We.properties){var zt=We.properties[Ht],Zt=Rt[Ht];if(zt!==null){Zt===void 0&&(ut.push(Ht),Rt[Ht]=Zt=ut.length-1),Fe.writeVarint(Zt);var xi=typeof zt;xi!=="string"&&xi!=="boolean"&&xi!=="number"&&(zt=JSON.stringify(zt));var Ji=xi+":"+zt,Di=Ut[Ji];Di===void 0&&(xt.push(zt),Ut[Ji]=Di=xt.length-1),Fe.writeVarint(Di)}}}function f(mt,Fe){return(Fe<<3)+(7&mt)}function g(mt){return mt<<1^mt>>31}function b(mt,Fe){for(var We=mt.loadGeometry(),ut=mt.type,xt=0,Rt=0,Ut=We.length,Ht=0;Ht<Ut;Ht++){var zt=We[Ht],Zt=1;ut===1&&(Zt=zt.length),Fe.writeVarint(f(1,Zt));for(var xi=ut===3?zt.length-1:zt.length,Ji=0;Ji<xi;Ji++){Ji===1&&ut!==1&&Fe.writeVarint(f(2,xi-1));var Di=zt[Ji].x-xt,Mn=zt[Ji].y-Rt;Fe.writeVarint(g(Di)),Fe.writeVarint(g(Mn)),xt+=Di,Rt+=Mn}ut===3&&Fe.writeVarint(f(7,1))}}function A(mt,Fe){var We=typeof mt;We==="string"?Fe.writeStringField(1,mt):We==="boolean"?Fe.writeBooleanField(7,mt):We==="number"&&(mt%1!=0?Fe.writeDoubleField(3,mt):mt<0?Fe.writeSVarintField(6,mt):Fe.writeVarintField(5,mt))}function X(mt,Fe,We,ut,xt,Rt){if(xt-ut<=We)return;const Ut=ut+xt>>1;Y(mt,Fe,Ut,ut,xt,Rt%2),X(mt,Fe,We,ut,Ut-1,Rt+1),X(mt,Fe,We,Ut+1,xt,Rt+1)}function Y(mt,Fe,We,ut,xt,Rt){for(;xt>ut;){if(xt-ut>600){const Zt=xt-ut+1,xi=We-ut+1,Ji=Math.log(Zt),Di=.5*Math.exp(2*Ji/3),Mn=.5*Math.sqrt(Ji*Di*(Zt-Di)/Zt)*(xi-Zt/2<0?-1:1);Y(mt,Fe,We,Math.max(ut,Math.floor(We-xi*Di/Zt+Mn)),Math.min(xt,Math.floor(We+(Zt-xi)*Di/Zt+Mn)),Rt)}const Ut=Fe[2*We+Rt];let Ht=ut,zt=xt;for(J(mt,Fe,ut,We),Fe[2*xt+Rt]>Ut&&J(mt,Fe,ut,xt);Ht<zt;){for(J(mt,Fe,Ht,zt),Ht++,zt--;Fe[2*Ht+Rt]<Ut;)Ht++;for(;Fe[2*zt+Rt]>Ut;)zt--}Fe[2*ut+Rt]===Ut?J(mt,Fe,ut,zt):(zt++,J(mt,Fe,zt,xt)),zt<=We&&(ut=zt+1),We<=zt&&(xt=zt-1)}}function J(mt,Fe,We,ut){ce(mt,We,ut),ce(Fe,2*We,2*ut),ce(Fe,2*We+1,2*ut+1)}function ce(mt,Fe,We){const ut=mt[Fe];mt[Fe]=mt[We],mt[We]=ut}function pe(mt,Fe,We,ut){const xt=mt-We,Rt=Fe-ut;return xt*xt+Rt*Rt}S.exports=V,S.exports.fromVectorTileJs=V,S.exports.fromGeojsonVt=function(mt,Fe){Fe=Fe||{};var We={};for(var ut in mt)We[ut]=new $(mt[ut].features,Fe),We[ut].name=ut,We[ut].version=Fe.version,We[ut].extent=Fe.extent;return V({layers:We})},S.exports.GeoJSONWrapper=$;const fe=mt=>mt[0],F=mt=>mt[1];class Q{constructor(Fe,We=fe,ut=F,xt=64,Rt=Float64Array){this.nodeSize=xt,this.points=Fe;const Ut=Fe.length<65536?Uint16Array:Uint32Array,Ht=this.ids=new Ut(Fe.length),zt=this.coords=new Rt(2*Fe.length);for(let Zt=0;Zt<Fe.length;Zt++)Ht[Zt]=Zt,zt[2*Zt]=We(Fe[Zt]),zt[2*Zt+1]=ut(Fe[Zt]);X(Ht,zt,xt,0,Ht.length-1,0)}range(Fe,We,ut,xt){return function(Rt,Ut,Ht,zt,Zt,xi,Ji){const Di=[0,Rt.length-1,0],Mn=[];let Cn,hn;for(;Di.length;){const Wi=Di.pop(),cr=Di.pop(),Ar=Di.pop();if(cr-Ar<=Ji){for(let Or=Ar;Or<=cr;Or++)Cn=Ut[2*Or],hn=Ut[2*Or+1],Cn>=Ht&&Cn<=Zt&&hn>=zt&&hn<=xi&&Mn.push(Rt[Or]);continue}const _n=Math.floor((Ar+cr)/2);Cn=Ut[2*_n],hn=Ut[2*_n+1],Cn>=Ht&&Cn<=Zt&&hn>=zt&&hn<=xi&&Mn.push(Rt[_n]);const Yr=(Wi+1)%2;(Wi===0?Ht<=Cn:zt<=hn)&&(Di.push(Ar),Di.push(_n-1),Di.push(Yr)),(Wi===0?Zt>=Cn:xi>=hn)&&(Di.push(_n+1),Di.push(cr),Di.push(Yr))}return Mn}(this.ids,this.coords,Fe,We,ut,xt,this.nodeSize)}within(Fe,We,ut){return function(xt,Rt,Ut,Ht,zt,Zt){const xi=[0,xt.length-1,0],Ji=[],Di=zt*zt;for(;xi.length;){const Mn=xi.pop(),Cn=xi.pop(),hn=xi.pop();if(Cn-hn<=Zt){for(let Yr=hn;Yr<=Cn;Yr++)pe(Rt[2*Yr],Rt[2*Yr+1],Ut,Ht)<=Di&&Ji.push(xt[Yr]);continue}const Wi=Math.floor((hn+Cn)/2),cr=Rt[2*Wi],Ar=Rt[2*Wi+1];pe(cr,Ar,Ut,Ht)<=Di&&Ji.push(xt[Wi]);const _n=(Mn+1)%2;(Mn===0?Ut-zt<=cr:Ht-zt<=Ar)&&(xi.push(hn),xi.push(Wi-1),xi.push(_n)),(Mn===0?Ut+zt>=cr:Ht+zt>=Ar)&&(xi.push(Wi+1),xi.push(Cn),xi.push(_n))}return Ji}(this.ids,this.coords,Fe,We,ut,this.nodeSize)}}const se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:mt=>mt},ue=Math.fround||(Ce=new Float32Array(1),mt=>(Ce[0]=+mt,Ce[0]));var Ce;class ne{constructor(Fe){this.options=$e(Object.create(se),Fe),this.trees=new Array(this.options.maxZoom+1)}load(Fe){const{log:We,minZoom:ut,maxZoom:xt,nodeSize:Rt}=this.options;We&&console.time("total time");const Ut=`prepare ${Fe.length} points`;We&&console.time(Ut),this.points=Fe;let Ht=[];for(let zt=0;zt<Fe.length;zt++)Fe[zt].geometry&&Ht.push(_e(Fe[zt],zt));this.trees[xt+1]=new Q(Ht,rt,Qe,Rt,Float32Array),We&&console.timeEnd(Ut);for(let zt=xt;zt>=ut;zt--){const Zt=+Date.now();Ht=this._cluster(Ht,zt),this.trees[zt]=new Q(Ht,rt,Qe,Rt,Float32Array),We&&console.log("z%d: %d clusters in %dms",zt,Ht.length,+Date.now()-Zt)}return We&&console.timeEnd("total time"),this}getClusters(Fe,We){let ut=((Fe[0]+180)%360+360)%360-180;const xt=Math.max(-90,Math.min(90,Fe[1]));let Rt=Fe[2]===180?180:((Fe[2]+180)%360+360)%360-180;const Ut=Math.max(-90,Math.min(90,Fe[3]));if(Fe[2]-Fe[0]>=360)ut=-180,Rt=180;else if(ut>Rt){const xi=this.getClusters([ut,xt,180,Ut],We),Ji=this.getClusters([-180,xt,Rt,Ut],We);return xi.concat(Ji)}const Ht=this.trees[this._limitZoom(We)],zt=Ht.range(Se(ut),Re(Ut),Se(Rt),Re(xt)),Zt=[];for(const xi of zt){const Ji=Ht.points[xi];Zt.push(Ji.numPoints?oe(Ji):this.points[Ji.index])}return Zt}getChildren(Fe){const We=this._getOriginId(Fe),ut=this._getOriginZoom(Fe),xt="No cluster with the specified id.",Rt=this.trees[ut];if(!Rt)throw new Error(xt);const Ut=Rt.points[We];if(!Ut)throw new Error(xt);const Ht=this.options.radius/(this.options.extent*Math.pow(2,ut-1)),zt=Rt.within(Ut.x,Ut.y,Ht),Zt=[];for(const xi of zt){const Ji=Rt.points[xi];Ji.parentId===Fe&&Zt.push(Ji.numPoints?oe(Ji):this.points[Ji.index])}if(Zt.length===0)throw new Error(xt);return Zt}getLeaves(Fe,We,ut){const xt=[];return this._appendLeaves(xt,Fe,We=We||10,ut=ut||0,0),xt}getTile(Fe,We,ut){const xt=this.trees[this._limitZoom(Fe)],Rt=Math.pow(2,Fe),{extent:Ut,radius:Ht}=this.options,zt=Ht/Ut,Zt=(ut-zt)/Rt,xi=(ut+1+zt)/Rt,Ji={features:[]};return this._addTileFeatures(xt.range((We-zt)/Rt,Zt,(We+1+zt)/Rt,xi),xt.points,We,ut,Rt,Ji),We===0&&this._addTileFeatures(xt.range(1-zt/Rt,Zt,1,xi),xt.points,Rt,ut,Rt,Ji),We===Rt-1&&this._addTileFeatures(xt.range(0,Zt,zt/Rt,xi),xt.points,-1,ut,Rt,Ji),Ji.features.length?Ji:null}getClusterExpansionZoom(Fe){let We=this._getOriginZoom(Fe)-1;for(;We<=this.options.maxZoom;){const ut=this.getChildren(Fe);if(We++,ut.length!==1)break;Fe=ut[0].properties.cluster_id}return We}_appendLeaves(Fe,We,ut,xt,Rt){const Ut=this.getChildren(We);for(const Ht of Ut){const zt=Ht.properties;if(zt&&zt.cluster?Rt+zt.point_count<=xt?Rt+=zt.point_count:Rt=this._appendLeaves(Fe,zt.cluster_id,ut,xt,Rt):Rt<xt?Rt++:Fe.push(Ht),Fe.length===ut)break}return Rt}_addTileFeatures(Fe,We,ut,xt,Rt,Ut){for(const Ht of Fe){const zt=We[Ht],Zt=zt.numPoints;let xi,Ji,Di;if(Zt)xi=ye(zt),Ji=zt.x,Di=zt.y;else{const hn=this.points[zt.index];xi=hn.properties,Ji=Se(hn.geometry.coordinates[0]),Di=Re(hn.geometry.coordinates[1])}const Mn={type:1,geometry:[[Math.round(this.options.extent*(Ji*Rt-ut)),Math.round(this.options.extent*(Di*Rt-xt))]],tags:xi};let Cn;Zt?Cn=zt.id:this.options.generateId?Cn=zt.index:this.points[zt.index].id&&(Cn=this.points[zt.index].id),Cn!==void 0&&(Mn.id=Cn),Ut.features.push(Mn)}}_limitZoom(Fe){return Math.max(this.options.minZoom,Math.min(Math.floor(+Fe),this.options.maxZoom+1))}_cluster(Fe,We){const ut=[],{radius:xt,extent:Rt,reduce:Ut,minPoints:Ht}=this.options,zt=xt/(Rt*Math.pow(2,We));for(let Zt=0;Zt<Fe.length;Zt++){const xi=Fe[Zt];if(xi.zoom<=We)continue;xi.zoom=We;const Ji=this.trees[We+1],Di=Ji.within(xi.x,xi.y,zt),Mn=xi.numPoints||1;let Cn=Mn;for(const hn of Di){const Wi=Ji.points[hn];Wi.zoom>We&&(Cn+=Wi.numPoints||1)}if(Cn>Mn&&Cn>=Ht){let hn=xi.x*Mn,Wi=xi.y*Mn,cr=Ut&&Mn>1?this._map(xi,!0):null;const Ar=(Zt<<5)+(We+1)+this.points.length;for(const _n of Di){const Yr=Ji.points[_n];if(Yr.zoom<=We)continue;Yr.zoom=We;const Or=Yr.numPoints||1;hn+=Yr.x*Or,Wi+=Yr.y*Or,Yr.parentId=Ar,Ut&&(cr||(cr=this._map(xi,!0)),Ut(cr,this._map(Yr)))}xi.parentId=Ar,ut.push(ve(hn/Cn,Wi/Cn,Ar,Cn,cr))}else if(ut.push(xi),Cn>1)for(const hn of Di){const Wi=Ji.points[hn];Wi.zoom<=We||(Wi.zoom=We,ut.push(Wi))}}return ut}_getOriginId(Fe){return Fe-this.points.length>>5}_getOriginZoom(Fe){return(Fe-this.points.length)%32}_map(Fe,We){if(Fe.numPoints)return We?$e({},Fe.properties):Fe.properties;const ut=this.points[Fe.index].properties,xt=this.options.map(ut);return We&&xt===ut?$e({},xt):xt}}function ve(mt,Fe,We,ut,xt){return{x:ue(mt),y:ue(Fe),zoom:1/0,id:We,parentId:-1,numPoints:ut,properties:xt}}function _e(mt,Fe){const[We,ut]=mt.geometry.coordinates;return{x:ue(Se(We)),y:ue(Re(ut)),zoom:1/0,index:Fe,parentId:-1}}function oe(mt){return{type:"Feature",id:mt.id,properties:ye(mt),geometry:{type:"Point",coordinates:[(Fe=mt.x,360*(Fe-.5)),Le(mt.y)]}};var Fe}function ye(mt){const Fe=mt.numPoints,We=Fe>=1e4?`${Math.round(Fe/1e3)}k`:Fe>=1e3?Math.round(Fe/100)/10+"k":Fe;return $e($e({},mt.properties),{cluster:!0,cluster_id:mt.id,point_count:Fe,point_count_abbreviated:We})}function Se(mt){return mt/360+.5}function Re(mt){const Fe=Math.sin(mt*Math.PI/180),We=.5-.25*Math.log((1+Fe)/(1-Fe))/Math.PI;return We<0?0:We>1?1:We}function Le(mt){const Fe=(180-360*mt)*Math.PI/180;return 360*Math.atan(Math.exp(Fe))/Math.PI-90}function $e(mt,Fe){for(const We in Fe)mt[We]=Fe[We];return mt}function rt(mt){return mt.x}function Qe(mt){return mt.y}function qe(mt,Fe,We,ut){for(var xt,Rt=ut,Ut=We-Fe>>1,Ht=We-Fe,zt=mt[Fe],Zt=mt[Fe+1],xi=mt[We],Ji=mt[We+1],Di=Fe+3;Di<We;Di+=3){var Mn=xe(mt[Di],mt[Di+1],zt,Zt,xi,Ji);if(Mn>Rt)xt=Di,Rt=Mn;else if(Mn===Rt){var Cn=Math.abs(Di-Ut);Cn<Ht&&(xt=Di,Ht=Cn)}}Rt>ut&&(xt-Fe>3&&qe(mt,Fe,xt,ut),mt[xt+2]=Rt,We-xt>3&&qe(mt,xt,We,ut))}function xe(mt,Fe,We,ut,xt,Rt){var Ut=xt-We,Ht=Rt-ut;if(Ut!==0||Ht!==0){var zt=((mt-We)*Ut+(Fe-ut)*Ht)/(Ut*Ut+Ht*Ht);zt>1?(We=xt,ut=Rt):zt>0&&(We+=Ut*zt,ut+=Ht*zt)}return(Ut=mt-We)*Ut+(Ht=Fe-ut)*Ht}function Ie(mt,Fe,We,ut){var xt={id:mt===void 0?null:mt,type:Fe,geometry:We,tags:ut,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Rt){var Ut=Rt.geometry,Ht=Rt.type;if(Ht==="Point"||Ht==="MultiPoint"||Ht==="LineString")Be(Rt,Ut);else if(Ht==="Polygon"||Ht==="MultiLineString")for(var zt=0;zt<Ut.length;zt++)Be(Rt,Ut[zt]);else if(Ht==="MultiPolygon")for(zt=0;zt<Ut.length;zt++)for(var Zt=0;Zt<Ut[zt].length;Zt++)Be(Rt,Ut[zt][Zt])}(xt),xt}function Be(mt,Fe){for(var We=0;We<Fe.length;We+=3)mt.minX=Math.min(mt.minX,Fe[We]),mt.minY=Math.min(mt.minY,Fe[We+1]),mt.maxX=Math.max(mt.maxX,Fe[We]),mt.maxY=Math.max(mt.maxY,Fe[We+1])}function Xe(mt,Fe,We,ut){if(Fe.geometry){var xt=Fe.geometry.coordinates,Rt=Fe.geometry.type,Ut=Math.pow(We.tolerance/((1<<We.maxZoom)*We.extent),2),Ht=[],zt=Fe.id;if(We.promoteId?zt=Fe.properties[We.promoteId]:We.generateId&&(zt=ut||0),Rt==="Point")Ke(xt,Ht);else if(Rt==="MultiPoint")for(var Zt=0;Zt<xt.length;Zt++)Ke(xt[Zt],Ht);else if(Rt==="LineString")ft(xt,Ht,Ut,!1);else if(Rt==="MultiLineString"){if(We.lineMetrics){for(Zt=0;Zt<xt.length;Zt++)ft(xt[Zt],Ht=[],Ut,!1),mt.push(Ie(zt,"LineString",Ht,Fe.properties));return}St(xt,Ht,Ut,!1)}else if(Rt==="Polygon")St(xt,Ht,Ut,!0);else{if(Rt!=="MultiPolygon"){if(Rt==="GeometryCollection"){for(Zt=0;Zt<Fe.geometry.geometries.length;Zt++)Xe(mt,{id:zt,geometry:Fe.geometry.geometries[Zt],properties:Fe.properties},We,ut);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Zt=0;Zt<xt.length;Zt++){var xi=[];St(xt[Zt],xi,Ut,!0),Ht.push(xi)}}mt.push(Ie(zt,Rt,Ht,Fe.properties))}}function Ke(mt,Fe){Fe.push(Ot(mt[0])),Fe.push(yi(mt[1])),Fe.push(0)}function ft(mt,Fe,We,ut){for(var xt,Rt,Ut=0,Ht=0;Ht<mt.length;Ht++){var zt=Ot(mt[Ht][0]),Zt=yi(mt[Ht][1]);Fe.push(zt),Fe.push(Zt),Fe.push(0),Ht>0&&(Ut+=ut?(xt*Zt-zt*Rt)/2:Math.sqrt(Math.pow(zt-xt,2)+Math.pow(Zt-Rt,2))),xt=zt,Rt=Zt}var xi=Fe.length-3;Fe[2]=1,qe(Fe,0,xi,We),Fe[xi+2]=1,Fe.size=Math.abs(Ut),Fe.start=0,Fe.end=Fe.size}function St(mt,Fe,We,ut){for(var xt=0;xt<mt.length;xt++){var Rt=[];ft(mt[xt],Rt,We,ut),Fe.push(Rt)}}function Ot(mt){return mt/360+.5}function yi(mt){var Fe=Math.sin(mt*Math.PI/180),We=.5-.25*Math.log((1+Fe)/(1-Fe))/Math.PI;return We<0?0:We>1?1:We}function Wt(mt,Fe,We,ut,xt,Rt,Ut,Ht){if(ut/=Fe,Rt>=(We/=Fe)&&Ut<ut)return mt;if(Ut<We||Rt>=ut)return null;for(var zt=[],Zt=0;Zt<mt.length;Zt++){var xi=mt[Zt],Ji=xi.geometry,Di=xi.type,Mn=xt===0?xi.minX:xi.minY,Cn=xt===0?xi.maxX:xi.maxY;if(Mn>=We&&Cn<ut)zt.push(xi);else if(!(Cn<We||Mn>=ut)){var hn=[];if(Di==="Point"||Di==="MultiPoint")fi(Ji,hn,We,ut,xt);else if(Di==="LineString")Hi(Ji,hn,We,ut,xt,!1,Ht.lineMetrics);else if(Di==="MultiLineString")Lt(Ji,hn,We,ut,xt,!1);else if(Di==="Polygon")Lt(Ji,hn,We,ut,xt,!0);else if(Di==="MultiPolygon")for(var Wi=0;Wi<Ji.length;Wi++){var cr=[];Lt(Ji[Wi],cr,We,ut,xt,!0),cr.length&&hn.push(cr)}if(hn.length){if(Ht.lineMetrics&&Di==="LineString"){for(Wi=0;Wi<hn.length;Wi++)zt.push(Ie(xi.id,Di,hn[Wi],xi.tags));continue}Di!=="LineString"&&Di!=="MultiLineString"||(hn.length===1?(Di="LineString",hn=hn[0]):Di="MultiLineString"),Di!=="Point"&&Di!=="MultiPoint"||(Di=hn.length===3?"Point":"MultiPoint"),zt.push(Ie(xi.id,Di,hn,xi.tags))}}}return zt.length?zt:null}function fi(mt,Fe,We,ut,xt){for(var Rt=0;Rt<mt.length;Rt+=3){var Ut=mt[Rt+xt];Ut>=We&&Ut<=ut&&(Fe.push(mt[Rt]),Fe.push(mt[Rt+1]),Fe.push(mt[Rt+2]))}}function Hi(mt,Fe,We,ut,xt,Rt,Ut){for(var Ht,zt,Zt=pt(mt),xi=xt===0?Pi:cn,Ji=mt.start,Di=0;Di<mt.length-3;Di+=3){var Mn=mt[Di],Cn=mt[Di+1],hn=mt[Di+2],Wi=mt[Di+3],cr=mt[Di+4],Ar=xt===0?Mn:Cn,_n=xt===0?Wi:cr,Yr=!1;Ut&&(Ht=Math.sqrt(Math.pow(Mn-Wi,2)+Math.pow(Cn-cr,2))),Ar<We?_n>We&&(zt=xi(Zt,Mn,Cn,Wi,cr,We),Ut&&(Zt.start=Ji+Ht*zt)):Ar>ut?_n<ut&&(zt=xi(Zt,Mn,Cn,Wi,cr,ut),Ut&&(Zt.start=Ji+Ht*zt)):ei(Zt,Mn,Cn,hn),_n<We&&Ar>=We&&(zt=xi(Zt,Mn,Cn,Wi,cr,We),Yr=!0),_n>ut&&Ar<=ut&&(zt=xi(Zt,Mn,Cn,Wi,cr,ut),Yr=!0),!Rt&&Yr&&(Ut&&(Zt.end=Ji+Ht*zt),Fe.push(Zt),Zt=pt(mt)),Ut&&(Ji+=Ht)}var Or=mt.length-3;Mn=mt[Or],Cn=mt[Or+1],hn=mt[Or+2],(Ar=xt===0?Mn:Cn)>=We&&Ar<=ut&&ei(Zt,Mn,Cn,hn),Or=Zt.length-3,Rt&&Or>=3&&(Zt[Or]!==Zt[0]||Zt[Or+1]!==Zt[1])&&ei(Zt,Zt[0],Zt[1],Zt[2]),Zt.length&&Fe.push(Zt)}function pt(mt){var Fe=[];return Fe.size=mt.size,Fe.start=mt.start,Fe.end=mt.end,Fe}function Lt(mt,Fe,We,ut,xt,Rt){for(var Ut=0;Ut<mt.length;Ut++)Hi(mt[Ut],Fe,We,ut,xt,Rt,!1)}function ei(mt,Fe,We,ut){mt.push(Fe),mt.push(We),mt.push(ut)}function Pi(mt,Fe,We,ut,xt,Rt){var Ut=(Rt-Fe)/(ut-Fe);return mt.push(Rt),mt.push(We+(xt-We)*Ut),mt.push(1),Ut}function cn(mt,Fe,We,ut,xt,Rt){var Ut=(Rt-We)/(xt-We);return mt.push(Fe+(ut-Fe)*Ut),mt.push(Rt),mt.push(1),Ut}function Wn(mt,Fe){for(var We=[],ut=0;ut<mt.length;ut++){var xt,Rt=mt[ut],Ut=Rt.type;if(Ut==="Point"||Ut==="MultiPoint"||Ut==="LineString")xt=Kr(Rt.geometry,Fe);else if(Ut==="MultiLineString"||Ut==="Polygon"){xt=[];for(var Ht=0;Ht<Rt.geometry.length;Ht++)xt.push(Kr(Rt.geometry[Ht],Fe))}else if(Ut==="MultiPolygon")for(xt=[],Ht=0;Ht<Rt.geometry.length;Ht++){for(var zt=[],Zt=0;Zt<Rt.geometry[Ht].length;Zt++)zt.push(Kr(Rt.geometry[Ht][Zt],Fe));xt.push(zt)}We.push(Ie(Rt.id,Ut,xt,Rt.tags))}return We}function Kr(mt,Fe){var We=[];We.size=mt.size,mt.start!==void 0&&(We.start=mt.start,We.end=mt.end);for(var ut=0;ut<mt.length;ut+=3)We.push(mt[ut]+Fe,mt[ut+1],mt[ut+2]);return We}function ui(mt,Fe){if(mt.transformed)return mt;var We,ut,xt,Rt=1<<mt.z,Ut=mt.x,Ht=mt.y;for(We=0;We<mt.features.length;We++){var zt=mt.features[We],Zt=zt.geometry,xi=zt.type;if(zt.geometry=[],xi===1)for(ut=0;ut<Zt.length;ut+=2)zt.geometry.push(Vi(Zt[ut],Zt[ut+1],Fe,Rt,Ut,Ht));else for(ut=0;ut<Zt.length;ut++){var Ji=[];for(xt=0;xt<Zt[ut].length;xt+=2)Ji.push(Vi(Zt[ut][xt],Zt[ut][xt+1],Fe,Rt,Ut,Ht));zt.geometry.push(Ji)}}return mt.transformed=!0,mt}function Vi(mt,Fe,We,ut,xt,Rt){return[Math.round(We*(mt*ut-xt)),Math.round(We*(Fe*ut-Rt))]}function qi(mt,Fe,We,ut,xt){for(var Rt=Fe===xt.maxZoom?0:xt.tolerance/((1<<Fe)*xt.extent),Ut={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:We,y:ut,z:Fe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ht=0;Ht<mt.length;Ht++){Ut.numFeatures++,Nr(Ut,mt[Ht],Rt,xt);var zt=mt[Ht].minX,Zt=mt[Ht].minY,xi=mt[Ht].maxX,Ji=mt[Ht].maxY;zt<Ut.minX&&(Ut.minX=zt),Zt<Ut.minY&&(Ut.minY=Zt),xi>Ut.maxX&&(Ut.maxX=xi),Ji>Ut.maxY&&(Ut.maxY=Ji)}return Ut}function Nr(mt,Fe,We,ut){var xt=Fe.geometry,Rt=Fe.type,Ut=[];if(Rt==="Point"||Rt==="MultiPoint")for(var Ht=0;Ht<xt.length;Ht+=3)Ut.push(xt[Ht]),Ut.push(xt[Ht+1]),mt.numPoints++,mt.numSimplified++;else if(Rt==="LineString")go(Ut,xt,mt,We,!1,!1);else if(Rt==="MultiLineString"||Rt==="Polygon")for(Ht=0;Ht<xt.length;Ht++)go(Ut,xt[Ht],mt,We,Rt==="Polygon",Ht===0);else if(Rt==="MultiPolygon")for(var zt=0;zt<xt.length;zt++){var Zt=xt[zt];for(Ht=0;Ht<Zt.length;Ht++)go(Ut,Zt[Ht],mt,We,!0,Ht===0)}if(Ut.length){var xi=Fe.tags||null;if(Rt==="LineString"&&ut.lineMetrics){for(var Ji in xi={},Fe.tags)xi[Ji]=Fe.tags[Ji];xi.mapbox_clip_start=xt.start/xt.size,xi.mapbox_clip_end=xt.end/xt.size}var Di={geometry:Ut,type:Rt==="Polygon"||Rt==="MultiPolygon"?3:Rt==="LineString"||Rt==="MultiLineString"?2:1,tags:xi};Fe.id!==null&&(Di.id=Fe.id),mt.features.push(Di)}}function go(mt,Fe,We,ut,xt,Rt){var Ut=ut*ut;if(ut>0&&Fe.size<(xt?Ut:ut))We.numPoints+=Fe.length/3;else{for(var Ht=[],zt=0;zt<Fe.length;zt+=3)(ut===0||Fe[zt+2]>Ut)&&(We.numSimplified++,Ht.push(Fe[zt]),Ht.push(Fe[zt+1])),We.numPoints++;xt&&function(Zt,xi){for(var Ji=0,Di=0,Mn=Zt.length,Cn=Mn-2;Di<Mn;Cn=Di,Di+=2)Ji+=(Zt[Di]-Zt[Cn])*(Zt[Di+1]+Zt[Cn+1]);if(Ji>0===xi)for(Di=0,Mn=Zt.length;Di<Mn/2;Di+=2){var hn=Zt[Di],Wi=Zt[Di+1];Zt[Di]=Zt[Mn-2-Di],Zt[Di+1]=Zt[Mn-1-Di],Zt[Mn-2-Di]=hn,Zt[Mn-1-Di]=Wi}}(Ht,Rt),mt.push(Ht)}}function wn(mt,Fe){var We=(Fe=this.options=function(xt,Rt){for(var Ut in Rt)xt[Ut]=Rt[Ut];return xt}(Object.create(this.options),Fe)).debug;if(We&&console.time("preprocess data"),Fe.maxZoom<0||Fe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Fe.promoteId&&Fe.generateId)throw new Error("promoteId and generateId cannot be used together.");var ut=function(xt,Rt){var Ut=[];if(xt.type==="FeatureCollection")for(var Ht=0;Ht<xt.features.length;Ht++)Xe(Ut,xt.features[Ht],Rt,Ht);else Xe(Ut,xt.type==="Feature"?xt:{geometry:xt},Rt);return Ut}(mt,Fe);this.tiles={},this.tileCoords=[],We&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Fe.indexMaxZoom,Fe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ut=function(xt,Rt){var Ut=Rt.buffer/Rt.extent,Ht=xt,zt=Wt(xt,1,-1-Ut,Ut,0,-1,2,Rt),Zt=Wt(xt,1,1-Ut,2+Ut,0,-1,2,Rt);return(zt||Zt)&&(Ht=Wt(xt,1,-Ut,1+Ut,0,-1,2,Rt)||[],zt&&(Ht=Wn(zt,1).concat(Ht)),Zt&&(Ht=Ht.concat(Wn(Zt,-1)))),Ht}(ut,Fe),ut.length&&this.splitTile(ut,0,0,0),We&&(ut.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function co(mt,Fe,We){return 32*((1<<mt)*We+Fe)+mt}function On(mt,Fe){const We=mt.tileID.canonical;if(!this._geoJSONIndex)return Fe(null,null);const ut=this._geoJSONIndex.getTile(We.z,We.x,We.y);if(!ut)return Fe(null,null);const xt=new M(ut.features);let Rt=S.exports(xt);Rt.byteOffset===0&&Rt.byteLength===Rt.buffer.byteLength||(Rt=new Uint8Array(Rt)),Fe(null,{vectorTile:xt,rawData:Rt.buffer})}wn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},wn.prototype.splitTile=function(mt,Fe,We,ut,xt,Rt,Ut){for(var Ht=[mt,Fe,We,ut],zt=this.options,Zt=zt.debug;Ht.length;){ut=Ht.pop(),We=Ht.pop(),Fe=Ht.pop(),mt=Ht.pop();var xi=1<<Fe,Ji=co(Fe,We,ut),Di=this.tiles[Ji];if(!Di&&(Zt>1&&console.time("creation"),Di=this.tiles[Ji]=qi(mt,Fe,We,ut,zt),this.tileCoords.push({z:Fe,x:We,y:ut}),Zt)){Zt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Fe,We,ut,Di.numFeatures,Di.numPoints,Di.numSimplified),console.timeEnd("creation"));var Mn="z"+Fe;this.stats[Mn]=(this.stats[Mn]||0)+1,this.total++}if(Di.source=mt,xt){if(Fe===zt.maxZoom||Fe===xt)continue;var Cn=1<<xt-Fe;if(We!==Math.floor(Rt/Cn)||ut!==Math.floor(Ut/Cn))continue}else if(Fe===zt.indexMaxZoom||Di.numPoints<=zt.indexMaxPoints)continue;if(Di.source=null,mt.length!==0){Zt>1&&console.time("clipping");var hn,Wi,cr,Ar,_n,Yr,Or=.5*zt.buffer/zt.extent,Ga=.5-Or,Ha=.5+Or,yo=1+Or;hn=Wi=cr=Ar=null,_n=Wt(mt,xi,We-Or,We+Ha,0,Di.minX,Di.maxX,zt),Yr=Wt(mt,xi,We+Ga,We+yo,0,Di.minX,Di.maxX,zt),mt=null,_n&&(hn=Wt(_n,xi,ut-Or,ut+Ha,1,Di.minY,Di.maxY,zt),Wi=Wt(_n,xi,ut+Ga,ut+yo,1,Di.minY,Di.maxY,zt),_n=null),Yr&&(cr=Wt(Yr,xi,ut-Or,ut+Ha,1,Di.minY,Di.maxY,zt),Ar=Wt(Yr,xi,ut+Ga,ut+yo,1,Di.minY,Di.maxY,zt),Yr=null),Zt>1&&console.timeEnd("clipping"),Ht.push(hn||[],Fe+1,2*We,2*ut),Ht.push(Wi||[],Fe+1,2*We,2*ut+1),Ht.push(cr||[],Fe+1,2*We+1,2*ut),Ht.push(Ar||[],Fe+1,2*We+1,2*ut+1)}}},wn.prototype.getTile=function(mt,Fe,We){var ut=this.options,xt=ut.extent,Rt=ut.debug;if(mt<0||mt>24)return null;var Ut=1<<mt,Ht=co(mt,Fe=(Fe%Ut+Ut)%Ut,We);if(this.tiles[Ht])return ui(this.tiles[Ht],xt);Rt>1&&console.log("drilling down to z%d-%d-%d",mt,Fe,We);for(var zt,Zt=mt,xi=Fe,Ji=We;!zt&&Zt>0;)Zt--,xi=Math.floor(xi/2),Ji=Math.floor(Ji/2),zt=this.tiles[co(Zt,xi,Ji)];return zt&&zt.source?(Rt>1&&console.log("found parent tile z%d-%d-%d",Zt,xi,Ji),Rt>1&&console.time("drilling down"),this.splitTile(zt.source,Zt,xi,Ji,mt,Fe,We),Rt>1&&console.timeEnd("drilling down"),this.tiles[Ht]?ui(this.tiles[Ht],xt):null):null};class Va extends s.VectorTileWorkerSource{constructor(Fe,We,ut,xt,Rt){super(Fe,We,ut,xt,On),Rt&&(this.loadGeoJSON=Rt)}loadData(Fe,We){const ut=Fe&&Fe.request,xt=ut&&ut.collectResourceTiming;this.loadGeoJSON(Fe,(Rt,Ut)=>{if(Rt||!Ut)return We(Rt);if(typeof Ut!="object")return We(new Error(`Input data given to '${Fe.source}' is not a valid GeoJSON object.`));{z(Ut,!0);try{if(Fe.filter){const zt=s.createExpression(Fe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(zt.result==="error")throw new Error(zt.value.map(xi=>`${xi.key}: ${xi.message}`).join(", "));Ut={type:"FeatureCollection",features:Ut.features.filter(xi=>zt.value.evaluate({zoom:0},xi))}}this._geoJSONIndex=Fe.cluster?new ne(function({superclusterOptions:zt,clusterProperties:Zt}){if(!Zt||!zt)return zt;const xi={},Ji={},Di={accumulated:null,zoom:0},Mn={properties:null},Cn=Object.keys(Zt);for(const hn of Cn){const[Wi,cr]=Zt[hn],Ar=s.createExpression(cr),_n=s.createExpression(typeof Wi=="string"?[Wi,["accumulated"],["get",hn]]:Wi);xi[hn]=Ar.value,Ji[hn]=_n.value}return zt.map=hn=>{Mn.properties=hn;const Wi={};for(const cr of Cn)Wi[cr]=xi[cr].evaluate(Di,Mn);return Wi},zt.reduce=(hn,Wi)=>{Mn.properties=Wi;for(const cr of Cn)Di.accumulated=hn[cr],hn[cr]=Ji[cr].evaluate(Di,Mn)},zt}(Fe)).load(Ut.features):function(zt,Zt){return new wn(zt,Zt)}(Ut,Fe.geojsonVtOptions)}catch(zt){return We(zt)}this.loaded={};const Ht={};if(xt){const zt=s.getPerformanceMeasurement(ut);zt&&(Ht.resourceTiming={},Ht.resourceTiming[Fe.source]=JSON.parse(JSON.stringify(zt)))}We(null,Ht)}})}reloadTile(Fe,We){const ut=this.loaded;return ut&&ut[Fe.uid]?super.reloadTile(Fe,We):this.loadTile(Fe,We)}loadGeoJSON(Fe,We){if(Fe.request)s.getJSON(Fe.request,We);else{if(typeof Fe.data!="string")return We(new Error(`Input data given to '${Fe.source}' is not a valid GeoJSON object.`));try{return We(null,JSON.parse(Fe.data))}catch{return We(new Error(`Input data given to '${Fe.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Fe,We){try{We(null,this._geoJSONIndex.getClusterExpansionZoom(Fe.clusterId))}catch(ut){We(ut)}}getClusterChildren(Fe,We){try{We(null,this._geoJSONIndex.getChildren(Fe.clusterId))}catch(ut){We(ut)}}getClusterLeaves(Fe,We){try{We(null,this._geoJSONIndex.getLeaves(Fe.clusterId,Fe.limit,Fe.offset))}catch(ut){We(ut)}}}class rl{constructor(Fe){this.self=Fe,this.actor=new s.Actor(Fe,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=s.getProjection({name:"mercator"}),this.workerSourceTypes={vector:s.VectorTileWorkerSource,geojson:Va},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(We,ut)=>{if(this.workerSourceTypes[We])throw new Error(`Worker source with name "${We}" already registered.`);this.workerSourceTypes[We]=ut},this.self.registerRTLTextPlugin=We=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=We.applyArabicShaping,s.plugin.processBidirectionalText=We.processBidirectionalText,s.plugin.processStyledBidirectionalText=We.processStyledBidirectionalText}}clearCaches(Fe,We,ut){delete this.layerIndexes[Fe],delete this.availableImages[Fe],delete this.workerSources[Fe],delete this.demWorkerSources[Fe],ut()}checkIfReady(Fe,We,ut){ut()}setReferrer(Fe,We){this.referrer=We}spriteLoaded(Fe,We){this.isSpriteLoaded[Fe]=We;for(const ut in this.workerSources[Fe]){const xt=this.workerSources[Fe][ut];for(const Rt in xt)xt[Rt]instanceof s.VectorTileWorkerSource&&(xt[Rt].isSpriteLoaded=We,xt[Rt].fire(new s.Event("isSpriteLoaded")))}}setImages(Fe,We,ut){this.availableImages[Fe]=We;for(const xt in this.workerSources[Fe]){const Rt=this.workerSources[Fe][xt];for(const Ut in Rt)Rt[Ut].availableImages=We}ut()}enableTerrain(Fe,We,ut){this.terrain=We,ut()}setProjection(Fe,We){this.projections[Fe]=s.getProjection(We)}setLayers(Fe,We,ut){this.getLayerIndex(Fe).replace(We),ut()}updateLayers(Fe,We,ut){this.getLayerIndex(Fe).update(We.layers,We.removedIds),ut()}loadTile(Fe,We,ut){const xt=this.enableTerrain?s.extend({enableTerrain:this.terrain},We):We;xt.projection=this.projections[Fe]||this.defaultProjection,this.getWorkerSource(Fe,We.type,We.source).loadTile(xt,ut)}loadDEMTile(Fe,We,ut){const xt=this.enableTerrain?s.extend({buildQuadTree:this.terrain},We):We;this.getDEMWorkerSource(Fe,We.source).loadTile(xt,ut)}reloadTile(Fe,We,ut){const xt=this.enableTerrain?s.extend({enableTerrain:this.terrain},We):We;xt.projection=this.projections[Fe]||this.defaultProjection,this.getWorkerSource(Fe,We.type,We.source).reloadTile(xt,ut)}abortTile(Fe,We,ut){this.getWorkerSource(Fe,We.type,We.source).abortTile(We,ut)}removeTile(Fe,We,ut){this.getWorkerSource(Fe,We.type,We.source).removeTile(We,ut)}removeSource(Fe,We,ut){if(!this.workerSources[Fe]||!this.workerSources[Fe][We.type]||!this.workerSources[Fe][We.type][We.source])return;const xt=this.workerSources[Fe][We.type][We.source];delete this.workerSources[Fe][We.type][We.source],xt.removeSource!==void 0?xt.removeSource(We,ut):ut()}loadWorkerSource(Fe,We,ut){try{this.self.importScripts(We.url),ut()}catch(xt){ut(xt.toString())}}syncRTLPluginState(Fe,We,ut){try{s.plugin.setState(We);const xt=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&xt!=null){this.self.importScripts(xt);const Rt=s.plugin.isParsed();ut(Rt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${xt}`),Rt)}}catch(xt){ut(xt.toString())}}getAvailableImages(Fe){let We=this.availableImages[Fe];return We||(We=[]),We}getLayerIndex(Fe){let We=this.layerIndexes[Fe];return We||(We=this.layerIndexes[Fe]=new K),We}getWorkerSource(Fe,We,ut){if(this.workerSources[Fe]||(this.workerSources[Fe]={}),this.workerSources[Fe][We]||(this.workerSources[Fe][We]={}),!this.workerSources[Fe][We][ut]){const xt={send:(Rt,Ut,Ht,zt,Zt,xi)=>{this.actor.send(Rt,Ut,Ht,Fe,Zt,xi)},scheduler:this.actor.scheduler};this.workerSources[Fe][We][ut]=new this.workerSourceTypes[We](xt,this.getLayerIndex(Fe),this.getAvailableImages(Fe),this.isSpriteLoaded[Fe])}return this.workerSources[Fe][We][ut]}getDEMWorkerSource(Fe,We){return this.demWorkerSources[Fe]||(this.demWorkerSources[Fe]={}),this.demWorkerSources[Fe][We]||(this.demWorkerSources[Fe][We]=new k),this.demWorkerSources[Fe][We]}enforceCacheSizeLimit(Fe,We){s.enforceCacheSizeLimit(We)}getWorkerPerformanceMetrics(Fe,We,ut){ut(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new rl(self)),rl}),d(["./shared"],function(s){function v(_,c){if(Array.isArray(_)){if(!Array.isArray(c)||_.length!==c.length)return!1;for(let p=0;p<_.length;p++)if(!v(_[p],c[p]))return!1;return!0}if(typeof _=="object"&&_!==null&&c!==null){if(typeof c!="object"||Object.keys(_).length!==Object.keys(c).length)return!1;for(const p in _)if(!v(_[p],c[p]))return!1;return!0}return _===c}var R=K;function K(_){return!function(c){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var T,B,W=new Blob([""],{type:"text/javascript"}),ae=URL.createObjectURL(W);try{B=new Worker(ae),T=!0}catch{T=!1}return B&&B.terminate(),URL.revokeObjectURL(ae),T}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var T=document.createElement("canvas");T.width=T.height=1;var B=T.getContext("2d");if(!B)return!1;var W=B.getImageData(0,0,1,1);return W&&W.width===T.width}()?(k[p=c&&c.failIfMajorPerformanceCaveat]===void 0&&(k[p]=function(T){var B,W=function(ae){var he=document.createElement("canvas"),ge=Object.create(K.webGLContextAttributes);return ge.failIfMajorPerformanceCaveat=ae,he.getContext("webgl",ge)||he.getContext("experimental-webgl",ge)}(T);if(!W)return!1;try{B=W.createShader(W.VERTEX_SHADER)}catch{return!1}return!(!B||W.isContextLost())&&(W.shaderSource(B,"void main() {}"),W.compileShader(B),W.getShaderParameter(B,W.COMPILE_STATUS)===!0)}(p)),k[p]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var p}(_)}var k={};function z(_,c,p){const T=s.window.document.createElement(_);return c!==void 0&&(T.className=c),p&&p.appendChild(T),T}function q(_,c,p){const T=s.window.document.createElementNS("http://www.w3.org/2000/svg",_);for(const B of Object.keys(c))T.setAttributeNS(null,B,c[B]);return p&&p.appendChild(T),T}K.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const L=s.window.document&&s.window.document.documentElement.style,O=L&&L.userSelect!==void 0?"userSelect":"WebkitUserSelect";let G;function M(){L&&O&&(G=L[O],L[O]="none")}function S(){L&&O&&(L[O]=G)}function D(_){_.preventDefault(),_.stopPropagation(),s.window.removeEventListener("click",D,!0)}function H(){s.window.addEventListener("click",D,!0),s.window.setTimeout(()=>{s.window.removeEventListener("click",D,!0)},0)}function U(_,c){const p=_.getBoundingClientRect();return te(_,p,c)}function E(_,c){const p=_.getBoundingClientRect(),T=[];for(let B=0;B<c.length;B++)T.push(te(_,p,c[B]));return T}function ie(_){return s.window.InstallTrigger!==void 0&&_.button===2&&_.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:_.button}function te(_,c,p){const T=_.offsetWidth===c.width?1:_.offsetWidth/c.width;return new s.pointGeometry((p.clientX-c.left)*T,(p.clientY-c.top)*T)}function $(_,c){var p=c[0],T=c[1],B=c[2],W=c[3],ae=p*W-B*T;return ae?(_[0]=W*(ae=1/ae),_[1]=-T*ae,_[2]=-B*ae,_[3]=p*ae,_):null}function V(_){const{userImage:c}=_;return!!(c&&c.render&&c.render())&&(_.data.replace(new Uint8Array(c.data.buffer)),!0)}class j extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:T}of this.requestors)this._notify(p,T);this.requestors=[]}}hasImage(c){return!!this.getImage(c)}getImage(c){return this.images[c]}addImage(c,p){this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let T=!0;return this._validateStretch(p.stretchX,p.data&&p.data.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),T=!1),this._validateStretch(p.stretchY,p.data&&p.data.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),T=!1),this._validateContent(p.content,p)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),T=!1),T}_validateStretch(c,p){if(!c)return!0;let T=0;for(const B of c){if(B[0]<T||B[1]<B[0]||p<B[1])return!1;T=B[1]}return!0}_validateContent(c,p){return!(c&&(c.length!==4||c[0]<0||p.data.width<c[0]||c[1]<0||p.data.height<c[1]||c[2]<0||p.data.width<c[2]||c[3]<0||p.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,p){p.version=this.images[c].version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let T=!0;if(!this.isLoaded())for(const B of c)this.images[B]||(T=!1);this.isLoaded()||T?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const T={};for(const B of c){this.images[B]||this.fire(new s.Event("styleimagemissing",{id:B}));const W=this.images[B];W?T[B]={data:W.data.clone(),pixelRatio:W.pixelRatio,sdf:W.sdf,version:W.version,stretchX:W.stretchX,stretchY:W.stretchY,content:W.content,hasRenderCallback:!!(W.userImage&&W.userImage.render)}:s.warnOnce(`Image "${B}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,T)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],T=this.getImage(c);if(!T)return null;if(p&&p.position.version===T.version)return p.position;if(p)p.position.version=T.version;else{const B={w:T.data.width+2,h:T.data.height+2,x:0,y:0},W=new s.ImagePosition(B,T);this.patterns[c]={bin:B,position:W}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const W in this.patterns)c.push(this.patterns[W].bin);const{w:p,h:T}=s.potpack(c),B=this.atlasImage;B.resize({width:p||1,height:T||1});for(const W in this.patterns){const{bin:ae}=this.patterns[W],he=ae.x+1,ge=ae.y+1,De=this.images[W].data,Ae=De.width,je=De.height;s.RGBAImage.copy(De,B,{x:0,y:0},{x:he,y:ge},{width:Ae,height:je}),s.RGBAImage.copy(De,B,{x:0,y:je-1},{x:he,y:ge-1},{width:Ae,height:1}),s.RGBAImage.copy(De,B,{x:0,y:0},{x:he,y:ge+je},{width:Ae,height:1}),s.RGBAImage.copy(De,B,{x:Ae-1,y:0},{x:he-1,y:ge},{width:1,height:je}),s.RGBAImage.copy(De,B,{x:0,y:0},{x:he+Ae,y:ge},{width:1,height:je})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const T=this.images[p];V(T)&&this.updateImage(p,T)}}}const x=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(_,c){return function([p,T,B]){const W=s.degToRad(T+90),ae=s.degToRad(B);return{x:p*Math.cos(W)*Math.sin(ae),y:p*Math.sin(W)*Math.sin(ae),z:p*Math.cos(ae),azimuthal:T,polar:B}}(_.expression.evaluate(c))}interpolate(_,c,p){return{x:s.number(_.x,c.x,p),y:s.number(_.y,c.y,p),z:s.number(_.z,c.z,p),azimuthal:s.number(_.azimuthal,c.azimuthal,p),polar:s.number(_.polar,c.polar,p)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)}),P="-transition";class f extends s.Evented{constructor(c){super(),this._transitionable=new s.Transitionable(x),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(s.validateLight,c,p))for(const T in c){const B=c[T];s.endsWith(T,P)?this._transitionable.setTransition(T.slice(0,-P.length),B):this._transitionable.setValue(T,B)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,T){return(!T||T.validate!==!1)&&s.emitValidationErrors(this,c.call(s.validateStyle,s.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}const g=new s.Properties({source:new s.DataConstantProperty(s.spec.terrain.source),exaggeration:new s.DataConstantProperty(s.spec.terrain.exaggeration)}),b="-transition";class A extends s.Evented{constructor(c,p){super(),this._transitionable=new s.Transitionable(g),this.set(c),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=p}get(){return this._transitionable.serialize()}set(c){for(const p in c){const T=c[p];s.endsWith(p,b)?this._transitionable.setTransition(p.slice(0,-b.length),T):this._transitionable.setValue(p,T)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}}function X(_,c,p,T){const B=s.smoothstep(45,65,p),[W,ae]=Y(_,T),he=s.length(c);let ge=1-Math.min(1,Math.exp((he-W)/(ae-W)*-6));return ge*=ge*ge,ge=Math.min(1,1.00747*ge),ge*B*_.alpha}function Y(_,c){const p=.5/Math.tan(.5*c);return[_.range[0]+p,_.range[1]+p]}const J=new s.Properties({range:new s.DataConstantProperty(s.spec.fog.range),color:new s.DataConstantProperty(s.spec.fog.color),"high-color":new s.DataConstantProperty(s.spec.fog["high-color"]),"space-color":new s.DataConstantProperty(s.spec.fog["space-color"]),"horizon-blend":new s.DataConstantProperty(s.spec.fog["horizon-blend"]),"star-intensity":new s.DataConstantProperty(s.spec.fog["star-intensity"])}),ce="-transition";class pe extends s.Evented{constructor(c,p){super(),this._transitionable=new s.Transitionable(J),this.set(c),this._transitioning=this._transitionable.untransitioned(),this._transform=p}get state(){const c=this._transform,p=c.projection.name==="globe",T=s.globeToMercatorTransition(c.zoom),B=this.properties.get("range"),W=[.5,3];return{range:p?[s.number(W[0],B[0],T),s.number(W[1],B[1],T)]:B,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(c,p={}){if(!this._validate(s.validateFog,c,p)){for(const T of Object.keys(s.spec.fog))c&&c[T]===void 0&&(c[T]=s.spec.fog[T].default);for(const T in c){const B=c[T];s.endsWith(T,ce)?this._transitionable.setTransition(T.slice(0,-ce.length),B):this._transitionable.setValue(T,B)}}}getOpacity(c){if(!this._transform.projection.supportsFog)return 0;const p=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:s.smoothstep(45,65,c))*p.a}getOpacityAtLatLng(c,p){return this._transform.projection.supportsFog?function(T,B,W){const ae=s.MercatorCoordinate.fromLngLat(B),he=W.elevation?W.elevation.getAtPointOrZero(ae):0,ge=[ae.x,ae.y,he];return s.transformMat4(ge,ge,W.mercatorFogMatrix),X(T,ge,W.pitch,W._fov)}(this.state,c,p):0}getFovAdjustedRange(c){return this._transform.projection.supportsFog?Y(this.state,c):[0,1]}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,T){return(!T||T.validate!==!1)&&s.emitValidationErrors(this,c.call(s.validateStyle,s.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class fe{constructor(c,p){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=s.uniqueId();const T=this.workerPool.acquire(this.id);for(let B=0;B<T.length;B++){const W=new fe.Actor(T[B],p,this.id);W.name=`Worker ${B}`,this.actors.push(W)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(c,p,T){s.asyncAll(this.actors,(B,W)=>{B.send(c,p,W)},T=T||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(c=>{c.remove()}),this.actors=[],this.workerPool.release(this.id)}}function F(_,c,p){return c*(s.EXTENT/(_.tileSize*Math.pow(2,p-_.tileID.overscaledZ)))}fe.Actor=s.Actor;class Q{constructor(c,p,T,B){this.screenBounds=c,this.cameraPoint=p,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=T,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,B)}static createFromScreenPoints(c,p){let T,B;if(c instanceof s.pointGeometry||typeof c[0]=="number"){const W=s.pointGeometry.convert(c);T=[W],B=p.isPointAboveHorizon(W)}else{const W=s.pointGeometry.convert(c[0]),ae=s.pointGeometry.convert(c[1]);T=[W,ae],B=s.polygonizeBounds(W,ae).every(he=>p.isPointAboveHorizon(he))}return new Q(T,p.getCameraPoint(),B,p)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(c){return s.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],c)}bufferedCameraGeometry(c){const p=this.screenBounds[0],T=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],B=s.polygonizeBounds(p,T,0,!1);return this.cameraPoint.y>T.y&&(this.cameraPoint.x>p.x&&this.cameraPoint.x<T.x?B.splice(3,0,this.cameraPoint):this.cameraPoint.x>=T.x?B[2]=this.cameraPoint:this.cameraPoint.x<=p.x&&(B[3]=this.cameraPoint)),s.bufferConvexPolygon(B,c)}bufferedCameraGeometryGlobe(c){const p=this.screenBounds[0],T=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],B=s.polygonizeBounds(p,T,c),W=this.cameraPoint.clone();switch(3*((W.y>p.y)+(W.y>T.y))+((W.x>p.x)+(W.x>T.x))){case 0:B[0]=W,B[4]=W.clone();break;case 1:B.splice(1,0,W);break;case 2:B[1]=W;break;case 3:B.splice(4,0,W);break;case 5:B.splice(2,0,W);break;case 6:B[3]=W;break;case 7:B.splice(3,0,W);break;case 8:B[2]=W}return B}containsTile(c,p,T,B=0){const W=c.queryPadding/p._pixelsPerMercatorPixel+1,ae=T?this._bufferedCameraMercator(W,p):this._bufferedScreenMercator(W,p);let he=c.tileID.wrap+(ae.unwrapped?B:0);const ge=ae.polygon.map(et=>s.getTilePoint(c.tileTransform,et,he));if(!s.polygonIntersectsBox(ge,0,0,s.EXTENT,s.EXTENT))return;he=c.tileID.wrap+(this.screenGeometryMercator.unwrapped?B:0);const De=this.screenGeometryMercator.polygon.map(et=>s.getTileVec3(c.tileTransform,et,he)),Ae=De.map(et=>new s.pointGeometry(et[0],et[1])),je=p.getFreeCameraOptions().position||new s.MercatorCoordinate(0,0,0),Ze=s.getTileVec3(c.tileTransform,je,he),at=De.map(et=>{const nt=s.sub(et,et,Ze);return s.normalize(nt,nt),new s.Ray(Ze,nt)}),lt=F(c,1,p.zoom)*p._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Ae,tilespaceRays:at,bufferedTilespaceGeometry:ge,bufferedTilespaceBounds:(ht=s.getBounds(ge),ht.min.x=s.clamp(ht.min.x,0,s.EXTENT),ht.min.y=s.clamp(ht.min.y,0,s.EXTENT),ht.max.x=s.clamp(ht.max.x,0,s.EXTENT),ht.max.y=s.clamp(ht.max.y,0,s.EXTENT),ht),tile:c,tileID:c.tileID,pixelToTileUnitsFactor:lt};var ht}_bufferedScreenMercator(c,p){const T=Ce(c);if(this._screenRaycastCache[T])return this._screenRaycastCache[T];{let B;return B=p.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(c),p):{polygon:this.bufferedScreenGeometry(c).map(W=>p.pointCoordinate3D(W)),unwrapped:!0},this._screenRaycastCache[T]=B,B}}_bufferedCameraMercator(c,p){const T=Ce(c);if(this._cameraRaycastCache[T])return this._cameraRaycastCache[T];{let B;return B=p.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(c),p):{polygon:this.bufferedCameraGeometry(c).map(W=>p.pointCoordinate3D(W)),unwrapped:!0},this._cameraRaycastCache[T]=B,B}}_projectAndResample(c,p){const T=function(W,ae){const he=s.multiply([],ae.pixelMatrix,ae.globeMatrix),ge=[0,-s.GLOBE_RADIUS,0,1],De=[0,s.GLOBE_RADIUS,0,1],Ae=[0,0,0,1];s.transformMat4$1(ge,ge,he),s.transformMat4$1(De,De,he),s.transformMat4$1(Ae,Ae,he);const je=new s.pointGeometry(ge[0]/ge[3],ge[1]/ge[3]),Ze=new s.pointGeometry(De[0]/De[3],De[1]/De[3]),at=s.polygonContainsPoint(W,je)&&ge[3]<Ae[3],lt=s.polygonContainsPoint(W,Ze)&&De[3]<Ae[3];if(!at&&!lt)return null;const ht=function(jt,ii,Jt){for(let Gt=1;Gt<jt.length;Gt++){const Mi=ue(ii.pointCoordinate3D(jt[Gt-1]).x),Xt=ue(ii.pointCoordinate3D(jt[Gt]).x);if(Jt<0){if(Mi<Xt)return{idx:Gt,t:-Mi/(Xt-1-Mi)}}else if(Xt<Mi)return{idx:Gt,t:(1-Mi)/(Xt+1-Mi)}}return null}(W,ae,at?-1:1);if(!ht)return null;const{idx:et,t:nt}=ht;let gt=et>1?se(W.slice(0,et),ae):[],ct=et<W.length?se(W.slice(et),ae):[];gt=gt.map(jt=>new s.pointGeometry(ue(jt.x),jt.y)),ct=ct.map(jt=>new s.pointGeometry(ue(jt.x),jt.y));const wt=[...gt];wt.length===0&&wt.push(ct[ct.length-1]);const Dt=s.number(wt[wt.length-1].y,(ct.length===0?gt[0]:ct[0]).y,nt);let Ct;return Ct=at?[new s.pointGeometry(0,Dt),new s.pointGeometry(0,0),new s.pointGeometry(1,0),new s.pointGeometry(1,Dt)]:[new s.pointGeometry(1,Dt),new s.pointGeometry(1,1),new s.pointGeometry(0,1),new s.pointGeometry(0,Dt)],wt.push(...Ct),ct.length===0?wt.push(gt[0]):wt.push(...ct),{polygon:wt.map(jt=>new s.MercatorCoordinate(jt.x,jt.y)),unwrapped:!1}}(c,p);if(T)return T;const B=function(W,ae){let he=!1,ge=-1/0,De=0;for(let je=0;je<W.length-1;je++)W[je].x>ge&&(ge=W[je].x,De=je);for(let je=0;je<W.length-1;je++){const Ze=(De+je)%(W.length-1),at=W[Ze],lt=W[Ze+1];Math.abs(at.x-lt.x)>.5&&(at.x<lt.x?(at.x+=1,Ze===0&&(W[W.length-1].x+=1)):(lt.x+=1,Ze+1===W.length-1&&(W[0].x+=1)),he=!0)}const Ae=s.mercatorXfromLng(ae.center.lng);return he&&Ae<Math.abs(Ae-1)&&W.forEach(je=>{je.x-=1}),{polygon:W,unwrapped:he}}(se(c,p).map(W=>new s.pointGeometry(ue(W.x),W.y)),p);return{polygon:B.polygon.map(W=>new s.MercatorCoordinate(W.x,W.y)),unwrapped:B.unwrapped}}}function se(_,c){return s.resample(_,p=>{const T=c.pointCoordinate3D(p);p.x=T.x,p.y=T.y},1/256)}function ue(_){return _<0?1+_%1:_%1}function Ce(_){return 100*_|0}function ne(_,c,p,T,B){const W=function(ae,he){if(ae)return B(ae);if(he){_.url&&he.tiles&&_.tiles&&delete _.tiles;const ge=s.pick(s.extend(he,_),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);he.vector_layers&&(ge.vectorLayers=he.vector_layers,ge.vectorLayerIds=ge.vectorLayers.map(De=>De.id)),ge.tiles=c.canonicalizeTileset(ge,_.url),B(null,ge)}};return _.url?s.getJSON(c.transformRequest(c.normalizeSourceURL(_.url,null,p,T),s.ResourceType.Source),W):s.exported.frame(()=>W(null,_))}class ve{constructor(c,p,T){this.bounds=s.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=T||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),T=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*p),B=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*p),W=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*p),ae=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=T&&c.x<W&&c.y>=B&&c.y<ae}}class _e{constructor(c,p,T){this.context=c;const B=c.gl;this.buffer=B.createBuffer(),this.dynamicDraw=!!T,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),B.bufferData(B.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?B.DYNAMIC_DRAW:B.STATIC_DRAW),this.dynamicDraw||p.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const oe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ye{constructor(c,p,T,B){this.length=p.length,this.attributes=T,this.itemSize=p.bytesPerElement,this.dynamicDraw=B,this.context=c;const W=c.gl;this.buffer=W.createBuffer(),c.bindVertexBuffer.set(this.buffer),W.bufferData(W.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?W.DYNAMIC_DRAW:W.STATIC_DRAW),this.dynamicDraw||p.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let T=0;T<this.attributes.length;T++){const B=p.attributes[this.attributes[T].name];B!==void 0&&c.enableVertexAttribArray(B)}}setVertexAttribPointers(c,p,T){for(let B=0;B<this.attributes.length;B++){const W=this.attributes[B],ae=p.attributes[W.name];ae!==void 0&&c.vertexAttribPointer(ae,W.components,c[oe[W.type]],!1,this.itemSize,W.offset+this.itemSize*(T||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Se{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Re extends Se{getDefault(){return s.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Le extends Se{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class $e extends Se{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class rt extends Se{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Qe extends Se{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class qe extends Se{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class xe extends Se{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class Ie extends Se{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class Be extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class Xe extends Se{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Ke extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class ft extends Se{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class St extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class Ot extends Se{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class yi extends Se{getDefault(){return s.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Wt extends Se{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class fi extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class Hi extends Se{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class pt extends Se{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class Lt extends Se{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class ei extends Se{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class Pi extends Se{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class cn extends Se{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Wn extends Se{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Kr extends Se{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class ui extends Se{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Vi extends Se{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class qi extends Se{constructor(c){super(c),this.vao=c.extVertexArrayObject}getDefault(){return null}set(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)}}class Nr extends Se{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class go extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class wn extends Se{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class co extends Se{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class On extends co{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class Va extends co{attachment(){return this.gl.DEPTH_ATTACHMENT}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,this.attachment(),p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class rl extends Va{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class mt{constructor(c,p,T,B){this.context=c,this.width=p,this.height=T;const W=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new On(c,W),B&&(this.depthAttachment=new Va(c,W))}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const T=this.depthAttachment.get();T&&c.deleteRenderbuffer(T)}c.deleteFramebuffer(this.framebuffer)}}class Fe{constructor(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Re(this),this.clearDepth=new Le(this),this.clearStencil=new $e(this),this.colorMask=new rt(this),this.depthMask=new Qe(this),this.stencilMask=new qe(this),this.stencilFunc=new xe(this),this.stencilOp=new Ie(this),this.stencilTest=new Be(this),this.depthRange=new Xe(this),this.depthTest=new Ke(this),this.depthFunc=new ft(this),this.blend=new St(this),this.blendFunc=new Ot(this),this.blendColor=new yi(this),this.blendEquation=new Wt(this),this.cullFace=new fi(this),this.cullFaceSide=new Hi(this),this.frontFace=new pt(this),this.program=new Lt(this),this.activeTexture=new ei(this),this.viewport=new Pi(this),this.bindFramebuffer=new cn(this),this.bindRenderbuffer=new Wn(this),this.bindTexture=new Kr(this),this.bindVertexBuffer=new ui(this),this.bindElementBuffer=new Vi(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new qi(this),this.pixelStoreUnpack=new Nr(this),this.pixelStoreUnpackPremultiplyAlpha=new go(this),this.pixelStoreUnpackFlipY=new wn(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=c.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=c.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=c.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=c.getExtension("OES_standard_derivatives"),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new _e(this,c,p)}createVertexBuffer(c,p,T){return new ye(this,c,p,T)}createRenderbuffer(c,p,T){const B=this.gl,W=B.createRenderbuffer();return this.bindRenderbuffer.set(W),B.renderbufferStorage(B.RENDERBUFFER,c,p,T),this.bindRenderbuffer.set(null),W}createFramebuffer(c,p,T){return new mt(this,c,p,T)}clear({color:c,depth:p,stencil:T}){const B=this.gl;let W=0;c&&(W|=B.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(W|=B.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),T!==void 0&&(W|=B.STENCIL_BUFFER_BIT,this.clearStencil.set(T),this.stencilMask.set(255)),B.clear(W)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){v(c.blendFunction,s.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class We extends s.Evented{constructor(c,p,T,B){super(),this.id=c,this.dispatcher=T,this.setEventedParent(B),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},p),s.extend(this,s.pick(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ne(this._options,this.map._requestManager,null,null,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new s.ErrorEvent(c)):p&&(s.extend(this,p),p.bounds&&(this.tileBounds=new ve(p.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(p.tiles),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const T=s.exported.devicePixelRatio>=2,B=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),T,this.tileSize);c.request=s.getImage(this.map._requestManager.transformRequest(B,s.ResourceType.Tile),(W,ae,he,ge)=>(delete c.request,c.aborted?(c.state="unloaded",p(null)):W?(c.state="errored",p(W)):ae?(this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:he,expires:ge}),c.setTexture(ae,this.map.painter),c.state="loaded",s.cacheEntryPossiblyAdded(this.dispatcher),void p(null)):p(null)))}static loadTileData(c,p,T){c.setTexture(p,T)}static unloadTileData(c,p){c.texture&&p.saveTileTexture(c.texture)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}let ut;function xt(_,c,p,T,B,W,ae,he){const ge=[_,p,B,c,T,W,1,1,1],De=[ae,he,1],Ae=s.adjoint([],ge),[je,Ze,at]=s.transformMat3(De,De,s.transpose(Ae,Ae));return s.multiply$1(ge,[je,0,0,0,Ze,0,0,0,at],ge)}class Rt extends s.Evented{constructor(c,p,T,B){super(),this.id=c,this.dispatcher=T,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(B),this.options=p,this._dirty=!1}load(c,p){this._loaded=p||!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),(T,B)=>{if(this._imageRequest=null,this._loaded=!0,T)this.fire(new s.ErrorEvent(T));else if(B){const{HTMLImageElement:W}=s.window;this.image=B instanceof W?s.exported.getImageData(B):B,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,c&&(this.coordinates=c),this._finishLoading()}})}loaded(){return this._loaded}updateImage(c){return this.image&&c.url?(this._imageRequest&&c.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=c.url,this.load(c.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(c){this.coordinates=c,this._boundsArray=void 0;const p=c.map(s.MercatorCoordinate.fromLngLat);return this.tileID=function(T){let B=1/0,W=1/0,ae=-1/0,he=-1/0;for(const je of T)B=Math.min(B,je.x),W=Math.min(W,je.y),ae=Math.max(ae,je.x),he=Math.max(he,je.y);const ge=Math.max(ae-B,he-W),De=Math.max(0,Math.floor(-Math.log(ge)/Math.LN2)),Ae=Math.pow(2,De);return new s.CanonicalTileID(De,Math.floor((B+ae)/2*Ae),Math.floor((W+he)/2*Ae))}(p),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(c){for(const ge in this.tiles){const De=this.tiles[ge];De.state!=="loaded"&&(De.state="loaded",De.texture=this.texture)}if(this._boundsArray)return;const p=s.tileTransform(this.tileID,this.map.transform.projection),[T,B,W,ae]=this.coordinates.map(ge=>{const De=p.projection.project(ge[0],ge[1]);return s.getTilePoint(p,De)._round()});this.perspectiveTransform=function(ge,De,Ae,je,Ze,at,lt,ht,et,nt){const gt=xt(0,0,ge,0,0,De,ge,De),ct=xt(Ae,je,Ze,at,lt,ht,et,nt);return s.multiply$1(ct,s.adjoint(gt,gt),ct),[ct[6]/ct[8]*ge/s.EXTENT,ct[7]/ct[8]*De/s.EXTENT]}(this.width,this.height,T.x,T.y,B.x,B.y,ae.x,ae.y,W.x,W.y);const he=this._boundsArray=new s.StructArrayLayout4i8;he.emplaceBack(T.x,T.y,0,0),he.emplaceBack(B.x,B.y,s.EXTENT,0),he.emplaceBack(ae.x,ae.y,0,s.EXTENT),he.emplaceBack(W.x,W.y,s.EXTENT,s.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=c.createVertexBuffer(he,s.boundsAttributes.members),this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,p=c.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new s.Texture(c,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(c)}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ut={vector:class extends s.Evented{constructor(_,c,p,T){if(super(),this.id=_,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(c,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(T),this._tileWorkers={},this._deduped=new s.DedupedRequest}load(_){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"}));const c=Array.isArray(this.map._language)?this.map._language.join():this.map._language,p=this.map._worldview;this._tileJSONRequest=ne(this._options,this.map._requestManager,c,p,(T,B)=>{this._tileJSONRequest=null,this._loaded=!0,T?(c&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${c}`),p&&p.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${p}`),this.fire(new s.ErrorEvent(T))):B&&(s.extend(this,B),B.bounds&&(this.tileBounds=new ve(B.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(B.tiles,this.map._requestManager._customAccessToken),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))),_&&_(T)})}loaded(){return this._loaded}hasTile(_){return!this.tileBounds||this.tileBounds.contains(_.canonical)}onAdd(_){this.map=_,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const _=this.map.style._getSourceCaches(this.id);for(const c of _)c.clearTiles()})}setSourceProperty(_){_(),this.reload()}setTiles(_){return this._options.tiles=_,this.reload(),this}setUrl(_){return this.url=_,this._options.url=_,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return s.extend({},this._options)}loadTile(_,c){const p=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme)),T={request:this.map._requestManager.transformRequest(p,s.ResourceType.Tile),data:void 0,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,tileSize:this.tileSize*_.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:_.isSymbolTile};if(T.request.collectResourceTiming=this._collectResourceTiming,_.actor&&_.state!=="expired")_.state==="loading"?_.reloadCallback=c:_.request=_.actor.send("reloadTile",T,B.bind(this));else if(_.actor=this._tileWorkers[p]=this._tileWorkers[p]||this.dispatcher.getActor(),this.dispatcher.ready)_.request=_.actor.send("loadTile",T,B.bind(this),void 0,!0);else{const W=s.loadVectorTile.call({deduped:this._deduped},T,(ae,he)=>{ae||!he?B.call(this,ae):(T.data={cacheControl:he.cacheControl,expires:he.expires,rawData:he.rawData.slice(0)},_.actor&&_.actor.send("loadTile",T,B.bind(this),void 0,!0))},!0);_.request={cancel:W}}function B(W,ae){return delete _.request,_.aborted?c(null):W&&W.status!==404?c(W):(ae&&ae.resourceTiming&&(_.resourceTiming=ae.resourceTiming),this.map._refreshExpiredTiles&&ae&&_.setExpiryData(ae),_.loadVectorData(ae,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),c(null),void(_.reloadCallback&&(this.loadTile(_,_.reloadCallback),_.reloadCallback=null)))}}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.actor&&_.actor.send("abortTile",{uid:_.uid,type:this.type,source:this.id})}unloadTile(_){_.unloadVectorData(),_.actor&&_.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:We,"raster-dem":class extends We{constructor(_,c,p,T){super(_,c,p,T),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}loadTile(_,c){const p=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function T(B,W){B&&(_.state="errored",c(B)),W&&(_.dem=W,_.dem.onDeserialize(),_.needsHillshadePrepare=!0,_.needsDEMTextureUpload=!0,_.state="loaded",c(null))}_.request=s.getImage(this.map._requestManager.transformRequest(p,s.ResourceType.Tile),(function(B,W,ae,he){if(delete _.request,_.aborted)_.state="unloaded",c(null);else if(B)_.state="errored",c(B);else if(W){this.map._refreshExpiredTiles&&_.setExpiryData({cacheControl:ae,expires:he});const ge=s.window.ImageBitmap&&W instanceof s.window.ImageBitmap&&(ut==null&&(ut=s.window.OffscreenCanvas&&new s.window.OffscreenCanvas(1,1).getContext("2d")&&typeof s.window.createImageBitmap=="function"),ut),De=1-(W.width-s.prevPowerOfTwo(W.width))/2;De<1||_.neighboringTiles||(_.neighboringTiles=this._getNeighboringTiles(_.tileID));const Ae=ge?W:s.exported.getImageData(W,De),je={uid:_.uid,coord:_.tileID,source:this.id,rawImageData:Ae,encoding:this.encoding,padding:De};_.actor&&_.state!=="expired"||(_.actor=this.dispatcher.getActor(),_.actor.send("loadDEMTile",je,T.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(_){const c=_.canonical,p=Math.pow(2,c.z),T=(c.x-1+p)%p,B=c.x===0?_.wrap-1:_.wrap,W=(c.x+1+p)%p,ae=c.x+1===p?_.wrap+1:_.wrap,he={};return he[new s.OverscaledTileID(_.overscaledZ,B,c.z,T,c.y).key]={backfilled:!1},he[new s.OverscaledTileID(_.overscaledZ,ae,c.z,W,c.y).key]={backfilled:!1},c.y>0&&(he[new s.OverscaledTileID(_.overscaledZ,B,c.z,T,c.y-1).key]={backfilled:!1},he[new s.OverscaledTileID(_.overscaledZ,_.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},he[new s.OverscaledTileID(_.overscaledZ,ae,c.z,W,c.y-1).key]={backfilled:!1}),c.y+1<p&&(he[new s.OverscaledTileID(_.overscaledZ,B,c.z,T,c.y+1).key]={backfilled:!1},he[new s.OverscaledTileID(_.overscaledZ,_.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},he[new s.OverscaledTileID(_.overscaledZ,ae,c.z,W,c.y+1).key]={backfilled:!1}),he}unloadTile(_){_.demTexture&&this.map.painter.saveTileTexture(_.demTexture),_.fbo&&(_.fbo.destroy(),delete _.fbo),_.dem&&delete _.dem,delete _.neighboringTiles,_.state="unloaded"}},geojson:class extends s.Evented{constructor(_,c,p,T){super(),this.id=_,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=p.getActor(),this.setEventedParent(T),this._data=c.data,this._options=s.extend({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const B=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*B,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*B,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:s.EXTENT,radius:(c.clusterRadius!==void 0?c.clusterRadius:50)*B,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions)}onAdd(_){this.map=_,this.setData(this._data)}setData(_){return this._data=_,this._updateWorkerData(),this}getClusterExpansionZoom(_,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:_,source:this.id},c),this}getClusterChildren(_,c){return this.actor.send("geojson.getClusterChildren",{clusterId:_,source:this.id},c),this}getClusterLeaves(_,c,p,T){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:_,limit:c,offset:p},T),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new s.Event("dataloading",{dataType:"source"})),this._loaded=!1;const _=s.extend({},this.workerOptions),c=this._data;typeof c=="string"?(_.request=this.map._requestManager.transformRequest(s.exported.resolveURL(c),s.ResourceType.Source),_.request.collectResourceTiming=this._collectResourceTiming):_.data=JSON.stringify(c),this._pendingLoad=this.actor.send(`${this.type}.loadData`,_,(p,T)=>{if(this._loaded=!0,this._pendingLoad=null,p)this.fire(new s.ErrorEvent(p));else{const B={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&T&&T.resourceTiming&&T.resourceTiming[this.id]&&(B.resourceTiming=T.resourceTiming[this.id]),this.fire(new s.Event("data",B)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(_,c){const p=_.actor?"reloadTile":"loadTile";_.actor=this.actor,_.request=this.actor.send(p,{type:this.type,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(T,B)=>(delete _.request,_.unloadVectorData(),_.aborted?c(null):T?c(T):(_.loadVectorData(B,this.map.painter,p==="reloadTile"),c(null))),void 0,p==="loadTile")}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.aborted=!0}unloadTile(_){_.unloadVectorData(),this.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Rt{constructor(_,c,p,T){super(_,c,p,T),this.roundZoom=!0,this.type="video",this.options=c}load(){this._loaded=!1;const _=this.options;this.urls=[];for(const c of _.urls)this.urls.push(this.map._requestManager.transformRequest(c,s.ResourceType.Source).url);s.getVideo(this.urls,(c,p)=>{this._loaded=!0,c?this.fire(new s.ErrorEvent(c)):p&&(this.video=p,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(_){if(this.video){const c=this.video.seekable;_<c.start(0)||_>c.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=_}}getVideo(){return this.video}onAdd(_){this.map||(this.map=_,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,c=_.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(_,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(_)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Rt,canvas:class extends Rt{constructor(_,c,p,T){super(_,c,p,T),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(B=>!Array.isArray(B)||B.length!==2||B.some(W=>typeof W!="number"))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof s.window.HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(_){this.map=_,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context;this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(c,this.canvas,c.gl.RGBA,{premultiply:!0}),this._prepareData(c)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const _ of[this.canvas.width,this.canvas.height])if(isNaN(_)||_<=0)return!0;return!1}},custom:class extends s.Evented{constructor(_,c,p,T){super(),this.id=_,this.type="custom",this._dataType="raster",this._dispatcher=p,this._implementation=c,this.setEventedParent(T),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new s.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new s.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ve(this._implementation.bounds,this.minzoom,this.maxzoom)),c.update=this._update.bind(this),c.clearTiles=this._clearTiles.bind(this),c.coveringTiles=this._coveringTiles.bind(this),s.extend(this,s.pick(c,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return s.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(_){this._map=_,this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(_),this.load()}onRemove(_){this._implementation.onRemove&&this._implementation.onRemove(_)}hasTile(_){if(this._implementation.hasTile){const{x:c,y:p,z:T}=_.canonical;return this._implementation.hasTile({x:c,y:p,z:T})}return!this.tileBounds||this.tileBounds.contains(_.canonical)}loadTile(_,c){const{x:p,y:T,z:B}=_.tileID.canonical,W=new s.window.AbortController;_.request=Promise.resolve(this._implementation.loadTile({x:p,y:T,z:B},{signal:W.signal})).then((function(ae){return delete _.request,_.aborted?(_.state="unloaded",c(null)):ae===void 0?(_.state="errored",c(null)):ae===null?(this.loadTileData(_,{width:this.tileSize,height:this.tileSize,data:null}),_.state="loaded",c(null)):function(he){return he instanceof s.window.ImageData||he instanceof s.window.HTMLCanvasElement||he instanceof s.window.ImageBitmap||he instanceof s.window.HTMLImageElement}(ae)?(this.loadTileData(_,ae),_.state="loaded",void c(null)):(_.state="errored",c(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(ae=>{ae.code!==20&&(_.state="errored",c(ae))}),_.request.cancel=()=>W.abort()}loadTileData(_,c){We.loadTileData(_,c,this._map.painter)}unloadTileData(_){We.unloadTileData(_,this._map.painter)}unloadTile(_,c){if(this.unloadTileData(_),this._implementation.unloadTile){const{x:p,y:T,z:B}=_.tileID.canonical;this._implementation.unloadTile({x:p,y:T,z:B})}c()}abortTile(_,c){_.request&&_.request.cancel&&(_.request.cancel(),delete _.request),c()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(_=>({x:_.canonical.x,y:_.canonical.y,z:_.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Ht=function(_,c,p,T){const B=new Ut[c.type](_,c,p,T);if(B.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${B.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],B),B};function zt(_,c){const p=s.identity([]);return s.scale(p,p,[.5*_.width,.5*-_.height,1]),s.translate(p,p,[1,-1,0]),s.multiply(p,p,_.calculateProjMatrix(c.toUnwrapped())),Float32Array.from(p)}function Zt(_,c,p,T,B,W,ae,he=!1){const ge=_.tilesIn(T,ae,he);ge.sort(Ji);const De=[];for(const je of ge)De.push({wrappedTileID:je.tile.tileID.wrapped().key,queryResults:je.tile.queryRenderedFeatures(c,p,_._state,je,B,W,zt(_.transform,je.tile.tileID),he)});const Ae=function(je){const Ze={},at={};for(const lt of je){const ht=lt.queryResults,et=lt.wrappedTileID,nt=at[et]=at[et]||{};for(const gt in ht){const ct=ht[gt],wt=nt[gt]=nt[gt]||{},Dt=Ze[gt]=Ze[gt]||[];for(const Ct of ct)wt[Ct.featureIndex]||(wt[Ct.featureIndex]=!0,Dt.push(Ct))}}return Ze}(De);for(const je in Ae)Ae[je].forEach(Ze=>{const at=Ze.feature,lt=at.layer;lt&&lt.type!=="background"&&lt.type!=="sky"&&(at.source=lt.source,lt["source-layer"]&&(at.sourceLayer=lt["source-layer"]),at.state=at.id!==void 0?_.getFeatureState(lt["source-layer"],at.id):{})});return Ae}function xi(_,c){const p=_.getRenderableIds().map(W=>_.getTileByID(W)),T=[],B={};for(let W=0;W<p.length;W++){const ae=p[W],he=ae.tileID.canonical.key;B[he]||(B[he]=!0,ae.querySourceFeatures(T,c))}return T}function Ji(_,c){const p=_.tileID,T=c.tileID;return p.overscaledZ-T.overscaledZ||p.canonical.y-T.canonical.y||p.wrap-T.wrap||p.canonical.x-T.canonical.x}function Di(){return hu.workerClass!=null?new hu.workerClass:new s.window.Worker(hu.workerUrl)}const Mn="mapboxgl_preloaded_worker_pool";class Cn{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Cn.workerCount;)this.workers.push(new Di);return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Mn]}numActive(){return Object.keys(this.active).length}}let hn;function Wi(){return hn||(hn=new Cn),hn}function cr(_,c){const p={};for(const T in _)T!=="ref"&&(p[T]=_[T]);return s.refProperties.forEach(T=>{T in c&&(p[T]=c[T])}),p}function Ar(_){_=_.slice();const c=Object.create(null);for(let p=0;p<_.length;p++)c[_[p].id]=_[p];for(let p=0;p<_.length;p++)"ref"in _[p]&&(_[p]=cr(_[p],c[_[p].ref]));return _}Cn.workerCount=2;const _n={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Yr(_,c,p){p.push({command:_n.addSource,args:[_,c[_]]})}function Or(_,c,p){c.push({command:_n.removeSource,args:[_]}),p[_]=!0}function Ga(_,c,p,T){Or(_,p,T),Yr(_,c,p)}function Ha(_,c,p){let T;for(T in _[p])if(_[p].hasOwnProperty(T)&&T!=="data"&&!v(_[p][T],c[p][T]))return!1;for(T in c[p])if(c[p].hasOwnProperty(T)&&T!=="data"&&!v(_[p][T],c[p][T]))return!1;return!0}function yo(_,c,p,T,B,W){let ae;for(ae in c=c||{},_=_||{})_.hasOwnProperty(ae)&&(v(_[ae],c[ae])||p.push({command:W,args:[T,ae,c[ae],B]}));for(ae in c)c.hasOwnProperty(ae)&&!_.hasOwnProperty(ae)&&(v(_[ae],c[ae])||p.push({command:W,args:[T,ae,c[ae],B]}))}function mi(_){return _.id}function ps(_,c){return _[c.id]=c,_}class Os{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let T=1;T<this.points.length;T++)this._distances[T]=this._distances[T-1]+this.points[T].dist(this.points[T-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=s.clamp(c,0,1);let p=1,T=this._distances[p];const B=c*this.paddedLength+this.padding;for(;T<B&&p<this._distances.length;)T=this._distances[++p];const W=p-1,ae=this._distances[W],he=T-ae,ge=he>0?(B-ae)/he:0;return this.points[W].mult(1-ge).add(this.points[p].mult(ge))}}class Rs{constructor(c,p,T){const B=this.boxCells=[],W=this.circleCells=[];this.xCellCount=Math.ceil(c/T),this.yCellCount=Math.ceil(p/T);for(let ae=0;ae<this.xCellCount*this.yCellCount;ae++)B.push([]),W.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,T,B,W){this._forEachCell(p,T,B,W,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(T),this.bboxes.push(B),this.bboxes.push(W)}insertCircle(c,p,T,B){this._forEachCell(p-B,T-B,p+B,T+B,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(T),this.circles.push(B)}_insertBoxCell(c,p,T,B,W,ae){this.boxCells[W].push(ae)}_insertCircleCell(c,p,T,B,W,ae){this.circleCells[W].push(ae)}_query(c,p,T,B,W,ae){if(T<0||c>this.width||B<0||p>this.height)return!W&&[];const he=[];if(c<=0&&p<=0&&this.width<=T&&this.height<=B){if(W)return!0;for(let ge=0;ge<this.boxKeys.length;ge++)he.push({key:this.boxKeys[ge],x1:this.bboxes[4*ge],y1:this.bboxes[4*ge+1],x2:this.bboxes[4*ge+2],y2:this.bboxes[4*ge+3]});for(let ge=0;ge<this.circleKeys.length;ge++){const De=this.circles[3*ge],Ae=this.circles[3*ge+1],je=this.circles[3*ge+2];he.push({key:this.circleKeys[ge],x1:De-je,y1:Ae-je,x2:De+je,y2:Ae+je})}return ae?he.filter(ae):he}return this._forEachCell(c,p,T,B,this._queryCell,he,{hitTest:W,seenUids:{box:{},circle:{}}},ae),W?he.length>0:he}_queryCircle(c,p,T,B,W){const ae=c-T,he=c+T,ge=p-T,De=p+T;if(he<0||ae>this.width||De<0||ge>this.height)return!B&&[];const Ae=[];return this._forEachCell(ae,ge,he,De,this._queryCellCircle,Ae,{hitTest:B,circle:{x:c,y:p,radius:T},seenUids:{box:{},circle:{}}},W),B?Ae.length>0:Ae}query(c,p,T,B,W){return this._query(c,p,T,B,!1,W)}hitTest(c,p,T,B,W){return this._query(c,p,T,B,!0,W)}hitTestCircle(c,p,T,B){return this._queryCircle(c,p,T,!0,B)}_queryCell(c,p,T,B,W,ae,he,ge){const De=he.seenUids,Ae=this.boxCells[W];if(Ae!==null){const Ze=this.bboxes;for(const at of Ae)if(!De.box[at]){De.box[at]=!0;const lt=4*at;if(c<=Ze[lt+2]&&p<=Ze[lt+3]&&T>=Ze[lt+0]&&B>=Ze[lt+1]&&(!ge||ge(this.boxKeys[at]))){if(he.hitTest)return ae.push(!0),!0;ae.push({key:this.boxKeys[at],x1:Ze[lt],y1:Ze[lt+1],x2:Ze[lt+2],y2:Ze[lt+3]})}}}const je=this.circleCells[W];if(je!==null){const Ze=this.circles;for(const at of je)if(!De.circle[at]){De.circle[at]=!0;const lt=3*at;if(this._circleAndRectCollide(Ze[lt],Ze[lt+1],Ze[lt+2],c,p,T,B)&&(!ge||ge(this.circleKeys[at]))){if(he.hitTest)return ae.push(!0),!0;{const ht=Ze[lt],et=Ze[lt+1],nt=Ze[lt+2];ae.push({key:this.circleKeys[at],x1:ht-nt,y1:et-nt,x2:ht+nt,y2:et+nt})}}}}}_queryCellCircle(c,p,T,B,W,ae,he,ge){const De=he.circle,Ae=he.seenUids,je=this.boxCells[W];if(je!==null){const at=this.bboxes;for(const lt of je)if(!Ae.box[lt]){Ae.box[lt]=!0;const ht=4*lt;if(this._circleAndRectCollide(De.x,De.y,De.radius,at[ht+0],at[ht+1],at[ht+2],at[ht+3])&&(!ge||ge(this.boxKeys[lt])))return ae.push(!0),!0}}const Ze=this.circleCells[W];if(Ze!==null){const at=this.circles;for(const lt of Ze)if(!Ae.circle[lt]){Ae.circle[lt]=!0;const ht=3*lt;if(this._circlesCollide(at[ht],at[ht+1],at[ht+2],De.x,De.y,De.radius)&&(!ge||ge(this.circleKeys[lt])))return ae.push(!0),!0}}}_forEachCell(c,p,T,B,W,ae,he,ge){const De=this._convertToXCellCoord(c),Ae=this._convertToYCellCoord(p),je=this._convertToXCellCoord(T),Ze=this._convertToYCellCoord(B);for(let at=De;at<=je;at++)for(let lt=Ae;lt<=Ze;lt++)if(W.call(this,c,p,T,B,this.xCellCount*lt+at,ae,he,ge))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,T,B,W,ae){const he=B-c,ge=W-p,De=T+ae;return De*De>he*he+ge*ge}_circleAndRectCollide(c,p,T,B,W,ae,he){const ge=(ae-B)/2,De=Math.abs(c-(B+ge));if(De>ge+T)return!1;const Ae=(he-W)/2,je=Math.abs(p-(W+Ae));if(je>Ae+T)return!1;if(De<=ge||je<=Ae)return!0;const Ze=De-ge,at=je-Ae;return Ze*Ze+at*at<=T*T}}const bc=Math.tan(85*Math.PI/180);function Po(_,c,p,T,B,W,ae){const he=s.create();if(p)if(W.name==="globe"){const ge=s.calculateGlobeLabelMatrix(B,c);s.multiply(he,he,ge)}else{const ge=$([],ae);he[0]=ge[0],he[1]=ge[1],he[4]=ge[2],he[5]=ge[3],T||s.rotateZ(he,he,B.angle)}else s.multiply(he,B.labelPlaneMatrix,_);return he}function qc(_,c,p,T,B,W,ae){const he=Po(_,c,p,T,B,W,ae);return W.name==="globe"&&p||(he[2]=he[6]=he[10]=he[14]=0),he}function ou(_,c,p,T,B,W,ae){if(p){if(W.name==="globe"){const he=Po(_,c,p,T,B,W,ae);return s.invert(he,he),s.multiply(he,_,he),he}{const he=s.clone(_),ge=s.identity([]);return ge[0]=ae[0],ge[1]=ae[1],ge[4]=ae[2],ge[5]=ae[3],s.multiply(he,he,ge),T||s.rotateZ(he,he,-B.angle),he}}return B.glCoordMatrix}function uo(_,c,p,T){const B=[_,c,p,1];p?s.transformMat4$1(B,B,T):Gr(B,B,T);const W=B[3];return B[0]/=W,B[1]/=W,B[2]/=W,B}function Qi(_,c){return Math.min(.5+_/c*.5,1.5)}function nr(_,c){const p=_[0]/_[3],T=_[1]/_[3];return p>=-c[0]&&p<=c[0]&&T>=-c[1]&&T<=c[1]}function dr(_,c,p,T,B,W,ae,he,ge,De){const Ae=p.transform,je=T?_.textSizeData:_.iconSizeData,Ze=s.evaluateSizeForZoom(je,p.transform.zoom),at=Ae.projection.name==="globe",lt=[256/p.width*2+1,256/p.height*2+1],ht=T?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;ht.clear();let et=null;at&&(et=T?_.text.globeExtVertexArray:_.icon.globeExtVertexArray);const nt=_.lineVertexArray,gt=T?_.text.placedSymbolArray:_.icon.placedSymbolArray,ct=p.transform.width/p.transform.height;let wt,Dt=!1;for(let Ct=0;Ct<gt.length;Ct++){const jt=gt.get(Ct),{numGlyphs:ii,writingMode:Jt}=jt;if(Jt!==s.WritingMode.vertical||Dt||wt===s.WritingMode.horizontal||(Dt=!0),wt=Jt,(jt.hidden||Jt===s.WritingMode.vertical)&&!Dt){Qs(ii,ht);continue}Dt=!1;const Gt=new s.pointGeometry(jt.tileAnchorX,jt.tileAnchorY);let{x:Mi,y:Xt,z:_i}=Ae.projection.projectTilePoint(Gt.x,Gt.y,De.canonical);if(ge){const[Sn,gn,Un]=ge(Gt);Mi+=Sn,Xt+=gn,_i+=Un}const ri=[Mi,Xt,_i,1];if(s.transformMat4$1(ri,ri,c),!nr(ri,lt)){Qs(ii,ht);continue}const Ri=Qi(p.transform.cameraToCenterDistance,ri[3]),si=s.evaluateSizeForFeature(je,Ze,jt),Si=ae?si/Ri:si*Ri,Ni=uo(Mi,Xt,_i,B);if(Ni[3]<=0){Qs(ii,ht);continue}let Yt={};const ni=ae?null:ge,mn=Fn(jt,Si,!1,he,c,B,W,_.glyphOffsetArray,nt,ht,et,Ni,Gt,Yt,ct,ni,Ae.projection,De,ae);Dt=mn.useVertical,ni&&mn.needsFlipping&&(Yt={}),(mn.notEnoughRoom||Dt||mn.needsFlipping&&Fn(jt,Si,!0,he,c,B,W,_.glyphOffsetArray,nt,ht,et,Ni,Gt,Yt,ct,ni,Ae.projection,De,ae).notEnoughRoom)&&Qs(ii,ht)}T?(_.text.dynamicLayoutVertexBuffer.updateData(ht),et&&_.text.globeExtVertexBuffer.updateData(et)):(_.icon.dynamicLayoutVertexBuffer.updateData(ht),et&&_.icon.globeExtVertexBuffer.updateData(et))}function ta(_,c,p,T,B,W,ae,he,ge,De,Ae,je,Ze,at,lt,ht){const{lineStartIndex:et,glyphStartIndex:nt,segment:gt}=he,ct=nt+he.numGlyphs,wt=et+he.lineLength,Dt=c.getoffsetX(nt),Ct=c.getoffsetX(ct-1),jt=sl(_*Dt,p,T,B,W,ae,gt,et,wt,ge,De,Ae,je,Ze,!0,at,lt,ht);if(!jt)return null;const ii=sl(_*Ct,p,T,B,W,ae,gt,et,wt,ge,De,Ae,je,Ze,!0,at,lt,ht);return ii?{first:jt,last:ii}:null}function Wa(_,c,p,T){return _===s.WritingMode.horizontal&&Math.abs(T)>Math.abs(p)?{useVertical:!0}:_===s.WritingMode.vertical?T>0?{needsFlipping:!0}:null:c!==0&&function(B,W){return B===0||Math.abs(W/B)>bc}(p,T)?c===1?{needsFlipping:!0}:null:p<0?{needsFlipping:!0}:null}function Fn(_,c,p,T,B,W,ae,he,ge,De,Ae,je,Ze,at,lt,ht,et,nt,gt){const ct=c/24,wt=_.lineOffsetX*ct,Dt=_.lineOffsetY*ct,{lineStartIndex:Ct,glyphStartIndex:jt,numGlyphs:ii,segment:Jt,writingMode:Gt,flipState:Mi}=_,Xt=Ct+_.lineLength,_i=ri=>{if(Ae){const[Ni,Yt,ni]=ri.up,mn=De.length;s.updateGlobeVertexNormal(Ae,mn+0,Ni,Yt,ni),s.updateGlobeVertexNormal(Ae,mn+1,Ni,Yt,ni),s.updateGlobeVertexNormal(Ae,mn+2,Ni,Yt,ni),s.updateGlobeVertexNormal(Ae,mn+3,Ni,Yt,ni)}const[Ri,si,Si]=ri.point;s.addDynamicAttributes(De,Ri,si,Si,ri.angle)};if(ii>1){const ri=ta(ct,he,wt,Dt,p,je,Ze,_,ge,W,at,ht,!1,et,nt,gt);if(!ri)return{notEnoughRoom:!0};if(T&&!p){let[Ri,si,Si]=ri.first.point,[Ni,Yt,ni]=ri.last.point;[Ri,si]=uo(Ri,si,Si,ae),[Ni,Yt]=uo(Ni,Yt,ni,ae);const mn=Wa(Gt,Mi,(Ni-Ri)*lt,Yt-si);if(_.flipState=mn&&mn.needsFlipping?1:2,mn)return mn}_i(ri.first);for(let Ri=jt+1;Ri<jt+ii-1;Ri++){const si=sl(ct*he.getoffsetX(Ri),wt,Dt,p,je,Ze,Jt,Ct,Xt,ge,W,at,ht,!1,!1,et,nt,gt);if(!si)return De.length-=4*(Ri-jt),{notEnoughRoom:!0};_i(si)}_i(ri.last)}else{if(T&&!p){const Ri=uo(Ze.x,Ze.y,0,B),si=Ct+Jt+1,Si=new s.pointGeometry(ge.getx(si),ge.gety(si)),Ni=uo(Si.x,Si.y,0,B),Yt=Ni[3]>0?Ni:Ma(Ze,Si,Ri,1,B,void 0,et,nt.canonical),ni=Wa(Gt,Mi,(Yt[0]-Ri[0])*lt,Yt[1]-Ri[1]);if(_.flipState=ni&&ni.needsFlipping?1:2,ni)return ni}const ri=sl(ct*he.getoffsetX(jt),wt,Dt,p,je,Ze,Jt,Ct,Xt,ge,W,at,ht,!1,!1,et,nt,gt);if(!ri)return{notEnoughRoom:!0};_i(ri)}return{}}function wc(_,c,p,T,B){const{x:W,y:ae,z:he}=T.projectTilePoint(_.x,_.y,c);if(!B)return uo(W,ae,he,p);const[ge,De,Ae]=B(_);return uo(W+ge,ae+De,he+Ae,p)}function Ma(_,c,p,T,B,W,ae,he){const ge=wc(_.sub(c)._unit()._add(_),he,B,ae,W);return s.sub(ge,p,ge),s.normalize(ge,ge),s.scaleAndAdd(ge,p,ge,T)}function sl(_,c,p,T,B,W,ae,he,ge,De,Ae,je,Ze,at,lt,ht,et,nt){const gt=T?_-c:_+c;let ct=gt>0?1:-1,wt=0;T&&(ct*=-1,wt=Math.PI),ct<0&&(wt+=Math.PI);let Dt=he+ae+(ct>0?0:1)|0,Ct=B,jt=B,ii=0,Jt=0;const Gt=Math.abs(gt),Mi=[],Xt=[];let _i=W,ri=_i;const Ri=()=>Ma(ri,_i,jt,Gt-ii+1,Ae,Ze,ht,et.canonical);for(;ii+Jt<=Gt;){if(Dt+=ct,Dt<he||Dt>=ge)return null;if(jt=Ct,ri=_i,Mi.push(jt),at&&Xt.push(ri),_i=new s.pointGeometry(De.getx(Dt),De.gety(Dt)),Ct=je[Dt],!Ct){const Un=wc(_i,et.canonical,Ae,ht,Ze);Ct=Un[3]>0?je[Dt]=Un:Ri()}ii+=Jt,Jt=s.distance(jt,Ct)}lt&&Ze&&(je[Dt]&&(Ct=Ri(),Jt=s.distance(jt,Ct)),je[Dt]=Ct);const si=(Gt-ii)/Jt,Si=_i.sub(ri)._mult(si)._add(ri),Ni=s.sub([],Ct,jt),Yt=s.scaleAndAdd([],jt,Ni,si);let ni=[0,0,1],mn=Ni[0],Sn=Ni[1];if(nt&&(ni=ht.upVector(et.canonical,Si.x,Si.y),ni[0]!==0||ni[1]!==0||ni[2]!==1)){const Un=[ni[2],0,-ni[0]],lr=s.cross([],ni,Un);s.normalize(Un,Un),s.normalize(lr,lr),mn=s.dot(Ni,Un),Sn=s.dot(Ni,lr)}if(p){const Un=s.cross([],ni,Ni);s.normalize(Un,Un),s.scaleAndAdd(Yt,Yt,Un,p*ct)}const gn=wt+Math.atan2(Sn,mn);return Mi.push(Yt),at&&Xt.push(Si),{point:Yt,angle:gn,path:Mi,tilePath:Xt,up:ni}}function Qs(_,c){const p=c.length,T=p+4*_;c.resize(T),c.float32.fill(-1/0,4*p,4*T)}function Gr(_,c,p){const T=c[0],B=c[1];return _[0]=p[0]*T+p[4]*B+p[12],_[1]=p[1]*T+p[5]*B+p[13],_[3]=p[3]*T+p[7]*B+p[15],_}const ho=100;class Ho{constructor(c,p,T=new Rs(c.width+200,c.height+200,25),B=new Rs(c.width+200,c.height+200,25)){this.transform=c,this.grid=T,this.ignoredGrid=B,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+ho,this.screenBottomBoundary=c.height+ho,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.fogState=p}placeCollisionBox(c,p,T,B,W,ae,he,ge){let De=T.projectedAnchorX,Ae=T.projectedAnchorY,je=T.projectedAnchorZ;const Ze=T.elevation,at=T.tileID,lt=c.getProjection();if(Ze&&at){const[Ct,jt,ii]=lt.upVector(at.canonical,T.tileAnchorX,T.tileAnchorY),Jt=lt.upVectorScale(at.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;De+=Ct*Ze*Jt,Ae+=jt*Ze*Jt,je+=ii*Ze*Jt}const ht=this.projectAndGetPerspectiveRatio(he,De,Ae,je,T.tileID,lt.name==="globe"||!!Ze||this.transform.pitch>0,lt),et=ae*ht.perspectiveRatio,nt=(T.x1*p+B.x-T.padding)*et+ht.point.x,gt=(T.y1*p+B.y-T.padding)*et+ht.point.y,ct=(T.x2*p+B.x+T.padding)*et+ht.point.x,wt=(T.y2*p+B.y+T.padding)*et+ht.point.y,Dt=ht.perspectiveRatio<=.55||ht.occluded;return!this.isInsideGrid(nt,gt,ct,wt)||!W&&this.grid.hitTest(nt,gt,ct,wt,ge)||Dt?{box:[],offscreen:!1,occluded:ht.occluded}:{box:[nt,gt,ct,wt],offscreen:this.isOffscreen(nt,gt,ct,wt),occluded:!1}}placeCollisionCircles(c,p,T,B,W,ae,he,ge,De,Ae,je,Ze,at,lt,ht){const et=[],nt=this.transform.elevation,gt=c.getProjection(),ct=nt?nt.getAtTileOffsetFunc(ht,this.transform.center.lat,this.transform.worldSize,gt):null,wt=new s.pointGeometry(T.tileAnchorX,T.tileAnchorY);let{x:Dt,y:Ct,z:jt}=gt.projectTilePoint(wt.x,wt.y,ht.canonical);if(ct){const[Si,Ni,Yt]=ct(wt);Dt+=Si,Ct+=Ni,jt+=Yt}const ii=gt.name==="globe",Jt=this.projectAndGetPerspectiveRatio(he,Dt,Ct,jt,ht,ii||!!nt||this.transform.pitch>0,gt),{perspectiveRatio:Gt}=Jt,Mi=(je?ae/Gt:ae*Gt)/s.ONE_EM,Xt=uo(Dt,Ct,jt,ge),_i=Jt.signedDistanceFromCamera>0?ta(Mi,W,T.lineOffsetX*Mi,T.lineOffsetY*Mi,!1,Xt,wt,T,B,ge,{},nt&&!je?ct:null,je&&!!nt,gt,ht,je):null;let ri=!1,Ri=!1,si=!0;if(_i&&!Jt.occluded){const Si=.5*at*Gt+lt,Ni=new s.pointGeometry(-100,-100),Yt=new s.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),ni=new Os,{first:mn,last:Sn}=_i,gn=mn.path.length;let Un=[];for(let dn=gn-1;dn>=1;dn--)Un.push(mn.path[dn]);for(let dn=1;dn<Sn.path.length;dn++)Un.push(Sn.path[dn]);const lr=2.5*Si;De&&(Un=Un.map(([dn,is,Hr],ss)=>(ct&&!ii&&(Hr=ct(ss<gn-1?mn.tilePath[gn-1-ss]:Sn.tilePath[ss-gn+2])[2]),uo(dn,is,Hr,De))),Un.some(dn=>dn[3]<=0)&&(Un=[]));let kn=[];if(Un.length>0){let dn=1/0,is=-1/0,Hr=1/0,ss=-1/0;for(const es of Un)dn=Math.min(dn,es[0]),Hr=Math.min(Hr,es[1]),is=Math.max(is,es[0]),ss=Math.max(ss,es[1]);is>=Ni.x&&dn<=Yt.x&&ss>=Ni.y&&Hr<=Yt.y&&(kn=[Un.map(es=>new s.pointGeometry(es[0],es[1]))],(dn<Ni.x||is>Yt.x||Hr<Ni.y||ss>Yt.y)&&(kn=s.clipLine(kn,Ni.x,Ni.y,Yt.x,Yt.y)))}for(const dn of kn){ni.reset(dn,.25*Si);let is=0;is=ni.length<=.5*Si?1:Math.ceil(ni.paddedLength/lr)+1;for(let Hr=0;Hr<is;Hr++){const ss=Hr/Math.max(is-1,1),es=ni.lerp(ss),qa=es.x+ho,Pa=es.y+ho;et.push(qa,Pa,Si,0);const xa=qa-Si,cc=Pa-Si,gs=qa+Si,ts=Pa+Si;if(si=si&&this.isOffscreen(xa,cc,gs,ts),Ri=Ri||this.isInsideGrid(xa,cc,gs,ts),!p&&this.grid.hitTestCircle(qa,Pa,Si,Ze)&&(ri=!0,!Ae))return{circles:[],offscreen:!1,collisionDetected:ri,occluded:!1}}}}return{circles:!Ae&&ri||!Ri?[]:et,offscreen:si,collisionDetected:ri,occluded:Jt.occluded}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let T=1/0,B=1/0,W=-1/0,ae=-1/0;for(const Ae of c){const je=new s.pointGeometry(Ae.x+ho,Ae.y+ho);T=Math.min(T,je.x),B=Math.min(B,je.y),W=Math.max(W,je.x),ae=Math.max(ae,je.y),p.push(je)}const he=this.grid.query(T,B,W,ae).concat(this.ignoredGrid.query(T,B,W,ae)),ge={},De={};for(const Ae of he){const je=Ae.key;if(ge[je.bucketInstanceId]===void 0&&(ge[je.bucketInstanceId]={}),ge[je.bucketInstanceId][je.featureIndex])continue;const Ze=[new s.pointGeometry(Ae.x1,Ae.y1),new s.pointGeometry(Ae.x2,Ae.y1),new s.pointGeometry(Ae.x2,Ae.y2),new s.pointGeometry(Ae.x1,Ae.y2)];s.polygonIntersectsPolygon(p,Ze)&&(ge[je.bucketInstanceId][je.featureIndex]=!0,De[je.bucketInstanceId]===void 0&&(De[je.bucketInstanceId]=[]),De[je.bucketInstanceId].push(je.featureIndex))}return De}insertCollisionBox(c,p,T,B,W){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:T,featureIndex:B,collisionGroupID:W},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,T,B,W){const ae=p?this.ignoredGrid:this.grid,he={bucketInstanceId:T,featureIndex:B,collisionGroupID:W};for(let ge=0;ge<c.length;ge+=4)ae.insertCircle(he,c[ge],c[ge+1],c[ge+2])}projectAndGetPerspectiveRatio(c,p,T,B,W,ae,he){const ge=[p,T,B,1];let De=!1;if(B||this.transform.pitch>0){s.transformMat4$1(ge,ge,c);const je=he.name==="globe";this.fogState&&W&&!je&&(De=function(at,lt,ht,et,nt,gt){const ct=gt.calculateFogTileMatrix(nt),wt=[lt,ht,et];return s.transformMat4(wt,wt,ct),X(at,wt,gt.pitch,gt._fov)}(this.fogState,p,T,B,W.toUnwrapped(),this.transform)>.9)}else Gr(ge,ge,c);const Ae=ge[3];return{point:new s.pointGeometry((ge[0]/Ae+1)/2*this.transform.width+ho,(-ge[1]/Ae+1)/2*this.transform.height+ho),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(he)/Ae*.5,1.5),signedDistanceFromCamera:Ae,occluded:ae&&ge[2]>Ae||De}}isOffscreen(c,p,T,B){return T<ho||c>=this.screenRightBoundary||B<ho||p>this.screenBottomBoundary}isInsideGrid(c,p,T,B){return T>=0&&c<this.gridRightBoundary&&B>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=s.identity([]);return s.translate(c,c,[-100,-100,0]),c}}function ql(_,c,p){const T=c.createTileMatrix(_,_.worldSize,p.toUnwrapped());return s.multiply(new Float32Array(16),_.projMatrix,T)}function ma(_,c,p){if(c.projection.name===p.projection.name)return _.projMatrix;const T=p.clone();return T.setProjection(c.projection),ql(T,c.getProjection(),_)}function vl(_,c,p){return c.name===p.projection.name?_.projMatrix:ql(p,c,_)}class xl{constructor(c,p,T,B){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):B&&T?1:0,this.placed=T}isHidden(){return this.opacity===0&&!this.placed}}class ol{constructor(c,p,T,B,W,ae=!1){this.text=new xl(c?c.text:null,p,T,W),this.icon=new xl(c?c.icon:null,p,B,W),this.clipped=ae}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class bl{constructor(c,p,T,B=!1){this.text=c,this.icon=p,this.skipFade=T,this.clipped=B}}class Xc{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class Zc{constructor(c,p,T,B,W){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=T,this.bucketIndex=B,this.tileID=W}}class Bo{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:T=>T.collisionGroupID===p}}return this.collisionGroups[c]}}function Ps(_,c,p,T,B){const{horizontalAlign:W,verticalAlign:ae}=s.getAnchorAlignment(_),he=-(W-.5)*c,ge=-(ae-.5)*p,De=s.evaluateVariableOffset(_,T);return new s.pointGeometry(he+De[0]*B,ge+De[1]*B)}function Xl(_,c,p,T,B){const W=new s.pointGeometry(_,c);return p&&W._rotate(T?B:-B),W}class al{constructor(c,p,T,B,W){this.transform=c.clone(),this.projection=c.projection.name,this.collisionIndex=new Ho(this.transform,W),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new Bo(T),this.collisionCircleArrays={},this.prevPlacement=B,B&&(B.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,T,B){const W=T.getBucket(p),ae=T.latestFeatureIndex;if(!W||!ae||p.id!==W.layerIds[0])return;const he=W.layers[0].layout,ge=T.collisionBoxArray,De=Math.pow(2,this.transform.zoom-T.tileID.overscaledZ),Ae=T.tileSize/s.EXTENT,je=T.tileID.toUnwrapped();this.transform.setProjection(W.projection);const Ze=(at=T.tileID,lt=W.getProjection(),ht=this.transform,lt.name===this.projection?ht.calculateProjMatrix(at.toUnwrapped()):ql(ht,lt,at));var at,lt,ht;const et=he.get("text-pitch-alignment")==="map",nt=he.get("text-rotation-alignment")==="map";p.compileFilter();const gt=p.dynamicFilter(),ct=p.dynamicFilterNeedsFeature(),wt=this.transform.calculatePixelsToTileUnitsMatrix(T),Dt=qc(Ze,T.tileID.canonical,et,nt,this.transform,W.getProjection(),wt);let Ct=null;if(et){const Jt=ou(Ze,T.tileID.canonical,et,nt,this.transform,W.getProjection(),wt);Ct=s.multiply([],this.transform.labelPlaneMatrix,Jt)}let jt=null;gt&&T.latestFeatureIndex&&(jt={unwrappedTileID:je,dynamicFilter:gt,dynamicFilterNeedsFeature:ct,featureIndex:T.latestFeatureIndex}),this.retainedQueryData[W.bucketInstanceId]=new Zc(W.bucketInstanceId,ae,W.sourceLayerIndex,W.index,T.tileID);const ii={bucket:W,layout:he,posMatrix:Ze,textLabelPlaneMatrix:Dt,labelToScreenMatrix:Ct,clippingData:jt,scale:De,textPixelRatio:Ae,holdingForFade:T.holdingForFade(),collisionBoxArray:ge,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(W.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:s.evaluateSizeForZoom(W.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(W.sourceID)};if(B)for(const Jt of W.sortKeyRanges){const{sortKey:Gt,symbolInstanceStart:Mi,symbolInstanceEnd:Xt}=Jt;c.push({sortKey:Gt,symbolInstanceStart:Mi,symbolInstanceEnd:Xt,parameters:ii})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:W.symbolInstances.length,parameters:ii})}attemptAnchorPlacement(c,p,T,B,W,ae,he,ge,De,Ae,je,Ze,at,lt,ht,et,nt,gt){const{textOffset0:ct,textOffset1:wt,crossTileID:Dt}=Ze,Ct=[ct,wt],jt=Ps(c,T,B,Ct,W),ii=this.collisionIndex.placeCollisionBox(lt,W,p,Xl(jt.x,jt.y,ae,he,this.transform.angle),je,ge,De,Ae.predicate);if(et){const Jt=lt.getSymbolInstanceIconSize(gt,this.transform.zoom,Ze.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(lt,Jt,et,Xl(jt.x,jt.y,ae,he,this.transform.angle),je,ge,De,Ae.predicate).box.length===0)return}if(ii.box.length>0){let Jt;return this.prevPlacement&&this.prevPlacement.variableOffsets[Dt]&&this.prevPlacement.placements[Dt]&&this.prevPlacement.placements[Dt].text&&(Jt=this.prevPlacement.variableOffsets[Dt].anchor),this.variableOffsets[Dt]={textOffset:Ct,width:T,height:B,anchor:c,textScale:W,prevAnchor:Jt},this.markUsedJustification(lt,c,Ze,ht),lt.allowVerticalPlacement&&(this.markUsedOrientation(lt,ht,Ze),this.placedOrientations[Dt]=ht),{shift:jt,placedGlyphBoxes:ii}}}placeLayerBucketPart(c,p,T,B){const{bucket:W,layout:ae,posMatrix:he,textLabelPlaneMatrix:ge,labelToScreenMatrix:De,clippingData:Ae,textPixelRatio:je,holdingForFade:Ze,collisionBoxArray:at,partiallyEvaluatedTextSize:lt,partiallyEvaluatedIconSize:ht,collisionGroup:et}=c.parameters,nt=ae.get("text-optional"),gt=ae.get("icon-optional"),ct=ae.get("text-allow-overlap"),wt=ae.get("icon-allow-overlap"),Dt=ae.get("text-rotation-alignment")==="map",Ct=ae.get("text-pitch-alignment")==="map",jt=ae.get("icon-text-fit")!=="none",ii=ae.get("symbol-z-order")==="viewport-y";this.transform.setProjection(W.projection);let Jt=ct&&(wt||!W.hasIconData()||gt),Gt=wt&&(ct||!W.hasTextData()||nt);!W.collisionArrays&&at&&W.deserializeCollisionBoxes(at),T&&B&&W.updateCollisionDebugBuffers(this.transform.zoom,at);const Mi=(Xt,_i,ri)=>{const{crossTileID:Ri,numVerticalGlyphVertices:si}=Xt;if(Ae){const gs={zoom:this.transform.zoom,pitch:this.transform.pitch};let ts=null;if(Ae.dynamicFilterNeedsFeature){const $r=this.retainedQueryData[W.bucketInstanceId];ts=Ae.featureIndex.loadFeature({featureIndex:Xt.featureIndex,bucketIndex:$r.bucketIndex,sourceLayerIndex:$r.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Ae.dynamicFilter)(gs,ts,this.retainedQueryData[W.bucketInstanceId].tileID.canonical,new s.pointGeometry(Xt.tileAnchorX,Xt.tileAnchorY),this.transform.calculateDistanceTileData(Ae.unwrappedTileID)))return this.placements[Ri]=new bl(!1,!1,!1,!0),void(p[Ri]=!0)}if(p[Ri])return;if(Ze)return void(this.placements[Ri]=new bl(!1,!1,!1));let Si=!1,Ni=!1,Yt=!0,ni=!1,mn=!1,Sn=null,gn={box:null,offscreen:null,occluded:null},Un={box:null,offscreen:null,occluded:null},lr=null,kn=null,dn=null,is=0,Hr=0,ss=0;ri.textFeatureIndex?is=ri.textFeatureIndex:Xt.useRuntimeCollisionCircles&&(is=Xt.featureIndex),ri.verticalTextFeatureIndex&&(Hr=ri.verticalTextFeatureIndex);const es=gs=>{gs.tileID=this.retainedQueryData[W.bucketInstanceId].tileID;const ts=this.transform.elevation;(ts||gs.elevation)&&(gs.elevation=ts?ts.getAtTileOffset(gs.tileID,gs.tileAnchorX,gs.tileAnchorY):0)},qa=ri.textBox;if(qa){es(qa);const gs=$r=>{let oo=s.WritingMode.horizontal;if(W.allowVerticalPlacement&&!$r&&this.prevPlacement){const aa=this.prevPlacement.placedOrientations[Ri];aa&&(this.placedOrientations[Ri]=aa,oo=aa,this.markUsedOrientation(W,oo,Xt))}return oo},ts=($r,oo)=>{if(W.allowVerticalPlacement&&si>0&&ri.verticalTextBox){for(const aa of W.writingModes)if(aa===s.WritingMode.vertical?(gn=oo(),Un=gn):gn=$r(),gn&&gn.box&&gn.box.length)break}else gn=$r()};if(ae.get("text-variable-anchor")){let $r=ae.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ri]){const ys=this.prevPlacement.variableOffsets[Ri];$r.indexOf(ys.anchor)>0&&($r=$r.filter(ba=>ba!==ys.anchor),$r.unshift(ys.anchor))}const oo=(ys,ba,Th)=>{const dc=W.getSymbolInstanceTextSize(lt,Xt,this.transform.zoom,_i),la=(ys.x2-ys.x1)*dc+2*ys.padding,Xa=(ys.y2-ys.y1)*dc+2*ys.padding,Pc=jt&&!wt?ba:null;Pc&&es(Pc);let Ml={box:[],offscreen:!1,occluded:!1};const gr=ct?2*$r.length:$r.length;for(let Hu=0;Hu<gr;++Hu){const Dc=this.attemptAnchorPlacement($r[Hu%$r.length],ys,la,Xa,dc,Dt,Ct,je,he,et,Hu>=$r.length,Xt,_i,W,Th,Pc,lt,ht);if(Dc&&(Ml=Dc.placedGlyphBoxes,Ml&&Ml.box&&Ml.box.length)){Si=!0,Sn=Dc.shift;break}}return Ml};ts(()=>oo(qa,ri.iconBox,s.WritingMode.horizontal),()=>{const ys=ri.verticalTextBox;return ys&&es(ys),W.allowVerticalPlacement&&!(gn&&gn.box&&gn.box.length)&&si>0&&ys?oo(ys,ri.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),gn&&(Si=gn.box,Yt=gn.offscreen,ni=gn.occluded);const aa=gs(gn&&gn.box);if(!Si&&this.prevPlacement){const ys=this.prevPlacement.variableOffsets[Ri];ys&&(this.variableOffsets[Ri]=ys,this.markUsedJustification(W,ys.anchor,Xt,aa))}}else{const $r=(oo,aa)=>{const ys=W.getSymbolInstanceTextSize(lt,Xt,this.transform.zoom,_i),ba=this.collisionIndex.placeCollisionBox(W,ys,oo,new s.pointGeometry(0,0),ct,je,he,et.predicate);return ba&&ba.box&&ba.box.length&&(this.markUsedOrientation(W,aa,Xt),this.placedOrientations[Ri]=aa),ba};ts(()=>$r(qa,s.WritingMode.horizontal),()=>{const oo=ri.verticalTextBox;return W.allowVerticalPlacement&&si>0&&oo?(es(oo),$r(oo,s.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),gs(gn&&gn.box&&gn.box.length)}}if(lr=gn,Si=lr&&lr.box&&lr.box.length>0,Yt=lr&&lr.offscreen,ni=lr&&lr.occluded,Xt.useRuntimeCollisionCircles){const gs=W.text.placedSymbolArray.get(Xt.centerJustifiedTextSymbolIndex>=0?Xt.centerJustifiedTextSymbolIndex:Xt.verticalPlacedTextSymbolIndex),ts=s.evaluateSizeForFeature(W.textSizeData,lt,gs),$r=ae.get("text-padding");kn=this.collisionIndex.placeCollisionCircles(W,ct,gs,W.lineVertexArray,W.glyphOffsetArray,ts,he,ge,De,T,Ct,et.predicate,Xt.collisionCircleDiameter*ts/s.ONE_EM,$r,this.retainedQueryData[W.bucketInstanceId].tileID),Si=ct||kn.circles.length>0&&!kn.collisionDetected,Yt=Yt&&kn.offscreen,ni=kn.occluded}if(ri.iconFeatureIndex&&(ss=ri.iconFeatureIndex),ri.iconBox){const gs=ts=>{es(ts);const $r=jt&&Sn?Xl(Sn.x,Sn.y,Dt,Ct,this.transform.angle):new s.pointGeometry(0,0),oo=W.getSymbolInstanceIconSize(ht,this.transform.zoom,Xt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(W,oo,ts,$r,wt,je,he,et.predicate)};Un&&Un.box&&Un.box.length&&ri.verticalIconBox?(dn=gs(ri.verticalIconBox),Ni=dn.box.length>0):(dn=gs(ri.iconBox),Ni=dn.box.length>0),Yt=Yt&&dn.offscreen,mn=dn.occluded}const Pa=nt||Xt.numHorizontalGlyphVertices===0&&si===0,xa=gt||Xt.numIconVertices===0;if(Pa||xa?xa?Pa||(Ni=Ni&&Si):Si=Ni&&Si:Ni=Si=Ni&&Si,Si&&lr&&lr.box&&this.collisionIndex.insertCollisionBox(lr.box,ae.get("text-ignore-placement"),W.bucketInstanceId,Un&&Un.box&&Hr?Hr:is,et.ID),Ni&&dn&&this.collisionIndex.insertCollisionBox(dn.box,ae.get("icon-ignore-placement"),W.bucketInstanceId,ss,et.ID),kn&&(Si&&this.collisionIndex.insertCollisionCircles(kn.circles,ae.get("text-ignore-placement"),W.bucketInstanceId,is,et.ID),T)){const gs=W.bucketInstanceId;let ts=this.collisionCircleArrays[gs];ts===void 0&&(ts=this.collisionCircleArrays[gs]=new Xc);for(let $r=0;$r<kn.circles.length;$r+=4)ts.circles.push(kn.circles[$r+0]),ts.circles.push(kn.circles[$r+1]),ts.circles.push(kn.circles[$r+2]),ts.circles.push(kn.collisionDetected?1:0)}const cc=W.projection.name!=="globe";Jt=Jt&&(cc||!ni),Gt=Gt&&(cc||!mn),this.placements[Ri]=new bl(Si||Jt,Ni||Gt,Yt||W.justReloaded),p[Ri]=!0};if(ii){const Xt=W.getSortedSymbolIndexes(this.transform.angle);for(let _i=Xt.length-1;_i>=0;--_i){const ri=Xt[_i];Mi(W.symbolInstances.get(ri),ri,W.collisionArrays[ri])}}else for(let Xt=c.symbolInstanceStart;Xt<c.symbolInstanceEnd;Xt++)Mi(W.symbolInstances.get(Xt),Xt,W.collisionArrays[Xt]);if(T&&W.bucketInstanceId in this.collisionCircleArrays){const Xt=this.collisionCircleArrays[W.bucketInstanceId];s.invert(Xt.invProjMatrix,he),Xt.viewportMatrix=this.collisionIndex.getViewportMatrix()}W.justReloaded=!1}markUsedJustification(c,p,T,B){const{leftJustifiedTextSymbolIndex:W,centerJustifiedTextSymbolIndex:ae,rightJustifiedTextSymbolIndex:he,verticalPlacedTextSymbolIndex:ge,crossTileID:De}=T,Ae=s.getAnchorJustification(p),je=B===s.WritingMode.vertical?ge:Ae==="left"?W:Ae==="center"?ae:Ae==="right"?he:-1;W>=0&&(c.text.placedSymbolArray.get(W).crossTileID=je>=0&&W!==je?0:De),ae>=0&&(c.text.placedSymbolArray.get(ae).crossTileID=je>=0&&ae!==je?0:De),he>=0&&(c.text.placedSymbolArray.get(he).crossTileID=je>=0&&he!==je?0:De),ge>=0&&(c.text.placedSymbolArray.get(ge).crossTileID=je>=0&&ge!==je?0:De)}markUsedOrientation(c,p,T){const B=p===s.WritingMode.horizontal||p===s.WritingMode.horizontalOnly?p:0,W=p===s.WritingMode.vertical?p:0,{leftJustifiedTextSymbolIndex:ae,centerJustifiedTextSymbolIndex:he,rightJustifiedTextSymbolIndex:ge,verticalPlacedTextSymbolIndex:De}=T,Ae=c.text.placedSymbolArray;ae>=0&&(Ae.get(ae).placedOrientation=B),he>=0&&(Ae.get(he).placedOrientation=B),ge>=0&&(Ae.get(ge).placedOrientation=B),De>=0&&(Ae.get(De).placedOrientation=W)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let T=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const B=p?p.symbolFadeChange(c):1,W=p?p.opacities:{},ae=p?p.variableOffsets:{},he=p?p.placedOrientations:{};for(const ge in this.placements){const De=this.placements[ge],Ae=W[ge];Ae?(this.opacities[ge]=new ol(Ae,B,De.text,De.icon,null,De.clipped),T=T||De.text!==Ae.text.placed||De.icon!==Ae.icon.placed):(this.opacities[ge]=new ol(null,B,De.text,De.icon,De.skipFade,De.clipped),T=T||De.text||De.icon)}for(const ge in W){const De=W[ge];if(!this.opacities[ge]){const Ae=new ol(De,B,!1,!1);Ae.isHidden()||(this.opacities[ge]=Ae,T=T||De.text.placed||De.icon.placed)}}for(const ge in ae)this.variableOffsets[ge]||!this.opacities[ge]||this.opacities[ge].isHidden()||(this.variableOffsets[ge]=ae[ge]);for(const ge in he)this.placedOrientations[ge]||!this.opacities[ge]||this.opacities[ge].isHidden()||(this.placedOrientations[ge]=he[ge]);T?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const T={};for(const B of p){const W=B.getBucket(c);W&&B.latestFeatureIndex&&c.id===W.layerIds[0]&&this.updateBucketOpacities(W,T,B.collisionBoxArray)}}updateBucketOpacities(c,p,T){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const B=c.layers[0].layout,W=!!c.layers[0].dynamicFilter(),ae=new ol(null,0,!1,!1,!0),he=B.get("text-allow-overlap"),ge=B.get("icon-allow-overlap"),De=B.get("text-variable-anchor"),Ae=B.get("text-rotation-alignment")==="map",je=B.get("text-pitch-alignment")==="map",Ze=B.get("icon-text-fit")!=="none",at=new ol(null,0,he&&(ge||!c.hasIconData()||B.get("icon-optional")),ge&&(he||!c.hasTextData()||B.get("text-optional")),!0);!c.collisionArrays&&T&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(T);const lt=(et,nt,gt)=>{for(let ct=0;ct<nt/4;ct++)et.opacityVertexArray.emplaceBack(gt)};let ht=0;for(let et=0;et<c.symbolInstances.length;et++){const nt=c.symbolInstances.get(et),{numHorizontalGlyphVertices:gt,numVerticalGlyphVertices:ct,crossTileID:wt,numIconVertices:Dt}=nt;let Ct=this.opacities[wt];p[wt]?Ct=ae:Ct||(Ct=at,this.opacities[wt]=Ct),p[wt]=!0;const jt=gt>0||ct>0,ii=Dt>0,Jt=this.placedOrientations[wt],Gt=Jt===s.WritingMode.vertical,Mi=Jt===s.WritingMode.horizontal||Jt===s.WritingMode.horizontalOnly;if(!jt&&!ii||Ct.isHidden()||ht++,jt){const Xt=to(Ct.text);lt(c.text,gt,Gt?wl:Xt),lt(c.text,ct,Mi?wl:Xt);const _i=Ct.text.isHidden(),{leftJustifiedTextSymbolIndex:ri,centerJustifiedTextSymbolIndex:Ri,rightJustifiedTextSymbolIndex:si,verticalPlacedTextSymbolIndex:Si}=nt,Ni=c.text.placedSymbolArray,Yt=_i||Gt?1:0;ri>=0&&(Ni.get(ri).hidden=Yt),Ri>=0&&(Ni.get(Ri).hidden=Yt),si>=0&&(Ni.get(si).hidden=Yt),Si>=0&&(Ni.get(Si).hidden=_i||Mi?1:0);const ni=this.variableOffsets[wt];ni&&this.markUsedJustification(c,ni.anchor,nt,Jt);const mn=this.placedOrientations[wt];mn&&(this.markUsedJustification(c,"left",nt,mn),this.markUsedOrientation(c,mn,nt))}if(ii){const Xt=to(Ct.icon),{placedIconSymbolIndex:_i,verticalPlacedIconSymbolIndex:ri}=nt,Ri=c.icon.placedSymbolArray,si=Ct.icon.isHidden()?1:0;_i>=0&&(lt(c.icon,Dt,Gt?wl:Xt),Ri.get(_i).hidden=si),ri>=0&&(lt(c.icon,nt.numVerticalIconVertices,Mi?wl:Xt),Ri.get(ri).hidden=si)}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const Xt=c.collisionArrays[et];if(Xt){let _i=new s.pointGeometry(0,0),ri=!0;if(Xt.textBox||Xt.verticalTextBox){if(De){const si=this.variableOffsets[wt];si?(_i=Ps(si.anchor,si.width,si.height,si.textOffset,si.textScale),Ae&&_i._rotate(je?this.transform.angle:-this.transform.angle)):ri=!1}W&&(ri=!Ct.clipped),Xt.textBox&&eo(c.textCollisionBox.collisionVertexArray,Ct.text.placed,!ri||Gt,_i.x,_i.y),Xt.verticalTextBox&&eo(c.textCollisionBox.collisionVertexArray,Ct.text.placed,!ri||Mi,_i.x,_i.y)}const Ri=ri&&!!(!Mi&&Xt.verticalIconBox);Xt.iconBox&&eo(c.iconCollisionBox.collisionVertexArray,Ct.icon.placed,Ri,Ze?_i.x:0,Ze?_i.y:0),Xt.verticalIconBox&&eo(c.iconCollisionBox.collisionVertexArray,Ct.icon.placed,!Ri,Ze?_i.x:0,Ze?_i.y:0)}}}if(c.fullyClipped=ht===0,c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){const et=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=et.invProjMatrix,c.placementViewportMatrix=et.viewportMatrix,c.collisionCircleArray=et.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const T=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*T>c}setStale(){this.stale=!0}}function eo(_,c,p,T,B){_.emplaceBack(c?1:0,p?1:0,T||0,B||0),_.emplaceBack(c?1:0,p?1:0,T||0,B||0),_.emplaceBack(c?1:0,p?1:0,T||0,B||0),_.emplaceBack(c?1:0,p?1:0,T||0,B||0)}const ga=Math.pow(2,25),Du=Math.pow(2,24),Sd=Math.pow(2,17),Ys=Math.pow(2,16),Zl=Math.pow(2,9),Cd=Math.pow(2,8),Kl=Math.pow(2,1);function to(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const c=_.placed?1:0,p=Math.floor(127*_.opacity);return p*ga+c*Du+p*Sd+c*Ys+p*Zl+c*Cd+p*Kl+c}const wl=0;class Ed{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,T,B,W){const ae=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(ae,B,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,W())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ae.sort((he,ge)=>he.sortKey-ge.sortKey));this._currentPartIndex<ae.length;){const he=ae[this._currentPartIndex];if(p.placeLayerBucketPart(he,this._seenCrossTileIDs,T,he.symbolInstanceStart===0),this._currentPartIndex++,W())return!0}return!1}}class Ir{constructor(c,p,T,B,W,ae,he,ge){this.placement=new al(c,W,ae,he,ge),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=T,this._showCollisionBoxes=B,this._done=!1}isDone(){return this._done}continuePlacement(c,p,T){const B=s.exported.now(),W=()=>{const ae=s.exported.now()-B;return!this._forceFullPlacement&&ae>2};for(;this._currentPlacementIndex>=0;){const ae=p[c[this._currentPlacementIndex]],he=this.placement.collisionIndex.transform.zoom;if(ae.type==="symbol"&&(!ae.minzoom||ae.minzoom<=he)&&(!ae.maxzoom||ae.maxzoom>he)){if(this._inProgressLayer||(this._inProgressLayer=new Ed(ae)),this._inProgressLayer.continuePlacement(T[ae.source],this.placement,this._showCollisionBoxes,ae,W))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Fr=512/s.EXTENT/2;class Md{constructor(c,p,T){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=T;for(let B=0;B<p.length;B++){const W=p.get(B),ae=W.key;this.indexedSymbolInstances[ae]||(this.indexedSymbolInstances[ae]=[]),this.indexedSymbolInstances[ae].push({crossTileID:W.crossTileID,coord:this.getScaledCoordinates(W,c)})}}getScaledCoordinates(c,p){const T=Fr/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*s.EXTENT+c.tileAnchorX)*T),y:Math.floor((p.canonical.y*s.EXTENT+c.tileAnchorY)*T)}}findMatches(c,p,T){const B=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let W=0;W<c.length;W++){const ae=c.get(W);if(ae.crossTileID)continue;const he=this.indexedSymbolInstances[ae.key];if(!he)continue;const ge=this.getScaledCoordinates(ae,p);for(const De of he)if(Math.abs(De.coord.x-ge.x)<=B&&Math.abs(De.coord.y-ge.y)<=B&&!T[De.crossTileID]){T[De.crossTileID]=!0,ae.crossTileID=De.crossTileID;break}}}}class Iu{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class au{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const T in this.indexes){const B=this.indexes[T],W={};for(const ae in B){const he=B[ae];he.tileID=he.tileID.unwrapTo(he.tileID.wrap+p),W[he.tileID.key]=he}this.indexes[T]=W}this.lng=c}addBucket(c,p,T){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let W=0;W<p.symbolInstances.length;W++)p.symbolInstances.get(W).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const B=this.usedCrossTileIDs[c.overscaledZ];for(const W in this.indexes){const ae=this.indexes[W];if(Number(W)>c.overscaledZ)for(const he in ae){const ge=ae[he];ge.tileID.isChildOf(c)&&ge.findMatches(p.symbolInstances,c,B)}else{const he=ae[c.scaledTo(Number(W)).key];he&&he.findMatches(p.symbolInstances,c,B)}}for(let W=0;W<p.symbolInstances.length;W++){const ae=p.symbolInstances.get(W);ae.crossTileID||(ae.crossTileID=T.generate(),B[ae.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Md(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const T in p.indexedSymbolInstances)for(const B of p.indexedSymbolInstances[T])delete this.usedCrossTileIDs[c][B.crossTileID]}removeStaleBuckets(c){let p=!1;for(const T in this.indexes){const B=this.indexes[T];for(const W in B)c[B[W].bucketInstanceId]||(this.removeBucketCrossTileIDs(T,B[W]),delete B[W],p=!0)}return p}}class ya{constructor(){this.layerIndexes={},this.crossTileIDs=new Iu,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,T,B){let W=this.layerIndexes[c.id];W===void 0&&(W=this.layerIndexes[c.id]=new au);let ae=!1;const he={};B.name!=="globe"&&W.handleWrapJump(T);for(const ge of p){const De=ge.getBucket(c);De&&c.id===De.layerIds[0]&&(De.bucketInstanceId||(De.bucketInstanceId=++this.maxBucketInstanceId),W.addBucket(ge.tileID,De,this.crossTileIDs)&&(ae=!0),he[De.bucketInstanceId]=!0)}return W.removeStaleBuckets(he)&&(ae=!0),ae}pruneUnusedLayers(c){const p={};c.forEach(T=>{p[T]=!0});for(const T in this.layerIndexes)p[T]||delete this.layerIndexes[T]}}const Kc=(_,c)=>s.emitValidationErrors(_,c&&c.filter(p=>p.identifier!=="source.canvas")),kd=s.pick(_n,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Jl=s.pick(_n,["setCenter","setZoom","setBearing","setPitch"]),ia={version:8,layers:[],sources:{}},qs={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Z extends s.Evented{constructor(c,p={}){super(),this.map=c,this.dispatcher=new fe(Wi(),this),this.imageManager=new j,this.imageManager.setEventedParent(this),this.glyphManager=new s.GlyphManager(c._requestManager,p.localFontFamily?s.LocalGlyphMode.all:p.localIdeographFontFamily?s.LocalGlyphMode.ideographs:s.LocalGlyphMode.none,p.localFontFamily||p.localIdeographFontFamily),this.crossTileSymbolIndex=new ya,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const T=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(B=>{T.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:B.pluginStatus,pluginURL:B.pluginURL},(W,ae)=>{if(s.triggerPluginCompletionEvent(W),ae&&ae.every(he=>he))for(const he in T._sourceCaches){const ge=T._sourceCaches[he],De=ge.getSource().type;De!=="vector"&&De!=="geojson"||ge.reload()}})}),this.on("data",B=>{if(B.dataType!=="source"||B.sourceDataType!=="metadata")return;const W=this.getSource(B.sourceId);if(W&&W.vectorLayerIds)for(const ae in this._layers){const he=this._layers[ae];he.source===W.id&&this._validateLayer(he)}})}loadURL(c,p={}){this.fire(new s.Event("dataloading",{dataType:"style"}));const T=typeof p.validate=="boolean"?p.validate:!s.isMapboxURL(c);c=this.map._requestManager.normalizeStyleURL(c,p.accessToken);const B=this.map._requestManager.transformRequest(c,s.ResourceType.Style);this._request=s.getJSON(B,(W,ae)=>{this._request=null,W?this.fire(new s.ErrorEvent(W)):ae&&this._load(ae,T)})}loadJSON(c,p={}){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame(()=>{this._request=null,this._load(c,p.validate!==!1)})}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(ia,!1)}_updateLayerCount(c,p){const T=p?1:-1;c.is3D()&&(this._num3DLayers+=T),c.type==="circle"&&(this._numCircleLayers+=T),c.type==="symbol"&&(this._numSymbolLayers+=T)}_load(c,p){if(p&&Kc(this,s.validateStyle(c)))return;this._loaded=!0,this.stylesheet=s.clone$1(c),this._updateMapProjection();for(const B in c.sources)this.addSource(B,c.sources[B],{validate:!1});this._changed=!1,c.sprite?this._loadSprite(c.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(c.glyphs);const T=Ar(this.stylesheet.layers);this._order=T.map(B=>B.id),this._layers={},this._serializedLayers={};for(let B of T)B=s.createStyleLayer(B),B.setEventedParent(this,{layer:{id:B.id}}),this._layers[B.id]=B,this._serializedLayers[B.id]=B.serialize(),this._updateLayerCount(B,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new f(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(c){c?this.stylesheet.projection=c:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(c){this._spriteRequest=function(p,T,B){let W,ae,he;const ge=s.exported.devicePixelRatio>1?"@2x":"";let De=s.getJSON(T.transformRequest(T.normalizeSpriteURL(p,ge,".json"),s.ResourceType.SpriteJSON),(Ze,at)=>{De=null,he||(he=Ze,W=at,je())}),Ae=s.getImage(T.transformRequest(T.normalizeSpriteURL(p,ge,".png"),s.ResourceType.SpriteImage),(Ze,at)=>{Ae=null,he||(he=Ze,ae=at,je())});function je(){if(he)B(he);else if(W&&ae){const Ze=s.exported.getImageData(ae),at={};for(const lt in W){const{width:ht,height:et,x:nt,y:gt,sdf:ct,pixelRatio:wt,stretchX:Dt,stretchY:Ct,content:jt}=W[lt],ii=new s.RGBAImage({width:ht,height:et});s.RGBAImage.copy(Ze,ii,{x:nt,y:gt},{x:0,y:0},{width:ht,height:et}),at[lt]={data:ii,pixelRatio:wt,sdf:ct,stretchX:Dt,stretchY:Ct,content:jt}}B(null,at)}}return{cancel(){De&&(De.cancel(),De=null),Ae&&(Ae.cancel(),Ae=null)}}}(c,this.map._requestManager,(p,T)=>{if(this._spriteRequest=null,p)this.fire(new s.ErrorEvent(p));else if(T)for(const B in T)this.imageManager.addImage(B,T[B]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new s.Event("data",{dataType:"style"}))})}_validateLayer(c){const p=this.getSource(c.source);if(!p)return;const T=c.sourceLayer;T&&(p.type==="geojson"||p.vectorLayerIds&&p.vectorLayerIds.indexOf(T)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${T}" does not exist on source "${p.id}" as specified by style layer "${c.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this._sourceCaches)if(!this._sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(c){const p=[];for(const T of c){const B=this._layers[T];B.type!=="custom"&&p.push(B.serialize())}return p}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const c in this._sourceCaches)if(this._sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(c){return!!this.terrain&&qs[c.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const B=Object.keys(this._updatedLayers),W=Object.keys(this._removedLayers);(B.length||W.length)&&this._updateWorkerLayers(B,W);for(const ae in this._updatedSources){const he=this._updatedSources[ae];he==="reload"?this._reloadSource(ae):he==="clear"&&this._clearSource(ae)}this._updateTilesForChangedImages();for(const ae in this._updatedPaintProps)this._layers[ae].updateTransitions(c);this.light.updateTransitions(c),this.fog&&this.fog.updateTransitions(c),this._resetUpdates()}const T={};for(const B in this._sourceCaches){const W=this._sourceCaches[B];T[B]=W.used,W.used=!1}for(const B of this._order){const W=this._layers[B];if(W.recalculate(c,this._availableImages),!W.isHidden(c.zoom)){const he=this._getLayerSourceCache(W);he&&(he.used=!0)}const ae=this.map.painter;if(ae){const he=W.getProgramIds();if(!he)continue;const ge=W.getProgramConfiguration(c.zoom);for(const De of he)ae.useProgram(De,ge)}}for(const B in T){const W=this._sourceCaches[B];T[B]!==W.used&&W.getSource().fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:W.getSource().id}))}this.light.recalculate(c),this.terrain&&this.terrain.recalculate(c),this.fog&&this.fog.recalculate(c),this.z=c.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),p&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this._sourceCaches)this._sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(c){if(this._checkLoaded(),Kc(this,s.validateStyle(c)))return!1;(c=s.clone$1(c)).layers=Ar(c.layers);const p=function(B,W){if(!B)return[{command:_n.setStyle,args:[W]}];let ae=[];try{if(!v(B.version,W.version))return[{command:_n.setStyle,args:[W]}];v(B.center,W.center)||ae.push({command:_n.setCenter,args:[W.center]}),v(B.zoom,W.zoom)||ae.push({command:_n.setZoom,args:[W.zoom]}),v(B.bearing,W.bearing)||ae.push({command:_n.setBearing,args:[W.bearing]}),v(B.pitch,W.pitch)||ae.push({command:_n.setPitch,args:[W.pitch]}),v(B.sprite,W.sprite)||ae.push({command:_n.setSprite,args:[W.sprite]}),v(B.glyphs,W.glyphs)||ae.push({command:_n.setGlyphs,args:[W.glyphs]}),v(B.transition,W.transition)||ae.push({command:_n.setTransition,args:[W.transition]}),v(B.light,W.light)||ae.push({command:_n.setLight,args:[W.light]}),v(B.fog,W.fog)||ae.push({command:_n.setFog,args:[W.fog]}),v(B.projection,W.projection)||ae.push({command:_n.setProjection,args:[W.projection]});const he={},ge=[];(function(je,Ze,at,lt){let ht;for(ht in Ze=Ze||{},je=je||{})je.hasOwnProperty(ht)&&(Ze.hasOwnProperty(ht)||Or(ht,at,lt));for(ht in Ze)Ze.hasOwnProperty(ht)&&(je.hasOwnProperty(ht)?v(je[ht],Ze[ht])||(je[ht].type==="geojson"&&Ze[ht].type==="geojson"&&Ha(je,Ze,ht)?at.push({command:_n.setGeoJSONSourceData,args:[ht,Ze[ht].data]}):Ga(ht,Ze,at,lt)):Yr(ht,Ze,at))})(B.sources,W.sources,ge,he);const De=[];B.layers&&B.layers.forEach(je=>{je.source&&he[je.source]?ae.push({command:_n.removeLayer,args:[je.id]}):De.push(je)});let Ae=B.terrain;Ae&&he[Ae.source]&&(ae.push({command:_n.setTerrain,args:[void 0]}),Ae=void 0),ae=ae.concat(ge),v(Ae,W.terrain)||ae.push({command:_n.setTerrain,args:[W.terrain]}),function(je,Ze,at){Ze=Ze||[];const lt=(je=je||[]).map(mi),ht=Ze.map(mi),et=je.reduce(ps,{}),nt=Ze.reduce(ps,{}),gt=lt.slice(),ct=Object.create(null);let wt,Dt,Ct,jt,ii,Jt,Gt;for(wt=0,Dt=0;wt<lt.length;wt++)Ct=lt[wt],nt.hasOwnProperty(Ct)?Dt++:(at.push({command:_n.removeLayer,args:[Ct]}),gt.splice(gt.indexOf(Ct,Dt),1));for(wt=0,Dt=0;wt<ht.length;wt++)Ct=ht[ht.length-1-wt],gt[gt.length-1-wt]!==Ct&&(et.hasOwnProperty(Ct)?(at.push({command:_n.removeLayer,args:[Ct]}),gt.splice(gt.lastIndexOf(Ct,gt.length-Dt),1)):Dt++,Jt=gt[gt.length-wt],at.push({command:_n.addLayer,args:[nt[Ct],Jt]}),gt.splice(gt.length-wt,0,Ct),ct[Ct]=!0);for(wt=0;wt<ht.length;wt++)if(Ct=ht[wt],jt=et[Ct],ii=nt[Ct],!ct[Ct]&&!v(jt,ii))if(v(jt.source,ii.source)&&v(jt["source-layer"],ii["source-layer"])&&v(jt.type,ii.type)){for(Gt in yo(jt.layout,ii.layout,at,Ct,null,_n.setLayoutProperty),yo(jt.paint,ii.paint,at,Ct,null,_n.setPaintProperty),v(jt.filter,ii.filter)||at.push({command:_n.setFilter,args:[Ct,ii.filter]}),v(jt.minzoom,ii.minzoom)&&v(jt.maxzoom,ii.maxzoom)||at.push({command:_n.setLayerZoomRange,args:[Ct,ii.minzoom,ii.maxzoom]}),jt)jt.hasOwnProperty(Gt)&&Gt!=="layout"&&Gt!=="paint"&&Gt!=="filter"&&Gt!=="metadata"&&Gt!=="minzoom"&&Gt!=="maxzoom"&&(Gt.indexOf("paint.")===0?yo(jt[Gt],ii[Gt],at,Ct,Gt.slice(6),_n.setPaintProperty):v(jt[Gt],ii[Gt])||at.push({command:_n.setLayerProperty,args:[Ct,Gt,ii[Gt]]}));for(Gt in ii)ii.hasOwnProperty(Gt)&&!jt.hasOwnProperty(Gt)&&Gt!=="layout"&&Gt!=="paint"&&Gt!=="filter"&&Gt!=="metadata"&&Gt!=="minzoom"&&Gt!=="maxzoom"&&(Gt.indexOf("paint.")===0?yo(jt[Gt],ii[Gt],at,Ct,Gt.slice(6),_n.setPaintProperty):v(jt[Gt],ii[Gt])||at.push({command:_n.setLayerProperty,args:[Ct,Gt,ii[Gt]]}))}else at.push({command:_n.removeLayer,args:[Ct]}),Jt=gt[gt.lastIndexOf(Ct)+1],at.push({command:_n.addLayer,args:[ii,Jt]})}(De,W.layers,ae)}catch(he){console.warn("Unable to compute style diff:",he),ae=[{command:_n.setStyle,args:[W]}]}return ae}(this.serialize(),c).filter(B=>!(B.command in Jl));if(p.length===0)return!1;const T=p.filter(B=>!(B.command in kd));if(T.length>0)throw new Error(`Unimplemented: ${T.map(B=>B.command).join(", ")}.`);return p.forEach(B=>{B.command!=="setTransition"&&B.command!=="setProjection"&&this[B.command].apply(this,B.args)}),this.stylesheet=c,this._updateMapProjection(),!0}addImage(c,p){return this.getImage(c)?this.fire(new s.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(c,p),this._afterImageUpdated(c),this)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){return this.getImage(c)?(this.imageManager.removeImage(c),this._afterImageUpdated(c),this):this.fire(new s.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(c,p,T={}){if(this._checkLoaded(),this.getSource(c)!==void 0)throw new Error("There is already a source with this ID");if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(s.validateSource,`sources.${c}`,p,null,T))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const B=Ht(c,p,this.dispatcher,this);B.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(c),source:B.serialize(),sourceId:c}));const W=ae=>{const he=(ae?"symbol:":"other:")+c,ge=this._sourceCaches[he]=new s.SourceCache(he,B,ae);(ae?this._symbolSourceCaches:this._otherSourceCaches)[c]=ge,ge.style=this,ge.onAdd(this.map)};W(!1),p.type!=="vector"&&p.type!=="geojson"||W(!0),B.onAdd&&B.onAdd(this.map),this._changed=!0}removeSource(c){this._checkLoaded();const p=this.getSource(c);if(!p)throw new Error("There is no source with this ID");for(const B in this._layers)if(this._layers[B].source===c)return this.fire(new s.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${B}" is using it.`)));if(this.terrain&&this.terrain.get().source===c)return this.fire(new s.ErrorEvent(new Error(`Source "${c}" cannot be removed while terrain is using it.`)));const T=this._getSourceCaches(c);for(const B of T)delete this._sourceCaches[B.id],delete this._updatedSources[B.id],B.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:B.getSource().id})),B.setEventedParent(null),B.clearTiles();return delete this._otherSourceCaches[c],delete this._symbolSourceCaches[c],p.setEventedParent(null),p.onRemove&&p.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(c,p){this._checkLoaded(),this.getSource(c).setData(p),this._changed=!0}getSource(c){const p=this._getSourceCache(c);return p&&p.getSource()}_getSources(){const c=[];for(const p in this._otherSourceCaches){const T=this._getSourceCache(p);T&&c.push(T.getSource())}return c}addLayer(c,p,T={}){this._checkLoaded();const B=c.id;if(this.getLayer(B))return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${B}" already exists on this map`)));let W;if(c.type==="custom"){if(Kc(this,s.validateCustomStyleLayer(c)))return;W=s.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(B,c.source),c=s.clone$1(c),c=s.extend(c,{source:B})),this._validate(s.validateLayer,`layers.${B}`,c,{arrayIndex:-1},T))return;W=s.createStyleLayer(c),this._validateLayer(W),W.setEventedParent(this,{layer:{id:B}}),this._serializedLayers[W.id]=W.serialize(),this._updateLayerCount(W,!0)}const ae=p?this._order.indexOf(p):this._order.length;if(p&&ae===-1)return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${p}" does not exist on this map.`)));this._order.splice(ae,0,B),this._layerOrderChanged=!0,this._layers[B]=W;const he=this._getLayerSourceCache(W);if(this._removedLayers[B]&&W.source&&he&&W.type!=="custom"){const ge=this._removedLayers[B];delete this._removedLayers[B],ge.type!==W.type?this._updatedSources[W.source]="clear":(this._updatedSources[W.source]="reload",he.pause())}this._updateLayer(W),W.onAdd&&W.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const T=this._order.indexOf(c);this._order.splice(T,1);const B=p?this._order.indexOf(p):this._order.length;p&&B===-1?this.fire(new s.ErrorEvent(new Error(`Layer with id "${p}" does not exist on this map.`))):(this._order.splice(B,0,c),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be removed.`)));p.setEventedParent(null),this._updateLayerCount(p,!1);const T=this._order.indexOf(c);this._order.splice(T,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}hasLayerType(c){for(const p in this._layers)if(this._layers[p].type===c)return!0;return!1}setLayerZoomRange(c,p,T){this._checkLoaded();const B=this.getLayer(c);B?B.minzoom===p&&B.maxzoom===T||(p!=null&&(B.minzoom=p),T!=null&&(B.maxzoom=T),this._updateLayer(B)):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(c,p,T={}){this._checkLoaded();const B=this.getLayer(c);if(B){if(!v(B.filter,p))return p==null?(B.filter=void 0,void this._updateLayer(B)):void(this._validate(s.validateFilter,`layers.${B.id}.filter`,p,{layerType:B.type},T)||(B.filter=s.clone$1(p),this._updateLayer(B)))}else this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be filtered.`)))}getFilter(c){const p=this.getLayer(c);return p&&s.clone$1(p.filter)}setLayoutProperty(c,p,T,B={}){this._checkLoaded();const W=this.getLayer(c);W?v(W.getLayoutProperty(p),T)||(W.setLayoutProperty(p,T,B),this._updateLayer(W)):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(c,p){const T=this.getLayer(c);if(T)return T.getLayoutProperty(p);this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style.`)))}setPaintProperty(c,p,T,B={}){this._checkLoaded();const W=this.getLayer(c);W?v(W.getPaintProperty(p),T)||(W.setPaintProperty(p,T,B)&&this._updateLayer(W),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(c,p){const T=this.getLayer(c);return T&&T.getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const T=c.source,B=c.sourceLayer,W=this.getSource(T);if(!W)return void this.fire(new s.ErrorEvent(new Error(`The source '${T}' does not exist in the map's style.`)));const ae=W.type;if(ae==="geojson"&&B)return void this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(ae==="vector"&&!B)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided.")));const he=this._getSourceCaches(T);for(const ge of he)ge.setFeatureState(B,c.id,p)}removeFeatureState(c,p){this._checkLoaded();const T=c.source,B=this.getSource(T);if(!B)return void this.fire(new s.ErrorEvent(new Error(`The source '${T}' does not exist in the map's style.`)));const W=B.type,ae=W==="vector"?c.sourceLayer:void 0;if(W==="vector"&&!ae)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(p&&typeof c.id!="string"&&typeof c.id!="number")return void this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const he=this._getSourceCaches(T);for(const ge of he)ge.removeFeatureState(ae,c.id,p)}getFeatureState(c){this._checkLoaded();const p=c.source,T=c.sourceLayer,B=this.getSource(p);if(B){if(B.type!=="vector"||T)return c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(p)[0].getFeatureState(T,c.id);this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const c={};for(const p in this._sourceCaches){const T=this._sourceCaches[p].getSource();c[T.id]||(c[T.id]=T.serialize())}return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:c,layers:this._serializeLayers(this._order)},p=>p!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0;const p=this._getLayerSourceCache(c);c.source&&!this._updatedSources[c.source]&&p&&p.getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",p.pause()),this._changed=!0,c.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(c){const p=ae=>this._layers[ae].type==="fill-extrusion",T={},B=[];for(let ae=this._order.length-1;ae>=0;ae--){const he=this._order[ae];if(p(he)){T[he]=ae;for(const ge of c){const De=ge[he];if(De)for(const Ae of De)B.push(Ae)}}}B.sort((ae,he)=>he.intersectionZ-ae.intersectionZ);const W=[];for(let ae=this._order.length-1;ae>=0;ae--){const he=this._order[ae];if(p(he))for(let ge=B.length-1;ge>=0;ge--){const De=B[ge].feature;if(T[De.layer.id]<ae)break;W.push(De),B.pop()}else for(const ge of c){const De=ge[he];if(De)for(const Ae of De)W.push(Ae.feature)}}return W}queryRenderedFeatures(c,p,T){p&&p.filter&&this._validate(s.validateFilter,"queryRenderedFeatures.filter",p.filter,null,p);const B={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const ge of p.layers){const De=this._layers[ge];if(!De)return this.fire(new s.ErrorEvent(new Error(`The layer '${ge}' does not exist in the map's style and cannot be queried for features.`))),[];B[De.source]=!0}}const W=[];p.availableImages=this._availableImages;const ae=p&&p.layers?p.layers.some(ge=>{const De=this.getLayer(ge);return De&&De.is3D()}):this.has3DLayers(),he=Q.createFromScreenPoints(c,T);for(const ge in this._sourceCaches){const De=this._sourceCaches[ge].getSource().id;p.layers&&!B[De]||W.push(Zt(this._sourceCaches[ge],this._layers,this._serializedLayers,he,p,T,ae,!!this.map._showQueryGeometry))}return this.placement&&W.push(function(ge,De,Ae,je,Ze,at,lt){const ht={},et=at.queryRenderedSymbols(je),nt=[];for(const gt of Object.keys(et).map(Number))nt.push(lt[gt]);nt.sort(Ji);for(const gt of nt){const ct=gt.featureIndex.lookupSymbolFeatures(et[gt.bucketInstanceId],De,gt.bucketIndex,gt.sourceLayerIndex,Ze.filter,Ze.layers,Ze.availableImages,ge);for(const wt in ct){const Dt=ht[wt]=ht[wt]||[],Ct=ct[wt];Ct.sort((jt,ii)=>{const Jt=gt.featureSortOrder;if(Jt){const Gt=Jt.indexOf(jt.featureIndex);return Jt.indexOf(ii.featureIndex)-Gt}return ii.featureIndex-jt.featureIndex});for(const jt of Ct)Dt.push(jt)}}for(const gt in ht)ht[gt].forEach(ct=>{const wt=ct.feature,Dt=Ae(ge[gt]).getFeatureState(wt.layer["source-layer"],wt.id);wt.source=wt.layer.source,wt.layer["source-layer"]&&(wt.sourceLayer=wt.layer["source-layer"]),wt.state=Dt});return ht}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),he.screenGeometry,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(W)}querySourceFeatures(c,p){p&&p.filter&&this._validate(s.validateFilter,"querySourceFeatures.filter",p.filter,null,p);const T=this._getSourceCaches(c);let B=[];for(const W of T)B=B.concat(xi(W,p));return B}addSourceType(c,p,T){return Z.getSourceType(c)?T(new Error(`A source type called "${c}" already exists.`)):(Z.setSourceType(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},T):T(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const T=this.light.getLight();let B=!1;for(const ae in c)if(!v(c[ae],T[ae])){B=!0;break}if(!B)return;const W=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(c,p),this.light.updateTransitions(W)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(c,p=1){if(this._checkLoaded(),!c)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(p===1){if(typeof c.source=="object"){const T="terrain-dem-src";this.addSource(T,c.source),c=s.clone$1(c),c=s.extend(c,{source:T})}if(this._validate(s.validateTerrain,"terrain",c))return}if(!this.terrain||this.terrain&&p!==this.terrain.drapeRenderMode)this._createTerrain(c,p);else{const T=this.terrain,B=T.get();for(const W of Object.keys(s.spec.terrain))!c.hasOwnProperty(W)&&s.spec.terrain[W].default&&(c[W]=s.spec.terrain[W].default);for(const W in c)if(!v(c[W],B[W])){T.set(c),this.stylesheet.terrain=c;const ae=this._setTransitionParameters({duration:0});T.updateTransitions(ae);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(c){const p=this.fog=new pe(c,this.map.transform);this.stylesheet.fog=c;const T=this._setTransitionParameters({duration:0});p.updateTransitions(T)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const c of this.map._markers)c._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(c){if(this._checkLoaded(),!c)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const p=this.fog,T=p.get();Object.keys(c).length===0&&p.set(c);for(const B in c)if(!v(c[B],T[B])){p.set(c),this.stylesheet.fog=c;const W=this._setTransitionParameters({duration:0});p.updateTransitions(W);break}}else this._createFog(c);this._markersNeedUpdate=!0}_setTransitionParameters(c){return{now:s.exported.now(),transition:s.extend(c,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const c=this._order.filter(T=>this.isLayerDraped(this._layers[T])),p=this._order.filter(T=>!this.isLayerDraped(this._layers[T]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...c),this._drapedFirstOrder.push(...p)}_createTerrain(c,p){const T=this.terrain=new A(c,p);this.stylesheet.terrain=c,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const B=this._setTransitionParameters({duration:0});T.updateTransitions(B)}_force3DLayerUpdate(){for(const c in this._layers){const p=this._layers[c];p.type==="fill-extrusion"&&this._updateLayer(p)}}_forceSymbolLayerUpdate(){for(const c in this._layers){const p=this._layers[c];p.type==="symbol"&&this._updateLayer(p)}}_validate(c,p,T,B,W={}){return(!W||W.validate!==!1)&&Kc(this,c.call(s.validateStyle,s.extend({key:p,style:this.serialize(),value:T,styleSpec:s.spec},B)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this._sourceCaches)this._sourceCaches[c].clearTiles(),this._sourceCaches[c].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(c){const p=this._getSourceCaches(c);for(const T of p)T.clearTiles()}_reloadSource(c){const p=this._getSourceCaches(c);for(const T of p)T.resume(),T.reload()}_reloadSources(){for(const c of this._getSources())c.reload&&c.reload()}_updateSources(c){for(const p in this._sourceCaches)this._sourceCaches[p].update(c)}_generateCollisionBoxes(){for(const c in this._sourceCaches){const p=this._sourceCaches[c];p.resume(),p.reload()}}_updatePlacement(c,p,T,B,W=!1){let ae=!1,he=!1;const ge={};for(const De of this._order){const Ae=this._layers[De];if(Ae.type!=="symbol")continue;if(!ge[Ae.source]){const Ze=this._getLayerSourceCache(Ae);if(!Ze)continue;ge[Ae.source]=Ze.getRenderableIds(!0).map(at=>Ze.getTileByID(at)).sort((at,lt)=>lt.tileID.overscaledZ-at.tileID.overscaledZ||(at.tileID.isLessThan(lt.tileID)?-1:1))}const je=this.crossTileSymbolIndex.addLayer(Ae,ge[Ae.source],c.center.lng,c.projection);ae=ae||je}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),W=W||this._layerOrderChanged||T===0,this._layerOrderChanged&&this.fire(new s.Event("neworder")),(W||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),c.zoom))&&(this.pauseablePlacement=new Ir(c,this._order,W,p,T,B,this.placement,this.fog&&c.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ge),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),he=!0),ae&&this.pauseablePlacement.placement.setStale()),he||ae)for(const De of this._order){const Ae=this._layers[De];Ae.type==="symbol"&&this.placement.updateLayerOpacities(Ae,ge[Ae.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const c in this._sourceCaches)this._sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,T){this.imageManager.getImages(p.icons,T),this._updateTilesForChangedImages();const B=W=>{W&&W.setDependencies(p.tileID.key,p.type,p.icons)};B(this._otherSourceCaches[p.source]),B(this._symbolSourceCaches[p.source])}getGlyphs(c,p,T){this.glyphManager.getGlyphs(p.stacks,T)}getResource(c,p,T){return s.makeRequest(p,T)}_getSourceCache(c){return this._otherSourceCaches[c]}_getLayerSourceCache(c){return c.type==="symbol"?this._symbolSourceCaches[c.source]:this._otherSourceCaches[c.source]}_getSourceCaches(c){const p=[];return this._otherSourceCaches[c]&&p.push(this._otherSourceCaches[c]),this._symbolSourceCaches[c]&&p.push(this._symbolSourceCaches[c]),p}_isSourceCacheLoaded(c){const p=this._getSourceCaches(c);return p.length===0?(this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${c}'`))),!1):p.every(T=>T.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Z.getSourceType=function(_){return Ut[_]},Z.setSourceType=function(_,c){Ut[_]=c},Z.registerForPluginStateChange=s.registerForPluginStateChange;var de=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,be="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",ke=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Ue=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Ge=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Je={},Bt={};const Et=[];hi(de,Et),hi(ke,Et),hi(Ue,Et),hi(Ge,Et),Je=Zi("",ke),Bt=Zi(Ge,Ue);const Kt=Zi(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),gi=de,ki=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var oi={background:Zi(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Zi(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Zi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Zi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Zi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Zi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Zi("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Zi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Zi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Zi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Zi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Zi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Zi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Zi(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Zi(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Zi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Zi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Zi(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Zi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Zi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Zi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Zi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Zi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Zi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Zi(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Zi(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,be),skyboxGradient:Zi(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,be),skyboxCapture:Zi(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Zi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Zi(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function hi(_,c){const p=_.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let T of p)if(T=T.trim(),T[0]==="#"&&T.includes("if")&&!T.includes("endif")){T=T.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const B=T.split(" ");for(const W of B)c.includes(W)||c.push(W)}}function Zi(_,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,T=c.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),B={},W=[...Et];return hi(_,W),hi(c,W),{fragmentSource:_=_.replace(p,(ae,he,ge,De,Ae)=>(B[Ae]=!0,he==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
varying ${ge} ${De} ${Ae};
#else
uniform ${ge} ${De} u_${Ae};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ae}
    ${ge} ${De} ${Ae} = u_${Ae};
#endif
`)),vertexSource:c=c.replace(p,(ae,he,ge,De,Ae)=>{const je=De==="float"?"vec2":"vec4",Ze=Ae.match(/color/)?"color":je;return B[Ae]?he==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
uniform lowp float u_${Ae}_t;
attribute ${ge} ${je} a_${Ae};
varying ${ge} ${De} ${Ae};
#else
uniform ${ge} ${De} u_${Ae};
#endif
`:Ze==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ae}
    ${Ae} = a_${Ae};
#else
    ${ge} ${De} ${Ae} = u_${Ae};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ae}
    ${Ae} = unpack_mix_${Ze}(a_${Ae}, u_${Ae}_t);
#else
    ${ge} ${De} ${Ae} = u_${Ae};
#endif
`:he==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
uniform lowp float u_${Ae}_t;
attribute ${ge} ${je} a_${Ae};
#else
uniform ${ge} ${De} u_${Ae};
#endif
`:Ze==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ae}
    ${ge} ${De} ${Ae} = a_${Ae};
#else
    ${ge} ${De} ${Ae} = u_${Ae};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ae}
    ${ge} ${De} ${Ae} = unpack_mix_${Ze}(a_${Ae}, u_${Ae}_t);
#else
    ${ge} ${De} ${Ae} = u_${Ae};
#endif
`}),staticAttributes:T,usedDefines:W}}class Zn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(c,p,T,B,W,ae,he){this.context=c;let ge=this.boundPaintVertexBuffers.length!==B.length;for(let Ae=0;!ge&&Ae<B.length;Ae++)this.boundPaintVertexBuffers[Ae]!==B[Ae]&&(ge=!0);let De=this.boundDynamicVertexBuffers.length!==he.length;for(let Ae=0;!De&&Ae<he.length;Ae++)this.boundDynamicVertexBuffers[Ae]!==he[Ae]&&(De=!0);if(!c.extVertexArrayObject||!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==T||ge||De||this.boundIndexBuffer!==W||this.boundVertexOffset!==ae)this.freshBind(p,T,B,W,ae,he);else{c.bindVertexArrayOES.set(this.vao);for(const Ae of he)Ae&&Ae.bind();W&&W.dynamicDraw&&W.bind()}}freshBind(c,p,T,B,W,ae){let he;const ge=c.numAttributes,De=this.context,Ae=De.gl;if(De.extVertexArrayObject)this.vao&&this.destroy(),this.vao=De.extVertexArrayObject.createVertexArrayOES(),De.bindVertexArrayOES.set(this.vao),he=0,this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=T,this.boundIndexBuffer=B,this.boundVertexOffset=W,this.boundDynamicVertexBuffers=ae;else{he=De.currentNumAttributes||0;for(let je=ge;je<he;je++)Ae.disableVertexAttribArray(je)}p.enableAttributes(Ae,c),p.bind(),p.setVertexAttribPointers(Ae,c,W);for(const je of T)je.enableAttributes(Ae,c),je.bind(),je.setVertexAttribPointers(Ae,c,W);for(const je of ae)je&&(je.enableAttributes(Ae,c),je.bind(),je.setVertexAttribPointers(Ae,c,W));B&&B.bind(),De.currentNumAttributes=ge}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function pn(_,c){const p=Math.pow(2,c.canonical.z),T=c.canonical.y;return[new s.MercatorCoordinate(0,T/p).toLngLat().lat,new s.MercatorCoordinate(0,(T+1)/p).toLngLat().lat]}function fs(_,c,p,T,B,W,ae){const he=_.context,ge=he.gl,De=p.fbo;if(!De)return;_.prepareDrawTile();const Ae=_.useProgram("hillshade");he.activeTexture.set(ge.TEXTURE0),ge.bindTexture(ge.TEXTURE_2D,De.colorAttachment.get());const je=((ht,et,nt,gt)=>{const ct=nt.paint.get("hillshade-shadow-color"),wt=nt.paint.get("hillshade-highlight-color"),Dt=nt.paint.get("hillshade-accent-color");let Ct=nt.paint.get("hillshade-illumination-direction")*(Math.PI/180);nt.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ct-=ht.transform.angle);const jt=!ht.options.moving;return{u_matrix:gt||ht.transform.calculateProjMatrix(et.tileID.toUnwrapped(),jt),u_image:0,u_latrange:pn(0,et.tileID),u_light:[nt.paint.get("hillshade-exaggeration"),Ct],u_shadow:ct,u_highlight:wt,u_accent:Dt}})(_,p,T,_.terrain?c.projMatrix:null);_.prepareDrawProgram(he,Ae,c.toUnwrapped());const{tileBoundsBuffer:Ze,tileBoundsIndexBuffer:at,tileBoundsSegments:lt}=_.getTileBoundsBuffers(p);Ae.draw(he,ge.TRIANGLES,B,W,ae,s.CullFaceMode.disabled,je,T.id,Ze,at,lt)}function Jr(_,c,p){if(!c.needsDEMTextureUpload)return;const T=_.context,B=T.gl;T.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||_.getTileTexture(p.stride);const W=p.getPixels();c.demTexture?c.demTexture.update(W,{premultiply:!1}):c.demTexture=new s.Texture(T,W,B.RGBA,{premultiply:!1}),c.needsDEMTextureUpload=!1}function fr(_,c,p,T,B,W){const ae=_.context,he=ae.gl;if(!c.dem)return;const ge=c.dem;if(ae.activeTexture.set(he.TEXTURE1),Jr(_,c,ge),!c.demTexture)return;c.demTexture.bind(he.NEAREST,he.CLAMP_TO_EDGE);const De=ge.dim;ae.activeTexture.set(he.TEXTURE0);let Ae=c.fbo;if(!Ae){const lt=new s.Texture(ae,{width:De,height:De,data:null},he.RGBA);lt.bind(he.LINEAR,he.CLAMP_TO_EDGE),Ae=c.fbo=ae.createFramebuffer(De,De,!0),Ae.colorAttachment.set(lt.texture)}ae.bindFramebuffer.set(Ae.framebuffer),ae.viewport.set([0,0,De,De]);const{tileBoundsBuffer:je,tileBoundsIndexBuffer:Ze,tileBoundsSegments:at}=_.getMercatorTileBoundsBuffers();_.useProgram("hillshadePrepare").draw(ae,he.TRIANGLES,T,B,W,s.CullFaceMode.disabled,((lt,ht)=>{const et=ht.stride,nt=s.create();return s.ortho(nt,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(nt,nt,[0,-s.EXTENT,0]),{u_matrix:nt,u_image:1,u_dimension:[et,et],u_zoom:lt.overscaledZ,u_unpack:ht.unpackVector}})(c.tileID,ge),p.id,je,Ze,at),c.needsHillshadePrepare=!1}const mr=_=>({u_matrix:new s.UniformMatrix4f(_),u_image0:new s.Uniform1i(_),u_skirt_height:new s.Uniform1f(_)}),Yn=(_,c)=>({u_matrix:_,u_image0:0,u_skirt_height:c}),no=(_,c,p,T,B,W,ae,he,ge,De,Ae,je,Ze,at)=>({u_proj_matrix:Float32Array.from(_),u_globe_matrix:c,u_normalize_matrix:Float32Array.from(T),u_merc_matrix:p,u_zoom_transition:B,u_merc_center:W,u_image0:0,u_frustum_tl:ae,u_frustum_tr:he,u_frustum_br:ge,u_frustum_bl:De,u_globe_pos:Ae,u_globe_radius:je,u_viewport:Ze,u_grid_matrix:at?Float32Array.from(at):new Float32Array(9)});function yr(_,c){return _!=null&&c!=null&&!(!_.hasData()||!c.hasData())&&_.demTexture!=null&&c.demTexture!=null&&_.tileID.key!==c.tileID.key}const Qr=new class{constructor(){this.operations={}}newMorphing(_,c,p,T,B){if(_ in this.operations){const W=this.operations[_];W.to.tileID.key!==p.tileID.key&&(W.queued=p)}else this.operations[_]={startTime:T,phase:0,duration:B,from:c,to:p,queued:null}}getMorphValuesForProxy(_){if(!(_ in this.operations))return null;const c=this.operations[_];return{from:c.from,to:c.to,phase:c.phase}}update(_){for(const c in this.operations){const p=this.operations[c];for(p.phase=(_-p.startTime)/p.duration;p.phase>=1||!this._validOp(p);)if(!this._nextOp(p,_)){delete this.operations[c];break}}}_nextOp(_,c){return!!_.queued&&(_.from=_.to,_.to=_.queued,_.queued=null,_.phase=0,_.startTime=c,!0)}_validOp(_){return _.from.hasData()&&_.to.hasData()}},Ya={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Ql(_,c){const p=1<<_.z;return!c&&(_.x===0||_.x===p-1)||_.y===0||_.y===p-1}const ro=_=>({u_matrix:_});function na(_,c,p,T,B){if(B>0){const W=s.exported.now(),ae=(W-_.timeAdded)/B,he=c?(W-c.timeAdded)/B:-1,ge=p.getSource(),De=T.coveringZoomLevel({tileSize:ge.tileSize,roundZoom:ge.roundZoom}),Ae=!c||Math.abs(c.tileID.overscaledZ-De)>Math.abs(_.tileID.overscaledZ-De),je=Ae&&_.refreshedUponExpiration?1:s.clamp(Ae?ae:1-he,0,1);return _.refreshedUponExpiration&&ae>=1&&(_.refreshedUponExpiration=!1),c?{opacity:1,mix:1-je}:{opacity:je,mix:0}}return{opacity:1,mix:0}}class Jn extends s.SourceCache{constructor(c){const p={type:"raster-dem",maxzoom:c.transform.maxZoom},T=new fe(Wi(),null),B=Ht("mock-dem",p,T,c.style);super("mock-dem",B,!1),B.setEventedParent(this),this._sourceLoaded=!0}_loadTile(c,p){c.state="loaded",p(null)}}class _o extends s.SourceCache{constructor(c){const p=Ht("proxy",{type:"geojson",maxzoom:c.transform.maxZoom},new fe(Wi(),null),c.style);super("proxy",p,!1),p.setEventedParent(this),this.map=this.getSource().map=c,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(c,p,T){if(c.freezeTileCoverage)return;this.transform=c;const B=c.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((W,ae)=>{if(W[ae.key]="",!this._tiles[ae.key]){const he=new s.Tile(ae,this._source.tileSize*ae.overscaleFactor(),c.tileZoom);he.state="loaded",this._tiles[ae.key]=he}return W},{});for(const W in this._tiles)W in B||(this.freeFBO(W),this._tiles[W].unloadVectorData(),delete this._tiles[W])}freeFBO(c){const p=this.proxyCachedFBO[c];if(p!==void 0){const T=Object.values(p);this.renderCachePool.push(...T),delete this.proxyCachedFBO[c]}}deallocRenderCache(){this.renderCache.forEach(c=>c.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ra extends s.OverscaledTileID{constructor(c,p,T){super(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y),this.proxyTileKey=p,this.projMatrix=T}}class zo extends s.Elevation{constructor(c,p){super(),this.painter=c,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[T,B,W]=function(ge){const De=new s.StructArrayLayout4i8,Ae=new s.StructArrayLayout3ui6,je=131;De.reserve(17161),Ae.reserve(33800);const Ze=s.EXTENT/128,at=s.EXTENT+Ze/2,lt=at+Ze;for(let et=-Ze;et<lt;et+=Ze)for(let nt=-Ze;nt<lt;nt+=Ze){const gt=nt<0||nt>at||et<0||et>at?24575:0,ct=s.clamp(Math.round(nt),0,s.EXTENT),wt=s.clamp(Math.round(et),0,s.EXTENT);De.emplaceBack(ct+gt,wt,ct,wt)}const ht=(et,nt)=>{const gt=nt*je+et;Ae.emplaceBack(gt+1,gt,gt+je),Ae.emplaceBack(gt+je,gt+je+1,gt+1)};for(let et=1;et<129;et++)for(let nt=1;nt<129;nt++)ht(nt,et);return[0,129].forEach(et=>{for(let nt=0;nt<130;nt++)ht(nt,et),ht(et,nt)}),[De,Ae,32768]}(),ae=c.context;this.gridBuffer=ae.createVertexBuffer(T,s.boundsAttributes.members),this.gridIndexBuffer=ae.createIndexBuffer(B),this.gridSegments=s.SegmentVector.simpleSegment(0,0,T.length,B.length),this.gridNoSkirtSegments=s.SegmentVector.simpleSegment(0,0,T.length,W),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new _o(p.map),this.orthoMatrix=s.create(),s.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,s.EXTENT,0,s.EXTENT,0,1);const he=ae.gl;this._overlapStencilMode=new s.StencilMode({func:he.GEQUAL,mask:255},0,255,he.KEEP,he.KEEP,he.REPLACE),this._previousZoom=c.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=p,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Jn(p.map)}set style(c){c.on("data",this._onStyleDataEvent.bind(this)),c.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=c,this._checkRenderCacheEfficiency()}update(c,p,T){if(c&&c.terrain){this._style!==c&&(this.style=c),this.enabled=!0;const B=c.terrain.properties;this.sourceCache=c.terrain.drapeRenderMode===0?this._mockSourceCache:c._getSourceCache(B.get("source")),this._exaggeration=B.get("exaggeration");const W=()=>{this.sourceCache.used&&s.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const ae=this.getScaledDemTileSize();this.sourceCache.update(p,ae,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,W(),this._initializing=!0),W(),p.updateElevation(!0,T),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(p),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(c){this._findCoveringTileCache[c]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const c=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||c.efficiency!==100&&s.warnOnce(`Terrain render cache efficiency is not optimal (${c.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${c.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(c){c.coord&&c.dataType==="source"?this._clearRenderCacheForTile(c.sourceCacheId,c.coord):c.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const c in this._style._sourceCaches)this._style._sourceCaches[c].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(c=>c.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const c=2*this.proxySourceCache.getSource().tileSize;return[c,c]}set useVertexMorphing(c){this._useVertexMorphing=c}updateTileBinding(c){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const p=this.proxySourceCache,T=this.painter.transform;this._initializing&&(this._initializing=T._centerAltitude===0&&this.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(T.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const B=this.proxyCoords=p.getIds().map(ge=>{const De=p.getTileByID(ge).tileID;return De.projMatrix=T.calculateProjMatrix(De.toUnwrapped()),De});(function(ge,De){const Ae=De.transform.pointCoordinate(De.transform.getCameraPoint()),je=new s.pointGeometry(Ae.x,Ae.y);ge.sort((Ze,at)=>{if(at.overscaledZ-Ze.overscaledZ)return at.overscaledZ-Ze.overscaledZ;const lt=new s.pointGeometry(Ze.canonical.x+(1<<Ze.canonical.z)*Ze.wrap,Ze.canonical.y),ht=new s.pointGeometry(at.canonical.x+(1<<at.canonical.z)*at.wrap,at.canonical.y),et=je.mult(1<<Ze.canonical.z);return et.x-=.5,et.y-=.5,et.distSqr(lt)-et.distSqr(ht)})})(B,this.painter),this._previousZoom=T.zoom;const W=this.proxyToSource||{};this.proxyToSource={},B.forEach(ge=>{this.proxyToSource[ge.key]={}}),this.terrainTileForTile={};const ae=this._style._sourceCaches;for(const ge in ae){const De=ae[ge];if(!De.used||(De!==this.sourceCache&&this.resetTileLookupCache(De.id),this._setupProxiedCoordsForOrtho(De,c[ge],W),De.usedForTerrain))continue;const Ae=c[ge];De.getSource().reparseOverscaled&&this._assignTerrainTiles(Ae)}this.proxiedCoords[p.id]=B.map(ge=>new ra(ge,ge.key,this.orthoMatrix)),this._assignTerrainTiles(B),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(W),this.renderingToTexture=!1,this._updateTimestamp=s.exported.now();const he={};this._visibleDemTiles=[];for(const ge of this.proxyCoords){const De=this.terrainTileForTile[ge.key];if(!De)continue;const Ae=De.tileID.key;Ae in he||(this._visibleDemTiles.push(De),he[Ae]=Ae)}}_assignTerrainTiles(c){this._initializing||c.forEach(p=>{if(this.terrainTileForTile[p.key])return;const T=this._findTileCoveringTileID(p,this.sourceCache);T&&(this.terrainTileForTile[p.key]=T)})}_prepareDEMTextures(){const c=this.painter.context,p=c.gl;for(const T in this.terrainTileForTile){const B=this.terrainTileForTile[T],W=B.dem;!W||B.demTexture&&!B.needsDEMTextureUpload||(c.activeTexture.set(p.TEXTURE1),Jr(this.painter,B,W))}}_prepareDemTileUniforms(c,p,T,B){if(!p||p.demTexture==null)return!1;const W=c.tileID.canonical,ae=Math.pow(2,p.tileID.canonical.z-W.z),he=B||"";return T[`u_dem_tl${he}`]=[W.x*ae%1,W.y*ae%1],T[`u_dem_scale${he}`]=ae,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const c=this.painter.context,p=c.gl;if(!this._emptyDepthBufferTexture){const T=new s.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new s.Texture(c,T,p.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let c=0;const p=this._visibleDemTiles.reduce((T,B)=>{if(!B.dem)return T;const W=B.dem.tree.minimums[0];return W>0&&c++,T+W},0);return c?p/c:0}_updateEmptyDEMTexture(){const c=this.painter.context,p=c.gl;c.activeTexture.set(p.TEXTURE2);const T=this._getLoadedAreaMinimum(),B=new s.RGBAImage({width:1,height:1},new Uint8Array(s.DEMData.pack(T,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let W=this._emptyDEMTexture;return W?W.update(B,{premultiply:!1}):W=this._emptyDEMTexture=new s.Texture(c,B,p.RGBA,{premultiply:!1}),W}setupElevationDraw(c,p,T){const B=this.painter.context,W=B.gl,ae=(he=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:s.DEMData.getUnpackVector(he),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var he;ae.u_dem_size=this.sourceCache.getSource().tileSize,ae.u_exaggeration=this.exaggeration();let ge=null,De=null,Ae=1;if(T&&T.morphing&&this._useVertexMorphing){const je=T.morphing.srcDemTile,Ze=T.morphing.dstDemTile;Ae=T.morphing.phase,je&&Ze&&(this._prepareDemTileUniforms(c,je,ae,"_prev")&&(De=je),this._prepareDemTileUniforms(c,Ze,ae)&&(ge=Ze))}if(De&&ge?(B.activeTexture.set(W.TEXTURE2),ge.demTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE,W.NEAREST),B.activeTexture.set(W.TEXTURE4),De.demTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE,W.NEAREST),ae.u_dem_lerp=Ae):(ge=this.terrainTileForTile[c.tileID.key],B.activeTexture.set(W.TEXTURE2),(this._prepareDemTileUniforms(c,ge,ae)?ge.demTexture:this.emptyDEMTexture).bind(W.NEAREST,W.CLAMP_TO_EDGE)),B.activeTexture.set(W.TEXTURE3),T&&T.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE),this._depthFBO&&(ae.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE),ae.u_depth_size_inv=[1,1]),T&&T.useMeterToDem&&ge){const je=(1<<ge.tileID.canonical.z)*s.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;ae.u_meter_to_dem=je}if(T&&T.labelPlaneMatrixInv&&(ae.u_label_plane_matrix_inv=T.labelPlaneMatrixInv),p.setTerrainUniformValues(B,ae),this.painter.transform.projection.name==="globe"){const je=this.globeUniformValues(this.painter.transform,c.tileID.canonical,T&&T.useDenormalizedUpVectorScale);p.setGlobeUniformValues(B,je)}}globeUniformValues(c,p,T){const B=c.projection;return{u_tile_tl_up:B.upVector(p,0,0),u_tile_tr_up:B.upVector(p,s.EXTENT,0),u_tile_br_up:B.upVector(p,s.EXTENT,s.EXTENT),u_tile_bl_up:B.upVector(p,0,s.EXTENT),u_tile_up_scale:T?s.GLOBE_METERS_TO_ECEF:B.upVectorScale(p,c.center.lat,c.worldSize).metersToTile}}renderToBackBuffer(c){const p=this.painter,T=this.painter.context;c.length!==0&&(T.bindFramebuffer.set(null),T.viewport.set([0,0,p.width,p.height]),p.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(B,W,ae,he,ge){if(B.transform.projection.name==="globe")(function(De,Ae,je,Ze,at){const lt=De.context,ht=lt.gl;let et,nt;const gt=De.options.showTerrainWireframe?2:0,ct=De.transform,wt=s.globeUseCustomAntiAliasing(De,lt,ct),Dt=(Ri,si)=>{if(nt===Ri)return;const Si=[Ya[Ri],"PROJECTION_GLOBE_VIEW"];wt&&Si.push("CUSTOM_ANTIALIASING"),si&&Si.push(Ya[gt]),et=De.useProgram("globeRaster",null,Si),nt=Ri},Ct=De.colorModeForRenderPass(),jt=new s.DepthMode(ht.LEQUAL,s.DepthMode.ReadWrite,De.depthRangeFor3D);Qr.update(at);const ii=s.calculateGlobeMercatorMatrix(ct),Jt=[s.mercatorXfromLng(ct.center.lng),s.mercatorYfromLat(ct.center.lat)],Gt=gt?[!1,!0]:[!1],Mi=De.globeSharedBuffers,Xt=[ct.width*s.exported.devicePixelRatio,ct.height*s.exported.devicePixelRatio],_i=Float32Array.from(ct.globeMatrix),ri={useDenormalizedUpVectorScale:!0};if(Gt.forEach(Ri=>{nt=-1;const si=Ri?ht.LINES:ht.TRIANGLES;for(const Si of Ze){const Ni=je.getTile(Si),Yt=s.StencilMode.disabled,ni=Ae.prevTerrainTileForTile[Si.key],mn=Ae.terrainTileForTile[Si.key];yr(ni,mn)&&Qr.newMorphing(Si.key,ni,mn,at,250),lt.activeTexture.set(ht.TEXTURE0),Ni.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE);const Sn=Qr.getMorphValuesForProxy(Si.key),gn=Sn?1:0;Sn&&s.extend$1(ri,{morphing:{srcDemTile:Sn.from,dstDemTile:Sn.to,phase:s.easeCubicInOut(Sn.phase)}});const Un=s.tileCornersToBounds(Si.canonical),lr=s.getLatitudinalLod(Un.getCenter().lat),kn=s.getGridMatrix(Si.canonical,Un,lr,ct.worldSize/ct._pixelsPerMercatorPixel),dn=s.globeNormalizeECEF(s.globeTileBounds(Si.canonical)),is=no(ct.projMatrix,_i,ii,dn,s.globeToMercatorTransition(ct.zoom),Jt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,Xt,kn);if(Dt(gn,Ri),Ae.setupElevationDraw(Ni,et,ri),De.prepareDrawProgram(lt,et,Si.toUnwrapped()),Mi){const[Hr,ss,es]=Ri?Mi.getWirefameBuffers(De.context,lr):Mi.getGridBuffers(lr);et.draw(lt,si,jt,Yt,Ct,s.CullFaceMode.backCCW,is,"globe_raster",Hr,ss,es)}}}),Mi){const Ri=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];wt&&Ri.push("CUSTOM_ANTIALIASING"),et=De.useProgram("globeRaster",null,Ri);for(const si of Ze){const{x:Si,y:Ni,z:Yt}=si.canonical,ni=Ni===0,mn=Ni===(1<<Yt)-1,[Sn,gn,Un,lr]=Mi.getPoleBuffers(Yt);if(lr&&(ni||mn)){const kn=je.getTile(si);lt.activeTexture.set(ht.TEXTURE0),kn.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE);let dn=s.globePoleMatrixForTile(Yt,Si,ct);const is=s.globeNormalizeECEF(s.globeTileBounds(si.canonical)),Hr=(ss,es)=>ss.draw(lt,ht.TRIANGLES,jt,s.StencilMode.disabled,Ct,s.CullFaceMode.disabled,no(ct.projMatrix,dn,dn,is,0,Jt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,Xt),"globe_pole_raster",es,Un,lr);Ae.setupElevationDraw(kn,et,ri),De.prepareDrawProgram(lt,et,si.toUnwrapped()),ni&&Hr(et,Sn),mn&&(dn=s.scale(s.create(),dn,[1,-1,1]),Hr(et,gn))}}}})(B,W,ae,he,ge);else{const De=B.context,Ae=De.gl;let je,Ze;const at=B.options.showTerrainWireframe?2:0,lt=(ct,wt)=>{if(Ze===ct)return;const Dt=[Ya[ct]];wt&&Dt.push(Ya[at]),je=B.useProgram("terrainRaster",null,Dt),Ze=ct},ht=B.colorModeForRenderPass(),et=new s.DepthMode(Ae.LEQUAL,s.DepthMode.ReadWrite,B.depthRangeFor3D);Qr.update(ge);const nt=B.transform,gt=6*Math.pow(1.5,22-nt.zoom)*W.exaggeration();(at?[!1,!0]:[!1]).forEach(ct=>{Ze=-1;const wt=ct?Ae.LINES:Ae.TRIANGLES,[Dt,Ct]=ct?W.getWirefameBuffer():[W.gridIndexBuffer,W.gridSegments];for(const jt of he){const ii=ae.getTile(jt),Jt=s.StencilMode.disabled,Gt=W.prevTerrainTileForTile[jt.key],Mi=W.terrainTileForTile[jt.key];yr(Gt,Mi)&&Qr.newMorphing(jt.key,Gt,Mi,ge,250),De.activeTexture.set(Ae.TEXTURE0),ii.texture.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE,Ae.LINEAR_MIPMAP_NEAREST);const Xt=Qr.getMorphValuesForProxy(jt.key),_i=Xt?1:0;let ri;Xt&&(ri={morphing:{srcDemTile:Xt.from,dstDemTile:Xt.to,phase:s.easeCubicInOut(Xt.phase)}});const Ri=Yn(jt.projMatrix,Ql(jt.canonical,nt.renderWorldCopies)?gt/10:gt);lt(_i,ct),W.setupElevationDraw(ii,je,ri),B.prepareDrawProgram(De,je,jt.toUnwrapped()),je.draw(De,wt,et,Jt,ht,s.CullFaceMode.backCCW,Ri,"terrain_raster",W.gridBuffer,Dt,Ct)}})}}(p,this,this.proxySourceCache,c,this._updateTimestamp),this.renderingToTexture=!0,p.gpuTimingDeferredRenderEnd(),c.splice(0,c.length))}renderBatch(c){if(this._drapedRenderBatches.length===0)return c+1;this.renderingToTexture=!0;const p=this.painter,T=this.painter.context,B=this.proxySourceCache,W=this.proxiedCoords[B.id],ae=this._drapedRenderBatches.shift(),he=[],ge=p.style.order;let De=0;for(const Ae of W){const je=B.getTileByID(Ae.proxyTileKey),Ze=B.proxyCachedFBO[Ae.key]?B.proxyCachedFBO[Ae.key][c]:void 0,at=Ze!==void 0?B.renderCache[Ze]:this.pool[De++],lt=Ze!==void 0;if(je.texture=at.tex,lt&&!at.dirty){he.push(je.tileID);continue}let ht;T.bindFramebuffer.set(at.fb.framebuffer),this.renderedToTile=!1,at.dirty&&(T.clear({color:s.Color.transparent,stencil:0}),at.dirty=!1);for(let et=ae.start;et<=ae.end;++et){const nt=p.style._layers[ge[et]];if(nt.isHidden(p.transform.zoom))continue;const gt=p.style._getLayerSourceCache(nt),ct=gt?this.proxyToSource[Ae.key][gt.id]:[Ae];if(!ct)continue;const wt=ct;T.viewport.set([0,0,at.fb.width,at.fb.height]),ht!==(gt?gt.id:null)&&(this._setupStencil(at,ct,nt,gt),ht=gt?gt.id:null),p.renderLayer(p,gt,nt,wt)}this.renderedToTile?(at.dirty=!0,he.push(je.tileID)):lt||--De,De===5&&(De=0,this.renderToBackBuffer(he))}return this.renderToBackBuffer(he),this.renderingToTexture=!1,T.bindFramebuffer.set(null),T.viewport.set([0,0,p.width,p.height]),ae.end+1}postRender(){}renderCacheEfficiency(c){const p=c.order.length;if(p===0)return{efficiency:100};let T,B=0,W=0,ae=!1;for(let he=0;he<p;++he){const ge=c._layers[c.order[he]];this._style.isLayerDraped(ge)?(ae&&++B,++W):ae||(ae=!0,T=ge.id)}return W===0?{efficiency:100}:{efficiency:100*(1-B/W),firstUndrapedLayer:T}}getMinElevationBelowMSL(){let c=0;return this._visibleDemTiles.filter(p=>p.dem).forEach(p=>{c=Math.min(c,p.dem.tree.minimums[0])}),c===0?c:(c-30)*this._exaggeration}raycast(c,p,T){if(!this._visibleDemTiles)return null;const B=this._visibleDemTiles.filter(W=>W.dem).map(W=>{const ae=W.tileID,he=1<<ae.overscaledZ,{x:ge,y:De}=ae.canonical,Ae=ge/he,je=(ge+1)/he,Ze=De/he,at=(De+1)/he;return{minx:Ae,miny:Ze,maxx:je,maxy:at,t:W.dem.tree.raycastRoot(Ae,Ze,je,at,c,p,T),tile:W}});B.sort((W,ae)=>(W.t!==null?W.t:Number.MAX_VALUE)-(ae.t!==null?ae.t:Number.MAX_VALUE));for(const W of B){if(W.t==null)return null;const ae=W.tile.dem.tree.raycast(W.minx,W.miny,W.maxx,W.maxy,c,p,T);if(ae!=null)return ae}return null}_createFBO(){const c=this.painter.context,p=c.gl,T=this.drapeBufferSize;c.activeTexture.set(p.TEXTURE0);const B=new s.Texture(c,{width:T[0],height:T[1],data:null},p.RGBA);B.bind(p.LINEAR,p.CLAMP_TO_EDGE);const W=c.createFramebuffer(T[0],T[1],!1);return W.colorAttachment.set(B.texture),W.depthAttachment=new rl(c,W.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=c.createRenderbuffer(c.gl.DEPTH_STENCIL,T[0],T[1]),this._stencilRef=0,W.depthAttachment.set(this._sharedDepthStencil),c.clear({stencil:0})):W.depthAttachment.set(this._sharedDepthStencil),c.extTextureFilterAnisotropic&&!c.extTextureFilterAnisotropicForceOff&&p.texParameterf(p.TEXTURE_2D,c.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c.extTextureFilterAnisotropicMax),{fb:W,tex:B,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const c in this._style._sourceCaches)if(this._style._sourceCaches[c].hasTransition())return!0;return this._style.order.some(c=>{const p=this._style._layers[c],T=p.isHidden(this.painter.transform.zoom);return p.type!=="custom"&&!T&&p.hasTransition()})}_clearRasterFadeFromRenderCache(){let c=!1;for(const p in this._style._sourceCaches)if(this._style._sourceCaches[p]._source instanceof We){c=!0;break}if(c)for(let p=0;p<this._style.order.length;++p){const T=this._style._layers[this._style.order[p]],B=T.isHidden(this.painter.transform.zoom),W=this._style._getLayerSourceCache(T);if(T.type!=="raster"||B||!W)continue;const ae=T.paint.get("raster-fade-duration");for(const he of this.proxyCoords){const ge=this.proxyToSource[he.key][W.id];if(ge)for(const De of ge){const Ae=na(W.getTile(De),W.findLoadedParent(De,0),W,this.painter.transform,ae);(Ae.opacity!==1||Ae.mix!==0)&&this._clearRenderCacheForTile(W.id,De)}}}}_setupDrapedRenderBatches(){const c=this._style.order,p=c.length;if(p===0)return;const T=[];let B,W=0,ae=this._style._layers[c[W]];for(;!this._style.isLayerDraped(ae)&&ae.isHidden(this.painter.transform.zoom)&&++W<p;)ae=this._style._layers[c[W]];for(;W<p;++W){const he=this._style._layers[c[W]];he.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(he)?B===void 0&&(B=W):B!==void 0&&(T.push({start:B,end:W-1}),B=void 0))}B!==void 0&&T.push({start:B,end:W-1}),this._drapedRenderBatches=T}_setupRenderCache(c){const p=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,p.renderCache.length>p.renderCachePool.length){const ae=Object.values(p.proxyCachedFBO);p.proxyCachedFBO={};for(let he=0;he<ae.length;++he){const ge=Object.values(ae[he]);p.renderCachePool.push(...ge)}}return}this._clearRasterFadeFromRenderCache();const T=this.proxyCoords,B=this._tilesDirty;for(let ae=T.length-1;ae>=0;ae--){const he=T[ae];if(p.getTileByID(he.key),p.proxyCachedFBO[he.key]!==void 0){const ge=c[he.key],De=this.proxyToSource[he.key];let Ae=0;for(const je in De){const Ze=De[je],at=ge[je];if(!at||at.length!==Ze.length||Ze.some((lt,ht)=>lt!==at[ht]||B[je]&&B[je].hasOwnProperty(lt.key))){Ae=-1;break}++Ae}for(const je in p.proxyCachedFBO[he.key])p.renderCache[p.proxyCachedFBO[he.key][je]].dirty=Ae<0||Ae!==Object.values(ge).length}}const W=[...this._drapedRenderBatches];W.sort((ae,he)=>he.end-he.start-(ae.end-ae.start));for(const ae of W)for(const he of T){if(p.proxyCachedFBO[he.key])continue;let ge=p.renderCachePool.pop();ge===void 0&&p.renderCache.length<50&&(ge=p.renderCache.length,p.renderCache.push(this._createFBO())),ge!==void 0&&(p.proxyCachedFBO[he.key]={},p.proxyCachedFBO[he.key][ae.start]=ge,p.renderCache[ge].dirty=!0)}this._tilesDirty={}}_setupStencil(c,p,T,B){if(!B||!this._sourceTilesOverlap[B.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const W=this.painter.context,ae=W.gl;if(p.length<=1)return void(this._overlapStencilType=!1);let he;if(T.isTileClipped())he=p.length,this._overlapStencilMode.test={func:ae.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(p[0].overscaledZ>p[p.length-1].overscaledZ))return void(this._overlapStencilType=!1);he=1,this._overlapStencilMode.test={func:ae.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+he>255&&(W.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=he,this._overlapStencilMode.ref=this._stencilRef,T.isTileClipped()&&this._renderTileClippingMasks(p,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(c){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[c.key]),this._overlapStencilMode):s.StencilMode.disabled}_renderTileClippingMasks(c,p){const T=this.painter,B=this.painter.context,W=B.gl;T._tileClippingMaskIDs={},B.setColorMode(s.ColorMode.disabled),B.setDepthMode(s.DepthMode.disabled);const ae=T.useProgram("clippingMask");for(const he of c){const ge=T._tileClippingMaskIDs[he.key]=--p;ae.draw(B,W.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:W.ALWAYS,mask:0},ge,255,W.KEEP,W.KEEP,W.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,ro(he.projMatrix),"$clipping",T.tileExtentBuffer,T.quadTriangleIndexBuffer,T.tileExtentSegments)}}pointCoordinate(c){const p=this.painter.transform;if(c.x<0||c.x>p.width||c.y<0||c.y>p.height)return null;const T=[c.x,c.y,1,1];s.transformMat4$1(T,T,p.pixelMatrixInverse),s.scale$1(T,T,1/T[3]),T[0]/=p.worldSize,T[1]/=p.worldSize;const B=p._camera.position,W=s.mercatorZfromAltitude(1,p.center.lat),ae=[B[0],B[1],B[2]/W,0],he=s.subtract([],T.slice(0,3),ae);s.normalize(he,he);const ge=this.raycast(ae,he,this._exaggeration);return ge!==null&&ge?(s.scaleAndAdd(ae,ae,he,ge),ae[3]=ae[2],ae[2]*=W,ae):null}drawDepth(){const c=this.painter,p=c.context,T=this.proxySourceCache,B=Math.ceil(c.width),W=Math.ceil(c.height);if(!this._depthFBO||this._depthFBO.width===B&&this._depthFBO.height===W||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const ae=p.gl,he=p.createFramebuffer(B,W,!0);p.activeTexture.set(ae.TEXTURE0);const ge=new s.Texture(p,{width:B,height:W,data:null},ae.RGBA);ge.bind(ae.NEAREST,ae.CLAMP_TO_EDGE),he.colorAttachment.set(ge.texture);const De=p.createRenderbuffer(p.gl.DEPTH_COMPONENT16,B,W);he.depthAttachment.set(De),this._depthFBO=he,this._depthTexture=ge}p.bindFramebuffer.set(this._depthFBO.framebuffer),p.viewport.set([0,0,B,W]),function(ae,he,ge,De){if(ae.transform.projection.name==="globe")return;const Ae=ae.context,je=Ae.gl;Ae.clear({depth:1});const Ze=ae.useProgram("terrainDepth"),at=new s.DepthMode(je.LESS,s.DepthMode.ReadWrite,ae.depthRangeFor3D);for(const lt of De){const ht=ge.getTile(lt),et=Yn(lt.projMatrix,0);he.setupElevationDraw(ht,Ze),Ze.draw(Ae,je.TRIANGLES,at,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.backCCW,et,"terrain_depth",he.gridBuffer,he.gridIndexBuffer,he.gridNoSkirtSegments)}}(c,this,T,this.proxyCoords)}_setupProxiedCoordsForOrtho(c,p,T){if(c.getSource()instanceof Rt)return this._setupProxiedCoordsForImageSource(c,p,T);this._findCoveringTileCache[c.id]=this._findCoveringTileCache[c.id]||{};const B=this.proxiedCoords[c.id]=[],W=this.proxyCoords;for(let he=0;he<W.length;he++){const ge=W[he],De=this._findTileCoveringTileID(ge,c);if(De){const Ae=this._createProxiedId(ge,De,T[ge.key]&&T[ge.key][c.id]);B.push(Ae),this.proxyToSource[ge.key][c.id]=[Ae]}}let ae=!1;for(let he=0;he<p.length;he++){const ge=c.getTile(p[he]);if(!ge||!ge.hasData())continue;const De=this._findTileCoveringTileID(ge.tileID,this.proxySourceCache);if(De&&De.tileID.canonical.z!==ge.tileID.canonical.z){const Ae=this.proxyToSource[De.tileID.key][c.id],je=this._createProxiedId(De.tileID,ge,T[De.tileID.key]&&T[De.tileID.key][c.id]);Ae?Ae.splice(Ae.length-1,0,je):this.proxyToSource[De.tileID.key][c.id]=[je],B.push(je),ae=!0}}this._sourceTilesOverlap[c.id]=ae}_setupProxiedCoordsForImageSource(c,p,T){if(!c.getSource().loaded())return;const B=this.proxiedCoords[c.id]=[],W=this.proxyCoords,ae=c.getSource(),he=new s.pointGeometry(ae.tileID.x,ae.tileID.y)._div(1<<ae.tileID.z),ge=ae.coordinates.map(s.MercatorCoordinate.fromLngLat).reduce((Ae,je)=>(Ae.min.x=Math.min(Ae.min.x,je.x-he.x),Ae.min.y=Math.min(Ae.min.y,je.y-he.y),Ae.max.x=Math.max(Ae.max.x,je.x-he.x),Ae.max.y=Math.max(Ae.max.y,je.y-he.y),Ae),{min:new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new s.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),De=(Ae,je)=>{const Ze=Ae.wrap+Ae.canonical.x/(1<<Ae.canonical.z),at=Ae.canonical.y/(1<<Ae.canonical.z),lt=s.EXTENT/(1<<Ae.canonical.z),ht=je.wrap+je.canonical.x/(1<<je.canonical.z),et=je.canonical.y/(1<<je.canonical.z);return Ze+lt<ht+ge.min.x||Ze>ht+ge.max.x||at+lt<et+ge.min.y||at>et+ge.max.y};for(let Ae=0;Ae<W.length;Ae++){const je=W[Ae];for(let Ze=0;Ze<p.length;Ze++){const at=c.getTile(p[Ze]);if(!at||!at.hasData()||De(je,at.tileID))continue;const lt=this._createProxiedId(je,at,T[je.key]&&T[je.key][c.id]),ht=this.proxyToSource[je.key][c.id];ht?ht.push(lt):this.proxyToSource[je.key][c.id]=[lt],B.push(lt)}}}_createProxiedId(c,p,T){let B=this.orthoMatrix;if(T){const W=T.find(ae=>ae.key===p.tileID.key);if(W)return W}if(p.tileID.key!==c.key){const W=c.canonical.z-p.tileID.canonical.z;let ae,he,ge;B=s.create();const De=p.tileID.wrap-c.wrap<<c.overscaledZ;W>0?(ae=s.EXTENT>>W,he=ae*((p.tileID.canonical.x<<W)-c.canonical.x+De),ge=ae*((p.tileID.canonical.y<<W)-c.canonical.y)):(ae=s.EXTENT<<-W,he=s.EXTENT*(p.tileID.canonical.x-(c.canonical.x+De<<-W)),ge=s.EXTENT*(p.tileID.canonical.y-(c.canonical.y<<-W))),s.ortho(B,0,ae,0,ae,0,1),s.translate(B,B,[he,ge,0])}return new ra(p.tileID,c.key,B)}_findTileCoveringTileID(c,p){let T=p.getTile(c);if(T&&T.hasData())return T;const B=this._findCoveringTileCache[p.id],W=B[c.key];if(T=W?p.getTileByID(W):null,T&&T.hasData()||W===null)return T;let ae=T?T.tileID:c,he=ae.overscaledZ;const ge=p.getSource().minzoom,De=[];if(!W){const je=p.getSource().maxzoom;if(c.canonical.z>=je){const Ze=c.canonical.z-je;p.getSource().reparseOverscaled?(he=Math.max(c.canonical.z+2,p.transform.tileZoom),ae=new s.OverscaledTileID(he,c.wrap,je,c.canonical.x>>Ze,c.canonical.y>>Ze)):Ze!==0&&(he=je,ae=new s.OverscaledTileID(he,c.wrap,je,c.canonical.x>>Ze,c.canonical.y>>Ze))}ae.key!==c.key&&(De.push(ae.key),T=p.getTile(ae))}const Ae=je=>{De.forEach(Ze=>{B[Ze]=je}),De.length=0};for(he-=1;he>=ge&&(!T||!T.hasData());he--){T&&Ae(T.tileID.key);const je=ae.calculateScaledKey(he);if(T=p.getTileByID(je),T&&T.hasData())break;const Ze=B[je];if(Ze===null)break;Ze===void 0?De.push(je):T=p.getTileByID(Ze)}return Ae(T?T.tileID.key:null),T&&T.hasData()?T:null}findDEMTileFor(c){return this.enabled?this._findTileCoveringTileID(c,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(c,p){let T=this._tilesDirty[c];T||(T=this._tilesDirty[c]={}),T[p.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const c=function(p){let T=0;const B=new s.StructArrayLayout2ui4,W=131;for(let ae=1;ae<129;ae++){for(let he=1;he<129;he++)T=ae*W+he,B.emplaceBack(T,T+1),B.emplaceBack(T,T+W),B.emplaceBack(T+1,T+W),ae===128&&B.emplaceBack(T+W,T+W+1);B.emplaceBack(T+1,T+1+W)}return B}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(c),this.wireframeSegments=s.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,c.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class _a{static cacheKey(c,p,T,B){let W=`${p}${B?B.cacheKey:""}`;for(const ae of T)c.usedDefines.includes(ae)&&(W+=`/${ae}`);return W}constructor(c,p,T,B,W,ae){const he=c.gl;this.program=he.createProgram();const ge=function(et){const nt=[];for(let gt=0;gt<et.length;gt++){if(et[gt]===null)continue;const ct=et[gt].split(" ");nt.push(ct.pop())}return nt}(T.staticAttributes),De=B?B.getBinderAttributes():[],Ae=ge.concat(De);let je=B?B.defines():[];je=je.concat(ae.map(et=>`#define ${et}`));const Ze=je.concat(c.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(ki):ki,ki,gi,Kt.fragmentSource,Bt.fragmentSource,T.fragmentSource).join(`
`),at=je.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,gi,Kt.vertexSource,Bt.vertexSource,Je.vertexSource,T.vertexSource).join(`
`),lt=he.createShader(he.FRAGMENT_SHADER);if(he.isContextLost())return void(this.failedToCreate=!0);he.shaderSource(lt,Ze),he.compileShader(lt),he.attachShader(this.program,lt);const ht=he.createShader(he.VERTEX_SHADER);if(he.isContextLost())this.failedToCreate=!0;else{he.shaderSource(ht,at),he.compileShader(ht),he.attachShader(this.program,ht),this.attributes={},this.numAttributes=Ae.length;for(let et=0;et<this.numAttributes;et++)Ae[et]&&(he.bindAttribLocation(this.program,et,Ae[et]),this.attributes[Ae[et]]=et);he.linkProgram(this.program),he.deleteShader(ht),he.deleteShader(lt),this.fixedUniforms=W(c),this.binderUniforms=B?B.getUniforms(c):[],ae.includes("TERRAIN")&&(this.terrainUniforms=(et=>({u_dem:new s.Uniform1i(et),u_dem_prev:new s.Uniform1i(et),u_dem_unpack:new s.Uniform4f(et),u_dem_tl:new s.Uniform2f(et),u_dem_scale:new s.Uniform1f(et),u_dem_tl_prev:new s.Uniform2f(et),u_dem_scale_prev:new s.Uniform1f(et),u_dem_size:new s.Uniform1f(et),u_dem_lerp:new s.Uniform1f(et),u_exaggeration:new s.Uniform1f(et),u_depth:new s.Uniform1i(et),u_depth_size_inv:new s.Uniform2f(et),u_meter_to_dem:new s.Uniform1f(et),u_label_plane_matrix_inv:new s.UniformMatrix4f(et)}))(c)),ae.includes("GLOBE")&&(this.globeUniforms=(et=>({u_tile_tl_up:new s.Uniform3f(et),u_tile_tr_up:new s.Uniform3f(et),u_tile_br_up:new s.Uniform3f(et),u_tile_bl_up:new s.Uniform3f(et),u_tile_up_scale:new s.Uniform1f(et)}))(c)),ae.includes("FOG")&&(this.fogUniforms=(et=>({u_fog_matrix:new s.UniformMatrix4f(et),u_fog_range:new s.Uniform2f(et),u_fog_color:new s.Uniform4f(et),u_fog_horizon_blend:new s.Uniform1f(et),u_fog_temporal_offset:new s.Uniform1f(et),u_frustum_tl:new s.Uniform3f(et),u_frustum_tr:new s.Uniform3f(et),u_frustum_br:new s.Uniform3f(et),u_frustum_bl:new s.Uniform3f(et),u_globe_pos:new s.Uniform3f(et),u_globe_radius:new s.Uniform1f(et),u_globe_transition:new s.Uniform1f(et),u_is_globe:new s.Uniform1i(et),u_viewport:new s.Uniform2f(et)}))(c))}}setTerrainUniformValues(c,p){if(!this.terrainUniforms)return;const T=this.terrainUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const B in p)T[B]&&T[B].set(this.program,B,p[B])}}setGlobeUniformValues(c,p){if(!this.globeUniforms)return;const T=this.globeUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const B in p)T[B]&&T[B].set(this.program,B,p[B])}}setFogUniformValues(c,p){if(!this.fogUniforms)return;const T=this.fogUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const B in p)T[B].set(this.program,B,p[B])}}draw(c,p,T,B,W,ae,he,ge,De,Ae,je,Ze,at,lt,ht){const et=c.gl;if(this.failedToCreate)return;c.program.set(this.program),c.setDepthMode(T),c.setStencilMode(B),c.setColorMode(W),c.setCullFace(ae);for(const gt of Object.keys(this.fixedUniforms))this.fixedUniforms[gt].set(this.program,gt,he[gt]);lt&&lt.setUniforms(this.program,c,this.binderUniforms,Ze,{zoom:at});const nt={[et.LINES]:2,[et.TRIANGLES]:3,[et.LINE_STRIP]:1}[p];for(const gt of je.get()){const ct=gt.vaos||(gt.vaos={});(ct[ge]||(ct[ge]=new Zn)).bind(c,this,De,lt?lt.getPaintVertexBuffers():[],Ae,gt.vertexOffset,ht||[]),et.drawElements(p,gt.primitiveLength*nt,et.UNSIGNED_SHORT,gt.primitiveOffset*nt*2)}}}function ec(_,c){const p=Math.pow(2,c.tileID.overscaledZ),T=c.tileSize*Math.pow(2,_.transform.tileZoom)/p,B=T*(c.tileID.canonical.x+c.tileID.wrap*p),W=T*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_tile_units_to_pixels:1/F(c,1,_.transform.tileZoom),u_pixel_coord_upper:[B>>16,W>>16],u_pixel_coord_lower:[65535&B,65535&W]}}const ll=s.create(),Ad=(_,c,p,T,B,W,ae,he,ge,De,Ae)=>{const je=c.style.light,Ze=je.properties.get("position"),at=[Ze.x,Ze.y,Ze.z],lt=s.create$1();je.properties.get("anchor")==="viewport"&&(s.fromRotation(lt,-c.transform.angle),s.transformMat3(at,at,lt));const ht=je.properties.get("color"),et=c.transform,nt={u_matrix:_,u_lightpos:at,u_lightintensity:je.properties.get("intensity"),u_lightcolor:[ht.r,ht.g,ht.b],u_vertical_gradient:+p,u_opacity:T,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ll,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:B,u_edge_radius:W};return et.projection.name==="globe"&&(nt.u_tile_id=[ae.canonical.x,ae.canonical.y,1<<ae.canonical.z],nt.u_zoom_transition=ge,nt.u_inv_rot_matrix=Ae,nt.u_merc_center=De,nt.u_up_dir=et.projection.upVector(new s.CanonicalTileID(0,0,0),De[0]*s.EXTENT,De[1]*s.EXTENT),nt.u_height_lift=he),nt},jr=(_,c,p,T,B,W,ae,he,ge,De,Ae,je)=>{const Ze=Ad(_,c,p,T,B,W,ae,ge,De,Ae,je),at={u_height_factor:-Math.pow(2,ae.overscaledZ)/he.tileSize/8};return s.extend(Ze,ec(c,he),at)},va=_=>({u_matrix:_}),Jc=(_,c,p)=>s.extend(va(_),ec(c,p)),tc=(_,c)=>({u_matrix:_,u_world:c}),No=(_,c,p,T)=>s.extend(Jc(_,c,p),{u_world:T}),ic=s.create(),Tc=(_,c,p,T,B,W)=>{const ae=_.transform,he=ae.projection.name==="globe";let ge;if(W.paint.get("circle-pitch-alignment")==="map")if(he){const Ae=s.globePixelsToTileUnits(ae.zoom,c.canonical)*ae._pixelsPerMercatorPixel;ge=Float32Array.from([Ae,0,0,Ae])}else ge=ae.calculatePixelsToTileUnitsMatrix(p);else ge=new Float32Array([ae.pixelsToGLUnits[0],0,0,ae.pixelsToGLUnits[1]]);const De={u_camera_to_center_distance:ae.cameraToCenterDistance,u_matrix:_.translatePosMatrix(c.projMatrix,p,W.paint.get("circle-translate"),W.paint.get("circle-translate-anchor")),u_device_pixel_ratio:s.exported.devicePixelRatio,u_extrude_scale:ge,u_inv_rot_matrix:ic,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(he){De.u_inv_rot_matrix=T,De.u_merc_center=B,De.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],De.u_zoom_transition=s.globeToMercatorTransition(ae.zoom);const Ae=B[0]*s.EXTENT,je=B[1]*s.EXTENT;De.u_up_dir=ae.projection.upVector(new s.CanonicalTileID(0,0,0),Ae,je)}return De},lu=_=>{const c=[];return _.paint.get("circle-pitch-alignment")==="map"&&c.push("PITCH_WITH_MAP"),_.paint.get("circle-pitch-scale")==="map"&&c.push("SCALE_WITH_MAP"),c},nc=(_,c,p,T)=>{const B=s.EXTENT/p.tileSize;return{u_matrix:_,u_camera_to_center_distance:c.getCameraToCenterDistance(T),u_extrude_scale:[c.pixelsToGLUnits[0]/B,c.pixelsToGLUnits[1]/B]}},rc=(_,c,p=1)=>({u_matrix:_,u_color:c,u_overlay:0,u_overlay_scale:p}),Lu=s.create(),sc=(_,c,p,T,B,W,ae)=>{const he=_.transform,ge=he.projection.name==="globe",De=ge?s.globePixelsToTileUnits(he.zoom,c.canonical)*he._pixelsPerMercatorPixel:F(p,1,W),Ae={u_matrix:c.projMatrix,u_extrude_scale:De,u_intensity:ae,u_inv_rot_matrix:Lu,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(ge){Ae.u_inv_rot_matrix=T,Ae.u_merc_center=B,Ae.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],Ae.u_zoom_transition=s.globeToMercatorTransition(he.zoom);const je=B[0]*s.EXTENT,Ze=B[1]*s.EXTENT;Ae.u_up_dir=he.projection.upVector(new s.CanonicalTileID(0,0,0),je,Ze)}return Ae},cu=(_,c,p,T,B,W,ae)=>{const he=_.transform,ge=he.calculatePixelsToTileUnitsMatrix(c);return{u_matrix:oc(_,c,p,T),u_pixels_to_tile_units:ge,u_device_pixel_ratio:W,u_units_to_pixels:[1/he.pixelsToGLUnits[0],1/he.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:B,u_texsize:Pd(p)?c.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Aa(c,_.transform),u_alpha_discard_threshold:0,u_trim_offset:ae}},ka=(_,c,p,T,B)=>{const W=_.transform;return{u_matrix:oc(_,c,p,T),u_texsize:c.imageAtlasTexture.size,u_pixels_to_tile_units:W.calculatePixelsToTileUnitsMatrix(c),u_device_pixel_ratio:B,u_image:0,u_tile_units_to_pixels:Aa(c,W),u_units_to_pixels:[1/W.pixelsToGLUnits[0],1/W.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Aa(_,c){return 1/F(_,1,c.tileZoom)}function oc(_,c,p,T){return _.translatePosMatrix(T||c.tileID.projMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}function Pd(_){const c=_.paint.get("line-dasharray").value;return c.value||c.kind!=="constant"}const Sc=(_,c,p,T,B,W)=>{return{u_matrix:_,u_tl_parent:c,u_scale_parent:p,u_fade_t:T.mix,u_opacity:T.opacity*B.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:B.paint.get("raster-brightness-min"),u_brightness_high:B.paint.get("raster-brightness-max"),u_saturation_factor:(he=B.paint.get("raster-saturation"),he>0?1-1/(1.001-he):-he),u_contrast_factor:(ae=B.paint.get("raster-contrast"),ae>0?1/(1-ae):1+ae),u_spin_weights:sa(B.paint.get("raster-hue-rotate")),u_perspective_transform:W};var ae,he};function sa(_){_*=Math.PI/180;const c=Math.sin(_),p=Math.cos(_);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const vo=s.create(),Tl=(_,c,p,T,B,W,ae,he,ge,De,Ae,je,Ze,at,lt,ht)=>{const et=B.transform,nt={u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:et.cameraToCenterDistance,u_rotate_symbol:+p,u_aspect_ratio:et.width/et.height,u_fade_change:B.options.fadeDuration?B.symbolFadeChange:1,u_matrix:W,u_label_plane_matrix:ae,u_coord_matrix:he,u_is_text:+ge,u_pitch_with_map:+T,u_texsize:De,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:vo,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:vo,u_up_vector:[0,-1,0]};return ht.name==="globe"&&(nt.u_tile_id=[Ae.canonical.x,Ae.canonical.y,1<<Ae.canonical.z],nt.u_zoom_transition=je,nt.u_inv_rot_matrix=at,nt.u_merc_center=Ze,nt.u_camera_forward=et._camera.forward(),nt.u_ecef_origin=s.globeECEFOrigin(et.globeMatrix,Ae.toUnwrapped()),nt.u_tile_matrix=Float32Array.from(et.globeMatrix),nt.u_up_vector=lt),nt},ac=(_,c,p,T,B,W,ae,he,ge,De,Ae,je,Ze,at,lt,ht,et)=>s.extend(Tl(_,c,p,T,B,W,ae,he,ge,De,je,Ze,at,lt,ht,et),{u_gamma_scale:T?B.transform.cameraToCenterDistance*Math.cos(B.terrain?0:B.transform._pitch):1,u_device_pixel_ratio:s.exported.devicePixelRatio,u_is_halo:+Ae}),Cc=(_,c,p,T,B,W,ae,he,ge,De,Ae,je,Ze,at,lt,ht)=>s.extend(ac(_,c,p,T,B,W,ae,he,!0,ge,!0,Ae,je,Ze,at,lt,ht),{u_texsize_icon:De,u_texture_icon:1}),yh=(_,c,p)=>({u_matrix:_,u_opacity:c,u_color:p}),xr=(_,c,p,T,B)=>s.extend(function(W,ae,he){const ge=ae.imageManager.getPattern(W.toString()),{width:De,height:Ae}=ae.imageManager.getPixelSize(),je=Math.pow(2,he.tileID.overscaledZ),Ze=he.tileSize*Math.pow(2,ae.transform.tileZoom)/je,at=Ze*(he.tileID.canonical.x+he.tileID.wrap*je),lt=Ze*he.tileID.canonical.y;return{u_image:0,u_pattern_tl:ge.tl,u_pattern_br:ge.br,u_texsize:[De,Ae],u_pattern_size:ge.displaySize,u_tile_units_to_pixels:1/F(he,1,ae.transform.tileZoom),u_pixel_coord_upper:[at>>16,lt>>16],u_pixel_coord_lower:[65535&at,65535&lt]}}(T,p,B),{u_matrix:_,u_opacity:c}),Wo={fillExtrusion:_=>({u_matrix:new s.UniformMatrix4f(_),u_lightpos:new s.Uniform3f(_),u_lightintensity:new s.Uniform1f(_),u_lightcolor:new s.Uniform3f(_),u_vertical_gradient:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_edge_radius:new s.Uniform1f(_),u_ao:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_up_dir:new s.Uniform3f(_),u_height_lift:new s.Uniform1f(_)}),fillExtrusionPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_lightpos:new s.Uniform3f(_),u_lightintensity:new s.Uniform1f(_),u_lightcolor:new s.Uniform3f(_),u_vertical_gradient:new s.Uniform1f(_),u_height_factor:new s.Uniform1f(_),u_edge_radius:new s.Uniform1f(_),u_ao:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_up_dir:new s.Uniform3f(_),u_height_lift:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_)}),fill:_=>({u_matrix:new s.UniformMatrix4f(_)}),fillPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),fillOutline:_=>({u_matrix:new s.UniformMatrix4f(_),u_world:new s.Uniform2f(_)}),fillOutlinePattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_world:new s.Uniform2f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),circle:_=>({u_camera_to_center_distance:new s.Uniform1f(_),u_extrude_scale:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_up_dir:new s.Uniform3f(_)}),collisionBox:_=>({u_matrix:new s.UniformMatrix4f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_extrude_scale:new s.Uniform2f(_)}),collisionCircle:_=>({u_matrix:new s.UniformMatrix4f(_),u_inv_matrix:new s.UniformMatrix4f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_viewport_size:new s.Uniform2f(_)}),debug:_=>({u_color:new s.UniformColor(_),u_matrix:new s.UniformMatrix4f(_),u_overlay:new s.Uniform1i(_),u_overlay_scale:new s.Uniform1f(_)}),clippingMask:_=>({u_matrix:new s.UniformMatrix4f(_)}),heatmap:_=>({u_extrude_scale:new s.Uniform1f(_),u_intensity:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_up_dir:new s.Uniform3f(_)}),heatmapTexture:_=>({u_image:new s.Uniform1i(_),u_color_ramp:new s.Uniform1i(_),u_opacity:new s.Uniform1f(_)}),hillshade:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_latrange:new s.Uniform2f(_),u_light:new s.Uniform2f(_),u_shadow:new s.UniformColor(_),u_highlight:new s.UniformColor(_),u_accent:new s.UniformColor(_)}),hillshadePrepare:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_dimension:new s.Uniform2f(_),u_zoom:new s.Uniform1f(_),u_unpack:new s.Uniform4f(_)}),line:_=>({u_matrix:new s.UniformMatrix4f(_),u_pixels_to_tile_units:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_units_to_pixels:new s.Uniform2f(_),u_dash_image:new s.Uniform1i(_),u_gradient_image:new s.Uniform1i(_),u_image_height:new s.Uniform1f(_),u_texsize:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_alpha_discard_threshold:new s.Uniform1f(_),u_trim_offset:new s.Uniform2f(_)}),linePattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_texsize:new s.Uniform2f(_),u_pixels_to_tile_units:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_units_to_pixels:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_alpha_discard_threshold:new s.Uniform1f(_)}),raster:_=>({u_matrix:new s.UniformMatrix4f(_),u_tl_parent:new s.Uniform2f(_),u_scale_parent:new s.Uniform1f(_),u_fade_t:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_image0:new s.Uniform1i(_),u_image1:new s.Uniform1i(_),u_brightness_low:new s.Uniform1f(_),u_brightness_high:new s.Uniform1f(_),u_saturation_factor:new s.Uniform1f(_),u_contrast_factor:new s.Uniform1f(_),u_spin_weights:new s.Uniform3f(_),u_perspective_transform:new s.Uniform2f(_)}),symbolIcon:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_camera_forward:new s.Uniform3f(_),u_tile_matrix:new s.UniformMatrix4f(_),u_up_vector:new s.Uniform3f(_),u_ecef_origin:new s.Uniform3f(_),u_texture:new s.Uniform1i(_)}),symbolSDF:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_texture:new s.Uniform1i(_),u_gamma_scale:new s.Uniform1f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_camera_forward:new s.Uniform3f(_),u_tile_matrix:new s.UniformMatrix4f(_),u_up_vector:new s.Uniform3f(_),u_ecef_origin:new s.Uniform3f(_),u_is_halo:new s.Uniform1i(_)}),symbolTextAndIcon:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_texsize_icon:new s.Uniform2f(_),u_texture:new s.Uniform1i(_),u_texture_icon:new s.Uniform1i(_),u_gamma_scale:new s.Uniform1f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_is_halo:new s.Uniform1i(_)}),background:_=>({u_matrix:new s.UniformMatrix4f(_),u_opacity:new s.Uniform1f(_),u_color:new s.UniformColor(_)}),backgroundPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_opacity:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_pattern_tl:new s.Uniform2f(_),u_pattern_br:new s.Uniform2f(_),u_texsize:new s.Uniform2f(_),u_pattern_size:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),terrainRaster:mr,terrainDepth:mr,skybox:_=>({u_matrix:new s.UniformMatrix4f(_),u_sun_direction:new s.Uniform3f(_),u_cubemap:new s.Uniform1i(_),u_opacity:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_)}),skyboxGradient:_=>({u_matrix:new s.UniformMatrix4f(_),u_color_ramp:new s.Uniform1i(_),u_center_direction:new s.Uniform3f(_),u_radius:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_)}),skyboxCapture:_=>({u_matrix_3f:new s.UniformMatrix3f(_),u_sun_direction:new s.Uniform3f(_),u_sun_intensity:new s.Uniform1f(_),u_color_tint_r:new s.Uniform4f(_),u_color_tint_m:new s.Uniform4f(_),u_luminance:new s.Uniform1f(_)}),globeRaster:_=>({u_proj_matrix:new s.UniformMatrix4f(_),u_globe_matrix:new s.UniformMatrix4f(_),u_normalize_matrix:new s.UniformMatrix4f(_),u_merc_matrix:new s.UniformMatrix4f(_),u_zoom_transition:new s.Uniform1f(_),u_merc_center:new s.Uniform2f(_),u_image0:new s.Uniform1i(_),u_grid_matrix:new s.UniformMatrix3f(_),u_frustum_tl:new s.Uniform3f(_),u_frustum_tr:new s.Uniform3f(_),u_frustum_br:new s.Uniform3f(_),u_frustum_bl:new s.Uniform3f(_),u_globe_pos:new s.Uniform3f(_),u_globe_radius:new s.Uniform1f(_),u_viewport:new s.Uniform2f(_)}),globeAtmosphere:_=>({u_frustum_tl:new s.Uniform3f(_),u_frustum_tr:new s.Uniform3f(_),u_frustum_br:new s.Uniform3f(_),u_frustum_bl:new s.Uniform3f(_),u_horizon:new s.Uniform1f(_),u_transition:new s.Uniform1f(_),u_fadeout_range:new s.Uniform1f(_),u_color:new s.Uniform4f(_),u_high_color:new s.Uniform4f(_),u_space_color:new s.Uniform4f(_),u_star_intensity:new s.Uniform1f(_),u_star_density:new s.Uniform1f(_),u_star_size:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_),u_horizon_angle:new s.Uniform1f(_),u_rotation_matrix:new s.UniformMatrix4f(_)})};let xo;function oa(_,c,p,T,B,W,ae){const he=_.context,ge=he.gl,De=_.transform,Ae=_.useProgram("collisionBox"),je=[];let Ze=0,at=0;for(let wt=0;wt<T.length;wt++){const Dt=T[wt],Ct=c.getTile(Dt),jt=Ct.getBucket(p);if(!jt)continue;const ii=ma(Dt,jt,De);let Jt=ii;B[0]===0&&B[1]===0||(Jt=_.translatePosMatrix(ii,Ct,B,W));const Gt=ae?jt.textCollisionBox:jt.iconCollisionBox,Mi=jt.collisionCircleArray;if(Mi.length>0){const Xt=s.create(),_i=Jt;s.mul(Xt,jt.placementInvProjMatrix,De.glCoordMatrix),s.mul(Xt,Xt,jt.placementViewportMatrix),je.push({circleArray:Mi,circleOffset:at,transform:_i,invTransform:Xt,projection:jt.getProjection()}),Ze+=Mi.length/4,at=Ze}Gt&&(_.terrain&&_.terrain.setupElevationDraw(Ct,Ae),Ae.draw(he,ge.LINES,s.DepthMode.disabled,s.StencilMode.disabled,_.colorModeForRenderPass(),s.CullFaceMode.disabled,nc(Jt,De,Ct,jt.getProjection()),p.id,Gt.layoutVertexBuffer,Gt.indexBuffer,Gt.segments,null,De.zoom,null,[Gt.collisionVertexBuffer,Gt.collisionVertexBufferExt]))}if(!ae||!je.length)return;const lt=_.useProgram("collisionCircle"),ht=new s.StructArrayLayout2f1f2i16;ht.resize(4*Ze),ht._trim();let et=0;for(const wt of je)for(let Dt=0;Dt<wt.circleArray.length/4;Dt++){const Ct=4*Dt,jt=wt.circleArray[Ct+0],ii=wt.circleArray[Ct+1],Jt=wt.circleArray[Ct+2],Gt=wt.circleArray[Ct+3];ht.emplace(et++,jt,ii,Jt,Gt,0),ht.emplace(et++,jt,ii,Jt,Gt,1),ht.emplace(et++,jt,ii,Jt,Gt,2),ht.emplace(et++,jt,ii,Jt,Gt,3)}(!xo||xo.length<2*Ze)&&(xo=function(wt){const Dt=2*wt,Ct=new s.StructArrayLayout3ui6;Ct.resize(Dt),Ct._trim();for(let jt=0;jt<Dt;jt++){const ii=6*jt;Ct.uint16[ii+0]=4*jt+0,Ct.uint16[ii+1]=4*jt+1,Ct.uint16[ii+2]=4*jt+2,Ct.uint16[ii+3]=4*jt+2,Ct.uint16[ii+4]=4*jt+3,Ct.uint16[ii+5]=4*jt+0}return Ct}(Ze));const nt=he.createIndexBuffer(xo,!0),gt=he.createVertexBuffer(ht,s.collisionCircleLayout.members,!0);for(const wt of je){const Dt={u_matrix:wt.transform,u_inv_matrix:wt.invTransform,u_camera_to_center_distance:(ct=De).getCameraToCenterDistance(wt.projection),u_viewport_size:[ct.width,ct.height]};lt.draw(he,ge.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,_.colorModeForRenderPass(),s.CullFaceMode.disabled,Dt,p.id,gt,nt,s.SegmentVector.simpleSegment(0,2*wt.circleOffset,wt.circleArray.length,wt.circleArray.length/2),null,De.zoom)}var ct;gt.destroy(),nt.destroy()}const Sl=s.create();function Ou({width:_,height:c,anchor:p,textOffset:T,textScale:B},W){const{horizontalAlign:ae,verticalAlign:he}=s.getAnchorAlignment(p),ge=-(ae-.5)*_,De=-(he-.5)*c,Ae=s.evaluateVariableOffset(p,T);return new s.pointGeometry((ge/B+Ae[0])*W,(De/B+Ae[1])*W)}function Ru(_,c,p,T,B,W,ae,he,ge,De,Ae){const je=_.text.placedSymbolArray,Ze=_.text.dynamicLayoutVertexArray,at=_.icon.dynamicLayoutVertexArray,lt={},ht=_.getProjection(),et=vl(he,ht,W),nt=W.elevation,gt=ht.upVectorScale(he.canonical,W.center.lat,W.worldSize).metersToTile;Ze.clear();for(let ct=0;ct<je.length;ct++){const wt=je.get(ct),{tileAnchorX:Dt,tileAnchorY:Ct,numGlyphs:jt}=wt,ii=_.allowVerticalPlacement&&!wt.placedOrientation,Jt=wt.hidden||!wt.crossTileID||ii?null:T[wt.crossTileID];if(Jt){let Gt=0,Mi=0,Xt=0;if(nt){const mn=nt?nt.getAtTileOffset(he,Dt,Ct):0,[Sn,gn,Un]=ht.upVector(he.canonical,Dt,Ct);Gt=mn*Sn*gt,Mi=mn*gn*gt,Xt=mn*Un*gt}let[_i,ri,Ri,si]=uo(wt.projectedAnchorX+Gt,wt.projectedAnchorY+Mi,wt.projectedAnchorZ+Xt,p?et:ae);const Si=Qi(W.getCameraToCenterDistance(ht),si);let Ni=B.evaluateSizeForFeature(_.textSizeData,De,wt)*Si/s.ONE_EM;p&&(Ni*=_.tilePixelRatio/ge);const Yt=Ou(Jt,Ni);p?({x:_i,y:ri,z:Ri}=ht.projectTilePoint(Dt+Yt.x,Ct+Yt.y,he.canonical),[_i,ri,Ri]=uo(_i+Gt,ri+Mi,Ri+Xt,ae)):(c&&Yt._rotate(-W.angle),_i+=Yt.x,ri+=Yt.y,Ri=0);const ni=_.allowVerticalPlacement&&wt.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let mn=0;mn<jt;mn++)s.addDynamicAttributes(Ze,_i,ri,Ri,ni);Ae&&wt.associatedIconIndex>=0&&(lt[wt.associatedIconIndex]={x:_i,y:ri,z:Ri,angle:ni})}else Qs(jt,Ze)}if(Ae){at.clear();const ct=_.icon.placedSymbolArray;for(let wt=0;wt<ct.length;wt++){const Dt=ct.get(wt),{numGlyphs:Ct}=Dt,jt=lt[wt];if(Dt.hidden||!jt)Qs(Ct,at);else{const{x:ii,y:Jt,z:Gt,angle:Mi}=jt;for(let Xt=0;Xt<Ct;Xt++)s.addDynamicAttributes(at,ii,Jt,Gt,Mi)}}_.icon.dynamicLayoutVertexBuffer.updateData(at)}_.text.dynamicLayoutVertexBuffer.updateData(Ze)}function Bu(_,c,p){return p.iconsInText&&c?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function Yo(_,c,p,T,B,W,ae,he,ge,De,Ae,je){const Ze=_.context,at=Ze.gl,lt=_.transform,ht=he==="map",et=ge==="map",nt=ht&&p.layout.get("symbol-placement")!=="point",gt=ht&&!et&&!nt,ct=p.layout.get("symbol-sort-key").constantOr(1)!==void 0;let wt=!1;const Dt=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),Ct=[s.mercatorXfromLng(lt.center.lng),s.mercatorYfromLat(lt.center.lat)],jt=p.layout.get("text-variable-anchor"),ii=lt.projection.name==="globe",Jt=[],Gt=[0,-1,0];let Mi=Gt;!ii&&!lt.mercatorFromTransition||ht||(Mi=function(Xt){const _i=Xt._camera.getWorldToCamera(Xt.worldSize,1),ri=s.multiply([],_i,Xt.globeMatrix);s.invert(ri,ri);const Ri=[0,0,0],si=[0,1,0,0];return s.transformMat4$1(si,si,ri),Ri[0]=si[0],Ri[1]=si[1],Ri[2]=si[2],s.normalize(Ri,Ri),Ri}(lt));for(const Xt of T){const _i=c.getTile(Xt),ri=_i.getBucket(p);if(!ri||ri.projection.name==="mercator"&&ii)continue;const Ri=B?ri.text:ri.icon;if(!Ri||ri.fullyClipped||!Ri.segments.get().length)continue;const si=Ri.programConfigurations.get(p.id),Si=B||ri.sdfIcons,Ni=B?ri.textSizeData:ri.iconSizeData,Yt=et||lt.pitch!==0,ni=s.evaluateSizeForZoom(Ni,lt.zoom);let mn,Sn,gn,Un,lr=[0,0],kn=null;if(B){if(Sn=_i.glyphAtlasTexture,gn=at.LINEAR,mn=_i.glyphAtlasTexture.size,ri.iconsInText){lr=_i.imageAtlasTexture.size,kn=_i.imageAtlasTexture;const Xa=Ni.kind==="composite"||Ni.kind==="camera";Un=Yt||_.options.rotating||_.options.zooming||Xa?at.LINEAR:at.NEAREST}}else{const Xa=p.layout.get("icon-size").constantOr(0)!==1||ri.iconsNeedLinear;Sn=_i.imageAtlasTexture,gn=Si||_.options.rotating||_.options.zooming||Xa||Yt?at.LINEAR:at.NEAREST,mn=_i.imageAtlasTexture.size}const dn=ri.projection.name==="globe",is=dn?Mi:Gt,Hr=dn?s.globeToMercatorTransition(lt.zoom):0,ss=vl(Xt,ri.getProjection(),lt),es=lt.calculatePixelsToTileUnitsMatrix(_i),qa=Po(ss,_i.tileID.canonical,et,ht,lt,ri.getProjection(),es),Pa=_.terrain&&et&&nt?s.invert(s.create(),qa):Sl,xa=ou(ss,_i.tileID.canonical,et,ht,lt,ri.getProjection(),es),cc=jt&&ri.hasTextData(),gs=p.layout.get("icon-text-fit")!=="none"&&cc&&ri.hasIconData();if(nt){const Xa=lt.elevation,Pc=Xa?Xa.getAtTileOffsetFunc(Xt,lt.center.lat,lt.worldSize,ri.getProjection()):null,Ml=qc(ss,_i.tileID.canonical,et,ht,lt,ri.getProjection(),es);dr(ri,ss,_,B,Ml,xa,et,De,Pc,Xt)}const ts=nt||B&&jt||gs,$r=_.translatePosMatrix(ss,_i,W,ae),oo=ts?Sl:qa,aa=_.translatePosMatrix(xa,_i,W,ae,!0),ys=ri.getProjection().createInversionMatrix(lt,Xt.canonical),ba=[];_.terrainRenderModeElevated()&&et&&ba.push("PITCH_WITH_MAP_TERRAIN"),dn&&ba.push("PROJECTION_GLOBE_VIEW"),ts&&ba.push("PROJECTED_POS_ON_VIEWPORT");const Th=Si&&p.paint.get(B?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let dc;dc=Si?ri.iconsInText?Cc(Ni.kind,ni,gt,et,_,$r,oo,aa,mn,lr,Xt,Hr,Ct,ys,is,ri.getProjection()):ac(Ni.kind,ni,gt,et,_,$r,oo,aa,B,mn,!0,Xt,Hr,Ct,ys,is,ri.getProjection()):Tl(Ni.kind,ni,gt,et,_,$r,oo,aa,B,mn,Xt,Hr,Ct,ys,is,ri.getProjection());const la={program:_.useProgram(Bu(Si,B,ri),si,ba),buffers:Ri,uniformValues:dc,atlasTexture:Sn,atlasTextureIcon:kn,atlasInterpolation:gn,atlasInterpolationIcon:Un,isSDF:Si,hasHalo:Th,tile:_i,labelPlaneMatrixInv:Pa};if(ct&&ri.canOverlap){wt=!0;const Xa=Ri.segments.get();for(const Pc of Xa)Jt.push({segments:new s.SegmentVector([Pc]),sortKey:Pc.sortKey,state:la})}else Jt.push({segments:Ri.segments,sortKey:0,state:la})}wt&&Jt.sort((Xt,_i)=>Xt.sortKey-_i.sortKey);for(const Xt of Jt){const _i=Xt.state;if(_.terrain&&_.terrain.setupElevationDraw(_i.tile,_i.program,{useDepthForOcclusion:!ii,labelPlaneMatrixInv:_i.labelPlaneMatrixInv}),Ze.activeTexture.set(at.TEXTURE0),_i.atlasTexture.bind(_i.atlasInterpolation,at.CLAMP_TO_EDGE),_i.atlasTextureIcon&&(Ze.activeTexture.set(at.TEXTURE1),_i.atlasTextureIcon&&_i.atlasTextureIcon.bind(_i.atlasInterpolationIcon,at.CLAMP_TO_EDGE)),_i.isSDF){const ri=_i.uniformValues;_i.hasHalo&&(ri.u_is_halo=1,$t(_i.buffers,Xt.segments,p,_,_i.program,Dt,Ae,je,ri)),ri.u_is_halo=0}$t(_i.buffers,Xt.segments,p,_,_i.program,Dt,Ae,je,_i.uniformValues)}}function $t(_,c,p,T,B,W,ae,he,ge){const De=T.context,Ae=[_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer,_.globeExtVertexBuffer];B.draw(De,De.gl.TRIANGLES,W,ae,he,s.CullFaceMode.disabled,ge,p.id,_.layoutVertexBuffer,_.indexBuffer,c,p.paint,T.transform.zoom,_.programConfigurations.get(p.id),Ae)}function bi(_,c,p,T,B,W,ae){const he=_.context.gl,ge=p.paint.get("fill-pattern"),De=ge&&ge.constantOr(1);let Ae,je,Ze,at,lt;ae?(je=De&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ae=he.LINES):(je=De?"fillPattern":"fill",Ae=he.TRIANGLES);for(const ht of T){const et=c.getTile(ht);if(De&&!et.patternsLoaded())continue;const nt=et.getBucket(p);if(!nt)continue;_.prepareDrawTile();const gt=nt.programConfigurations.get(p.id),ct=_.useProgram(je,gt);De&&(_.context.activeTexture.set(he.TEXTURE0),et.imageAtlasTexture.bind(he.LINEAR,he.CLAMP_TO_EDGE),gt.updatePaintBuffers());const wt=ge.constantOr(null);if(wt&&et.imageAtlas){const Ct=et.imageAtlas.patternPositions[wt.toString()];Ct&&gt.setConstantPatternPositions(Ct)}const Dt=_.translatePosMatrix(ht.projMatrix,et,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(ae){at=nt.indexBuffer2,lt=nt.segments2;const Ct=_.terrain&&_.terrain.renderingToTexture?_.terrain.drapeBufferSize:[he.drawingBufferWidth,he.drawingBufferHeight];Ze=je==="fillOutlinePattern"&&De?No(Dt,_,et,Ct):tc(Dt,Ct)}else at=nt.indexBuffer,lt=nt.segments,Ze=De?Jc(Dt,_,et):va(Dt);_.prepareDrawProgram(_.context,ct,ht.toUnwrapped()),ct.draw(_.context,Ae,B,_.stencilModeForClipping(ht),W,s.CullFaceMode.disabled,Ze,p.id,nt.layoutVertexBuffer,at,lt,p.paint,_.transform.zoom,gt)}}function pi(_,c,p,T,B,W,ae){const he=_.context,ge=he.gl,De=_.transform,Ae=p.paint.get("fill-extrusion-pattern"),je=Ae.constantOr(1),Ze=p.paint.get("fill-extrusion-opacity"),at=[p.paint.get("fill-extrusion-ambient-occlusion-intensity"),p.paint.get("fill-extrusion-ambient-occlusion-radius")],lt=p.layout.get("fill-extrusion-edge-radius"),ht=De.projection.name==="globe"?s.fillExtrusionHeightLift():0,et=De.projection.name==="globe",nt=et?s.globeToMercatorTransition(De.zoom):0,gt=[s.mercatorXfromLng(De.center.lng),s.mercatorYfromLat(De.center.lat)],ct=[];et&&(ct.push("PROJECTION_GLOBE_VIEW"),_.style.terrainSetForDrapingOnly()&&ct.push("TERRAIN")),at[0]>0&&ct.push("FAUX_AO");for(const wt of T){const Dt=c.getTile(wt),Ct=Dt.getBucket(p);if(!Ct||Ct.projection.name!==De.projection.name)continue;const jt=Ct.programConfigurations.get(p.id),ii=_.useProgram(je?"fillExtrusionPattern":"fillExtrusion",jt,ct);if(_.terrain){const Ri=_.terrain;if(_.style.terrainSetForDrapingOnly())Ri.setupElevationDraw(Dt,ii,{useMeterToDem:!0});else{if(!Ct.enableTerrain)continue;if(Ri.setupElevationDraw(Dt,ii,{useMeterToDem:!0}),fn(he,c,wt,Ct,p,Ri),!Ct.centroidVertexBuffer){const si=ii.attributes.a_centroid_pos;si!==void 0&&ge.vertexAttrib2f(si,0,0)}}}je&&(_.context.activeTexture.set(ge.TEXTURE0),Dt.imageAtlasTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),jt.updatePaintBuffers());const Jt=Ae.constantOr(null);if(Jt&&Dt.imageAtlas){const Ri=Dt.imageAtlas.patternPositions[Jt.toString()];Ri&&jt.setConstantPatternPositions(Ri)}const Gt=_.translatePosMatrix(wt.projMatrix,Dt,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Mi=De.projection.createInversionMatrix(De,wt.canonical),Xt=p.paint.get("fill-extrusion-vertical-gradient"),_i=je?jr(Gt,_,Xt,Ze,at,lt,wt,Dt,ht,nt,gt,Mi):Ad(Gt,_,Xt,Ze,at,lt,wt,ht,nt,gt,Mi);_.prepareDrawProgram(he,ii,wt.toUnwrapped());const ri=[];_.terrain&&ri.push(Ct.centroidVertexBuffer),et&&ri.push(Ct.layoutVertexExtBuffer),ii.draw(he,he.gl.TRIANGLES,B,W,ae,s.CullFaceMode.backCCW,_i,p.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,p.paint,_.transform.zoom,jt,ri)}}function fn(_,c,p,T,B,W){const ae=[nt=>{let gt=nt.canonical.x-1,ct=nt.wrap;return gt<0&&(gt=(1<<nt.canonical.z)-1,ct--),new s.OverscaledTileID(nt.overscaledZ,ct,nt.canonical.z,gt,nt.canonical.y)},nt=>{let gt=nt.canonical.x+1,ct=nt.wrap;return gt===1<<nt.canonical.z&&(gt=0,ct++),new s.OverscaledTileID(nt.overscaledZ,ct,nt.canonical.z,gt,nt.canonical.y)},nt=>new s.OverscaledTileID(nt.overscaledZ,nt.wrap,nt.canonical.z,nt.canonical.x,(nt.canonical.y===0?1<<nt.canonical.z:nt.canonical.y)-1),nt=>new s.OverscaledTileID(nt.overscaledZ,nt.wrap,nt.canonical.z,nt.canonical.x,nt.canonical.y===(1<<nt.canonical.z)-1?0:nt.canonical.y+1)],he=nt=>{const gt=c.getSource().minzoom,ct=Dt=>{const Ct=c.getTileByID(Dt);if(Ct&&Ct.hasData())return Ct.getBucket(B)},wt=[0,-1,1];for(const Dt of wt){if(nt.overscaledZ+Dt<gt)continue;const Ct=ct(nt.calculateScaledKey(nt.overscaledZ+Dt));if(Ct)return Ct}},ge=[0,0,0],De=(nt,gt)=>(ge[0]=Math.min(nt.min.y,gt.min.y),ge[1]=Math.max(nt.max.y,gt.max.y),ge[2]=s.EXTENT-gt.min.x>nt.max.x?gt.min.x-s.EXTENT:nt.max.x,ge),Ae=(nt,gt)=>(ge[0]=Math.min(nt.min.x,gt.min.x),ge[1]=Math.max(nt.max.x,gt.max.x),ge[2]=s.EXTENT-gt.min.y>nt.max.y?gt.min.y-s.EXTENT:nt.max.y,ge),je=[(nt,gt)=>De(nt,gt),(nt,gt)=>De(gt,nt),(nt,gt)=>Ae(nt,gt),(nt,gt)=>Ae(gt,nt)],Ze=new s.pointGeometry(0,0);let at,lt,ht;const et=(nt,gt,ct,wt,Dt)=>{const Ct=[[wt?ct:nt,wt?nt:ct,0],[wt?ct:gt,wt?gt:ct,0]],jt=Dt<0?s.EXTENT+Dt:Dt,ii=[wt?jt:(nt+gt)/2,wt?(nt+gt)/2:jt,0];return ct===0&&Dt<0||ct!==0&&Dt>0?W.getForTilePoints(ht,[ii],!0,lt):Ct.push(ii),W.getForTilePoints(p,Ct,!0,at),Math.max(Ct[0][2],Ct[1][2],ii[2])/W.exaggeration()};for(let nt=0;nt<4;nt++){const gt=(nt<2?1:5)-nt,ct=T.borders[nt];if(ct.length===0)continue;const wt=ht=ae[nt](p),Dt=he(wt);if(!(Dt&&Dt instanceof s.FillExtrusionBucket&&Dt.enableTerrain)||T.borderDoneWithNeighborZ[nt]===Dt.canonical.z&&Dt.borderDoneWithNeighborZ[gt]===T.canonical.z||(lt=W.findDEMTileFor(wt),!lt||!lt.dem))continue;if(!at){const Jt=W.findDEMTileFor(p);if(!Jt||!Jt.dem)return;at=Jt}const Ct=Dt.borders[gt];let jt=0;const ii=Dt.borderDoneWithNeighborZ[gt]!==T.canonical.z;if(T.canonical.z===Dt.canonical.z){for(let Jt=0;Jt<ct.length;Jt++){const Gt=T.featuresOnBorder[ct[Jt]],Mi=Gt.borders[nt];let Xt;for(;jt<Ct.length&&(Xt=Dt.featuresOnBorder[Ct[jt]],!(Xt.borders[gt][1]>Mi[0]+3));)ii&&Dt.encodeCentroid(void 0,Xt,!1),jt++;if(Xt&&jt<Ct.length){const _i=jt;let ri=0;for(;!(Xt.borders[gt][0]>Mi[1]-3)&&(ri++,++jt!==Ct.length);)Xt=Dt.featuresOnBorder[Ct[jt]];if(Xt=Dt.featuresOnBorder[Ct[_i]],Gt.intersectsCount()>1||Xt.intersectsCount()>1||ri!==1){ri!==1&&(jt=_i),T.encodeCentroid(void 0,Gt,!1),ii&&Dt.encodeCentroid(void 0,Xt,!1);continue}const Ri=je[nt](Gt,Xt),si=nt%2?s.EXTENT-1:0;Ze.x=et(Ri[0],Math.min(s.EXTENT-1,Ri[1]),si,nt<2,Ri[2]),Ze.y=0,T.encodeCentroid(Ze,Gt,!1),ii&&Dt.encodeCentroid(Ze,Xt,!1)}else T.encodeCentroid(void 0,Gt,!1)}T.borderDoneWithNeighborZ[nt]=Dt.canonical.z,T.needsCentroidUpdate=!0,ii&&(Dt.borderDoneWithNeighborZ[gt]=T.canonical.z,Dt.needsCentroidUpdate=!0)}else{for(const Jt of ct)T.encodeCentroid(void 0,T.featuresOnBorder[Jt],!1);if(ii){for(const Jt of Ct)Dt.encodeCentroid(void 0,Dt.featuresOnBorder[Jt],!1);Dt.borderDoneWithNeighborZ[gt]=T.canonical.z,Dt.needsCentroidUpdate=!0}T.borderDoneWithNeighborZ[nt]=Dt.canonical.z,T.needsCentroidUpdate=!0}}(T.needsCentroidUpdate||!T.centroidVertexBuffer&&T.centroidVertexArray.length!==0)&&T.uploadCentroid(_)}const Qn=new s.Color(1,0,0,1),Rr=new s.Color(0,1,0,1),Ns=new s.Color(0,0,1,1),Ur=new s.Color(1,0,1,1),Ec=new s.Color(0,1,1,1);function Dd(_,c,p){const T=_.context,B=_.transform,W=T.gl,ae=B.projection.name==="globe",he=ae?["PROJECTION_GLOBE_VIEW"]:null;let ge=p.projMatrix;if(ae&&s.globeToMercatorTransition(B.zoom)>0){const Gt=s.transitionTileAABBinECEF(p.canonical,B),Mi=s.globeDenormalizeECEF(Gt);ge=s.multiply(new Float32Array(16),B.globeMatrix,Mi),s.multiply(ge,B.projMatrix,ge)}const De=_.useProgram("debug",null,he),Ae=c.getTileByID(p.key);_.terrain&&_.terrain.setupElevationDraw(Ae,De);const je=s.DepthMode.disabled,Ze=s.StencilMode.disabled,at=_.colorModeForRenderPass(),lt="$debug";T.activeTexture.set(W.TEXTURE0),_.emptyTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE),ae?Ae._makeGlobeTileDebugBuffers(_.context,B):Ae._makeDebugTileBoundsBuffers(_.context,B.projection);const ht=Ae._tileDebugBuffer||_.debugBuffer,et=Ae._tileDebugIndexBuffer||_.debugIndexBuffer,nt=Ae._tileDebugSegments||_.debugSegments;De.draw(T,W.LINE_STRIP,je,Ze,at,s.CullFaceMode.disabled,rc(ge,s.Color.red),lt,ht,et,nt,null,null,null,[Ae._globeTileDebugBorderBuffer]);const gt=Ae.latestRawTileData,ct=Math.floor((gt&&gt.byteLength||0)/1024),wt=c.getTile(p).tileSize,Dt=512/Math.min(wt,512)*(p.overscaledZ/B.zoom)*.5;let Ct=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(Ct+=` => ${p.overscaledZ}`),Ct+=` ${ct}kb`,function(Gt,Mi){Gt.initDebugOverlayCanvas();const Xt=Gt.debugOverlayCanvas,_i=Gt.context.gl,ri=Gt.debugOverlayCanvas.getContext("2d");ri.clearRect(0,0,Xt.width,Xt.height),ri.shadowColor="white",ri.shadowBlur=2,ri.lineWidth=1.5,ri.strokeStyle="white",ri.textBaseline="top",ri.font="bold 36px Open Sans, sans-serif",ri.fillText(Mi,5,5),ri.strokeText(Mi,5,5),Gt.debugOverlayTexture.update(Xt),Gt.debugOverlayTexture.bind(_i.LINEAR,_i.CLAMP_TO_EDGE)}(_,Ct);const jt=Ae._tileDebugTextBuffer||_.debugBuffer,ii=Ae._tileDebugTextIndexBuffer||_.quadTriangleIndexBuffer,Jt=Ae._tileDebugTextSegments||_.debugSegments;De.draw(T,W.TRIANGLES,je,Ze,s.ColorMode.alphaBlended,s.CullFaceMode.disabled,rc(ge,s.Color.transparent,Dt),lt,jt,ii,Jt,null,null,null,[Ae._globeTileDebugTextBuffer])}function qo(_,c,p,T){kt(_,0,c+p/2,_.transform.width,p,T)}function st(_,c,p,T){kt(_,c-p/2,0,p,_.transform.height,T)}function kt(_,c,p,T,B,W){const ae=_.context,he=ae.gl;he.enable(he.SCISSOR_TEST),he.scissor(c*s.exported.devicePixelRatio,p*s.exported.devicePixelRatio,T*s.exported.devicePixelRatio,B*s.exported.devicePixelRatio),ae.clear({color:W}),he.disable(he.SCISSOR_TEST)}const Ft=s.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:wi}=Ft;function Vt(_,c,p,T){_.emplaceBack(c,p,T)}class li{constructor(c){this.vertexArray=new s.StructArrayLayout3f12,this.indices=new s.StructArrayLayout3ui6,Vt(this.vertexArray,-1,-1,1),Vt(this.vertexArray,1,-1,1),Vt(this.vertexArray,-1,1,1),Vt(this.vertexArray,1,1,1),Vt(this.vertexArray,-1,-1,-1),Vt(this.vertexArray,1,-1,-1),Vt(this.vertexArray,-1,1,-1),Vt(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=c.createVertexBuffer(this.vertexArray,wi),this.indexBuffer=c.createIndexBuffer(this.indices),this.segment=s.SegmentVector.simpleSegment(0,0,36,12)}}function Ii(_,c,p,T,B,W){const ae=_.gl,he=c.paint.get("sky-atmosphere-color"),ge=c.paint.get("sky-atmosphere-halo-color"),De=c.paint.get("sky-atmosphere-sun-intensity"),Ae=((je,Ze,at,lt,ht)=>({u_matrix_3f:je,u_sun_direction:Ze,u_sun_intensity:at,u_color_tint_r:[lt.r,lt.g,lt.b,lt.a],u_color_tint_m:[ht.r,ht.g,ht.b,ht.a],u_luminance:5e-5}))(s.fromMat4(s.create$1(),T),B,De,he,ge);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_CUBE_MAP_POSITIVE_X+W,c.skyboxTexture,0),p.draw(_,ae.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.frontCW,Ae,"skyboxCapture",c.skyboxGeometry.vertexBuffer,c.skyboxGeometry.indexBuffer,c.skyboxGeometry.segment)}const rn=s.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class zi{constructor(c){const p=new s.StructArrayLayout5f20;p.emplaceBack(-1,1,1,0,0),p.emplaceBack(1,1,1,1,0),p.emplaceBack(1,-1,1,1,1),p.emplaceBack(-1,-1,1,0,1);const T=new s.StructArrayLayout3ui6;T.emplaceBack(0,1,2),T.emplaceBack(2,3,0),this.vertexBuffer=c.createVertexBuffer(p,rn.members),this.indexBuffer=c.createIndexBuffer(T),this.segments=s.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Bn={symbol:function(_,c,p,T,B){if(_.renderPass!=="translucent")return;const W=s.StencilMode.disabled,ae=_.colorModeForRenderPass();p.layout.get("text-variable-anchor")&&function(he,ge,De,Ae,je,Ze,at){const lt=ge.transform,ht=je==="map",et=Ze==="map";for(const nt of he){const gt=Ae.getTile(nt),ct=gt.getBucket(De);if(!ct||!ct.text||!ct.text.segments.get().length)continue;const wt=s.evaluateSizeForZoom(ct.textSizeData,lt.zoom),Dt=vl(nt,ct.getProjection(),lt),Ct=lt.calculatePixelsToTileUnitsMatrix(gt),jt=Po(Dt,gt.tileID.canonical,et,ht,lt,ct.getProjection(),Ct),ii=De.layout.get("icon-text-fit")!=="none"&&ct.hasIconData();if(wt){const Jt=Math.pow(2,lt.zoom-gt.tileID.overscaledZ);Ru(ct,ht,et,at,s.symbolSize,lt,jt,nt,Jt,wt,ii)}}}(T,_,p,c,p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),B),p.paint.get("icon-opacity").constantOr(1)!==0&&Yo(_,c,p,T,!1,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),p.layout.get("icon-rotation-alignment"),p.layout.get("icon-pitch-alignment"),p.layout.get("icon-keep-upright"),W,ae),p.paint.get("text-opacity").constantOr(1)!==0&&Yo(_,c,p,T,!0,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),p.layout.get("text-keep-upright"),W,ae),c.map.showCollisionBoxes&&(oa(_,c,p,T,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),!0),oa(_,c,p,T,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),!1))},circle:function(_,c,p,T){if(_.renderPass!=="translucent")return;const B=p.paint.get("circle-opacity"),W=p.paint.get("circle-stroke-width"),ae=p.paint.get("circle-stroke-opacity"),he=p.layout.get("circle-sort-key").constantOr(1)!==void 0;if(B.constantOr(1)===0&&(W.constantOr(1)===0||ae.constantOr(1)===0))return;const ge=_.context,De=ge.gl,Ae=_.transform,je=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),Ze=s.StencilMode.disabled,at=_.colorModeForRenderPass(),lt=Ae.projection.name==="globe",ht=[s.mercatorXfromLng(Ae.center.lng),s.mercatorYfromLat(Ae.center.lat)],et=[];for(let gt=0;gt<T.length;gt++){const ct=T[gt],wt=c.getTile(ct),Dt=wt.getBucket(p);if(!Dt||Dt.projection.name!==Ae.projection.name)continue;const Ct=Dt.programConfigurations.get(p.id),jt=lu(p);lt&&jt.push("PROJECTION_GLOBE_VIEW");const ii=_.useProgram("circle",Ct,jt),Jt=Dt.layoutVertexBuffer,Gt=Dt.globeExtVertexBuffer,Mi=Dt.indexBuffer,Xt=Ae.projection.createInversionMatrix(Ae,ct.canonical),_i={programConfiguration:Ct,program:ii,layoutVertexBuffer:Jt,globeExtVertexBuffer:Gt,indexBuffer:Mi,uniformValues:Tc(_,ct,wt,Xt,ht,p),tile:wt};if(he){const ri=Dt.segments.get();for(const Ri of ri)et.push({segments:new s.SegmentVector([Ri]),sortKey:Ri.sortKey,state:_i})}else et.push({segments:Dt.segments,sortKey:0,state:_i})}he&&et.sort((gt,ct)=>gt.sortKey-ct.sortKey);const nt={useDepthForOcclusion:!lt};for(const gt of et){const{programConfiguration:ct,program:wt,layoutVertexBuffer:Dt,globeExtVertexBuffer:Ct,indexBuffer:jt,uniformValues:ii,tile:Jt}=gt.state,Gt=gt.segments;_.terrain&&_.terrain.setupElevationDraw(Jt,wt,nt),_.prepareDrawProgram(ge,wt,Jt.tileID.toUnwrapped()),wt.draw(ge,De.TRIANGLES,je,Ze,at,s.CullFaceMode.disabled,ii,p.id,Dt,jt,Gt,p.paint,Ae.zoom,ct,[Ct])}},heatmap:function(_,c,p,T){if(p.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const B=_.context,W=B.gl,ae=s.StencilMode.disabled,he=new s.ColorMode([W.ONE,W.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(at,lt,ht,et){const nt=at.gl,gt=lt.width*et,ct=lt.height*et;at.activeTexture.set(nt.TEXTURE1),at.viewport.set([0,0,gt,ct]);let wt=ht.heatmapFbo;if(!wt||wt&&(wt.width!==gt||wt.height!==ct)){wt&&wt.destroy();const Dt=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,Dt),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.LINEAR),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.LINEAR),wt=ht.heatmapFbo=at.createFramebuffer(gt,ct,!1),function(Ct,jt,ii,Jt,Gt,Mi){const Xt=Ct.gl;Xt.texImage2D(Xt.TEXTURE_2D,0,Xt.RGBA,Gt,Mi,0,Xt.RGBA,Ct.extRenderToTextureHalfFloat?Ct.extTextureHalfFloat.HALF_FLOAT_OES:Xt.UNSIGNED_BYTE,null),Jt.colorAttachment.set(ii)}(at,0,Dt,wt,gt,ct)}else nt.bindTexture(nt.TEXTURE_2D,wt.colorAttachment.get()),at.bindFramebuffer.set(wt.framebuffer)})(B,_,p,_.transform.projection.name==="globe"?.5:.25),B.clear({color:s.Color.transparent});const ge=_.transform,De=ge.projection.name==="globe",Ae=De?["PROJECTION_GLOBE_VIEW"]:null,je=De?s.CullFaceMode.frontCCW:s.CullFaceMode.disabled,Ze=[s.mercatorXfromLng(ge.center.lng),s.mercatorYfromLat(ge.center.lat)];for(let at=0;at<T.length;at++){const lt=T[at];if(c.hasRenderableParent(lt))continue;const ht=c.getTile(lt),et=ht.getBucket(p);if(!et||et.projection.name!==ge.projection.name)continue;const nt=et.programConfigurations.get(p.id),gt=_.useProgram("heatmap",nt,Ae),{zoom:ct}=_.transform;_.terrain&&_.terrain.setupElevationDraw(ht,gt),_.prepareDrawProgram(B,gt,lt.toUnwrapped());const wt=ge.projection.createInversionMatrix(ge,lt.canonical);gt.draw(B,W.TRIANGLES,s.DepthMode.disabled,ae,he,je,sc(_,lt,ht,wt,Ze,ct,p.paint.get("heatmap-intensity")),p.id,et.layoutVertexBuffer,et.indexBuffer,et.segments,p.paint,_.transform.zoom,nt,De?[et.globeExtVertexBuffer]:null)}B.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(B,W){const ae=B.context,he=ae.gl,ge=W.heatmapFbo;if(!ge)return;ae.activeTexture.set(he.TEXTURE0),he.bindTexture(he.TEXTURE_2D,ge.colorAttachment.get()),ae.activeTexture.set(he.TEXTURE1);let De=W.colorRampTexture;De||(De=W.colorRampTexture=new s.Texture(ae,W.colorRamp,he.RGBA)),De.bind(he.LINEAR,he.CLAMP_TO_EDGE),B.useProgram("heatmapTexture").draw(ae,he.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,B.colorModeForRenderPass(),s.CullFaceMode.disabled,((Ae,je,Ze,at)=>({u_image:0,u_color_ramp:1,u_opacity:je.paint.get("heatmap-opacity")}))(0,W),W.id,B.viewportBuffer,B.quadTriangleIndexBuffer,B.viewportSegments,W.paint,B.transform.zoom)}(_,p))},line:function(_,c,p,T){if(_.renderPass!=="translucent")return;const B=p.paint.get("line-opacity"),W=p.paint.get("line-width");if(B.constantOr(1)===0||W.constantOr(1)===0)return;const ae=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),he=_.colorModeForRenderPass(),ge=_.terrain&&_.terrain.renderingToTexture?1:s.exported.devicePixelRatio,De=p.paint.get("line-dasharray"),Ae=De.constantOr(1),je=p.layout.get("line-cap"),Ze=p.paint.get("line-pattern"),at=Ze.constantOr(1),lt=p.paint.get("line-gradient"),ht=at?"linePattern":"line",et=_.context,nt=et.gl,gt=(wt=>{const Dt=[];Pd(wt)&&Dt.push("RENDER_LINE_DASH"),wt.paint.get("line-gradient")&&Dt.push("RENDER_LINE_GRADIENT");const Ct=wt.paint.get("line-trim-offset");Ct[0]===0&&Ct[1]===0||Dt.push("RENDER_LINE_TRIM_OFFSET");const jt=wt.paint.get("line-pattern").constantOr(1),ii=wt.paint.get("line-opacity").constantOr(1)!==1;return!jt&&ii&&Dt.push("RENDER_LINE_ALPHA_DISCARD"),Dt})(p);let ct=gt.includes("RENDER_LINE_ALPHA_DISCARD");_.terrain&&_.terrain.clipOrMaskOverlapStencilType()&&(ct=!1);for(const wt of T){const Dt=c.getTile(wt);if(at&&!Dt.patternsLoaded())continue;const Ct=Dt.getBucket(p);if(!Ct)continue;_.prepareDrawTile();const jt=Ct.programConfigurations.get(p.id),ii=_.useProgram(ht,jt,gt),Jt=Ze.constantOr(null);if(Jt&&Dt.imageAtlas){const Si=Dt.imageAtlas.patternPositions[Jt.toString()];Si&&jt.setConstantPatternPositions(Si)}const Gt=De.constantOr(null),Mi=je.constantOr(null);if(!at&&Gt&&Mi&&Dt.lineAtlas){const Si=Dt.lineAtlas.getDash(Gt,Mi);Si&&jt.setConstantPatternPositions(Si)}let[Xt,_i]=p.paint.get("line-trim-offset");(Mi==="round"||Mi==="square")&&Xt!==_i&&(Xt===0&&(Xt-=1),_i===1&&(_i+=1));const ri=_.terrain?wt.projMatrix:null,Ri=at?ka(_,Dt,p,ri,ge):cu(_,Dt,p,ri,Ct.lineClipsArray.length,ge,[Xt,_i]);if(lt){const Si=Ct.gradients[p.id];let Ni=Si.texture;if(p.gradientVersion!==Si.version){let Yt=256;if(p.stepInterpolant){const ni=c.getSource().maxzoom,mn=wt.canonical.z===ni?Math.ceil(1<<_.transform.maxZoom-wt.canonical.z):1;Yt=s.clamp(s.nextPowerOfTwo(Ct.maxLineLength/s.EXTENT*1024*mn),256,et.maxTextureSize)}Si.gradient=s.renderColorRamp({expression:p.gradientExpression(),evaluationKey:"lineProgress",resolution:Yt,image:Si.gradient||void 0,clips:Ct.lineClipsArray}),Si.texture?Si.texture.update(Si.gradient):Si.texture=new s.Texture(et,Si.gradient,nt.RGBA),Si.version=p.gradientVersion,Ni=Si.texture}et.activeTexture.set(nt.TEXTURE1),Ni.bind(p.stepInterpolant?nt.NEAREST:nt.LINEAR,nt.CLAMP_TO_EDGE)}Ae&&(et.activeTexture.set(nt.TEXTURE0),Dt.lineAtlasTexture.bind(nt.LINEAR,nt.REPEAT),jt.updatePaintBuffers()),at&&(et.activeTexture.set(nt.TEXTURE0),Dt.imageAtlasTexture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),jt.updatePaintBuffers()),_.prepareDrawProgram(et,ii,wt.toUnwrapped());const si=Si=>{ii.draw(et,nt.TRIANGLES,ae,Si,he,s.CullFaceMode.disabled,Ri,p.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,p.paint,_.transform.zoom,jt,[Ct.layoutVertexBuffer2])};if(ct){const Si=_.stencilModeForClipping(wt).ref;Si===0&&_.terrain&&et.clear({stencil:0});const Ni={func:nt.EQUAL,mask:255};Ri.u_alpha_discard_threshold=.8,si(new s.StencilMode(Ni,Si,255,nt.KEEP,nt.KEEP,nt.INVERT)),Ri.u_alpha_discard_threshold=0,si(new s.StencilMode(Ni,Si,255,nt.KEEP,nt.KEEP,nt.KEEP))}else si(_.stencilModeForClipping(wt))}ct&&(_.resetStencilClippingMasks(),_.terrain&&et.clear({stencil:0}))},fill:function(_,c,p,T){const B=p.paint.get("fill-color"),W=p.paint.get("fill-opacity");if(W.constantOr(1)===0)return;const ae=_.colorModeForRenderPass(),he=p.paint.get("fill-pattern"),ge=_.opaquePassEnabledForLayer()&&!he.constantOr(1)&&B.constantOr(s.Color.transparent).a===1&&W.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===ge){const De=_.depthModeForSublayer(1,_.renderPass==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly);bi(_,c,p,T,De,ae,!1)}if(_.renderPass==="translucent"&&p.paint.get("fill-antialias")){const De=_.depthModeForSublayer(p.getPaintProperty("fill-outline-color")?2:0,s.DepthMode.ReadOnly);bi(_,c,p,T,De,ae,!0)}},"fill-extrusion":function(_,c,p,T){const B=p.paint.get("fill-extrusion-opacity");if(B!==0&&_.renderPass==="translucent"){const W=new s.DepthMode(_.context.gl.LEQUAL,s.DepthMode.ReadWrite,_.depthRangeFor3D);if(B!==1||p.paint.get("fill-extrusion-pattern").constantOr(1))pi(_,c,p,T,W,s.StencilMode.disabled,s.ColorMode.disabled),pi(_,c,p,T,W,_.stencilModeFor3D(),_.colorModeForRenderPass()),_.resetStencilClippingMasks();else{const ae=_.colorModeForRenderPass();pi(_,c,p,T,W,s.StencilMode.disabled,ae)}}},hillshade:function(_,c,p,T){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const B=_.context,W=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),ae=_.colorModeForRenderPass(),he=_.terrain&&_.terrain.renderingToTexture,[ge,De]=_.renderPass!=="translucent"||he?[{},T]:_.stencilConfigForOverlap(T);for(const Ae of De){const je=c.getTile(Ae);if(je.needsHillshadePrepare&&_.renderPass==="offscreen")fr(_,je,p,W,s.StencilMode.disabled,ae);else if(_.renderPass==="translucent"){const Ze=he&&_.terrain?_.terrain.stencilModeForRTTOverlap(Ae):ge[Ae.overscaledZ];fs(_,Ae,je,p,W,Ze,ae)}}B.viewport.set([0,0,_.width,_.height]),_.resetStencilClippingMasks()},raster:function(_,c,p,T,B,W){if(_.renderPass!=="translucent"||p.paint.get("raster-opacity")===0||!T.length)return;const ae=_.context,he=ae.gl,ge=c.getSource(),De=_.useProgram("raster"),Ae=_.colorModeForRenderPass(),je=_.terrain&&_.terrain.renderingToTexture,[Ze,at]=ge instanceof Rt||je?[{},T]:_.stencilConfigForOverlap(T),lt=at[at.length-1].overscaledZ,ht=!_.options.moving;for(const et of at){const nt=je?s.DepthMode.disabled:_.depthModeForSublayer(et.overscaledZ-lt,p.paint.get("raster-opacity")===1?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly,he.LESS),gt=et.toUnwrapped(),ct=c.getTile(et);if(je&&(!ct||!ct.hasData()))continue;const wt=je?et.projMatrix:_.transform.calculateProjMatrix(gt,ht),Dt=_.terrain&&je?_.terrain.stencilModeForRTTOverlap(et):Ze[et.overscaledZ],Ct=W?0:p.paint.get("raster-fade-duration");ct.registerFadeDuration(Ct);const jt=c.findLoadedParent(et,0),ii=na(ct,jt,c,_.transform,Ct);let Jt,Gt;_.terrain&&_.terrain.prepareDrawTile();const Mi=p.paint.get("raster-resampling")==="nearest"?he.NEAREST:he.LINEAR;ae.activeTexture.set(he.TEXTURE0),ct.texture.bind(Mi,he.CLAMP_TO_EDGE),ae.activeTexture.set(he.TEXTURE1),jt?(jt.texture.bind(Mi,he.CLAMP_TO_EDGE),Jt=Math.pow(2,jt.tileID.overscaledZ-ct.tileID.overscaledZ),Gt=[ct.tileID.canonical.x*Jt%1,ct.tileID.canonical.y*Jt%1]):ct.texture.bind(Mi,he.CLAMP_TO_EDGE);const Xt=Sc(wt,Gt||[0,0],Jt||1,ii,p,ge instanceof Rt?ge.perspectiveTransform:[0,0]);if(_.prepareDrawProgram(ae,De,gt),ge instanceof Rt)ge.boundsBuffer&&ge.boundsSegments&&De.draw(ae,he.TRIANGLES,nt,s.StencilMode.disabled,Ae,s.CullFaceMode.disabled,Xt,p.id,ge.boundsBuffer,_.quadTriangleIndexBuffer,ge.boundsSegments);else{const{tileBoundsBuffer:_i,tileBoundsIndexBuffer:ri,tileBoundsSegments:Ri}=_.getTileBoundsBuffers(ct);De.draw(ae,he.TRIANGLES,nt,Dt,Ae,s.CullFaceMode.disabled,Xt,p.id,_i,ri,Ri)}}_.resetStencilClippingMasks()},background:function(_,c,p,T){const B=p.paint.get("background-color"),W=p.paint.get("background-opacity");if(W===0)return;const ae=_.context,he=ae.gl,ge=_.transform,De=ge.tileSize,Ae=p.paint.get("background-pattern");if(_.isPatternMissing(Ae))return;const je=!Ae&&B.a===1&&W===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==je)return;const Ze=s.StencilMode.disabled,at=_.depthModeForSublayer(0,je==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly),lt=_.colorModeForRenderPass(),ht=_.useProgram(Ae?"backgroundPattern":"background");let et,nt=T;nt||(et=_.getBackgroundTiles(),nt=Object.values(et).map(gt=>gt.tileID)),Ae&&(ae.activeTexture.set(he.TEXTURE0),_.imageManager.bind(_.context));for(const gt of nt){const ct=gt.toUnwrapped(),wt=T?gt.projMatrix:_.transform.calculateProjMatrix(ct);_.prepareDrawTile();const Dt=c?c.getTile(gt):et?et[gt.key]:new s.Tile(gt,De,ge.zoom,_),Ct=Ae?xr(wt,W,_,Ae,{tileID:gt,tileSize:De}):yh(wt,W,B);_.prepareDrawProgram(ae,ht,ct);const{tileBoundsBuffer:jt,tileBoundsIndexBuffer:ii,tileBoundsSegments:Jt}=_.getTileBoundsBuffers(Dt);ht.draw(ae,he.TRIANGLES,at,Ze,lt,s.CullFaceMode.disabled,Ct,p.id,jt,ii,Jt)}},sky:function(_,c,p){const T=_.transform,B=T.projection.name==="mercator"||T.projection.name==="globe"?1:s.smoothstep(7,8,T.zoom),W=p.paint.get("sky-opacity")*B;if(W===0)return;const ae=_.context,he=p.paint.get("sky-type"),ge=new s.DepthMode(ae.gl.LEQUAL,s.DepthMode.ReadOnly,[0,1]),De=_.frameCounter/1e3%1;he==="atmosphere"?_.renderPass==="offscreen"?p.needsSkyboxCapture(_)&&(function(Ae,je,Ze,at){const lt=Ae.context,ht=lt.gl;let et=je.skyboxFbo;if(!et){et=je.skyboxFbo=lt.createFramebuffer(32,32,!1),je.skyboxGeometry=new li(lt),je.skyboxTexture=lt.gl.createTexture(),ht.bindTexture(ht.TEXTURE_CUBE_MAP,je.skyboxTexture),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_WRAP_S,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_WRAP_T,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_MIN_FILTER,ht.LINEAR),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_MAG_FILTER,ht.LINEAR);for(let wt=0;wt<6;++wt)ht.texImage2D(ht.TEXTURE_CUBE_MAP_POSITIVE_X+wt,0,ht.RGBA,32,32,0,ht.RGBA,ht.UNSIGNED_BYTE,null)}lt.bindFramebuffer.set(et.framebuffer),lt.viewport.set([0,0,32,32]);const nt=je.getCenter(Ae,!0),gt=Ae.useProgram("skyboxCapture"),ct=new Float64Array(16);s.identity(ct),s.rotateY(ct,ct,.5*-Math.PI),Ii(lt,je,gt,ct,nt,0),s.identity(ct),s.rotateY(ct,ct,.5*Math.PI),Ii(lt,je,gt,ct,nt,1),s.identity(ct),s.rotateX(ct,ct,.5*-Math.PI),Ii(lt,je,gt,ct,nt,2),s.identity(ct),s.rotateX(ct,ct,.5*Math.PI),Ii(lt,je,gt,ct,nt,3),s.identity(ct),Ii(lt,je,gt,ct,nt,4),s.identity(ct),s.rotateY(ct,ct,Math.PI),Ii(lt,je,gt,ct,nt,5),lt.viewport.set([0,0,Ae.width,Ae.height])}(_,p),p.markSkyboxValid(_)):_.renderPass==="sky"&&function(Ae,je,Ze,at,lt){const ht=Ae.context,et=ht.gl,nt=Ae.transform,gt=Ae.useProgram("skybox");ht.activeTexture.set(et.TEXTURE0),et.bindTexture(et.TEXTURE_CUBE_MAP,je.skyboxTexture);const ct=((wt,Dt,Ct,jt,ii)=>({u_matrix:wt,u_sun_direction:Dt,u_cubemap:0,u_opacity:jt,u_temporal_offset:ii}))(nt.skyboxMatrix,je.getCenter(Ae,!1),0,at,lt);Ae.prepareDrawProgram(ht,gt),gt.draw(ht,et.TRIANGLES,Ze,s.StencilMode.disabled,Ae.colorModeForRenderPass(),s.CullFaceMode.backCW,ct,"skybox",je.skyboxGeometry.vertexBuffer,je.skyboxGeometry.indexBuffer,je.skyboxGeometry.segment)}(_,p,ge,W,De):he==="gradient"&&_.renderPass==="sky"&&function(Ae,je,Ze,at,lt){const ht=Ae.context,et=ht.gl,nt=Ae.transform,gt=Ae.useProgram("skyboxGradient");je.skyboxGeometry||(je.skyboxGeometry=new li(ht)),ht.activeTexture.set(et.TEXTURE0);let ct=je.colorRampTexture;ct||(ct=je.colorRampTexture=new s.Texture(ht,je.colorRamp,et.RGBA)),ct.bind(et.LINEAR,et.CLAMP_TO_EDGE);const wt=((Dt,Ct,jt,ii,Jt)=>({u_matrix:Dt,u_color_ramp:0,u_center_direction:Ct,u_radius:s.degToRad(jt),u_opacity:ii,u_temporal_offset:Jt}))(nt.skyboxMatrix,je.getCenter(Ae,!1),je.paint.get("sky-gradient-radius"),at,lt);Ae.prepareDrawProgram(ht,gt),gt.draw(ht,et.TRIANGLES,Ze,s.StencilMode.disabled,Ae.colorModeForRenderPass(),s.CullFaceMode.backCW,wt,"skyboxGradient",je.skyboxGeometry.vertexBuffer,je.skyboxGeometry.indexBuffer,je.skyboxGeometry.segment)}(_,p,ge,W,De)},debug:function(_,c,p){for(let T=0;T<p.length;T++)Dd(_,c,p[T])},custom:function(_,c,p){const T=_.context,B=p.implementation;if(_.transform.projection.unsupportedLayers&&_.transform.projection.unsupportedLayers.includes("custom"))s.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(_.renderPass==="offscreen"){const W=B.prerender;W&&(_.setCustomLayerDefaults(),T.setColorMode(_.colorModeForRenderPass()),W.call(B,T.gl,_.transform.customLayerMatrix()),T.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),T.setColorMode(_.colorModeForRenderPass()),T.setStencilMode(s.StencilMode.disabled);const W=B.renderingMode==="3d"?new s.DepthMode(_.context.gl.LEQUAL,s.DepthMode.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,s.DepthMode.ReadOnly);T.setDepthMode(W),B.render(T.gl,_.transform.customLayerMatrix()),T.setDirty(),_.setBaseState(),T.bindFramebuffer.set(null)}}};class jn{constructor(c,p){this.context=new Fe(c),this.transform=p,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=s.SourceCache.maxUnderzooming+s.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ya,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(c,p){const T=!!c&&!!c.terrain&&this.transform.projection.supportsTerrain;if(!(T||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new zo(this,c));const B=this._terrain;this.transform.elevation=T?B:null,B.update(c,this.transform,p)}_updateFog(c){const p=c.fog;if(!p||this.transform.projection.name==="globe"||p.getOpacity(this.transform.pitch)<1||p.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[T,B]=p.getFovAdjustedRange(this.transform._fov);if(T>B)return void(this.transform.fogCullDistSq=null);const W=T+.78*(B-T);this.transform.fogCullDistSq=W*W}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(c,p){if(this.width=c*s.exported.devicePixelRatio,this.height=p*s.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const T of this.style.order)this.style._layers[T].resize()}setup(){const c=this.context,p=new s.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(s.EXTENT,0),p.emplaceBack(0,s.EXTENT),p.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,s.posAttributes.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const T=new s.StructArrayLayout2i4;T.emplaceBack(0,0),T.emplaceBack(s.EXTENT,0),T.emplaceBack(0,s.EXTENT),T.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=c.createVertexBuffer(T,s.posAttributes.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const B=new s.StructArrayLayout2i4;B.emplaceBack(-1,-1),B.emplaceBack(1,-1),B.emplaceBack(-1,1),B.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(B,s.posAttributes.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const W=new s.StructArrayLayout4i8;W.emplaceBack(0,0,0,0),W.emplaceBack(s.EXTENT,0,s.EXTENT,0),W.emplaceBack(0,s.EXTENT,0,s.EXTENT),W.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.mercatorBoundsBuffer=c.createVertexBuffer(W,s.boundsAttributes.members),this.mercatorBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const ae=new s.StructArrayLayout3ui6;ae.emplaceBack(0,1,2),ae.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(ae);const he=new s.StructArrayLayout1ui2;for(const De of[0,1,3,2,0])he.emplaceBack(De);this.debugIndexBuffer=c.createIndexBuffer(he),this.emptyTexture=new s.Texture(c,new s.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),c.gl.RGBA),this.identityMat=s.create();const ge=this.context.gl;this.stencilClearMode=new s.StencilMode({func:ge.ALWAYS,mask:0},0,255,ge.ZERO,ge.ZERO,ge.ZERO),this.loadTimeStamps.push(s.window.performance.now()),this.atmosphereBuffer=new zi(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(c){return c._makeTileBoundsBuffers(this.context,this.transform.projection),c._tileBoundsBuffer?{tileBoundsBuffer:c._tileBoundsBuffer,tileBoundsIndexBuffer:c._tileBoundsIndexBuffer,tileBoundsSegments:c._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(c,p.TRIANGLES,s.DepthMode.disabled,this.stencilClearMode,s.ColorMode.disabled,s.CullFaceMode.disabled,ro(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(c,p,T){if(!p||this.currentStencilSource===p.id||!c.isTileClipped()||!T||T.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let he=!1;for(const ge of T)if(this._tileClippingMaskIDs[ge.key]===void 0){he=!0;break}if(!he)return}this.currentStencilSource=p.id;const B=this.context,W=B.gl;this.nextStencilID+T.length>256&&this.clearStencil(),B.setColorMode(s.ColorMode.disabled),B.setDepthMode(s.DepthMode.disabled);const ae=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const he of T){const ge=p.getTile(he),De=this._tileClippingMaskIDs[he.key]=this.nextStencilID++,{tileBoundsBuffer:Ae,tileBoundsIndexBuffer:je,tileBoundsSegments:Ze}=this.getTileBoundsBuffers(ge);ae.draw(B,W.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:W.ALWAYS,mask:0},De,255,W.KEEP,W.KEEP,W.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,ro(he.projMatrix),"$clipping",Ae,je,Ze)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new s.StencilMode({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(c);const p=this.context.gl;return new s.StencilMode({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,T=c.sort((ae,he)=>he.overscaledZ-ae.overscaledZ),B=T[T.length-1].overscaledZ,W=T[0].overscaledZ-B+1;if(W>1){this.currentStencilSource=void 0,this.nextStencilID+W>256&&this.clearStencil();const ae={};for(let he=0;he<W;he++)ae[he+B]=new s.StencilMode({func:p.GEQUAL,mask:255},he+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=W,[ae,T]}return[{[B]:s.StencilMode.disabled},T]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new s.ColorMode([c.CONSTANT_COLOR,c.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?s.ColorMode.unblended:s.ColorMode.alphaBlended}depthModeForSublayer(c,p,T){if(!this.opaquePassEnabledForLayer())return s.DepthMode.disabled;const B=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new s.DepthMode(T||this.context.gl.LEQUAL,p,[B,B])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const T=this.style.order,B=this.style._sourceCaches;for(const ge in B){const De=B[ge];De.used&&De.prepare(this.context)}const W={},ae={},he={};for(const ge in B){const De=B[ge];W[ge]=De.getVisibleCoordinates(),ae[ge]=W[ge].slice().reverse(),he[ge]=De.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ge=0;ge<T.length;ge++)if(this.style._layers[T[ge]].is3D()){this.opaquePassCutoff=ge;break}if(this.terrain&&(this.terrain.updateTileBinding(he),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new s.GlobeSharedBuffers(this.context)),s.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const ge of T){const De=this.style._layers[ge],Ae=c._getLayerSourceCache(De);if(!De.hasOffscreenPass()||De.isHidden(this.transform.zoom))continue;const je=Ae?ae[Ae.id]:void 0;(De.type==="custom"||De.isSky()||je&&je.length)&&this.renderLayer(this,Ae,De,je)}if(this.depthRangeFor3D=[0,1-(c.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:p.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=T.length-1;this.currentLayer>=0;this.currentLayer--){const ge=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(ge);if(ge.isSky())continue;const Ae=De?ae[De.id]:void 0;this._renderTileClippingMasks(ge,De,Ae),this.renderLayer(this,De,ge,Ae)}if(this.style.fog&&this.transform.projection.supportsFog&&function(ge,De){const Ae=ge.context,je=Ae.gl,Ze=ge.transform,at=new s.DepthMode(je.LEQUAL,s.DepthMode.ReadOnly,[0,1]),lt=ge.useProgram("globeAtmosphere",null,Ze.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),ht=s.globeToMercatorTransition(Ze.zoom),et=De.properties.get("color").toArray01(),nt=De.properties.get("high-color").toArray01(),gt=De.properties.get("space-color").toArray01PremultipliedAlpha(),ct=s.identity$1([]);s.rotateY$1(ct,ct,-s.degToRad(Ze._center.lng)),s.rotateX$1(ct,ct,s.degToRad(Ze._center.lat)),s.rotateZ$1(ct,ct,Ze.angle),s.rotateX$1(ct,ct,-Ze._pitch);const wt=s.fromQuat(new Float32Array(16),ct),Dt=s.mapValue(De.properties.get("star-intensity"),0,1,0,.25),Ct=5e-4,jt=s.mapValue(De.properties.get("horizon-blend"),0,1,Ct,.25),ii=s.globeUseCustomAntiAliasing(ge,Ae,Ze)&&jt===Ct?Ze.worldSize/(2*Math.PI*1.025)-1:Ze.globeRadius,Jt=ge.frameCounter/1e3%1,Gt=s.length(Ze.globeCenterInViewSpace),Mi=Math.sqrt(Math.pow(Gt,2)-Math.pow(ii,2)),Xt=Math.acos(Mi/Gt),_i=((Ri,si,Si,Ni,Yt,ni,mn,Sn,gn,Un,lr,kn,dn,is)=>({u_frustum_tl:Ri,u_frustum_tr:si,u_frustum_br:Si,u_frustum_bl:Ni,u_horizon:Yt,u_transition:ni,u_fadeout_range:mn,u_color:Sn,u_high_color:gn,u_space_color:Un,u_star_intensity:lr,u_star_size:5*s.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:kn,u_horizon_angle:dn,u_rotation_matrix:is}))(Ze.frustumCorners.TL,Ze.frustumCorners.TR,Ze.frustumCorners.BR,Ze.frustumCorners.BL,Ze.frustumCorners.horizon,ht,jt,et,nt,gt,Dt,Jt,Xt,wt);ge.prepareDrawProgram(Ae,lt);const ri=ge.atmosphereBuffer;ri&&lt.draw(Ae,je.TRIANGLES,at,s.StencilMode.disabled,s.ColorMode.alphaBlended,s.CullFaceMode.backCW,_i,"skybox",ri.vertexBuffer,ri.indexBuffer,ri.segments)}(this,this.style.fog),this.renderPass="sky",(s.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<T.length;this.currentLayer++){const ge=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(ge);ge.isSky()&&this.renderLayer(this,De,ge,De?ae[De.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<T.length;){const ge=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(ge);if(ge.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(ge)){if(ge.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Ae=De?(ge.type==="symbol"?he:ae)[De.id]:void 0;this._renderTileClippingMasks(ge,De,De?W[De.id]:void 0),this.renderLayer(this,De,ge,Ae),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let ge=null;s.values(this.style._layers).forEach(De=>{const Ae=c._getLayerSourceCache(De);Ae&&!De.isHidden(this.transform.zoom)&&(!ge||ge.getSource().maxzoom<Ae.getSource().maxzoom)&&(ge=Ae)}),ge&&this.options.showTileBoundaries&&Bn.debug(this,ge,ge.getVisibleCoordinates())}this.options.showPadding&&function(ge){const De=ge.transform.padding;qo(ge,ge.transform.height-(De.top||0),3,Qn),qo(ge,De.bottom||0,3,Rr),st(ge,De.left||0,3,Ns),st(ge,ge.transform.width-(De.right||0),3,Ur);const Ae=ge.transform.centerPoint;(function(je,Ze,at,lt){kt(je,Ze-1,at-10,2,20,lt),kt(je,Ze-10,at-1,20,2,lt)})(ge,Ae.x,ge.transform.height-Ae.y,Ec)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(s.window.performance.now()),this.saveCanvasCopy())}}renderLayer(c,p,T,B){T.isHidden(this.transform.zoom)||(T.type==="background"||T.type==="sky"||T.type==="custom"||B&&B.length)&&(this.id=T.id,this.gpuTimingStart(T),c.transform.projection.unsupportedLayers&&c.transform.projection.unsupportedLayers.includes(T.type)||Bn[T.type](c,p,T,B,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const p=this.context.extTimerQuery;let T=this.gpuTimers[c.id];T||(T=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),T.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,T.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const c=this.context.extTimerQuery,p=c.createQueryEXT();this.deferredRenderGpuTimeQueries.push(p),c.beginQueryEXT(c.TIME_ELAPSED_EXT,p)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}collectDeferredRenderGpuQueries(){const c=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],c}queryGpuTimers(c){const p={};for(const T in c){const B=c[T],W=this.context.extTimerQuery,ae=W.getQueryObjectEXT(B.query,W.QUERY_RESULT_EXT)/1e6;W.deleteQueryEXT(B.query),p[T]=ae}return p}queryGpuTimeDeferredRender(c){if(!this.options.gpuTimingDeferredRender)return 0;const p=this.context.extTimerQuery;let T=0;for(const B of c)T+=p.getQueryObjectEXT(B,p.QUERY_RESULT_EXT)/1e6,p.deleteQueryEXT(B);return T}translatePosMatrix(c,p,T,B,W){if(!T[0]&&!T[1])return c;const ae=W?B==="map"?this.transform.angle:0:B==="viewport"?-this.transform.angle:0;if(ae){const De=Math.sin(ae),Ae=Math.cos(ae);T=[T[0]*Ae-T[1]*De,T[0]*De+T[1]*Ae]}const he=[W?T[0]:F(p,T[0],this.transform.zoom),W?T[1]:F(p,T[1],this.transform.zoom),0],ge=new Float32Array(16);return s.translate(ge,c,he),ge}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){return c===null||c!==void 0&&!this.imageManager.getPattern(c.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const c=this.terrain&&this.terrain.renderingToTexture,p=this.terrain&&this.terrain.exaggeration()===0,T=this.style&&this.style.fog,B=[];return this.terrainRenderModeElevated()&&B.push("TERRAIN"),this.transform.projection.name==="globe"&&B.push("GLOBE"),p&&B.push("ZERO_EXAGGERATION"),T&&!c&&T.getOpacity(this.transform.pitch)!==0&&B.push("FOG"),c&&B.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&B.push("OVERDRAW_INSPECTOR"),B}useProgram(c,p,T){this.cache=this.cache||{};const B=T||[],W=this.currentGlobalDefines().concat(B),ae=_a.cacheKey(oi[c],c,W,p);return this.cache[ae]||(this.cache[ae]=new _a(this.context,c,oi[c],p,Wo[c],W)),this.cache[ae]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(c,p,T){if(this.terrain&&this.terrain.renderingToTexture)return;const B=this.style.fog;if(B){const W=B.getOpacity(this.transform.pitch),ae=((he,ge,De,Ae,je,Ze,at,lt,ht,et,nt)=>{const gt=he.transform,ct=ge.properties.get("color").toArray01();ct[3]=Ae;const wt=he.frameCounter/1e3%1;return{u_fog_matrix:De?gt.calculateFogTileMatrix(De):he.identityMat,u_fog_range:ge.getFovAdjustedRange(gt._fov),u_fog_color:ct,u_fog_horizon_blend:ge.properties.get("horizon-blend"),u_fog_temporal_offset:wt,u_frustum_tl:je,u_frustum_tr:Ze,u_frustum_br:at,u_frustum_bl:lt,u_globe_pos:ht,u_globe_radius:et,u_viewport:nt,u_globe_transition:s.globeToMercatorTransition(gt.zoom),u_is_globe:+(gt.projection.name==="globe")}})(this,B,T,W,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*s.exported.devicePixelRatio,this.transform.height*s.exported.devicePixelRatio]);p.setFogUniformValues(c,ae)}}setTileLoadedFlag(c){this.tileLoaded=c}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const c=this.context.gl,p=c.createTexture();return c.bindTexture(c.TEXTURE_2D,p),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,c.drawingBufferWidth,c.drawingBufferHeight,0),p}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const c=this.style&&this.style.fog;return!!c&&c.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const c=this._backgroundTiles,p=this._backgroundTiles={},T=this.transform.coveringTiles({tileSize:512});for(const B of T)p[B.key]=c[B.key]||new s.Tile(B,512,this.transform.tileZoom,this);return p}clearBackgroundTiles(){this._backgroundTiles={}}}class $n{constructor(c=0,p=0,T=0,B=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(T)||T<0||isNaN(B)||B<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=T,this.right=B}interpolate(c,p,T){return p.top!=null&&c.top!=null&&(this.top=s.number(c.top,p.top,T)),p.bottom!=null&&c.bottom!=null&&(this.bottom=s.number(c.bottom,p.bottom,T)),p.left!=null&&c.left!=null&&(this.left=s.number(c.left,p.left,T)),p.right!=null&&c.right!=null&&(this.right=s.number(c.right,p.right,T)),this}getCenter(c,p){const T=s.clamp((this.left+c-this.right)/2,0,c),B=s.clamp((this.top+p-this.bottom)/2,0,p);return new s.pointGeometry(T,B)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new $n(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function rr(_,c){const p=s.getColumn(_,3);s.fromQuat(_,c),s.setColumn(_,3,p)}function Er(_,c){const p=s.identity$1([]);return s.rotateZ$1(p,p,-c),s.rotateX$1(p,p,-_),p}function In(_,c){const p=[_[0],_[1],0],T=[c[0],c[1],0];if(s.length(p)>=1e-15){const ae=s.normalize([],p);s.scale$2(T,ae,s.dot(T,ae)),c[0]=T[0],c[1]=T[1]}const B=s.cross([],c,_);if(s.len(B)<1e-15)return null;const W=Math.atan2(-B[1],B[0]);return Er(Math.atan2(Math.sqrt(_[0]*_[0]+_[1]*_[1]),-_[2]),W)}class we{constructor(c,p){this.position=c,this.orientation=p}get position(){return this._position}set position(c){if(c){const p=c instanceof s.MercatorCoordinate?c:new s.MercatorCoordinate(c[0],c[1],c[2]);this._renderWorldCopies&&(p.x=s.wrap(p.x,0,1)),this._position=p}else this._position=null}lookAtPoint(c,p){if(this.orientation=null,!this.position)return;const T=this._elevation?this._elevation.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(c)):0,B=this.position,W=s.MercatorCoordinate.fromLngLat(c,T),ae=[W.x-B.x,W.y-B.y,W.z-B.z];p||(p=[0,0,1]),p[2]=Math.abs(p[2]),this.orientation=In(ae,p)}setPitchBearing(c,p){this.orientation=Er(s.degToRad(c),s.degToRad(-p))}}class Ee{constructor(c,p){this._transform=s.identity([]),this.orientation=p,this.position=c}get mercatorPosition(){const c=this.position;return new s.MercatorCoordinate(c[0],c[1],c[2])}get position(){const c=s.getColumn(this._transform,3);return[c[0],c[1],c[2]]}set position(c){var p;c&&s.setColumn(this._transform,3,[(p=c)[0],p[1],p[2],1])}get orientation(){return this._orientation}set orientation(c){this._orientation=c||s.identity$1([]),c&&rr(this._transform,this._orientation)}getPitchBearing(){const c=this.forward(),p=this.right();return{bearing:Math.atan2(-p[1],p[0]),pitch:Math.atan2(Math.sqrt(c[0]*c[0]+c[1]*c[1]),-c[2])}}setPitchBearing(c,p){this._orientation=Er(c,p),rr(this._transform,this._orientation)}forward(){const c=s.getColumn(this._transform,2);return[-c[0],-c[1],-c[2]]}up(){const c=s.getColumn(this._transform,1);return[-c[0],-c[1],-c[2]]}right(){const c=s.getColumn(this._transform,0);return[c[0],c[1],c[2]]}getCameraToWorld(c,p){const T=new Float64Array(16);return s.invert(T,this.getWorldToCamera(c,p)),T}getWorldToCameraPosition(c,p,T){const B=this.position;s.scale$2(B,B,-c);const W=new Float64Array(16);return s.fromScaling(W,[T,T,T]),s.translate(W,W,B),W[10]*=p,W}getWorldToCamera(c,p){const T=new Float64Array(16),B=new Float64Array(4),W=this.position;return s.conjugate(B,this._orientation),s.scale$2(W,W,-c),s.fromQuat(T,B),s.translate(T,T,W),T[1]*=-1,T[5]*=-1,T[9]*=-1,T[13]*=-1,T[8]*=p,T[9]*=p,T[10]*=p,T[11]*=p,T}getCameraToClipPerspective(c,p,T,B){const W=new Float64Array(16);return s.perspective(W,c,p,T,B),W}getDistanceToElevation(c,p=!1){const T=c===0?0:s.mercatorZfromAltitude(c,p?s.latFromMercatorY(this.position[1]):this.position[1]),B=this.forward();return(T-this.position[2])/B[2]}clone(){return new Ee([...this.position],[...this.orientation])}}function Ve(_,c){const p=Ei(_.projection,_.zoom,_.width,_.height),T=function(W,ae,he,ge,De){const Ae=new s.LngLat(he.lng-180*Tn,he.lat),je=new s.LngLat(he.lng+180*Tn,he.lat),Ze=W.project(Ae.lng,Ae.lat),at=W.project(je.lng,je.lat),lt=-Math.atan2(at.y-Ze.y,at.x-Ze.x),ht=s.MercatorCoordinate.fromLngLat(he);ht.y=s.clamp(ht.y,-.999975,.999975);const et=ht.toLngLat(),nt=W.project(et.lng,et.lat),gt=s.MercatorCoordinate.fromLngLat(et);gt.x+=Tn;const ct=gt.toLngLat(),wt=W.project(ct.lng,ct.lat),Dt=so(wt.x-nt.x,wt.y-nt.y,lt),Ct=s.MercatorCoordinate.fromLngLat(et);Ct.y+=Tn;const jt=Ct.toLngLat(),ii=W.project(jt.lng,jt.lat),Jt=so(ii.x-nt.x,ii.y-nt.y,lt),Gt=Math.abs(Dt.x)/Math.abs(Jt.y),Mi=s.identity([]);s.rotateZ(Mi,Mi,-lt*(1-(De?0:ge)));const Xt=s.identity([]);return s.scale(Xt,Xt,[1,1-(1-Gt)*ge,1]),Xt[4]=-Jt.x/Jt.y*ge,s.rotateZ(Xt,Xt,lt),s.multiply(Xt,Mi,Xt),Xt}(_.projection,0,_.center,p,c),B=bt(_);return s.scale(T,T,[B,B,1]),T}function bt(_){const c=_.projection,p=Ei(_.projection,_.zoom,_.width,_.height),T=br(c,_.center),B=br(c,s.LngLat.convert(c.center));return Math.pow(2,T*p+(1-p)*B)}function Ei(_,c,p,T,B=1/0){const W=_.range;if(!W)return 0;const ae=Math.min(B,Math.max(p,T)),he=Math.log(ae/1024)/Math.LN2;return s.smoothstep(W[0]+he,W[1]+he,c)}const Tn=1/4e4;function br(_,c){const p=s.clamp(c.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),T=new s.LngLat(c.lng-180*Tn,p),B=new s.LngLat(c.lng+180*Tn,p),W=_.project(T.lng,p),ae=_.project(B.lng,p),he=s.MercatorCoordinate.fromLngLat(T),ge=s.MercatorCoordinate.fromLngLat(B),De=ae.x-W.x,Ae=ae.y-W.y,je=ge.x-he.x,Ze=ge.y-he.y,at=Math.sqrt((je*je+Ze*Ze)/(De*De+Ae*Ae));return Math.log(at)/Math.LN2}function so(_,c,p){const T=Math.cos(p),B=Math.sin(p);return{x:_*T-c*B,y:_*B+c*T}}class Fs{constructor(c,p,T,B,W,ae,he){this.tileSize=512,this._renderWorldCopies=W===void 0||W,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=T??0,this._maxPitch=B??60,this.setProjection(ae),this.setMaxBounds(he),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new $n,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Ee,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const c=new Fs(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return c._elevation=this._elevation,c._centerAltitude=this._centerAltitude,c._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,c.tileSize=this.tileSize,c.mercatorFromTransition=this.mercatorFromTransition,c.width=this.width,c.height=this.height,c.cameraElevationReference=this.cameraElevationReference,c._center=this._center,c._setZoom(this.zoom),c._seaLevelZoom=this._seaLevelZoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._nearZ=this._nearZ,c._farZ=this._farZ,c._averageElevation=this._averageElevation,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._camera=this._camera.clone(),c._calcMatrices(),c.freezeTileCoverage=this.freezeTileCoverage,c.frustumCorners=this.frustumCorners,c}get elevation(){return this._elevation}set elevation(c){this._elevation!==c&&(this._elevation=c,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(c,p=!1){const T=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||T)&&this._updateCameraOnTerrain(),(c||T)&&this._constrainCamera(p),this._calcMatrices()}getProjection(){return s.pick(this.projection,["name","center","parallels"])}setProjection(c){this.projectionOptions=c||{name:"mercator"};const p=this.projection?this.getProjection():void 0;this.projection=s.getProjection(this.projectionOptions);const T=!v(p,this.getProjection());return T&&this._calcMatrices(),this.mercatorFromTransition=!1,T}setMercatorFromTransition(){const c=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=s.getProjection({name:"mercator"});const p=c!==this.projection.name;return p&&this._calcMatrices(),p}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get cameraWorldSize(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return s.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.pointGeometry(this.width,this.height)}get bearing(){return s.wrap(this.rotation,-180,180)}set bearing(c){this.rotation=c}get rotation(){return-this.angle/Math.PI*180}set rotation(c){const p=-c*Math.PI/180;var T;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=(T=new s.ARRAY_TYPE(4),s.ARRAY_TYPE!=Float32Array&&(T[1]=0,T[2]=0),T[0]=1,T[3]=1,T),function(B,W,ae){var he=W[0],ge=W[1],De=W[2],Ae=W[3],je=Math.sin(ae),Ze=Math.cos(ae);B[0]=he*Ze+De*je,B[1]=ge*Ze+Ae*je,B[2]=he*-je+De*Ze,B[3]=ge*-je+Ae*Ze}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=s.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const c=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/c)}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=s.degToRad(c),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(c){this._averageElevation=c,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._setZoom(p),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(c){this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const c=this._elevation;this._centerAltitude=c.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=c.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const c=this._elevation,p=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],T=this.horizonLineFromTop();let B=0,W=0;for(let ae=0;ae<p.length;ae++){const he=new s.pointGeometry(p[ae][0]*this.width,T+p[ae][1]*(this.height-T)),ge=c.pointCoordinate(he);if(!ge)continue;const De=1/Math.hypot(ge[0]-this._camera.position[0],ge[1]-this._camera.position[1]);B+=ge[3]*De,W+=De}return W===0?NaN:B/W}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const c=this._seaLevelZoom,p=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),T=this.pixelsPerMeter/this.worldSize*p,B=this._mercatorZfromZoom(c),W=this._mercatorZfromZoom(this._maxZoom),ae=Math.max(B-T,W);this._setZoom(this._zoomFromMercatorZ(ae))}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}computeZoomRelativeTo(c){const p=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,c.toAltitude()));let T;T=c.z<this._camera.position[2]?[p.x,p.y,p.z]:[c.x,c.y,c.z];const B=s.length(s.sub([],this._camera.position,T));return s.clamp(this._zoomFromMercatorZ(B),this._minZoom,this._maxZoom)}setFreeCameraOptions(c){if(!this.height||!c.position&&!c.orientation)return;this._updateCameraState();let p=!1;if(c.orientation&&!s.exactEquals(c.orientation,this._camera.orientation)&&(p=this._setCameraOrientation(c.orientation)),c.position){const T=[c.position.x,c.position.y,c.position.z];s.exactEquals$1(T,this._camera.position)||(this._setCameraPosition(T),p=!0)}p&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const c=this._camera.position,p=new we;return p.position=new s.MercatorCoordinate(c[0],c[1],c[2]),p.orientation=this._camera.orientation,p._elevation=this.elevation,p._renderWorldCopies=this.renderWorldCopies,p}_setCameraOrientation(c){if(!s.length$1(c))return!1;s.normalize$1(c,c);const p=s.transformQuat([],[0,0,-1],c),T=s.transformQuat([],[0,-1,0],c);if(T[2]<0)return!1;const B=In(p,T);return!!B&&(this._camera.orientation=B,!0)}_setCameraPosition(c){const p=this.zoomScale(this.minZoom)*this.tileSize,T=this.zoomScale(this.maxZoom)*this.tileSize,B=this.cameraToCenterDistance;c[2]=s.clamp(c[2],B/T,B/p),this._camera.position=c}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,T){this._unmodified=!1,this._edgeInsets.interpolate(c,p,T),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new s.UnwrappedTileID(0,c)];if(this.renderWorldCopies){const T=this.pointCoordinate(new s.pointGeometry(0,0)),B=this.pointCoordinate(new s.pointGeometry(this.width,0)),W=this.pointCoordinate(new s.pointGeometry(this.width,this.height)),ae=this.pointCoordinate(new s.pointGeometry(0,this.height)),he=Math.floor(Math.min(T.x,B.x,W.x,ae.x)),ge=Math.floor(Math.max(T.x,B.x,W.x,ae.x)),De=1;for(let Ae=he-De;Ae<=ge+De;Ae++)Ae!==0&&p.push(new s.UnwrappedTileID(Ae,c))}return p}coveringTiles(c){let p=this.coveringZoomLevel(c);const T=p,B=this.elevation&&!c.isTerrainDEM,W=this.projection.name==="mercator";if(c.minzoom!==void 0&&p<c.minzoom)return[];c.maxzoom!==void 0&&p>c.maxzoom&&(p=c.maxzoom);const ae=this.locationCoordinate(this.center),he=this.center.lat,ge=1<<p,De=[ge*ae.x,ge*ae.y,0],Ae=this.projection.name==="globe",je=!Ae,Ze=s.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p,je),at=Ae?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),lt=ge*s.mercatorZfromAltitude(1,this.center.lat),ht=this._camera.position[2]/s.mercatorZfromAltitude(1,this.center.lat),et=[ge*at.x,ge*at.y,ht*(je?1:lt)],nt=this.cameraToCenterDistance/c.tileSize*(c.roundZoom?1:.502),gt=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?p:0,ct=c.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,wt=c.isTerrainDEM?-ct:this._elevation?this._elevation.getMinElevationBelowMSL():0,Dt=this.projection.isReprojectedInTileSpace?bt(this):1,Ct=si=>{const Ni=new s.MercatorCoordinate(si.x+25e-6,si.y,si.z),Yt=new s.MercatorCoordinate(si.x,si.y+25e-6,si.z),ni=si.toLngLat(),mn=Ni.toLngLat(),Sn=Yt.toLngLat(),gn=this.locationCoordinate(ni),Un=this.locationCoordinate(mn),lr=this.locationCoordinate(Sn),kn=Math.hypot(Un.x-gn.x,Un.y-gn.y),dn=Math.hypot(lr.x-gn.x,lr.y-gn.y);return Math.sqrt(kn*dn)*Dt/25e-6},jt=si=>{const Si=ct,Ni=wt;return{aabb:s.tileAABB(this,ge,0,0,0,si,Ni,Si,this.projection),zoom:0,x:0,y:0,minZ:Ni,maxZ:Si,wrap:si,fullyVisible:!1}},ii=[];let Jt=[];const Gt=p,Mi=c.reparseOverscaled?T:p,Xt=si=>si*si,_i=Xt((ht-this._centerAltitude)*lt),ri=si=>{if(!this._elevation||!si.tileID||!W)return;const Si=this._elevation.getMinMaxForTile(si.tileID),Ni=si.aabb;Si?(Ni.min[2]=Si.min,Ni.max[2]=Si.max,Ni.center[2]=(Ni.min[2]+Ni.max[2])/2):(si.shouldSplit=Ri(si),si.shouldSplit||(Ni.min[2]=Ni.max[2]=Ni.center[2]=this._centerAltitude))},Ri=si=>{if(si.zoom<gt)return!0;if(si.zoom===Gt)return!1;if(si.shouldSplit!=null)return si.shouldSplit;const Si=si.aabb.distanceX(et),Ni=si.aabb.distanceY(et);let Yt=_i,ni=1;if(Ae){Yt=Xt(si.aabb.distanceZ(et));const gn=Math.pow(2,si.zoom),Un=s.latFromMercatorY((si.y+1)/gn),lr=s.latFromMercatorY(si.y/gn),kn=Math.min(Math.max(he,Un),lr),dn=s.circumferenceAtLatitude(kn)/s.circumferenceAtLatitude(he);if(ni=kn===he?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,dn/this._mercatorScaleRatio),this.zoom<=s.GLOBE_ZOOM_THRESHOLD_MIN&&si.zoom===Gt-1&&dn>=.9)return!0}else if(B&&(Yt=Xt(si.aabb.distanceZ(et)*lt)),this.projection.isReprojectedInTileSpace&&T<=5){const gn=Math.pow(2,si.zoom),Un=Ct(new s.MercatorCoordinate((si.x+.5)/gn,(si.y+.5)/gn));ni=Un>.85?1:Un}const mn=Si*Si+Ni*Ni+Yt,Sn=Xt((1<<Gt-si.zoom)*nt*ni*((gn,Un)=>{if(Un*Xt(.707)<gn)return 1;const lr=Math.sqrt(Un/gn);return lr/(1.4144271570014144+(Math.pow(1.1,lr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Yt,_i),mn));return mn<Sn};if(this.renderWorldCopies)for(let si=1;si<=3;si++)ii.push(jt(-si)),ii.push(jt(si));for(ii.push(jt(0));ii.length>0;){const si=ii.pop(),Si=si.x,Ni=si.y;let Yt=si.fullyVisible;if(!Yt){const ni=si.aabb.intersects(Ze);if(ni===0)continue;Yt=ni===2}if(si.zoom!==Gt&&Ri(si))for(let ni=0;ni<4;ni++){const mn=(Si<<1)+ni%2,Sn=(Ni<<1)+(ni>>1),gn={aabb:W?si.aabb.quadrant(ni):s.tileAABB(this,ge,si.zoom+1,mn,Sn,si.wrap,si.minZ,si.maxZ,this.projection),zoom:si.zoom+1,x:mn,y:Sn,wrap:si.wrap,fullyVisible:Yt,tileID:void 0,shouldSplit:void 0,minZ:si.minZ,maxZ:si.maxZ};B&&!Ae&&(gn.tileID=new s.OverscaledTileID(si.zoom+1===Gt?Mi:si.zoom+1,si.wrap,si.zoom+1,mn,Sn),ri(gn)),ii.push(gn)}else{const ni=si.zoom===Gt?Mi:si.zoom;if(c.minzoom&&c.minzoom>ni)continue;const mn=De[0]-(.5+Si+(si.wrap<<si.zoom))*(1<<p-si.zoom),Sn=De[1]-.5-Ni,gn=si.tileID?si.tileID:new s.OverscaledTileID(ni,si.wrap,si.zoom,Si,Ni);Jt.push({tileID:gn,distanceSq:mn*mn+Sn*Sn})}}if(this.fogCullDistSq){const si=this.fogCullDistSq,Si=this.horizonLineFromTop();Jt=Jt.filter(Ni=>{const Yt=[0,0,0,1],ni=[s.EXTENT,s.EXTENT,0,1],mn=this.calculateFogTileMatrix(Ni.tileID.toUnwrapped());s.transformMat4$1(Yt,Yt,mn),s.transformMat4$1(ni,ni,mn);const Sn=s.getAABBPointSquareDist(Yt,ni);if(Sn===0)return!0;let gn=!1;const Un=this._elevation;if(Un&&Sn>si&&Si!==0){const lr=this.calculateProjMatrix(Ni.tileID.toUnwrapped());let kn;c.isTerrainDEM||(kn=Un.getMinMaxForTile(Ni.tileID)),kn||(kn={min:wt,max:ct});const dn=s.furthestTileCorner(this.rotation),is=[dn[0]*s.EXTENT,dn[1]*s.EXTENT,kn.max];s.transformMat4(is,is,lr),gn=(1-is[1])*this.height*.5<Si}return Sn<si||gn})}return Jt.sort((si,Si)=>si.distanceSq-Si.distanceSq).map(si=>si.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=s.clamp(c.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),T=this.projection.project(c.lng,p);return new s.pointGeometry(T.x*this.worldSize,T.y*this.worldSize)}unproject(c){return this.projection.unproject(c.x/this.worldSize,c.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(c,p){let T,B;const W=this.centerPoint;if(this.projection.name==="globe"){const he=this.worldSize;T=(p.x-W.x)/he,B=(p.y-W.y)/he}else{const he=this.pointCoordinate(p),ge=this.pointCoordinate(W);T=he.x-ge.x,B=he.y-ge.y}const ae=this.locationCoordinate(c);this.setLocation(new s.MercatorCoordinate(ae.x-T,ae.y-B))}setLocation(c){this.center=this.coordinateLocation(c),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(c){return this.projection.locationPoint(this,c)}locationPoint3D(c){return this.projection.locationPoint(this,c,!0)}pointLocation(c){return this.coordinateLocation(this.pointCoordinate(c))}pointLocation3D(c){return this.coordinateLocation(this.pointCoordinate3D(c))}locationCoordinate(c,p){const T=p?s.mercatorZfromAltitude(p,c.lat):void 0,B=this.projection.project(c.lng,c.lat);return new s.MercatorCoordinate(B.x,B.y,T)}coordinateLocation(c){return this.projection.unproject(c.x,c.y)}pointRayIntersection(c,p){const T=p??this._centerAltitude,B=[c.x,c.y,0,1],W=[c.x,c.y,1,1];s.transformMat4$1(B,B,this.pixelMatrixInverse),s.transformMat4$1(W,W,this.pixelMatrixInverse);const ae=W[3];s.scale$1(B,B,1/B[3]),s.scale$1(W,W,1/ae);const he=B[2],ge=W[2];return{p0:B,p1:W,t:he===ge?0:(T-he)/(ge-he)}}screenPointToMercatorRay(c){const p=[c.x,c.y,0,1],T=[c.x,c.y,1,1];return s.transformMat4$1(p,p,this.pixelMatrixInverse),s.transformMat4$1(T,T,this.pixelMatrixInverse),s.scale$1(p,p,1/p[3]),s.scale$1(T,T,1/T[3]),p[2]=s.mercatorZfromAltitude(p[2],this._center.lat)*this.worldSize,T[2]=s.mercatorZfromAltitude(T[2],this._center.lat)*this.worldSize,s.scale$1(p,p,1/this.worldSize),s.scale$1(T,T,1/this.worldSize),new s.Ray([p[0],p[1],p[2]],s.normalize([],s.sub([],T,p)))}rayIntersectionCoordinate(c){const{p0:p,p1:T,t:B}=c,W=s.mercatorZfromAltitude(p[2],this._center.lat),ae=s.mercatorZfromAltitude(T[2],this._center.lat);return new s.MercatorCoordinate(s.number(p[0],T[0],B)/this.worldSize,s.number(p[1],T[1],B)/this.worldSize,s.number(W,ae,B))}pointCoordinate(c,p=this._centerAltitude){return this.projection.pointCoordinate(this,c.x,c.y,p)}pointCoordinate3D(c){if(!this.elevation)return this.pointCoordinate(c);let p=this.projection.pointCoordinate3D(this,c.x,c.y);if(p)return new s.MercatorCoordinate(p[0],p[1],p[2]);let T=0,B=this.horizonLineFromTop();if(c.y>B)return this.pointCoordinate(c);const W=.02*B,ae=c.clone();for(let he=0;he<10&&B-T>W;he++){ae.y=s.number(T,B,.66);const ge=this.projection.pointCoordinate3D(this,ae.x,ae.y);ge?(B=ae.y,p=ge):T=ae.y}return p?new s.MercatorCoordinate(p[0],p[1],p[2]):this.pointCoordinate(c)}isPointAboveHorizon(c){return this.projection.isPointAboveHorizon(this,c)}_coordinatePoint(c,p){const T=p&&this.elevation?this.elevation.getAtPointOrZero(c,this._centerAltitude):this._centerAltitude,B=[c.x*this.worldSize,c.y*this.worldSize,T+c.toAltitude(),1];return s.transformMat4$1(B,B,this.pixelMatrix),B[3]>0?new s.pointGeometry(B[0]/B[3],B[1]/B[3]):new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:c,left:p}=this._edgeInsets,T=this.height-this._edgeInsets.bottom,B=this.width-this._edgeInsets.right,W=this.pointCoordinate3D(new s.pointGeometry(p,c)),ae=this.pointCoordinate3D(new s.pointGeometry(B,c)),he=this.pointCoordinate3D(new s.pointGeometry(B,T)),ge=this.pointCoordinate3D(new s.pointGeometry(p,T));let De=Math.min(W.x,ge.x),Ae=Math.max(ae.x,he.x),je=Math.min(W.y,ae.y),Ze=Math.max(ge.y,he.y);const at=Math.pow(2,-this.zoom)/16,lt=(Ct,jt,ii,Jt)=>{const Gt=(Ct+ii)/2,Mi=(jt+Jt)/2,Xt=new s.pointGeometry(Gt,Mi),_i=this.pointCoordinate3D(Xt),ri=Math.max(0,De-_i.x,je-_i.y,_i.x-Ae,_i.y-Ze);De=Math.min(De,_i.x),Ae=Math.max(Ae,_i.x),je=Math.min(je,_i.y),Ze=Math.max(Ze,_i.y),ri>at&&(lt(Ct,jt,Gt,Mi),lt(Gt,Mi,ii,Jt))};lt(p,c,B,c),lt(B,c,B,T),lt(B,T,p,T),lt(p,T,p,c);const[ht,et]=s.polesInViewport(this),nt=ht||et,gt=ht?90:s.latFromMercatorY(je),ct=nt?180:s.lngFromMercatorX(Ae),wt=et?-90:s.latFromMercatorY(Ze),Dt=nt?-180:s.lngFromMercatorX(De);return new s.LngLatBounds(new s.LngLat(Dt,wt),new s.LngLat(ct,gt))}_getBounds(c,p){if(this.projection.name==="globe")return this._getGlobeBounds();const T=new s.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),B=new s.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),W=new s.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),ae=new s.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let he=this.pointCoordinate(T,c),ge=this.pointCoordinate(B,c);const De=this.pointCoordinate(W,p),Ae=this.pointCoordinate(ae,p),je=(Ze,at)=>(at.y-Ze.y)/(at.x-Ze.x);return he.y>1&&ge.y>=0?he=new s.MercatorCoordinate((1-Ae.y)/je(Ae,he)+Ae.x,1):he.y<0&&ge.y<=1&&(he=new s.MercatorCoordinate(-Ae.y/je(Ae,he)+Ae.x,0)),ge.y>1&&he.y>=0?ge=new s.MercatorCoordinate((1-De.y)/je(De,ge)+De.x,1):ge.y<0&&he.y<=1&&(ge=new s.MercatorCoordinate(-De.y/je(De,ge)+De.x,0)),new s.LngLatBounds().extend(this.coordinateLocation(he)).extend(this.coordinateLocation(ge)).extend(this.coordinateLocation(Ae)).extend(this.coordinateLocation(De))}_getBounds3D(){const c=this.elevation;if(!c.visibleDemTiles.length||c.isUsingMockSource())return this._getBounds(0,0);const p=c.visibleDemTiles.reduce((T,B)=>{if(B.dem){const W=B.dem.tree;T.min=Math.min(T.min,W.minimums[0]),T.max=Math.max(T.max,W.maximums[0])}return T},{min:Number.MAX_VALUE,max:0});return this._getBounds(p.min*c.exaggeration(),p.max*c.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(c=!0){const p=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,T=this.height/2-p*(1-this._horizonShift);return c?Math.max(0,T):T}getMaxBounds(){return this.maxBounds}setMaxBounds(c){this.maxBounds=c,this.minLat=-s.MAX_MERCATOR_LATITUDE,this.maxLat=s.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,c&&(this.minLat=c.getSouth(),this.maxLat=c.getNorth(),this.minLng=c.getWest(),this.maxLng=c.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=s.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=s.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=s.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=s.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(c,p){return this.projection.createTileMatrix(this,p,c)}calculateDistanceTileData(c){const p=c.key,T=this._distanceTileDataCache;if(T[p])return T[p];const B=c.canonical,W=1/this.height,ae=this.cameraWorldSize,he=ae/this.zoomScale(B.z),ge=(B.x+Math.pow(2,B.z)*c.wrap)*he,De=B.y*he,Ae=this.point;Ae.x*=ae/this.worldSize,Ae.y*=ae/this.worldSize;const je=this.angle,Ze=Math.sin(-je),at=-Math.cos(-je);return T[p]={bearing:[Ze,at],center:[(Ae.x-ge)*W,(Ae.y-De)*W],scale:he/s.EXTENT*W},T[p]}calculateFogTileMatrix(c){const p=c.key,T=this._fogTileMatrixCache;if(T[p])return T[p];const B=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,c);return s.multiply(B,this.worldToFogMatrix,B),T[p]=new Float32Array(B),T[p]}calculateProjMatrix(c,p=!1){const T=c.key,B=p?this._alignedProjMatrixCache:this._projMatrixCache;if(B[T])return B[T];const W=this.calculatePosMatrix(c,this.worldSize);return s.multiply(W,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:p?this.alignedProjMatrix:this.projMatrix,W),B[T]=new Float32Array(W),B[T]}calculatePixelsToTileUnitsMatrix(c){const p=c.tileID.key,T=this._pixelsToTileUnitsCache;if(T[p])return T[p];const B=function(W,ae){const{scale:he}=W.tileTransform,ge=he*s.EXTENT/(W.tileSize*Math.pow(2,ae.zoom-W.tileID.overscaledZ+W.tileID.canonical.z));return De=new Float32Array(4),Ze=(Ae=ae.inverseAdjustmentMatrix)[1],at=Ae[2],lt=Ae[3],et=(je=[ge,ge])[1],De[0]=Ae[0]*(ht=je[0]),De[1]=Ze*ht,De[2]=at*et,De[3]=lt*et,De;var De,Ae,je,Ze,at,lt,ht,et}(c,this);return T[p]=B,T[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const c=this._elevation;this._updateCameraState();const p=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,T=this._computeCameraPosition(p),B=this._camera.forward(),W=s.mercatorZfromAltitude(1,this._center.lat);T[2]/=W,B[2]/=W,s.normalize(B,B);const ae=c.raycast(T,B,c.exaggeration());if(ae){const he=s.scaleAndAdd([],T,B,ae),ge=new s.MercatorCoordinate(he[0],he[1],s.mercatorZfromAltitude(he[2],s.latFromMercatorY(he[1]))),De=(ge.z+s.length([ge.x-T[0],ge.y-T[1],ge.z-T[2]*W]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(De),this._centerAltitude=ge.toAltitude(),this._center=this.coordinateLocation(ge),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(c=!1){if(!this._elevation)return;const p=this._elevation,T=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,B=this._computeCameraPosition(T),W=p.getAtPointOrZero(new s.MercatorCoordinate(...B)),ae=this.pixelsPerMeter/this.worldSize*W,he=this._minimumHeightOverTerrain(),ge=B[2]-ae;if(ge<=he)if(ge<0||c){const De=this.locationCoordinate(this._center,this._centerAltitude),Ae=[B[0],B[1],De.z-B[2]],je=s.length(Ae);Ae[2]-=(he-ge)/this._pixelsPerMercatorPixel;const Ze=s.length(Ae);if(Ze===0)return;s.scale$2(Ae,Ae,je/Ze*this._pixelsPerMercatorPixel),this._camera.position=[B[0],B[1],De.z*this._pixelsPerMercatorPixel-Ae[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const c=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||c){const Ze=this.center;return Ze.lat=s.clamp(Ze.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!c)&&(Ze.lng=s.clamp(Ze.lng,this.minLng,this.maxLng)),this.center=Ze,void(this._constraining=!1)}const p=this._unmodified,{x:T,y:B}=this.point;let W=0,ae=T,he=B;const ge=this.width/2,De=this.height/2,Ae=this.worldMinY*this.scale,je=this.worldMaxY*this.scale;if(B-De<Ae&&(he=Ae+De),B+De>je&&(he=je-De),je-Ae<this.height&&(W=Math.max(W,this.height/(je-Ae)),he=(je+Ae)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Ze=this.worldMinX*this.scale,at=this.worldMaxX*this.scale,lt=this.worldSize/2-(Ze+at)/2;ae=(T+lt+this.worldSize)%this.worldSize-lt,ae-ge<Ze&&(ae=Ze+ge),ae+ge>at&&(ae=at-ge),at-Ze<this.width&&(W=Math.max(W,this.width/(at-Ze)),ae=(at+Ze)/2)}ae===T&&he===B||(this.center=this.unproject(new s.pointGeometry(ae,he))),W&&(this.zoom+=this.scaleZoom(W)),this._constrainCamera(),this._unmodified=p,this._constraining=!1}_minZoomForBounds(){let c=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(c=Math.max(c,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),c}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=s.mercatorZfromAltitude(1,this.center.lat)/s.mercatorZfromAltitude(1,s.GLOBE_SCALE_MATCH_LATITUDE));const T=Ei(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,T),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const B=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?p:1),W=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);W[8]=2*-c.x/this.width,W[9]=2*c.y/this.height;let ae=s.mul([],W,B);if(this.projection.isReprojectedInTileSpace){const Dt=this.locationCoordinate(this.center),Ct=s.identity([]);s.translate(Ct,Ct,[Dt.x*this.worldSize,Dt.y*this.worldSize,0]),s.multiply(Ct,Ct,Ve(this)),s.translate(Ct,Ct,[-Dt.x*this.worldSize,-Dt.y*this.worldSize,0]),s.multiply(ae,ae,Ct),this.inverseAdjustmentMatrix=function(jt){const ii=Ve(jt,!0);return $([],[ii[0],ii[1],ii[4],ii[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=s.scale([],ae,[this.worldSize,this.worldSize,this.worldSize/p,1]),this.projMatrix=ae,this.invProjMatrix=s.invert(new Float64Array(16),this.projMatrix);const he=s.invert([],W);this.frustumCorners=s.FrustumCorners.fromInvProjectionMatrix(he,this.horizonLineFromTop(),this.height);const ge=new Float32Array(16);s.identity(ge),s.scale(ge,ge,[1,-1,1]),s.rotateX(ge,ge,this._pitch),s.rotateZ(ge,ge,this.angle);const De=s.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Ae=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;De[8]=2*-c.x/this.width,De[9]=2*(c.y+Ae)/this.height,this.skyboxMatrix=s.multiply(ge,De,ge);const je=this.point,Ze=je.x,at=je.y,lt=this.width%2/2,ht=this.height%2/2,et=Math.cos(this.angle),nt=Math.sin(this.angle),gt=Ze-Math.round(Ze)+et*lt+nt*ht,ct=at-Math.round(at)+et*ht+nt*lt,wt=new Float64Array(ae);if(s.translate(wt,wt,[gt>.5?gt-1:gt,ct>.5?ct-1:ct,0]),this.alignedProjMatrix=wt,ae=s.create(),s.scale(ae,ae,[this.width/2,-this.height/2,1]),s.translate(ae,ae,[1,-1,0]),this.labelPlaneMatrix=ae,ae=s.create(),s.scale(ae,ae,[1,-1,1]),s.translate(ae,ae,[-1,-1,0]),s.scale(ae,ae,[2/this.width,2/this.height,1]),this.glCoordMatrix=ae,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},ae=s.invert(new Float64Array(16),this.pixelMatrix),!ae)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=ae,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=s.calculateGlobeMatrix(this);const Dt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=s.transformMat4(Dt,Dt,B),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=ae;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const c=this.cameraWorldSizeForFog,p=this.cameraPixelsPerMeter,T=this._camera.position,B=1/this.height/this._pixelsPerMercatorPixel,W=[c,c,p];s.scale$2(W,W,B),s.scale$2(T,T,-1),s.multiply$2(T,T,W);const ae=s.create();s.translate(ae,ae,T),s.scale(ae,ae,W),this.mercatorFogMatrix=ae,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(c,p,B)}_computeCameraPosition(c){const p=(c=c||this.pixelsPerMeter)/this.pixelsPerMeter,T=this._camera.forward(),B=this.point,W=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*p-c/this.worldSize*this._centerAltitude;return[B.x/this.worldSize-T[0]*W,B.y/this.worldSize-T[1]*W,c/this.worldSize*this._centerAltitude-T[2]*W]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(c){const p=this._maxCameraBoundsDistance()*Math.cos(this._pitch),T=this._camera.position[2],B=c[2];let W=1;this.projection.wrap&&(this.center=this.center.wrap()),B>0&&(W=Math.min((p-T)/B,1)),this._camera.position=s.scaleAndAdd([],this._camera.position,c,W),this._updateStateFromCamera()}_updateStateFromCamera(){const c=this._camera.position,p=this._camera.forward(),{pitch:T,bearing:B}=this._camera.getPitchBearing(),W=s.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,ae=this._mercatorZfromZoom(this._maxZoom)*Math.cos(s.degToRad(this._maxPitch)),he=Math.max((c[2]-W)/Math.cos(T),ae),ge=this._zoomFromMercatorZ(he);s.scaleAndAdd(c,c,p,he),this._pitch=s.clamp(T,s.degToRad(this.minPitch),s.degToRad(this.maxPitch)),this.angle=s.wrap(B,-Math.PI,Math.PI),this._setZoom(s.clamp(ge,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new s.MercatorCoordinate(c[0],c[1],c[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(c){return Math.pow(2,c)*this.tileSize}_mercatorZfromZoom(c){return this.cameraToCenterDistance/this._worldSizeFromZoom(c)}_minimumHeightOverTerrain(){const c=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(c)}_zoomFromMercatorZ(c){return this.scaleZoom(this.cameraToCenterDistance/(c*this.tileSize))}zoomFromMercatorZAdjusted(c){const p=ae=>{const he=this.getCameraToCenterDistance(this.projection,ae);return this.scaleZoom(he/(c*this.tileSize))};let T,B=p(this.zoom),W=Math.abs(B-p(B));for(;T!==W;)B=p(B),T=W,W=Math.abs(B-p(B));return B}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(s.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(c,p){const T=Math.min(c.x,p.x),B=Math.max(c.x,p.x),W=Math.min(c.y,p.y),ae=Math.max(c.y,p.y);if(W<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const he=[new s.pointGeometry(T,W),new s.pointGeometry(B,ae),new s.pointGeometry(T,ae),new s.pointGeometry(B,W)],ge=this.renderWorldCopies?-3:0,De=this.renderWorldCopies?4:1;for(const Ae of he){const je=this.pointRayIntersection(Ae);if(je.t<0)return!0;const Ze=this.rayIntersectionCoordinate(je);if(Ze.x<ge||Ze.y<0||Ze.x>De||Ze.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+s.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new s.pointGeometry(0,0),new s.pointGeometry(this.width,this.height))}zoomDeltaToMovement(c,p){const T=s.length(s.sub([],this._camera.position,c)),B=this._zoomFromMercatorZ(T)+p;return T-this._mercatorZfromZoom(B)}getCameraPoint(){if(this.projection.name==="globe"){const c=function([p,T,B],W){const ae=[p,T,B,1];s.transformMat4$1(ae,ae,W);const he=ae[3]=Math.max(ae[3],1e-6);return ae[0]/=he,ae[1]/=he,ae[2]/=he,ae}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new s.pointGeometry(c[0],c[1])}{const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.pointGeometry(0,c))}}getCameraToCenterDistance(c,p=this.zoom){const T=Ei(c,p,this.width,this.height,1024),B=c.pixelSpaceConversion(this.center.lat,this.worldSize,T);return .5/Math.tan(.5*this._fov)*this.height*B}getWorldToCameraMatrix(){const c=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&s.multiply(c,c,this.globeMatrix),c}}function Cl(_,c){let p=!1,T=null;const B=()=>{T=null,p&&(_(),T=setTimeout(B,c),p=!1)};return()=>(p=!0,T||B(),T)}class sn{constructor(c){this._hashName=c&&encodeURIComponent(c),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Cl(this._updateHashUnthrottled.bind(this),300)}addTo(c){return this._map=c,s.window.addEventListener("hashchange",this._onHashChange,!1),c.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),s.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const c=this._map;if(!c)return"";const p=El(c);if(this._hashName){const T=this._hashName;let B=!1;const W=s.window.location.hash.slice(1).split("&").map(ae=>{const he=ae.split("=")[0];return he===T?(B=!0,`${he}=${p}`):ae}).filter(ae=>ae);return B||W.push(`${T}=${p}`),`#${W.join("&")}`}return`#${p}`}_getCurrentHash(){const c=s.window.location.hash.replace("#","");if(this._hashName){let p;return c.split("&").map(T=>T.split("=")).forEach(T=>{T[0]===this._hashName&&(p=T)}),(p&&p[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._map;if(!c)return!1;const p=this._getCurrentHash();if(p.length>=3&&!p.some(T=>isNaN(T))){const T=c.dragRotate.isEnabled()&&c.touchZoomRotate.isEnabled()?+(p[3]||0):c.getBearing();return c.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:T,pitch:+(p[4]||0)}),!0}return!1}_updateHashUnthrottled(){const c=s.window.location.href.replace(/(#.+)?$/,this.getHashString());s.window.history.replaceState(s.window.history.state,null,c)}}function El(_,c){const p=_.getCenter(),T=Math.round(100*_.getZoom())/100,B=Math.ceil((T*Math.LN2+Math.log(512/360/.5))/Math.LN10),W=Math.pow(10,B),ae=Math.round(p.lng*W)/W,he=Math.round(p.lat*W)/W,ge=_.getBearing(),De=_.getPitch();let Ae=c?`/${ae}/${he}/${T}`:`${T}/${he}/${ae}`;return(ge||De)&&(Ae+="/"+Math.round(10*ge)/10),De&&(Ae+=`/${Math.round(De)}`),Ae}const Id={linearity:.3,easing:s.bezier(0,0,.3,1)},_h=s.extend({deceleration:2500,maxSpeed:1400},Id),yp=s.extend({deceleration:20,maxSpeed:1400},Id),zu=s.extend({deceleration:1e3,maxSpeed:360},Id),Af=s.extend({deceleration:1e3,maxSpeed:90},Id);class _p{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=s.exported.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new s.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:W}of this._inertiaBuffer)p.zoom+=W.zoomDelta||0,p.bearing+=W.bearingDelta||0,p.pitch+=W.pitchDelta||0,W.panDelta&&p.pan._add(W.panDelta),W.around&&(p.around=W.around),W.pinchAround&&(p.pinchAround=W.pinchAround);const T=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,B={};if(p.pan.mag()){const W=js(p.pan.mag(),T,s.extend({},_h,c||{}));B.offset=p.pan.mult(W.amount/p.pan.mag()),B.center=this._map.transform.center,Nu(B,W)}if(p.zoom){const W=js(p.zoom,T,yp);B.zoom=this._map.transform.zoom+W.amount,Nu(B,W)}if(p.bearing){const W=js(p.bearing,T,zu);B.bearing=this._map.transform.bearing+s.clamp(W.amount,-179,179),Nu(B,W)}if(p.pitch){const W=js(p.pitch,T,Af);B.pitch=this._map.transform.pitch+W.amount,Nu(B,W)}if(B.zoom||B.bearing){const W=p.pinchAround===void 0?p.around:p.pinchAround;B.around=W?this._map.unproject(W):this._map.getCenter()}return this.clear(),B.noMoveStart=!0,B}}function Nu(_,c){(!_.duration||_.duration<c.duration)&&(_.duration=c.duration,_.easing=c.easing)}function js(_,c,p){const{maxSpeed:T,linearity:B,deceleration:W}=p,ae=s.clamp(_*B/(c/1e3),-T,T),he=Math.abs(ae)/(W*B);return{easing:p.easing,duration:1e3*he,amount:ae*(he/2)}}class ms extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T,B={}){const W=U(p.getCanvasContainer(),T),ae=p.unproject(W);super(c,s.extend({point:W,lngLat:ae,originalEvent:T},B)),this._defaultPrevented=!1,this.target=p}}class vh extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T){const B=c==="touchend"?T.changedTouches:T.touches,W=E(p.getCanvasContainer(),B),ae=W.map(ge=>p.unproject(ge)),he=W.reduce((ge,De,Ae,je)=>ge.add(De.div(je.length)),new s.pointGeometry(0,0));super(c,{points:W,point:he,lngLats:ae,lngLat:p.unproject(he),originalEvent:T}),this._defaultPrevented=!1}}class Fu extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T){super(c,{originalEvent:T}),this._defaultPrevented=!1}}class sm{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){this._mousedownPos=void 0}wheel(c){return this._firePreventable(new Fu(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new ms(c.type,this._map,c))}mouseup(c){this._map.fire(new ms(c.type,this._map,c))}preclick(c){const p=s.extend({},c);p.type="preclick",this._map.fire(new ms(p.type,this._map,p))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||(this.preclick(c),this._map.fire(new ms(c.type,this._map,c)))}dblclick(c){return this._firePreventable(new ms(c.type,this._map,c))}mouseover(c){this._map.fire(new ms(c.type,this._map,c))}mouseout(c){this._map.fire(new ms(c.type,this._map,c))}touchstart(c){return this._firePreventable(new vh(c.type,this._map,c))}touchmove(c){this._map.fire(new vh(c.type,this._map,c))}touchend(c){this._map.fire(new vh(c.type,this._map,c))}touchcancel(c){this._map.fire(new vh(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Zg{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(c){this._map.fire(new ms(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ms("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new ms(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class vp{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(M(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const T=p,B=this._startPos,W=this._lastPos;if(!B||!W||W.equals(T)||!this._box&&T.dist(B)<this._clickTolerance)return;this._lastPos=T,this._box||(this._box=z("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const ae=Math.min(B.x,T.x),he=Math.max(B.x,T.x),ge=Math.min(B.y,T.y),De=Math.max(B.y,T.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${ae}px,${ge}px)`,this._box.style.width=he-ae+"px",this._box.style.height=De-ge+"px")})}mouseupWindow(c,p){if(!this._active)return;const T=this._startPos,B=p;if(T&&c.button===0){if(this.reset(),H(),T.x!==B.x||T.y!==B.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:W=>W.fitScreenCoordinates(T,B,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",c)}}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),S(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new s.Event(c,{originalEvent:p}))}}function Mc(_,c){const p={};for(let T=0;T<_.length;T++)p[_[T].identifier]=c[T];return p}class xh{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(c,p,T){(this.centroid||T.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=c.timeStamp),T.length===this.numTouches&&(this.centroid=function(B){const W=new s.pointGeometry(0,0);for(const ae of B)W._add(ae);return W.div(B.length)}(p),this.touches=Mc(T,p)))}touchmove(c,p,T){if(this.aborted||!this.centroid)return;const B=Mc(T,p);for(const W in this.touches){const ae=this.touches[W],he=B[W];(!he||he.dist(ae)>30)&&(this.aborted=!0)}}touchend(c,p,T){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),T.length===0){const B=!this.aborted&&this.centroid;if(this.reset(),B)return B}}}class Qc{constructor(c){this.singleTap=new xh(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(c,p,T){this.singleTap.touchstart(c,p,T)}touchmove(c,p,T){this.singleTap.touchmove(c,p,T)}touchend(c,p,T){const B=this.singleTap.touchend(c,p,T);if(B){const W=c.timeStamp-this.lastTime<500,ae=!this.lastTap||this.lastTap.dist(B)<30;if(W&&ae||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=B,this.count===this.numTaps)return this.reset(),B}}}class ju{constructor(){this._zoomIn=new Qc({numTouches:1,numTaps:2}),this._zoomOut=new Qc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,T){this._zoomIn.touchstart(c,p,T),this._zoomOut.touchstart(c,p,T)}touchmove(c,p,T){this._zoomIn.touchmove(c,p,T),this._zoomOut.touchmove(c,p,T)}touchend(c,p,T){const B=this._zoomIn.touchend(c,p,T),W=this._zoomOut.touchend(c,p,T);return B?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ae=>ae.easeTo({duration:300,zoom:ae.getZoom()+1,around:ae.unproject(B)},{originalEvent:c})}):W?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ae=>ae.easeTo({duration:300,zoom:ae.getZoom()-1,around:ae.unproject(W)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Ld={0:1,2:2};class Od{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(c,p){return!1}_move(c,p){return{}}mousedown(c,p){if(this._lastPoint)return;const T=ie(c);this._correctButton(c,T)&&(this._lastPoint=p,this._eventButton=T)}mousemoveWindow(c,p){const T=this._lastPoint;if(T){if(c.preventDefault(),this._eventButton!=null&&function(B,W){const ae=Ld[W];return B.buttons===void 0||(B.buttons&ae)!==ae}(c,this._eventButton))this.reset();else if(this._moved||!(p.dist(T)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(T,p)}}mouseupWindow(c){this._lastPoint&&ie(c)===this._eventButton&&(this._moved&&H(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class du extends Od{mousedown(c,p){super.mousedown(c,p),this._lastPoint&&(this._active=!0)}_correctButton(c,p){return p===0&&!c.ctrlKey}_move(c,p){return{around:p,panDelta:p.sub(c)}}}class Pf extends Od{_correctButton(c,p){return p===0&&c.ctrlKey||p===2}_move(c,p){const T=.8*(p.x-c.x);if(T)return this._active=!0,{bearingDelta:T}}contextmenu(c){c.preventDefault()}}class Df extends Od{_correctButton(c,p){return p===0&&c.ctrlKey||p===2}_move(c,p){const T=-.5*(p.y-c.y);if(T)return this._active=!0,{pitchDelta:T}}contextmenu(c){c.preventDefault()}}class om{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._minTouches=1,this._clickTolerance=p.clickTolerance||1,this.reset(),s.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new s.pointGeometry(0,0)}touchstart(c,p,T){return this._calculateTransform(c,p,T)}touchmove(c,p,T){if(this._active&&!(T.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(T.length===1&&!s.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return c.cancelable&&c.preventDefault(),this._calculateTransform(c,p,T)}}touchend(c,p,T){this._calculateTransform(c,p,T),this._active&&T.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,T){T.length>0&&(this._active=!0);const B=Mc(T,p),W=new s.pointGeometry(0,0),ae=new s.pointGeometry(0,0);let he=0;for(const De in B){const Ae=B[De],je=this._touches[De];je&&(W._add(Ae),ae._add(Ae.sub(je)),he++,B[De]=Ae)}if(this._touches=B,he<this._minTouches||!ae.mag())return;const ge=ae.div(he);return this._sum._add(ge),this._sum.mag()<this._clickTolerance?void 0:{around:W.div(he),panDelta:ge}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=z("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class xp{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(c){}_move(c,p,T){return{}}touchstart(c,p,T){this._firstTwoTouches||T.length<2||(this._firstTwoTouches=[T[0].identifier,T[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,T){const B=this._firstTwoTouches;if(!B)return;c.preventDefault();const[W,ae]=B,he=ed(T,p,W),ge=ed(T,p,ae);if(!he||!ge)return;const De=this._aroundCenter?null:he.add(ge).div(2);return this._move([he,ge],De,c)}touchend(c,p,T){if(!this._firstTwoTouches)return;const[B,W]=this._firstTwoTouches,ae=ed(T,p,B),he=ed(T,p,W);ae&&he||(this._active&&H(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function ed(_,c,p){for(let T=0;T<_.length;T++)if(_[T].identifier===p)return c[T]}function Uu(_,c){return Math.log(_/c)/Math.LN2}class $u extends xp{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const T=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Uu(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Uu(this._distance,T),pinchAround:p}}}function If(_,c){return 180*_.angleWith(c)/Math.PI}class it extends xp{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const T=this._vector;if(this._vector=c[0].sub(c[1]),T&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:If(this._vector,T),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,T=this._startVector;if(!T)return!1;const B=If(c,T);return Math.abs(B)<p}}function td(_){return Math.abs(_.y)>Math.abs(_.x)}class bh extends xp{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(c){this._lastPoints=c,td(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,T){const B=this._lastPoints;if(!B)return;const W=c[0].sub(B[0]),ae=c[1].sub(B[1]);return this._map._cooperativeGestures&&!s.isFullscreen()&&T.touches.length<3||(this._valid=this.gestureBeginsVertically(W,ae,T.timeStamp),!this._valid)?void 0:(this._lastPoints=c,this._active=!0,{pitchDelta:(W.y+ae.y)/2*-.5})}gestureBeginsVertically(c,p,T){if(this._valid!==void 0)return this._valid;const B=c.mag()>=2,W=p.mag()>=2;if(!B&&!W)return;if(!B||!W)return this._firstMove==null&&(this._firstMove=T),T-this._firstMove<100&&void 0;const ae=c.y>0==p.y>0;return td(c)&&td(p)&&ae}}const cl={panStep:100,bearingStep:15,pitchStep:10};class er{constructor(){const c=cl;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,T=0,B=0,W=0,ae=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?T=-1:(c.preventDefault(),W=-1);break;case 39:c.shiftKey?T=1:(c.preventDefault(),W=1);break;case 38:c.shiftKey?B=1:(c.preventDefault(),ae=-1);break;case 40:c.shiftKey?B=-1:(c.preventDefault(),ae=1);break;default:return}return this._rotationDisabled&&(T=0,B=0),{cameraAnimation:he=>{const ge=he.getZoom();he.easeTo({duration:300,easeId:"keyboardHandler",easing:Kg,zoom:p?Math.round(ge)+p*(c.shiftKey?2:1):ge,bearing:he.getBearing()+T*this._bearingStep,pitch:he.getPitch()+B*this._pitchStep,offset:[-W*this._panStep,-ae*this._panStep],center:he.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Kg(_){return _*(2-_)}const Lf=4.000244140625;class Jg{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(c.ctrlKey||c.metaKey||this.isZooming()||s.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let p=c.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const T=s.exported.now(),B=T-(this._lastWheelEventTime||0);this._lastWheelEventTime=T,p!==0&&p%Lf==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":B>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(B*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=U(this._el,c);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:p,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;this._type==="wheel"&&c.projection.wrap&&(c._center.lng>=180||c._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const p=()=>c._terrainEnabled()&&this._aroundCoord?c.computeZoomRelativeTo(this._aroundCoord):c.zoom;if(this._delta!==0){const ge=this._type==="wheel"&&Math.abs(this._delta)>Lf?this._wheelZoomRate:this._defaultZoomRate;let De=2/(1+Math.exp(-Math.abs(this._delta*ge)));this._delta<0&&De!==0&&(De=1/De);const Ae=p(),je=Math.pow(2,Ae),Ze=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):je;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(Ze*De))),this._type==="wheel"&&(this._startZoom=Ae,this._easing=this._smoothOutEasing(200)),this._delta=0}const T=typeof this._targetZoom=="number"?this._targetZoom:p(),B=this._startZoom,W=this._easing;let ae,he=!1;if(this._type==="wheel"&&B&&W){const ge=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),De=W(ge);ae=s.number(B,T,De),ge<1?this._frameId||(this._frameId=!0):he=!0}else ae=T,he=!0;return this._active=!0,he&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!he,zoomDelta:ae-p(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=s.ease;if(this._prevEase){const T=this._prevEase,B=(s.exported.now()-T.start)/T.duration,W=T.easing(B+.01)-T.easing(B),ae=.27/Math.sqrt(W*W+1e-4)*.01,he=Math.sqrt(.0729-ae*ae);p=s.bezier(ae,he,.25,1)}return this._prevEase={start:s.exported.now(),duration:c,easing:p},p}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=z("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(s.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class uu{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class id{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(c,p){return c.preventDefault(),{cameraAnimation:T=>{T.easeTo({duration:300,zoom:T.getZoom()+(c.shiftKey?-1:1),around:T.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class am{constructor(){this._tap=new Qc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(c,p,T){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?T.length>0&&(this._swipePoint=p[0],this._swipeTouch=T[0].identifier):this._tap.touchstart(c,p,T))}touchmove(c,p,T){if(this._tapTime){if(this._swipePoint){if(T[0].identifier!==this._swipeTouch)return;const B=p[0],W=B.y-this._swipePoint.y;return this._swipePoint=B,c.preventDefault(),this._active=!0,{zoomDelta:W/128}}}else this._tap.touchmove(c,p,T)}touchend(c,p,T){this._tapTime?this._swipePoint&&T.length===0&&this.reset():this._tap.touchend(c,p,T)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vu{constructor(c,p,T){this._el=c,this._mousePan=p,this._touchPan=T}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class kc{constructor(c,p,T){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=T}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class bp{constructor(c,p,T,B){this._el=c,this._touchZoom=p,this._touchRotate=T,this._tapDragZoom=B,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const nn=_=>_.zoom||_.drag||_.pitch||_.rotate;class lm extends s.Event{}class cm{constructor(){this.constants=[1,1,.01],this.radius=0}setup(c,p){const T=s.sub([],p,c);this.radius=s.length(T[2]<0?s.div([],T,this.constants):[T[0],T[1],0])}projectRay(c){s.div(c,c,this.constants),s.normalize(c,c),s.mul$1(c,c,this.constants);const p=s.scale$2([],c,this.radius);if(p[2]>0){const T=s.scale$2([],[0,0,1],s.dot(p,[0,0,1])),B=s.scale$2([],s.normalize([],[p[0],p[1],0]),this.radius),W=s.add([],p,s.scale$2([],s.sub([],s.add([],B,T),p),2));p[0]=W[0],p[1]=W[1]}return p}}function Rd(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class wh{constructor(c,p){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new _p(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new cm,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(p),s.bindAll(["handleEvent","handleWindowEvent"],this);const T=this._el;this._listeners=[[T,"touchstart",{passive:!0}],[T,"touchmove",{passive:!1}],[T,"touchend",void 0],[T,"touchcancel",void 0],[T,"mousedown",void 0],[T,"mousemove",void 0],[T,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[T,"mouseover",void 0],[T,"mouseout",void 0],[T,"dblclick",void 0],[T,"click",void 0],[T,"keydown",{capture:!1}],[T,"keyup",void 0],[T,"wheel",{passive:!1}],[T,"contextmenu",void 0],[s.window,"blur",void 0]];for(const[B,W,ae]of this._listeners)B.addEventListener(W,B===s.window.document?this.handleWindowEvent:this.handleEvent,ae)}destroy(){for(const[c,p,T]of this._listeners)c.removeEventListener(p,c===s.window.document?this.handleWindowEvent:this.handleEvent,T)}_addDefaultHandlers(c){const p=this._map,T=p.getCanvasContainer();this._add("mapEvent",new sm(p,c));const B=p.boxZoom=new vp(p,c);this._add("boxZoom",B);const W=new ju,ae=new id;p.doubleClickZoom=new uu(ae,W),this._add("tapZoom",W),this._add("clickZoom",ae);const he=new am;this._add("tapDragZoom",he);const ge=p.touchPitch=new bh(p);this._add("touchPitch",ge);const De=new Pf(c),Ae=new Df(c);p.dragRotate=new kc(c,De,Ae),this._add("mouseRotate",De,["mousePitch"]),this._add("mousePitch",Ae,["mouseRotate"]);const je=new du(c),Ze=new om(p,c);p.dragPan=new Vu(T,je,Ze),this._add("mousePan",je),this._add("touchPan",Ze,["touchZoom","touchRotate"]);const at=new it,lt=new $u;p.touchZoomRotate=new bp(T,lt,at,he),this._add("touchRotate",at,["touchPan","touchZoom"]),this._add("touchZoom",lt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Zg(p));const ht=p.scrollZoom=new Jg(p,this);this._add("scrollZoom",ht,["mousePan"]);const et=p.keyboard=new er;this._add("keyboard",et);for(const nt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[nt]&&p[nt].enable(c[nt])}_add(c,p,T){this._handlers.push({handlerName:c,handler:p,allowed:T}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!nn(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(c,p,T){for(const B in c)if(B!==T&&(!p||p.indexOf(B)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const p=[];for(const T of c)this._el.contains(T.target)&&p.push(T);return p}handleEvent(c,p){this._updatingCamera=!0;const T=c.type==="renderFrame",B=T?void 0:c,W={needsRenderFrame:!1},ae={},he={},ge=c.touches?this._getMapTouches(c.touches):void 0,De=ge?E(this._el,ge):T?void 0:U(this._el,c);for(const{handlerName:Ze,handler:at,allowed:lt}of this._handlers){if(!at.isEnabled())continue;let ht;this._blockedByActive(he,lt,Ze)?at.reset():at[p||c.type]&&(ht=at[p||c.type](c,De,ge),this.mergeHandlerResult(W,ae,ht,Ze,B),ht&&ht.needsRenderFrame&&this._triggerRenderFrame()),(ht||at.isActive())&&(he[Ze]=at)}const Ae={};for(const Ze in this._previousActiveHandlers)he[Ze]||(Ae[Ze]=B);this._previousActiveHandlers=he,(Object.keys(Ae).length||Rd(W))&&(this._changes.push([W,ae,Ae]),this._triggerRenderFrame()),(Object.keys(he).length||Rd(W))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:je}=W;je&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],je(this._map))}mergeHandlerResult(c,p,T,B,W){if(!T)return;s.extend(c,T);const ae={handlerName:B,originalEvent:T.originalEvent||W};T.zoomDelta!==void 0&&(p.zoom=ae),T.panDelta!==void 0&&(p.drag=ae),T.pitchDelta!==void 0&&(p.pitch=ae),T.bearingDelta!==void 0&&(p.rotate=ae)}_applyChanges(){const c={},p={},T={};for(const[B,W,ae]of this._changes)B.panDelta&&(c.panDelta=(c.panDelta||new s.pointGeometry(0,0))._add(B.panDelta)),B.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+B.zoomDelta),B.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+B.bearingDelta),B.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+B.pitchDelta),B.around!==void 0&&(c.around=B.around),B.aroundCoord!==void 0&&(c.aroundCoord=B.aroundCoord),B.pinchAround!==void 0&&(c.pinchAround=B.pinchAround),B.noInertia&&(c.noInertia=B.noInertia),s.extend(p,W),s.extend(T,ae);this._updateMapTransform(c,p,T),this._changes=[]}_updateMapTransform(c,p,T){const B=this._map,W=B.transform,ae=gt=>[gt.x,gt.y,gt.z];if((gt=>{const ct=this._eventsInProgress.drag;return ct&&!this._handlersById[ct.handlerName].isActive()})()&&!Rd(c)){const gt=W.zoom;W.cameraElevationReference="sea",W.recenterOnTerrain(),W.cameraElevationReference="ground",gt!==W.zoom&&this._map._update(!0)}if(W._isCameraConstrained&&B._stop(!0),!Rd(c))return void this._fireEvents(p,T,!0);let{panDelta:he,zoomDelta:ge,bearingDelta:De,pitchDelta:Ae,around:je,aroundCoord:Ze,pinchAround:at}=c;W._isCameraConstrained&&(ge>0&&(ge=0),W._isCameraConstrained=!1),at!==void 0&&(je=at),(gt=>p.drag&&!this._eventsInProgress.drag)()&&je&&(this._dragOrigin=ae(W.pointCoordinate3D(je)),this._trackingEllipsoid.setup(W._camera.position,this._dragOrigin)),W.cameraElevationReference="sea",B._stop(!0),je=je||B.transform.centerPoint,De&&(W.bearing+=De),Ae&&(W.pitch+=Ae),W._updateCameraState();const lt=[0,0,0];if(he)if(W.projection.name==="mercator"){const gt=this._trackingEllipsoid.projectRay(W.screenPointToMercatorRay(je).dir),ct=this._trackingEllipsoid.projectRay(W.screenPointToMercatorRay(je.sub(he)).dir);lt[0]=ct[0]-gt[0],lt[1]=ct[1]-gt[1]}else{const gt=W.pointCoordinate(je);if(W.projection.name==="globe"){he=he.rotate(-W.angle);const ct=W._pixelsPerMercatorPixel/W.worldSize;lt[0]=-he.x*s.mercatorScale(s.latFromMercatorY(gt.y))*ct,lt[1]=-he.y*s.mercatorScale(W.center.lat)*ct}else{const ct=W.pointCoordinate(je.sub(he));gt&&ct&&(lt[0]=ct.x-gt.x,lt[1]=ct.y-gt.y)}}const ht=W.zoom,et=[0,0,0];if(ge){const gt=ae(Ze||W.pointCoordinate3D(je)),ct={dir:s.normalize([],s.sub([],gt,W._camera.position))};if(ct.dir[2]<0){const wt=W.zoomDeltaToMovement(gt,ge);s.scale$2(et,ct.dir,wt)}}const nt=s.add(lt,lt,et);W._translateCameraConstrained(nt),ge&&Math.abs(W.zoom-ht)>1e-4&&W.recenterOnTerrain(),W.cameraElevationReference="ground",this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,T,!0)}_fireEvents(c,p,T){const B=nn(this._eventsInProgress),W=nn(c),ae={};for(const Ae in c){const{originalEvent:je}=c[Ae];this._eventsInProgress[Ae]||(ae[`${Ae}start`]=je),this._eventsInProgress[Ae]=c[Ae]}!B&&W&&this._fireEvent("movestart",W.originalEvent);for(const Ae in ae)this._fireEvent(Ae,ae[Ae]);W&&this._fireEvent("move",W.originalEvent);for(const Ae in c){const{originalEvent:je}=c[Ae];this._fireEvent(Ae,je)}const he={};let ge;for(const Ae in this._eventsInProgress){const{handlerName:je,originalEvent:Ze}=this._eventsInProgress[Ae];this._handlersById[je].isActive()||(delete this._eventsInProgress[Ae],ge=p[je]||Ze,he[`${Ae}end`]=ge)}for(const Ae in he)this._fireEvent(Ae,he[Ae]);const De=nn(this._eventsInProgress);if(T&&(B||W)&&!De){this._updatingCamera=!0;const Ae=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),je=Ze=>Ze!==0&&-this._bearingSnap<Ze&&Ze<this._bearingSnap;Ae?(je(Ae.bearing||this._map.getBearing())&&(Ae.bearing=0),this._map.easeTo(Ae,{originalEvent:ge})):(this._map.fire(new s.Event("moveend",{originalEvent:ge})),je(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new s.Event(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{this._frameId=void 0,this.handleEvent(new lm("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Of="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Ac extends s.Evented{constructor(c,p){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,T){return c=s.pointGeometry.convert(c).mult(-1),this.panTo(this.transform.center,s.extend({offset:c},p),T)}panTo(c,p,T){return this.easeTo(s.extend({center:c},p),T)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,T){return this.easeTo(s.extend({zoom:c},p),T)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,T){return this.easeTo(s.extend({bearing:c},p),T)}resetNorth(c,p){return this.rotateTo(0,s.extend({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=s.LngLatBounds.convert(c);const T=p&&p.bearing||0,B=p&&p.pitch||0,W=c.getNorthWest(),ae=c.getSouthEast();return this._cameraForBounds(this.transform,W,ae,T,B,p)}_extendCameraOptions(c){const p={top:0,bottom:0,right:0,left:0};if(typeof(c=s.extend({padding:p,offset:[0,0],maxZoom:this.transform.maxZoom},c)).padding=="number"){const T=c.padding;c.padding={top:T,bottom:T,right:T,left:T}}return c.padding=s.extend(p,c.padding),c}_minimumAABBFrustumDistance(c,p){const T=p.max[0]-p.min[0],B=p.max[1]-p.min[1];return T/B>c.aspect?T/(2*Math.tan(.5*c.fovX)*c.aspect):B/(2*Math.tan(.5*c.fovY)*c.aspect)}_cameraForBoundsOnGlobe(c,p,T,B,W,ae){const he=c.clone(),ge=this._extendCameraOptions(ae);he.bearing=B,he.pitch=W;const De=s.LngLat.convert(p),Ae=s.LngLat.convert(T),je=.5*(De.lat+Ae.lat),Ze=.5*(De.lng+Ae.lng),at=s.latLngToECEF(je,Ze),lt=s.normalize([],at),ht=s.normalize([],s.cross([],lt,[0,1,0])),et=s.cross([],ht,lt),nt=[ht[0],ht[1],ht[2],0,et[0],et[1],et[2],0,lt[0],lt[1],lt[2],0,0,0,0,1],gt=[at,s.latLngToECEF(De.lat,De.lng),s.latLngToECEF(Ae.lat,De.lng),s.latLngToECEF(Ae.lat,Ae.lng),s.latLngToECEF(De.lat,Ae.lng),s.latLngToECEF(je,De.lng),s.latLngToECEF(je,Ae.lng),s.latLngToECEF(De.lat,Ze),s.latLngToECEF(Ae.lat,Ze)];let ct=s.Aabb.fromPoints(gt.map(Yt=>[s.dot(ht,Yt),s.dot(et,Yt),s.dot(lt,Yt)]));const wt=s.transformMat4([],ct.center,nt);s.squaredLength(wt)===0&&s.set(wt,0,0,1),s.normalize(wt,wt),s.scale$2(wt,wt,s.GLOBE_RADIUS),he.center=s.ecefToLatLng(wt);const Dt=he.getWorldToCameraMatrix(),Ct=s.invert(new Float64Array(16),Dt);ct=s.Aabb.applyTransform(ct,s.multiply([],Dt,nt)),s.transformMat4(wt,wt,Dt);const jt=.5*(ct.max[2]-ct.min[2]),ii=this._minimumAABBFrustumDistance(he,ct),Jt=s.scale$2([],[0,0,1],jt),Gt=s.add(Jt,wt,Jt),Mi=ii+(he.pitch===0?0:s.distance(wt,Gt)),Xt=he.globeCenterInViewSpace,_i=s.sub([],wt,[Xt[0],Xt[1],Xt[2]]);s.normalize(_i,_i),s.scale$2(_i,_i,Mi);const ri=s.add([],wt,_i);s.transformMat4(ri,ri,Ct);const Ri=s.earthRadius/s.GLOBE_RADIUS,si=s.length(ri),Si=s.mercatorZfromAltitude(si*Ri-s.earthRadius,0),Ni=Math.min(he.zoomFromMercatorZAdjusted(Si),ge.maxZoom);return Ni>.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(he.setProjection({name:"mercator"}),he.zoom=Ni,this._cameraForBounds(he,p,T,B,W,ae)):{center:he.center,zoom:Ni,bearing:B,pitch:W}}queryTerrainElevation(c,p){const T=this.transform.elevation;return T?(p=s.extend({},{exaggerated:!0},p),T.getAtPoint(s.MercatorCoordinate.fromLngLat(c),null,p.exaggerated)):null}_cameraForBounds(c,p,T,B,W,ae){if(c.projection.name==="globe")return this._cameraForBoundsOnGlobe(c,p,T,B,W,ae);const he=c.clone(),ge=this._extendCameraOptions(ae),De=he.padding;he.bearing=B,he.pitch=W;const Ae=s.LngLat.convert(p),je=s.LngLat.convert(T),Ze=new s.LngLat(Ae.lng,je.lat),at=new s.LngLat(je.lng,Ae.lat),lt=he.project(Ae),ht=he.project(je),et=this.queryTerrainElevation(Ae),nt=this.queryTerrainElevation(je),gt=this.queryTerrainElevation(Ze),ct=this.queryTerrainElevation(at),wt=[[lt.x,lt.y,Math.min(et||0,nt||0,gt||0,ct||0)],[ht.x,ht.y,Math.max(et||0,nt||0,gt||0,ct||0)]];let Dt=s.Aabb.fromPoints(wt);const Ct=he.getWorldToCameraMatrix(),jt=s.invert(new Float64Array(16),Ct);Dt=s.Aabb.applyTransform(Dt,Ct);const ii=s.sub([],Dt.max,Dt.min),Jt=De.left||0,Gt=De.right||0,Mi=De.bottom||0,Xt=De.top||0,{left:_i,right:ri,top:Ri,bottom:si}=ge.padding,Si=.5*(Jt+Gt),Ni=.5*(Xt+Mi),Yt=Math.min(he.scaleZoom(he.scale*Math.min((he.width-(Jt+Gt+_i+ri))/ii[0],(he.height-(Mi+Xt+si+Ri))/ii[1])),ge.maxZoom),ni=he.scale/he.zoomScale(Yt);Dt=new s.Aabb([Dt.min[0]-(_i+Si)*ni,Dt.min[1]-(si+Ni)*ni,Dt.min[2]],[Dt.max[0]+(ri+Si)*ni,Dt.max[1]+(Ri+Ni)*ni,Dt.max[2]]);const mn=.5*ii[2],Sn=this._minimumAABBFrustumDistance(he,Dt),gn=[0,0,1,0];s.transformMat4$1(gn,gn,Ct),s.normalize$2(gn,gn);const Un=s.scale$2([],gn,Sn+mn),lr=s.add([],Dt.center,Un),kn=(typeof ge.offset.x=="number"&&typeof ge.offset.y=="number"?new s.pointGeometry(ge.offset.x,ge.offset.y):s.pointGeometry.convert(ge.offset)).rotate(-s.degToRad(B));Dt.center[0]-=kn.x*ni,Dt.center[1]+=kn.y*ni,s.transformMat4(Dt.center,Dt.center,jt),s.transformMat4(lr,lr,jt);const dn=[Dt.center[0],Dt.center[1],lr[2]*he.pixelsPerMeter];s.scale$2(dn,dn,1/he.worldSize);const is=s.lngFromMercatorX(dn[0]),Hr=s.latFromMercatorY(dn[1]),ss=Math.min(he._zoomFromMercatorZ(dn[2]),ge.maxZoom),es=new s.LngLat(is,Hr);return he.mercatorFromTransition&&ss<.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(he.setProjection({name:"globe"}),he.zoom=ss,this._cameraForBounds(he,p,T,B,W,ae)):{center:es,zoom:ss,bearing:B,pitch:W}}fitBounds(c,p,T){const B=this.cameraForBounds(c,p);return this._fitInternal(B,p,T)}fitScreenCoordinates(c,p,T,B,W){const ae=s.pointGeometry.convert(c),he=s.pointGeometry.convert(p),ge=new s.pointGeometry(Math.min(ae.x,he.x),Math.min(ae.y,he.y)),De=new s.pointGeometry(Math.max(ae.x,he.x),Math.max(ae.y,he.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(ae,he))return this;const Ae=this.transform.pointLocation3D(ge),je=this.transform.pointLocation3D(De),Ze=this.transform.pointLocation3D(new s.pointGeometry(ge.x,De.y)),at=this.transform.pointLocation3D(new s.pointGeometry(De.x,ge.y)),lt=[Math.min(Ae.lng,je.lng,Ze.lng,at.lng),Math.min(Ae.lat,je.lat,Ze.lat,at.lat)],ht=[Math.max(Ae.lng,je.lng,Ze.lng,at.lng),Math.max(Ae.lat,je.lat,Ze.lat,at.lat)],et=B&&B.pitch?B.pitch:this.getPitch(),nt=this._cameraForBounds(this.transform,lt,ht,T,et,B);return this._fitInternal(nt,B,W)}_fitInternal(c,p,T){return c?(delete(p=s.extend(c,p)).padding,p.linear?this.easeTo(p,T):this.flyTo(p,T)):this}jumpTo(c,p){this.stop();const T=c.preloadOnly?this.transform.clone():this.transform;let B=!1,W=!1,ae=!1;return"zoom"in c&&T.zoom!==+c.zoom&&(B=!0,T.zoom=+c.zoom),c.center!==void 0&&(T.center=s.LngLat.convert(c.center)),"bearing"in c&&T.bearing!==+c.bearing&&(W=!0,T.bearing=+c.bearing),"pitch"in c&&T.pitch!==+c.pitch&&(ae=!0,T.pitch=+c.pitch),c.padding==null||T.isPaddingEqual(c.padding)||(T.padding=c.padding),c.preloadOnly?(this._preloadTiles(T),this):(this.fire(new s.Event("movestart",p)).fire(new s.Event("move",p)),B&&this.fire(new s.Event("zoomstart",p)).fire(new s.Event("zoom",p)).fire(new s.Event("zoomend",p)),W&&this.fire(new s.Event("rotatestart",p)).fire(new s.Event("rotate",p)).fire(new s.Event("rotateend",p)),ae&&this.fire(new s.Event("pitchstart",p)).fire(new s.Event("pitch",p)).fire(new s.Event("pitchend",p)),this.fire(new s.Event("moveend",p)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||s.warnOnce(Of),this.transform.getFreeCameraOptions()}setFreeCameraOptions(c,p){const T=this.transform;if(!T.projection.supportsFreeCamera)return s.warnOnce(Of),this;this.stop();const B=T.zoom,W=T.pitch,ae=T.bearing;T.setFreeCameraOptions(c);const he=B!==T.zoom,ge=W!==T.pitch,De=ae!==T.bearing;return this.fire(new s.Event("movestart",p)).fire(new s.Event("move",p)),he&&this.fire(new s.Event("zoomstart",p)).fire(new s.Event("zoom",p)).fire(new s.Event("zoomend",p)),De&&this.fire(new s.Event("rotatestart",p)).fire(new s.Event("rotate",p)).fire(new s.Event("rotateend",p)),ge&&this.fire(new s.Event("pitchstart",p)).fire(new s.Event("pitch",p)).fire(new s.Event("pitchend",p)),this.fire(new s.Event("moveend",p)),this}easeTo(c,p){this._stop(!1,c.easeId),((c=s.extend({offset:[0,0],duration:500,easing:s.ease},c)).animate===!1||!c.essential&&s.exported.prefersReducedMotion)&&(c.duration=0);const T=this.transform,B=this.getZoom(),W=this.getBearing(),ae=this.getPitch(),he=this.getPadding(),ge="zoom"in c?+c.zoom:B,De="bearing"in c?this._normalizeBearing(c.bearing,W):W,Ae="pitch"in c?+c.pitch:ae,je="padding"in c?c.padding:T.padding,Ze=s.pointGeometry.convert(c.offset);let at,lt,ht;if(T.projection.name==="globe"){const Jt=s.MercatorCoordinate.fromLngLat(T.center),Gt=Ze.rotate(-T.angle);Jt.x+=Gt.x/T.worldSize,Jt.y+=Gt.y/T.worldSize;const Mi=Jt.toLngLat(),Xt=s.LngLat.convert(c.center||Mi);this._normalizeCenter(Xt),at=T.centerPoint.add(Gt),lt=new s.pointGeometry(Jt.x,Jt.y).mult(T.worldSize),ht=new s.pointGeometry(s.mercatorXfromLng(Xt.lng),s.mercatorYfromLat(Xt.lat)).mult(T.worldSize).sub(lt)}else{at=T.centerPoint.add(Ze);const Jt=T.pointLocation(at),Gt=s.LngLat.convert(c.center||Jt);this._normalizeCenter(Gt),lt=T.project(Jt),ht=T.project(Gt).sub(lt)}const et=T.zoomScale(ge-B);let nt,gt;c.around&&(nt=s.LngLat.convert(c.around),gt=T.locationPoint(nt));const ct=this._zooming||ge!==B,wt=this._rotating||W!==De,Dt=this._pitching||Ae!==ae,Ct=!T.isPaddingEqual(je),jt=Jt=>Gt=>{if(ct&&(Jt.zoom=s.number(B,ge,Gt)),wt&&(Jt.bearing=s.number(W,De,Gt)),Dt&&(Jt.pitch=s.number(ae,Ae,Gt)),Ct&&(Jt.interpolatePadding(he,je,Gt),at=Jt.centerPoint.add(Ze)),nt)Jt.setLocationAtPoint(nt,gt);else{const Mi=Jt.zoomScale(Jt.zoom-B),Xt=ge>B?Math.min(2,et):Math.max(.5,et),_i=Math.pow(Xt,1-Gt),ri=Jt.unproject(lt.add(ht.mult(Gt*_i)).mult(Mi));Jt.setLocationAtPoint(Jt.renderWorldCopies?ri.wrap():ri,at)}return c.preloadOnly||this._fireMoveEvents(p),Jt};if(c.preloadOnly){const Jt=this._emulate(jt,c.duration,T);return this._preloadTiles(Jt),this}const ii={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=ct,this._rotating=wt,this._pitching=Dt,this._padding=Ct,this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,ii),this._ease(jt(T),Jt=>{T.recenterOnTerrain(),this._afterEase(p,Jt)},c),this}_prepareEase(c,p,T={}){this._moving=!0,this.transform.cameraElevationReference="sea",p||T.moving||this.fire(new s.Event("movestart",c)),this._zooming&&!T.zooming&&this.fire(new s.Event("zoomstart",c)),this._rotating&&!T.rotating&&this.fire(new s.Event("rotatestart",c)),this._pitching&&!T.pitching&&this.fire(new s.Event("pitchstart",c))}_fireMoveEvents(c){this.fire(new s.Event("move",c)),this._zooming&&this.fire(new s.Event("zoom",c)),this._rotating&&this.fire(new s.Event("rotate",c)),this._pitching&&this.fire(new s.Event("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const T=this._zooming,B=this._rotating,W=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,T&&this.fire(new s.Event("zoomend",c)),B&&this.fire(new s.Event("rotateend",c)),W&&this.fire(new s.Event("pitchend",c)),this.fire(new s.Event("moveend",c))}flyTo(c,p){if(!c.essential&&s.exported.prefersReducedMotion){const Yt=s.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Yt,p)}this.stop(),c=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},c);const T=this.transform,B=this.getZoom(),W=this.getBearing(),ae=this.getPitch(),he=this.getPadding(),ge="zoom"in c?s.clamp(+c.zoom,T.minZoom,T.maxZoom):B,De="bearing"in c?this._normalizeBearing(c.bearing,W):W,Ae="pitch"in c?+c.pitch:ae,je="padding"in c?c.padding:T.padding,Ze=T.zoomScale(ge-B),at=s.pointGeometry.convert(c.offset);let lt=T.centerPoint.add(at);const ht=T.pointLocation(lt),et=s.LngLat.convert(c.center||ht);this._normalizeCenter(et);const nt=T.project(ht),gt=T.project(et).sub(nt);let ct=c.curve;const wt=Math.max(T.width,T.height),Dt=wt/Ze,Ct=gt.mag();if("minZoom"in c){const Yt=s.clamp(Math.min(c.minZoom,B,ge),T.minZoom,T.maxZoom),ni=wt/T.zoomScale(Yt-B);ct=Math.sqrt(ni/Ct*2)}const jt=ct*ct;function ii(Yt){const ni=(Dt*Dt-wt*wt+(Yt?-1:1)*jt*jt*Ct*Ct)/(2*(Yt?Dt:wt)*jt*Ct);return Math.log(Math.sqrt(ni*ni+1)-ni)}function Jt(Yt){return(Math.exp(Yt)-Math.exp(-Yt))/2}function Gt(Yt){return(Math.exp(Yt)+Math.exp(-Yt))/2}const Mi=ii(0);let Xt=function(Yt){return Gt(Mi)/Gt(Mi+ct*Yt)},_i=function(Yt){return wt*((Gt(Mi)*(Jt(ni=Mi+ct*Yt)/Gt(ni))-Jt(Mi))/jt)/Ct;var ni},ri=(ii(1)-Mi)/ct;if(Math.abs(Ct)<1e-6||!isFinite(ri)){if(Math.abs(wt-Dt)<1e-6)return this.easeTo(c,p);const Yt=Dt<wt?-1:1;ri=Math.abs(Math.log(Dt/wt))/ct,_i=function(){return 0},Xt=function(ni){return Math.exp(Yt*ct*ni)}}c.duration="duration"in c?+c.duration:1e3*ri/("screenSpeed"in c?+c.screenSpeed/ct:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0);const Ri=W!==De,si=Ae!==ae,Si=!T.isPaddingEqual(je),Ni=Yt=>ni=>{const mn=ni*ri,Sn=1/Xt(mn);Yt.zoom=ni===1?ge:B+Yt.scaleZoom(Sn),Ri&&(Yt.bearing=s.number(W,De,ni)),si&&(Yt.pitch=s.number(ae,Ae,ni)),Si&&(Yt.interpolatePadding(he,je,ni),lt=Yt.centerPoint.add(at));const gn=ni===1?et:Yt.unproject(nt.add(gt.mult(_i(mn))).mult(Sn));return Yt.setLocationAtPoint(Yt.renderWorldCopies?gn.wrap():gn,lt),Yt._updateCameraOnTerrain(),c.preloadOnly||this._fireMoveEvents(p),Yt};if(c.preloadOnly){const Yt=this._emulate(Ni,c.duration,T);return this._preloadTiles(Yt),this}return this._zooming=!0,this._rotating=Ri,this._pitching=si,this._padding=Si,this._prepareEase(p,!1),this._ease(Ni(T),()=>this._afterEase(p),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const T=this._onEaseEnd;this._onEaseEnd=void 0,T.call(this,p)}if(!c){const T=this.handlers;T&&T.stop(!1)}return this}_ease(c,p,T){T.animate===!1||T.duration===0?(c(1),p()):(this._easeStart=s.exported.now(),this._easeOptions=T,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1),p=this._onEaseFrame;p&&p(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,p){c=s.wrap(c,-180,180);const T=Math.abs(c-p);return Math.abs(c-360-p)<T&&(c-=360),Math.abs(c+360-p)<T&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.maxBounds)return;const T=c.lng-p.center.lng;c.lng+=T>180?-360:T<-180?360:0}_emulate(c,p,T){const B=Math.ceil(15*p/1e3),W=[],ae=c(T.clone());for(let he=0;he<=B;he++){const ge=ae(he/B);W.push(ge.clone())}return W}}class Rf{constructor(c={}){this.options=c,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){const p=this.options&&this.options.compact;return this._map=c,this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=z("button","mapboxgl-ctrl-attrib-button",this._container),z("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=z("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),p===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const T=this._map._getUIString(`AttributionControl.${p}`);c.setAttribute("aria-label",T),c.removeAttribute("title"),c.firstElementChild&&c.firstElementChild.setAttribute("title",T)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));const p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(c){const T=p.reduce((B,W,ae)=>(W.value&&(B+=`${W.key}=${W.value}${ae<p.length-1?"&":""}`),B),"?");c.href=`${s.config.FEEDBACK_URL}/${T}#${El(this._map,!0)}`,c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}}_updateData(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let c=[];if(this._map.style.stylesheet){const B=this._map.style.stylesheet;this.styleOwner=B.owner,this.styleId=B.id}const p=this._map.style._sourceCaches;for(const B in p){const W=p[B];if(W.used){const ae=W.getSource();ae.attribution&&c.indexOf(ae.attribution)<0&&c.push(ae.attribution)}}c.sort((B,W)=>B.length-W.length),c=c.filter((B,W)=>{for(let ae=W+1;ae<c.length;ae++)if(c[ae].indexOf(B)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=[...this.options.customAttribution,...c]:c.unshift(this.options.customAttribution));const T=c.join(" | ");T!==this._attribHTML&&(this._attribHTML=T,c.length?(this._innerContainer.innerHTML=T,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Bf{constructor(){s.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(c){this._map=c,this._container=z("div","mapboxgl-ctrl");const p=z("a","mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://www.mapbox.com/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const c=this._map.style._sourceCaches;if(Object.entries(c).length===0)return!0;for(const p in c){const T=c[p].getSource();if(T.hasOwnProperty("mapbox_logo")&&!T.mapbox_logo)return!1}return!0}_updateCompact(){const c=this._container.children;if(c.length){const p=c[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("mapboxgl-compact"):p.classList.remove("mapboxgl-compact")}}}class zf{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,T=p?this._queue.concat(p):this._queue;for(const B of T)if(B.id===c)return void(B.cancelled=!0)}run(c=0){const p=this._currentlyRunning=this._queue;this._queue=[];for(const T of p)if(!T.cancelled&&(T.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Nf(_,c,p){if(_=new s.LngLat(_.lng,_.lat),c){const T=new s.LngLat(_.lng-360,_.lat),B=new s.LngLat(_.lng+360,_.lat),W=360*Math.ceil(Math.abs(_.lng-p.center.lng)/360),ae=p.locationPoint(_).distSqr(c),he=c.x<0||c.y<0||c.x>p.width||c.y>p.height;p.locationPoint(T).distSqr(c)<ae&&(he||Math.abs(T.lng-p.center.lng)<W)?_=T:p.locationPoint(B).distSqr(c)<ae&&(he||Math.abs(B.lng-p.center.lng)<W)&&(_=B)}for(;Math.abs(_.lng-p.center.lng)>180;){const T=p.locationPoint(_);if(T.x>=0&&T.y>=0&&T.x<=p.width&&T.y<=p.height)break;_.lng>p.center.lng?_.lng-=360:_.lng+=360}return _}const Gu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class lc extends s.Evented{constructor(c,p){if(super(),(c instanceof s.window.HTMLElement||p)&&(c=s.extend({element:c},p)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=c&&c.occludedOpacity||.2,c&&c.element)this._element=c.element,this._offset=s.pointGeometry.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=z("div");const B=41,W=27,ae=q("svg",{display:"block",height:B*this._scale+"px",width:W*this._scale+"px",viewBox:`0 0 ${W} ${B}`},this._element),he=q("radialGradient",{id:"shadowGradient"},q("defs",{},ae));q("stop",{offset:"10%","stop-opacity":.4},he),q("stop",{offset:"100%","stop-opacity":.05},he),q("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},ae),q("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},ae),q("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},ae),q("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},ae),this._offset=s.pointGeometry.convert(c&&c.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",B=>{B.preventDefault()}),this._element.addEventListener("mousedown",B=>{B.preventDefault()});const T=this._element.classList;for(const B in Gu)T.remove(`mapboxgl-marker-anchor-${B}`);T.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(c){return c===this._map||(this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._updateMoving),c.on("moveend",this._update),c.on("remove",this._clearFadeTimer),c._addMarker(this),this.setDraggable(this._draggable),this._update(),c.on("click",this._onMapClick)),this}remove(){const c=this._map;return c&&(c.off("click",this._onMapClick),c.off("move",this._updateMoving),c.off("moveend",this._update),c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler),c.off("mouseup",this._onUp),c.off("touchend",this._onUp),c.off("mousemove",this._onMove),c.off("touchmove",this._onMove),c.off("remove",this._clearFadeTimer),c._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=s.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const B=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[B,-1*(38.1-13.5+B)],"bottom-right":[-B,-1*(38.1-13.5+B)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,c._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(c){const p=c.code,T=c.charCode||c.keyCode;p!=="Space"&&p!=="Enter"&&T!==32&&T!==13||this.togglePopup()}_onMapClick(c){const p=c.originalEvent.target,T=this._element;this._popup&&(p===T||T.contains(p))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?(c.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(c.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const c=this._map,p=this._pos;if(!c||!p)return!1;const T=c.unproject(p),B=c.getFreeCameraOptions();if(!B.position)return!1;const W=B.position.toLngLat();return W.distanceTo(T)<.9*W.distanceTo(this._lngLat)}_evaluateOpacity(){const c=this._map;if(!c)return;const p=this._pos;if(!p||p.x<0||p.x>c.transform.width||p.y<0||p.y>c.transform.height)return void this._clearFadeTimer();const T=c.unproject(p);let B;c._showingGlobe()&&s.isLngLatBehindGlobe(c.transform,this._lngLat)?B=0:(B=1-c._queryFogOpacity(T),c.transform._terrainEnabled()&&c.getTerrain()&&this._behindTerrain()&&(B*=this._occludedOpacity)),this._element.style.opacity=`${B}`,this._element.style.pointerEvents=B>0?"auto":"none",this._popup&&this._popup._setOpacity(B),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const c=this._pos;if(!c||!this._map)return;const p=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${c.x}px,${c.y}px)
            ${Gu[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${p.x}px,${p.y}px)
        `}_calculateXYTransform(){const c=this._pos,p=this._map,T=this.getPitchAlignment();if(!p||!c||T!=="map")return"";if(!p._showingGlobe()){const ge=p.getPitch();return ge?`rotateX(${ge}deg)`:""}const B=s.radToDeg(s.globeTiltAtLngLat(p.transform,this._lngLat)),W=c.sub(s.globeCenterToScreenPoint(p.transform)),ae=Math.abs(W.x)+Math.abs(W.y);if(ae===0)return"";const he=B/ae;return`rotateX(${-W.y*he}deg) rotateY(${W.x*he}deg)`}_calculateZTransform(){const c=this._pos,p=this._map;if(!p||!c)return"";let T=0;const B=this.getRotationAlignment();if(B==="map")if(p._showingGlobe()){const W=p.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),ae=p.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(W);T=s.radToDeg(Math.atan2(ae.y,ae.x))-90}else T=-p.getBearing();else if(B==="horizon"){const W=s.smoothstep(4,6,p.getZoom()),ae=s.globeCenterToScreenPoint(p.transform);ae.y+=W*p.transform.height;const he=c.sub(ae),ge=s.radToDeg(Math.atan2(he.y,he.x));T=(ge>90?ge-270:ge+90)*(1-W)}return T+=this._rotation,T?`rotateZ(${T}deg)`:""}_update(c){s.window.cancelAnimationFrame(this._updateFrameId);const p=this._map;p&&(p.transform.renderWorldCopies&&(this._lngLat=Nf(this._lngLat,this._pos,p.transform)),this._pos=p.project(this._lngLat),c===!0?this._updateFrameId=s.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),p._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(p._showingGlobe()||p.getTerrain()||p.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(c){return this._offset=s.pointGeometry.convert(c),this._update(),this}_onMove(c){const p=this._map;if(!p)return;const T=this._pointerdownPos,B=this._positionDelta;if(T&&B){if(!this._isDragging){const W=this._clickTolerance||p._clickTolerance;if(c.point.dist(T)<W)return;this._isDragging=!0}this._pos=c.point.sub(B),this._lngLat=p.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const c=this._map;c&&(c.off("mousemove",this._onMove),c.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(c){const p=this._map,T=this._pos;p&&T&&this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(T),this._pointerdownPos=c.point,this._state="pending",p.on("mousemove",this._onMove),p.on("touchmove",this._onMove),p.once("mouseup",this._onUp),p.once("touchend",this._onUp))}setDraggable(c){this._draggable=!!c;const p=this._map;return p&&(c?(p.on("mousedown",this._addDragHandler),p.on("touchstart",this._addDragHandler)):(p.off("mousedown",this._addDragHandler),p.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(c){return this._occludedOpacity=c||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const wp={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},dm=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function dl(_=new s.pointGeometry(0,0),c="bottom"){if(typeof _=="number"){const p=Math.round(Math.sqrt(.5*Math.pow(_,2)));switch(c){case"top":return new s.pointGeometry(0,_);case"top-left":return new s.pointGeometry(p,p);case"top-right":return new s.pointGeometry(-p,p);case"bottom":return new s.pointGeometry(0,-_);case"bottom-left":return new s.pointGeometry(p,-p);case"bottom-right":return new s.pointGeometry(-p,-p);case"left":return new s.pointGeometry(_,0);case"right":return new s.pointGeometry(-_,0)}return new s.pointGeometry(0,0)}return _ instanceof s.pointGeometry||Array.isArray(_)?s.pointGeometry.convert(_):s.pointGeometry.convert(_[c]||[0,0])}class um{constructor(c){this.jumpTo(c)}getValue(c){if(c<=this._startTime)return this._start;if(c>=this._endTime)return this._end;const p=s.easeCubicInOut((c-this._startTime)/(this._endTime-this._startTime));return this._start*(1-p)+this._end*p}isEasing(c){return c>=this._startTime&&c<=this._endTime}jumpTo(c){this._startTime=-1/0,this._endTime=-1/0,this._start=c,this._end=c}easeTo(c,p,T){this._start=this.getValue(p),this._end=c,this._startTime=p,this._endTime=p+T}}const hm={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},pm={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},fm={showCompass:!0,showZoom:!0,visualizePitch:!1};class mm{constructor(c,p,T=!1){this._clickTolerance=10,this.element=p,this.mouseRotate=new Pf({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,T&&(this.mousePitch=new Df({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),p.addEventListener("mousedown",this.mousedown),p.addEventListener("touchstart",this.touchstart,{passive:!1}),p.addEventListener("touchmove",this.touchmove),p.addEventListener("touchend",this.touchend),p.addEventListener("touchcancel",this.reset)}down(c,p){this.mouseRotate.mousedown(c,p),this.mousePitch&&this.mousePitch.mousedown(c,p),M()}move(c,p){const T=this.map,B=this.mouseRotate.mousemoveWindow(c,p),W=B&&B.bearingDelta;if(W&&T.setBearing(T.getBearing()+W),this.mousePitch){const ae=this.mousePitch.mousemoveWindow(c,p),he=ae&&ae.pitchDelta;he&&T.setPitch(T.getPitch()+he)}}off(){const c=this.element;c.removeEventListener("mousedown",this.mousedown),c.removeEventListener("touchstart",this.touchstart,{passive:!1}),c.removeEventListener("touchmove",this.touchmove),c.removeEventListener("touchend",this.touchend),c.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){S(),s.window.removeEventListener("mousemove",this.mousemove),s.window.removeEventListener("mouseup",this.mouseup)}mousedown(c){this.down(s.extend({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),U(this.element,c)),s.window.addEventListener("mousemove",this.mousemove),s.window.addEventListener("mouseup",this.mouseup)}mousemove(c){this.move(c,U(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=E(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){c.targetTouches.length!==1?this.reset():(this._lastPos=E(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Tp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Ff={maxWidth:100,unit:"metric"};function gm(_,c,p){const T=jf(c),B=T/c,W={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[p];this._map._requestDomTask(()=>{this._container.style.width=_*B+"px",this._container.innerHTML=`${T}&nbsp;${W}`})}function jf(_){const c=Math.pow(10,`${Math.floor(_)}`.length-1);let p=_/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:p>=1?1:function(T){const B=Math.pow(10,Math.ceil(-Math.log(T)/Math.LN10));return Math.round(T*B)/B}(p),c*p}const hu={version:s.version,supported:R,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends Ac{constructor(_){if(s.LivePerformanceUtils.mark(s.PerformanceMarkers.create),(_=s.extend({},pm,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(_.antialias&&s.isSafariWithAntialiasingBug(s.window)&&(_.antialias=!1,s.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Fs(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),_),this._interactive=_.interactive,this._minTileCacheSize=_.minTileCacheSize,this._maxTileCacheSize=_.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=_.crossSourceCollisions,this._collectResourceTiming=_.collectResourceTiming,this._optimizeForTerrain=_.optimizeForTerrain,this._language=this._parseLanguage(_.language),this._worldview=_.worldview,this._renderTaskQueue=new zf,this._domRenderTaskQueue=new zf,this._controls=[],this._markers=[],this._popups=[],this._mapId=s.uniqueId(),this._locale=s.extend({},hm,_.locale),this._clickTolerance=_.clickTolerance,this._cooperativeGestures=_.cooperativeGestures,this._performanceMetricsCollection=_.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new um(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new s.RequestManager(_.transformRequest,_.accessToken,_.testMode),this._silenceAuthErrors=!!_.testMode,typeof _.container=="string"){if(this._container=s.window.document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof s.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(this._container.childNodes.length>0&&s.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),_.maxBounds&&this.setMaxBounds(_.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),s.window!==void 0&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1),s.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new wh(this,_),this._localFontFamily=_.localFontFamily,this._localIdeographFontFamily=_.localIdeographFontFamily,_.style&&this.setStyle(_.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),_.projection&&this.setProjection(_.projection),this._hash=_.hash&&new sn(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,s.extend({},_.fitBoundsOptions,{duration:0})))),this.resize(),_.attributionControl&&this.addControl(new Rf({customAttribution:_.customAttribution})),this._logoControl=new Bf,this.addControl(this._logoControl,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new s.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new s.Event(`${c.dataType}dataloading`,c))})}_getMapId(){return this._mapId}addControl(_,c){if(c===void 0&&(c=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=_.onAdd(this);this._controls.push(_);const T=this._controlPositions[c];return c.indexOf("bottom")!==-1?T.insertBefore(p,T.firstChild):T.appendChild(p),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(_);return c>-1&&this._controls.splice(c,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(_){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const c=!this._moving;return c&&this.fire(new s.Event("movestart",_)).fire(new s.Event("move",_)),this.fire(new s.Event("resize",_)),c&&this.fire(new s.Event("moveend",_)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(_){return this.transform.setMaxBounds(s.LngLatBounds.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_?this.setZoom(_):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_?this.setZoom(_):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_?this.setPitch(_):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_?this.setPitch(_):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(_){return _==="auto"?s.window.navigator.language:Array.isArray(_)?_.length===0?void 0:_.map(c=>c==="auto"?s.window.navigator.language:c):_}setLanguage(_){const c=this._parseLanguage(_);if(!this.style||c===this._language)return this;this._language=c,this.style._reloadSources();for(const p of this._controls)p._setLanguage&&p._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(_){return this.style&&_!==this._worldview?(this._worldview=_,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(_){return this._lazyInitEmptyStyle(),_?typeof _=="string"&&(_={name:_}):_=null,this._useExplicitProjection=!!_,this._prioritizeAndUpdateProjection(_,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const _=this.transform,c=_.projection.name;let p;c==="globe"&&_.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?(_.setMercatorFromTransition(),p=!0):c==="mercator"&&_.zoom<s.GLOBE_ZOOM_THRESHOLD_MAX&&(_.setProjection({name:"globe"}),p=!0),p&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(_,c){return this._updateProjection(_||c||{name:"mercator"})}_updateProjection(_){let c;if(c=_.name==="globe"&&this.transform.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(_),this.style.applyProjectionUpdate(),c){this.painter.clearBackgroundTiles();for(const p in this.style._sourceCaches)this.style._sourceCaches[p].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(_){return this.transform.locationPoint3D(s.LngLat.convert(_))}unproject(_){return this.transform.pointLocation3D(s.pointGeometry.convert(_))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(_,c,p){if(_==="mouseenter"||_==="mouseover"){let T=!1;const B=ae=>{const he=c.filter(De=>this.getLayer(De)),ge=he.length?this.queryRenderedFeatures(ae.point,{layers:he}):[];ge.length?T||(T=!0,p.call(this,new ms(_,this,ae.originalEvent,{features:ge}))):T=!1},W=()=>{T=!1};return{layers:new Set(c),listener:p,delegates:{mousemove:B,mouseout:W}}}if(_==="mouseleave"||_==="mouseout"){let T=!1;const B=ae=>{const he=c.filter(ge=>this.getLayer(ge));(he.length?this.queryRenderedFeatures(ae.point,{layers:he}):[]).length?T=!0:T&&(T=!1,p.call(this,new ms(_,this,ae.originalEvent)))},W=ae=>{T&&(T=!1,p.call(this,new ms(_,this,ae.originalEvent)))};return{layers:new Set(c),listener:p,delegates:{mousemove:B,mouseout:W}}}{const T=B=>{const W=c.filter(he=>this.getLayer(he)),ae=W.length?this.queryRenderedFeatures(B.point,{layers:W}):[];ae.length&&(B.features=ae,p.call(this,B),delete B.features)};return{layers:new Set(c),listener:p,delegates:{[_]:T}}}}on(_,c,p){if(p===void 0)return super.on(_,c);Array.isArray(c)||(c=[c]);const T=this._createDelegatedListener(_,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(T);for(const B in T.delegates)this.on(B,T.delegates[B]);return this}once(_,c,p){if(p===void 0)return super.once(_,c);Array.isArray(c)||(c=[c]);const T=this._createDelegatedListener(_,c,p);for(const B in T.delegates)this.once(B,T.delegates[B]);return this}off(_,c,p){if(p===void 0)return super.off(_,c);c=new Set(Array.isArray(c)?c:[c]);const T=(W,ae)=>{if(W.size!==ae.size)return!1;for(const he of W)if(!ae.has(he))return!1;return!0},B=this._delegatedListeners?this._delegatedListeners[_]:void 0;return B&&(W=>{for(let ae=0;ae<W.length;ae++){const he=W[ae];if(he.listener===p&&T(he.layers,c)){for(const ge in he.delegates)this.off(ge,he.delegates[ge]);return W.splice(ae,1),this}}})(B),this}queryRenderedFeatures(_,c){return this.style?(c!==void 0||_===void 0||_ instanceof s.pointGeometry||Array.isArray(_)||(c=_,_=void 0),this.style.queryRenderedFeatures(_=_||[[0,0],[this.transform.width,this.transform.height]],c=c||{},this.transform)):[]}querySourceFeatures(_,c){return this.style.querySourceFeatures(_,c)}setStyle(_,c){return(c=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&c.localFontFamily===this._localFontFamily&&this.style&&_?(this._diffStyle(_,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._localFontFamily=c.localFontFamily,this._updateStyle(_,c))}_getUIString(_){const c=this._locale[_];if(c==null)throw new Error(`Missing UI string '${_}'`);return c}_updateStyle(_,c){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),_&&(this.style=new Z(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_):this.style.loadJSON(_)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Z(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,c){if(typeof _=="string"){const p=this._requestManager.normalizeStyleURL(_),T=this._requestManager.transformRequest(p,s.ResourceType.Style);s.getJSON(T,(B,W)=>{B?this.fire(new s.ErrorEvent(B)):W&&this._updateDiff(W,c)})}else typeof _=="object"&&this._updateDiff(_,c)}_updateDiff(_,c){try{this.style.setState(_)&&this._update(!0)}catch(p){s.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(_,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(s.warnOnce("There is no style added to the map."),!1)}addSource(_,c){return this._lazyInitEmptyStyle(),this.style.addSource(_,c),this._update(!0)}isSourceLoaded(_){return!!this.style&&this.style._isSourceCacheLoaded(_)}areTilesLoaded(){const _=this.style&&this.style._sourceCaches;for(const c in _){const p=_[c]._tiles;for(const T in p){const B=p[T];if(B.state!=="loaded"&&B.state!=="errored")return!1}}return!0}addSourceType(_,c,p){this._lazyInitEmptyStyle(),this.style.addSourceType(_,c,p)}removeSource(_){return this.style.removeSource(_),this._updateTerrain(),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,c,{pixelRatio:p=1,sdf:T=!1,stretchX:B,stretchY:W,content:ae}={}){if(this._lazyInitEmptyStyle(),c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap){const{width:he,height:ge,data:De}=s.exported.getImageData(c);this.style.addImage(_,{data:new s.RGBAImage({width:he,height:ge},De),pixelRatio:p,stretchX:B,stretchY:W,content:ae,sdf:T,version:0})}else if(c.width===void 0||c.height===void 0)this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:he,height:ge}=c,De=c;this.style.addImage(_,{data:new s.RGBAImage({width:he,height:ge},new Uint8Array(De.data)),pixelRatio:p,stretchX:B,stretchY:W,content:ae,sdf:T,version:0,userImage:De}),De.onAdd&&De.onAdd(this,_)}}updateImage(_,c){const p=this.style.getImage(_);if(!p)return void this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const T=c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap?s.exported.getImageData(c):c,{width:B,height:W}=T;B!==void 0&&W!==void 0?B===p.data.width&&W===p.data.height?(p.data.replace(T.data,!(c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap)),this.style.updateImage(_,p)):this.fire(new s.ErrorEvent(new Error(`The width and height of the updated image (${B}, ${W})
                must be that same as the previous version of the image
                (${p.data.width}, ${p.data.height})`))):this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,c){s.getImage(this._requestManager.transformRequest(_,s.ResourceType.Image),(p,T)=>{c(p,T instanceof s.window.HTMLImageElement?s.exported.getImageData(T):T)})}listImages(){return this.style.listImages()}addLayer(_,c){return this._lazyInitEmptyStyle(),this.style.addLayer(_,c),this._update(!0)}moveLayer(_,c){return this.style.moveLayer(_,c),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}setLayerZoomRange(_,c,p){return this.style.setLayerZoomRange(_,c,p),this._update(!0)}setFilter(_,c,p={}){return this.style.setFilter(_,c,p),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,c,p,T={}){return this.style.setPaintProperty(_,c,p,T),this._update(!0)}getPaintProperty(_,c){return this.style.getPaintProperty(_,c)}setLayoutProperty(_,c,p,T={}){return this.style.setLayoutProperty(_,c,p,T),this._update(!0)}getLayoutProperty(_,c){return this.style.getLayoutProperty(_,c)}setLight(_,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,c),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(_){return this._lazyInitEmptyStyle(),!_&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(_),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(_){return this._lazyInitEmptyStyle(),this.style.setFog(_),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(_){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(s.LngLat.convert(_),this.transform):0}setFeatureState(_,c){return this.style.setFeatureState(_,c),this._update()}removeFeatureState(_,c){return this.style.removeFeatureState(_,c),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}_updateContainerDimensions(){if(!this._container)return;const _=this._container.getBoundingClientRect().width||400,c=this._container.getBoundingClientRect().height||300;let p,T,B,W=this._container;for(;W&&(!T||!B);){const ae=s.window.getComputedStyle(W).transform;ae&&ae!=="none"&&(p=ae.match(/matrix.*\((.+)\)/)[1].split(", "),p[0]&&p[0]!=="0"&&p[0]!=="1"&&(T=p[0]),p[3]&&p[3]!=="0"&&p[3]!=="1"&&(B=p[3])),W=W.parentElement}this._containerWidth=T?Math.abs(_/T):_,this._containerHeight=B?Math.abs(c/B):c}_detectMissingCSS(){s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const _=this._container;_.classList.add("mapboxgl-map"),(this._missingCSSCanary=z("div","mapboxgl-canary",_)).style.visibility="hidden",this._detectMissingCSS();const c=this._canvasContainer=z("div","mapboxgl-canvas-container",_);this._interactive&&c.classList.add("mapboxgl-interactive"),this._canvas=z("canvas","mapboxgl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const p=this._controlContainer=z("div","mapboxgl-control-container",_),T=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(B=>{T[B]=z("div",`mapboxgl-ctrl-${B}`,p)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,c){const p=s.exported.devicePixelRatio||1;this._canvas.width=p*Math.ceil(_),this._canvas.height=p*Math.ceil(c),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${c}px`}_addMarker(_){this._markers.push(_)}_removeMarker(_){const c=this._markers.indexOf(_);c!==-1&&this._markers.splice(c,1)}_addPopup(_){this._popups.push(_)}_removePopup(_){const c=this._popups.indexOf(_);c!==-1&&this._popups.splice(c,1)}_setupPainter(){const _=s.extend({},R.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._canvas.getContext("webgl",_)||this._canvas.getContext("experimental-webgl",_);c?(s.storeAuthState(c,!0),this.painter=new jn(c,this.transform),this.on("data",p=>{p.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),s.exported$1.testSupport(c)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(_){_.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:_}))}_contextRestored(_){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:_}))}_onMapScroll(_){if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_requestDomTask(_){!this.loaded()||this.loaded()&&!this.isMoving()?_():this._domRenderTaskQueue.add(_)}_render(_){let c;const p=this.painter.context.extTimerQuery,T=s.exported.now();if(this.listens("gpu-timing-frame")&&(c=p.createQueryEXT(),p.beginQueryEXT(p.TIME_ELAPSED_EXT,c)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],s.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],s.window.performance.now())),this._renderTaskQueue.run(_),this._domRenderTaskQueue.run(_),this._removed)return;this._updateProjectionTransition();const B=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const he=this.transform.zoom,ge=this.transform.pitch,De=s.exported.now(),Ae=new s.EvaluationParameters(he,{now:De,fadeDuration:B,pitch:ge,transition:this.style.getTransition()});this.style.update(Ae)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let W=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),W=this._updateAverageElevation(T),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):W=this._updateAverageElevation(T),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,B,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:B,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),c){const he=s.exported.now()-T;p.endQueryEXT(p.TIME_ELAPSED_EXT,c),setTimeout(()=>{const ge=p.getQueryObjectEXT(c,p.QUERY_RESULT_EXT)/1e6;p.deleteQueryEXT(c),this.fire(new s.Event("gpu-timing-frame",{cpuTime:he,gpuTime:ge})),s.window.performance.mark("frame-gpu",{startTime:T,detail:{gpuTime:ge}})},50)}if(this.listens("gpu-timing-layer")){const he=this.painter.collectGpuTimers();setTimeout(()=>{const ge=this.painter.queryGpuTimers(he);this.fire(new s.Event("gpu-timing-layer",{layerTimes:ge}))},50)}if(this.listens("gpu-timing-deferred-render")){const he=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const ge=this.painter.queryGpuTimeDeferredRender(he);this.fire(new s.Event("gpu-timing-deferred-render",{gpuTime:ge}))},50)}const ae=this._sourcesDirty||this._styleDirty||this._placementDirty||W;if(ae||this._repaint)this.triggerRepaint();else{const he=!this.isMoving()&&this.loaded();if(he&&(W=this._updateAverageElevation(T,!0)),W)this.triggerRepaint();else if(this._triggerFrame(!1),he&&(this.fire(new s.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const ge=this._calculateSpeedIndex();this.fire(new s.Event("speedindexcompleted",{speedIndex:ge})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||ae||(this._fullyLoaded=!0,s.LivePerformanceUtils.mark(s.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&s.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(_){for(const c of this._markers)_&&!this.getRenderWorldCopies()&&(c._lngLat=c._lngLat.wrap()),c._update();for(const c of this._popups)!_||this.getRenderWorldCopies()||c._trackPointer||(c._lngLat=c._lngLat.wrap()),c._update()}_updateAverageElevation(_,c=!1){const p=T=>(this.transform.averageElevation=T,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&p(0);if((c||_-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(_)){const T=this.transform.averageElevation;let B=this.transform.sampleAverageElevation(),W=!1;this.transform.elevation&&(W=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(B)?B=0:this._averageElevationLastSampledAt=_;const ae=Math.abs(T-B);if(ae>1){if(this._isInitialLoad||W)return this._averageElevation.jumpTo(B),p(B);this._averageElevation.easeTo(B,_,300)}else if(ae>1e-4)return this._averageElevation.jumpTo(B),p(B)}return!!this._averageElevation.isEasing(_)&&p(this._averageElevation.getValue(_))}_authenticate(){s.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,_=>{if(_&&(_.message===s.AUTH_ERR_MSG||_.status===401)){const c=this.painter.context.gl;s.storeAuthState(c,!1),this._logoControl instanceof Bf&&this._logoControl._updateLogo(),c&&c.clear(c.DEPTH_BUFFER_BIT|c.COLOR_BUFFER_BIT|c.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new s.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),s.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const _=this._isDragging();this.painter.updateTerrain(this.style,_)}_calculateSpeedIndex(){const _=this.painter.canvasCopy(),c=this.painter.getCanvasCopiesAndTimestamps();c.timeStamps.push(performance.now());const p=this.painter.context.gl,T=p.createFramebuffer();function B(W){p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,W,0);const ae=new Uint8Array(p.drawingBufferWidth*p.drawingBufferHeight*4);return p.readPixels(0,0,p.drawingBufferWidth,p.drawingBufferHeight,p.RGBA,p.UNSIGNED_BYTE,ae),ae}return p.bindFramebuffer(p.FRAMEBUFFER,T),this._canvasPixelComparison(B(_),c.canvasCopies.map(B),c.timeStamps)}_canvasPixelComparison(_,c,p){let T=p[1]-p[0];const B=_.length/4;for(let W=0;W<c.length;W++){const ae=c[W];let he=0;for(let ge=0;ge<ae.length;ge+=4)ae[ge]===_[ge]&&ae[ge+1]===_[ge+1]&&ae[ge+2]===_[ge+2]&&ae[ge+3]===_[ge+3]&&(he+=1);T+=(p[W+2]-p[W+1])*(1-he/B)}return T}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),s.window!==void 0&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1),s.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),s.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(_){this._renderNextFrame=this._renderNextFrame||_,this.style&&!this._frame&&(this._frame=s.exported.frame(c=>{const p=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,p&&this._render(c)}))}_preloadTiles(_){const c=this.style?Object.values(this.style._sourceCaches):[];return s.asyncAll(c,(p,T)=>p._preloadTiles(_,T),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(_){this._trackResize&&this.resize({originalEvent:_})._update()}_onVisibilityChange(){s.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(_){this._showTerrainWireframe!==_&&(this._showTerrainWireframe=_,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(_){this._speedIndexTiming!==_&&(this._speedIndexTiming=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(_){this._showTileAABBs!==_&&(this._showTileAABBs=_,_&&this._update())}_setCacheLimits(_,c){s.setCacheLimits(_,c)}get version(){return s.version}},NavigationControl:class{constructor(_){this.options=s.extend({},fm,_),this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",c=>{this._map&&this._map.zoomIn({},{originalEvent:c})}),z("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",c=>{this._map&&this._map.zoomOut({},{originalEvent:c})}),z("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",c=>{const p=this._map;p&&(this.options.visualizePitch?p.resetNorthPitch({},{originalEvent:c}):p.resetNorth({},{originalEvent:c}))}),this._compassIcon=z("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _=this._map;if(!_)return;const c=_.getZoom(),p=c===_.getMaxZoom(),T=c===_.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=T,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",T.toString())}_rotateCompassArrow(){const _=this._map;if(!_)return;const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(_.transform.pitch*(Math.PI/180)),.5)}) rotateX(${_.transform.pitch}deg) rotateZ(${_.transform.angle*(180/Math.PI)}deg)`:`rotate(${_.transform.angle*(180/Math.PI)}deg)`;_._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=c)})}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),_.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&_.on("pitch",this._rotateCompassArrow),_.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new mm(_,this._compass,this.options.visualizePitch)),this._container}onRemove(){const _=this._map;_&&(this._container.remove(),this.options.showZoom&&_.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&_.off("pitch",this._rotateCompassArrow),_.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(_,c){const p=z("button",_,this._container);return p.type="button",p.addEventListener("click",c),p}_setButtonTitle(_,c){if(!this._map)return;const p=this._map._getUIString(`NavigationControl.${c}`);_.setAttribute("aria-label",p),_.firstElementChild&&_.firstElementChild.setAttribute("title",p)}},GeolocateControl:class extends s.Evented{constructor(_){super(),this.options=s.extend({geolocation:s.window.navigator.geolocation},Tp,_),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Cl(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(_){return this._map=_,this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(_){const c=(p=!!this.options.geolocation)=>{this._supportsGeolocation=p,_(p)};this._supportsGeolocation!==void 0?_(this._supportsGeolocation):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(p=>c(p.state!=="denied")).catch(()=>c()):c()}_isOutOfMapMaxBounds(_){const c=this._map.getMaxBounds(),p=_.coords;return!!c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(_){if(this._map){if(this._isOutOfMapMaxBounds(_))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",_)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(_),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(_),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",_)),this._finish()}}_updateCamera(_){const c=new s.LngLat(_.coords.longitude,_.coords.latitude),p=_.coords.accuracy,T=this._map.getBearing(),B=s.extend({bearing:T},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(p),B,{geolocateSource:!0})}_updateMarker(_){if(_){const c=new s.LngLat(_.coords.longitude,_.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=_.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const _=this._map.transform,c=s.mercatorZfromAltitude(1,_._center.lat)*_.worldSize,p=Math.ceil(2*this._accuracy*c);this._circleElement.style.width=`${p}px`,this._circleElement.style.height=`${p}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(_){if(this._map){if(this.options.trackUserLocation)if(_.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(_.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",_)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(_){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=z("button","mapboxgl-ctrl-geolocate",this._container),z("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",_===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=z("div","mapboxgl-user-location"),this._dotElement.appendChild(z("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(z("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new lc({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=z("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new lc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))})}}_onDeviceOrientation(_){this._userLocationDotMarker&&(_.webkitCompassHeading?this._heading=_.webkitCompassHeading:_.absolute===!0&&(this._heading=-1*_.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(_={maximumAge:6e5,timeout:0},this._noTimeout=!0):(_=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,_),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const _=()=>{s.window.addEventListener("ondeviceorientationabsolute"in s.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};s.window.DeviceMotionEvent!==void 0&&typeof s.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(c=>{c==="granted"&&_()}).catch(console.error):_()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),s.window.removeEventListener("deviceorientation",this._onDeviceOrientation),s.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Rf,ScaleControl:class{constructor(_){this.options=s.extend({},Ff,_),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=gm.bind(this)),s.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const _=this.options.maxWidth||100,c=this._map,p=c._containerHeight/2,T=c._containerWidth/2-_/2,B=c.unproject([T,p]),W=c.unproject([T+_,p]),ae=B.distanceTo(W);if(this.options.unit==="imperial"){const he=3.2808*ae;he>5280?this._setScale(_,he/5280,"mile"):this._setScale(_,he,"foot")}else this.options.unit==="nautical"?this._setScale(_,ae/1852,"nautical-mile"):ae>=1e3?this._setScale(_,ae/1e3,"kilometer"):this._setScale(_,ae,"meter")}_setScale(_,c,p){const T=jf(c),B=T/c;this._map._requestDomTask(()=>{this._container.style.width=_*B+"px",this._container.innerHTML=p!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:p}).format(T):`${T}&nbsp;nm`})}onAdd(_){return this._map=_,this._language=_.getLanguage(),this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-scale",_.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(_){this._language=_,this._update()}setUnit(_){this.options.unit=_,this._update()}},FullscreenControl:class{constructor(_){this._fullscreen=!1,_&&_.container&&(_.container instanceof s.window.HTMLElement?this._container=_.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in s.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!s.window.document.fullscreenEnabled&&!s.window.document.webkitFullscreenEnabled)}_setupUI(){const _=this._fullscreenButton=z("button","mapboxgl-ctrl-fullscreen",this._controlContainer);z("span","mapboxgl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",_)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(s.window.document.fullscreenElement||s.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends s.Evented{constructor(_){super(),this.options=s.extend(Object.create(wp),_),s.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(_&&_.className?_.className.trim().split(/\s+/):[])}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&_.on("preclick",this._onClose),this.options.closeOnMove&&_.on("move",this._onClose),_.on("remove",this.remove),this._update(),_._addPopup(this),this._focusFirstElement(),this._trackPointer?(_.on("mousemove",this._onMouseEvent),_.on("mouseup",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")):_.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const _=this._map;return _&&(_.off("move",this._update),_.off("move",this._onClose),_.off("preclick",this._onClose),_.off("click",this._onClose),_.off("remove",this.remove),_.off("mousemove",this._onMouseEvent),_.off("mouseup",this._onMouseEvent),_.off("drag",this._onMouseEvent),_._canvasContainer&&_._canvasContainer.classList.remove("mapboxgl-track-pointer"),_._removePopup(this),this._map=void 0),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(_){this._lngLat=s.LngLat.convert(_),this._pos=null,this._trackPointer=!1,this._update();const c=this._map;return c&&(c.on("move",this._update),c.off("mousemove",this._onMouseEvent),c._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const _=this._map;return _&&(_.off("move",this._update),_.on("mousemove",this._onMouseEvent),_.on("drag",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(s.window.document.createTextNode(_))}setHTML(_){const c=s.window.document.createDocumentFragment(),p=s.window.document.createElement("body");let T;for(p.innerHTML=_;T=p.firstChild,T;)c.appendChild(T);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){let c=this._content;if(c)for(;c.hasChildNodes();)c.firstChild&&c.removeChild(c.firstChild);else c=this._content=z("div","mapboxgl-popup-content",this._container||void 0);if(c.appendChild(_),this.options.closeButton){const p=this._closeButton=z("button","mapboxgl-popup-close-button",c);p.type="button",p.setAttribute("aria-label","Close popup"),p.setAttribute("aria-hidden","true"),p.innerHTML="&#215;",p.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(_){return this._classList.add(_),this._updateClassList(),this}removeClassName(_){return this._classList.delete(_),this._updateClassList(),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){let c;return this._classList.delete(_)?c=!1:(this._classList.add(_),c=!0),this._updateClassList(),c}_onMouseEvent(_){this._update(_.point)}_getAnchor(_){if(this.options.anchor)return this.options.anchor;const c=this._map,p=this._container,T=this._pos;if(!c||!p||!T)return"bottom";const B=p.offsetWidth,W=p.offsetHeight,ae=T.x<B/2,he=T.x>c.transform.width-B/2;if(T.y+_<W)return ae?"top-left":he?"top-right":"top";if(T.y>c.transform.height-W){if(ae)return"bottom-left";if(he)return"bottom-right"}return ae?"left":he?"right":"bottom"}_updateClassList(){const _=this._container;if(!_)return;const c=[...this._classList];c.push("mapboxgl-popup"),this._anchor&&c.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&c.push("mapboxgl-popup-track-pointer"),_.className=c.join(" ")}_update(_){const c=this._map,p=this._content;if(!c||!this._lngLat&&!this._trackPointer||!p)return;let T=this._container;if(T||(T=this._container=z("div","mapboxgl-popup",c.getContainer()),this._tip=z("div","mapboxgl-popup-tip",T),T.appendChild(p)),this.options.maxWidth&&T.style.maxWidth!==this.options.maxWidth&&(T.style.maxWidth=this.options.maxWidth),c.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Nf(this._lngLat,this._pos,c.transform)),!this._trackPointer||_){const B=this._pos=this._trackPointer&&_?_:c.project(this._lngLat),W=dl(this.options.offset),ae=this._anchor=this._getAnchor(W.y),he=dl(this.options.offset,ae),ge=B.add(he).round();c._requestDomTask(()=>{this._container&&ae&&(this._container.style.transform=`${Gu[ae]} translate(${ge.x}px,${ge.y}px)`)})}if(!this._marker&&c._showingGlobe()){const B=s.isLngLatBehindGlobe(c.transform,this._lngLat)?0:1;this._setOpacity(B)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(dm);_&&_.focus()}_onClose(){this.remove()}_setOpacity(_){this._container&&(this._container.style.opacity=`${_}`),this._content&&(this._content.style.pointerEvents=_?"auto":"none")}},Marker:lc,Style:Z,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.pointGeometry,MercatorCoordinate:s.MercatorCoordinate,FreeCameraOptions:we,Evented:s.Evented,config:s.config,prewarm:function(){Wi().acquire(Mn)},clearPrewarmedResources:function(){const _=hn;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Mn),hn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(_){s.config.ACCESS_TOKEN=_},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(_){s.config.API_URL=_},get workerCount(){return Cn.workerCount},set workerCount(_){Cn.workerCount=_},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_){s.config.MAX_PARALLEL_IMAGE_REQUESTS=_},clearStorage(_){s.clearTileCache(_)},workerUrl:"",workerClass:null,setNow:s.exported.setNow,restoreNow:s.exported.restoreNow};return hu});var h=o;return h})})(L4);var S$=L4.exports;const Vl=tu(S$);var qg=E$,C$=Object.prototype.hasOwnProperty;function E$(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)C$.call(i,r)&&(e[r]=i[r])}return e}var R4={exports:{}};(function(e,t){(function(){var i={};e.exports=i,i.simpleFilter=function(r,o){return o.filter(function(d){return i.test(r,d)})},i.test=function(r,o){return i.match(r,o)!==null},i.match=function(r,o,d){d=d||{};var h=0,s=[],v=o.length,R=0,K=0,k=d.pre||"",z=d.post||"",q=d.caseSensitive&&o||o.toLowerCase(),L;r=d.caseSensitive&&r||r.toLowerCase();for(var O=0;O<v;O++)L=o[O],q[O]===r[h]?(L=k+L+z,h+=1,K+=1+K):K=0,R+=K,s[s.length]=L;return h===r.length?(R=q===r?1/0:R,{rendered:s.join(""),score:R}):null},i.filter=function(r,o,d){return!o||o.length===0?[]:typeof r!="string"?o:(d=d||{},o.reduce(function(h,s,v,R){var K=s;d.extract&&(K=d.extract(s));var k=i.match(r,K,d);return k!=null&&(h[h.length]={string:k.rendered,score:k.score,index:v,original:s}),h},[]).sort(function(h,s){var v=s.score-h.score;return v||h.index-s.index}))}})()})(R4);var M$=R4.exports,Yc=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};Yc.prototype.show=function(){this.element.style.display="block"};Yc.prototype.hide=function(){this.element.style.display="none"};Yc.prototype.add=function(e){this.items.push(e)};Yc.prototype.clear=function(){this.items=[],this.active=0};Yc.prototype.isEmpty=function(){return!this.items.length};Yc.prototype.isVisible=function(){return this.element.style.display==="block"};Yc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};Yc.prototype.drawItem=function(e,t){var i=document.createElement("li"),r=document.createElement("a");t&&(i.className+=" active"),r.innerHTML=e.string,i.appendChild(r),this.element.appendChild(i),i.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),i.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};Yc.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};Yc.prototype.move=function(e){this.active=e,this.draw()};Yc.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};Yc.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};Yc.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var k$=Yc,A$=qg,P$=M$,D$=k$,Yl=function(e,t,i){return i=i||{},this.options=A$({minLength:2,limit:5,filter:!0,hideOnBlur:!0},i),this.el=e,this.data=t||[],this.list=new D$(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(r){this.handleKeyUp(r.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(r){this.handleKeyDown(r)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(r){this.handlePaste(r)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};Yl.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};Yl.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};Yl.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};Yl.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};Yl.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var i=0;i<t.length&&(this.list.add(t[i]),i!==this.options.limit-1);i++);this.list.draw()}).bind(this))};Yl.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};Yl.prototype.update=function(e){this.data=e,this.handleKeyUp()};Yl.prototype.clear=function(){this.data=[],this.list.clear()};Yl.prototype.normalize=function(e){return e=e.toLowerCase(),e};Yl.prototype.match=function(e,t){return e.indexOf(t)>-1};Yl.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};Yl.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(r){return this.getItemValue(r)}).bind(this)},i;this.options.filter?(i=P$.filter(this.query,this.data,t),i=i.map((function(r){return{original:r.original,string:this.render(r.original,r.string)}}).bind(this))):i=this.data.map((function(r){var o=this.render(r);return{original:r,string:o}}).bind(this)),e(i)};Yl.prototype.getItemValue=function(e){return e};Yl.prototype.render=function(e,t){if(t)return t;for(var i=e.original?this.getItemValue(e.original):this.getItemValue(e),r=this.normalize(i),o=r.lastIndexOf(this.query);o>-1;){var d=o+this.query.length;i=i.slice(0,o)+"<strong>"+i.slice(o,d)+"</strong>"+i.slice(d),o=r.slice(0,o).lastIndexOf(this.query)}return i};Yl.prototype.renderError=function(e){this.list.drawError(e)};var I$=Yl,B4=I$,L$=B4;typeof window<"u"&&(window.Suggestions=B4);var O$="Expected a function",HE=0/0,R$="[object Symbol]",B$=/^\s+|\s+$/g,z$=/^[-+]0x[0-9a-f]+$/i,N$=/^0b[01]+$/i,F$=/^0o[0-7]+$/i,j$=parseInt,U$=typeof za=="object"&&za&&za.Object===Object&&za,$$=typeof self=="object"&&self&&self.Object===Object&&self,V$=U$||$$||Function("return this")(),G$=Object.prototype,H$=G$.toString,W$=Math.max,Y$=Math.min,D3=function(){return V$.Date.now()};function q$(e,t,i){var r,o,d,h,s,v,R=0,K=!1,k=!1,z=!0;if(typeof e!="function")throw new TypeError(O$);t=WE(t)||0,NT(i)&&(K=!!i.leading,k="maxWait"in i,d=k?W$(WE(i.maxWait)||0,t):d,z="trailing"in i?!!i.trailing:z);function q(E){var ie=r,te=o;return r=o=void 0,R=E,h=e.apply(te,ie),h}function L(E){return R=E,s=setTimeout(M,t),K?q(E):h}function O(E){var ie=E-v,te=E-R,$=t-ie;return k?Y$($,d-te):$}function G(E){var ie=E-v,te=E-R;return v===void 0||ie>=t||ie<0||k&&te>=d}function M(){var E=D3();if(G(E))return S(E);s=setTimeout(M,O(E))}function S(E){return s=void 0,z&&r?q(E):(r=o=void 0,h)}function D(){s!==void 0&&clearTimeout(s),R=0,r=v=o=s=void 0}function H(){return s===void 0?h:S(D3())}function U(){var E=D3(),ie=G(E);if(r=arguments,o=this,v=E,ie){if(s===void 0)return L(v);if(k)return s=setTimeout(M,t),q(v)}return s===void 0&&(s=setTimeout(M,t)),h}return U.cancel=D,U.flush=H,U}function NT(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function X$(e){return!!e&&typeof e=="object"}function Z$(e){return typeof e=="symbol"||X$(e)&&H$.call(e)==R$}function WE(e){if(typeof e=="number")return e;if(Z$(e))return HE;if(NT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=NT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(B$,"");var i=N$.test(e);return i||F$.test(e)?j$(e.slice(2),i?2:8):z$.test(e)?HE:+e}var K$=q$,LC={exports:{}},Cg=typeof Reflect=="object"?Reflect:null,YE=Cg&&typeof Cg.apply=="function"?Cg.apply:function(t,i,r){return Function.prototype.apply.call(t,i,r)},Dx;Cg&&typeof Cg.ownKeys=="function"?Dx=Cg.ownKeys:Object.getOwnPropertySymbols?Dx=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Dx=function(t){return Object.getOwnPropertyNames(t)};function J$(e){console&&console.warn&&console.warn(e)}var z4=Number.isNaN||function(t){return t!==t};function Ks(){Ks.init.call(this)}LC.exports=Ks;LC.exports.once=iV;Ks.EventEmitter=Ks;Ks.prototype._events=void 0;Ks.prototype._eventsCount=0;Ks.prototype._maxListeners=void 0;var qE=10;function c2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ks,"defaultMaxListeners",{enumerable:!0,get:function(){return qE},set:function(e){if(typeof e!="number"||e<0||z4(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");qE=e}});Ks.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ks.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||z4(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function N4(e){return e._maxListeners===void 0?Ks.defaultMaxListeners:e._maxListeners}Ks.prototype.getMaxListeners=function(){return N4(this)};Ks.prototype.emit=function(t){for(var i=[],r=1;r<arguments.length;r++)i.push(arguments[r]);var o=t==="error",d=this._events;if(d!==void 0)o=o&&d.error===void 0;else if(!o)return!1;if(o){var h;if(i.length>0&&(h=i[0]),h instanceof Error)throw h;var s=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw s.context=h,s}var v=d[t];if(v===void 0)return!1;if(typeof v=="function")YE(v,this,i);else for(var R=v.length,K=V4(v,R),r=0;r<R;++r)YE(K[r],this,i);return!0};function F4(e,t,i,r){var o,d,h;if(c2(i),d=e._events,d===void 0?(d=e._events=Object.create(null),e._eventsCount=0):(d.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),d=e._events),h=d[t]),h===void 0)h=d[t]=i,++e._eventsCount;else if(typeof h=="function"?h=d[t]=r?[i,h]:[h,i]:r?h.unshift(i):h.push(i),o=N4(e),o>0&&h.length>o&&!h.warned){h.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=h.length,J$(s)}return e}Ks.prototype.addListener=function(t,i){return F4(this,t,i,!1)};Ks.prototype.on=Ks.prototype.addListener;Ks.prototype.prependListener=function(t,i){return F4(this,t,i,!0)};function Q$(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function j4(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},o=Q$.bind(r);return o.listener=i,r.wrapFn=o,o}Ks.prototype.once=function(t,i){return c2(i),this.on(t,j4(this,t,i)),this};Ks.prototype.prependOnceListener=function(t,i){return c2(i),this.prependListener(t,j4(this,t,i)),this};Ks.prototype.removeListener=function(t,i){var r,o,d,h,s;if(c2(i),o=this._events,o===void 0)return this;if(r=o[t],r===void 0)return this;if(r===i||r.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||i));else if(typeof r!="function"){for(d=-1,h=r.length-1;h>=0;h--)if(r[h]===i||r[h].listener===i){s=r[h].listener,d=h;break}if(d<0)return this;d===0?r.shift():eV(r,d),r.length===1&&(o[t]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",t,s||i)}return this};Ks.prototype.off=Ks.prototype.removeListener;Ks.prototype.removeAllListeners=function(t){var i,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var d=Object.keys(r),h;for(o=0;o<d.length;++o)h=d[o],h!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=r[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(o=i.length-1;o>=0;o--)this.removeListener(t,i[o]);return this};function U4(e,t,i){var r=e._events;if(r===void 0)return[];var o=r[t];return o===void 0?[]:typeof o=="function"?i?[o.listener||o]:[o]:i?tV(o):V4(o,o.length)}Ks.prototype.listeners=function(t){return U4(this,t,!0)};Ks.prototype.rawListeners=function(t){return U4(this,t,!1)};Ks.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):$4.call(e,t)};Ks.prototype.listenerCount=$4;function $4(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}Ks.prototype.eventNames=function(){return this._eventsCount>0?Dx(this._events):[]};function V4(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}function eV(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function tV(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function iV(e,t){return new Promise(function(i,r){function o(h){e.removeListener(t,d),r(h)}function d(){typeof e.removeListener=="function"&&e.removeListener("error",o),i([].slice.call(arguments))}G4(e,t,d,{once:!0}),t!=="error"&&nV(e,o,{once:!0})})}function nV(e,t,i){typeof e.on=="function"&&G4(e,"error",t,i)}function G4(e,t,i,r){if(typeof e.on=="function")r.once?e.once(t,i):e.on(t,i);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(d){r.once&&e.removeEventListener(t,o),i(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var rV=LC.exports,sV={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function oV(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function aV(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var i=t[1],r=t[2].split(";"),o=null,d=r.reduce(function(h,s){var v=oV(s);return v?v.key==="rel"?(o||(o=v.value),h):(h[v.key]=v.value,h):h},{});return o?{url:i,rel:o,params:d}:null}function lV(e){return e?e.split(/,\s*</).reduce(function(t,i){var r=aV(i);if(!r)return t;var o=r.rel.split(/\s+/);return o.forEach(function(d){t[d]||(t[d]={url:r.url,params:r.params})}),t},{}):{}}var cV=lV,dV=cV;function OC(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=dV(this.headers.link)}OC.prototype.hasNextPage=function(){return!!this.links.next};OC.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var uV=OC,d2={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},XE=d2;function hV(e){var t=e.type||XE.ERROR_HTTP,i;if(e.body)try{i=JSON.parse(e.body)}catch{i=e.body}else i=null;var r=e.message||null;r||(typeof i=="string"?r=i:i&&typeof i.message=="string"?r=i.message:t===XE.ERROR_REQUEST_ABORTED&&(r="Request aborted")),this.message=r,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=i}var pV=hV;function fV(e){var t=e.indexOf(":"),i=e.substring(0,t).trim().toLowerCase(),r=e.substring(t+1).trim();return{name:i,value:r}}function mV(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(i){var r=fV(i);t[r.name]=r.value}),t}var gV=mV,yV=uV,ZE=pV,I3=d2,_V=gV,ub={};function vV(e){var t=ub[e.id];t&&(t.abort(),delete ub[e.id])}function xV(e,t){return new yV(e,{body:t.response,headers:_V(t.getAllResponseHeaders()),statusCode:t.status})}function KE(e){var t=e.total,i=e.loaded,r=100*i/t;return{total:t,transferred:i,percent:r}}function H4(e,t){return new Promise(function(i,r){t.onprogress=function(h){e.emitter.emit(I3.EVENT_PROGRESS_DOWNLOAD,KE(h))};var o=e.file;o&&(t.upload.onprogress=function(h){e.emitter.emit(I3.EVENT_PROGRESS_UPLOAD,KE(h))}),t.onerror=function(h){r(h)},t.onabort=function(){var h=new ZE({request:e,type:I3.ERROR_REQUEST_ABORTED});r(h)},t.onload=function(){if(delete ub[e.id],t.status<200||t.status>=400){var h=new ZE({request:e,body:t.response,statusCode:t.status});r(h);return}i(t)};var d=e.body;typeof d=="string"?t.send(d):d?t.send(JSON.stringify(d)):o?t.send(o):t.send(),ub[e.id]=t}).then(function(i){return xV(e,i)})}function W4(e,t){var i=e.url(t),r=new window.XMLHttpRequest;return r.open(e.method,i),Object.keys(e.headers).forEach(function(o){r.setRequestHeader(o,e.headers[o])}),r}function bV(e){return Promise.resolve().then(function(){var t=W4(e,e.client.accessToken);return H4(e,t)})}var wV={browserAbort:vV,sendRequestXhr:H4,browserSend:bV,createRequestXhr:W4},hb={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */hb.exports;(function(e,t){(function(i){var r=t,o=e&&e.exports==r&&e,d=typeof za=="object"&&za;(d.global===d||d.window===d)&&(i=d);var h=function(L){this.message=L};h.prototype=new Error,h.prototype.name="InvalidCharacterError";var s=function(L){throw new h(L)},v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=/[\t\n\f\r ]/g,K=function(L){L=String(L).replace(R,"");var O=L.length;O%4==0&&(L=L.replace(/==?$/,""),O=L.length),(O%4==1||/[^+a-zA-Z0-9/]/.test(L))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var G=0,M,S,D="",H=-1;++H<O;)S=v.indexOf(L.charAt(H)),M=G%4?M*64+S:S,G++%4&&(D+=String.fromCharCode(255&M>>(-2*G&6)));return D},k=function(L){L=String(L),/[^\0-\xFF]/.test(L)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var O=L.length%3,G="",M=-1,S,D,H,U,E=L.length-O;++M<E;)S=L.charCodeAt(M)<<16,D=L.charCodeAt(++M)<<8,H=L.charCodeAt(++M),U=S+D+H,G+=v.charAt(U>>18&63)+v.charAt(U>>12&63)+v.charAt(U>>6&63)+v.charAt(U&63);return O==2?(S=L.charCodeAt(M)<<8,D=L.charCodeAt(++M),U=S+D,G+=v.charAt(U>>10)+v.charAt(U>>4&63)+v.charAt(U<<2&63)+"="):O==1&&(U=L.charCodeAt(M),G+=v.charAt(U>>2)+v.charAt(U<<4&63)+"=="),G},z={encode:k,decode:K,version:"0.1.0"};if(r&&!r.nodeType)if(o)o.exports=z;else for(var q in z)z.hasOwnProperty(q)&&(r[q]=z[q]);else i.base64=z})(za)})(hb,hb.exports);var TV=hb.exports,SV=TV,L3={};function CV(e){if(L3[e])return L3[e];var t=e.split("."),i=t[0],r=t[1];if(!r)throw new Error("Invalid token");var o=EV(r),d={usage:i,user:o.u};return S0(o,"a")&&(d.authorization=o.a),S0(o,"exp")&&(d.expires=o.exp*1e3),S0(o,"iat")&&(d.created=o.iat*1e3),S0(o,"scopes")&&(d.scopes=o.scopes),S0(o,"client")&&(d.client=o.client),S0(o,"ll")&&(d.lastLogin=o.ll),S0(o,"iu")&&(d.impersonator=o.iu),L3[e]=d,d}function EV(e){try{return JSON.parse(SV.decode(e))}catch{throw new Error("Invalid token")}}function S0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Y4=CV,q4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function o(v,R,K){this.fn=v,this.context=R,this.once=K||!1}function d(v,R,K,k,z){if(typeof K!="function")throw new TypeError("The listener must be a function");var q=new o(K,k||v,z),L=i?i+R:R;return v._events[L]?v._events[L].fn?v._events[L]=[v._events[L],q]:v._events[L].push(q):(v._events[L]=q,v._eventsCount++),v}function h(v,R){--v._eventsCount===0?v._events=new r:delete v._events[R]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var R=[],K,k;if(this._eventsCount===0)return R;for(k in K=this._events)t.call(K,k)&&R.push(i?k.slice(1):k);return Object.getOwnPropertySymbols?R.concat(Object.getOwnPropertySymbols(K)):R},s.prototype.listeners=function(R){var K=i?i+R:R,k=this._events[K];if(!k)return[];if(k.fn)return[k.fn];for(var z=0,q=k.length,L=new Array(q);z<q;z++)L[z]=k[z].fn;return L},s.prototype.listenerCount=function(R){var K=i?i+R:R,k=this._events[K];return k?k.fn?1:k.length:0},s.prototype.emit=function(R,K,k,z,q,L){var O=i?i+R:R;if(!this._events[O])return!1;var G=this._events[O],M=arguments.length,S,D;if(G.fn){switch(G.once&&this.removeListener(R,G.fn,void 0,!0),M){case 1:return G.fn.call(G.context),!0;case 2:return G.fn.call(G.context,K),!0;case 3:return G.fn.call(G.context,K,k),!0;case 4:return G.fn.call(G.context,K,k,z),!0;case 5:return G.fn.call(G.context,K,k,z,q),!0;case 6:return G.fn.call(G.context,K,k,z,q,L),!0}for(D=1,S=new Array(M-1);D<M;D++)S[D-1]=arguments[D];G.fn.apply(G.context,S)}else{var H=G.length,U;for(D=0;D<H;D++)switch(G[D].once&&this.removeListener(R,G[D].fn,void 0,!0),M){case 1:G[D].fn.call(G[D].context);break;case 2:G[D].fn.call(G[D].context,K);break;case 3:G[D].fn.call(G[D].context,K,k);break;case 4:G[D].fn.call(G[D].context,K,k,z);break;default:if(!S)for(U=1,S=new Array(M-1);U<M;U++)S[U-1]=arguments[U];G[D].fn.apply(G[D].context,S)}}return!0},s.prototype.on=function(R,K,k){return d(this,R,K,k,!1)},s.prototype.once=function(R,K,k){return d(this,R,K,k,!0)},s.prototype.removeListener=function(R,K,k,z){var q=i?i+R:R;if(!this._events[q])return this;if(!K)return h(this,q),this;var L=this._events[q];if(L.fn)L.fn===K&&(!z||L.once)&&(!k||L.context===k)&&h(this,q);else{for(var O=0,G=[],M=L.length;O<M;O++)(L[O].fn!==K||z&&!L[O].once||k&&L[O].context!==k)&&G.push(L[O]);G.length?this._events[q]=G.length===1?G[0]:G:h(this,q)}return this},s.prototype.removeAllListeners=function(R){var K;return R?(K=i?i+R:R,this._events[K]&&h(this,K)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,e.exports=s})(q4);var MV=q4.exports;function kV(e){return e.map(encodeURIComponent).join(",")}function X4(e){return Array.isArray(e)?kV(e):encodeURIComponent(String(e))}function Z4(e,t,i){if(i===!1||i===null)return e;var r=/\?/.test(e)?"&":"?",o=encodeURIComponent(t);return i!==void 0&&i!==""&&i!==!0&&(o+="="+X4(i)),""+e+r+o}function AV(e,t){if(!t)return e;var i=e;return Object.keys(t).forEach(function(r){var o=t[r];o!==void 0&&(Array.isArray(o)&&(o=o.filter(function(d){return d!=null}).join(",")),i=Z4(i,r,o))}),i}function PV(e,t){if(!t||e.slice(0,4)==="http")return e;var i=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+i+e}function DV(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(i,r){var o=t[r];if(o===void 0)throw new Error("Unspecified route parameter "+r);var d=X4(o);return"/"+d}):e}var IV={appendQueryObject:AV,appendQueryParam:Z4,prependOrigin:PV,interpolateRouteParams:DV},LV=Y4,RC=qg,OV=MV,mx=IV,JE=d2,RV=1;function wf(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var i={};t.body&&(i["content-type"]="application/json");var r=RC(i,t.headers),o=Object.keys(r).reduce(function(d,h){return d[h.toLowerCase()]=r[h],d},{});this.id=RV++,this._options=t,this.emitter=new OV,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=o}wf.prototype.url=function(t){var i=mx.prependOrigin(this.path,this.origin);i=mx.appendQueryObject(i,this.query);var r=this.params,o=t??this.client.accessToken;if(o){i=mx.appendQueryParam(i,"access_token",o);var d=LV(o).user;r=RC({ownerId:d},r)}return i=mx.interpolateRouteParams(i,r),i};wf.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(i){return t.response=i,t.emitter.emit(JE.EVENT_RESPONSE,i),i},function(i){throw t.error=i,t.emitter.emit(JE.EVENT_ERROR,i),i})};wf.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};wf.prototype.eachPage=function(t){var i=this;function r(h){function s(){delete i._nextPageRequest;var v=h.nextPage();v&&(i._nextPageRequest=v,d(v))}t(null,h,s)}function o(h){t(h,null,function(){})}function d(h){h.send().then(r,o)}d(this)};wf.prototype.clone=function(){return this._extend()};wf.prototype._extend=function(t){var i=RC(this._options,t);return new wf(this.client,i)};var BV=wf,zV=Y4,NV=BV,FV=d2;function K4(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");zV(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||FV.API_ORIGIN}K4.prototype.createRequest=function(t){return new NV(this,t)};var J4=K4,Q4=wV,e6=J4;function Ng(e){e6.call(this,e)}Ng.prototype=Object.create(e6.prototype);Ng.prototype.constructor=Ng;Ng.prototype.sendRequest=Q4.browserSend;Ng.prototype.abortRequest=Q4.browserAbort;function jV(e){return new Ng(e)}var t6=jV,UV=t6,$V=UV,VV=Object.prototype.toString,GV=function(e){var t;return VV.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},HV=GV,WV=qg,i6="value",O3=`
  `,mo={};mo.assert=function(e,t){return t=t||{},function(i){var r=Tf(e,i);if(r){var o=BC(r,t);throw t.apiName&&(o=t.apiName+": "+o),new Error(o)}}};mo.shape=function(t){var i=ZV(t);return function(o){var d=Tf(mo.plainObject,o);if(d)return d;for(var h,s,v=[],R=0;R<i.length;R++)h=i[R].key,s=i[R].value,d=Tf(s,o[h]),d&&v.push([h].concat(d));return v.length<2?v[0]:function(K){v=v.map(function(q){var L=q[0],O=BC(q,K).split(`
`).join(O3);return"- "+L+": "+O});var k=K.path.join("."),z=k===i6?"":" of "+k;return"The following properties"+z+" have invalid values:"+O3+v.join(O3)}}};mo.strictShape=function(t){var i=mo.shape(t);return function(o){var d=i(o);if(d)return d;var h=Object.keys(o).reduce(function(s,v){return t[v]===void 0&&s.push(v),s},[]);if(h.length!==0)return function(){return"The following keys are invalid: "+h.join(", ")}}};mo.arrayOf=function(t){return n6(t)};mo.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return n6(t)};function n6(e){var t=Array.isArray(e),i=function(r){return t?e[r]:e};return function(o){var d=Tf(mo.plainArray,o);if(d)return d;if(t&&o.length!==e.length)return"an array with "+e.length+" items";for(var h=0;h<o.length;h++)if(d=Tf(i(h),o[h]),d)return[h].concat(d)}}mo.required=function(t){function i(r){return r==null?function(o){return r6(o,s6(o.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return i.__required=!0,i};mo.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(r){var o=t.map(function(d){return Tf(d,r)}).filter(Boolean);if(o.length===t.length)return o.every(function(d){return d.length===1&&typeof d[0]=="string"})?YV(o.map(function(d){return d[0]})):o.reduce(function(d,h){return h.length>d.length?h:d})}};mo.equal=function(t){return function(r){if(r!==t)return JSON.stringify(t)}};mo.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),i=t.map(function(r){return mo.equal(r)});return mo.oneOfType.apply(this,i)};mo.range=function(t){var i=t[0],r=t[1];return function(d){var h=Tf(mo.number,d);if(h||d<i||d>r)return"number between "+i+" & "+r+" (inclusive)"}};mo.any=function(){};mo.boolean=function(t){if(typeof t!="boolean")return"boolean"};mo.number=function(t){if(typeof t!="number")return"number"};mo.plainArray=function(t){if(!Array.isArray(t))return"array"};mo.plainObject=function(t){if(!HV(t))return"object"};mo.string=function(t){if(typeof t!="string")return"string"};mo.func=function(t){if(typeof t!="function")return"function"};function Tf(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var i=e(t);if(i)return Array.isArray(i)?i:[i]}}function BC(e,t){var i=e.length,r=e[i-1],o=e.slice(0,i-1);return o.length===0&&(o=[i6]),t=WV(t,{path:o}),typeof r=="function"?r(t):r6(t,qV(r))}function YV(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function qV(e){return"must be "+XV(e)+"."}function XV(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function r6(e,t){var i=s6(e.path),r=e.path.join(".")+" "+t,o=i?"Item at position ":"";return o+r}function s6(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function ZV(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}mo.validate=Tf;mo.processMessage=BC;var KV=mo,JV=qg,Eg=KV;function QV(e){if(typeof window<"u")return e instanceof za.Blob||e instanceof za.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function eG(e,t){return Eg.assert(Eg.strictShape(e),t)}function tG(e){var t="date";if(typeof e=="boolean")return t;try{var i=new Date(e);if(i.getTime&&isNaN(i.getTime()))return t}catch{return t}}function iG(e){return Eg.tuple(Eg.number,Eg.number)(e)}var nG=JV(Eg,{file:QV,date:tG,coordinates:iG,assertShape:eG});function rG(e,t){var i=function(r,o){return t.indexOf(r)!==-1&&o!==void 0};return typeof t=="function"&&(i=t),Object.keys(e).filter(function(r){return i(r,e[r])}).reduce(function(r,o){return r[o]=e[o],r},{})}var sG=rG;function oG(e,t){return Object.keys(e).reduce(function(i,r){return i[r]=t(r,e[r]),i},{})}var aG=oG,lG=aG;function cG(e){return lG(e,function(t,i){return typeof i=="boolean"?JSON.stringify(i):i})}var dG=cG,uG=J4,hG=t6;function pG(e){return function(t){var i;uG.prototype.isPrototypeOf(t)?i=t:i=hG(t);var r=Object.create(e);return r.client=i,r}}var fG=pG,o6=qg,os=nG,pb=sG,a6=dG,mG=fG,zC={},l6=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];zC.forwardGeocode=function(e){os.assertShape({query:os.required(os.string),mode:os.oneOf("mapbox.places","mapbox.places-permanent"),countries:os.arrayOf(os.string),proximity:os.oneOf(os.coordinates,"ip"),types:os.arrayOf(os.oneOf(l6)),autocomplete:os.boolean,bbox:os.arrayOf(os.number),limit:os.number,language:os.arrayOf(os.string),routing:os.boolean,fuzzyMatch:os.boolean,worldview:os.string})(e),e.mode=e.mode||"mapbox.places";var t=a6(o6({country:e.countries},pb(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:pb(e,["mode","query"]),query:t})};zC.reverseGeocode=function(e){os.assertShape({query:os.required(os.coordinates),mode:os.oneOf("mapbox.places","mapbox.places-permanent"),countries:os.arrayOf(os.string),types:os.arrayOf(os.oneOf(l6)),bbox:os.arrayOf(os.number),limit:os.number,language:os.arrayOf(os.string),reverseMode:os.oneOf("distance","score"),routing:os.boolean,worldview:os.string})(e),e.mode=e.mode||"mapbox.places";var t=a6(o6({country:e.countries},pb(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:pb(e,["mode","query"]),query:t})};var gG=mG(zC);let yG="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",c6=e=>crypto.getRandomValues(new Uint8Array(e)),d6=(e,t,i)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(d=t)=>{let h="";for(;;){let s=i(o),v=o;for(;v--;)if(h+=e[s[v]&r]||"",h.length===d)return h}}},_G=(e,t=21)=>d6(e,t,c6),vG=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,i)=>(i&=63,i<36?t+=i.toString(36):i<62?t+=(i-26).toString(36).toUpperCase():i>62?t+="-":t+="_",t),"");const xG=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:_G,customRandom:d6,nanoid:vG,random:c6,urlAlphabet:yG},Symbol.toStringTag,{value:"Module"})),bG=mM(xG);var wG=bG.nanoid;function u6(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}u6.prototype={select:function(e,t){var i=this.getSelectedIndex(e,t),r=this.getEventPayload("search.select",t);if(r.resultIndex=i,r.resultPlaceName=e.place_name,r.resultId=e.id,!(i===this.lastSentIndex&&r.queryString===this.lastSentInput||i==-1)&&(this.lastSentIndex=i,this.lastSentInput=r.queryString,!!r.queryString))return this.push(r)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var i=this.getEventPayload("search.keystroke",t);if(i.lastAction=e.key,!!i.queryString)return this.push(i)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var i=this.getRequestOptions(e);this.request(i,(function(r){if(r)return this.handleError(r,t);if(t)return t()}).bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t){var i;t.options.proximity?typeof t.options.proximity=="object"?i=[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?i=[999,999]:i=t.options.proximity:i=null;var r=t._map?t._map.getZoom():void 0,o={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:i,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:r,keyboardLocale:this.locale};return e==="search.select"?o.queryString=t.inputString:e!="search.select"&&t._inputEl?o.queryString=t._inputEl.value:o.queryString=t.inputString,o},request:function(e,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},i.open(e.method,e.host+"/"+e.path,!0);for(var r in e.headers){var o=e.headers[r];i.setRequestHeader(r,o)}i.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return wG()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var i=t._typeahead.data,r=e.id,o=i.map(function(h){return h.id}),d=o.indexOf(r);return d}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var TG=u6,SG={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},CG={placeholder:SG},h6={exports:{}};(function(e){(function(t,i,r){e.exports?e.exports=r():t[i]=r()})(za,"subtag",function(){var t="",i=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(v){return v.match(i)||[]}function o(v){return r(v).filter(function(R,K){return R&&K})}function d(v){return v=r(v),{language:v[1]||t,extlang:v[2]||t,script:v[3]||t,region:v[4]||t}}function h(v,R,K){Object.defineProperty(v,R,{value:K,enumerable:!0})}function s(v,R,K){function k(z){return r(z)[v]||t}h(k,"pattern",R),h(d,K,k)}return s(1,/^[a-zA-Z]{2,3}$/,"language"),s(2,/^[a-zA-Z]{3}$/,"extlang"),s(3,/^[a-zA-Z]{4}$/,"script"),s(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),h(d,"split",o),d})})(h6);var EG=h6.exports;function p6(){}p6.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,i){window.navigator.geolocation.getCurrentPosition(t,i,e)})}};var MG=p6;function kG(e,t){const i=f6(e),r=["address","street","place","country"];var o;if(typeof t=="function")return t(i);const d=r.indexOf(t);return d===-1?o=r:o=r.slice(d),o.reduce(function(h,s){return i[s]?(h!==""&&(h=h+", "),h+i[s]):h},"")}function f6(e){const t=e.address||"",i=e.text||"",r=e.place_name||"",d={address:r.split(",")[0],houseNumber:t,street:i,placeName:r};return e.context.forEach(function(h){const s=h.id.split(".")[0];d[s]=h.text}),d}const AG=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var PG={transformFeatureToGeolocationText:kG,getAddressInfo:f6,REVERSE_GEOCODE_COORD_RGX:AG},DG=L$,IG=K$,M0=qg,LG=rV.EventEmitter,QE=sV,R3=$V,B3=gG,OG=TG,RG=CG,BG=EG,zG=MG,eM=PG;const ef={FORWARD:0,LOCAL:1,REVERSE:2};function NG(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function m6(e){this._eventEmitter=new LG,this.options=M0({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new zG}m6.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(i,r){if(!document.body.contains(r))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const o=i.onAdd();r.appendChild(o)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const i=document.querySelectorAll(e);if(i.length===0)throw new Error("Element ",e,"not found.");if(i.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,i[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=B3(R3({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new OG(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var i=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",IG(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",(function(R){this.eventManager.keyevent(R,this)}).bind(this));var r=document.createElement("div");r.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var o=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(o),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),t.appendChild(i),t.appendChild(this._inputEl),t.appendChild(r),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var d=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(d),r.appendChild(this._geolocateEl),this._showGeolocateButton()}var h=this._typeahead=new DG(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),h.getItemValue=this.options.getItemValue;var s=h.list.draw,v=this._footerNode=NG();return h.list.draw=function(){s.call(this),v.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),v.addEventListener("mouseup",(function(){this.selectingListItem=!1}).bind(this)),this.element.appendChild(v)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then((function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const i={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const r=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(r),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(i).send().then((function(r){const o=r.body.features[0];if(o){const d=eM.transformFeatureToGeolocationText(o,this.options.addressAccuracy);this._setInputValue(d),o.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:o})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}).bind(this))}).bind(this)).catch((function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}).bind(this))},createIcon:function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),i.setAttribute("viewBox","0 0 18 18"),i.setAttribute("xml:space","preserve"),i.setAttribute("width",18),i.setAttribute("height",18),i.innerHTML=t,i},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout((function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}).bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,i=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var r=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,o=r?r.value:"";if(!o)return this.fresh=!0,e.keyCode!==i&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[i,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&r.value.length>=this.options.minLength&&this._geocode(r.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&QE[e.properties.short_code])t=M0({},this.options.flyTo),this._map&&this._map.fitBounds(QE[e.properties.short_code].bbox,t);else if(e.bbox){var i=e.bbox;t=M0({},this.options.flyTo),this._map&&this._map.fitBounds([[i[0],i[1]],[i[2],i[3]]],t)}else{var r={zoom:this.options.zoom};t=M0({},r,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var i;return e.localGeocoderOnly?i=ef.LOCAL:e.reverseGeocode&&eM.REVERSE_GEOCODE_COORD_RGX.test(t)?i=ef.REVERSE:i=ef.FORWARD,i},_setupConfig:function(e,t){const i=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],r=/[\s,]+/;var o=this,d=i.reduce(function(s,v){if(o.options[v]===void 0||o.options[v]===null)return s;["countries","types","language"].indexOf(v)>-1?s[v]=o.options[v].split(r):s[v]=o.options[v];const R=typeof o.options[v].longitude=="number"&&typeof o.options[v].latitude=="number";if(v==="proximity"&&R){const K=o.options[v].longitude,k=o.options[v].latitude;s[v]=[K,k]}return s},{});switch(e){case ef.REVERSE:{var h=t.split(r).map(function(s){return parseFloat(s,10)});o.options.flipCoordinates||h.reverse(),d.types&&d.types[0],d=M0(d,{query:h,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(s){s in d&&delete d[s]})}break;case ef.FORWARD:{const s=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(s)&&(t=t.replace(/,/g," ")),d=M0(d,{query:t})}break}return d},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),i=this._setupConfig(t,e);var r;switch(t){case ef.LOCAL:r=Promise.resolve();break;case ef.FORWARD:r=this.geocoderService.forwardGeocode(i).send();break;case ef.REVERSE:r=this.geocoderService.reverseGeocode(i).send();break}var o=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],d=[],h=null;return r.catch((function(s){h=s}).bind(this)).then((function(s){this._hideLoadingIcon();var v={};return s?s.statusCode=="200"&&(v=s.body,v.request=s.request,v.headers=s.headers):v={type:"FeatureCollection",features:[]},v.config=i,this.fresh&&(this.eventManager.start(this),this.fresh=!1),v.features=v.features?o.concat(v.features):o,this.options.externalGeocoder?(d=this.options.externalGeocoder(e,v.features)||Promise.resolve([]),d.then(function(R){return v.features=v.features?R.concat(v.features):R,v},function(){return v})):v}).bind(this)).then((function(s){if(h)throw h;this.options.filter&&s.features.length&&(s.features=s.features.filter(this.options.filter)),s.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",s),this._typeahead.update(s.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",s))}).bind(this)).catch((function(s){this._hideLoadingIcon(),this._hideAttribution(),o.length&&this.options.localGeocoder||d.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(o)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:o}),this._eventEmitter.emit("error",{error:s})}).bind(this)),r},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var i=t.features[0];this._typeahead.selected=i,this._inputEl.value=i.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=BG.language(e),i=RG.placeholder[t];if(i)return i}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=B3(R3({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=B3(R3({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},i=M0({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(i),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var FG=m6;const jG=tu(FG);function UG(){return{map:F0("mapbox-map")}}var z3=new Map,$G=/onMb([A-Z])(.+)/;function VG(e){return z3.has(e)||z3.set(e,e.replace($G,(t,i,r)=>i.toLowerCase()+r)),z3.get(e)}function g6(e,t,i=[],r=null){const o=AS(),d=un(()=>Object.entries(o).filter(([R,K])=>R.startsWith("on")&&typeof K=="function").map(([R])=>R)),h=new Map;function s(R){Array.isArray(R)&&R.forEach(K=>{const k=h.get(K);typeof k=="function"&&k()})}function v(R){Array.isArray(R)&&R.forEach(K=>{const k=VG(K);if(!i.includes(k))return;const z=(...q)=>{e(`mb-${k}`,...q)};r?(Li(t).on(k,r,z),h.set(K,()=>{Li(t).off(k,r,z)})):(Li(t).on(k,z),h.set(K,()=>{Li(t).off(k,z)}))})}Xs(d,(R,K)=>{const k=Array.isArray(R)?(K??[]).filter(q=>!R.includes(q)):K??[],z=Array.isArray(K)?(R??[]).filter(q=>!K.includes(q)):R??[];if(Li(t))s(k),v(z);else{const q=Xs(t,L=>{L&&(s(k),v(z),q())})}},{immediate:!0})}function GG(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y6(e,t,i){function r(o){Object.keys(e).filter(d=>e[d]!==void 0&&e[d]!==null).forEach(d=>{var h,s;const v=d==="mapStyle"?"setStyle":`set${GG(d)}`,R=typeof o[v]=="function",K=typeof i[d]>"u"||"bind"in i[d]?(s=(h=i[d])==null?void 0:h.bind)!=null?s:!1:!0;if(!R||!K)return;const{type:k}=e[d],z={deep:k===Object||Array.isArray(k)&&k.includes(Object)};Xs(()=>e[d],q=>{o[v](q)},z)})}if(Li(t))r(Li(t));else{const o=Xs(t,d=>{d&&(r(d),o())})}}function HG(e,{propsConfig:t,props:i,emit:r,events:o=[]}){const{map:d}=UG(),h=Ki();return Array.isArray(o)&&o.length&&g6(r,h,o),typeof t<"u"&&y6(i,h,t),Xs(()=>i.position,s=>{Li(d)&&Li(d).removeControl(Li(h)).addControl(Li(h),s)}),Go(async()=>{const s=new e(i);Li(d)&&Li(d).addControl(s,i.position),await Fa(),h.value=s}),hh(()=>{Li(h)&&Li(d)&&Li(d).removeControl(Li(h))}),{control:h,map:d}}var _6=(e,t)=>{const i=e.__vccOpts||e;for(const[r,o]of t)i[r]=o;return i};if(!Vl)throw new Error("mapboxgl is not installed.");if(!jG)throw new Error("MapboxGeocoder is not installed.");var WG={key:0},YG={key:1};if(!Vl)throw new Error("mapboxgl is not installed.");var{LngLatBounds:tM,LngLat:qG}=Vl,iM={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[tM,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[qG,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[tM,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},XG=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],ZG={inheritAttrs:!1},KG=Object.assign(ZG,{__name:"MapboxMap",props:iM,setup(e,{expose:t,emit:i}){const r=e,o=Ki();Gg("mapbox-map",o);const d=Ki(),h=Ki(!1),s=un(()=>{const{accessToken:v,mapStyle:R,...K}=r;return!K.container&&d.value&&(K.container=d.value),{style:R,...K}});return g6(i,o,XG),y6(r,o,iM),Go(()=>{Vl.accessToken=r.accessToken,o.value=new Vl.Map(s.value),o.value.on("load",()=>{h.value=!0}),i("mb-created",o.value);const v=new ResizeObserver(()=>{o.value.resize()});v.observe(s.value.container),hh(()=>{v.disconnect(),o.value.remove()})}),t({map:o}),(v,R)=>(dt(),vt(Yi,null,[Ne("div",Ko({ref_key:"root",ref:d},v.$attrs),null,16),h.value?(dt(),vt("div",WG,[vn(v.$slots,"default")])):(dt(),vt("div",YG,[vn(v.$slots,"loader")]))],64))}}),C_=_6(KG,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!Vl)throw new Error("mapboxgl is not installed.");var nM={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},JG={__name:"MapboxNavigationControl",props:nM,setup(e,{expose:t}){const i=e,{NavigationControl:r}=Vl,{control:o}=HG(r,{props:i,propsConfig:nM});return t({control:o}),(d,h)=>(dt(),vt("div"))}},E_=_6(JG,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const Cr=(e,t)=>{const i=e.__vccOpts||e;for(const[r,o]of t)i[r]=o;return i},QG={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},eH={class:"ships-list position-absolute",ref:"cSearch"},tH={class:"card",style:{height:"100%"}},iH={class:"card-header search"},nH={action:"#",method:"get",style:{width:"100%"}},rH={class:"input-icon"},sH=nu('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),oH={class:"card-actions btn-actions"},aH={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},lH=Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),cH=Ne("polyline",{points:"15 6 9 12 15 18"},null,-1),dH=[lH,cH],uH={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},hH=Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),pH=Ne("polyline",{points:"6 9 12 15 18 9"},null,-1),fH=[hH,pH],mH={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},gH={class:"divide-y pointer"},yH=["onClick"],_H={class:"row"},vH=Ne("div",{class:"col-auto"},[Ne("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),xH={class:"col p-0"},bH={class:"text-truncate"},wH={class:"text-muted text-sm"},TH={key:0,class:"col-auto"},SH=Ne("div",{class:"badge bg-success"},null,-1),CH=Ne("span",{class:"text-xs ml-1"},"Online",-1),EH={class:"text-xs"},MH={key:1,class:"col-auto"},kH=Ne("div",{class:"badge bg-danger"},null,-1),AH=Ne("span",{class:"text-xs ml-1"},"Offline",-1),PH={class:"text-xs"};function DH(e,t,i,r,o,d){return dt(),vt("div",eH,[Ne("div",tH,[Ne("div",iH,[Ne("form",nH,[Ne("div",rH,[sH,Ms(Ne("input",{type:"text",onKeyup:t[0]||(t[0]=(...h)=>d.search&&d.search(...h)),"onUpdate:modelValue":t[1]||(t[1]=h=>o.keyword=h),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[Hc,o.keyword]])])]),Ne("div",oH,[Ne("a",{href:"#",class:"btn-action",onClick:t[2]||(t[2]=(...h)=>d.searchExpand&&d.searchExpand(...h))},[o.isExpand?di("",!0):(dt(),vt("svg",aH,dH)),o.isExpand?(dt(),vt("svg",uH,fH)):di("",!0)])])]),Ne("div",mH,[Ne("div",gH,[(dt(!0),vt(Yi,null,Xn(d.filters,h=>(dt(),vt("div",{key:h.id,onClick:s=>d.selected(h)},[Ne("div",_H,[vH,Ne("div",xH,[Ne("div",bH,$i(h.name),1),Ne("div",wH,$i(h.imo_number),1)]),h.connected?(dt(),vt("div",TH,[SH,CH,Ne("div",EH,$i(e.$filters.dateformat(h.last_connection,"DD/MM HH:mm")),1)])):di("",!0),h.connected?di("",!0):(dt(),vt("div",MH,[kH,AH,Ne("div",PH,$i(e.$filters.dateformat(h.last_connection,"DD/MM HH:mm")),1)]))])],8,yH))),128))])],512)])],512)}const v6=Cr(QG,[["render",DH]]),IH={data(){return{isExpand:!0,notifications:[{id:1,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:2,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:3,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:4,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:5,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:6,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:7,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:8,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Xg=e=>(dp("data-v-cbda607e"),e=e(),up(),e),LH={class:"ships-notification",ref:"cSearch"},OH={class:"card",style:{height:"100%"}},RH={class:"card-header search"},BH=Xg(()=>Ne("h4",{class:"card-title"}," Active Notifications ",-1)),zH={class:"card-actions btn-actions"},NH={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},FH=Xg(()=>Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),jH=Xg(()=>Ne("polyline",{points:"15 6 9 12 15 18"},null,-1)),UH=[FH,jH],$H={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},VH=Xg(()=>Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),GH=Xg(()=>Ne("polyline",{points:"6 9 12 15 18 9"},null,-1)),HH=[VH,GH],WH={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},YH={class:"divide-y"},qH=nu('<div class="notif-status" data-v-cbda607e><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/alarm.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Alarm</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/volume.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>4</span></div><div data-v-cbda607e>Warning</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/caution.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Caution</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/info-blue.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Info</div></div></div>',1),XH={class:"row"},ZH=Xg(()=>Ne("div",{class:"col-auto"},[Ne("img",{src:"img/icons/caution.png",alt:"",width:"20"})],-1)),KH={class:"col"},JH={class:"fw-bold"},QH={class:"text-sm"};function eW(e,t,i,r,o,d){return dt(),vt("div",LH,[Ne("div",OH,[Ne("div",RH,[BH,Ne("div",zH,[Ne("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...h)=>d.notifExpand&&d.notifExpand(...h))},[o.isExpand?di("",!0):(dt(),vt("svg",NH,UH)),o.isExpand?(dt(),vt("svg",$H,HH)):di("",!0)])])]),Ne("div",WH,[Ne("div",YH,[qH,(dt(!0),vt(Yi,null,Xn(o.notifications,h=>(dt(),vt("div",{key:h.id,class:"py-2 border-bottom border-white"},[Ne("div",XH,[ZH,Ne("div",KH,[Ne("div",JH,$i(h.title),1),rs(" "+$i(h.desc)+" ",1),Ne("div",QH,$i(h.date),1)])])]))),128))])],512)])],512)}const x6=Cr(IH,[["render",eW],["__scopeId","data-v-cbda607e"]]),tW={},iW={class:"ships-records"},nW=nu('<div class="card" data-v-b06cef02><div class="card-header" data-v-b06cef02><div class="text-center" data-v-b06cef02><img src="img/singapore.png" alt="" data-v-b06cef02><div class="text-white" data-v-b06cef02>PRO</div></div><div class="w-100 d-flex align-items-start justify-content-between" data-v-b06cef02><div class="card-title" data-v-b06cef02><div data-v-b06cef02>Widuri</div><small class="text-white" data-v-b06cef02>Fleet II</small></div><div class="card-status" data-v-b06cef02><div class="status-box bg-online" data-v-b06cef02></div><div class="text-white" data-v-b06cef02>Online</div></div></div></div><div class="card-body" data-v-b06cef02><div data-v-b06cef02>under way using engine</div><div class="d-flex align-items-center justify-content-between" data-v-b06cef02><div data-v-b06cef02>ATD 27/5</div><div data-v-b06cef02>ETA 10/6</div></div><div class="d-flex align-items-center justify-content-between mb-3" data-v-b06cef02><div data-v-b06cef02>Singapura</div><div data-v-b06cef02>Jakarta</div></div><div class="ships-route-ltr" data-v-b06cef02></div></div></div>',1),rW=[nW];function sW(e,t,i,r,o,d){return dt(),vt("div",iW,rW)}const b6=Cr(tW,[["render",sW],["__scopeId","data-v-b06cef02"]]),oW={},aW={class:"ships-navigations"},lW=nu('<div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div><div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div>',2),cW=[lW];function dW(e,t,i,r,o,d){return dt(),vt("div",aW,cW)}const w6=Cr(oW,[["render",dW],["__scopeId","data-v-23fc79b0"]]),uW={},hW={class:"ships-camera"},pW=nu('<a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Front View</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a><a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Bridge</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a>',2),fW=[pW];function mW(e,t,i,r,o,d){return dt(),vt("div",hW,fW)}const T6=Cr(uW,[["render",mW],["__scopeId","data-v-34ce2568"]]),gW={data(){return{isExpand:!0,parameter:[{id:1,title:"SPEED THROUGH WATER",value:"13.8",format:"KNOTS"},{id:2,title:"SPEED OVER GROUND",value:"14.9",format:"KNOTS"},{id:3,title:"ME SHAFT POWER",value:"4852",format:"KW"},{id:4,title:"ME RPM",value:"95",format:"RPM"},{id:5,title:"ME FO",value:"26.5",format:"FO"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},kf=e=>(dp("data-v-82e529c6"),e=e(),up(),e),yW={class:"ships-parameter",ref:"cSearch"},_W={class:"card",style:{height:"100%"}},vW={class:"card-header search"},xW=kf(()=>Ne("h4",{class:"card-title"}," KEY PARAMETER ",-1)),bW={class:"card-actions btn-actions"},wW={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},TW=kf(()=>Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),SW=kf(()=>Ne("polyline",{points:"15 6 9 12 15 18"},null,-1)),CW=[TW,SW],EW={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},MW=kf(()=>Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),kW=kf(()=>Ne("polyline",{points:"6 9 12 15 18 9"},null,-1)),AW=[MW,kW],PW={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},DW={class:"divide-y"},IW=kf(()=>Ne("ul",{class:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist"},[Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"DAILY AVG")]),Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"PRESENT VALUES")])],-1)),LW={class:"tab-content",id:"pills-tabContent"},OW={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},RW={class:"row align-items-center"},BW={class:"col-6"},zW={class:"fw-bold"},NW={class:"col-6 text-center"},FW={class:"fw-normal"},jW={class:"text-sm"},UW=kf(()=>Ne("div",{class:"py-2 border-bottom border-white"},[Ne("div",{class:"row align-items-center"},[Ne("div",{class:"col-12"},[Ne("div",{class:""},"NOTE: Daily average is calculated at 12 PM UTC")])])],-1)),$W=kf(()=>Ne("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"}," ... ",-1));function VW(e,t,i,r,o,d){return dt(),vt("div",yW,[Ne("div",_W,[Ne("div",vW,[xW,Ne("div",bW,[Ne("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...h)=>d.notifExpand&&d.notifExpand(...h))},[o.isExpand?di("",!0):(dt(),vt("svg",wW,CW)),o.isExpand?(dt(),vt("svg",EW,AW)):di("",!0)])])]),Ne("div",PW,[Ne("div",DW,[IW,Ne("div",LW,[Ne("div",OW,[(dt(!0),vt(Yi,null,Xn(o.parameter,h=>(dt(),vt("div",{key:h.id,class:"py-2 border-bottom border-white"},[Ne("div",RW,[Ne("div",BW,[Ne("div",zW,$i(h.title),1)]),Ne("div",NW,[Ne("h2",FW,$i(h.value),1),Ne("div",jW,$i(h.format),1)])])]))),128)),UW]),$W])])],512)])],512)}const S6=Cr(gW,[["render",VW],["__scopeId","data-v-82e529c6"]]);var GW=["second","minute","hour","day","week","month","year"];function HW(e,t){if(t===0)return["just now","right now"];var i=GW[Math.floor(t/2)];return e>1&&(i+="s"),[e+" "+i+" ago","in "+e+" "+i]}var WW=["秒","分钟","小时","天","周","个月","年"];function YW(e,t){if(t===0)return["刚刚","片刻后"];var i=WW[~~(t/2)];return[e+" "+i+"前",e+" "+i+"后"]}var FT={},C6=function(e,t){FT[e]=t},qW=function(e){return FT[e]||FT.en_US},N3=[60,60,24,7,365/7/12,12];function rM(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function XW(e,t){var i=e<0?1:0;e=Math.abs(e);for(var r=e,o=0;e>=N3[o]&&o<N3.length;o++)e/=N3[o];return e=Math.floor(e),o*=2,e>(o===0?9:1)&&(o+=1),t(e,o,r)[i].replace("%s",e.toString())}function ZW(e,t){var i=t?rM(t):new Date;return(+i-+rM(e))/1e3}var Fg=function(e,t,i){var r=ZW(e,i&&i.relativeDate);return XW(r,qW(t))};C6("en_US",HW);C6("zh_CN",YW);const KW="/build/assets/blue-a08778d1.png",JW="/build/assets/green-fc37c2da.png",QW="/build/assets/red-81ec77e5.png",eY="/build/assets/yellow-bbf4eb24.png",tY="/build/assets/purple-47482fdf.png",iY={components:{},props:{fleets:Array},data(){return{fleetsGroup:[],colors:{at_port:"#004BFF",underway:"#56B745",lost_connection:"#E13711",at_anchorage:"#F1D244",other:"#A32B7C"},icons:{at_port:{name:"At Port",img:"/icon/blue.png"},underway:{img:"/icon/green.png",name:"Underway"},lost_connection:{img:"/icon/red.png",name:"Lost Connection"},at_anchorage:{img:"/icon/yellow.png",name:"At Anchorage"},other:{img:"/icon/purple.png",name:"Other"}}}},watch:{fleets:function(e,t){let i=mb.groupBy(e,({fleet_status:o})=>o);this.fleetsGroup=[];let r=this;Object.keys(this.colors).forEach(function(o){let d=typeof i[o]>"u"?0:i[o].length;r.fleetsGroup.push({value:d,color:r.colors[o],label:o,name:r.icons[o].name,img:r.icons[o].img})})}},methods:{}},nY=e=>(dp("data-v-76dc3bd4"),e=e(),up(),e),rY={class:"lengend"},sY={class:"card"},oY=nY(()=>Ne("div",{class:"card-header"},[Ne("div",{class:"title"},"Fleets Information")],-1)),aY={class:"card-body row"},lY={class:"col-5"},cY={class:"fleet-count"},dY={class:"col-7"},uY=["src"];function hY(e,t,i,r,o,d){const h=ur("vc-donut");return dt(),vt("div",rY,[Ne("div",sY,[oY,Ne("div",aY,[Ne("div",lY,[i.fleets?(dt(),Dr(h,{key:0,size:100,sections:o.fleetsGroup,unit:"%",total:i.fleets.length,"auto-adjust-text-size":!0},{default:Hn(()=>[Ne("div",cY,$i(i.fleets.length),1),rs(" Vessels ")]),_:1},8,["sections","total"])):di("",!0)]),Ne("div",dY,[(dt(!0),vt(Yi,null,Xn(o.fleetsGroup,s=>(dt(),vt("div",{key:s.label},[Ne("img",{src:s.img},null,8,uY),rs(" "+$i(s.name)+" ("+$i(s.value)+") ",1)]))),128))])])])])}const pY=Cr(iY,[["render",hY],["__scopeId","data-v-76dc3bd4"]]),fY=Gl({name:"my-table",emits:["return-checked-rows","do-search","is-finished","get-now-page","row-clicked","row-toggled"],props:{isLoading:{type:Boolean,require:!0},isReSearch:{type:Boolean,require:!0},hasCheckbox:{type:Boolean,default:!1},checkedReturnType:{type:String,default:"key"},title:{type:String,default:""},isFixedFirstColumn:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},rowClasses:{type:[Array,Function],default:()=>[]},pageSize:{type:Number,default:10},total:{type:Number,default:100},page:{type:Number,default:1},sortable:{type:Object,default:()=>({order:"id",sort:"asc"})},messages:{type:Object,default:()=>({pagingInfo:"Showing {0}-{1} of {2}",pageSizeChangeLabel:"Row count:",gotoPageLabel:"Go to page:",noDataAvailable:"No data"})},isStaticMode:{type:Boolean,default:!1},isSlotMode:{type:Boolean,default:!1},isHidePaging:{type:Boolean,default:!1},pageOptions:{type:Array,default:()=>[{value:10,text:10},{value:25,text:25},{value:50,text:50}]},groupingKey:{type:String,default:""},hasGroupToggle:{type:Boolean,default:!1},groupingDisplay:{type:Function,default:null},maxHeight:{default:"auto"},startCollapsed:{type:Boolean,default:!1},isKeepCollapsed:{type:Boolean,default:!1},isVerticalHighlight:{type:Boolean,default:!1}},setup(e,{emit:t,slots:i}){let r=Ki(null),o=e.pageOptions.length>0?Ki(e.pageOptions[0].value):Ki(e.pageSize);e.pageOptions.length>0&&e.pageOptions.forEach(x=>{Object.prototype.hasOwnProperty.call(x,"value")&&Object.prototype.hasOwnProperty.call(x,"text")&&e.pageSize==x.value&&(o.value=x.value)});const d=iu({isSlotMode:e.isSlotMode,isCheckAll:!1,isHidePaging:e.isHidePaging,keyColumn:un(()=>{let x="";return Object.assign(e.columns).forEach(P=>{P.isKey&&(x=P.field)}),x}),page:e.page,pageSize:o.value,maxPage:un(()=>{if(e.total<=0)return 0;let x=Math.floor(e.total/d.pageSize);return e.total%d.pageSize>0&&x++,x}),offset:un(()=>(d.page-1)*d.pageSize+1),limit:un(()=>{let x=d.page*d.pageSize;return e.total>=x?x:e.total}),paging:un(()=>{let x=d.page-2<=0?1:d.page-2;d.maxPage-d.page<=2&&(x=d.maxPage-4),x=x<=0?1:x;let P=[];for(let f=x;f<=d.maxPage;f++)P.length<5&&P.push(f);return P}),order:e.sortable.order,sort:e.sortable.sort,pageOptions:e.pageOptions,isVerticalHighlight:e.isVerticalHighlight}),h=Ki([]),s=un(()=>{let x=e.rows;var P=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});let f=d.sort==="desc"?-1:1;x.sort(function(b,A){return P.compare(b[d.order],A[d.order])*f});let g=null;if(e.groupingKey){let b={};x.forEach(A=>{b[A[e.groupingKey]]||(b[A[e.groupingKey]]=[]),b[A[e.groupingKey]].push(A)}),g={};for(let A=d.offset-1;A<d.limit;A++)g[x[A][e.groupingKey]]=b[x[A][e.groupingKey]]}else{g=[];for(let b=d.offset-1;b<d.limit;b++)g.push(x[b])}return Fa(function(){S()}),g}),v=Ki([]);Hg(()=>{v.value=[]}),Xs(()=>d.isCheckAll,x=>{if(e.hasCheckbox){if(h.value=[],x){let P=e.isStaticMode?e.rows.slice(d.offset-1,d.limit):e.rows;e.checkedReturnType=="row"?h.value=P:P.forEach(f=>{h.value.push(f[d.keyColumn])})}v.value.forEach(P=>{P&&(P.checked=x)}),t("return-checked-rows",h.value)}}),Xs(()=>e.hasCheckbox,x=>{x||(d.isCheckAll=!1)});const R=(x,P)=>{P.stopPropagation();let f=x[d.keyColumn];if(e.checkedReturnType=="row"&&(f=x),P.target.checked)h.value.push(f);else{const g=h.value.indexOf(f);g>=0&&h.value.splice(g,1)}h.value.length==e.rows.length?d.isCheckAll=!0:t("return-checked-rows",h.value)},K=()=>{h.value=[],v.value.forEach(x=>{x&&x.checked&&(x.checked=!1)}),t("return-checked-rows",h.value)},k=x=>{let P="asc";x==d.order&&d.sort=="asc"&&(P="desc");let f=(d.page-1)*d.pageSize,g=d.pageSize;d.order=x,d.sort=P,t("do-search",f,g,x,P),d.isCheckAll?d.isCheckAll=!1:e.hasCheckbox&&K()},z=(x,P)=>{d.isCheckAll=!1,e.hasCheckbox&&(h.value=[]);let f=d.order,g=d.sort,b=(x-1)*d.pageSize,A=d.pageSize;(!e.isReSearch||x>1||x==P)&&t("do-search",b,A,f,g)};Xs(()=>d.page,z),Xs(()=>e.page,x=>{x<=1?(d.page=1,t("get-now-page",d.page)):x>=d.maxPage?(d.page=d.maxPage,t("get-now-page",d.page)):d.page=x}),Xs(()=>d.pageSize,()=>{d.page===1?z(d.page,d.page):(d.page=1,d.isCheckAll=!1)}),Xs(()=>e.pageSize,x=>{d.pageSize=x});const L=()=>{if(d.page==1)return!1;d.page--},O=x=>{d.page=x},G=()=>{if(d.page>=d.maxPage)return!1;d.page++};Xs(()=>e.rows,()=>{(e.isReSearch||e.isStaticMode)&&(d.page=1),Fa(function(){e.isStaticMode||S()})});const M=(x,...P)=>x.replace(/{(\d+)}/g,function(f,g){return typeof P[g]<"u"?P[g]:f}),S=()=>{if(r.value){let x=r.value.getElementsByClassName("is-rows-el");t("is-finished",x)}t("get-now-page",d.page)},D=Ki({}),H=Ki({}),U=Ki({}),E=un(()=>{let x={};return e.rows.forEach(P=>{x[P[e.groupingKey]]||(x[P[e.groupingKey]]=[]),x[P[e.groupingKey]].push(P)}),Fa(function(){if(e.startCollapsed||e.isKeepCollapsed){for(const[P,f]of Object.entries(D.value))if(f){let g=!e.startCollapsed;e.isKeepCollapsed&&U.value[P]!==void 0&&(g=!U.value[P]),(g&&f.parentElement.classList.contains("rotated-90")||!g&&!f.parentElement.classList.contains("rotated-90"))&&f.parentElement.classList.toggle("rotated-90"),g||H.value[P].forEach(b=>{b&&b.classList.add("hidden")})}}S()}),x}),ie=x=>{let P=D.value[x];if(P){P.parentElement.classList.toggle("rotated-90");const f=P.parentElement.classList.contains("rotated-90");H.value[x].forEach(g=>{g&&(f?g.classList.add("hidden"):g.classList.remove("hidden"))}),U.value[x]=f,t("row-toggled",E.value[x],f)}},te=x=>{x.target.classList.add("hover")},$=x=>{x.target.classList.remove("hover")},V=x=>{if(!d.isVerticalHighlight)return;let P=r.value.querySelectorAll(".vtl-tbody-td"+x);for(let f=0;f<P.length;f++)P[f].classList.add("hover")},j=x=>{if(!d.isVerticalHighlight)return;let P=r.value.querySelectorAll(".vtl-tbody-td"+x);for(let f=0;f<P.length;f++)P[f].classList.remove("hover")};return Go(()=>{Fa(()=>{e.rows.length>0&&S()})}),{slots:i,localTable:r,localRows:s,setting:d,rowCheckbox:v,checked:R,clearChecked:K,doSort:k,prevPage:L,movePage:O,nextPage:G,stringFormat:M,toggleButtonRefs:D,groupingRowsRefs:H,groupingRows:E,toggleGroup:ie,addHoverClassToTr:te,removeHoverClassFromTr:$,addVerticalHighlight:V,removeVerticalHighlight:j}}}),gp=e=>(dp("data-v-8c9f1486"),e=e(),up(),e),mY={class:"vtl vtl-card"},gY={key:0,class:"vtl-card-title"},yY={class:"vtl-card-body"},_Y={class:"vtl-row"},vY={key:0,class:"vtl-loading-mask"},xY=gp(()=>Ne("div",{class:"vtl-loading-content"},[Ne("span",{style:{color:"white"}},"Loading...")],-1)),bY=[xY],wY={class:"vtl-thead"},TY={class:"vtl-thead-tr"},SY={key:0,class:"vtl-thead-th vtl-checkbox-th"},CY=["onClick","innerHTML"],EY=["set"],MY={key:0,class:"vtl-tbody-tr vtl-group-tr"},kY=["colspan"],AY={class:"flex"},PY={key:0,class:"animation"},DY=["onClick"],IY=["innerHTML"],LY=["name","onClick"],OY={key:0,class:"vtl-tbody-td vtl-checkbox-td"},RY=["value","onClick"],BY=["onMouseover","onMouseleave"],zY=["innerHTML"],NY={key:1},FY={key:0},jY={key:1},UY=["set"],$Y={key:0,class:"vtl-tbody-tr vtl-group-tr"},VY=["colspan"],GY={class:"flex"},HY={key:0,class:"animation"},WY=["onClick"],YY=["innerHTML"],qY=["name","onClick"],XY={key:0,class:"vtl-tbody-td vtl-checkbox-td"},ZY=["value","onClick"],KY=["onMouseover","onMouseleave"],JY=["innerHTML"],QY={key:1},eq={key:0},tq={key:1},iq={key:0,class:"vtl-paging vtl-row"},nq={class:"vtl-paging-info col-sm-12 col-md-4"},rq={role:"status","aria-live":"polite"},sq={class:"vtl-paging-change-div col-sm-12 col-md-4"},oq={class:"vtl-paging-count-label"},aq=["value"],lq={class:"vtl-paging-page-label"},cq=["value"],dq={class:"vtl-paging-pagination-div col-sm-12 col-md-4"},uq={class:"dataTables_paginate"},hq={class:"vtl-paging-pagination-ul vtl-pagination"},pq=gp(()=>Ne("span",{"aria-hidden":"true"},"«",-1)),fq=gp(()=>Ne("span",{class:"sr-only"},"First",-1)),mq=[pq,fq],gq=gp(()=>Ne("span",{"aria-hidden":"true"},"<",-1)),yq=gp(()=>Ne("span",{class:"sr-only"},"Prev",-1)),_q=[gq,yq],vq=["onClick"],xq=gp(()=>Ne("span",{"aria-hidden":"true"},">",-1)),bq=gp(()=>Ne("span",{class:"sr-only"},"Next",-1)),wq=[xq,bq],Tq=gp(()=>Ne("span",{"aria-hidden":"true"},"»",-1)),Sq=gp(()=>Ne("span",{class:"sr-only"},"Last",-1)),Cq=[Tq,Sq],Eq={key:1,class:"vtl-row"},Mq={class:"vtl-empty-msg col-sm-12 text-center"};function kq(e,t,i,r,o,d){return dt(),vt("div",mY,[e.title?(dt(),vt("div",gY,$i(e.title),1)):di("",!0),Ne("div",yY,[Ne("div",_Y,[Ne("div",{class:Ln(["col-sm-12",{"fixed-first-column":e.isFixedFirstColumn,"fixed-first-second-column":e.isFixedFirstColumn&&e.hasCheckbox}])},[e.isLoading?(dt(),vt("div",vY,bY)):di("",!0),Ne("table",{class:"vtl-table vtl-table-hover vtl-table-bordered vtl-table-responsive vtl-table-responsive-sm",ref:"localTable",style:$o("max-height: "+e.maxHeight+"px;")},[Ne("thead",wY,[Ne("tr",TY,[e.hasCheckbox?(dt(),vt("th",SY,[Ne("div",null,[Ms(Ne("input",{type:"checkbox",class:"vtl-thead-checkbox","onUpdate:modelValue":t[0]||(t[0]=h=>e.setting.isCheckAll=h)},null,512),[[ip,e.setting.isCheckAll]])])])):di("",!0),(dt(!0),vt(Yi,null,Xn(e.columns,(h,s)=>(dt(),vt("th",{class:Ln(["vtl-thead-th",h.headerClasses]),key:s,style:$o(Object.assign({width:h.width?h.width:"auto"},h.headerStyles))},[Ne("div",{class:Ln(["vtl-thead-column",{"vtl-sortable":h.sortable,"vtl-both":h.sortable,"vtl-asc":e.setting.order===h.field&&e.setting.sort==="asc","vtl-desc":e.setting.order===h.field&&e.setting.sort==="desc"}]),onClick:Uo(v=>h.sortable?e.doSort(h.field):!1,["prevent"]),innerHTML:h.label},null,10,CY)],6))),128))])]),e.rows.length>0?(dt(),vt(Yi,{key:0},[e.isStaticMode?(dt(),vt("tbody",{key:0,class:"vtl-tbody",set:e.templateRows=e.groupingKey==""?[e.localRows]:e.localRows},[(dt(!0),vt(Yi,null,Xn(e.templateRows,(h,s)=>(dt(),vt(Yi,{key:s},[e.groupingKey!=""?(dt(),vt("tr",MY,[Ne("td",{colspan:e.hasCheckbox?e.columns.length+1:e.columns.length,class:"vtl-tbody-td vtl-group-td"},[Ne("div",AY,[e.hasGroupToggle?(dt(),vt("div",PY,[Ne("a",{ref_for:!0,ref:v=>e.toggleButtonRefs[s]=v,class:"cursor-pointer",onClick:Uo(v=>e.toggleGroup(s),["prevent"])},"▼",8,DY)])):di("",!0),Ne("div",{class:"ml-2",innerHTML:e.groupingDisplay?e.groupingDisplay(s):s},null,8,IY)])],8,kY)])):di("",!0),(dt(!0),vt(Yi,null,Xn(h,(v,R)=>(dt(),vt("tr",{key:v[e.setting.keyColumn]?v[e.setting.keyColumn]:R,ref_for:!0,ref:K=>{e.groupingRowsRefs[s]||(e.groupingRowsRefs[s]=[]),e.groupingRowsRefs[s][R]=K},name:"vtl-group-"+s,class:Ln(["vtl-tbody-tr",typeof e.rowClasses=="function"?e.rowClasses(v):e.rowClasses]),onMouseenter:t[1]||(t[1]=(...K)=>e.addHoverClassToTr&&e.addHoverClassToTr(...K)),onMouseleave:t[2]||(t[2]=(...K)=>e.removeHoverClassFromTr&&e.removeHoverClassFromTr(...K)),onClick:K=>e.$emit("row-clicked",v)},[e.hasCheckbox?(dt(),vt("td",OY,[Ne("div",null,[Ne("input",{type:"checkbox",class:"vtl-tbody-checkbox",ref_for:!0,ref:K=>{e.rowCheckbox.push(K)},value:v[e.setting.keyColumn],onClick:K=>e.checked(v,K)},null,8,RY)])])):di("",!0),(dt(!0),vt(Yi,null,Xn(e.columns,(K,k)=>(dt(),vt("td",{key:k,class:Ln(["vtl-tbody-td",["vtl-tbody-td"+k].concat(K.columnClasses)]),style:$o(K.columnStyles),onMouseover:z=>e.addVerticalHighlight(k),onMouseleave:z=>e.removeVerticalHighlight(k)},[K.display?(dt(),vt("div",{key:0,innerHTML:K.display(v)},null,8,zY)):(dt(),vt("div",NY,[e.setting.isSlotMode&&e.slots[K.field]?(dt(),vt("div",FY,[vn(e.$slots,K.field,{value:v},void 0,!0)])):(dt(),vt("span",jY,$i(v[K.field]),1))]))],46,BY))),128))],42,LY))),128))],64))),128))],8,EY)):(dt(),vt("tbody",{key:1,set:e.templateRows=e.groupingKey==""?[e.rows]:e.groupingRows},[(dt(!0),vt(Yi,null,Xn(e.templateRows,(h,s)=>(dt(),vt(Yi,{key:s},[e.groupingKey!=""?(dt(),vt("tr",$Y,[Ne("td",{colspan:e.hasCheckbox?e.columns.length+1:e.columns.length,class:"vtl-tbody-td vtl-group-td"},[Ne("div",GY,[e.hasGroupToggle?(dt(),vt("div",HY,[Ne("a",{ref_for:!0,ref:v=>e.toggleButtonRefs[s]=v,class:"cursor-pointer",onClick:Uo(v=>e.toggleGroup(s),["prevent"])},"▼",8,WY)])):di("",!0),Ne("div",{class:"ml-2",innerHTML:e.groupingDisplay?e.groupingDisplay(s):s},null,8,YY)])],8,VY)])):di("",!0),(dt(!0),vt(Yi,null,Xn(h,(v,R)=>(dt(),vt("tr",{ref_for:!0,ref:K=>{e.groupingRowsRefs[s]||(e.groupingRowsRefs[s]=[]),e.groupingRowsRefs[s][R]=K},name:"vtl-group-"+s,key:v[e.setting.keyColumn]?v[e.setting.keyColumn]:R,class:Ln(["vtl-tbody-tr",typeof e.rowClasses=="function"?e.rowClasses(v):e.rowClasses]),onMouseenter:t[3]||(t[3]=(...K)=>e.addHoverClassToTr&&e.addHoverClassToTr(...K)),onMouseleave:t[4]||(t[4]=(...K)=>e.removeHoverClassFromTr&&e.removeHoverClassFromTr(...K)),onClick:K=>e.$emit("row-clicked",v)},[e.hasCheckbox?(dt(),vt("td",XY,[Ne("div",null,[Ne("input",{type:"checkbox",class:"vtl-tbody-checkbox",ref_for:!0,ref:K=>{e.rowCheckbox.push(K)},value:v[e.setting.keyColumn],onClick:K=>e.checked(v,K)},null,8,ZY)])])):di("",!0),(dt(!0),vt(Yi,null,Xn(e.columns,(K,k)=>(dt(),vt("td",{key:k,class:Ln(["vtl-tbody-td",["vtl-tbody-td"+k].concat(K.columnClasses)]),style:$o(K.columnStyles),onMouseover:z=>e.addVerticalHighlight(k),onMouseleave:z=>e.removeVerticalHighlight(k)},[K.display?(dt(),vt("div",{key:0,innerHTML:K.display(v)},null,8,JY)):(dt(),vt("div",QY,[e.setting.isSlotMode&&e.slots[K.field]?(dt(),vt("div",eq,[vn(e.$slots,K.field,{value:v},void 0,!0)])):(dt(),vt("span",tq,$i(v[K.field]),1))]))],46,KY))),128))],42,qY))),128))],64))),128))],8,UY))],64)):di("",!0)],4)],2)]),e.rows.length>0?(dt(),vt("div",iq,[e.setting.isHidePaging?di("",!0):(dt(),vt(Yi,{key:0},[Ne("div",nq,[Ne("div",rq,$i(e.stringFormat(e.messages.pagingInfo,e.setting.offset,e.setting.limit,e.total)),1)]),Ne("div",sq,[Ne("span",oq,$i(e.messages.pageSizeChangeLabel),1),Ms(Ne("select",{class:"vtl-paging-count-dropdown","onUpdate:modelValue":t[5]||(t[5]=h=>e.setting.pageSize=h)},[(dt(!0),vt(Yi,null,Xn(e.pageOptions,h=>(dt(),vt("option",{value:h.value,key:h.value},$i(h.text),9,aq))),128))],512),[[yd,e.setting.pageSize]]),Ne("span",lq,$i(e.messages.gotoPageLabel),1),Ms(Ne("select",{class:"vtl-paging-page-dropdown","onUpdate:modelValue":t[6]||(t[6]=h=>e.setting.page=h)},[(dt(!0),vt(Yi,null,Xn(e.setting.maxPage,h=>(dt(),vt("option",{key:h,value:parseInt(h)},$i(h),9,cq))),128))],512),[[yd,e.setting.page]])]),Ne("div",dq,[Ne("div",uq,[Ne("ul",hq,[Ne("li",{class:Ln(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-first page-item",{disabled:e.setting.page<=1}])},[Ne("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-first page-link cursor-pointer","aria-label":"Previous",onClick:t[7]||(t[7]=Uo(h=>e.setting.page=1,["prevent"]))},mq)],2),Ne("li",{class:Ln(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-prev page-item",{disabled:e.setting.page<=1}])},[Ne("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-prev page-link cursor-pointer","aria-label":"Previous",onClick:t[8]||(t[8]=Uo((...h)=>e.prevPage&&e.prevPage(...h),["prevent"]))},_q)],2),(dt(!0),vt(Yi,null,Xn(e.setting.paging,h=>(dt(),vt("li",{class:Ln(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-number page-item",{disabled:e.setting.page===h}]),key:h},[Ne("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-number page-link cursor-pointer",onClick:Uo(s=>e.movePage(h),["prevent"])},$i(h),9,vq)],2))),128)),Ne("li",{class:Ln(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-next page-item",{disabled:e.setting.page>=e.setting.maxPage}])},[Ne("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-next page-link cursor-pointer","aria-label":"Next",onClick:t[9]||(t[9]=Uo((...h)=>e.nextPage&&e.nextPage(...h),["prevent"]))},wq)],2),Ne("li",{class:Ln(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-last page-item",{disabled:e.setting.page>=e.setting.maxPage}])},[Ne("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-last page-link cursor-pointer","aria-label":"Next",onClick:t[10]||(t[10]=Uo(h=>e.setting.page=e.setting.maxPage,["prevent"]))},Cq)],2)])])])],64))])):(dt(),vt("div",Eq,[Ne("div",Mq,$i(e.messages.noDataAvailable),1)]))])])}const Aq=Cr(fY,[["render",kq],["__scopeId","data-v-8c9f1486"]]);var sM={at_port:{img:"/icon/blue.png",name:"At Port"},underway:{img:"/icon/green.png",name:"Underway"},lost_connection:{img:"/icon/red.png",name:"Lost Connection"},at_anchorage:{img:"/icon/yellow.png",name:"At Anchorage"},other:{img:"/icon/purple.png",name:"Other"}};const Pq={components:{TableLite:Aq},props:{},data(){return{keyword:"",isLoading:!1,fleets:[],columns:[{label:"Vessel Name",field:"name"},{label:"Vessel State",field:"fleet_status",display:function(e){return sM[e.fleet_status]?sM[e.fleet_status].name:"Other"}},{label:"Connection",field:"connected",display:function(e){return e.connected?'<div class="badge bg-success"></div> Good':'<div class="badge bg-danger"></div> No Connection'}},{label:"Location",field:"navigation.location",display:function(e){return e.navigation?`${e.navigation.lat.toFixed(4)} ${e.navigation.lat_dir}, ${e.navigation.lng.toFixed(4)} ${e.navigation.lng_dir}`:""}},{label:"Course",field:"navigation.sog",display:e=>e.navigation?e.navigation.cog:0},{label:"Speed (kn)",field:"navigation.sog",display:e=>e.navigation?e.navigation.sog:0},{label:"Origin",field:"voyage.origin"},{label:"Destination",field:"voyage.destination"},{label:"ETA",field:"voyage.eta"}],isHide:!0}},computed:{totalRecordCount(){return this.items.length},items(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}},mounted(){this.fetchData()},methods:{doSearch(e,t,i,r){this.isLoading=!0,this.isLoading=!1},async fetchData(){let{data:e}=await axios.get("/api/fleets");e.forEach(t=>{this.fleets.push(t)})}}},Dq={class:"card"},Iq={class:"card-header search"},Lq={action:"#",method:"get",style:{width:"300px"}},Oq={class:"input-icon"},Rq=nu('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),Bq={class:"card-actions btn-actions"},zq={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Nq=Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Fq=Ne("polyline",{points:"15 6 9 12 15 18"},null,-1),jq=[Nq,Fq],Uq={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},$q=Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Vq=Ne("polyline",{points:"6 9 12 15 18 9"},null,-1),Gq=[$q,Vq],Hq={class:"card-table table-responsive"};function Wq(e,t,i,r,o,d){const h=ur("table-lite");return dt(),vt("div",{class:Ln(["fleets-list",{hide:o.isHide}])},[Ne("div",Dq,[Ne("div",Iq,[Ne("form",Lq,[Ne("div",Oq,[Rq,Ms(Ne("input",{type:"text",onFocus:t[0]||(t[0]=s=>o.isHide=!1),onKeyup:t[1]||(t[1]=(...s)=>e.search&&e.search(...s)),"onUpdate:modelValue":t[2]||(t[2]=s=>o.keyword=s),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[Hc,o.keyword]])])]),Ne("div",Bq,[Ne("a",{href:"#",class:"btn-action",onClick:t[3]||(t[3]=s=>o.isHide=!o.isHide)},[o.isHide?di("",!0):(dt(),vt("svg",zq,jq)),o.isHide?(dt(),vt("svg",Uq,Gq)):di("",!0)])])]),Ne("div",Hq,[an(h,{"is-static-mode":!0,"is-loading":o.isLoading,columns:o.columns,rows:d.items,total:d.totalRecordCount,"page-size":5,pageOptions:[{value:5,text:5},{value:10,text:10},{value:25,text:25},{value:50,text:50}],onDoSearch:d.doSearch,onIsFinished:t[4]||(t[4]=s=>o.isLoading=!1)},null,8,["is-loading","columns","rows","total","onDoSearch"])])])],2)}const Yq=Cr(Pq,[["render",Wq]]);window.mapboxgl=Vl;const qq={components:{"x-search":v6,"x-notification":x6,"x-records":b6,"x-navigation":w6,"x-camera":T6,"x-parameter":S6,"x-legend":pY,MapboxMap:C_,MapboxNavigationControl:E_,fleetTable:Yq},data(){return{weatherKey:"dfc256782db426c6a8d3b8daaefa5b33",weathers:[],icons:{at_port:KW,underway:JW,lost_connection:QW,at_anchorage:eY,other:tY},map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null,fleet:null,showSideInfo:!1,fleets_point:{type:"FeatureCollection",features:[]},fleetsGroup:[]}},mounted(){this.timer=setInterval(()=>{this.refreshData()},5*1e3);let e=this;Object.keys(this.icons).forEach(function(t){e.map.loadImage(e.icons[t],(i,r)=>{if(i)throw i;e.map.addImage(t,r)})}),this.popup=new Vl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async fetchData(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,this.fleets_point.features=[],e.forEach(t=>{if(t.navigation){let i=t.fleet_status;this.fleets_point.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.navigation.lng,t.navigation.lat]},properties:{scale:1,id:t.id,heading:t.navigation.heading,name:t.name,image:t.image,status:t.fleet_status,icon:i,depth:t.navigation.depth,sog:t.navigation.sog,cog:t.navigation.cog,imo:t.imo_number,last_update:Fg(t.last_connection)}})}})},async loaded(){await this.fetchData(),this.buildLayer()},async refreshData(){await this.fetchData();let e=await this.map.getSource("ship-position");e&&e.setData(this.fleets_point)},buildLayer(){let e=this;this.map.addSource("ship-position",{type:"geojson",data:this.fleets_point}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-position",layout:{"icon-image":["get","icon"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.12,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const t=new Vl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","ship-position",i=>{let r=i.features[0].properties.id;e.showInfo(r)}),this.map.on("mouseenter","ship-position",i=>{e.map.getCanvas().style.cursor="pointer";const r=i.features[0].geometry.coordinates.slice(),o=`<b>${i.features[0].properties.name} [ID]</b> at ${i.features[0].properties.sog} <b>kn</b> / ${i.features[0].properties.cog}&deg;<br>last update: <b>${i.features[0].properties.last_update}</b>`;for(;Math.abs(i.lngLat.lng-r[0])>180;)r[0]+=i.lngLat.lng>r[0]?360:-360;t.setLngLat(r).setHTML(o).addTo(e.map)}),this.map.on("mouseleave","ship-position",()=>{e.map.getCanvas().style.cursor="",t.remove()})},async buildWeathers(){const d=[];for(let R=0;R<10;R++)for(let K=0;K<10;K++)d.push({lat:-80+R*(80- -80)/10,lng:-180+K*(180- -180)/10,val:0,wind:{},weather:{}});const h="https://api.openweathermap.org/data/2.5/weather?units=metric&lat=",s=d.map(R=>h+R.lat+"&lon="+R.lng+"&appid="+this.weatherKey),v=await Promise.all(s.map(async R=>(await fetch(R)).text()));d.forEach((R,K)=>{let k=JSON.parse(v[K]);R.val=k.main.temp,R.wind=k.wind,R.weather=k.weather[0]}),this.weathers=d},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const i=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Fg(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(i).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},showInfo(e){let t=this.fleets.findIndex(function(i){return i.id===e});t>=0&&(this.fleet=this.fleets[t],this.showSideInfo=!0)},buildTrack(e){console.log(e)}}},Xq={class:"position-relative"},Zq={class:"pointer-info",ref:"pointerInfo"};function Kq(e,t,i,r,o,d){const h=ur("x-search"),s=ur("fleet-side-info"),v=ur("x-legend"),R=ur("MapboxNavigationControl"),K=ur("MapboxMap"),k=ur("fleet-table");return dt(),vt(Yi,null,[Ne("div",Xq,[an(h,{fleets:o.fleets,onSelected:d.findFleet},null,8,["fleets","onSelected"]),o.fleet?(dt(),Dr(s,{key:0,fleet:o.fleet,display:o.showSideInfo,onClose:t[0]||(t[0]=z=>o.showSideInfo=!1),onHistory:d.buildTrack},null,8,["fleet","display","onHistory"])):di("",!0),Ne("div",Zq,null,512),an(v,{fleets:o.fleets},null,8,["fleets"]),an(K,{onMbCreated:t[1]||(t[1]=z=>o.map=z),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:o.center,zoom:o.zoom},{default:Hn(()=>[an(R,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])]),an(k,{fleets:o.fleets},null,8,["fleets"])],64)}const Jq=Cr(qq,[["render",Kq]]),NC="/build/assets/ship-c94d8078.png",Qq=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],eX={components:{MapboxMap:C_,MapboxNavigationControl:E_},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,t={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},i={type:"FeatureCollection",features:[]};Qq.forEach((d,h)=>{this.current&&this.calcCrow(this.current[1],this.current[0],d.lat,d.lng)>20||(t.geometry.coordinates.push([d.lng,d.lat]),i.features.push({type:"Feature",properties:{cog:d.cog,sog:d.sog,time:d.terminal_time,lat:d.lat,lng:d.lng,heading:d.heading},geometry:{type:"Point",coordinates:[d.lng,d.lat]}}),this.current=[d.lng,d.lat],this.items.push(d))}),this.map.addSource("route",{type:"geojson",data:t}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:i}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const r=new Vl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",d=>{let h=d.features[0].properties;this.positionShip(h)}),this.map.on("mouseenter","points",d=>{e.map.getCanvas().style.cursor="pointer";const h=d.features[0].geometry.coordinates.slice(),s=`<b>Lat : ${d.features[0].properties.lat} | Lng: ${d.features[0].properties.lng}</b> at ${d.features[0].properties.sog} <b>kn</b> / ${d.features[0].properties.cog}&deg;<br>time: <b>${d.features[0].properties.time}</b>`;for(;Math.abs(d.lngLat.lng-h[0])>180;)h[0]+=d.lngLat.lng>h[0]?360:-360;r.setLngLat(h).setHTML(s).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",r.remove()}),this.map.loadImage(NC,(d,h)=>{if(d)throw d;e.map.addImage("ship-icon",h)});let o=this.items[this.items.length-1];this.positionShip({heading:o.heading,lng:o.lng,lat:o.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},calcCrow(s,t,v,r){var o=6371,d=this.toRad(v-s),h=this.toRad(r-t),s=this.toRad(s),v=this.toRad(v),R=Math.sin(d/2)*Math.sin(d/2)+Math.sin(h/2)*Math.sin(h/2)*Math.cos(s)*Math.cos(v),K=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R)),k=o*K;return k},toRad(e){return e*Math.PI/180}}},tX={class:"row g-0"},iX={class:"col-9"},nX={class:"position-relative"},rX={class:"pointer-info",ref:"pointerInfo"},sX={class:"col-3"},oX=nu('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),aX={class:"information"},lX={class:"histories"},cX={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},dX=Ne("thead",null,[Ne("tr",null,[Ne("th",null,"Time"),Ne("th",null,"Lon"),Ne("th",null,"Lat"),Ne("th",null,"Speed")])],-1),uX=["onClick"];function hX(e,t,i,r,o,d){const h=ur("MapboxNavigationControl"),s=ur("MapboxMap");return dt(),vt("div",tX,[Ne("div",iX,[Ne("div",nX,[Ne("div",rX,null,512),an(s,{onMbCreated:t[0]||(t[0]=v=>o.map=v),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[105.987732,-5.898973],zoom:7},{default:Hn(()=>[an(h,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])]),Ne("div",sX,[oX,Ne("div",aX,[Ne("div",lX,[Ne("table",cX,[dX,Ne("tbody",null,[(dt(!0),vt(Yi,null,Xn(o.items,v=>(dt(),vt("tr",{key:v.id,onClick:R=>d.toPotition(v),class:"pointer"},[Ne("td",null,$i(e.$filters.dateformat(v.terminal_time)),1),Ne("td",null,$i(e.$filters.str_limit(v.lng,7))+"°",1),Ne("td",null,$i(e.$filters.str_limit(v.lat,6))+"°",1),Ne("td",null,$i(v.sog),1)],8,uX))),128))])])])])])])}const pX=Cr(eX,[["render",hX]]),fX={components:{MapboxMap:C_,MapboxNavigationControl:E_},props:{fleet:Object,style:Object,sidebar:Boolean},data(){return{map:null,current:[],timer:null,popup:new Vl.Popup({closeButton:!0,closeOnClick:!1}),histories:[]}},mounted(){this.map.loadImage(NC,(e,t)=>{if(e)throw e;this.map.addImage("ship-icon",t)})},methods:{setHistory(e){this.histories=e;let t=this;this.current.length>0&&this.map.getLayer("route")!=="undefined"&&this.map.getLayer("points")!=="undefined"&&(this.map.removeLayer("route"),this.map.removeSource("route"),this.map.removeLayer("points"),this.map.removeSource("points"));let i={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},r={type:"FeatureCollection",features:[]};this.histories.forEach((s,v)=>{i.geometry.coordinates.push([s.lng,s.lat]),r.features.push({type:"Feature",properties:{cog:s.cog,sog:s.sog,time:s.terminal_time,lat:s.lat,lng:s.lng,heading:s.heading},geometry:{type:"Point",coordinates:[s.lng,s.lat]}}),this.current=[s.lng,s.lat]}),this.map.addSource("route",{type:"geojson",data:i}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),this.map.addSource("points",{type:"geojson",data:r}),this.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const o=new Vl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",s=>{let v=s.features[0].properties;this.positionShip(v)}),this.map.on("mouseenter","points",s=>{t.map.getCanvas().style.cursor="pointer";const v=s.features[0].geometry.coordinates.slice(),R=`<b>Lat : ${s.features[0].properties.lat} | Lng: ${s.features[0].properties.lng}</b> at ${s.features[0].properties.sog} <b>kn</b> / ${s.features[0].properties.cog}&deg;<br>time: <b>${s.features[0].properties.time}</b>`;for(;Math.abs(s.lngLat.lng-v[0])>180;)v[0]+=s.lngLat.lng>v[0]?360:-360;o.setLngLat(v).setHTML(R).addTo(t.map)}),this.map.on("mouseleave","points",()=>{t.map.getCanvas().style.cursor="",o.remove()});let d=this.histories[this.histories.length-1],h=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:d});this.positionShip(h)},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},loaded(){this.positionShip(this.fleet)},toPotition(e){let t=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:e});this.positionShip(t)},positionShip(e){if(!e.navigation)return;typeof this.map.getLayer("ship-position")<"u"&&this.map.removeLayer("ship-position").removeSource("ship-points"),this.map.addSource("ship-points",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Fg(e.navigation.terminal_time)}}]}}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-points",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.popup.remove();const i=`<b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Fg(e.navigation.updated_at)}</b>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(i).addTo(this.map)}}},mX={class:"position-relative overflow-hidden"},gX={class:"pointer-info",ref:"pointerInfo"};function yX(e,t,i,r,o,d){const h=ur("map-voyage"),s=ur("MapboxNavigationControl"),v=ur("MapboxMap");return dt(),vt("div",mX,[an(h,{fleet:i.fleet,onHistory:d.setHistory,onSelected:d.toPotition,display:i.sidebar},null,8,["fleet","onHistory","onSelected","display"]),Ne("div",gX,null,512),an(v,{onMbCreated:t[0]||(t[0]=R=>o.map=R),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:$o(i.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[i.fleet.navigation.lng,i.fleet.navigation.lat],zoom:7},{default:Hn(()=>[an(s,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","style","center"])])}const _X=Cr(fX,[["render",yX]]),vX={props:{fleet:Object,display:Boolean},data(){return{params:{from:null,to:null,interval:900},histories:[]}},methods:{async fetchData(){this.histories=[],(await axios.get(`/api/fleet/${this.fleet.id}/nav/histories`,{params:this.params}).then(t=>t.data)).forEach(t=>{t.lat==0&&t.lng==0||this.histories.push(t)}),this.$emit("history",this.histories)},toggleText(){this.display=!this.display},selected(e){this.$emit("selected",e)}}},xX={class:"voyage-section"},bX={key:0,class:"card voyage-card"},wX={class:"card-header justify-content-between"},TX=["src"],SX=Ne("h5",{class:"fw-normal m-0"},"Voyage",-1),CX={class:"card-body"},EX=Ne("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-center active",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")]),Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-center",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),MX={class:"tab-content",id:"pills-tabContent"},kX={class:"tab-pane fade show active",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},AX={class:"mb-4"},PX={class:"form-group mb-3"},DX=Ne("label",{for:"startDateInput"},"Start Date",-1),IX={class:"form-group mb-3"},LX=Ne("label",{for:"endDateInput"},"End Date",-1),OX=Ne("h6",{class:"text-primary"},"GENERATE REPORT",-1),RX={class:"table text-sm"},BX=Ne("thead",null,[Ne("tr",null,[Ne("th",{scope:"col"},"Time"),Ne("th",{scope:"col"},"Lon"),Ne("th",{scope:"col"},"Lat"),Ne("th",{scope:"col"},"Speed")])],-1),zX=["onClick"],NX={scope:"row"},FX=Ne("div",{class:"tab-pane fade",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},null,-1),jX=["src"];function UX(e,t,i,r,o,d){return dt(),vt("div",xX,[i.display?(dt(),vt("div",bX,[Ne("div",wX,[Ne("button",{onClick:t[0]||(t[0]=h=>i.display=!i.display),class:"btn btn-link bg-transparent p-0"},[Ne("img",{src:"/img/icons/close-fill.png",alt:""},null,8,TX)]),SX]),Ne("div",CX,[EX,Ne("div",MX,[Ne("div",kX,[Ne("div",AX,[Ne("div",PX,[DX,Ms(Ne("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=h=>o.params.from=h),class:"form-control",id:"startDateInput"},null,512),[[Hc,o.params.from]])]),Ne("div",IX,[LX,Ms(Ne("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=h=>o.params.to=h),class:"form-control",id:"endDateInput"},null,512),[[Hc,o.params.to]])]),Ne("button",{onClick:t[3]||(t[3]=(...h)=>d.fetchData&&d.fetchData(...h)),class:"btn btn-outline-primary w-100"},"SHOW")]),OX,Ne("table",RX,[BX,Ne("tbody",null,[(dt(!0),vt(Yi,null,Xn(o.histories,h=>(dt(),vt("tr",{onClick:s=>d.selected(h),key:h.id},[Ne("td",NX,$i(e.$filters.dateformat(h.terminal_time,"DD/MM/YY HH:mm")),1),Ne("td",null,$i(h.lng.toFixed(2))+"°",1),Ne("td",null,$i(h.lat.toFixed(2))+"°",1),Ne("td",null,$i(h.sog),1)],8,zX))),128))])])]),FX])])])):di("",!0),Ne("button",{onClick:t[4]||(t[4]=h=>i.display=!i.display),class:"btn btn-light btn-open"},[Ne("img",{src:"/img/icons/location-circle.png",alt:""},null,8,jX),rs(" Show fleet Track ")])])}const $X=Cr(vX,[["render",UX]]),VX={},GX={class:"ships-cctv"},HX=nu('<div class="card" data-v-3e327a0d><div class="card-header" data-v-3e327a0d><div class="card-title" data-v-3e327a0d><div data-v-3e327a0d>Bridge</div></div><div class="card-status" data-v-3e327a0d><a href="#" data-v-3e327a0d><img src="img/icons/fullscreen.png" alt="" data-v-3e327a0d> Fullscreen </a><a href="#" data-v-3e327a0d> Esc to exit </a></div></div><div class="card-body" data-v-3e327a0d><img src="img/image-1.png" alt="" class="w-100" data-v-3e327a0d></div></div>',1),WX=[HX];function YX(e,t,i,r,o,d){return dt(),vt("div",GX,WX)}const qX=Cr(VX,[["render",YX],["__scopeId","data-v-3e327a0d"]]),XX={components:{"x-search":v6,"x-notification":x6,"x-records":b6,"x-navigation":w6,"x-camera":T6,"x-parameter":S6,"x-cctv":qX,MapboxMap:C_,MapboxNavigationControl:E_},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(NC,(e,t)=>{if(e)throw e;this.map.addImage("ship",t)}),this.popup=new Vl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(t=>{this.positionShip(t)})},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const i=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Fg(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(i).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let t=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Fg(e.navigation.updated_at)}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const r=new Vl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,o=>{let d=o.features[0].properties.id;location.href=`/fleet/${d}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,o=>{t.map.getCanvas().style.cursor="pointer";const d=o.features[0].geometry.coordinates.slice(),h=`<b>${o.features[0].properties.name} [ID]</b> at ${o.features[0].properties.sog} <b>kn</b> / ${o.features[0].properties.cog}&deg;<br>last update: <b>${o.features[0].properties.last_update}</b>`;for(;Math.abs(o.lngLat.lng-d[0])>180;)d[0]+=o.lngLat.lng>d[0]?360:-360;r.setLngLat(d).setHTML(h).addTo(t.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{t.map.getCanvas().style.cursor="",r.remove()})}}},ZX={class:"position-relative"};function KX(e,t,i,r,o,d){const h=ur("x-records"),s=ur("x-navigation"),v=ur("x-camera"),R=ur("x-notification"),K=ur("x-parameter"),k=ur("x-cctv"),z=ur("MapboxNavigationControl"),q=ur("MapboxMap");return dt(),vt("div",ZX,[an(h),an(s),an(v),an(R),an(K),an(k),an(q,{onMbCreated:t[0]||(t[0]=L=>o.map=L),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 0px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:o.center,zoom:o.zoom},{default:Hn(()=>[an(z,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const JX=Cr(XX,[["render",KX]]);function oM(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function FC(e={},t={}){Object.keys(t).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:oM(t[i])&&oM(e[i])&&Object.keys(t[i]).length>0&&FC(e[i],t[i])})}const E6={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function nm(){const e=typeof document<"u"?document:{};return FC(e,E6),e}const QX={document:E6,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Td(){const e=typeof window<"u"?window:{};return FC(e,QX),e}function eZ(e){const t=e;Object.keys(t).forEach(i=>{try{t[i]=null}catch{}try{delete t[i]}catch{}})}function jT(e,t=0){return setTimeout(e,t)}function fb(){return Date.now()}function tZ(e){const t=Td();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}function iZ(e,t="x"){const i=Td();let r,o,d;const h=tZ(e);return i.WebKitCSSMatrix?(o=h.transform||h.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(s=>s.replace(",",".")).join(", ")),d=new i.WebKitCSSMatrix(o==="none"?"":o)):(d=h.MozTransform||h.OTransform||h.MsTransform||h.msTransform||h.transform||h.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=d.toString().split(",")),t==="x"&&(i.WebKitCSSMatrix?o=d.m41:r.length===16?o=parseFloat(r[12]):o=parseFloat(r[4])),t==="y"&&(i.WebKitCSSMatrix?o=d.m42:r.length===16?o=parseFloat(r[13]):o=parseFloat(r[5])),o||0}function gx(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function nZ(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function pd(...e){const t=Object(e[0]),i=["__proto__","constructor","prototype"];for(let r=1;r<e.length;r+=1){const o=e[r];if(o!=null&&!nZ(o)){const d=Object.keys(Object(o)).filter(h=>i.indexOf(h)<0);for(let h=0,s=d.length;h<s;h+=1){const v=d[h],R=Object.getOwnPropertyDescriptor(o,v);R!==void 0&&R.enumerable&&(gx(t[v])&&gx(o[v])?o[v].__swiper__?t[v]=o[v]:pd(t[v],o[v]):!gx(t[v])&&gx(o[v])?(t[v]={},o[v].__swiper__?t[v]=o[v]:pd(t[v],o[v])):t[v]=o[v])}}}return t}function yx(e,t,i){e.style.setProperty(t,i)}function M6({swiper:e,targetPosition:t,side:i}){const r=Td(),o=-e.translate;let d=null,h;const s=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const v=t>o?"next":"prev",R=(k,z)=>v==="next"&&k>=z||v==="prev"&&k<=z,K=()=>{h=new Date().getTime(),d===null&&(d=h);const k=Math.max(Math.min((h-d)/s,1),0),z=.5-Math.cos(k*Math.PI)/2;let q=o+z*(t-o);if(R(q,t)&&(q=t),e.wrapperEl.scrollTo({[i]:q}),R(q,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:q})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(K)};K()}function ch(e,t=""){return[...e.children].filter(i=>i.matches(t))}function jC(e,t=[]){const i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:[t]),i}function rZ(e,t){const i=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&i.push(r):i.push(r),e=r}return i}function sZ(e,t){const i=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&i.push(r):i.push(r),e=r}return i}function of(e,t){return Td().getComputedStyle(e,null).getPropertyValue(t)}function UT(e){let t=e,i;if(t){for(i=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(i+=1);return i}}function oZ(e,t){const i=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&i.push(r):i.push(r),r=r.parentElement;return i}function aM(e,t,i){const r=Td();return i?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let F3;function aZ(){const e=Td(),t=nm();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function k6(){return F3||(F3=aZ()),F3}let j3;function lZ({userAgent:e}={}){const t=k6(),i=Td(),r=i.navigator.platform,o=e||i.navigator.userAgent,d={ios:!1,android:!1},h=i.screen.width,s=i.screen.height,v=o.match(/(Android);?[\s\/]+([\d.]+)?/);let R=o.match(/(iPad).*OS\s([\d_]+)/);const K=o.match(/(iPod)(.*OS\s([\d_]+))?/),k=!R&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),z=r==="Win32";let q=r==="MacIntel";const L=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!R&&q&&t.touch&&L.indexOf(`${h}x${s}`)>=0&&(R=o.match(/(Version)\/([\d.]+)/),R||(R=[0,1,"13_0_0"]),q=!1),v&&!z&&(d.os="android",d.android=!0),(R||k||K)&&(d.os="ios",d.ios=!0),d}function cZ(e={}){return j3||(j3=lZ(e)),j3}let U3;function dZ(){const e=Td();let t=!1;function i(){const r=e.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(i()){const r=String(e.navigator.userAgent);if(r.includes("Version/")){const[o,d]=r.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));t=o<16||o===16&&d<2}}return{isSafari:t||i(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function uZ(){return U3||(U3=dZ()),U3}function hZ({swiper:e,on:t,emit:i}){const r=Td();let o=null,d=null;const h=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},s=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(K=>{d=r.requestAnimationFrame(()=>{const{width:k,height:z}=e;let q=k,L=z;K.forEach(({contentBoxSize:O,contentRect:G,target:M})=>{M&&M!==e.el||(q=G?G.width:(O[0]||O).inlineSize,L=G?G.height:(O[0]||O).blockSize)}),(q!==k||L!==z)&&h()})}),o.observe(e.el))},v=()=>{d&&r.cancelAnimationFrame(d),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},R=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){s();return}r.addEventListener("resize",h),r.addEventListener("orientationchange",R)}),t("destroy",()=>{v(),r.removeEventListener("resize",h),r.removeEventListener("orientationchange",R)})}function pZ({swiper:e,extendParams:t,on:i,emit:r}){const o=[],d=Td(),h=(R,K={})=>{const k=d.MutationObserver||d.WebkitMutationObserver,z=new k(q=>{if(e.__preventObserver__)return;if(q.length===1){r("observerUpdate",q[0]);return}const L=function(){r("observerUpdate",q[0])};d.requestAnimationFrame?d.requestAnimationFrame(L):d.setTimeout(L,0)});z.observe(R,{attributes:typeof K.attributes>"u"?!0:K.attributes,childList:typeof K.childList>"u"?!0:K.childList,characterData:typeof K.characterData>"u"?!0:K.characterData}),o.push(z)},s=()=>{if(e.params.observer){if(e.params.observeParents){const R=oZ(e.el);for(let K=0;K<R.length;K+=1)h(R[K])}h(e.el,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},v=()=>{o.forEach(R=>{R.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",s),i("destroy",v)}const fZ={on(e,t,i){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const o=i?"unshift":"push";return e.split(" ").forEach(d=>{r.eventsListeners[d]||(r.eventsListeners[d]=[]),r.eventsListeners[d][o](t)}),r},once(e,t,i){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function o(...d){r.off(e,o),o.__emitterProxy&&delete o.__emitterProxy,t.apply(r,d)}return o.__emitterProxy=t,r.on(e,o,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[r](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed||!i.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?i.eventsListeners[r]=[]:i.eventsListeners[r]&&i.eventsListeners[r].forEach((o,d)=>{(o===t||o.__emitterProxy&&o.__emitterProxy===t)&&i.eventsListeners[r].splice(d,1)})}),i},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let i,r,o;return typeof e[0]=="string"||Array.isArray(e[0])?(i=e[0],r=e.slice(1,e.length),o=t):(i=e[0].events,r=e[0].data,o=e[0].context||t),r.unshift(o),(Array.isArray(i)?i:i.split(" ")).forEach(h=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(s=>{s.apply(o,[h,...r])}),t.eventsListeners&&t.eventsListeners[h]&&t.eventsListeners[h].forEach(s=>{s.apply(o,r)})}),t}};function mZ(){const e=this;let t,i;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?i=e.params.height:i=r.clientHeight,!(t===0&&e.isHorizontal()||i===0&&e.isVertical())&&(t=t-parseInt(of(r,"padding-left")||0,10)-parseInt(of(r,"padding-right")||0,10),i=i-parseInt(of(r,"padding-top")||0,10)-parseInt(of(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))}function gZ(){const e=this;function t(j){return e.isHorizontal()?j:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[j]}function i(j,x){return parseFloat(j.getPropertyValue(t(x))||0)}const r=e.params,{wrapperEl:o,slidesEl:d,size:h,rtlTranslate:s,wrongRTL:v}=e,R=e.virtual&&r.virtual.enabled,K=R?e.virtual.slides.length:e.slides.length,k=ch(d,`.${e.params.slideClass}, swiper-slide`),z=R?e.virtual.slides.length:k.length;let q=[];const L=[],O=[];let G=r.slidesOffsetBefore;typeof G=="function"&&(G=r.slidesOffsetBefore.call(e));let M=r.slidesOffsetAfter;typeof M=="function"&&(M=r.slidesOffsetAfter.call(e));const S=e.snapGrid.length,D=e.slidesGrid.length;let H=r.spaceBetween,U=-G,E=0,ie=0;if(typeof h>"u")return;typeof H=="string"&&H.indexOf("%")>=0?H=parseFloat(H.replace("%",""))/100*h:typeof H=="string"&&(H=parseFloat(H)),e.virtualSize=-H,k.forEach(j=>{s?j.style.marginLeft="":j.style.marginRight="",j.style.marginBottom="",j.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(yx(o,"--swiper-centered-offset-before",""),yx(o,"--swiper-centered-offset-after",""));const te=r.grid&&r.grid.rows>1&&e.grid;te&&e.grid.initSlides(z);let $;const V=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(j=>typeof r.breakpoints[j].slidesPerView<"u").length>0;for(let j=0;j<z;j+=1){$=0;let x;if(k[j]&&(x=k[j]),te&&e.grid.updateSlide(j,x,z,t),!(k[j]&&of(x,"display")==="none")){if(r.slidesPerView==="auto"){V&&(k[j].style[t("width")]="");const P=getComputedStyle(x),f=x.style.transform,g=x.style.webkitTransform;if(f&&(x.style.transform="none"),g&&(x.style.webkitTransform="none"),r.roundLengths)$=e.isHorizontal()?aM(x,"width",!0):aM(x,"height",!0);else{const b=i(P,"width"),A=i(P,"padding-left"),X=i(P,"padding-right"),Y=i(P,"margin-left"),J=i(P,"margin-right"),ce=P.getPropertyValue("box-sizing");if(ce&&ce==="border-box")$=b+Y+J;else{const{clientWidth:pe,offsetWidth:fe}=x;$=b+A+X+Y+J+(fe-pe)}}f&&(x.style.transform=f),g&&(x.style.webkitTransform=g),r.roundLengths&&($=Math.floor($))}else $=(h-(r.slidesPerView-1)*H)/r.slidesPerView,r.roundLengths&&($=Math.floor($)),k[j]&&(k[j].style[t("width")]=`${$}px`);k[j]&&(k[j].swiperSlideSize=$),O.push($),r.centeredSlides?(U=U+$/2+E/2+H,E===0&&j!==0&&(U=U-h/2-H),j===0&&(U=U-h/2-H),Math.abs(U)<1/1e3&&(U=0),r.roundLengths&&(U=Math.floor(U)),ie%r.slidesPerGroup===0&&q.push(U),L.push(U)):(r.roundLengths&&(U=Math.floor(U)),(ie-Math.min(e.params.slidesPerGroupSkip,ie))%e.params.slidesPerGroup===0&&q.push(U),L.push(U),U=U+$+H),e.virtualSize+=$+H,E=$,ie+=1}}if(e.virtualSize=Math.max(e.virtualSize,h)+M,s&&v&&(r.effect==="slide"||r.effect==="coverflow")&&(o.style.width=`${e.virtualSize+H}px`),r.setWrapperSize&&(o.style[t("width")]=`${e.virtualSize+H}px`),te&&e.grid.updateWrapperSize($,q,t),!r.centeredSlides){const j=[];for(let x=0;x<q.length;x+=1){let P=q[x];r.roundLengths&&(P=Math.floor(P)),q[x]<=e.virtualSize-h&&j.push(P)}q=j,Math.floor(e.virtualSize-h)-Math.floor(q[q.length-1])>1&&q.push(e.virtualSize-h)}if(R&&r.loop){const j=O[0]+H;if(r.slidesPerGroup>1){const x=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),P=j*r.slidesPerGroup;for(let f=0;f<x;f+=1)q.push(q[q.length-1]+P)}for(let x=0;x<e.virtual.slidesBefore+e.virtual.slidesAfter;x+=1)r.slidesPerGroup===1&&q.push(q[q.length-1]+j),L.push(L[L.length-1]+j),e.virtualSize+=j}if(q.length===0&&(q=[0]),H!==0){const j=e.isHorizontal()&&s?"marginLeft":t("marginRight");k.filter((x,P)=>!r.cssMode||r.loop?!0:P!==k.length-1).forEach(x=>{x.style[j]=`${H}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let j=0;O.forEach(P=>{j+=P+(H||0)}),j-=H;const x=j-h;q=q.map(P=>P<0?-G:P>x?x+M:P)}if(r.centerInsufficientSlides){let j=0;if(O.forEach(x=>{j+=x+(H||0)}),j-=H,j<h){const x=(h-j)/2;q.forEach((P,f)=>{q[f]=P-x}),L.forEach((P,f)=>{L[f]=P+x})}}if(Object.assign(e,{slides:k,snapGrid:q,slidesGrid:L,slidesSizesGrid:O}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){yx(o,"--swiper-centered-offset-before",`${-q[0]}px`),yx(o,"--swiper-centered-offset-after",`${e.size/2-O[O.length-1]/2}px`);const j=-e.snapGrid[0],x=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(P=>P+j),e.slidesGrid=e.slidesGrid.map(P=>P+x)}if(z!==K&&e.emit("slidesLengthChange"),q.length!==S&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),L.length!==D&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!R&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const j=`${r.containerModifierClass}backface-hidden`,x=e.el.classList.contains(j);z<=r.maxBackfaceHiddenSlides?x||e.el.classList.add(j):x&&e.el.classList.remove(j)}}function yZ(e){const t=this,i=[],r=t.virtual&&t.params.virtual.enabled;let o=0,d;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const h=s=>r?t.slides[t.getSlideIndexByData(s)]:t.slides[s];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(s=>{i.push(s)});else for(d=0;d<Math.ceil(t.params.slidesPerView);d+=1){const s=t.activeIndex+d;if(s>t.slides.length&&!r)break;i.push(h(s))}else i.push(h(t.activeIndex));for(d=0;d<i.length;d+=1)if(typeof i[d]<"u"){const s=i[d].offsetHeight;o=s>o?s:o}(o||o===0)&&(t.wrapperEl.style.height=`${o}px`)}function _Z(){const e=this,t=e.slides,i=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-i-e.cssOverflowAdjustment()}function vZ(e=this&&this.translate||0){const t=this,i=t.params,{slides:r,rtlTranslate:o,snapGrid:d}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let h=-e;o&&(h=e),r.forEach(v=>{v.classList.remove(i.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let s=i.spaceBetween;typeof s=="string"&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*t.size:typeof s=="string"&&(s=parseFloat(s));for(let v=0;v<r.length;v+=1){const R=r[v];let K=R.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(K-=r[0].swiperSlideOffset);const k=(h+(i.centeredSlides?t.minTranslate():0)-K)/(R.swiperSlideSize+s),z=(h-d[0]+(i.centeredSlides?t.minTranslate():0)-K)/(R.swiperSlideSize+s),q=-(h-K),L=q+t.slidesSizesGrid[v];(q>=0&&q<t.size-1||L>1&&L<=t.size||q<=0&&L>=t.size)&&(t.visibleSlides.push(R),t.visibleSlidesIndexes.push(v),r[v].classList.add(i.slideVisibleClass)),R.progress=o?-k:k,R.originalProgress=o?-z:z}}function xZ(e){const t=this;if(typeof e>"u"){const K=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*K||0}const i=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:d,isEnd:h,progressLoop:s}=t;const v=d,R=h;if(r===0)o=0,d=!0,h=!0;else{o=(e-t.minTranslate())/r;const K=Math.abs(e-t.minTranslate())<1,k=Math.abs(e-t.maxTranslate())<1;d=K||o<=0,h=k||o>=1,K&&(o=0),k&&(o=1)}if(i.loop){const K=t.getSlideIndexByData(0),k=t.getSlideIndexByData(t.slides.length-1),z=t.slidesGrid[K],q=t.slidesGrid[k],L=t.slidesGrid[t.slidesGrid.length-1],O=Math.abs(e);O>=z?s=(O-z)/L:s=(O+L-q)/L,s>1&&(s-=1)}Object.assign(t,{progress:o,progressLoop:s,isBeginning:d,isEnd:h}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),d&&!v&&t.emit("reachBeginning toEdge"),h&&!R&&t.emit("reachEnd toEdge"),(v&&!d||R&&!h)&&t.emit("fromEdge"),t.emit("progress",o)}function bZ(){const e=this,{slides:t,params:i,slidesEl:r,activeIndex:o}=e,d=e.virtual&&i.virtual.enabled,h=v=>ch(r,`.${i.slideClass}${v}, swiper-slide${v}`)[0];t.forEach(v=>{v.classList.remove(i.slideActiveClass,i.slideNextClass,i.slidePrevClass)});let s;if(d)if(i.loop){let v=o-e.virtual.slidesBefore;v<0&&(v=e.virtual.slides.length+v),v>=e.virtual.slides.length&&(v-=e.virtual.slides.length),s=h(`[data-swiper-slide-index="${v}"]`)}else s=h(`[data-swiper-slide-index="${o}"]`);else s=t[o];if(s){s.classList.add(i.slideActiveClass);let v=sZ(s,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!v&&(v=t[0]),v&&v.classList.add(i.slideNextClass);let R=rZ(s,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!R===0&&(R=t[t.length-1]),R&&R.classList.add(i.slidePrevClass)}e.emitSlidesClasses()}const Ix=(e,t)=>{if(!e||e.destroyed||!e.params)return;const i=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(i());if(r){const o=r.querySelector(`.${e.params.lazyPreloaderClass}`);o&&o.remove()}},lM=(e,t)=>{if(!e.slides[t])return;const i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},$T=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),o=e.activeIndex,d=o+r-1;if(e.params.rewind)for(let h=o-t;h<=d+t;h+=1){const s=(h%i+i)%i;s!==o&&s>d&&lM(e,s)}else for(let h=Math.max(d-t,0);h<=Math.min(d+t,i-1);h+=1)h!==o&&h>d&&lM(e,h)};function wZ(e){const{slidesGrid:t,params:i}=e,r=e.rtlTranslate?e.translate:-e.translate;let o;for(let d=0;d<t.length;d+=1)typeof t[d+1]<"u"?r>=t[d]&&r<t[d+1]-(t[d+1]-t[d])/2?o=d:r>=t[d]&&r<t[d+1]&&(o=d+1):r>=t[d]&&(o=d);return i.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function TZ(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:o,activeIndex:d,realIndex:h,snapIndex:s}=t;let v=e,R;const K=z=>{let q=z-t.virtual.slidesBefore;return q<0&&(q=t.virtual.slides.length+q),q>=t.virtual.slides.length&&(q-=t.virtual.slides.length),q};if(typeof v>"u"&&(v=wZ(t)),r.indexOf(i)>=0)R=r.indexOf(i);else{const z=Math.min(o.slidesPerGroupSkip,v);R=z+Math.floor((v-z)/o.slidesPerGroup)}if(R>=r.length&&(R=r.length-1),v===d){R!==s&&(t.snapIndex=R,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=K(v));return}let k;t.virtual&&o.virtual.enabled&&o.loop?k=K(v):t.slides[v]?k=parseInt(t.slides[v].getAttribute("data-swiper-slide-index")||v,10):k=v,Object.assign(t,{previousSnapIndex:s,snapIndex:R,previousRealIndex:h,realIndex:k,previousIndex:d,activeIndex:v}),t.initialized&&$T(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),h!==k&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function SZ(e){const t=this,i=t.params,r=e.closest(`.${i.slideClass}, swiper-slide`);let o=!1,d;if(r){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===r){o=!0,d=h;break}}if(r&&o)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const CZ={updateSize:mZ,updateSlides:gZ,updateAutoHeight:yZ,updateSlidesOffset:_Z,updateSlidesProgress:vZ,updateProgress:xZ,updateSlidesClasses:bZ,updateActiveIndex:TZ,updateClickedSlide:SZ};function EZ(e=this.isHorizontal()?"x":"y"){const t=this,{params:i,rtlTranslate:r,translate:o,wrapperEl:d}=t;if(i.virtualTranslate)return r?-o:o;if(i.cssMode)return o;let h=iZ(d,e);return h+=t.cssOverflowAdjustment(),r&&(h=-h),h||0}function MZ(e,t){const i=this,{rtlTranslate:r,params:o,wrapperEl:d,progress:h}=i;let s=0,v=0;const R=0;i.isHorizontal()?s=r?-e:e:v=e,o.roundLengths&&(s=Math.floor(s),v=Math.floor(v)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?s:v,o.cssMode?d[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-s:-v:o.virtualTranslate||(i.isHorizontal()?s-=i.cssOverflowAdjustment():v-=i.cssOverflowAdjustment(),d.style.transform=`translate3d(${s}px, ${v}px, ${R}px)`);let K;const k=i.maxTranslate()-i.minTranslate();k===0?K=0:K=(e-i.minTranslate())/k,K!==h&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)}function kZ(){return-this.snapGrid[0]}function AZ(){return-this.snapGrid[this.snapGrid.length-1]}function PZ(e=0,t=this.params.speed,i=!0,r=!0,o){const d=this,{params:h,wrapperEl:s}=d;if(d.animating&&h.preventInteractionOnTransition)return!1;const v=d.minTranslate(),R=d.maxTranslate();let K;if(r&&e>v?K=v:r&&e<R?K=R:K=e,d.updateProgress(K),h.cssMode){const k=d.isHorizontal();if(t===0)s[k?"scrollLeft":"scrollTop"]=-K;else{if(!d.support.smoothScroll)return M6({swiper:d,targetPosition:-K,side:k?"left":"top"}),!0;s.scrollTo({[k?"left":"top"]:-K,behavior:"smooth"})}return!0}return t===0?(d.setTransition(0),d.setTranslate(K),i&&(d.emit("beforeTransitionStart",t,o),d.emit("transitionEnd"))):(d.setTransition(t),d.setTranslate(K),i&&(d.emit("beforeTransitionStart",t,o),d.emit("transitionStart")),d.animating||(d.animating=!0,d.onTranslateToWrapperTransitionEnd||(d.onTranslateToWrapperTransitionEnd=function(z){!d||d.destroyed||z.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onTranslateToWrapperTransitionEnd),d.onTranslateToWrapperTransitionEnd=null,delete d.onTranslateToWrapperTransitionEnd,i&&d.emit("transitionEnd"))}),d.wrapperEl.addEventListener("transitionend",d.onTranslateToWrapperTransitionEnd))),!0}const DZ={getTranslate:EZ,setTranslate:MZ,minTranslate:kZ,maxTranslate:AZ,translateTo:PZ};function IZ(e,t){const i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${e}ms`),i.emit("setTransition",e,t)}function A6({swiper:e,runCallbacks:t,direction:i,step:r}){const{activeIndex:o,previousIndex:d}=e;let h=i;if(h||(o>d?h="next":o<d?h="prev":h="reset"),e.emit(`transition${r}`),t&&o!==d){if(h==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),h==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function LZ(e=!0,t){const i=this,{params:r}=i;r.cssMode||(r.autoHeight&&i.updateAutoHeight(),A6({swiper:i,runCallbacks:e,direction:t,step:"Start"}))}function OZ(e=!0,t){const i=this,{params:r}=i;i.animating=!1,!r.cssMode&&(i.setTransition(0),A6({swiper:i,runCallbacks:e,direction:t,step:"End"}))}const RZ={setTransition:IZ,transitionStart:LZ,transitionEnd:OZ};function BZ(e=0,t=this.params.speed,i=!0,r,o){typeof e=="string"&&(e=parseInt(e,10));const d=this;let h=e;h<0&&(h=0);const{params:s,snapGrid:v,slidesGrid:R,previousIndex:K,activeIndex:k,rtlTranslate:z,wrapperEl:q,enabled:L}=d;if(d.animating&&s.preventInteractionOnTransition||!L&&!r&&!o)return!1;const O=Math.min(d.params.slidesPerGroupSkip,h);let G=O+Math.floor((h-O)/d.params.slidesPerGroup);G>=v.length&&(G=v.length-1);const M=-v[G];if(s.normalizeSlideIndex)for(let D=0;D<R.length;D+=1){const H=-Math.floor(M*100),U=Math.floor(R[D]*100),E=Math.floor(R[D+1]*100);typeof R[D+1]<"u"?H>=U&&H<E-(E-U)/2?h=D:H>=U&&H<E&&(h=D+1):H>=U&&(h=D)}if(d.initialized&&h!==k&&(!d.allowSlideNext&&M<d.translate&&M<d.minTranslate()||!d.allowSlidePrev&&M>d.translate&&M>d.maxTranslate()&&(k||0)!==h))return!1;h!==(K||0)&&i&&d.emit("beforeSlideChangeStart"),d.updateProgress(M);let S;if(h>k?S="next":h<k?S="prev":S="reset",z&&-M===d.translate||!z&&M===d.translate)return d.updateActiveIndex(h),s.autoHeight&&d.updateAutoHeight(),d.updateSlidesClasses(),s.effect!=="slide"&&d.setTranslate(M),S!=="reset"&&(d.transitionStart(i,S),d.transitionEnd(i,S)),!1;if(s.cssMode){const D=d.isHorizontal(),H=z?M:-M;if(t===0){const U=d.virtual&&d.params.virtual.enabled;U&&(d.wrapperEl.style.scrollSnapType="none",d._immediateVirtual=!0),U&&!d._cssModeVirtualInitialSet&&d.params.initialSlide>0?(d._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{q[D?"scrollLeft":"scrollTop"]=H})):q[D?"scrollLeft":"scrollTop"]=H,U&&requestAnimationFrame(()=>{d.wrapperEl.style.scrollSnapType="",d._immediateVirtual=!1})}else{if(!d.support.smoothScroll)return M6({swiper:d,targetPosition:H,side:D?"left":"top"}),!0;q.scrollTo({[D?"left":"top"]:H,behavior:"smooth"})}return!0}return d.setTransition(t),d.setTranslate(M),d.updateActiveIndex(h),d.updateSlidesClasses(),d.emit("beforeTransitionStart",t,r),d.transitionStart(i,S),t===0?d.transitionEnd(i,S):d.animating||(d.animating=!0,d.onSlideToWrapperTransitionEnd||(d.onSlideToWrapperTransitionEnd=function(H){!d||d.destroyed||H.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onSlideToWrapperTransitionEnd),d.onSlideToWrapperTransitionEnd=null,delete d.onSlideToWrapperTransitionEnd,d.transitionEnd(i,S))}),d.wrapperEl.addEventListener("transitionend",d.onSlideToWrapperTransitionEnd)),!0}function zZ(e=0,t=this.params.speed,i=!0,r){typeof e=="string"&&(e=parseInt(e,10));const o=this;let d=e;return o.params.loop&&(o.virtual&&o.params.virtual.enabled?d=d+o.virtual.slidesBefore:d=o.getSlideIndexByData(d)),o.slideTo(d,t,i,r)}function NZ(e=this.params.speed,t=!0,i){const r=this,{enabled:o,params:d,animating:h}=r;if(!o)return r;let s=d.slidesPerGroup;d.slidesPerView==="auto"&&d.slidesPerGroup===1&&d.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));const v=r.activeIndex<d.slidesPerGroupSkip?1:s,R=r.virtual&&d.virtual.enabled;if(d.loop){if(h&&!R&&d.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return d.rewind&&r.isEnd?r.slideTo(0,e,t,i):r.slideTo(r.activeIndex+v,e,t,i)}function FZ(e=this.params.speed,t=!0,i){const r=this,{params:o,snapGrid:d,slidesGrid:h,rtlTranslate:s,enabled:v,animating:R}=r;if(!v)return r;const K=r.virtual&&o.virtual.enabled;if(o.loop){if(R&&!K&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const k=s?r.translate:-r.translate;function z(M){return M<0?-Math.floor(Math.abs(M)):Math.floor(M)}const q=z(k),L=d.map(M=>z(M));let O=d[L.indexOf(q)-1];if(typeof O>"u"&&o.cssMode){let M;d.forEach((S,D)=>{q>=S&&(M=D)}),typeof M<"u"&&(O=d[M>0?M-1:M])}let G=0;if(typeof O<"u"&&(G=h.indexOf(O),G<0&&(G=r.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(G=G-r.slidesPerViewDynamic("previous",!0)+1,G=Math.max(G,0))),o.rewind&&r.isBeginning){const M=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(M,e,t,i)}return r.slideTo(G,e,t,i)}function jZ(e=this.params.speed,t=!0,i){const r=this;return r.slideTo(r.activeIndex,e,t,i)}function UZ(e=this.params.speed,t=!0,i,r=.5){const o=this;let d=o.activeIndex;const h=Math.min(o.params.slidesPerGroupSkip,d),s=h+Math.floor((d-h)/o.params.slidesPerGroup),v=o.rtlTranslate?o.translate:-o.translate;if(v>=o.snapGrid[s]){const R=o.snapGrid[s],K=o.snapGrid[s+1];v-R>(K-R)*r&&(d+=o.params.slidesPerGroup)}else{const R=o.snapGrid[s-1],K=o.snapGrid[s];v-R<=(K-R)*r&&(d-=o.params.slidesPerGroup)}return d=Math.max(d,0),d=Math.min(d,o.slidesGrid.length-1),o.slideTo(d,e,t,i)}function $Z(){const e=this,{params:t,slidesEl:i}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let o=e.clickedIndex,d;const h=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;d=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-r/2||o>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),o=e.getSlideIndex(ch(i,`${h}[data-swiper-slide-index="${d}"]`)[0]),jT(()=>{e.slideTo(o)})):e.slideTo(o):o>e.slides.length-r?(e.loopFix(),o=e.getSlideIndex(ch(i,`${h}[data-swiper-slide-index="${d}"]`)[0]),jT(()=>{e.slideTo(o)})):e.slideTo(o)}else e.slideTo(o)}const VZ={slideTo:BZ,slideToLoop:zZ,slideNext:NZ,slidePrev:FZ,slideReset:jZ,slideToClosest:UZ,slideToClickedSlide:$Z};function GZ(e){const t=this,{params:i,slidesEl:r}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;ch(r,`.${i.slideClass}, swiper-slide`).forEach((d,h)=>{d.setAttribute("data-swiper-slide-index",h)}),t.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next"})}function HZ({slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:o,byController:d,byMousewheel:h}={}){const s=this;if(!s.params.loop)return;s.emit("beforeLoopFix");const{slides:v,allowSlidePrev:R,allowSlideNext:K,slidesEl:k,params:z}=s;if(s.allowSlidePrev=!0,s.allowSlideNext=!0,s.virtual&&z.virtual.enabled){t&&(!z.centeredSlides&&s.snapIndex===0?s.slideTo(s.virtual.slides.length,0,!1,!0):z.centeredSlides&&s.snapIndex<z.slidesPerView?s.slideTo(s.virtual.slides.length+s.snapIndex,0,!1,!0):s.snapIndex===s.snapGrid.length-1&&s.slideTo(s.virtual.slidesBefore,0,!1,!0)),s.allowSlidePrev=R,s.allowSlideNext=K,s.emit("loopFix");return}const q=z.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(z.slidesPerView,10));let L=z.loopedSlides||q;L%z.slidesPerGroup!==0&&(L+=z.slidesPerGroup-L%z.slidesPerGroup),s.loopedSlides=L;const O=[],G=[];let M=s.activeIndex;typeof o>"u"?o=s.getSlideIndex(s.slides.filter(E=>E.classList.contains(z.slideActiveClass))[0]):M=o;const S=i==="next"||!i,D=i==="prev"||!i;let H=0,U=0;if(o<L){H=Math.max(L-o,z.slidesPerGroup);for(let E=0;E<L-o;E+=1){const ie=E-Math.floor(E/v.length)*v.length;O.push(v.length-ie-1)}}else if(o>s.slides.length-L*2){U=Math.max(o-(s.slides.length-L*2),z.slidesPerGroup);for(let E=0;E<U;E+=1){const ie=E-Math.floor(E/v.length)*v.length;G.push(ie)}}if(D&&O.forEach(E=>{s.slides[E].swiperLoopMoveDOM=!0,k.prepend(s.slides[E]),s.slides[E].swiperLoopMoveDOM=!1}),S&&G.forEach(E=>{s.slides[E].swiperLoopMoveDOM=!0,k.append(s.slides[E]),s.slides[E].swiperLoopMoveDOM=!1}),s.recalcSlides(),z.slidesPerView==="auto"&&s.updateSlides(),z.watchSlidesProgress&&s.updateSlidesOffset(),t){if(O.length>0&&D)if(typeof e>"u"){const E=s.slidesGrid[M],te=s.slidesGrid[M+H]-E;h?s.setTranslate(s.translate-te):(s.slideTo(M+H,0,!1,!0),r&&(s.touches[s.isHorizontal()?"startX":"startY"]+=te))}else r&&s.slideToLoop(e,0,!1,!0);else if(G.length>0&&S)if(typeof e>"u"){const E=s.slidesGrid[M],te=s.slidesGrid[M-U]-E;h?s.setTranslate(s.translate-te):(s.slideTo(M-U,0,!1,!0),r&&(s.touches[s.isHorizontal()?"startX":"startY"]+=te))}else s.slideToLoop(e,0,!1,!0)}if(s.allowSlidePrev=R,s.allowSlideNext=K,s.controller&&s.controller.control&&!d){const E={slideRealIndex:e,slideTo:!1,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(s.controller.control)?s.controller.control.forEach(ie=>{!ie.destroyed&&ie.params.loop&&ie.loopFix(E)}):s.controller.control instanceof s.constructor&&s.controller.control.params.loop&&s.controller.control.loopFix(E)}s.emit("loopFix")}function WZ(){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(o=>{const d=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;r[d]=o}),e.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),r.forEach(o=>{i.append(o)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const YZ={loopCreate:GZ,loopFix:HZ,loopDestroy:WZ};function qZ(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function XZ(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const ZZ={setGrabCursor:qZ,unsetGrabCursor:XZ};function KZ(e,t=this){function i(r){if(!r||r===nm()||r===Td())return null;r.assignedSlot&&(r=r.assignedSlot);const o=r.closest(e);return!o&&!r.getRootNode?null:o||i(r.getRootNode().host)}return i(t)}function JZ(e){const t=this,i=nm(),r=Td(),o=t.touchEventsData;o.evCache.push(e);const{params:d,touches:h,enabled:s}=t;if(!s||!d.simulateTouch&&e.pointerType==="mouse"||t.animating&&d.preventInteractionOnTransition)return;!t.animating&&d.cssMode&&d.loop&&t.loopFix();let v=e;v.originalEvent&&(v=v.originalEvent);let R=v.target;if(d.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(R)||"which"in v&&v.which===3||"button"in v&&v.button>0||o.isTouched&&o.isMoved)return;const K=!!d.noSwipingClass&&d.noSwipingClass!=="",k=e.composedPath?e.composedPath():e.path;K&&v.target&&v.target.shadowRoot&&k&&(R=k[0]);const z=d.noSwipingSelector?d.noSwipingSelector:`.${d.noSwipingClass}`,q=!!(v.target&&v.target.shadowRoot);if(d.noSwiping&&(q?KZ(z,R):R.closest(z))){t.allowClick=!0;return}if(d.swipeHandler&&!R.closest(d.swipeHandler))return;h.currentX=v.pageX,h.currentY=v.pageY;const L=h.currentX,O=h.currentY,G=d.edgeSwipeDetection||d.iOSEdgeSwipeDetection,M=d.edgeSwipeThreshold||d.iOSEdgeSwipeThreshold;if(G&&(L<=M||L>=r.innerWidth-M))if(G==="prevent")e.preventDefault();else return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),h.startX=L,h.startY=O,o.touchStartTime=fb(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,d.threshold>0&&(o.allowThresholdMove=!1);let S=!0;R.matches(o.focusableElements)&&(S=!1,R.nodeName==="SELECT"&&(o.isTouched=!1)),i.activeElement&&i.activeElement.matches(o.focusableElements)&&i.activeElement!==R&&i.activeElement.blur();const D=S&&t.allowTouchMove&&d.touchStartPreventDefault;(d.touchStartForcePreventDefault||D)&&!R.isContentEditable&&v.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!d.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",v)}function QZ(e){const t=nm(),i=this,r=i.touchEventsData,{params:o,touches:d,rtlTranslate:h,enabled:s}=i;if(!s||!o.simulateTouch&&e.pointerType==="mouse")return;let v=e;if(v.originalEvent&&(v=v.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&i.emit("touchMoveOpposite",v);return}const R=r.evCache.findIndex(E=>E.pointerId===v.pointerId);R>=0&&(r.evCache[R]=v);const K=r.evCache.length>1?r.evCache[0]:v,k=K.pageX,z=K.pageY;if(v.preventedByNestedSwiper){d.startX=k,d.startY=z;return}if(!i.allowTouchMove){v.target.matches(r.focusableElements)||(i.allowClick=!1),r.isTouched&&(Object.assign(d,{startX:k,startY:z,prevX:i.touches.currentX,prevY:i.touches.currentY,currentX:k,currentY:z}),r.touchStartTime=fb());return}if(o.touchReleaseOnEdges&&!o.loop){if(i.isVertical()){if(z<d.startY&&i.translate<=i.maxTranslate()||z>d.startY&&i.translate>=i.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(k<d.startX&&i.translate<=i.maxTranslate()||k>d.startX&&i.translate>=i.minTranslate())return}if(t.activeElement&&v.target===t.activeElement&&v.target.matches(r.focusableElements)){r.isMoved=!0,i.allowClick=!1;return}if(r.allowTouchCallbacks&&i.emit("touchMove",v),v.targetTouches&&v.targetTouches.length>1)return;d.currentX=k,d.currentY=z;const q=d.currentX-d.startX,L=d.currentY-d.startY;if(i.params.threshold&&Math.sqrt(q**2+L**2)<i.params.threshold)return;if(typeof r.isScrolling>"u"){let E;i.isHorizontal()&&d.currentY===d.startY||i.isVertical()&&d.currentX===d.startX?r.isScrolling=!1:q*q+L*L>=25&&(E=Math.atan2(Math.abs(L),Math.abs(q))*180/Math.PI,r.isScrolling=i.isHorizontal()?E>o.touchAngle:90-E>o.touchAngle)}if(r.isScrolling&&i.emit("touchMoveOpposite",v),typeof r.startMoving>"u"&&(d.currentX!==d.startX||d.currentY!==d.startY)&&(r.startMoving=!0),r.isScrolling||i.zoom&&i.params.zoom&&i.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;i.allowClick=!1,!o.cssMode&&v.cancelable&&v.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&v.stopPropagation();let O=i.isHorizontal()?q:L,G=i.isHorizontal()?d.currentX-d.previousX:d.currentY-d.previousY;o.oneWayMovement&&(O=Math.abs(O)*(h?1:-1),G=Math.abs(G)*(h?1:-1)),d.diff=O,O*=o.touchRatio,h&&(O=-O,G=-G);const M=i.touchesDirection;i.swipeDirection=O>0?"prev":"next",i.touchesDirection=G>0?"prev":"next";const S=i.params.loop&&!o.cssMode;if(!r.isMoved){if(S&&i.loopFix({direction:i.swipeDirection}),r.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});i.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,o.grabCursor&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!0),i.emit("sliderFirstMove",v)}let D;r.isMoved&&M!==i.touchesDirection&&S&&Math.abs(O)>=1&&(i.loopFix({direction:i.swipeDirection,setTranslate:!0}),D=!0),i.emit("sliderMove",v),r.isMoved=!0,r.currentTranslate=O+r.startTranslate;let H=!0,U=o.resistanceRatio;if(o.touchReleaseOnEdges&&(U=0),O>0?(S&&!D&&r.currentTranslate>(o.centeredSlides?i.minTranslate()-i.size/2:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>i.minTranslate()&&(H=!1,o.resistance&&(r.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+r.startTranslate+O)**U))):O<0&&(S&&!D&&r.currentTranslate<(o.centeredSlides?i.maxTranslate()+i.size/2:i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-(o.slidesPerView==="auto"?i.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<i.maxTranslate()&&(H=!1,o.resistance&&(r.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-r.startTranslate-O)**U))),H&&(v.preventedByNestedSwiper=!0),!i.allowSlideNext&&i.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!i.allowSlidePrev&&i.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!i.allowSlidePrev&&!i.allowSlideNext&&(r.currentTranslate=r.startTranslate),o.threshold>0)if(Math.abs(O)>o.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,d.startX=d.currentX,d.startY=d.currentY,r.currentTranslate=r.startTranslate,d.diff=i.isHorizontal()?d.currentX-d.startX:d.currentY-d.startY;return}}else{r.currentTranslate=r.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&i.freeMode||o.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&o.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(r.currentTranslate),i.setTranslate(r.currentTranslate))}function eK(e){const t=this,i=t.touchEventsData,r=i.evCache.findIndex(D=>D.pointerId===e.pointerId);if(r>=0&&i.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:o,touches:d,rtlTranslate:h,slidesGrid:s,enabled:v}=t;if(!v||!o.simulateTouch&&e.pointerType==="mouse")return;let R=e;if(R.originalEvent&&(R=R.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",R),i.allowTouchCallbacks=!1,!i.isTouched){i.isMoved&&o.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,i.startMoving=!1;return}o.grabCursor&&i.isMoved&&i.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const K=fb(),k=K-i.touchStartTime;if(t.allowClick){const D=R.path||R.composedPath&&R.composedPath();t.updateClickedSlide(D&&D[0]||R.target),t.emit("tap click",R),k<300&&K-i.lastClickTime<300&&t.emit("doubleTap doubleClick",R)}if(i.lastClickTime=fb(),jT(()=>{t.destroyed||(t.allowClick=!0)}),!i.isTouched||!i.isMoved||!t.swipeDirection||d.diff===0||i.currentTranslate===i.startTranslate){i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;return}i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;let z;if(o.followFinger?z=h?t.translate:-t.translate:z=-i.currentTranslate,o.cssMode)return;if(t.params.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:z});return}let q=0,L=t.slidesSizesGrid[0];for(let D=0;D<s.length;D+=D<o.slidesPerGroupSkip?1:o.slidesPerGroup){const H=D<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof s[D+H]<"u"?z>=s[D]&&z<s[D+H]&&(q=D,L=s[D+H]-s[D]):z>=s[D]&&(q=D,L=s[s.length-1]-s[s.length-2])}let O=null,G=null;o.rewind&&(t.isBeginning?G=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(O=0));const M=(z-s[q])/L,S=q<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(k>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(M>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?O:q+S):t.slideTo(q)),t.swipeDirection==="prev"&&(M>1-o.longSwipesRatio?t.slideTo(q+S):G!==null&&M<0&&Math.abs(M)>o.longSwipesRatio?t.slideTo(G):t.slideTo(q))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(R.target===t.navigation.nextEl||R.target===t.navigation.prevEl)?R.target===t.navigation.nextEl?t.slideTo(q+S):t.slideTo(q):(t.swipeDirection==="next"&&t.slideTo(O!==null?O:q+S),t.swipeDirection==="prev"&&t.slideTo(G!==null?G:q))}}function cM(){const e=this,{params:t,el:i}=e;if(i&&i.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:d}=e,h=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const s=h&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!s?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!h?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=o,e.allowSlideNext=r,e.params.watchOverflow&&d!==e.snapGrid&&e.checkOverflow()}function tK(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function iK(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let o;const d=e.maxTranslate()-e.minTranslate();d===0?o=0:o=(e.translate-e.minTranslate())/d,o!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function nK(e){const t=this;Ix(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let dM=!1;function rK(){}const P6=(e,t)=>{const i=nm(),{params:r,el:o,wrapperEl:d,device:h}=e,s=!!r.nested,v=t==="on"?"addEventListener":"removeEventListener",R=t;o[v]("pointerdown",e.onTouchStart,{passive:!1}),i[v]("pointermove",e.onTouchMove,{passive:!1,capture:s}),i[v]("pointerup",e.onTouchEnd,{passive:!0}),i[v]("pointercancel",e.onTouchEnd,{passive:!0}),i[v]("pointerout",e.onTouchEnd,{passive:!0}),i[v]("pointerleave",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[v]("click",e.onClick,!0),r.cssMode&&d[v]("scroll",e.onScroll),r.updateOnWindowResize?e[R](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",cM,!0):e[R]("observerUpdate",cM,!0),o[v]("load",e.onLoad,{capture:!0})};function sK(){const e=this,t=nm(),{params:i}=e;e.onTouchStart=JZ.bind(e),e.onTouchMove=QZ.bind(e),e.onTouchEnd=eK.bind(e),i.cssMode&&(e.onScroll=iK.bind(e)),e.onClick=tK.bind(e),e.onLoad=nK.bind(e),dM||(t.addEventListener("touchstart",rK),dM=!0),P6(e,"on")}function oK(){P6(this,"off")}const aK={attachEvents:sK,detachEvents:oK},uM=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function lK(){const e=this,{realIndex:t,initialized:i,params:r,el:o}=e,d=r.breakpoints;if(!d||d&&Object.keys(d).length===0)return;const h=e.getBreakpoint(d,e.params.breakpointsBase,e.el);if(!h||e.currentBreakpoint===h)return;const v=(h in d?d[h]:void 0)||e.originalParams,R=uM(e,r),K=uM(e,v),k=r.enabled;R&&!K?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!R&&K&&(o.classList.add(`${r.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&r.grid.fill==="column")&&o.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(O=>{const G=r[O]&&r[O].enabled,M=v[O]&&v[O].enabled;G&&!M&&e[O].disable(),!G&&M&&e[O].enable()});const z=v.direction&&v.direction!==r.direction,q=r.loop&&(v.slidesPerView!==r.slidesPerView||z);z&&i&&e.changeDirection(),pd(e.params,v);const L=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),k&&!L?e.disable():!k&&L&&e.enable(),e.currentBreakpoint=h,e.emit("_beforeBreakpoint",v),q&&i&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",v)}function cK(e,t="window",i){if(!e||t==="container"&&!i)return;let r=!1;const o=Td(),d=t==="window"?o.innerHeight:i.clientHeight,h=Object.keys(e).map(s=>{if(typeof s=="string"&&s.indexOf("@")===0){const v=parseFloat(s.substr(1));return{value:d*v,point:s}}return{value:s,point:s}});h.sort((s,v)=>parseInt(s.value,10)-parseInt(v.value,10));for(let s=0;s<h.length;s+=1){const{point:v,value:R}=h[s];t==="window"?o.matchMedia(`(min-width: ${R}px)`).matches&&(r=v):R<=i.clientWidth&&(r=v)}return r||"max"}const dK={setBreakpoint:lK,getBreakpoint:cK};function uK(e,t){const i=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(o=>{r[o]&&i.push(t+o)}):typeof r=="string"&&i.push(t+r)}),i}function hK(){const e=this,{classNames:t,params:i,rtl:r,el:o,device:d}=e,h=uK(["initialized",i.direction,{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:r},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&i.grid.fill==="column"},{android:d.android},{ios:d.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...h),o.classList.add(...t),e.emitContainerClasses()}function pK(){const e=this,{el:t,classNames:i}=e;t.classList.remove(...i),e.emitContainerClasses()}const fK={addClasses:hK,removeClasses:pK};function mK(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:r}=i;if(r){const o=e.slides.length-1,d=e.slidesGrid[o]+e.slidesSizesGrid[o]+r*2;e.isLocked=e.size>d}else e.isLocked=e.snapGrid.length===1;i.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),i.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const gK={checkOverflow:mK},hM={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function yK(e,t){return function(r={}){const o=Object.keys(r)[0],d=r[o];if(typeof d!="object"||d===null){pd(t,r);return}if(["navigation","pagination","scrollbar"].indexOf(o)>=0&&e[o]===!0&&(e[o]={auto:!0}),!(o in e&&"enabled"in d)){pd(t,r);return}e[o]===!0&&(e[o]={enabled:!0}),typeof e[o]=="object"&&!("enabled"in e[o])&&(e[o].enabled=!0),e[o]||(e[o]={enabled:!1}),pd(t,r)}}const $3={eventsEmitter:fZ,update:CZ,translate:DZ,transition:RZ,slide:VZ,loop:YZ,grabCursor:ZZ,events:aK,breakpoints:dK,checkOverflow:gK,classes:fK},V3={};let l_=class Hh{constructor(...t){let i,r;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?r=t[0]:[i,r]=t,r||(r={}),r=pd({},r),i&&!r.el&&(r.el=i);const o=nm();if(r.el&&typeof r.el=="string"&&o.querySelectorAll(r.el).length>1){const v=[];return o.querySelectorAll(r.el).forEach(R=>{const K=pd({},r,{el:R});v.push(new Hh(K))}),v}const d=this;d.__swiper__=!0,d.support=k6(),d.device=cZ({userAgent:r.userAgent}),d.browser=uZ(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],r.modules&&Array.isArray(r.modules)&&d.modules.push(...r.modules);const h={};d.modules.forEach(v=>{v({params:r,swiper:d,extendParams:yK(r,h),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const s=pd({},hM,h);return d.params=pd({},s,V3,r),d.originalParams=pd({},d.params),d.passedParams=pd({},r),d.params&&d.params.on&&Object.keys(d.params.on).forEach(v=>{d.on(v,d.params.on[v])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:i,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getSlideIndex(t){const{slidesEl:i,params:r}=this,o=ch(i,`.${r.slideClass}, swiper-slide`),d=UT(o[0]);return UT(t)-d}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(i=>i.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:i,params:r}=t;t.slides=ch(i,`.${r.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,i){const r=this;t=Math.min(Math.max(t,0),1);const o=r.minTranslate(),h=(r.maxTranslate()-o)*t+o;r.translateTo(h,typeof i>"u"?0:i),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const i=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",i.join(" "))}getSlideClasses(t){const i=this;return i.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(i.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const i=[];t.slides.forEach(r=>{const o=t.getSlideClasses(r);i.push({slideEl:r,classNames:o}),t.emit("_slideClass",r,o)}),t.emit("_slideClasses",i)}slidesPerViewDynamic(t="current",i=!1){const r=this,{params:o,slides:d,slidesGrid:h,slidesSizesGrid:s,size:v,activeIndex:R}=r;let K=1;if(o.centeredSlides){let k=d[R].swiperSlideSize,z;for(let q=R+1;q<d.length;q+=1)d[q]&&!z&&(k+=d[q].swiperSlideSize,K+=1,k>v&&(z=!0));for(let q=R-1;q>=0;q-=1)d[q]&&!z&&(k+=d[q].swiperSlideSize,K+=1,k>v&&(z=!0))}else if(t==="current")for(let k=R+1;k<d.length;k+=1)(i?h[k]+s[k]-h[R]<v:h[k]-h[R]<v)&&(K+=1);else for(let k=R-1;k>=0;k-=1)h[R]-h[k]<v&&(K+=1);return K}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:i,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(h=>{h.complete&&Ix(t,h)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function o(){const h=t.rtlTranslate?t.translate*-1:t.translate,s=Math.min(Math.max(h,t.maxTranslate()),t.minTranslate());t.setTranslate(s),t.updateActiveIndex(),t.updateSlidesClasses()}let d;if(t.params.freeMode&&t.params.freeMode.enabled)o(),t.params.autoHeight&&t.updateAutoHeight();else{if((t.params.slidesPerView==="auto"||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides){const h=t.virtual&&t.params.virtual.enabled?t.virtual.slides:t.slides;d=t.slideTo(h.length-1,0,!1,!0)}else d=t.slideTo(t.activeIndex,0,!1,!0);d||o()}r.watchOverflow&&i!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,i=!0){const r=this,o=r.params.direction;return t||(t=o==="horizontal"?"vertical":"horizontal"),t===o||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${o}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(d=>{t==="vertical"?d.style.width="":d.style.height=""}),r.emit("changeDirection"),i&&r.update()),r}changeLanguageDirection(t){const i=this;i.rtl&&t==="rtl"||!i.rtl&&t==="ltr"||(i.rtl=t==="rtl",i.rtlTranslate=i.params.direction==="horizontal"&&i.rtl,i.rtl?(i.el.classList.add(`${i.params.containerModifierClass}rtl`),i.el.dir="rtl"):(i.el.classList.remove(`${i.params.containerModifierClass}rtl`),i.el.dir="ltr"),i.update())}mount(t){const i=this;if(i.mounted)return!0;let r=t||i.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=i,r.shadowEl&&(i.isElement=!0);const o=()=>`.${(i.params.wrapperClass||"").trim().split(" ").join(".")}`;let h=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(o()):ch(r,o())[0])();return!h&&i.params.createElements&&(h=jC("div",i.params.wrapperClass),r.append(h),ch(r,`.${i.params.slideClass}`).forEach(s=>{h.append(s)})),Object.assign(i,{el:r,wrapperEl:h,slidesEl:i.isElement?r:h,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||of(r,"direction")==="rtl",rtlTranslate:i.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||of(r,"direction")==="rtl"),wrongRTL:of(h,"display")==="-webkit-box"}),!0}init(t){const i=this;return i.initialized||i.mount(t)===!1||(i.emit("beforeInit"),i.params.breakpoints&&i.setBreakpoint(),i.addClasses(),i.updateSize(),i.updateSlides(),i.params.watchOverflow&&i.checkOverflow(),i.params.grabCursor&&i.enabled&&i.setGrabCursor(),i.params.loop&&i.virtual&&i.params.virtual.enabled?i.slideTo(i.params.initialSlide+i.virtual.slidesBefore,0,i.params.runCallbacksOnInit,!1,!0):i.slideTo(i.params.initialSlide,0,i.params.runCallbacksOnInit,!1,!0),i.params.loop&&i.loopCreate(),i.attachEvents(),[...i.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete?Ix(i,o):o.addEventListener("load",d=>{Ix(i,d.target)})}),$T(i),i.initialized=!0,$T(i),i.emit("init"),i.emit("afterInit")),i}destroy(t=!0,i=!0){const r=this,{params:o,el:d,wrapperEl:h,slides:s}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),o.loop&&r.loopDestroy(),i&&(r.removeClasses(),d.removeAttribute("style"),h.removeAttribute("style"),s&&s.length&&s.forEach(v=>{v.classList.remove(o.slideVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),v.removeAttribute("style"),v.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(v=>{r.off(v)}),t!==!1&&(r.el.swiper=null,eZ(r)),r.destroyed=!0),null}static extendDefaults(t){pd(V3,t)}static get extendedDefaults(){return V3}static get defaults(){return hM}static installModule(t){Hh.prototype.__modules__||(Hh.prototype.__modules__=[]);const i=Hh.prototype.__modules__;typeof t=="function"&&i.indexOf(t)<0&&i.push(t)}static use(t){return Array.isArray(t)?(t.forEach(i=>Hh.installModule(i)),Hh):(Hh.installModule(t),Hh)}};Object.keys($3).forEach(e=>{Object.keys($3[e]).forEach(t=>{l_.prototype[t]=$3[e][t]})});l_.use([hZ,pZ]);function _K(e,t,i,r){return e.params.createElements&&Object.keys(r).forEach(o=>{if(!i[o]&&i.auto===!0){let d=ch(e.el,`.${r[o]}`)[0];d||(d=jC("div",r[o]),d.className=r[o],e.el.append(d)),i[o]=d,t[o]=d}}),i}function vK({swiper:e,extendParams:t,on:i,emit:r}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const o=L=>(Array.isArray(L)||(L=[L].filter(O=>!!O)),L);function d(L){let O;return L&&typeof L=="string"&&e.isElement&&(O=e.el.shadowRoot.querySelector(L),O)?O:(L&&(typeof L=="string"&&(O=[...document.querySelectorAll(L)]),e.params.uniqueNavElements&&typeof L=="string"&&O.length>1&&e.el.querySelectorAll(L).length===1&&(O=e.el.querySelector(L))),L&&!O?L:O)}function h(L,O){const G=e.params.navigation;L=o(L),L.forEach(M=>{M&&(M.classList[O?"add":"remove"](...G.disabledClass.split(" ")),M.tagName==="BUTTON"&&(M.disabled=O),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](G.lockClass))})}function s(){const{nextEl:L,prevEl:O}=e.navigation;if(e.params.loop){h(O,!1),h(L,!1);return}h(O,e.isBeginning&&!e.params.rewind),h(L,e.isEnd&&!e.params.rewind)}function v(L){L.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function R(L){L.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function K(){const L=e.params.navigation;if(e.params.navigation=_K(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(L.nextEl||L.prevEl))return;let O=d(L.nextEl),G=d(L.prevEl);Object.assign(e.navigation,{nextEl:O,prevEl:G}),O=o(O),G=o(G);const M=(S,D)=>{S&&S.addEventListener("click",D==="next"?R:v),!e.enabled&&S&&S.classList.add(...L.lockClass.split(" "))};O.forEach(S=>M(S,"next")),G.forEach(S=>M(S,"prev"))}function k(){let{nextEl:L,prevEl:O}=e.navigation;L=o(L),O=o(O);const G=(M,S)=>{M.removeEventListener("click",S==="next"?R:v),M.classList.remove(...e.params.navigation.disabledClass.split(" "))};L.forEach(M=>G(M,"next")),O.forEach(M=>G(M,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?q():(K(),s())}),i("toEdge fromEdge lock unlock",()=>{s()}),i("destroy",()=>{k()}),i("enable disable",()=>{let{nextEl:L,prevEl:O}=e.navigation;L=o(L),O=o(O),[...L,...O].filter(G=>!!G).forEach(G=>G.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),i("click",(L,O)=>{let{nextEl:G,prevEl:M}=e.navigation;G=o(G),M=o(M);const S=O.target;if(e.params.navigation.hideOnClick&&!M.includes(S)&&!G.includes(S)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let D;G.length?D=G[0].classList.contains(e.params.navigation.hiddenClass):M.length&&(D=M[0].classList.contains(e.params.navigation.hiddenClass)),r(D===!0?"navigationShow":"navigationHide"),[...G,...M].filter(H=>!!H).forEach(H=>H.classList.toggle(e.params.navigation.hiddenClass))}});const z=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),K(),s()},q=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),k()};Object.assign(e.navigation,{enable:z,disable:q,update:s,init:K,destroy:k})}function G3(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function xK({swiper:e,extendParams:t,on:i}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let r=null;function o(P){const f=r;f.length!==0&&(f.innerHTML="",f.innerHTML=P)}const d=P=>(Array.isArray(P)||(P=[P].filter(f=>!!f)),P);function h(P=16){const f=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(P).replace(/x/g,f)}function s(P){P=d(P),P.forEach(f=>{f.setAttribute("tabIndex","0")})}function v(P){P=d(P),P.forEach(f=>{f.setAttribute("tabIndex","-1")})}function R(P,f){P=d(P),P.forEach(g=>{g.setAttribute("role",f)})}function K(P,f){P=d(P),P.forEach(g=>{g.setAttribute("aria-roledescription",f)})}function k(P,f){P=d(P),P.forEach(g=>{g.setAttribute("aria-controls",f)})}function z(P,f){P=d(P),P.forEach(g=>{g.setAttribute("aria-label",f)})}function q(P,f){P=d(P),P.forEach(g=>{g.setAttribute("id",f)})}function L(P,f){P=d(P),P.forEach(g=>{g.setAttribute("aria-live",f)})}function O(P){P=d(P),P.forEach(f=>{f.setAttribute("aria-disabled",!0)})}function G(P){P=d(P),P.forEach(f=>{f.setAttribute("aria-disabled",!1)})}function M(P){if(P.keyCode!==13&&P.keyCode!==32)return;const f=e.params.a11y,g=P.target;e.pagination&&e.pagination.el&&(g===e.pagination.el||e.pagination.el.contains(P.target))&&!P.target.matches(G3(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&g===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?o(f.lastSlideMessage):o(f.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&g===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?o(f.firstSlideMessage):o(f.prevSlideMessage)),e.pagination&&g.matches(G3(e.params.pagination.bulletClass))&&g.click())}function S(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:P,prevEl:f}=e.navigation;f&&(e.isBeginning?(O(f),v(f)):(G(f),s(f))),P&&(e.isEnd?(O(P),v(P)):(G(P),s(P)))}function D(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function H(){return D()&&e.params.pagination.clickable}function U(){const P=e.params.a11y;D()&&e.pagination.bullets.forEach(f=>{e.params.pagination.clickable&&(s(f),e.params.pagination.renderBullet||(R(f,"button"),z(f,P.paginationBulletMessage.replace(/\{\{index\}\}/,UT(f)+1)))),f.matches(G3(e.params.pagination.bulletActiveClass))?f.setAttribute("aria-current","true"):f.removeAttribute("aria-current")})}const E=(P,f,g)=>{s(P),P.tagName!=="BUTTON"&&(R(P,"button"),P.addEventListener("keydown",M)),z(P,g),k(P,f)},ie=()=>{e.a11y.clicked=!0},te=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},$=P=>{if(e.a11y.clicked)return;const f=P.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!f||!e.slides.includes(f))return;const g=e.slides.indexOf(f)===e.activeIndex,b=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(f);g||b||P.sourceCapabilities&&P.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(f),0))},V=()=>{const P=e.params.a11y;P.itemRoleDescriptionMessage&&K(e.slides,P.itemRoleDescriptionMessage),P.slideRole&&R(e.slides,P.slideRole);const f=e.slides.length;P.slideLabelMessage&&e.slides.forEach((g,b)=>{const A=e.params.loop?parseInt(g.getAttribute("data-swiper-slide-index"),10):b,X=P.slideLabelMessage.replace(/\{\{index\}\}/,A+1).replace(/\{\{slidesLength\}\}/,f);z(g,X)})},j=()=>{const P=e.params.a11y;e.isElement?e.el.shadowEl.append(r):e.el.append(r);const f=e.el;P.containerRoleDescriptionMessage&&K(f,P.containerRoleDescriptionMessage),P.containerMessage&&z(f,P.containerMessage);const g=e.wrapperEl,b=P.id||g.getAttribute("id")||`swiper-wrapper-${h(16)}`,A=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";q(g,b),L(g,A),V();let{nextEl:X,prevEl:Y}=e.navigation?e.navigation:{};X=d(X),Y=d(Y),X&&X.forEach(J=>E(J,b,P.nextSlideMessage)),Y&&Y.forEach(J=>E(J,b,P.prevSlideMessage)),H()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(ce=>{ce.addEventListener("keydown",M)}),e.el.addEventListener("focus",$,!0),e.el.addEventListener("pointerdown",ie,!0),e.el.addEventListener("pointerup",te,!0)};function x(){r&&r.remove();let{nextEl:P,prevEl:f}=e.navigation?e.navigation:{};P=d(P),f=d(f),P&&P.forEach(g=>g.removeEventListener("keydown",M)),f&&f.forEach(g=>g.removeEventListener("keydown",M)),H()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(b=>{b.removeEventListener("keydown",M)}),e.el.removeEventListener("focus",$,!0),e.el.removeEventListener("pointerdown",ie,!0),e.el.removeEventListener("pointerup",te,!0)}i("beforeInit",()=>{r=jC("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&j()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&V()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&S()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&U()}),i("destroy",()=>{e.params.a11y.enabled&&x()})}function K0(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function af(e,t){const i=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>i.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:K0(t[r])&&K0(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:af(e[r],t[r]):e[r]=t[r]})}function D6(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function I6(e={}){return e.pagination&&typeof e.pagination.el>"u"}function L6(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function O6(e=""){const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),i=[];return t.forEach(r=>{i.indexOf(r)<0&&i.push(r)}),i.join(" ")}function bK(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const R6=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function pM(e={},t=!0){const i={on:{}},r={},o={};af(i,l_.defaults),af(i,l_.extendedDefaults),i._emitClasses=!0,i.init=!1;const d={},h=R6.map(v=>v.replace(/_/,"")),s=Object.assign({},e);return Object.keys(s).forEach(v=>{typeof e[v]>"u"||(h.indexOf(v)>=0?K0(e[v])?(i[v]={},o[v]={},af(i[v],e[v]),af(o[v],e[v])):(i[v]=e[v],o[v]=e[v]):v.search(/on[A-Z]/)===0&&typeof e[v]=="function"?t?r[`${v[2].toLowerCase()}${v.substr(3)}`]=e[v]:i.on[`${v[2].toLowerCase()}${v.substr(3)}`]=e[v]:d[v]=e[v])}),["navigation","pagination","scrollbar"].forEach(v=>{i[v]===!0&&(i[v]={}),i[v]===!1&&delete i[v]}),{params:i,passedParams:o,rest:d,events:r}}function wK({el:e,nextEl:t,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:d},h){D6(h)&&t&&i&&(d.params.navigation.nextEl=t,d.originalParams.navigation.nextEl=t,d.params.navigation.prevEl=i,d.originalParams.navigation.prevEl=i),I6(h)&&r&&(d.params.pagination.el=r,d.originalParams.pagination.el=r),L6(h)&&o&&(d.params.scrollbar.el=o,d.originalParams.scrollbar.el=o),d.init(e)}function TK(e,t,i,r,o){const d=[];if(!t)return d;const h=v=>{d.indexOf(v)<0&&d.push(v)};if(i&&r){const v=r.map(o),R=i.map(o);v.join("")!==R.join("")&&h("children"),r.length!==i.length&&h("children")}return R6.filter(v=>v[0]==="_").map(v=>v.replace(/_/,"")).forEach(v=>{if(v in e&&v in t)if(K0(e[v])&&K0(t[v])){const R=Object.keys(e[v]),K=Object.keys(t[v]);R.length!==K.length?h(v):(R.forEach(k=>{e[v][k]!==t[v][k]&&h(v)}),K.forEach(k=>{e[v][k]!==t[v][k]&&h(v)}))}else e[v]!==t[v]&&h(v)}),d}function H3(e,t,i){e===void 0&&(e={});const r=[],o={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},d=(h,s)=>{Array.isArray(h)&&h.forEach(v=>{const R=typeof v.type=="symbol";s==="default"&&(s="container-end"),R&&v.children?d(v.children,s):v.type&&(v.type.name==="SwiperSlide"||v.type.name==="AsyncComponentWrapper")?r.push(v):o[s]&&o[s].push(v)})};return Object.keys(e).forEach(h=>{if(typeof e[h]!="function")return;const s=e[h]();d(s,h)}),i.value=t.value,t.value=r,{slides:r,slots:o}}function SK({swiper:e,slides:t,passedParams:i,changedParams:r,nextEl:o,prevEl:d,scrollbarEl:h,paginationEl:s}){const v=r.filter(te=>te!=="children"&&te!=="direction"&&te!=="wrapperClass"),{params:R,pagination:K,navigation:k,scrollbar:z,virtual:q,thumbs:L}=e;let O,G,M,S,D,H,U,E;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&R.thumbs&&!R.thumbs.swiper&&(O=!0),r.includes("controller")&&i.controller&&i.controller.control&&R.controller&&!R.controller.control&&(G=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||s)&&(R.pagination||R.pagination===!1)&&K&&!K.el&&(M=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||h)&&(R.scrollbar||R.scrollbar===!1)&&z&&!z.el&&(S=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||d)&&(i.navigation.nextEl||o)&&(R.navigation||R.navigation===!1)&&k&&!k.prevEl&&!k.nextEl&&(D=!0);const ie=te=>{e[te]&&(e[te].destroy(),te==="navigation"?(e.isElement&&(e[te].prevEl.remove(),e[te].nextEl.remove()),R[te].prevEl=void 0,R[te].nextEl=void 0,e[te].prevEl=void 0,e[te].nextEl=void 0):(e.isElement&&e[te].el.remove(),R[te].el=void 0,e[te].el=void 0))};r.includes("loop")&&e.isElement&&(R.loop&&!i.loop?H=!0:!R.loop&&i.loop?U=!0:E=!0),v.forEach(te=>{if(K0(R[te])&&K0(i[te]))af(R[te],i[te]),(te==="navigation"||te==="pagination"||te==="scrollbar")&&"enabled"in i[te]&&!i[te].enabled&&ie(te);else{const $=i[te];($===!0||$===!1)&&(te==="navigation"||te==="pagination"||te==="scrollbar")?$===!1&&ie(te):R[te]=i[te]}}),v.includes("controller")&&!G&&e.controller&&e.controller.control&&R.controller&&R.controller.control&&(e.controller.control=R.controller.control),r.includes("children")&&t&&q&&R.virtual.enabled&&(q.slides=t,q.update(!0)),r.includes("children")&&t&&R.loop&&(E=!0),O&&L.init()&&L.update(!0),G&&(e.controller.control=R.controller.control),M&&(e.isElement&&(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(s)),s&&(R.pagination.el=s),K.init(),K.render(),K.update()),S&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(h)),h&&(R.scrollbar.el=h),z.init(),z.updateSize(),z.setTranslate()),D&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(o)),(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(d))),o&&(R.navigation.nextEl=o),d&&(R.navigation.prevEl=d),k.init(),k.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(H||E)&&e.loopDestroy(),(U||E)&&e.loopCreate(),e.update()}function CK(e,t,i){if(!i)return null;const r=K=>{let k=K;return K<0?k=t.length+K:k>=t.length&&(k=k-t.length),k},o=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${i.offset}px`}:{top:`${i.offset}px`},{from:d,to:h}=i,s=e.value.params.loop?-t.length:0,v=e.value.params.loop?t.length*2:t.length,R=[];for(let K=s;K<v;K+=1)K>=d&&K<=h&&R.push(t[r(K)]);return R.map(K=>(K.props||(K.props={}),K.props.style||(K.props.style={}),K.props.swiperRef=e,K.props.style=o,Uc(K.type,{...K.props},K.children)))}const EK=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},MK={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:i,emit:r}=t;const{tag:o,wrapperTag:d}=e,h=Ki("swiper"),s=Ki(null),v=Ki(!1),R=Ki(!1),K=Ki(null),k=Ki(null),z=Ki(null),q={value:[]},L={value:[]},O=Ki(null),G=Ki(null),M=Ki(null),S=Ki(null),{params:D,passedParams:H}=pM(e,!1);H3(i,q,L),z.value=H,L.value=q.value;const U=()=>{H3(i,q,L),v.value=!0};D.onAny=function(te){for(var $=arguments.length,V=new Array($>1?$-1:0),j=1;j<$;j++)V[j-1]=arguments[j];r(te,...V)},Object.assign(D.on,{_beforeBreakpoint:U,_containerClasses(te,$){h.value=$}});const E={...D};if(delete E.wrapperClass,k.value=new l_(E),k.value.virtual&&k.value.params.virtual.enabled){k.value.virtual.slides=q.value;const te={cache:!1,slides:q.value,renderExternal:$=>{s.value=$},renderExternalUpdate:!1};af(k.value.params.virtual,te),af(k.value.originalParams.virtual,te)}em(()=>{!R.value&&k.value&&(k.value.emitSlidesClasses(),R.value=!0);const{passedParams:te}=pM(e,!1),$=TK(te,z.value,q.value,L.value,V=>V.props&&V.props.key);z.value=te,($.length||v.value)&&k.value&&!k.value.destroyed&&SK({swiper:k.value,slides:q.value,passedParams:te,changedParams:$,nextEl:O.value,prevEl:G.value,scrollbarEl:S.value,paginationEl:M.value}),v.value=!1}),Gg("swiper",k),Xs(s,()=>{Fa(()=>{EK(k.value)})}),Go(()=>{K.value&&(wK({el:K.value,nextEl:O.value,prevEl:G.value,paginationEl:M.value,scrollbarEl:S.value,swiper:k.value},D),r("swiper",k.value))}),tm(()=>{k.value&&!k.value.destroyed&&k.value.destroy(!0,!1)});function ie(te){return D.virtual?CK(k,te,s.value):(te.forEach(($,V)=>{$.props||($.props={}),$.props.swiperRef=k,$.props.swiperSlideIndex=V}),te)}return()=>{const{slides:te,slots:$}=H3(i,q,L);return Uc(o,{ref:K,class:O6(h.value)},[$["container-start"],Uc(d,{class:bK(D.wrapperClass)},[$["wrapper-start"],ie(te),$["wrapper-end"]]),D6(e)&&[Uc("div",{ref:G,class:"swiper-button-prev"}),Uc("div",{ref:O,class:"swiper-button-next"})],L6(e)&&Uc("div",{ref:S,class:"swiper-scrollbar"}),I6(e)&&Uc("div",{ref:M,class:"swiper-pagination"}),$["container-end"]])}}},kK={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:i}=t,r=!1;const{swiperRef:o}=e,d=Ki(null),h=Ki("swiper-slide"),s=Ki(!1);function v(k,z,q){z===d.value&&(h.value=q)}Go(()=>{!o||!o.value||(o.value.on("_slideClass",v),r=!0)}),Hg(()=>{r||!o||!o.value||(o.value.on("_slideClass",v),r=!0)}),em(()=>{!d.value||!o||!o.value||(typeof e.swiperSlideIndex<"u"&&(d.value.swiperSlideIndex=e.swiperSlideIndex),o.value.destroyed&&h.value!=="swiper-slide"&&(h.value="swiper-slide"))}),tm(()=>{!o||!o.value||o.value.off("_slideClass",v)});const R=un(()=>({isActive:h.value.indexOf("swiper-slide-active")>=0,isVisible:h.value.indexOf("swiper-slide-visible")>=0,isPrev:h.value.indexOf("swiper-slide-prev")>=0,isNext:h.value.indexOf("swiper-slide-next")>=0}));Gg("swiperSlide",R);const K=()=>{s.value=!0};return()=>Uc(e.tag,{class:O6(`${h.value}`),ref:d,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&o&&o.value&&o.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:K},e.zoom?Uc("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[i.default&&i.default(R.value),e.lazy&&!s.value&&Uc("div",{class:"swiper-lazy-preloader"})]):[i.default&&i.default(R.value),e.lazy&&!s.value&&Uc("div",{class:"swiper-lazy-preloader"})])}},AK={props:{fleet:Object,active:String},components:{Swiper:MK,SwiperSlide:kK},setup(){return{auto:!0,onSwiper:i=>{},onSlideChange:()=>{},modules:[vK,xK]}}},PK={class:"swiper-button-prev"},DK=["src"],IK=["href"],LK=["href"],OK=["href"],RK=["href"],BK=["href"],zK=["href"],NK=["href"],FK={class:"swiper-button-next"},jK=["src"];function UK(e,t,i,r,o,d){const h=ur("swiper-slide"),s=ur("swiper");return dt(),Dr(s,{"slides-per-view":"auto","space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:r.onSwiper,onSlideChange:r.onSlideChange},{default:Hn(()=>[Ne("div",PK,[Ne("img",{src:"/img/icons/chevron-prev.png",alt:""},null,8,DK)]),an(h,null,{default:Hn(()=>[Ne("a",{href:`/fleet/${i.fleet.id}`,class:Ln(["submenu-item",{active:i.active=="info"}])},"NAVIGASI",10,IK)]),_:1}),an(h,null,{default:Hn(()=>[Ne("a",{href:`/fleet/${i.fleet.id}/engine`,class:Ln(["submenu-item",{active:i.active=="engine"}])},"MAIN ENGINE",10,LK)]),_:1}),an(h,null,{default:Hn(()=>[Ne("a",{href:`/fleet/${i.fleet.id}/pumps`,class:Ln(["submenu-item",{active:i.active=="pumps"}])},"PUMPS",10,OK)]),_:1}),an(h,null,{default:Hn(()=>[Ne("a",{href:`/fleet/${i.fleet.id}/cargo`,class:Ln(["submenu-item",{active:i.active=="cargo"}])},"CARGO TANK",10,RK)]),_:1}),an(h,null,{default:Hn(()=>[Ne("a",{href:`/fleet/${i.fleet.id}/bunker`,class:Ln(["submenu-item",{active:i.active=="bunker"}])},"BUNKER TANK",10,BK)]),_:1}),an(h,null,{default:Hn(()=>[Ne("a",{href:`/fleet/${i.fleet.id}/balast`,class:Ln(["submenu-item",{active:i.active=="balast"}])},"BALAST TANK",10,zK)]),_:1}),an(h,null,{default:Hn(()=>[Ne("a",{href:`/fleet/${i.fleet.id}/alarms`,class:Ln(["submenu-item",{active:i.active=="alarms"}])},"ALARM",10,NK)]),_:1}),Ne("div",FK,[Ne("img",{src:"/img/icons/chevron-next.png",alt:""},null,8,jK)])]),_:1},8,["navigation","onSwiper","onSlideChange"])}const $K=Cr(AK,[["render",UK]]);var B6={exports:{}},W3={exports:{}},fM;function z6(){return fM||(fM=1,function(e){(function(t,i){e.exports?(i.default=i,e.exports=t.document?i(t):i):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=i(t))})(typeof window<"u"?window:za,function(t){function i(o,d,h,s){o.hasOwnProperty(d)||(o[d]=s.apply(null,h),typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:d,module:o[d]}})))}var r={};return i(r,"Core/Globals.js",[],function(){var o;return function(d){d.SVG_NS="http://www.w3.org/2000/svg",d.product="Highcharts",d.version="11.0.1",d.win=typeof t<"u"?t:{},d.doc=d.win.document,d.svg=d.doc&&d.doc.createElementNS&&!!d.doc.createElementNS(d.SVG_NS,"svg").createSVGRect,d.userAgent=d.win.navigator&&d.win.navigator.userAgent||"",d.isChrome=d.userAgent.indexOf("Chrome")!==-1,d.isFirefox=d.userAgent.indexOf("Firefox")!==-1,d.isMS=/(edge|msie|trident)/i.test(d.userAgent)&&!d.win.opera,d.isSafari=!d.isChrome&&d.userAgent.indexOf("Safari")!==-1,d.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(d.userAgent),d.isWebKit=d.userAgent.indexOf("AppleWebKit")!==-1,d.deg2rad=2*Math.PI/360,d.hasBidiBug=d.isFirefox&&4>parseInt(d.userAgent.split("Firefox/")[1],10),d.hasTouch=!!d.win.TouchEvent,d.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],d.noop=function(){},d.supportsPassiveEvents=function(){let h=!1;if(!d.isMS){const s=Object.defineProperty({},"passive",{get:function(){h=!0}});d.win.addEventListener&&d.win.removeEventListener&&(d.win.addEventListener("testPassive",d.noop,s),d.win.removeEventListener("testPassive",d.noop,s))}return h}(),d.charts=[],d.dateFormats={},d.seriesTypes={},d.symbolSizes={},d.chartCount=0}(o||(o={})),o}),i(r,"Core/Utilities.js",[r["Core/Globals.js"]],function(o){function d(g,b,A,X){const Y=b?"Highcharts error":"Highcharts warning";g===32&&(g=`${Y}: Deprecated member`);const J=q(g);let ce=J?`${Y} #${g}: www.highcharts.com/errors/${g}/`:g.toString();if(typeof X<"u"){let pe="";J&&(ce+="?"),E(X,function(fe,F){pe+=`
 - ${F}: ${fe}`,J&&(ce+=encodeURI(F)+"="+encodeURI(fe))}),ce+=pe}te(o,"displayError",{chart:A,code:g,message:ce,params:X},function(){if(b)throw Error(ce);j.console&&d.messages.indexOf(ce)===-1&&console.warn(ce)}),d.messages.push(ce)}function h(g,b){const A={};return E(g,function(X,Y){K(g[Y],!0)&&!g.nodeType&&b[Y]?(X=h(g[Y],b[Y]),Object.keys(X).length&&(A[Y]=X)):(K(g[Y])||g[Y]!==b[Y]||Y in g&&!(Y in b))&&(A[Y]=g[Y])}),A}function s(g,b){return parseInt(g,b||10)}function v(g){return typeof g=="string"}function R(g){return g=Object.prototype.toString.call(g),g==="[object Array]"||g==="[object Array Iterator]"}function K(g,b){return!!g&&typeof g=="object"&&(!b||!R(g))}function k(g){return K(g)&&typeof g.nodeType=="number"}function z(g){const b=g&&g.constructor;return!(!K(g,!0)||k(g)||!b||!b.name||b.name==="Object")}function q(g){return typeof g=="number"&&!isNaN(g)&&1/0>g&&-1/0<g}function L(g){return typeof g<"u"&&g!==null}function O(g,b,A){const X=v(b)&&!L(A);let Y;const J=(ce,pe)=>{L(ce)?g.setAttribute(pe,ce):X?(Y=g.getAttribute(pe))||pe!=="class"||(Y=g.getAttribute(pe+"Name")):g.removeAttribute(pe)};return v(b)?J(A,b):E(b,J),Y}function G(g,b){let A;g||(g={});for(A in b)g[A]=b[A];return g}function M(){const g=arguments,b=g.length;for(let A=0;A<b;A++){const X=g[A];if(typeof X<"u"&&X!==null)return X}}function S(g,b){o.isMS&&!o.svg&&b&&L(b.opacity)&&(b.filter=`alpha(opacity=${100*b.opacity})`),G(g.style,b)}function D(g){return Math.pow(10,Math.floor(Math.log(g)/Math.LN10))}function H(g,b){return 1e14<g?g:parseFloat(g.toPrecision(b||14))}function U(g,b,A){let X;return b==="width"?(b=Math.min(g.offsetWidth,g.scrollWidth),A=g.getBoundingClientRect&&g.getBoundingClientRect().width,A<b&&A>=b-1&&(b=Math.floor(A)),Math.max(0,b-(U(g,"padding-left",!0)||0)-(U(g,"padding-right",!0)||0))):b==="height"?Math.max(0,Math.min(g.offsetHeight,g.scrollHeight)-(U(g,"padding-top",!0)||0)-(U(g,"padding-bottom",!0)||0)):((g=j.getComputedStyle(g,void 0))&&(X=g.getPropertyValue(b),M(A,b!=="opacity")&&(X=s(X))),X)}function E(g,b,A){for(const X in g)Object.hasOwnProperty.call(g,X)&&b.call(A||g[X],g[X],X,g)}function ie(g,b,A){function X(ce,pe){const fe=g.removeEventListener;fe&&fe.call(g,ce,pe,!1)}function Y(ce){let pe,fe;g.nodeName&&(b?(pe={},pe[b]=!0):pe=ce,E(pe,function(F,Q){if(ce[Q])for(fe=ce[Q].length;fe--;)X(Q,ce[Q][fe].fn)}))}var J=typeof g=="function"&&g.prototype||g;if(Object.hasOwnProperty.call(J,"hcEvents")){const ce=J.hcEvents;b?(J=ce[b]||[],A?(ce[b]=J.filter(function(pe){return A!==pe.fn}),X(b,A)):(Y(ce),ce[b]=[])):(Y(ce),delete J.hcEvents)}}function te(g,b,A,X){if(A=A||{},V.createEvent&&(g.dispatchEvent||g.fireEvent&&g!==o)){var Y=V.createEvent("Events");Y.initEvent(b,!0,!0),A=G(Y,A),g.dispatchEvent?g.dispatchEvent(A):g.fireEvent(b,A)}else if(g.hcEvents){A.target||G(A,{preventDefault:function(){A.defaultPrevented=!0},target:g,type:b}),Y=[];let J=g,ce=!1;for(;J.hcEvents;)Object.hasOwnProperty.call(J,"hcEvents")&&J.hcEvents[b]&&(Y.length&&(ce=!0),Y.unshift.apply(Y,J.hcEvents[b])),J=Object.getPrototypeOf(J);ce&&Y.sort((pe,fe)=>pe.order-fe.order),Y.forEach(pe=>{pe.fn.call(g,A)===!1&&A.preventDefault()})}X&&!A.defaultPrevented&&X.call(g,A)}const{charts:$,doc:V,win:j}=o;(d||(d={})).messages=[],Math.easeInOutSine=function(g){return-.5*(Math.cos(Math.PI*g)-1)};var x=Array.prototype.find?function(g,b){return g.find(b)}:function(g,b){let A;const X=g.length;for(A=0;A<X;A++)if(b(g[A],A))return g[A]};E({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(g,b){o[b]=function(A){return d(32,!1,void 0,{[`Highcharts.${b}`]:`use Array.${g}`}),Array.prototype[g].apply(A,[].slice.call(arguments,1))}});let P;const f=function(){const g=Math.random().toString(36).substring(2,9)+"-";let b=0;return function(){return"highcharts-"+(P?"":g)+b++}}();return j.jQuery&&(j.jQuery.fn.highcharts=function(){const g=[].slice.call(arguments);if(this[0])return g[0]?(new o[v(g[0])?g.shift():"Chart"](this[0],g[0],g[1]),this):$[O(this[0],"data-highcharts-chart")]}),x={addEvent:function(g,b,A,X={}){var Y=typeof g=="function"&&g.prototype||g;Object.hasOwnProperty.call(Y,"hcEvents")||(Y.hcEvents={}),Y=Y.hcEvents,o.Point&&g instanceof o.Point&&g.series&&g.series.chart&&(g.series.chart.runTrackerClick=!0);const J=g.addEventListener;return J&&J.call(g,b,A,o.supportsPassiveEvents?{passive:X.passive===void 0?b.indexOf("touch")!==-1:X.passive,capture:!1}:!1),Y[b]||(Y[b]=[]),Y[b].push({fn:A,order:typeof X.order=="number"?X.order:1/0}),Y[b].sort((ce,pe)=>ce.order-pe.order),function(){ie(g,b,A)}},arrayMax:function(g){let b=g.length,A=g[0];for(;b--;)g[b]>A&&(A=g[b]);return A},arrayMin:function(g){let b=g.length,A=g[0];for(;b--;)g[b]<A&&(A=g[b]);return A},attr:O,clamp:function(g,b,A){return g>b?g<A?g:A:b},cleanRecursively:h,clearTimeout:function(g){L(g)&&clearTimeout(g)},correctFloat:H,createElement:function(g,b,A,X,Y){return g=V.createElement(g),b&&G(g,b),Y&&S(g,{padding:"0",border:"none",margin:"0"}),A&&S(g,A),X&&X.appendChild(g),g},css:S,defined:L,destroyObjectProperties:function(g,b){E(g,function(A,X){A&&A!==b&&A.destroy&&A.destroy(),delete g[X]})},discardElement:function(g){g&&g.parentElement&&g.parentElement.removeChild(g)},erase:function(g,b){let A=g.length;for(;A--;)if(g[A]===b){g.splice(A,1);break}},error:d,extend:G,extendClass:function(g,b){const A=function(){};return A.prototype=new g,G(A.prototype,b),A},find:x,fireEvent:te,getMagnitude:D,getNestedProperty:function(g,b){for(g=g.split(".");g.length&&L(b);){const A=g.shift();if(typeof A>"u"||A==="__proto__"||(b=b[A],!L(b)||typeof b=="function"||typeof b.nodeType=="number"||b===j))return}return b},getStyle:U,inArray:function(g,b,A){return d(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),b.indexOf(g,A)},isArray:R,isClass:z,isDOMElement:k,isFunction:function(g){return typeof g=="function"},isNumber:q,isObject:K,isString:v,keys:function(g){return d(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(g)},merge:function(){let g,b=arguments,A={};const X=function(J,ce){return typeof J!="object"&&(J={}),E(ce,function(pe,fe){fe!=="__proto__"&&fe!=="constructor"&&(!K(pe,!0)||z(pe)||k(pe)?J[fe]=ce[fe]:J[fe]=X(J[fe]||{},pe))}),J};b[0]===!0&&(A=b[1],b=Array.prototype.slice.call(b,2));const Y=b.length;for(g=0;g<Y;g++)A=X(A,b[g]);return A},normalizeTickInterval:function(g,b,A,X,Y){let J=g;A=M(A,D(g));const ce=g/A;for(b||(b=Y?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],X===!1&&(A===1?b=b.filter(function(pe){return pe%1===0}):.1>=A&&(b=[1/A]))),X=0;X<b.length&&(J=b[X],!(Y&&J*A>=g||!Y&&ce<=(b[X]+(b[X+1]||b[X]))/2));X++);return J=H(J*A,-Math.round(Math.log(.001)/Math.LN10))},objectEach:E,offset:function(g){const b=V.documentElement;return g=g.parentElement||g.parentNode?g.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:g.top+(j.pageYOffset||b.scrollTop)-(b.clientTop||0),left:g.left+(j.pageXOffset||b.scrollLeft)-(b.clientLeft||0),width:g.width,height:g.height}},pad:function(g,b,A){return Array((b||2)+1-String(g).replace("-","").length).join(A||"0")+g},pick:M,pInt:s,pushUnique:function(g,b){return 0>g.indexOf(b)&&!!g.push(b)},relativeLength:function(g,b,A){return/%$/.test(g)?b*parseFloat(g)/100+(A||0):parseFloat(g)},removeEvent:ie,splat:function(g){return R(g)?g:[g]},stableSort:function(g,b){const A=g.length;let X,Y;for(Y=0;Y<A;Y++)g[Y].safeI=Y;for(g.sort(function(J,ce){return X=b(J,ce),X===0?J.safeI-ce.safeI:X}),Y=0;Y<A;Y++)delete g[Y].safeI},syncTimeout:function(g,b,A){return 0<b?setTimeout(g,b,A):(g.call(0,A),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:f,useSerialIds:function(g){return P=M(g,P)},wrap:function(g,b,A){const X=g[b];g[b]=function(){const Y=arguments,J=this;return A.apply(this,[function(){return X.apply(J,arguments.length?arguments:Y)}].concat([].slice.call(arguments)))}}},x}),i(r,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),i(r,"Core/Color/Color.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d){const{isNumber:h,merge:s,pInt:v}=d;class R{static parse(k){return k?new R(k):R.None}constructor(k){this.rgba=[NaN,NaN,NaN,NaN],this.input=k;const z=o.Color;if(z&&z!==R)return new z(k);this.init(k)}init(k){let z,q;if(typeof k=="object"&&typeof k.stops<"u")this.stops=k.stops.map(G=>new R(G[1]));else if(typeof k=="string"){if(this.input=k=R.names[k.toLowerCase()]||k,k.charAt(0)==="#"){var L=k.length,O=parseInt(k.substr(1),16);L===7?z=[(O&16711680)>>16,(O&65280)>>8,O&255,1]:L===4&&(z=[(O&3840)>>4|(O&3840)>>8,(O&240)>>4|O&240,(O&15)<<4|O&15,1])}if(!z)for(O=R.parsers.length;O--&&!z;)q=R.parsers[O],(L=q.regex.exec(k))&&(z=q.parse(L))}z&&(this.rgba=z)}get(k){const z=this.input,q=this.rgba;if(typeof z=="object"&&typeof this.stops<"u"){const L=s(z);return L.stops=[].slice.call(L.stops),this.stops.forEach((O,G)=>{L.stops[G]=[L.stops[G][0],O.get(k)]}),L}return q&&h(q[0])?k==="rgb"||!k&&q[3]===1?"rgb("+q[0]+","+q[1]+","+q[2]+")":k==="a"?`${q[3]}`:"rgba("+q.join(",")+")":z}brighten(k){const z=this.rgba;if(this.stops)this.stops.forEach(function(q){q.brighten(k)});else if(h(k)&&k!==0)for(let q=0;3>q;q++)z[q]+=v(255*k),0>z[q]&&(z[q]=0),255<z[q]&&(z[q]=255);return this}setOpacity(k){return this.rgba[3]=k,this}tweenTo(k,z){const q=this.rgba,L=k.rgba;return!h(q[0])||!h(L[0])?k.input||"none":(k=L[3]!==1||q[3]!==1,(k?"rgba(":"rgb(")+Math.round(L[0]+(q[0]-L[0])*(1-z))+","+Math.round(L[1]+(q[1]-L[1])*(1-z))+","+Math.round(L[2]+(q[2]-L[2])*(1-z))+(k?","+(L[3]+(q[3]-L[3])*(1-z)):"")+")")}}return R.names={white:"#ffffff",black:"#000000"},R.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(K){return[v(K[1]),v(K[2]),v(K[3]),parseFloat(K[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(K){return[v(K[1]),v(K[2]),v(K[3]),1]}}],R.None=new R(""),R}),i(r,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),i(r,"Core/Time.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d){const{win:h}=o,{defined:s,error:v,extend:R,isObject:K,merge:k,objectEach:z,pad:q,pick:L,splat:O,timeUnits:G}=d,M=o.isSafari&&h.Intl&&h.Intl.DateTimeFormat.prototype.formatRange,S=o.isSafari&&h.Intl&&!h.Intl.DateTimeFormat.prototype.formatRange;class D{constructor(U){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=h.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(U)}get(U,E){if(this.variableTimezone||this.timezoneOffset){const ie=E.getTime(),te=ie-this.getTimezoneOffset(E);return E.setTime(te),U=E["getUTC"+U](),E.setTime(ie),U}return this.useUTC?E["getUTC"+U]():E["get"+U]()}set(U,E,ie){if(this.variableTimezone||this.timezoneOffset){if(U==="Milliseconds"||U==="Seconds"||U==="Minutes"&&this.getTimezoneOffset(E)%36e5===0)return E["setUTC"+U](ie);var te=this.getTimezoneOffset(E);return te=E.getTime()-te,E.setTime(te),E["setUTC"+U](ie),U=this.getTimezoneOffset(E),te=E.getTime()+U,E.setTime(te)}return this.useUTC||M&&U==="FullYear"?E["setUTC"+U](ie):E["set"+U](ie)}update(U={}){const E=L(U.useUTC,!0);this.options=U=k(!0,this.options,U),this.Date=U.Date||h.Date||Date,this.timezoneOffset=(this.useUTC=E)&&U.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=E&&!(!U.getTimezoneOffset&&!U.timezone)}makeTime(U,E,ie,te,$,V){let j,x,P;return this.useUTC?(j=this.Date.UTC.apply(0,arguments),x=this.getTimezoneOffset(j),j+=x,P=this.getTimezoneOffset(j),x!==P?j+=P-x:x-36e5!==this.getTimezoneOffset(j-36e5)||S||(j-=36e5)):j=new this.Date(U,E,L(ie,1),L(te,0),L($,0),L(V,0)).getTime(),j}timezoneOffsetFunction(){const U=this,E=this.options,ie=E.getTimezoneOffset,te=E.moment||h.moment;if(!this.useUTC)return function($){return 6e4*new Date($.toString()).getTimezoneOffset()};if(E.timezone){if(te)return function($){return 6e4*-te.tz($,E.timezone).utcOffset()};v(25)}return this.useUTC&&ie?function($){return 6e4*ie($.valueOf())}:function(){return 6e4*(U.timezoneOffset||0)}}dateFormat(U,E,ie){if(!s(E)||isNaN(E))return o.defaultOptions.lang&&o.defaultOptions.lang.invalidDate||"";U=L(U,"%Y-%m-%d %H:%M:%S");const te=this;var $=new this.Date(E);const V=this.get("Hours",$),j=this.get("Day",$),x=this.get("Date",$),P=this.get("Month",$),f=this.get("FullYear",$),g=o.defaultOptions.lang,b=g&&g.weekdays,A=g&&g.shortWeekdays;return $=R({a:A?A[j]:b[j].substr(0,3),A:b[j],d:q(x),e:q(x,2," "),w:j,b:g.shortMonths[P],B:g.months[P],m:q(P+1),o:P+1,y:f.toString().substr(2,2),Y:f,H:q(V),k:V,I:q(V%12||12),l:V%12||12,M:q(this.get("Minutes",$)),p:12>V?"AM":"PM",P:12>V?"am":"pm",S:q($.getSeconds()),L:q(Math.floor(E%1e3),3)},o.dateFormats),z($,function(X,Y){for(;U.indexOf("%"+Y)!==-1;)U=U.replace("%"+Y,typeof X=="function"?X.call(te,E):X)}),ie?U.substr(0,1).toUpperCase()+U.substr(1):U}resolveDTLFormat(U){return K(U,!0)?U:(U=O(U),{main:U[0],from:U[1],to:U[2]})}getTimeTicks(U,E,ie,te){const $=this,V=[],j={};var x=new $.Date(E);const P=U.unitRange,f=U.count||1;let g;if(te=L(te,1),s(E)){if($.set("Milliseconds",x,P>=G.second?0:f*Math.floor($.get("Milliseconds",x)/f)),P>=G.second&&$.set("Seconds",x,P>=G.minute?0:f*Math.floor($.get("Seconds",x)/f)),P>=G.minute&&$.set("Minutes",x,P>=G.hour?0:f*Math.floor($.get("Minutes",x)/f)),P>=G.hour&&$.set("Hours",x,P>=G.day?0:f*Math.floor($.get("Hours",x)/f)),P>=G.day&&$.set("Date",x,P>=G.month?1:Math.max(1,f*Math.floor($.get("Date",x)/f))),P>=G.month){$.set("Month",x,P>=G.year?0:f*Math.floor($.get("Month",x)/f));var b=$.get("FullYear",x)}P>=G.year&&$.set("FullYear",x,b-b%f),P===G.week&&(b=$.get("Day",x),$.set("Date",x,$.get("Date",x)-b+te+(b<te?-7:0))),b=$.get("FullYear",x),te=$.get("Month",x);const A=$.get("Date",x),X=$.get("Hours",x);for(E=x.getTime(),!$.variableTimezone&&$.useUTC||!s(ie)||(g=ie-E>4*G.month||$.getTimezoneOffset(E)!==$.getTimezoneOffset(ie)),E=x.getTime(),x=1;E<ie;)V.push(E),E=P===G.year?$.makeTime(b+x*f,0):P===G.month?$.makeTime(b,te+x*f):!g||P!==G.day&&P!==G.week?g&&P===G.hour&&1<f?$.makeTime(b,te,A,X+x*f):E+P*f:$.makeTime(b,te,A+x*f*(P===G.day?1:7)),x++;V.push(E),P<=G.hour&&1e4>V.length&&V.forEach(function(Y){Y%18e5===0&&$.dateFormat("%H%M%S%L",Y)==="000000000"&&(j[Y]="day")})}return V.info=R(U,{higherRanks:j,totalRange:P*f}),V}getDateFormat(U,E,ie,te){const $=this.dateFormat("%m-%d %H:%M:%S.%L",E),V={millisecond:15,second:12,minute:9,hour:6,day:3};let j,x="millisecond";for(j in G){if(U===G.week&&+this.dateFormat("%w",E)===ie&&$.substr(6)==="00:00:00.000"){j="week";break}if(G[j]>U){j=x;break}if(V[j]&&$.substr(V[j])!=="01-01 00:00:00.000".substr(V[j]))break;j!=="week"&&(x=j)}return this.resolveDTLFormat(te[j]).main}}return D}),i(r,"Core/Defaults.js",[r["Core/Chart/ChartDefaults.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Color/Palettes.js"],r["Core/Time.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R){const{isTouchDevice:K,svg:k}=h,{merge:z}=R,q={colors:s.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:o,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:k,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:K?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};q.chart.styledMode=!1;const L=new v(q.time);return o={defaultOptions:q,defaultTime:L,getOptions:function(){return q},setOptions:function(O){return z(!0,q,O),(O.time||O.global)&&(h.time?h.time.update(z(q.global,q.time,O.global,O.time)):h.time=L),q}},o}),i(r,"Core/Animation/Fx.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{parse:s}=o,{win:v}=d,{isNumber:R,objectEach:K}=h;class k{constructor(q,L,O){this.pos=NaN,this.options=L,this.elem=q,this.prop=O}dSetter(){var q=this.paths;const L=q&&q[0];q=q&&q[1];const O=this.now||0;let G=[];if(O!==1&&L&&q)if(L.length===q.length&&1>O)for(let M=0;M<q.length;M++){const S=L[M],D=q[M],H=[];for(let U=0;U<D.length;U++){const E=S[U],ie=D[U];R(E)&&R(ie)&&(D[0]!=="A"||U!==4&&U!==5)?H[U]=E+O*(ie-E):H[U]=ie}G.push(H)}else G=q;else G=this.toD||[];this.elem.attr("d",G,void 0,!0)}update(){const q=this.elem,L=this.prop,O=this.now,G=this.options.step;this[L+"Setter"]?this[L+"Setter"]():q.attr?q.element&&q.attr(L,O,null,!0):q.style[L]=O+this.unit,G&&G.call(q,O,this)}run(q,L,O){const G=this,M=G.options,S=function(U){return S.stopped?!1:G.step(U)},D=v.requestAnimationFrame||function(U){setTimeout(U,13)},H=function(){for(let U=0;U<k.timers.length;U++)k.timers[U]()||k.timers.splice(U--,1);k.timers.length&&D(H)};q!==L||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=q,this.end=L,this.unit=O,this.now=this.start,this.pos=0,S.elem=this.elem,S.prop=this.prop,S()&&k.timers.push(S)===1&&D(H)):(delete M.curAnim[this.prop],M.complete&&Object.keys(M.curAnim).length===0&&M.complete.call(this.elem))}step(q){const L=+new Date,O=this.options,G=this.elem,M=O.complete,S=O.duration,D=O.curAnim;let H;return G.attr&&!G.element?q=!1:q||L>=S+this.startTime?(this.now=this.end,this.pos=1,this.update(),H=D[this.prop]=!0,K(D,function(U){U!==!0&&(H=!1)}),H&&M&&M.call(G),q=!1):(this.pos=O.easing((L-this.startTime)/S),this.now=this.start+(this.end-this.start)*this.pos,this.update(),q=!0),q}initPath(q,L,O){function G($,V){for(;$.length<ie;){var j=$[0];const x=V[ie-$.length];x&&j[0]==="M"&&($[0]=x[0]==="C"?["C",j[1],j[2],j[1],j[2],j[1],j[2]]:["L",j[1],j[2]]),$.unshift(j),H&&(j=$.pop(),$.push($[$.length-1],j))}}function M($,V){for(;$.length<ie;)if(V=$[Math.floor($.length/U)-1].slice(),V[0]==="C"&&(V[1]=V[5],V[2]=V[6]),H){const j=$[Math.floor($.length/U)].slice();$.splice($.length/2,0,V,j)}else $.push(V)}const S=q.startX,D=q.endX;O=O.slice();const H=q.isArea,U=H?2:1;let E,ie,te;if(L=L&&L.slice(),!L)return[O,O];if(S&&D&&D.length){for(q=0;q<S.length;q++)if(S[q]===D[0]){E=q;break}else if(S[0]===D[D.length-S.length+q]){E=q,te=!0;break}else if(S[S.length-1]===D[D.length-S.length+q]){E=S.length-q;break}typeof E>"u"&&(L=[])}return L.length&&R(E)&&(ie=O.length+E*U,te?(G(L,O),M(O,L)):(G(O,L),M(L,O))),[L,O]}fillSetter(){k.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}}return k.timers=[],k}),i(r,"Core/Animation/AnimationUtilities.js",[r["Core/Animation/Fx.js"],r["Core/Utilities.js"]],function(o,d){function h(G){return z(G)?q({duration:500,defer:0},G):{duration:G?500:0,defer:0}}function s(G,M){let S=o.timers.length;for(;S--;)o.timers[S].elem!==G||M&&M!==o.timers[S].prop||(o.timers[S].stopped=!0)}const{defined:v,getStyle:R,isArray:K,isNumber:k,isObject:z,merge:q,objectEach:L,pick:O}=d;return{animate:function(G,M,S){let D,H="",U,E,ie;z(S)||(ie=arguments,S={duration:ie[2],easing:ie[3],complete:ie[4]}),k(S.duration)||(S.duration=400),S.easing=typeof S.easing=="function"?S.easing:Math[S.easing]||Math.easeInOutSine,S.curAnim=q(M),L(M,function(te,$){s(G,$),E=new o(G,S,$),U=void 0,$==="d"&&K(M.d)?(E.paths=E.initPath(G,G.pathArray,M.d),E.toD=M.d,D=0,U=1):G.attr?D=G.attr($):(D=parseFloat(R(G,$))||0,$!=="opacity"&&(H="px")),U||(U=te),typeof U=="string"&&U.match("px")&&(U=U.replace(/px/g,"")),E.run(D,U,H)})},animObject:h,getDeferredAnimation:function(G,M,S){const D=h(M);let H=0,U=0;return(S?[S]:G.series).forEach(E=>{E=h(E.options.animation),H=M&&v(M.defer)?D.defer:Math.max(H,E.duration+E.defer),U=Math.min(D.duration,E.duration)}),G.renderer.forExport&&(H=0),{defer:Math.max(0,H-U),duration:Math.min(H,U)}},setAnimation:function(G,M){M.renderer.globalAnimation=O(G,M.options.chart.animation,!0)},stop:s}}),i(r,"Core/Renderer/HTML/AST.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d){const{SVG_NS:h,win:s}=o,{attr:v,createElement:R,css:K,error:k,isFunction:z,isString:q,objectEach:L,splat:O}=d;({trustedTypes:d}=s);const G=d&&z(d.createPolicy)&&d.createPolicy("highcharts",{createHTML:H=>H});d=G?G.createHTML(""):"";try{var M=!!new DOMParser().parseFromString(d,"text/html")}catch{M=!1}const S=M;class D{static filterUserAttributes(U){return L(U,(E,ie)=>{let te=!0;D.allowedAttributes.indexOf(ie)===-1&&(te=!1),["background","dynsrc","href","lowsrc","src"].indexOf(ie)!==-1&&(te=q(E)&&D.allowedReferences.some($=>E.indexOf($)===0)),te||(k(33,!1,void 0,{"Invalid attribute in config":`${ie}`}),delete U[ie]),q(E)&&U[ie]&&(U[ie]=E.replace(/</g,"&lt;"))}),U}static parseStyle(U){return U.split(";").reduce((E,ie)=>{ie=ie.split(":").map($=>$.trim());const te=ie.shift();return te&&ie.length&&(E[te.replace(/-([a-z])/g,$=>$[1].toUpperCase())]=ie.join(":")),E},{})}static setElementHTML(U,E){U.innerHTML=D.emptyHTML,E&&new D(E).addToDOM(U)}constructor(U){this.nodes=typeof U=="string"?this.parseMarkup(U):U}addToDOM(U){function E(ie,te){let $;return O(ie).forEach(function(V){var j=V.tagName;const x=V.textContent?o.doc.createTextNode(V.textContent):void 0,P=D.bypassHTMLFiltering;let f;if(j)if(j==="#text")f=x;else if(D.allowedTags.indexOf(j)!==-1||P){j=o.doc.createElementNS(j==="svg"?h:te.namespaceURI||h,j);const g=V.attributes||{};L(V,function(b,A){A!=="tagName"&&A!=="attributes"&&A!=="children"&&A!=="style"&&A!=="textContent"&&(g[A]=b)}),v(j,P?g:D.filterUserAttributes(g)),V.style&&K(j,V.style),x&&j.appendChild(x),E(V.children||[],j),f=j}else k(33,!1,void 0,{"Invalid tagName in config":j});f&&te.appendChild(f),$=f}),$}return E(this.nodes,U)}parseMarkup(U){const E=[];if(U=U.trim().replace(/ style=(["'])/g," data-style=$1"),S)U=new DOMParser().parseFromString(G?G.createHTML(U):U,"text/html");else{const te=R("div");te.innerHTML=U,U={body:te}}const ie=(te,$)=>{var V=te.nodeName.toLowerCase();const j={tagName:V};if(V==="#text"&&(j.textContent=te.textContent||""),V=te.attributes){const x={};[].forEach.call(V,P=>{P.name==="data-style"?j.style=D.parseStyle(P.value):x[P.name]=P.value}),j.attributes=x}if(te.childNodes.length){const x=[];[].forEach.call(te.childNodes,P=>{ie(P,x)}),x.length&&(j.children=x)}$.push(j)};return[].forEach.call(U.body.childNodes,te=>ie(te,E)),E}}return D.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),D.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),D.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),D.emptyHTML=d,D.bypassHTMLFiltering=!1,D}),i(r,"Core/FormatUtilities.js",[r["Core/Defaults.js"],r["Core/Utilities.js"]],function(o,d){function h(q,L,O,G){q=+q||0,L=+L;const M=s.lang;var S=(q.toString().split(".")[1]||"").split("e")[0].length;const D=q.toString().split("e"),H=L;if(L===-1)L=Math.min(S,20);else if(!K(L))L=2;else if(L&&D[1]&&0>D[1]){var U=L+ +D[1];0<=U?(D[0]=(+D[0]).toExponential(U).split("e")[0],L=U):(D[0]=D[0].split(".")[0]||0,q=20>L?(D[0]*Math.pow(10,D[1])).toFixed(L):0,D[1]=0)}U=(Math.abs(D[1]?D[0]:q)+Math.pow(10,-Math.max(L,S)-1)).toFixed(L),S=String(z(U));const E=3<S.length?S.length%3:0;return O=k(O,M.decimalPoint),G=k(G,M.thousandsSep),q=(0>q?"-":"")+(E?S.substr(0,E)+G:""),q=0>+D[1]&&!H?"0":q+S.substr(E).replace(/(\d{3})(?=\d)/g,"$1"+G),L&&(q+=O+U.slice(-L)),D[1]&&+q!=0&&(q+="e"+D[1]),q}const{defaultOptions:s,defaultTime:v}=o,{getNestedProperty:R,isNumber:K,pick:k,pInt:z}=d;return{dateFormat:function(q,L,O){return v.dateFormat(q,L,O)},format:function(q,L,O){var G="{";let M=!1,S;const D=/f$/,H=/\.([0-9])/,U=s.lang,E=O&&O.time||v;O=O&&O.numberFormatter||h;const ie=[];for(;q&&(S=q.indexOf(G),S!==-1);){var te=q.slice(0,S);if(M){if(te=te.split(":"),G=R(te.shift()||"",L),te.length&&typeof G=="number")if(te=te.join(":"),D.test(te)){const $=parseInt((te.match(H)||["","-1"])[1],10);G!==null&&(G=O(G,$,U.decimalPoint,-1<te.indexOf(",")?U.thousandsSep:""))}else G=E.dateFormat(te,G);ie.push(G)}else ie.push(te);q=q.slice(S+1),G=(M=!M)?"}":"{"}return ie.push(q),ie.join("")},numberFormat:h}}),i(r,"Core/Renderer/RendererUtilities.js",[r["Core/Utilities.js"]],function(o){const{clamp:d,pick:h,stableSort:s}=o;var v;return function(R){function K(k,z,q){const L=k;var O=L.reducedLen||z,G=(E,ie)=>(ie.rank||0)-(E.rank||0);const M=(E,ie)=>E.target-ie.target;let S,D=!0,H=[],U=0;for(S=k.length;S--;)U+=k[S].size;if(U>O){for(s(k,G),U=S=0;U<=O;)U+=k[S].size,S++;H=k.splice(S-1,k.length)}for(s(k,M),k=k.map(E=>({size:E.size,targets:[E.target],align:h(E.align,.5)}));D;){for(S=k.length;S--;)O=k[S],G=(Math.min.apply(0,O.targets)+Math.max.apply(0,O.targets))/2,O.pos=d(G-O.size*O.align,0,z-O.size);for(S=k.length,D=!1;S--;)0<S&&k[S-1].pos+k[S-1].size>k[S].pos&&(k[S-1].size+=k[S].size,k[S-1].targets=k[S-1].targets.concat(k[S].targets),k[S-1].align=.5,k[S-1].pos+k[S-1].size>z&&(k[S-1].pos=z-k[S-1].size),k.splice(S,1),D=!0)}return L.push.apply(L,H),S=0,k.some(E=>{let ie=0;return(E.targets||[]).some(()=>(L[S].pos=E.pos+ie,typeof q<"u"&&Math.abs(L[S].pos-L[S].target)>q?(L.slice(0,S+1).forEach(te=>delete te.pos),L.reducedLen=(L.reducedLen||z)-.1*z,L.reducedLen>.1*z&&K(L,z,q),!0):(ie+=L[S].size,S++,!1)))}),s(L,M),L}R.distribute=K}(v||(v={})),v}),i(r,"Core/Renderer/SVG/SVGElement.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h,s){const{animate:v,animObject:R,stop:K}=o,{deg2rad:k,doc:z,svg:q,SVG_NS:L,win:O}=h,{addEvent:G,attr:M,createElement:S,css:D,defined:H,erase:U,extend:E,fireEvent:ie,isArray:te,isFunction:$,isObject:V,isString:j,merge:x,objectEach:P,pick:f,pInt:g,syncTimeout:b,uniqueKey:A}=s;class X{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=L}_defaultGetter(J){return J=f(this[J+"Value"],this[J],this.element?this.element.getAttribute(J):null,0),/^[\-0-9\.]+$/.test(J)&&(J=parseFloat(J)),J}_defaultSetter(J,ce,pe){pe.setAttribute(ce,J)}add(J){const ce=this.renderer,pe=this.element;let fe;return J&&(this.parentGroup=J),typeof this.textStr<"u"&&this.element.nodeName==="text"&&ce.buildText(this),this.added=!0,(!J||J.handleZ||this.zIndex)&&(fe=this.zIndexSetter()),fe||(J?J.element:ce.box).appendChild(pe),this.onAdd&&this.onAdd(),this}addClass(J,ce){const pe=ce?"":this.attr("class")||"";return J=(J||"").split(/ /g).reduce(function(fe,F){return pe.indexOf(F)===-1&&fe.push(F),fe},pe?[pe]:[]).join(" "),J!==pe&&this.attr("class",J),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(J,ce,pe){const fe={};var F=this.renderer,Q=F.alignedObjects,se;let ue,Ce;J?(this.alignOptions=J,this.alignByTranslate=ce,(!pe||j(pe))&&(this.alignTo=se=pe||"renderer",U(Q,this),Q.push(this),pe=void 0)):(J=this.alignOptions,ce=this.alignByTranslate,se=this.alignTo),pe=f(pe,F[se],se==="scrollablePlotBox"?F.plotBox:void 0,F),se=J.align;const ne=J.verticalAlign;return F=(pe.x||0)+(J.x||0),Q=(pe.y||0)+(J.y||0),se==="right"?ue=1:se==="center"&&(ue=2),ue&&(F+=(pe.width-(J.width||0))/ue),fe[ce?"translateX":"x"]=Math.round(F),ne==="bottom"?Ce=1:ne==="middle"&&(Ce=2),Ce&&(Q+=(pe.height-(J.height||0))/Ce),fe[ce?"translateY":"y"]=Math.round(Q),this[this.placed?"animate":"attr"](fe),this.placed=!0,this.alignAttr=fe,this}alignSetter(J){const ce={left:"start",center:"middle",right:"end"};ce[J]&&(this.alignValue=J,this.element.setAttribute("text-anchor",ce[J]))}animate(J,ce,pe){const fe=R(f(ce,this.renderer.globalAnimation,!0));return ce=fe.defer,z.hidden&&(fe.duration=0),fe.duration!==0?(pe&&(fe.complete=pe),b(()=>{this.element&&v(this,J,fe)},ce)):(this.attr(J,void 0,pe||fe.complete),P(J,function(F,Q){fe.step&&fe.step.call(this,F,{prop:Q,pos:1,elem:this})},this)),this}applyTextOutline(J){const ce=this.element;J.indexOf("contrast")!==-1&&(J=J.replace(/contrast/g,this.renderer.getContrast(ce.style.fill)));var pe=J.split(" ");if(J=pe[pe.length-1],(pe=pe[0])&&pe!=="none"&&h.svg){this.fakeTS=!0,pe=pe.replace(/(^[\d\.]+)(.*?)$/g,function(Q,se,ue){return 2*Number(se)+ue}),this.removeTextOutline();const fe=z.createElementNS(L,"tspan");M(fe,{class:"highcharts-text-outline",fill:J,stroke:J,"stroke-width":pe,"stroke-linejoin":"round"}),J=ce.querySelector("textPath")||ce,[].forEach.call(J.childNodes,Q=>{const se=Q.cloneNode(!0);se.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(ue=>se.removeAttribute(ue)),fe.appendChild(se)});let F=0;[].forEach.call(J.querySelectorAll("text tspan"),Q=>{F+=Number(Q.getAttribute("dy"))}),pe=z.createElementNS(L,"tspan"),pe.textContent="​",M(pe,{x:Number(ce.getAttribute("x")),dy:-F}),fe.appendChild(pe),J.insertBefore(fe,J.firstChild)}}attr(J,ce,pe,fe){const F=this.element,Q=X.symbolCustomAttribs;let se,ue,Ce=this,ne,ve;return typeof J=="string"&&typeof ce<"u"&&(se=J,J={},J[se]=ce),typeof J=="string"?Ce=(this[J+"Getter"]||this._defaultGetter).call(this,J,F):(P(J,function(_e,oe){ne=!1,fe||K(this,oe),this.symbolName&&Q.indexOf(oe)!==-1&&(ue||(this.symbolAttr(J),ue=!0),ne=!0),!this.rotation||oe!=="x"&&oe!=="y"||(this.doTransform=!0),ne||(ve=this[oe+"Setter"]||this._defaultSetter,ve.call(this,_e,oe,F))},this),this.afterSetters()),pe&&pe.call(this),Ce}clip(J){return this.attr("clip-path",J?"url("+this.renderer.url+"#"+J.id+")":"none")}crisp(J,ce){ce=ce||J.strokeWidth||0;const pe=Math.round(ce)%2/2;return J.x=Math.floor(J.x||this.x||0)+pe,J.y=Math.floor(J.y||this.y||0)+pe,J.width=Math.floor((J.width||this.width||0)-2*pe),J.height=Math.floor((J.height||this.height||0)-2*pe),H(J.strokeWidth)&&(J.strokeWidth=ce),J}complexColor(J,ce,pe){const fe=this.renderer;let F,Q,se,ue,Ce,ne,ve,_e,oe,ye,Se=[],Re;ie(this.renderer,"complexColor",{args:arguments},function(){if(J.radialGradient?Q="radialGradient":J.linearGradient&&(Q="linearGradient"),Q){if(se=J[Q],Ce=fe.gradients,ne=J.stops,oe=pe.radialReference,te(se)&&(J[Q]=se={x1:se[0],y1:se[1],x2:se[2],y2:se[3],gradientUnits:"userSpaceOnUse"}),Q==="radialGradient"&&oe&&!H(se.gradientUnits)&&(ue=se,se=x(se,fe.getRadialAttr(oe,ue),{gradientUnits:"userSpaceOnUse"})),P(se,function(Le,$e){$e!=="id"&&Se.push($e,Le)}),P(ne,function(Le){Se.push(Le)}),Se=Se.join(","),Ce[Se])ye=Ce[Se].attr("id");else{se.id=ye=A();const Le=Ce[Se]=fe.createElement(Q).attr(se).add(fe.defs);Le.radAttr=ue,Le.stops=[],ne.forEach(function($e){$e[1].indexOf("rgba")===0?(F=d.parse($e[1]),ve=F.get("rgb"),_e=F.get("a")):(ve=$e[1],_e=1),$e=fe.createElement("stop").attr({offset:$e[0],"stop-color":ve,"stop-opacity":_e}).add(Le),Le.stops.push($e)})}Re="url("+fe.url+"#"+ye+")",pe.setAttribute(ce,Re),pe.gradient=Se,J.toString=function(){return Re}}})}css(J){const ce=this.styles,pe={},fe=this.element;let F,Q=!ce;if(J.color&&(J.fill=J.color),ce&&P(J,function(se,ue){ce&&ce[ue]!==se&&(pe[ue]=se,Q=!0)}),Q){ce&&(J=E(ce,pe)),J.width===null||J.width==="auto"?delete this.textWidth:fe.nodeName.toLowerCase()==="text"&&J.width&&(F=this.textWidth=g(J.width)),this.styles=J,F&&!q&&this.renderer.forExport&&delete J.width;const se=x(J);fe.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(ue=>se&&delete se[ue]),D(fe,se)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),J.textOutline&&this.applyTextOutline(J.textOutline)),this}dashstyleSetter(J){let ce=this["stroke-width"];if(ce==="inherit"&&(ce=1),J=J&&J.toLowerCase()){const pe=J.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(J=pe.length;J--;)pe[J]=""+g(pe[J])*f(ce,NaN);J=pe.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",J)}}destroy(){const J=this;var ce=J.element||{};const pe=J.renderer;var fe=ce.ownerSVGElement;let F=ce.nodeName==="SPAN"&&J.parentGroup||void 0;if(ce.onclick=ce.onmouseout=ce.onmouseover=ce.onmousemove=ce.point=null,K(J),J.clipPath&&fe){const Q=J.clipPath;[].forEach.call(fe.querySelectorAll("[clip-path],[CLIP-PATH]"),function(se){-1<se.getAttribute("clip-path").indexOf(Q.element.id)&&se.removeAttribute("clip-path")}),J.clipPath=Q.destroy()}if(J.stops){for(fe=0;fe<J.stops.length;fe++)J.stops[fe].destroy();J.stops.length=0,J.stops=void 0}for(J.safeRemoveChild(ce);F&&F.div&&F.div.childNodes.length===0;)ce=F.parentGroup,J.safeRemoveChild(F.div),delete F.div,F=ce;J.alignTo&&U(pe.alignedObjects,J),P(J,function(Q,se){J[se]&&J[se].parentGroup===J&&J[se].destroy&&J[se].destroy(),delete J[se]})}dSetter(J,ce,pe){te(J)&&(typeof J[0]=="string"&&(J=this.renderer.pathToSegments(J)),this.pathArray=J,J=J.reduce((fe,F,Q)=>F&&F.join?(Q?fe+" ":"")+F.join(" "):(F||"").toString(),"")),/(NaN| {2}|^$)/.test(J)&&(J="M 0 0"),this[ce]!==J&&(pe.setAttribute(ce,J),this[ce]=J)}fadeOut(J){const ce=this;ce.animate({opacity:0},{duration:f(J,150),complete:function(){ce.hide()}})}fillSetter(J,ce,pe){typeof J=="string"?pe.setAttribute(ce,J):J&&this.complexColor(J,ce,pe)}getBBox(J,ce){const{alignValue:pe,element:fe,renderer:F,styles:Q,textStr:se}=this,{cache:ue,cacheKeys:Ce}=F;var ne=fe.namespaceURI===this.SVG_NS;ce=f(ce,this.rotation,0);var ve=F.styledMode?fe&&X.prototype.getStyle.call(fe,"font-size"):Q&&Q.fontSize;let _e,oe;if(H(se)&&(oe=se.toString(),oe.indexOf("<")===-1&&(oe=oe.replace(/[0-9]/g,"0")),oe+=["",F.rootFontSize,ve,ce,this.textWidth,pe,Q&&Q.textOverflow,Q&&Q.fontWeight].join()),oe&&!J&&(_e=ue[oe]),!_e){if(ne||F.forExport){try{var ye=this.fakeTS&&function(rt){const Qe=fe.querySelector(".highcharts-text-outline");Qe&&D(Qe,{display:rt})};$(ye)&&ye("none"),_e=fe.getBBox?E({},fe.getBBox()):{width:fe.offsetWidth,height:fe.offsetHeight,x:0,y:0},$(ye)&&ye("")}catch{}(!_e||0>_e.width)&&(_e={x:0,y:0,width:0,height:0})}else _e=this.htmlGetBBox();if(ye=_e.width,J=_e.height,ne&&(_e.height=J={"11px,17":14,"13px,20":16}[`${ve||""},${Math.round(J)}`]||J),ce){ne=Number(fe.getAttribute("y")||0)-_e.y,ve={right:1,center:.5}[pe||0]||0;var Se=ce*k,Re=(ce-90)*k,Le=ye*Math.cos(Se);ce=ye*Math.sin(Se);var $e=Math.cos(Re);Se=Math.sin(Re),ye=_e.x+ve*(ye-Le)+ne*$e,Re=ye+Le,$e=Re-J*$e,Le=$e-Le,ne=_e.y+ne-ve*ce+ne*Se,ve=ne+ce,J=ve-J*Se,ce=J-ce,_e.x=Math.min(ye,Re,$e,Le),_e.y=Math.min(ne,ve,J,ce),_e.width=Math.max(ye,Re,$e,Le)-_e.x,_e.height=Math.max(ne,ve,J,ce)-_e.y}}if(oe&&(se===""||0<_e.height)){for(;250<Ce.length;)delete ue[Ce.shift()];ue[oe]||Ce.push(oe),ue[oe]=_e}return _e}getStyle(J){return O.getComputedStyle(this.element||this,"").getPropertyValue(J)}hasClass(J){return(""+this.attr("class")).split(" ").indexOf(J)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(J,ce){this.element=ce==="span"?S(ce):z.createElementNS(this.SVG_NS,ce),this.renderer=J,ie(this,"afterInit")}on(J,ce){const{onEvents:pe}=this;return pe[J]&&pe[J](),pe[J]=G(this.element,J,ce),this}opacitySetter(J,ce,pe){this.opacity=J=Number(Number(J).toFixed(3)),pe.setAttribute(ce,J)}removeClass(J){return this.attr("class",(""+this.attr("class")).replace(j(J)?new RegExp(`(^| )${J}( |$)`):J," ").replace(/ +/g," ").trim())}removeTextOutline(){const J=this.element.querySelector("tspan.highcharts-text-outline");J&&this.safeRemoveChild(J)}safeRemoveChild(J){const ce=J.parentNode;ce&&ce.removeChild(J)}setRadialReference(J){const ce=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=J,ce&&ce.radAttr&&ce.animate(this.renderer.getRadialAttr(J,ce.radAttr)),this}setTextPath(J,ce){ce=x(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},ce);const pe=this.renderer.url,fe=this.text||this,F=fe.textPath,{attributes:Q,enabled:se}=ce;return J=J||F&&F.path,F&&F.undo(),J&&se?(ce=G(fe,"afterModifyTree",ue=>{if(J&&se){let ne=J.attr("id");ne||J.attr("id",ne=A());var Ce={x:0,y:0};H(Q.dx)&&(Ce.dx=Q.dx,delete Q.dx),H(Q.dy)&&(Ce.dy=Q.dy,delete Q.dy),fe.attr(Ce),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),Ce=ue.nodes.slice(0),ue.nodes.length=0,ue.nodes[0]={tagName:"textPath",attributes:E(Q,{"text-anchor":Q.textAnchor,href:`${pe}#${ne}`}),children:Ce}}}),fe.textPath={path:J,undo:ce}):(fe.attr({dx:0,dy:0}),delete fe.textPath),this.added&&(fe.textCache="",this.renderer.buildText(fe)),this}shadow(J){var ce;const{renderer:pe}=this,fe=x(((ce=this.parentGroup)===null||ce===void 0?void 0:ce.rotation)===90?{offsetX:-1,offsetY:-1}:{},V(J)?J:{});return ce=pe.shadowDefinition(fe),this.attr({filter:J?`url(${pe.url}#${ce})`:"none"})}show(J=!0){return this.attr({visibility:J?"inherit":"visible"})}"stroke-widthSetter"(J,ce,pe){this[ce]=J,pe.setAttribute(ce,J)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const J=this.getStyle("stroke-width");let ce=0,pe;return J.indexOf("px")===J.length-2?ce=g(J):J!==""&&(pe=z.createElementNS(L,"rect"),M(pe,{width:J,"stroke-width":0}),this.element.parentNode.appendChild(pe),ce=pe.getBBox().width,pe.parentNode.removeChild(pe)),ce}symbolAttr(J){const ce=this;X.symbolCustomAttribs.forEach(function(pe){ce[pe]=f(J[pe],ce[pe])}),ce.attr({d:ce.renderer.symbols[ce.symbolName](ce.x,ce.y,ce.width,ce.height,ce)})}textSetter(J){J!==this.textStr&&(delete this.textPxLength,this.textStr=J,this.added&&this.renderer.buildText(this))}titleSetter(J){const ce=this.element,pe=ce.getElementsByTagName("title")[0]||z.createElementNS(this.SVG_NS,"title");ce.insertBefore?ce.insertBefore(pe,ce.firstChild):ce.appendChild(pe),pe.textContent=String(f(J,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const J=this.element;return J.parentNode.appendChild(J),this}translate(J,ce){return this.attr({translateX:J,translateY:ce})}updateTransform(){const{element:J,matrix:ce,rotation:pe=0,scaleX:fe,scaleY:F,translateX:Q=0,translateY:se=0}=this,ue=["translate("+Q+","+se+")"];H(ce)&&ue.push("matrix("+ce.join(",")+")"),pe&&ue.push("rotate("+pe+" "+f(this.rotationOriginX,J.getAttribute("x"),0)+" "+f(this.rotationOriginY,J.getAttribute("y")||0)+")"),(H(fe)||H(F))&&ue.push("scale("+f(fe,1)+" "+f(F,1)+")"),ue.length&&!(this.text||this).textPath&&J.setAttribute("transform",ue.join(" "))}visibilitySetter(J,ce,pe){J==="inherit"?pe.removeAttribute(ce):this[ce]!==J&&pe.setAttribute(ce,J),this[ce]=J}xGetter(J){return this.element.nodeName==="circle"&&(J==="x"?J="cx":J==="y"&&(J="cy")),this._defaultGetter(J)}zIndexSetter(J,ce){var pe=this.renderer,fe=this.parentGroup;const F=(fe||pe).element||pe.box,Q=this.element;pe=F===pe.box;let se=!1,ue;var Ce=this.added;let ne;if(H(J)?(Q.setAttribute("data-z-index",J),J=+J,this[ce]===J&&(Ce=!1)):H(this[ce])&&Q.removeAttribute("data-z-index"),this[ce]=J,Ce){for((J=this.zIndex)&&fe&&(fe.handleZ=!0),ce=F.childNodes,ne=ce.length-1;0<=ne&&!se;ne--)fe=ce[ne],Ce=fe.getAttribute("data-z-index"),ue=!H(Ce),fe!==Q&&(0>J&&ue&&!pe&&!ne?(F.insertBefore(Q,ce[ne]),se=!0):(g(Ce)<=J||ue&&(!H(J)||0<=J))&&(F.insertBefore(Q,ce[ne+1]),se=!0));se||(F.insertBefore(Q,ce[pe?3:0]),se=!0)}return se}}return X.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),X.prototype.strokeSetter=X.prototype.fillSetter,X.prototype.yGetter=X.prototype.xGetter,X.prototype.matrixSetter=X.prototype.rotationOriginXSetter=X.prototype.rotationOriginYSetter=X.prototype.rotationSetter=X.prototype.scaleXSetter=X.prototype.scaleYSetter=X.prototype.translateXSetter=X.prototype.translateYSetter=X.prototype.verticalAlignSetter=function(Y,J){this[J]=Y,this.doTransform=!0},X}),i(r,"Core/Renderer/RendererRegistry.js",[r["Core/Globals.js"]],function(o){var d;return function(h){h.rendererTypes={};let s;h.getRendererType=function(v=s){return h.rendererTypes[v]||h.rendererTypes[s]},h.registerRendererType=function(v,R,K){h.rendererTypes[v]=R,(!s||K)&&(s=v,o.Renderer=R)}}(d||(d={})),d}),i(r,"Core/Renderer/SVG/SVGLabel.js",[r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,d){const{defined:h,extend:s,isNumber:v,merge:R,pick:K,removeEvent:k}=d;class z extends o{constructor(L,O,G,M,S,D,H,U,E,ie){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(L,"g"),this.textStr=O,this.x=G,this.y=M,this.anchorX=D,this.anchorY=H,this.baseline=E,this.className=ie,this.addClass(ie==="button"?"highcharts-no-tooltip":"highcharts-label"),ie&&this.addClass("highcharts-"+ie),this.text=L.text(void 0,0,0,U).attr({zIndex:1});let te;typeof S=="string"&&((te=/^url\((.*?)\)$/.test(S))||this.renderer.symbols[S])&&(this.symbolKey=S),this.bBox=z.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=L.styledMode||te,this.deferredAttr={},this.alignFactor=0}alignSetter(L){L={left:0,center:.5,right:1}[L],L!==this.alignFactor&&(this.alignFactor=L,this.bBox&&v(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(L,O){this.anchorX=L,this.boxAttr(O,Math.round(L)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(L,O){this.anchorY=L,this.boxAttr(O,L-this.ySetting)}boxAttr(L,O){this.box?this.box.attr(L,O):this.deferredAttr[L]=O}css(L){if(L){const O={};L=R(L),z.textProps.forEach(G=>{typeof L[G]<"u"&&(O[G]=L[G],delete L[G])}),this.text.css(O),"fontSize"in O||"fontWeight"in O?this.updateTextPadding():("width"in O||"textOverflow"in O)&&this.updateBoxSize()}return o.prototype.css.call(this,L)}destroy(){k(this.element,"mouseenter"),k(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),o.prototype.destroy.call(this)}fillSetter(L,O){L&&(this.needsBox=!0),this.fill=L,this.boxAttr(O,L)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const L=this.padding,O=K(this.paddingLeft,L);return{width:this.width,height:this.height,x:this.bBox.x-O,y:this.bBox.y-L}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(L){this.heightSetting=L}onAdd(){this.text.add(this),this.attr({text:K(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&h(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(L,O){v(L)?L!==this[O]&&(this[O]=L,this.updateTextPadding()):this[O]=void 0}rSetter(L,O){this.boxAttr(O,L)}strokeSetter(L,O){this.stroke=L,this.boxAttr(O,L)}"stroke-widthSetter"(L,O){L&&(this.needsBox=!0),this["stroke-width"]=L,this.boxAttr(O,L)}"text-alignSetter"(L){this.textAlign=L}textSetter(L){typeof L<"u"&&this.text.attr({text:L}),this.updateTextPadding()}updateBoxSize(){var L=this.text;const O={},G=this.padding,M=this.bBox=v(this.widthSetting)&&v(this.heightSetting)&&!this.textAlign||!h(L.textStr)?z.emptyBBox:L.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||M.height||0)+2*G;const S=this.renderer.fontMetrics(L);this.baselineOffset=G+Math.min((this.text.firstLineMetrics||S).b,M.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-S.h)/2),this.needsBox&&!L.textPath&&(this.box||(L=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),L.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),L.add(this)),L=this.getCrispAdjust(),O.x=L,O.y=(this.baseline?-this.baselineOffset:0)+L,O.width=Math.round(this.width),O.height=Math.round(this.height),this.box.attr(s(O,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const L=this.text;if(!L.textPath){this.updateBoxSize();const O=this.baseline?0:this.baselineOffset;let G=K(this.paddingLeft,this.padding);h(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(G+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(G!==L.x||O!==L.y)&&(L.attr("x",G),L.hasBoxWidthChanged&&(this.bBox=L.getBBox(!0)),typeof O<"u"&&L.attr("y",O)),L.x=G,L.y=O}}widthSetter(L){this.widthSetting=v(L)?L:void 0}getPaddedWidth(){var L=this.padding;const O=K(this.paddingLeft,L);return L=K(this.paddingRight,L),(this.widthSetting||this.bBox.width||0)+O+L}xSetter(L){this.x=L,this.alignFactor&&(L-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(L),this.attr("translateX",this.xSetting)}ySetter(L){this.ySetting=this.y=Math.round(L),this.attr("translateY",this.ySetting)}}return z.emptyBBox={width:0,height:0,x:0,y:0},z.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),z}),i(r,"Core/Renderer/SVG/Symbols.js",[r["Core/Utilities.js"]],function(o){function d(k,z,q,L,O){const G=[];if(O){const M=O.start||0,S=K(O.r,q);q=K(O.r,L||q),L=(O.end||0)-.001;const D=O.innerR,H=K(O.open,.001>Math.abs((O.end||0)-M-2*Math.PI)),U=Math.cos(M),E=Math.sin(M),ie=Math.cos(L),te=Math.sin(L),$=K(O.longArc,.001>L-M-Math.PI?0:1);let V=["A",S,q,0,$,K(O.clockwise,1),k+S*ie,z+q*te];V.params={start:M,end:L,cx:k,cy:z},G.push(["M",k+S*U,z+q*E],V),v(D)&&(V=["A",D,D,0,$,v(O.clockwise)?1-O.clockwise:0,k+D*U,z+D*E],V.params={start:L,end:M,cx:k,cy:z},G.push(H?["M",k+D*ie,z+D*te]:["L",k+D*ie,z+D*te],V)),H||G.push(["Z"])}return G}function h(k,z,q,L,O){return O&&O.r?s(k,z,q,L,O):[["M",k,z],["L",k+q,z],["L",k+q,z+L],["L",k,z+L],["Z"]]}function s(k,z,q,L,O){return O=(O==null?void 0:O.r)||0,[["M",k+O,z],["L",k+q-O,z],["A",O,O,0,0,1,k+q,z+O],["L",k+q,z+L-O],["A",O,O,0,0,1,k+q-O,z+L],["L",k+O,z+L],["A",O,O,0,0,1,k,z+L-O],["L",k,z+O],["A",O,O,0,0,1,k+O,z],["Z"]]}const{defined:v,isNumber:R,pick:K}=o;return{arc:d,callout:function(k,z,q,L,O){const G=Math.min(O&&O.r||0,q,L),M=G+6,S=O&&O.anchorX;O=O&&O.anchorY||0;const D=s(k,z,q,L,{r:G});return R(S)&&(k+S>=q?O>z+M&&O<z+L-M?D.splice(3,1,["L",k+q,O-6],["L",k+q+6,O],["L",k+q,O+6],["L",k+q,z+L-G]):D.splice(3,1,["L",k+q,L/2],["L",S,O],["L",k+q,L/2],["L",k+q,z+L-G]):0>=k+S?O>z+M&&O<z+L-M?D.splice(7,1,["L",k,O+6],["L",k-6,O],["L",k,O-6],["L",k,z+G]):D.splice(7,1,["L",k,L/2],["L",S,O],["L",k,L/2],["L",k,z+G]):O&&O>L&&S>k+M&&S<k+q-M?D.splice(5,1,["L",S+6,z+L],["L",S,z+L+6],["L",S-6,z+L],["L",k+G,z+L]):O&&0>O&&S>k+M&&S<k+q-M&&D.splice(1,1,["L",S-6,z],["L",S,z-6],["L",S+6,z],["L",q-G,z])),D},circle:function(k,z,q,L){return d(k+q/2,z+L/2,q/2,L/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(k,z,q,L){return[["M",k+q/2,z],["L",k+q,z+L/2],["L",k+q/2,z+L],["L",k,z+L/2],["Z"]]},rect:h,roundedRect:s,square:h,triangle:function(k,z,q,L){return[["M",k+q/2,z],["L",k+q,z+L],["L",k,z+L],["Z"]]},"triangle-down":function(k,z,q,L){return[["M",k,z],["L",k+q,z],["L",k+q/2,z+L],["Z"]]}}}),i(r,"Core/Renderer/SVG/TextBuilder.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{doc:s,SVG_NS:v,win:R}=d,{attr:K,extend:k,fireEvent:z,isString:q,objectEach:L,pick:O}=h;class G{constructor(S){const D=S.styles;this.renderer=S.renderer,this.svgElement=S,this.width=S.textWidth,this.textLineHeight=D&&D.lineHeight,this.textOutline=D&&D.textOutline,this.ellipsis=!(!D||D.textOverflow!=="ellipsis"),this.noWrap=!(!D||D.whiteSpace!=="nowrap")}buildSVG(){const S=this.svgElement,D=S.element;var H=S.renderer,U=O(S.textStr,"").toString();const E=U.indexOf("<")!==-1,ie=D.childNodes;H=!S.added&&H.box;const te=/<br.*?>/g;var $=[U,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,S.getStyle("font-size"),this.width].join();if($!==S.textCache){for(S.textCache=$,delete S.actualWidth,$=ie.length;$--;)D.removeChild(ie[$]);E||this.ellipsis||this.width||S.textPath||U.indexOf(" ")!==-1&&(!this.noWrap||te.test(U))?U!==""&&(H&&H.appendChild(D),U=new o(U),this.modifyTree(U.nodes),U.addToDOM(D),this.modifyDOM(),this.ellipsis&&(D.textContent||"").indexOf("…")!==-1&&S.attr("title",this.unescapeEntities(S.textStr||"",["&lt;","&gt;"])),H&&H.removeChild(D)):D.appendChild(s.createTextNode(this.unescapeEntities(U))),q(this.textOutline)&&S.applyTextOutline&&S.applyTextOutline(this.textOutline)}}modifyDOM(){const S=this.svgElement,D=K(S.element,"x");S.firstLineMetrics=void 0;let H;for(;(H=S.element.firstChild)&&/^[\s\u200B]*$/.test(H.textContent||" ");)S.element.removeChild(H);[].forEach.call(S.element.querySelectorAll("tspan.highcharts-br"),(te,$)=>{te.nextSibling&&te.previousSibling&&($===0&&te.previousSibling.nodeType===1&&(S.firstLineMetrics=S.renderer.fontMetrics(te.previousSibling)),K(te,{dy:this.getLineHeight(te.nextSibling),x:D}))});const U=this.width||0;if(U){var E=(te,$)=>{var V=te.textContent||"";const j=V.replace(/([^\^])-/g,"$1- ").split(" ");var x=!this.noWrap&&(1<j.length||1<S.element.childNodes.length);const P=this.getLineHeight($);let f=0,g=S.actualWidth;if(this.ellipsis)V&&this.truncate(te,V,void 0,0,Math.max(0,U-.8*P),(b,A)=>b.substring(0,A)+"…");else if(x){for(V=[],x=[];$.firstChild&&$.firstChild!==te;)x.push($.firstChild),$.removeChild($.firstChild);for(;j.length;)j.length&&!this.noWrap&&0<f&&(V.push(te.textContent||""),te.textContent=j.join(" ").replace(/- /g,"-")),this.truncate(te,void 0,j,f===0&&g||0,U,(b,A)=>j.slice(0,A).join(" ").replace(/- /g,"-")),g=S.actualWidth,f++;x.forEach(b=>{$.insertBefore(b,te)}),V.forEach(b=>{$.insertBefore(s.createTextNode(b),te),b=s.createElementNS(v,"tspan"),b.textContent="​",K(b,{dy:P,x:D}),$.insertBefore(b,te)})}},ie=te=>{[].slice.call(te.childNodes).forEach($=>{$.nodeType===R.Node.TEXT_NODE?E($,te):($.className.baseVal.indexOf("highcharts-br")!==-1&&(S.actualWidth=0),ie($))})};ie(S.element)}}getLineHeight(S){return S=S.nodeType===R.Node.TEXT_NODE?S.parentElement:S,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(S||this.svgElement.element).h}modifyTree(S){const D=(H,U)=>{const{attributes:E={},children:ie,style:te={},tagName:$}=H,V=this.renderer.styledMode;$==="b"||$==="strong"?V?E.class="highcharts-strong":te.fontWeight="bold":($==="i"||$==="em")&&(V?E.class="highcharts-emphasized":te.fontStyle="italic"),te&&te.color&&(te.fill=te.color),$==="br"?(E.class="highcharts-br",H.textContent="​",(U=S[U+1])&&U.textContent&&(U.textContent=U.textContent.replace(/^ +/gm,""))):$==="a"&&ie&&ie.some(j=>j.tagName==="#text")&&(H.children=[{children:ie,tagName:"tspan"}]),$!=="#text"&&$!=="a"&&(H.tagName="tspan"),k(H,{attributes:E,style:te}),ie&&ie.filter(j=>j.tagName!=="#text").forEach(D)};S.forEach(D),z(this.svgElement,"afterModifyTree",{nodes:S})}truncate(S,D,H,U,E,ie){const te=this.svgElement,{rotation:$}=te,V=[];let j=H?1:0,x=(D||H||"").length,P=x,f,g;const b=function(A,X){if(A=X||A,(X=S.parentNode)&&typeof V[A]>"u"&&X.getSubStringLength)try{V[A]=U+X.getSubStringLength(0,H?A+1:A)}catch{}return V[A]};if(te.rotation=0,g=b(S.textContent.length),U+g>E){for(;j<=x;)P=Math.ceil((j+x)/2),H&&(f=ie(H,P)),g=b(P,f&&f.length-1),j===x?j=x+1:g>E?x=P-1:j=P;x===0?S.textContent="":D&&x===D.length-1||(S.textContent=f||ie(D||H,P))}H&&H.splice(0,P),te.actualWidth=g,te.rotation=$}unescapeEntities(S,D){return L(this.renderer.escapes,function(H,U){D&&D.indexOf(H)!==-1||(S=S.toString().replace(new RegExp(H,"g"),U))}),S}}return G}),i(r,"Core/Renderer/SVG/SVGRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGLabel.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Renderer/SVG/TextBuilder.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R,K,k,z){const{charts:q,deg2rad:L,doc:O,isFirefox:G,isMS:M,isWebKit:S,noop:D,SVG_NS:H,symbolSizes:U,win:E}=h,{addEvent:ie,attr:te,createElement:$,css:V,defined:j,destroyObjectProperties:x,extend:P,isArray:f,isNumber:g,isObject:b,isString:A,merge:X,pick:Y,pInt:J,uniqueKey:ce}=z;let pe;class fe{constructor(Q,se,ue,Ce,ne,ve,_e){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(Q,se,ue,Ce,ne,ve,_e)}init(Q,se,ue,Ce,ne,ve,_e){const oe=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ye=oe.element;_e||oe.css(this.getStyle(Ce)),Q.appendChild(ye),te(Q,"dir","ltr"),Q.innerHTML.indexOf("xmlns")===-1&&te(ye,"xmlns",this.SVG_NS),this.box=ye,this.boxWrapper=oe,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(O.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=ve,this.forExport=ne,this.styledMode=_e,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=oe.getStyle("font-size"),this.setSize(se,ue,!1);let Se;G&&Q.getBoundingClientRect&&(se=function(){V(Q,{left:0,top:0}),Se=Q.getBoundingClientRect(),V(Q,{left:Math.ceil(Se.left)-Se.left+"px",top:Math.ceil(Se.top)-Se.top+"px"})},se(),this.unSubPixelFix=ie(E,"resize",se))}definition(Q){return new o([Q]).addToDOM(this.defs.element)}getReferenceURL(){if((G||S)&&O.getElementsByTagName("base").length){if(!j(pe)){var Q=ce();Q=new o([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:Q},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${Q})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(O.body),V(Q,{position:"fixed",top:0,left:0,zIndex:9e5});const se=O.elementFromPoint(6,6);pe=(se&&se.id)==="hitme",O.body.removeChild(Q)}if(pe)return E.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(Q){return this.style=P({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},Q)}setStyle(Q){this.boxWrapper.css(this.getStyle(Q))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const Q=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),x(this.gradients||{}),this.gradients=null,this.defs=Q.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(Q){const se=new this.Element;return se.init(this,Q),se}getRadialAttr(Q,se){return{cx:Q[0]-Q[2]/2+(se.cx||0)*Q[2],cy:Q[1]-Q[2]/2+(se.cy||0)*Q[2],r:(se.r||0)*Q[2]}}shadowDefinition(Q){const se=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(Q).map(Ce=>Q[Ce])].join("-").replace(/[^a-z0-9\-]/g,""),ue=X({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},Q);return this.defs.element.querySelector(`#${se}`)||this.definition({tagName:"filter",attributes:{id:se},children:[{tagName:"feDropShadow",attributes:{dx:ue.offsetX,dy:ue.offsetY,"flood-color":ue.color,"flood-opacity":Math.min(5*ue.opacity,1),stdDeviation:ue.width/2}}]}),se}buildText(Q){new k(Q).buildSVG()}getContrast(Q){return Q=d.parse(Q).rgba.map(se=>(se/=255,.03928>=se?se/12.92:Math.pow((se+.055)/1.055,2.4))),Q=.2126*Q[0]+.7152*Q[1]+.0722*Q[2],1.05/(Q+.05)>(Q+.05)/.05?"#FFFFFF":"#000000"}button(Q,se,ue,Ce,ne={},ve,_e,oe,ye,Se){const Re=this.label(Q,se,ue,ye,void 0,void 0,Se,void 0,"button"),Le=this.styledMode;Q=ne.states||{};let $e=0;ne=X(ne),delete ne.states;const rt=X({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},ne.style);delete ne.style;let Qe=o.filterUserAttributes(ne);Re.attr(X({padding:8,r:2},Qe));let qe,xe,Ie;return Le||(Qe=X({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},Qe),ve=X(Qe,{fill:"#e6e6e6"},o.filterUserAttributes(ve||Q.hover||{})),qe=ve.style,delete ve.style,_e=X(Qe,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},o.filterUserAttributes(_e||Q.select||{})),xe=_e.style,delete _e.style,oe=X(Qe,{style:{color:"#cccccc"}},o.filterUserAttributes(oe||Q.disabled||{})),Ie=oe.style,delete oe.style),ie(Re.element,M?"mouseover":"mouseenter",function(){$e!==3&&Re.setState(1)}),ie(Re.element,M?"mouseout":"mouseleave",function(){$e!==3&&Re.setState($e)}),Re.setState=function(Be){Be!==1&&(Re.state=$e=Be),Re.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Be||0]),Le||(Re.attr([Qe,ve,_e,oe][Be||0]),Be=[rt,qe,xe,Ie][Be||0],b(Be)&&Re.css(Be))},Le||(Re.attr(Qe).css(P({cursor:"default"},rt)),Se&&Re.text.css({pointerEvents:"none"})),Re.on("touchstart",Be=>Be.stopPropagation()).on("click",function(Be){$e!==3&&Ce.call(Re,Be)})}crispLine(Q,se,ue="round"){const Ce=Q[0],ne=Q[1];return j(Ce[1])&&Ce[1]===ne[1]&&(Ce[1]=ne[1]=Math[ue](Ce[1])-se%2/2),j(Ce[2])&&Ce[2]===ne[2]&&(Ce[2]=ne[2]=Math[ue](Ce[2])+se%2/2),Q}path(Q){const se=this.styledMode?{}:{fill:"none"};return f(Q)?se.d=Q:b(Q)&&P(se,Q),this.createElement("path").attr(se)}circle(Q,se,ue){return Q=b(Q)?Q:typeof Q>"u"?{}:{x:Q,y:se,r:ue},se=this.createElement("circle"),se.xSetter=se.ySetter=function(Ce,ne,ve){ve.setAttribute("c"+ne,Ce)},se.attr(Q)}arc(Q,se,ue,Ce,ne,ve){return b(Q)?(Ce=Q,se=Ce.y,ue=Ce.r,Q=Ce.x):Ce={innerR:Ce,start:ne,end:ve},Q=this.symbol("arc",Q,se,ue,ue,Ce),Q.r=ue,Q}rect(Q,se,ue,Ce,ne,ve){Q=b(Q)?Q:typeof Q>"u"?{}:{x:Q,y:se,r:ne,width:Math.max(ue||0,0),height:Math.max(Ce||0,0)};const _e=this.createElement("rect");return this.styledMode||(typeof ve<"u"&&(Q["stroke-width"]=ve,P(Q,_e.crisp(Q))),Q.fill="none"),_e.rSetter=function(oe,ye,Se){_e.r=oe,te(Se,{rx:oe,ry:oe})},_e.rGetter=function(){return _e.r||0},_e.attr(Q)}roundedRect(Q){return this.symbol("roundedRect").attr(Q)}setSize(Q,se,ue){this.width=Q,this.height=se,this.boxWrapper.animate({width:Q,height:se},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Y(ue,!0)?void 0:0}),this.alignElements()}g(Q){const se=this.createElement("g");return Q?se.attr({class:"highcharts-"+Q}):se}image(Q,se,ue,Ce,ne,ve){const _e={preserveAspectRatio:"none"},oe=function(Se,Re){Se.setAttributeNS?Se.setAttributeNS("http://www.w3.org/1999/xlink","href",Re):Se.setAttribute("hc-svg-href",Re)};g(se)&&(_e.x=se),g(ue)&&(_e.y=ue),g(Ce)&&(_e.width=Ce),g(ne)&&(_e.height=ne);const ye=this.createElement("image").attr(_e);return se=function(Se){oe(ye.element,Q),ve.call(ye,Se)},ve?(oe(ye.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ue=new E.Image,ie(ue,"load",se),ue.src=Q,ue.complete&&se({})):oe(ye.element,Q),ye}symbol(Q,se,ue,Ce,ne,ve){const _e=this,oe=/^url\((.*?)\)$/,ye=oe.test(Q),Se=!ye&&(this.symbols[Q]?Q:"circle"),Re=Se&&this.symbols[Se];let Le,$e,rt,Qe;if(Re)typeof se=="number"&&($e=Re.call(this.symbols,Math.round(se||0),Math.round(ue||0),Ce||0,ne||0,ve)),Le=this.path($e),_e.styledMode||Le.attr("fill","none"),P(Le,{symbolName:Se||void 0,x:se,y:ue,width:Ce,height:ne}),ve&&P(Le,ve);else if(ye){rt=Q.match(oe)[1];const qe=Le=this.image(rt);qe.imgwidth=Y(ve&&ve.width,U[rt]&&U[rt].width),qe.imgheight=Y(ve&&ve.height,U[rt]&&U[rt].height),Qe=xe=>xe.attr({width:xe.width,height:xe.height}),["width","height"].forEach(function(xe){qe[xe+"Setter"]=function(Ie,Be){this[Be]=Ie;const{alignByTranslate:Xe,element:Ke,width:ft,height:St,imgwidth:Ot,imgheight:yi}=this;if(Ie=this["img"+Be],j(Ie)){let Wt=1;ve&&ve.backgroundSize==="within"&&ft&&St?(Wt=Math.min(ft/Ot,St/yi),te(Ke,{width:Math.round(Ot*Wt),height:Math.round(yi*Wt)})):Ke&&Ke.setAttribute(Be,Ie),Xe||this.translate(((ft||0)-Ot*Wt)/2,((St||0)-yi*Wt)/2)}}}),j(se)&&qe.attr({x:se,y:ue}),qe.isImg=!0,j(qe.imgwidth)&&j(qe.imgheight)?Qe(qe):(qe.attr({width:0,height:0}),$("img",{onload:function(){const xe=q[_e.chartIndex];this.width===0&&(V(this,{position:"absolute",top:"-999em"}),O.body.appendChild(this)),U[rt]={width:this.width,height:this.height},qe.imgwidth=this.width,qe.imgheight=this.height,qe.element&&Qe(qe),this.parentNode&&this.parentNode.removeChild(this),_e.imgCount--,!_e.imgCount&&xe&&!xe.hasLoaded&&xe.onload()},src:rt}),this.imgCount++)}return Le}clipRect(Q,se,ue,Ce){const ne=ce()+"-",ve=this.createElement("clipPath").attr({id:ne}).add(this.defs);return Q=this.rect(Q,se,ue,Ce,0).add(ve),Q.id=ne,Q.clipPath=ve,Q.count=0,Q}text(Q,se,ue,Ce){const ne={};return Ce&&(this.allowHTML||!this.forExport)?this.html(Q,se,ue):(ne.x=Math.round(se||0),ue&&(ne.y=Math.round(ue)),j(Q)&&(ne.text=Q),Q=this.createElement("text").attr(ne),(!Ce||this.forExport&&!this.allowHTML)&&(Q.xSetter=function(ve,_e,oe){const ye=oe.getElementsByTagName("tspan"),Se=oe.getAttribute(_e);for(let Re=0,Le;Re<ye.length;Re++)Le=ye[Re],Le.getAttribute(_e)===Se&&Le.setAttribute(_e,ve);oe.setAttribute(_e,ve)}),Q)}fontMetrics(Q){Q=J(v.prototype.getStyle.call(Q,"font-size")||0);const se=24>Q?Q+3:Math.round(1.2*Q);return{h:se,b:Math.round(.8*se),f:Q}}rotCorr(Q,se,ue){let Ce=Q;return se&&ue&&(Ce=Math.max(Ce*Math.cos(se*L),4)),{x:-Q/3*Math.sin(se*L),y:Ce}}pathToSegments(Q){const se=[],ue=[],Ce={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let ne=0;ne<Q.length;ne++)A(ue[0])&&g(Q[ne])&&ue.length===Ce[ue[0].toUpperCase()]&&Q.splice(ne,0,ue[0].replace("M","L").replace("m","l")),typeof Q[ne]=="string"&&(ue.length&&se.push(ue.slice(0)),ue.length=0),ue.push(Q[ne]);return se.push(ue.slice(0)),se}label(Q,se,ue,Ce,ne,ve,_e,oe,ye){return new R(this,Q,se,ue,Ce,ne,ve,_e,oe,ye)}alignElements(){this.alignedObjects.forEach(Q=>Q.align())}}return P(fe.prototype,{Element:v,SVG_NS:H,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:K,draw:D}),s.registerRendererType("svg",fe,!0),fe}),i(r,"Core/Renderer/HTML/HTMLElement.js",[r["Core/Globals.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,d,h){const{isFirefox:s,isMS:v,isWebKit:R,win:K}=o,{css:k,defined:z,extend:q,pick:L,pInt:O}=h,G=[];class M extends d{static compose(D){if(h.pushUnique(G,D)){const H=M.prototype,U=D.prototype;U.getSpanCorrection=H.getSpanCorrection,U.htmlCss=H.htmlCss,U.htmlGetBBox=H.htmlGetBBox,U.htmlUpdateTransform=H.htmlUpdateTransform,U.setSpanRotation=H.setSpanRotation}return D}getSpanCorrection(D,H,U){this.xCorr=-D*U,this.yCorr=-H}htmlCss(D){const H=this.element.tagName==="SPAN"&&D&&"width"in D,U=L(H&&D.width,void 0);let E;return H&&(delete D.width,this.textWidth=U,E=!0),D&&D.textOverflow==="ellipsis"&&(D.whiteSpace="nowrap",D.overflow="hidden"),this.styles=q(this.styles,D),k(this.element,D),E&&this.htmlUpdateTransform(),this}htmlGetBBox(){const D=this.element;return{x:D.offsetLeft,y:D.offsetTop,width:D.offsetWidth,height:D.offsetHeight}}htmlUpdateTransform(){if(this.added){var D=this.renderer,H=this.element,U=this.x||0,E=this.y||0,ie=this.textAlign||"left",te={left:0,center:.5,right:1}[ie],$=this.styles,V=$&&$.whiteSpace;if(k(H,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),H.tagName==="SPAN"){$=this.rotation;const x=this.textWidth&&O(this.textWidth),P=[$,ie,H.innerHTML,this.textWidth,this.textAlign].join();let f=!1;if(x!==this.oldTextWidth){if(this.textPxLength)var j=this.textPxLength;else k(H,{width:"",whiteSpace:V||"nowrap"}),j=H.offsetWidth;(x>this.oldTextWidth||j>x)&&(/[ \-]/.test(H.textContent||H.innerText)||H.style.textOverflow==="ellipsis")&&(k(H,{width:j>x||$?x+"px":"auto",display:"block",whiteSpace:V||"normal"}),this.oldTextWidth=x,f=!0)}this.hasBoxWidthChanged=f,P!==this.cTT&&(D=D.fontMetrics(H).b,!z($)||$===(this.oldRotation||0)&&ie===this.oldAlign||this.setSpanRotation($,te,D),this.getSpanCorrection(!z($)&&this.textPxLength||H.offsetWidth,D,te,$,ie)),k(H,{left:U+(this.xCorr||0)+"px",top:E+(this.yCorr||0)+"px"}),this.cTT=P,this.oldRotation=$,this.oldAlign=ie}}else this.alignOnAdd=!0}setSpanRotation(D,H,U){const E={},ie=v&&!/Edge/.test(K.navigator.userAgent)?"-ms-transform":R?"-webkit-transform":s?"MozTransform":K.opera?"-o-transform":void 0;ie&&(E[ie]=E.transform="rotate("+D+"deg)",E[ie+(s?"Origin":"-origin")]=E.transformOrigin=100*H+"% "+U+"px",k(this.element,E))}}return M}),i(r,"Core/Renderer/HTML/HTMLRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(o,d,h,s){const{attr:v,createElement:R,extend:K,pick:k}=s,z=[];class q extends h{static compose(O){return s.pushUnique(z,O)&&(O.prototype.html=q.prototype.html),O}html(O,G,M){const S=this.createElement("span"),D=S.element,H=S.renderer,U=function(E,ie){["opacity","visibility"].forEach(function(te){E[te+"Setter"]=function($,V,j){const x=E.div?E.div.style:ie;d.prototype[te+"Setter"].call(this,$,V,j),x&&(x[V]=$)}}),E.addedSetters=!0};return S.textSetter=function(E){E!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,o.setElementHTML(this.element,k(E,"")),this.textStr=E,S.doTransform=!0)},U(S,S.element.style),S.xSetter=S.ySetter=S.alignSetter=S.rotationSetter=function(E,ie){ie==="align"?S.alignValue=S.textAlign=E:S[ie]=E,S.doTransform=!0},S.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},S.attr({text:O,x:Math.round(G),y:Math.round(M)}).css({position:"absolute"}),H.styledMode||S.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),D.style.whiteSpace="nowrap",S.css=S.htmlCss,S.add=function(E){const ie=H.box.parentNode,te=[];let $;if(this.parentGroup=E){if($=E.div,!$){for(;E;)te.push(E),E=E.parentGroup;te.reverse().forEach(function(V){function j(g,b){V[b]=g,b==="translateX"?f.left=g+"px":f.top=g+"px",V.doTransform=!0}const x=v(V.element,"class"),P=V.styles||{};$=V.div=V.div||R("div",x?{className:x}:void 0,{position:"absolute",left:(V.translateX||0)+"px",top:(V.translateY||0)+"px",display:V.display,opacity:V.opacity,visibility:V.visibility},$||ie);const f=$.style;K(V,{classSetter:function(g){return function(b){this.element.setAttribute("class",b),g.className=b}}($),css:function(g){return S.css.call(V,g),["cursor","pointerEvents"].forEach(b=>{g[b]&&(f[b]=g[b])}),V},on:function(){return te[0].div&&S.on.apply({element:te[0].div,onEvents:V.onEvents},arguments),V},translateXSetter:j,translateYSetter:j}),V.addedSetters||U(V),V.css(P)})}}else $=ie;return $.appendChild(D),S.added=!0,S.alignOnAdd&&S.htmlUpdateTransform(),S},S}}return q}),i(r,"Core/Axis/AxisDefaults.js",[],function(){var o;return function(d){d.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},d.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:h}=this.axis.chart;return h(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},d.defaultLeftAxisOptions={title:{rotation:270}},d.defaultRightAxisOptions={title:{rotation:90}},d.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},d.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(o||(o={})),o}),i(r,"Core/Foundation.js",[r["Core/Utilities.js"]],function(o){const{addEvent:d,isFunction:h,objectEach:s,removeEvent:v}=o;var R;return function(K){K.registerEventOptions=function(k,z){k.eventOptions=k.eventOptions||{},s(z.events,function(q,L){k.eventOptions[L]!==q&&(k.eventOptions[L]&&(v(k,L,k.eventOptions[L]),delete k.eventOptions[L]),h(q)&&(k.eventOptions[L]=q,d(k,L,q,{order:0})))})}}(R||(R={})),R}),i(r,"Core/Axis/Tick.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{deg2rad:s}=d,{clamp:v,correctFloat:R,defined:K,destroyObjectProperties:k,extend:z,fireEvent:q,isNumber:L,merge:O,objectEach:G,pick:M}=h;class S{constructor(H,U,E,ie,te){this.isNewLabel=this.isNew=!0,this.axis=H,this.pos=U,this.type=E||"",this.parameters=te||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,q(this,"init"),E||ie||this.addLabel()}addLabel(){const H=this,U=H.axis;var E=U.options;const ie=U.chart;var te=U.categories;const $=U.logarithmic,V=U.names,j=H.pos,x=M(H.options&&H.options.labels,E.labels);var P=U.tickPositions;const f=j===P[0],g=j===P[P.length-1],b=(!x.step||x.step===1)&&U.tickInterval===1;P=P.info;let A=H.label,X,Y,J;te=this.parameters.category||(te?M(te[j],V[j],j):j),$&&L(te)&&(te=R($.lin2log(te))),U.dateTime&&(P?(Y=ie.time.resolveDTLFormat(E.dateTimeLabelFormats[!E.grid&&P.higherRanks[j]||P.unitName]),X=Y.main):L(te)&&(X=U.dateTime.getXDateFormat(te,E.dateTimeLabelFormats||{}))),H.isFirst=f,H.isLast=g;const ce={axis:U,chart:ie,dateTimeLabelFormat:X,isFirst:f,isLast:g,pos:j,tick:H,tickPositionInfo:P,value:te};q(this,"labelFormat",ce);const pe=F=>x.formatter?x.formatter.call(F,F):x.format?(F.text=U.defaultLabelFormatter.call(F,F),o.format(x.format,F,ie)):U.defaultLabelFormatter.call(F,F);E=pe.call(ce,ce);const fe=Y&&Y.list;H.shortenLabel=fe?function(){for(J=0;J<fe.length;J++)if(z(ce,{dateTimeLabelFormat:fe[J]}),A.attr({text:pe.call(ce,ce)}),A.getBBox().width<U.getSlotWidth(H)-2*x.padding)return;A.attr({text:""})}:void 0,b&&U._addedPlotLB&&H.moveLabel(E,x),K(A)||H.movedLabel?A&&A.textStr!==E&&!b&&(!A.textWidth||x.style.width||A.styles.width||A.css({width:null}),A.attr({text:E}),A.textPxLength=A.getBBox().width):(H.label=A=H.createLabel({x:0,y:0},E,x),H.rotation=0)}createLabel(H,U,E){const ie=this.axis,te=ie.chart;return(H=K(U)&&E.enabled?te.renderer.text(U,H.x,H.y,E.useHTML).add(ie.labelGroup):null)&&(te.styledMode||H.css(O(E.style)),H.textPxLength=H.getBBox().width),H}destroy(){k(this,this.axis)}getPosition(H,U,E,ie){const te=this.axis,$=te.chart,V=ie&&$.oldChartHeight||$.chartHeight;return H={x:H?R(te.translate(U+E,void 0,void 0,ie)+te.transB):te.left+te.offset+(te.opposite?(ie&&$.oldChartWidth||$.chartWidth)-te.right-te.left:0),y:H?V-te.bottom+te.offset-(te.opposite?te.height:0):R(V-te.translate(U+E,void 0,void 0,ie)-te.transB)},H.y=v(H.y,-1e5,1e5),q(this,"afterGetPosition",{pos:H}),H}getLabelPosition(H,U,E,ie,te,$,V,j){const x=this.axis,P=x.transA,f=x.isLinked&&x.linkedParent?x.linkedParent.reversed:x.reversed,g=x.staggerLines,b=x.tickRotCorr||{x:0,y:0},A=ie||x.reserveSpaceDefault?0:-x.labelOffset*(x.labelAlign==="center"?.5:1),X=te.distance,Y={};return E=x.side===0?E.rotation?-X:-E.getBBox().height:x.side===2?b.y+X:Math.cos(E.rotation*s)*(b.y-E.getBBox(!1,0).height/2),K(te.y)&&(E=x.side===0&&x.horiz?te.y+E:te.y),H=H+M(te.x,[0,1,0,-1][x.side]*X)+A+b.x-($&&ie?$*P*(f?-1:1):0),U=U+E-($&&!ie?$*P*(f?1:-1):0),g&&(ie=V/(j||1)%g,x.opposite&&(ie=g-ie-1),U+=x.labelOffset/g*ie),Y.x=H,Y.y=Math.round(U),q(this,"afterGetLabelPosition",{pos:Y,tickmarkOffset:$,index:V}),Y}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(H,U,E,ie,te,$){return $.crispLine([["M",H,U],["L",H+(te?0:-E),U+(te?E:0)]],ie)}handleOverflow(H){const U=this.axis,E=U.options.labels,ie=H.x;var te=U.chart.chartWidth,$=U.chart.spacing;const V=M(U.labelLeft,Math.min(U.pos,$[3]));$=M(U.labelRight,Math.max(U.isRadial?0:U.pos+U.len,te-$[1]));const j=this.label,x=this.rotation,P={left:0,center:.5,right:1}[U.labelAlign||j.attr("align")],f=j.getBBox().width,g=U.getSlotWidth(this),b={};let A=g,X=1,Y;x||E.overflow!=="justify"?0>x&&ie-P*f<V?Y=Math.round(ie/Math.cos(x*s)-V):0<x&&ie+P*f>$&&(Y=Math.round((te-ie)/Math.cos(x*s))):(te=ie+(1-P)*f,ie-P*f<V?A=H.x+A*(1-P)-V:te>$&&(A=$-H.x+A*P,X=-1),A=Math.min(g,A),A<g&&U.labelAlign==="center"&&(H.x+=X*(g-A-P*(g-Math.min(f,A)))),(f>A||U.autoRotation&&(j.styles||{}).width)&&(Y=A)),Y&&(this.shortenLabel?this.shortenLabel():(b.width=Math.floor(Y)+"px",(E.style||{}).textOverflow||(b.textOverflow="ellipsis"),j.css(b)))}moveLabel(H,U){const E=this;var ie=E.label;const te=E.axis;let $=!1;ie&&ie.textStr===H?(E.movedLabel=ie,$=!0,delete E.label):G(te.ticks,function(V){$||V.isNew||V===E||!V.label||V.label.textStr!==H||(E.movedLabel=V.label,$=!0,V.labelPos=E.movedLabel.xy,delete V.label)}),$||!E.labelPos&&!ie||(ie=E.labelPos||ie.xy,E.movedLabel=E.createLabel(ie,H,U),E.movedLabel&&E.movedLabel.attr({opacity:0}))}render(H,U,E){var ie=this.axis,te=ie.horiz,$=this.pos,V=M(this.tickmarkOffset,ie.tickmarkOffset);$=this.getPosition(te,$,V,U),V=$.x;const j=$.y;ie=te&&V===ie.pos+ie.len||!te&&j===ie.pos?-1:1,te=M(E,this.label&&this.label.newOpacity,1),E=M(E,1),this.isActive=!0,this.renderGridLine(U,E,ie),this.renderMark($,E,ie),this.renderLabel($,U,te,H),this.isNew=!1,q(this,"afterRender")}renderGridLine(H,U,E){const ie=this.axis,te=ie.options,$={},V=this.pos,j=this.type,x=M(this.tickmarkOffset,ie.tickmarkOffset),P=ie.chart.renderer;let f=this.gridLine,g=te.gridLineWidth,b=te.gridLineColor,A=te.gridLineDashStyle;this.type==="minor"&&(g=te.minorGridLineWidth,b=te.minorGridLineColor,A=te.minorGridLineDashStyle),f||(ie.chart.styledMode||($.stroke=b,$["stroke-width"]=g||0,$.dashstyle=A),j||($.zIndex=1),H&&(U=0),this.gridLine=f=P.path().attr($).addClass("highcharts-"+(j?j+"-":"")+"grid-line").add(ie.gridGroup)),f&&(E=ie.getPlotLinePath({value:V+x,lineWidth:f.strokeWidth()*E,force:"pass",old:H,acrossPanes:!1}))&&f[H||this.isNew?"attr":"animate"]({d:E,opacity:U})}renderMark(H,U,E){const ie=this.axis;var te=ie.options;const $=ie.chart.renderer,V=this.type,j=ie.tickSize(V?V+"Tick":"tick"),x=H.x;H=H.y;const P=M(te[V!=="minor"?"tickWidth":"minorTickWidth"],!V&&ie.isXAxis?1:0);te=te[V!=="minor"?"tickColor":"minorTickColor"];let f=this.mark;const g=!f;j&&(ie.opposite&&(j[0]=-j[0]),f||(this.mark=f=$.path().addClass("highcharts-"+(V?V+"-":"")+"tick").add(ie.axisGroup),ie.chart.styledMode||f.attr({stroke:te,"stroke-width":P})),f[g?"attr":"animate"]({d:this.getMarkPath(x,H,j[0],f.strokeWidth()*E,ie.horiz,$),opacity:U}))}renderLabel(H,U,E,ie){var te=this.axis;const $=te.horiz,V=te.options,j=this.label,x=V.labels,P=x.step;te=M(this.tickmarkOffset,te.tickmarkOffset);const f=H.x;H=H.y;let g=!0;j&&L(f)&&(j.xy=H=this.getLabelPosition(f,H,j,$,x,te,ie,P),this.isFirst&&!this.isLast&&!V.showFirstLabel||this.isLast&&!this.isFirst&&!V.showLastLabel?g=!1:!$||x.step||x.rotation||U||E===0||this.handleOverflow(H),P&&ie%P&&(g=!1),g&&L(H.y)?(H.opacity=E,j[this.isNewLabel?"attr":"animate"](H).show(!0),this.isNewLabel=!1):(j.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const H=this.label,U=this.axis;H&&!this.isNew&&(H.animate({opacity:0},void 0,H.destroy),delete this.label),U.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return S}),i(r,"Core/Axis/Axis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/AxisDefaults.js"],r["Core/Color/Color.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Axis/Tick.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R,K,k){const{animObject:z}=o,{defaultOptions:q}=s,{registerEventOptions:L}=v,{deg2rad:O}=R,{arrayMax:G,arrayMin:M,clamp:S,correctFloat:D,defined:H,destroyObjectProperties:U,erase:E,error:ie,extend:te,fireEvent:$,isArray:V,isNumber:j,isString:x,merge:P,normalizeTickInterval:f,objectEach:g,pick:b,relativeLength:A,removeEvent:X,splat:Y,syncTimeout:J}=k,ce=(fe,F)=>f(F,void 0,void 0,b(fe.options.allowDecimals,.5>F||fe.tickAmount!==void 0),!!fe.tickAmount);class pe{constructor(F,Q){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(F,Q)}init(F,Q){const se=Q.isX;this.chart=F,this.horiz=F.inverted&&!this.isZAxis?!se:se,this.isXAxis=se,this.coll=this.coll||(se?"xAxis":"yAxis"),$(this,"init",{userOptions:Q}),this.opposite=b(Q.opposite,this.opposite),this.side=b(Q.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(Q);const ue=this.options,Ce=ue.labels,ne=ue.type;this.userOptions=Q,this.minPixelPadding=0,this.reversed=b(ue.reversed,this.reversed),this.visible=ue.visible,this.zoomEnabled=ue.zoomEnabled,this.hasNames=ne==="category"||ue.categories===!0,this.categories=ue.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=H(ue.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=ue.minRange||ue.maxZoom,this.range=ue.range,this.offset=ue.offset||0,this.min=this.max=null,Q=b(ue.crosshair,Y(F.options.tooltip.crosshairs)[se?0:1]),this.crosshair=Q===!0?{}:Q,F.axes.indexOf(this)===-1&&(se?F.axes.splice(F.xAxis.length,0,this):F.axes.push(this),F[this.coll].push(this)),this.series=this.series||[],F.inverted&&!this.isZAxis&&se&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=j(Ce.rotation)?Ce.rotation:void 0,L(this,ue),$(this,"afterInit")}setOptions(F){this.options=P(d.defaultXAxisOptions,this.coll==="yAxis"&&d.defaultYAxisOptions,[d.defaultTopAxisOptions,d.defaultRightAxisOptions,d.defaultBottomAxisOptions,d.defaultLeftAxisOptions][this.side],P(q[this.coll],F)),$(this,"afterSetOptions",{userOptions:F})}defaultLabelFormatter(F){var Q=this.axis;({numberFormatter:F}=this.chart);const se=j(this.value)?this.value:NaN,ue=Q.chart.time,Ce=this.dateTimeLabelFormat;var ne=q.lang;const ve=ne.numericSymbols;ne=ne.numericSymbolMagnitude||1e3;const _e=Q.logarithmic?Math.abs(se):Q.tickInterval;let oe=ve&&ve.length,ye;if(Q.categories)ye=`${this.value}`;else if(Ce)ye=ue.dateFormat(Ce,se);else if(oe&&1e3<=_e)for(;oe--&&typeof ye>"u";)Q=Math.pow(ne,oe+1),_e>=Q&&10*se%Q===0&&ve[oe]!==null&&se!==0&&(ye=F(se/Q,-1)+ve[oe]);return typeof ye>"u"&&(ye=1e4<=Math.abs(se)?F(se,-1):F(se,-1,void 0,"")),ye}getSeriesExtremes(){const F=this,Q=F.chart;let se;$(this,"getSeriesExtremes",null,function(){F.hasVisibleSeries=!1,F.dataMin=F.dataMax=F.threshold=null,F.softThreshold=!F.isXAxis,F.series.forEach(function(ue){if(ue.visible||!Q.options.chart.ignoreHiddenSeries){var Ce=ue.options;let ne=Ce.threshold,ve,_e;F.hasVisibleSeries=!0,F.positiveValuesOnly&&0>=ne&&(ne=null),F.isXAxis?(Ce=ue.xData)&&Ce.length&&(Ce=F.logarithmic?Ce.filter(oe=>0<oe):Ce,se=ue.getXExtremes(Ce),ve=se.min,_e=se.max,j(ve)||ve instanceof Date||(Ce=Ce.filter(j),se=ue.getXExtremes(Ce),ve=se.min,_e=se.max),Ce.length&&(F.dataMin=Math.min(b(F.dataMin,ve),ve),F.dataMax=Math.max(b(F.dataMax,_e),_e))):(ue=ue.applyExtremes(),j(ue.dataMin)&&(ve=ue.dataMin,F.dataMin=Math.min(b(F.dataMin,ve),ve)),j(ue.dataMax)&&(_e=ue.dataMax,F.dataMax=Math.max(b(F.dataMax,_e),_e)),H(ne)&&(F.threshold=ne),(!Ce.softThreshold||F.positiveValuesOnly)&&(F.softThreshold=!1))}})}),$(this,"afterGetSeriesExtremes")}translate(F,Q,se,ue,Ce,ne){const ve=this.linkedParent||this,_e=ue&&ve.old?ve.old.min:ve.min;if(!j(_e))return NaN;const oe=ve.minPixelPadding;Ce=(ve.isOrdinal||ve.brokenAxis&&ve.brokenAxis.hasBreaks||ve.logarithmic&&Ce)&&ve.lin2val;let ye=1,Se=0;return ue=ue&&ve.old?ve.old.transA:ve.transA,ue||(ue=ve.transA),se&&(ye*=-1,Se=ve.len),ve.reversed&&(ye*=-1,Se-=ye*(ve.sector||ve.len)),Q?(ne=(F*ye+Se-oe)/ue+_e,Ce&&(ne=ve.lin2val(ne))):(Ce&&(F=ve.val2lin(F)),F=ye*(F-_e)*ue,ne=(ve.isRadial?F:D(F))+Se+ye*oe+(j(ne)?ue*ne:0)),ne}toPixels(F,Q){return this.translate(F,!1,!this.horiz,void 0,!0)+(Q?0:this.pos)}toValue(F,Q){return this.translate(F-(Q?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(F){function Q(Be,Xe,Ke){return $e!=="pass"&&(Be<Xe||Be>Ke)&&($e?Be=S(Be,Xe,Ke):Ie=!0),Be}const se=this,ue=se.chart,Ce=se.left,ne=se.top,ve=F.old,_e=F.value,oe=F.lineWidth,ye=ve&&ue.oldChartHeight||ue.chartHeight,Se=ve&&ue.oldChartWidth||ue.chartWidth,Re=se.transB;let Le=F.translatedValue,$e=F.force,rt,Qe,qe,xe,Ie;return F={value:_e,lineWidth:oe,old:ve,force:$e,acrossPanes:F.acrossPanes,translatedValue:Le},$(this,"getPlotLinePath",F,function(Be){Le=b(Le,se.translate(_e,void 0,void 0,ve)),Le=S(Le,-1e5,1e5),rt=qe=Math.round(Le+Re),Qe=xe=Math.round(ye-Le-Re),j(Le)?se.horiz?(Qe=ne,xe=ye-se.bottom,rt=qe=Q(rt,Ce,Ce+se.width)):(rt=Ce,qe=Se-se.right,Qe=xe=Q(Qe,ne,ne+se.height)):(Ie=!0,$e=!1),Be.path=Ie&&!$e?null:ue.renderer.crispLine([["M",rt,Qe],["L",qe,xe]],oe||1)}),F.path}getLinearTickPositions(F,Q,se){const ue=D(Math.floor(Q/F)*F);se=D(Math.ceil(se/F)*F);const Ce=[];let ne,ve;if(D(ue+F)===ue&&(ve=20),this.single)return[Q];for(Q=ue;Q<=se&&(Ce.push(Q),Q=D(Q+F,ve),Q!==ne);)ne=Q;return Ce}getMinorTickInterval(){const F=this.options;return F.minorTicks===!0?b(F.minorTickInterval,"auto"):F.minorTicks===!1?null:F.minorTickInterval}getMinorTickPositions(){var F=this.options;const Q=this.tickPositions,se=this.minorTickInterval;var ue=this.pointRangePadding||0;const Ce=this.min-ue;ue=this.max+ue;const ne=ue-Ce;let ve=[];if(ne&&ne/se<this.len/3){const _e=this.logarithmic;if(_e)this.paddedTicks.forEach(function(oe,ye,Se){ye&&ve.push.apply(ve,_e.getLogTickPositions(se,Se[ye-1],Se[ye],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ve=ve.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(se),Ce,ue,F.startOfWeek));else for(F=Ce+(Q[0]-Ce)%se;F<=ue&&F!==ve[0];F+=se)ve.push(F)}return ve.length!==0&&this.trimTicks(ve),ve}adjustForMinRange(){const F=this.options,Q=this.logarithmic;let se=this.min;var ue=this.max;let Ce,ne=0,ve,_e,oe,ye,Se;if(this.isXAxis&&typeof this.minRange>"u"&&!Q&&(H(F.min)||H(F.max)||H(F.floor)||H(F.ceiling)?this.minRange=null:(this.series.forEach(function(Le){if(oe=Le.xData,ye=Le.xIncrement?1:oe.length-1,1<oe.length)for(ve=ye;0<ve;ve--)_e=oe[ve]-oe[ve-1],(!ne||_e<ne)&&(ne=_e)}),this.minRange=Math.min(5*ne,this.dataMax-this.dataMin))),ue-se<this.minRange){Ce=this.dataMax-this.dataMin>=this.minRange,Se=this.minRange;var Re=(Se-ue+se)/2;Re=[se-Re,b(F.min,se-Re)],Ce&&(Re[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),se=G(Re),ue=[se+Se,b(F.max,se+Se)],Ce&&(ue[2]=Q?Q.log2lin(this.dataMax):this.dataMax),ue=M(ue),ue-se<Se&&(Re[0]=ue-Se,Re[1]=b(F.min,ue-Se),se=G(Re))}this.min=se,this.max=ue}getClosest(){let F;return this.categories?F=1:this.series.forEach(function(Q){const se=Q.closestPointRange,ue=Q.visible||!Q.chart.options.chart.ignoreHiddenSeries;!Q.noSharedTooltip&&H(se)&&ue&&(F=H(F)?Math.min(F,se):se)}),F}nameToX(F){const Q=V(this.options.categories),se=Q?this.categories:this.names;let ue=F.options.x,Ce;return F.series.requireSorting=!1,H(ue)||(ue=this.options.uniqueNames&&se?Q?se.indexOf(F.name):b(se.keys[F.name],-1):F.series.autoIncrement()),ue===-1?!Q&&se&&(Ce=se.length):Ce=ue,typeof Ce<"u"?(this.names[Ce]=F.name,this.names.keys[F.name]=Ce):F.x&&(Ce=F.x),Ce}updateNames(){const F=this,Q=this.names;0<Q.length&&(Object.keys(Q.keys).forEach(function(se){delete Q.keys[se]}),Q.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(se){se.xIncrement=null,(!se.points||se.isDirtyData)&&(F.max=Math.max(F.max,se.xData.length-1),se.processData(),se.generatePoints()),se.data.forEach(function(ue,Ce){let ne;ue&&ue.options&&typeof ue.name<"u"&&(ne=F.nameToX(ue),typeof ne<"u"&&ne!==ue.x&&(ue.x=ne,se.xData[Ce]=ne))})}))}setAxisTranslation(){const F=this,Q=F.max-F.min;var se=F.linkedParent;const ue=!!F.categories,Ce=F.isXAxis;let ne=F.axisPointRange||0,ve,_e=0,oe=0,ye=F.transA;(Ce||ue||ne)&&(ve=F.getClosest(),se?(_e=se.minPointOffset,oe=se.pointRangePadding):F.series.forEach(function(Se){const Re=ue?1:Ce?b(Se.options.pointRange,ve,0):F.axisPointRange||0,Le=Se.options.pointPlacement;ne=Math.max(ne,Re),(!F.single||ue)&&(Se=Se.is("xrange")?!Ce:Ce,_e=Math.max(_e,Se&&x(Le)?0:Re/2),oe=Math.max(oe,Se&&Le==="on"?0:Re))}),se=F.ordinal&&F.ordinal.slope&&ve?F.ordinal.slope/ve:1,F.minPointOffset=_e*=se,F.pointRangePadding=oe*=se,F.pointRange=Math.min(ne,F.single&&ue?1:Q),Ce&&(F.closestPointRange=ve)),F.translationSlope=F.transA=ye=F.staticScale||F.len/(Q+oe||1),F.transB=F.horiz?F.left:F.bottom,F.minPixelPadding=ye*_e,$(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(F){var Q=this.chart;const se=this.logarithmic,ue=this.options,Ce=this.isXAxis,ne=this.isLinked,ve=ue.tickPixelInterval,_e=this.categories,oe=this.softThreshold;let ye=ue.maxPadding,Se=ue.minPadding,Re=j(ue.tickInterval)&&0<=ue.tickInterval?ue.tickInterval:void 0,Le=j(this.threshold)?this.threshold:null,$e,rt,Qe;if(this.dateTime||_e||ne||this.getTickAmount(),rt=b(this.userMin,ue.min),Qe=b(this.userMax,ue.max),ne){this.linkedParent=Q[this.coll][ue.linkedTo];var qe=this.linkedParent.getExtremes();this.min=b(qe.min,qe.dataMin),this.max=b(qe.max,qe.dataMax),ue.type!==this.linkedParent.options.type&&ie(11,1,Q)}else oe&&H(Le)&&(this.dataMin>=Le?(qe=Le,Se=0):this.dataMax<=Le&&($e=Le,ye=0)),this.min=b(rt,qe,this.dataMin),this.max=b(Qe,$e,this.dataMax);if(se&&(this.positiveValuesOnly&&!F&&0>=Math.min(this.min,b(this.dataMin,this.min))&&ie(10,1,Q),this.min=D(se.log2lin(this.min),16),this.max=D(se.log2lin(this.max),16)),this.range&&H(this.max)&&(this.userMin=this.min=rt=Math.max(this.dataMin,this.minFromRange()),this.userMax=Qe=this.max,this.range=null),$(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(_e||this.axisPointRange||this.stacking&&this.stacking.usePercentage||ne)&&H(this.min)&&H(this.max)&&(Q=this.max-this.min)&&(!H(rt)&&Se&&(this.min-=Q*Se),!H(Qe)&&ye&&(this.max+=Q*ye)),j(this.userMin)||(j(ue.softMin)&&ue.softMin<this.min&&(this.min=rt=ue.softMin),j(ue.floor)&&(this.min=Math.max(this.min,ue.floor))),j(this.userMax)||(j(ue.softMax)&&ue.softMax>this.max&&(this.max=Qe=ue.softMax),j(ue.ceiling)&&(this.max=Math.min(this.max,ue.ceiling))),oe&&H(this.dataMin)&&(Le=Le||0,!H(rt)&&this.min<Le&&this.dataMin>=Le?this.min=this.options.minRange?Math.min(Le,this.max-this.minRange):Le:!H(Qe)&&this.max>Le&&this.dataMax<=Le&&(this.max=this.options.minRange?Math.max(Le,this.min+this.minRange):Le)),j(this.min)&&j(this.max)&&!this.chart.polar&&this.min>this.max&&(H(this.options.min)?this.max=this.min:H(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:ne&&this.linkedParent&&!Re&&ve===this.linkedParent.options.tickPixelInterval?Re=this.linkedParent.tickInterval:b(Re,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,_e?1:(this.max-this.min)*ve/Math.max(this.len,ve)),Ce&&!F){const xe=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Ie){Ie.forceCrop=Ie.forceCropping&&Ie.forceCropping(),Ie.processData(xe)}),$(this,"postProcessData",{hasExtremesChanged:xe})}this.setAxisTranslation(),$(this,"initialAxisTranslation"),this.pointRange&&!Re&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),F=b(ue.minTickInterval,this.dateTime&&!this.series.some(xe=>xe.noSharedTooltip)?this.closestPointRange:0),!Re&&this.tickInterval<F&&(this.tickInterval=F),this.dateTime||this.logarithmic||Re||(this.tickInterval=ce(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var F=this.options;const Q=F.tickPositions,se=F.tickPositioner;var ue=this.getMinorTickInterval(),Ce=this.hasVerticalPanning(),ne=this.coll==="colorAxis";const ve=(ne||!Ce)&&F.startOnTick;Ce=(ne||!Ce)&&F.endOnTick,ne=[];let _e;if(this.tickmarkOffset=this.categories&&F.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=ue==="auto"&&this.tickInterval?this.tickInterval/F.minorTicksPerMajor:ue,this.single=this.min===this.max&&H(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||F.allowDecimals!==!1),Q)ne=Q.slice();else if(j(this.min)&&j(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)ne=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,F.units),this.min,this.max,F.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)ne=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(ue=F=this.tickInterval;ue<=2*F&&(ne=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&ne.length>this.tickAmount);)this.tickInterval=ce(this,ue*=1.1);else ne=[this.min,this.max],ie(19,!1,this.chart);ne.length>this.len&&(ne=[ne[0],ne[ne.length-1]],ne[0]===ne[1]&&(ne.length=1)),se&&(this.tickPositions=ne,(_e=se.apply(this,[this.min,this.max]))&&(ne=_e))}this.tickPositions=ne,this.paddedTicks=ne.slice(0),this.trimTicks(ne,ve,Ce),!this.isLinked&&j(this.min)&&j(this.max)&&(this.single&&2>ne.length&&!this.categories&&!this.series.some(oe=>oe.is("heatmap")&&oe.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),Q||_e||this.adjustTickAmount()),$(this,"afterSetTickPositions")}trimTicks(F,Q,se){const ue=F[0],Ce=F[F.length-1],ne=!this.isOrdinal&&this.minPointOffset||0;if($(this,"trimTicks"),!this.isLinked){if(Q&&ue!==-1/0)this.min=ue;else for(;this.min-ne>F[0];)F.shift();if(se)this.max=Ce;else for(;this.max+ne<F[F.length-1];)F.pop();F.length===0&&H(ue)&&!this.options.tickPositions&&F.push((Ce+ue)/2)}}alignToOthers(){const F=this,Q=[this],se=F.options,ue=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Ce=[];let ne;if(F.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&se.alignTicks||ue)&&se.startOnTick!==!1&&se.endOnTick!==!1&&!F.logarithmic){const ve=oe=>{const{horiz:ye,options:Se}=oe;return[ye?Se.left:Se.top,Se.width,Se.height,Se.pane].join()},_e=ve(this);this.chart[this.coll].forEach(function(oe){const{series:ye}=oe;ye.length&&ye.some(Se=>Se.visible)&&oe!==F&&ve(oe)===_e&&(ne=!0,Q.push(oe))})}if(ne&&ue){Q.forEach(_e=>{_e=_e.getThresholdAlignment(F),j(_e)&&Ce.push(_e)});const ve=1<Ce.length?Ce.reduce((_e,oe)=>_e+oe,0)/Ce.length:void 0;Q.forEach(_e=>{_e.thresholdAlignment=ve})}return ne}getThresholdAlignment(F){if((!j(this.dataMin)||this!==F&&this.series.some(Q=>Q.isDirty||Q.isDirtyData))&&this.getSeriesExtremes(),j(this.threshold))return F=S((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(F=1-F),F}getTickAmount(){const F=this.options,Q=F.tickPixelInterval;let se=F.tickAmount;!H(F.tickInterval)&&!se&&this.len<Q&&!this.isRadial&&!this.logarithmic&&F.startOnTick&&F.endOnTick&&(se=2),!se&&this.alignToOthers()&&(se=Math.ceil(this.len/Q)+1),4>se&&(this.finalTickAmt=se,se=5),this.tickAmount=se}adjustTickAmount(){const F=this,{finalTickAmt:Q,max:se,min:ue,options:Ce,tickPositions:ne,tickAmount:ve,thresholdAlignment:_e}=F,oe=ne&&ne.length;var ye=b(F.threshold,F.softThreshold?0:null),Se=F.tickInterval;let Re;if(j(_e)&&(Re=.5>_e?Math.ceil(_e*(ve-1)):Math.floor(_e*(ve-1)),Ce.reversed&&(Re=ve-1-Re)),F.hasData()&&j(ue)&&j(se)){const Le=()=>{F.transA*=(oe-1)/(ve-1),F.min=Ce.startOnTick?ne[0]:Math.min(ue,ne[0]),F.max=Ce.endOnTick?ne[ne.length-1]:Math.max(se,ne[ne.length-1])};if(j(Re)&&j(F.threshold)){for(;ne[Re]!==ye||ne.length!==ve||ne[0]>ue||ne[ne.length-1]<se;){for(ne.length=0,ne.push(F.threshold);ne.length<ve;)ne[Re]===void 0||ne[Re]>F.threshold?ne.unshift(D(ne[0]-Se)):ne.push(D(ne[ne.length-1]+Se));if(Se>8*F.tickInterval)break;Se*=2}Le()}else if(oe<ve){for(;ne.length<ve;)ne.length%2||ue===ye?ne.push(D(ne[ne.length-1]+Se)):ne.unshift(D(ne[0]-Se));Le()}if(H(Q)){for(Se=ye=ne.length;Se--;)(Q===3&&Se%2===1||2>=Q&&0<Se&&Se<ye-1)&&ne.splice(Se,1);F.finalTickAmt=void 0}}}setScale(){let F=!1,Q=!1;this.series.forEach(function(ue){F=F||ue.isDirtyData||ue.isDirty,Q=Q||ue.xAxis&&ue.xAxis.isDirty||!1}),this.setAxisSize();const se=this.len!==(this.old&&this.old.len);se||F||Q||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=se||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),F&&this.panningState&&(this.panningState.isDirty=!0),$(this,"afterSetScale")}setExtremes(F,Q,se,ue,Ce){const ne=this,ve=ne.chart;se=b(se,!0),ne.series.forEach(function(_e){delete _e.kdTree}),Ce=te(Ce,{min:F,max:Q}),$(ne,"setExtremes",Ce,function(){ne.userMin=F,ne.userMax=Q,ne.eventArgs=Ce,se&&ve.redraw(ue)})}zoom(F,Q){const se=this,ue=this.dataMin,Ce=this.dataMax,ne=this.options,ve=Math.min(ue,b(ne.min,ue)),_e=Math.max(Ce,b(ne.max,Ce));return F={newMin:F,newMax:Q},$(this,"zoom",F,function(oe){let ye=oe.newMin,Se=oe.newMax;(ye!==se.min||Se!==se.max)&&(se.allowZoomOutside||(H(ue)&&(ye<ve&&(ye=ve),ye>_e&&(ye=_e)),H(Ce)&&(Se<ve&&(Se=ve),Se>_e&&(Se=_e))),se.displayBtn=typeof ye<"u"||typeof Se<"u",se.setExtremes(ye,Se,!1,void 0,{trigger:"zoom"})),oe.zoomed=!0}),F.zoomed}setAxisSize(){const F=this.chart;var Q=this.options;const se=Q.offsets||[0,0,0,0],ue=this.horiz,Ce=this.width=Math.round(A(b(Q.width,F.plotWidth-se[3]+se[1]),F.plotWidth)),ne=this.height=Math.round(A(b(Q.height,F.plotHeight-se[0]+se[2]),F.plotHeight)),ve=this.top=Math.round(A(b(Q.top,F.plotTop+se[0]),F.plotHeight,F.plotTop));Q=this.left=Math.round(A(b(Q.left,F.plotLeft+se[3]),F.plotWidth,F.plotLeft)),this.bottom=F.chartHeight-ne-ve,this.right=F.chartWidth-Ce-Q,this.len=Math.max(ue?Ce:ne,0),this.pos=ue?Q:ve}getExtremes(){const F=this.logarithmic;return{min:F?D(F.lin2log(this.min)):this.min,max:F?D(F.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(F){var Q=this.logarithmic;const se=Q?Q.lin2log(this.min):this.min;return Q=Q?Q.lin2log(this.max):this.max,F===null||F===-1/0?F=se:F===1/0?F=Q:se>F?F=se:Q<F&&(F=Q),this.translate(F,0,1,0,1)}autoLabelAlign(F){const Q=(b(F,0)-90*this.side+720)%360;return F={align:"center"},$(this,"autoLabelAlign",F,function(se){15<Q&&165>Q?se.align="right":195<Q&&345>Q&&(se.align="left")}),F.align}tickSize(F){const Q=this.options,se=b(Q[F==="tick"?"tickWidth":"minorTickWidth"],F==="tick"&&this.isXAxis&&!this.categories?1:0);let ue=Q[F==="tick"?"tickLength":"minorTickLength"],Ce;return se&&ue&&(Q[F+"Position"]==="inside"&&(ue=-ue),Ce=[ue,se]),F={tickSize:Ce},$(this,"afterTickSize",F),F.tickSize}labelMetrics(){const F=this.chart.renderer;var Q=this.ticks;return Q=Q[Object.keys(Q)[0]]||{},this.chart.renderer.fontMetrics(Q.label||Q.movedLabel||F.box)}unsquish(){const F=this.options.labels;var Q=this.horiz;const se=this.tickInterval,ue=this.len/(((this.categories?1:0)+this.max-this.min)/se),Ce=F.rotation,ne=.75*this.labelMetrics().h,ve=Math.max(this.max-this.min,0),_e=function(Le){let $e=Le/(ue||1);return $e=1<$e?Math.ceil($e):1,$e*se>ve&&Le!==1/0&&ue!==1/0&&ve&&($e=Math.ceil(ve/se)),D($e*se)};let oe=se,ye,Se=Number.MAX_VALUE,Re;if(Q){if(F.staggerLines||(j(Ce)?Re=[Ce]:ue<F.autoRotationLimit&&(Re=F.autoRotation)),Re){let Le;for(const $e of Re)($e===Ce||$e&&-90<=$e&&90>=$e)&&(Q=_e(Math.abs(ne/Math.sin(O*$e))),Le=Q+Math.abs($e/360),Le<Se&&(Se=Le,ye=$e,oe=Q))}}else oe=_e(ne);return this.autoRotation=Re,this.labelRotation=b(ye,j(Ce)?Ce:0),F.step?se:oe}getSlotWidth(F){const Q=this.chart,se=this.horiz,ue=this.options.labels,Ce=Math.max(this.tickPositions.length-(this.categories?0:1),1),ne=Q.margin[3];if(F&&j(F.slotWidth))return F.slotWidth;if(se&&2>ue.step)return ue.rotation?0:(this.staggerLines||1)*this.len/Ce;if(!se){if(F=ue.style.width,F!==void 0)return parseInt(String(F),10);if(ne)return ne-Q.spacing[3]}return .33*Q.chartWidth}renderUnsquish(){const F=this.chart,Q=F.renderer,se=this.tickPositions,ue=this.ticks,Ce=this.options.labels,ne=Ce.style,ve=this.horiz,_e=this.getSlotWidth();var oe=Math.max(1,Math.round(_e-2*Ce.padding));const ye={},Se=this.labelMetrics(),Re=ne.textOverflow;let Le,$e,rt=0;if(x(Ce.rotation)||(ye.rotation=Ce.rotation||0),se.forEach(function(qe){qe=ue[qe],qe.movedLabel&&qe.replaceMovedLabel(),qe&&qe.label&&qe.label.textPxLength>rt&&(rt=qe.label.textPxLength)}),this.maxLabelLength=rt,this.autoRotation)rt>oe&&rt>Se.h?ye.rotation=this.labelRotation:this.labelRotation=0;else if(_e&&(Le=oe,!Re))for($e="clip",oe=se.length;!ve&&oe--;){var Qe=se[oe];(Qe=ue[Qe].label)&&(Qe.styles&&Qe.styles.textOverflow==="ellipsis"?Qe.css({textOverflow:"clip"}):Qe.textPxLength>_e&&Qe.css({width:_e+"px"}),Qe.getBBox().height>this.len/se.length-(Se.h-Se.f)&&(Qe.specificTextOverflow="ellipsis"))}ye.rotation&&(Le=rt>.5*F.chartHeight?.33*F.chartHeight:rt,Re||($e="ellipsis")),(this.labelAlign=Ce.align||this.autoLabelAlign(this.labelRotation))&&(ye.align=this.labelAlign),se.forEach(function(qe){const xe=(qe=ue[qe])&&qe.label,Ie=ne.width,Be={};xe&&(xe.attr(ye),qe.shortenLabel?qe.shortenLabel():Le&&!Ie&&ne.whiteSpace!=="nowrap"&&(Le<xe.textPxLength||xe.element.tagName==="SPAN")?(Be.width=Le+"px",Re||(Be.textOverflow=xe.specificTextOverflow||$e),xe.css(Be)):xe.styles&&xe.styles.width&&!Be.width&&!Ie&&xe.css({width:null}),delete xe.specificTextOverflow,qe.rotation=ye.rotation)},this),this.tickRotCorr=Q.rotCorr(Se.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(F){return F.hasData()})||this.options.showEmpty&&H(this.min)&&H(this.max)}addTitle(F){const Q=this.chart.renderer,se=this.horiz,ue=this.opposite,Ce=this.options.title,ne=this.chart.styledMode;let ve;this.axisTitle||((ve=Ce.textAlign)||(ve=(se?{low:"left",middle:"center",high:"right"}:{low:ue?"right":"left",middle:"center",high:ue?"left":"right"})[Ce.align]),this.axisTitle=Q.text(Ce.text||"",0,0,Ce.useHTML).attr({zIndex:7,rotation:Ce.rotation,align:ve}).addClass("highcharts-axis-title"),ne||this.axisTitle.css(P(Ce.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),ne||Ce.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[F?"show":"hide"](F)}generateTick(F){const Q=this.ticks;Q[F]?Q[F].addLabel():Q[F]=new K(this,F)}getOffset(){const F=this,{chart:Q,horiz:se,options:ue,side:Ce,ticks:ne,tickPositions:ve,coll:_e,axisParent:oe}=F,ye=Q.renderer,Se=Q.inverted&&!F.isZAxis?[1,0,3,2][Ce]:Ce;var Re=F.hasData();const Le=ue.title;var $e=ue.labels;const rt=j(ue.crossing);var Qe=Q.axisOffset;const qe=Q.clipOffset,xe=[-1,1,1,-1][Ce],Ie=ue.className;let Be,Xe=0,Ke;var ft=0;let St=0;if(F.showAxis=Be=Re||ue.showEmpty,F.staggerLines=F.horiz&&$e.staggerLines||void 0,!F.axisGroup){const Ot=(yi,Wt,fi)=>ye.g(yi).attr({zIndex:fi}).addClass(`highcharts-${_e.toLowerCase()}${Wt} `+(this.isRadial?`highcharts-radial-axis${Wt} `:"")+(Ie||"")).add(oe);F.gridGroup=Ot("grid","-grid",ue.gridZIndex),F.axisGroup=Ot("axis","",ue.zIndex),F.labelGroup=Ot("axis-labels","-labels",$e.zIndex)}Re||F.isLinked?(ve.forEach(function(Ot){F.generateTick(Ot)}),F.renderUnsquish(),F.reserveSpaceDefault=Ce===0||Ce===2||{1:"left",3:"right"}[Ce]===F.labelAlign,b($e.reserveSpace,rt?!1:null,F.labelAlign==="center"?!0:null,F.reserveSpaceDefault)&&ve.forEach(function(Ot){St=Math.max(ne[Ot].getLabelSize(),St)}),F.staggerLines&&(St*=F.staggerLines),F.labelOffset=St*(F.opposite?-1:1)):g(ne,function(Ot,yi){Ot.destroy(),delete ne[yi]}),Le&&Le.text&&Le.enabled!==!1&&(F.addTitle(Be),Be&&!rt&&Le.reserveSpace!==!1&&(F.titleOffset=Xe=F.axisTitle.getBBox()[se?"height":"width"],Ke=Le.offset,ft=H(Ke)?0:b(Le.margin,se?5:10))),F.renderLine(),F.offset=xe*b(ue.offset,Qe[Ce]?Qe[Ce]+(ue.margin||0):0),F.tickRotCorr=F.tickRotCorr||{x:0,y:0},Re=Ce===0?-F.labelMetrics().h:Ce===2?F.tickRotCorr.y:0,ft=Math.abs(St)+ft,St&&(ft=ft-Re+xe*(se?b($e.y,F.tickRotCorr.y+xe*$e.distance):b($e.x,xe*$e.distance))),F.axisTitleMargin=b(Ke,ft),F.getMaxLabelDimensions&&(F.maxLabelDimensions=F.getMaxLabelDimensions(ne,ve)),_e!=="colorAxis"&&($e=this.tickSize("tick"),Qe[Ce]=Math.max(Qe[Ce],(F.axisTitleMargin||0)+Xe+xe*F.offset,ft,ve&&ve.length&&$e?$e[0]+xe*F.offset:0),Qe=!F.axisLine||ue.offset?0:2*Math.floor(F.axisLine.strokeWidth()/2),qe[Se]=Math.max(qe[Se],Qe)),$(this,"afterGetOffset")}getLinePath(F){const Q=this.chart,se=this.opposite;var ue=this.offset;const Ce=this.horiz,ne=this.left+(se?this.width:0)+ue;return ue=Q.chartHeight-this.bottom-(se?this.height:0)+ue,se&&(F*=-1),Q.renderer.crispLine([["M",Ce?this.left:ne,Ce?ue:this.top],["L",Ce?Q.chartWidth-this.right:ne,Ce?ue:Q.chartHeight-this.bottom]],F)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(F){var Q=this.horiz,se=this.left;const ue=this.top;var Ce=this.len;const ne=this.options.title,ve=Q?se:ue,_e=this.opposite,oe=this.offset,ye=ne.x,Se=ne.y,Re=this.chart.renderer.fontMetrics(F);return F=F?Math.max(F.getBBox(!1,0).height-Re.h-1,0):0,Ce={low:ve+(Q?0:Ce),middle:ve+Ce/2,high:ve+(Q?Ce:0)}[ne.align],se=(Q?ue+this.height:se)+(Q?1:-1)*(_e?-1:1)*(this.axisTitleMargin||0)+[-F,F,Re.f,-F][this.side],Q={x:Q?Ce+ye:se+(_e?this.width:0)+oe+ye,y:Q?se+Se-(_e?this.height:0)+oe:Ce+Se},$(this,"afterGetTitlePosition",{titlePosition:Q}),Q}renderMinorTick(F,Q){const se=this.minorTicks;se[F]||(se[F]=new K(this,F,"minor")),Q&&se[F].isNew&&se[F].render(null,!0),se[F].render(null,!1,1)}renderTick(F,Q,se){const ue=this.ticks;(!this.isLinked||F>=this.min&&F<=this.max||this.grid&&this.grid.isColumn)&&(ue[F]||(ue[F]=new K(this,F)),se&&ue[F].isNew&&ue[F].render(Q,!0,-1),ue[F].render(Q))}render(){const F=this,Q=F.chart,se=F.logarithmic,ue=F.options,Ce=F.isLinked,ne=F.tickPositions,ve=F.axisTitle,_e=F.ticks,oe=F.minorTicks,ye=F.alternateBands,Se=ue.stackLabels,Re=ue.alternateGridColor,Le=ue.crossing,$e=F.tickmarkOffset,rt=F.axisLine,Qe=F.showAxis,qe=z(Q.renderer.globalAnimation);let xe,Ie;if(F.labelEdge.length=0,F.overlap=!1,[_e,oe,ye].forEach(function(Be){g(Be,function(Xe){Xe.isActive=!1})}),j(Le)){const Be=this.isXAxis?Q.yAxis[0]:Q.xAxis[0],Xe=[1,-1,-1,1][this.side];Be&&(this.offset=Xe*Be.toPixels(Le,!0))}if(F.hasData()||Ce){const Be=F.chart.hasRendered&&F.old&&j(F.old.min);F.minorTickInterval&&!F.categories&&F.getMinorTickPositions().forEach(function(Xe){F.renderMinorTick(Xe,Be)}),ne.length&&(ne.forEach(function(Xe,Ke){F.renderTick(Xe,Ke,Be)}),$e&&(F.min===0||F.single)&&(_e[-1]||(_e[-1]=new K(F,-1,null,!0)),_e[-1].render(-1))),Re&&ne.forEach(function(Xe,Ke){Ie=typeof ne[Ke+1]<"u"?ne[Ke+1]+$e:F.max-$e,Ke%2===0&&Xe<F.max&&Ie<=F.max+(Q.polar?-$e:$e)&&(ye[Xe]||(ye[Xe]=new R.PlotLineOrBand(F)),xe=Xe+$e,ye[Xe].options={from:se?se.lin2log(xe):xe,to:se?se.lin2log(Ie):Ie,color:Re,className:"highcharts-alternate-grid"},ye[Xe].render(),ye[Xe].isActive=!0)}),F._addedPlotLB||(F._addedPlotLB=!0,(ue.plotLines||[]).concat(ue.plotBands||[]).forEach(function(Xe){F.addPlotBandOrLine(Xe)}))}[_e,oe,ye].forEach(function(Be){const Xe=[],Ke=qe.duration;g(Be,function(ft,St){ft.isActive||(ft.render(St,!1,0),ft.isActive=!1,Xe.push(St))}),J(function(){let ft=Xe.length;for(;ft--;)Be[Xe[ft]]&&!Be[Xe[ft]].isActive&&(Be[Xe[ft]].destroy(),delete Be[Xe[ft]])},Be!==ye&&Q.hasRendered&&Ke?Ke:0)}),rt&&(rt[rt.isPlaced?"animate":"attr"]({d:this.getLinePath(rt.strokeWidth())}),rt.isPlaced=!0,rt[Qe?"show":"hide"](Qe)),ve&&Qe&&(ve[ve.isNew?"attr":"animate"](F.getTitlePosition(ve)),ve.isNew=!1),Se&&Se.enabled&&F.stacking&&F.stacking.renderStackTotals(),F.old={len:F.len,max:F.max,min:F.min,transA:F.transA,userMax:F.userMax,userMin:F.userMin},F.isDirty=!1,$(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(F){F.render()})),this.series.forEach(function(F){F.isDirty=!0})}getKeepProps(){return this.keepProps||pe.keepProps}destroy(F){const Q=this,se=Q.plotLinesAndBands,ue=this.eventOptions;if($(this,"destroy",{keepEvents:F}),F||X(Q),[Q.ticks,Q.minorTicks,Q.alternateBands].forEach(function(Ce){U(Ce)}),se)for(F=se.length;F--;)se[F].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Ce){Q[Ce]&&(Q[Ce]=Q[Ce].destroy())});for(const Ce in Q.plotLinesAndBandsGroups)Q.plotLinesAndBandsGroups[Ce]=Q.plotLinesAndBandsGroups[Ce].destroy();g(Q,function(Ce,ne){Q.getKeepProps().indexOf(ne)===-1&&delete Q[ne]}),this.eventOptions=ue}drawCrosshair(F,Q){const se=this.crosshair;var ue=b(se&&se.snap,!0);const Ce=this.chart;let ne,ve=this.cross;if($(this,"drawCrosshair",{e:F,point:Q}),F||(F=this.cross&&this.cross.e),se&&(H(Q)||!ue)!==!1){if(ue?H(Q)&&(ne=b(this.coll!=="colorAxis"?Q.crosshairPos:null,this.isXAxis?Q.plotX:this.len-Q.plotY)):ne=F&&(this.horiz?F.chartX-this.pos:this.len-F.chartY+this.pos),H(ne)){var _e={value:Q&&(this.isXAxis?Q.x:b(Q.stackY,Q.y)),translatedValue:ne};Ce.polar&&te(_e,{isCrosshair:!0,chartX:F&&F.chartX,chartY:F&&F.chartY,point:Q}),_e=this.getPlotLinePath(_e)||null}if(!H(_e)){this.hideCrosshair();return}ue=this.categories&&!this.isRadial,ve||(this.cross=ve=Ce.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(ue?"category ":"thin ")+(se.className||"")).attr({zIndex:b(se.zIndex,2)}).add(),Ce.styledMode||(ve.attr({stroke:se.color||(ue?h.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":b(se.width,1)}).css({"pointer-events":"none"}),se.dashStyle&&ve.attr({dashstyle:se.dashStyle}))),ve.show().attr({d:_e}),ue&&!se.width&&ve.attr({"stroke-width":this.transA}),this.cross.e=F}else this.hideCrosshair();$(this,"afterDrawCrosshair",{e:F,point:Q})}hideCrosshair(){this.cross&&this.cross.hide(),$(this,"afterHideCrosshair")}hasVerticalPanning(){const F=this.chart.options.chart.panning;return!!(F&&F.enabled&&/y/.test(F.type))}update(F,Q){const se=this.chart;F=P(this.userOptions,F),this.destroy(!0),this.init(se,F),se.isDirtyBox=!0,b(Q,!0)&&se.redraw()}remove(F){const Q=this.chart,se=this.coll,ue=this.series;let Ce=ue.length;for(;Ce--;)ue[Ce]&&ue[Ce].remove(!1);E(Q.axes,this),E(Q[se],this),Q[se].forEach(function(ne,ve){ne.options.index=ne.userOptions.index=ve}),this.destroy(),Q.isDirtyBox=!0,b(F,!0)&&Q.redraw()}setTitle(F,Q){this.update({title:F},Q)}setCategories(F,Q){this.update({categories:F},Q)}}return pe.defaultOptions=d.defaultXAxisOptions,pe.keepProps="extKey hcEvents names series userMax userMin".split(" "),pe}),i(r,"Core/Axis/DateTimeAxis.js",[r["Core/Utilities.js"]],function(o){const{addEvent:d,getMagnitude:h,normalizeTickInterval:s,timeUnits:v}=o;var R;return function(K){function k(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function z(O){O.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new L(this))}const q=[];K.compose=function(O){return o.pushUnique(q,O)&&(O.keepProps.push("dateTime"),O.prototype.getTimeTicks=k,d(O,"init",z)),O};class L{constructor(G){this.axis=G}normalizeTimeTickInterval(G,M){const S=M||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];M=S[S.length-1];let D=v[M[0]],H=M[1],U;for(U=0;U<S.length&&(M=S[U],D=v[M[0]],H=M[1],!(S[U+1]&&G<=(D*H[H.length-1]+v[S[U+1][0]])/2));U++);return D===v.year&&G<5*D&&(H=[1,2,5]),G=s(G/D,H,M[0]==="year"?Math.max(h(G/D),1):1),{unitRange:D,count:G,unitName:M[0]}}getXDateFormat(G,M){const{axis:S}=this,D=S.chart.time;return S.closestPointRange?D.getDateFormat(S.closestPointRange,G,S.options.startOfWeek,M)||D.resolveDTLFormat(M.year).main:D.resolveDTLFormat(M.day).main}}K.Additions=L}(R||(R={})),R}),i(r,"Core/Axis/LogarithmicAxis.js",[r["Core/Utilities.js"]],function(o){const{addEvent:d,normalizeTickInterval:h,pick:s}=o;var v;return function(R){function K(L){let O=this.logarithmic;L.userOptions.type!=="logarithmic"?this.logarithmic=void 0:O||(this.logarithmic=new q(this))}function k(){const L=this.logarithmic;L&&(this.lin2val=function(O){return L.lin2log(O)},this.val2lin=function(O){return L.log2lin(O)})}const z=[];R.compose=function(L){return o.pushUnique(z,L)&&(L.keepProps.push("logarithmic"),d(L,"init",K),d(L,"afterInit",k)),L};class q{constructor(O){this.axis=O}getLogTickPositions(O,G,M,S){const D=this.axis;var H=D.len,U=D.options;let E=[];if(S||(this.minorAutoInterval=void 0),.5<=O)O=Math.round(O),E=D.getLinearTickPositions(O,G,M);else if(.08<=O){U=Math.floor(G);let ie,te,$,V,j;for(H=.3<O?[1,2,4]:.15<O?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];U<M+1&&!j;U++)for(te=H.length,ie=0;ie<te&&!j;ie++)$=this.log2lin(this.lin2log(U)*H[ie]),$>G&&(!S||V<=M)&&typeof V<"u"&&E.push(V),V>M&&(j=!0),V=$}else G=this.lin2log(G),M=this.lin2log(M),O=S?D.getMinorTickInterval():U.tickInterval,O=s(O==="auto"?null:O,this.minorAutoInterval,U.tickPixelInterval/(S?5:1)*(M-G)/((S?H/D.tickPositions.length:H)||1)),O=h(O),E=D.getLinearTickPositions(O,G,M).map(this.log2lin),S||(this.minorAutoInterval=O/5);return S||(D.tickInterval=O),E}lin2log(O){return Math.pow(10,O)}log2lin(O){return Math.log(O)/Math.LN10}}R.Additions=q}(v||(v={})),v}),i(r,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[r["Core/Utilities.js"]],function(o){const{erase:d,extend:h,isNumber:s}=o;var v;return function(R){function K(D){return this.addPlotBandOrLine(D,"plotBands")}function k(D,H){const U=this.userOptions;let E=new S(this,D);if(this.visible&&(E=E.render()),E){if(this._addedPlotLB||(this._addedPlotLB=!0,(U.plotLines||[]).concat(U.plotBands||[]).forEach(ie=>{this.addPlotBandOrLine(ie)})),H){const ie=U[H]||[];ie.push(D),U[H]=ie}this.plotLinesAndBands.push(E)}return E}function z(D){return this.addPlotBandOrLine(D,"plotLines")}function q(D,H,U=this.options){const E=this.getPlotLinePath({value:H,force:!0,acrossPanes:U.acrossPanes}),ie=[],te=this.horiz;H=!s(this.min)||!s(this.max)||D<this.min&&H<this.min||D>this.max&&H>this.max,D=this.getPlotLinePath({value:D,force:!0,acrossPanes:U.acrossPanes}),U=1;let $;if(D&&E)for(H&&($=D.toString()===E.toString(),U=0),H=0;H<D.length;H+=2){const V=D[H],j=D[H+1],x=E[H],P=E[H+1];V[0]!=="M"&&V[0]!=="L"||j[0]!=="M"&&j[0]!=="L"||x[0]!=="M"&&x[0]!=="L"||P[0]!=="M"&&P[0]!=="L"||(te&&x[1]===V[1]?(x[1]+=U,P[1]+=U):te||x[2]!==V[2]||(x[2]+=U,P[2]+=U),ie.push(["M",V[1],V[2]],["L",j[1],j[2]],["L",P[1],P[2]],["L",x[1],x[2]],["Z"])),ie.isFlat=$}return ie}function L(D){this.removePlotBandOrLine(D)}function O(D){const H=this.plotLinesAndBands,U=this.options,E=this.userOptions;if(H){let ie=H.length;for(;ie--;)H[ie].id===D&&H[ie].destroy();[U.plotLines||[],E.plotLines||[],U.plotBands||[],E.plotBands||[]].forEach(function(te){for(ie=te.length;ie--;)(te[ie]||{}).id===D&&d(te,te[ie])})}}function G(D){this.removePlotBandOrLine(D)}const M=[];let S;R.compose=function(D,H){return S||(S=D),o.pushUnique(M,H)&&h(H.prototype,{addPlotBand:K,addPlotLine:z,addPlotBandOrLine:k,getPlotBandPath:q,removePlotBand:L,removePlotLine:G,removePlotBandOrLine:O}),H}}(v||(v={})),v}),i(r,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[r["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],r["Core/Utilities.js"]],function(o,d){const{arrayMax:h,arrayMin:s,defined:v,destroyObjectProperties:R,erase:K,fireEvent:k,merge:z,objectEach:q,pick:L}=d;class O{static compose(M){return o.compose(O,M)}constructor(M,S){this.axis=M,S&&(this.options=S,this.id=S.id)}render(){k(this,"render");const M=this,S=M.axis,D=S.horiz;var H=S.logarithmic;const U=M.options,E=U.color,ie=L(U.zIndex,0),te=U.events,$={},V=S.chart.renderer;let j=U.label,x=M.label,P=U.to,f=U.from,g=U.value,b=M.svgElem;var A=[];const X=v(f)&&v(P);A=v(g);const Y=!b,J={class:"highcharts-plot-"+(X?"band ":"line ")+(U.className||"")};let ce=X?"bands":"lines";if(H&&(f=H.log2lin(f),P=H.log2lin(P),g=H.log2lin(g)),S.chart.styledMode||(A?(J.stroke=E||"#999999",J["stroke-width"]=L(U.width,1),U.dashStyle&&(J.dashstyle=U.dashStyle)):X&&(J.fill=E||"#e6e9ff",U.borderWidth&&(J.stroke=U.borderColor,J["stroke-width"]=U.borderWidth))),$.zIndex=ie,ce+="-"+ie,(H=S.plotLinesAndBandsGroups[ce])||(S.plotLinesAndBandsGroups[ce]=H=V.g("plot-"+ce).attr($).add()),Y&&(M.svgElem=b=V.path().attr(J).add(H)),A)A=S.getPlotLinePath({value:g,lineWidth:b.strokeWidth(),acrossPanes:U.acrossPanes});else if(X)A=S.getPlotBandPath(f,P,U);else return;return!M.eventsAdded&&te&&(q(te,function(pe,fe){b.on(fe,function(F){te[fe].apply(M,[F])})}),M.eventsAdded=!0),(Y||!b.d)&&A&&A.length?b.attr({d:A}):b&&(A?(b.show(),b.animate({d:A})):b.d&&(b.hide(),x&&(M.label=x=x.destroy()))),j&&(v(j.text)||v(j.formatter))&&A&&A.length&&0<S.width&&0<S.height&&!A.isFlat?(j=z({align:D&&X&&"center",x:D?!X&&4:10,verticalAlign:!D&&X&&"middle",y:D?X?16:10:X?6:-4,rotation:D&&!X&&90},j),this.renderLabel(j,A,X,ie)):x&&x.hide(),M}renderLabel(M,S,D,H){const U=this.axis;var E=U.chart.renderer;let ie=this.label;ie||(this.label=ie=E.text(this.getLabelText(M),0,0,M.useHTML).attr({align:M.textAlign||M.align,rotation:M.rotation,class:"highcharts-plot-"+(D?"band":"line")+"-label "+(M.className||""),zIndex:H}).add(),U.chart.styledMode||ie.css(z({fontSize:"0.8em",textOverflow:"ellipsis"},M.style))),H=S.xBounds||[S[0][1],S[1][1],D?S[2][1]:S[0][1]],S=S.yBounds||[S[0][2],S[1][2],D?S[2][2]:S[0][2]],D=s(H),E=s(S),ie.align(M,!1,{x:D,y:E,width:h(H)-D,height:h(S)-E}),ie.alignValue&&ie.alignValue!=="left"||(M=M.clip?U.width:U.chart.chartWidth,ie.css({width:(ie.rotation===90?U.height-(ie.alignAttr.y-U.top):M-(ie.alignAttr.x-U.left))+"px"})),ie.show(!0)}getLabelText(M){return v(M.formatter)?M.formatter.call(this):M.text}destroy(){K(this.axis.plotLinesAndBands,this),delete this.axis,R(this)}}return O}),i(r,"Core/Tooltip.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,v){const{format:R}=o,{doc:K,isSafari:k}=d,{distribute:z}=h,{addEvent:q,clamp:L,css:O,discardElement:G,extend:M,fireEvent:S,isArray:D,isNumber:H,isString:U,merge:E,pick:ie,splat:te,syncTimeout:$}=v;class V{constructor(x,P){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=x,this.init(x,P)}bodyFormatter(x){return x.map(function(P){const f=P.series.tooltipOptions;return(f[(P.point.formatPrefix||"point")+"Formatter"]||P.point.tooltipFormatter).call(P.point,f[(P.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(x){this.chart.series.forEach(function(P){const f=P&&P.tt;f&&(!f.isActive||x?P.tt=f.destroy():f.isActive=!1)})}defaultFormatter(x){const P=this.points||te(this);let f;return f=[x.tooltipFooterHeaderFormatter(P[0])],f=f.concat(x.bodyFormatter(P)),f.push(x.tooltipFooterHeaderFormatter(P[0],!0)),f}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),G(this.container)),v.clearTimeout(this.hideTimer),v.clearTimeout(this.tooltipTimeout)}getAnchor(x,P){var f=this.chart;const g=f.pointer,b=f.inverted,A=f.plotTop;if(f=f.plotLeft,x=te(x),x[0].series&&x[0].series.yAxis&&!x[0].series.yAxis.options.reversedStacks&&(x=x.slice().reverse()),this.followPointer&&P)typeof P.chartX>"u"&&(P=g.normalize(P)),x=[P.chartX-f,P.chartY-A];else if(x[0].tooltipPos)x=x[0].tooltipPos;else{let X=0,Y=0;x.forEach(function(J){(J=J.pos(!0))&&(X+=J[0],Y+=J[1])}),X/=x.length,Y/=x.length,this.shared&&1<x.length&&P&&(b?X=P.chartX:Y=P.chartY),x=[X-f,Y-A]}return x.map(Math.round)}getClassName(x,P,f){const g=x.series,b=g.options;return[this.options.className,"highcharts-label",f&&"highcharts-tooltip-header",P?"highcharts-tooltip-box":"highcharts-tooltip",!f&&"highcharts-color-"+ie(x.colorIndex,g.colorIndex),b&&b.className].filter(U).join(" ")}getLabel(){const x=this,P=this.chart.styledMode,f=this.options,g=this.split&&this.allowShared,b=f.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let A,X=this.chart.renderer;if(this.label){var Y=!this.label.hasClass("highcharts-label");(!g&&Y||g&&!Y)&&this.destroy()}if(!this.label){if(this.outside){Y=this.chart.options.chart.style;const J=s.getRendererType();this.container=A=d.doc.createElement("div"),A.className="highcharts-tooltip-container",O(A,{position:"absolute",top:"1px",pointerEvents:b,zIndex:Math.max(this.options.style.zIndex||0,(Y&&Y.zIndex||0)+3)}),d.doc.body.appendChild(A),this.renderer=X=new J(A,0,0,Y,void 0,void 0,X.styledMode)}if(g?this.label=X.g("tooltip"):(this.label=X.label("",0,0,f.shape,void 0,void 0,f.useHTML,void 0,"tooltip").attr({padding:f.padding,r:f.borderRadius}),P||this.label.attr({fill:f.backgroundColor,"stroke-width":f.borderWidth||0}).css(f.style).css({pointerEvents:b})),x.outside){const J=this.label,{xSetter:ce,ySetter:pe}=J;J.xSetter=function(fe){ce.call(J,x.distance),A.style.left=fe+"px"},J.ySetter=function(fe){pe.call(J,x.distance),A.style.top=fe+"px"}}this.label.attr({zIndex:8}).shadow(f.shadow).add()}return this.label}getPlayingField(){const{body:x,documentElement:P}=K,{chart:f,distance:g,outside:b}=this;return{width:b?Math.max(x.scrollWidth,P.scrollWidth,x.offsetWidth,P.offsetWidth,P.clientWidth)-2*g:f.chartWidth,height:b?Math.max(x.scrollHeight,P.scrollHeight,x.offsetHeight,P.offsetHeight,P.clientHeight):f.chartHeight}}getPosition(x,P,f){const g=this.chart,b=this.distance,A={},X=g.inverted&&f.h||0,Y=this.outside;var J=this.getPlayingField();const ce=J.width,pe=J.height,fe=g.pointer.getChartPosition();J=oe=>{const ye=oe==="x";return[oe,ye?ce:pe,ye?x:P].concat(Y?[ye?x*fe.scaleX:P*fe.scaleY,ye?fe.left-b+(f.plotX+g.plotLeft)*fe.scaleX:fe.top-b+(f.plotY+g.plotTop)*fe.scaleY,0,ye?ce:pe]:[ye?x:P,ye?f.plotX+g.plotLeft:f.plotY+g.plotTop,ye?g.plotLeft:g.plotTop,ye?g.plotLeft+g.plotWidth:g.plotTop+g.plotHeight])};let F=J("y"),Q=J("x"),se;J=!!f.negative,!g.polar&&g.hoverSeries&&g.hoverSeries.yAxis&&g.hoverSeries.yAxis.reversed&&(J=!J);const ue=!this.followPointer&&ie(f.ttBelow,!g.inverted===J),Ce=function(oe,ye,Se,Re,Le,$e,rt){const Qe=Y?oe==="y"?b*fe.scaleY:b*fe.scaleX:b,qe=(Se-Re)/2,xe=Re<Le-b,Ie=Le+b+Re<ye,Be=Le-Qe-Se+qe;if(Le=Le+Qe-qe,ue&&Ie)A[oe]=Le;else if(!ue&&xe)A[oe]=Be;else if(xe)A[oe]=Math.min(rt-Re,0>Be-X?Be:Be-X);else if(Ie)A[oe]=Math.max($e,Le+X+Se>ye?Le:Le+X);else return!1},ne=function(oe,ye,Se,Re,Le){let $e;return Le<b||Le>ye-b?$e=!1:A[oe]=Le<Se/2?1:Le>ye-Re/2?ye-Re-2:Le-Se/2,$e},ve=function(oe){const ye=F;F=Q,Q=ye,se=oe},_e=function(){Ce.apply(0,F)!==!1?ne.apply(0,Q)!==!1||se||(ve(!0),_e()):se?A.x=A.y=0:(ve(!0),_e())};return(g.inverted||1<this.len)&&ve(),_e(),A}hide(x){const P=this;v.clearTimeout(this.hideTimer),x=ie(x,this.options.hideDelay),this.isHidden||(this.hideTimer=$(function(){P.getLabel().fadeOut(x&&void 0),P.isHidden=!0},x))}init(x,P){this.chart=x,this.options=P,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=P.split&&!x.inverted&&!x.polar,this.shared=P.shared||this.split,this.outside=ie(P.outside,!(!x.scrollablePixelsX&&!x.scrollablePixelsY))}shouldStickOnContact(x){return!(this.followPointer||!this.options.stickOnContact||x&&!this.chart.pointer.inClass(x.target,"highcharts-tooltip"))}move(x,P,f,g){const b=this,A=b.now,X=b.options.animation!==!1&&!b.isHidden&&(1<Math.abs(x-A.x)||1<Math.abs(P-A.y)),Y=b.followPointer||1<b.len;M(A,{x:X?(2*A.x+x)/3:x,y:X?(A.y+P)/2:P,anchorX:Y?void 0:X?(2*A.anchorX+f)/3:f,anchorY:Y?void 0:X?(A.anchorY+g)/2:g}),b.getLabel().attr(A),b.drawTracker(),X&&(v.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){b&&b.move(x,P,f,g)},32))}refresh(x,P){const f=this.chart,g=this.options,b=f.pointer,A=te(x),X=A[0],Y=[];var J=g.formatter||this.defaultFormatter,ce=this.shared;const pe=f.styledMode;let fe={};if(g.enabled&&X.series){v.clearTimeout(this.hideTimer),this.allowShared=!(!D(x)&&x.series&&x.series.noSharedTooltip),this.followPointer=!this.split&&X.series.tooltipOptions.followPointer,x=this.getAnchor(x,P);var F=x[0],Q=x[1];if(ce&&this.allowShared?(b.applyInactiveState(A),A.forEach(function(se){se.setState("hover"),Y.push(se.getLabelConfig())}),fe={x:X.category,y:X.y},fe.points=Y):fe=X.getLabelConfig(),this.len=Y.length,J=J.call(fe,this),ce=X.series,this.distance=ie(ce.tooltipOptions.distance,16),J===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(J,A);else{let se=F,ue=Q;if(P&&b.isDirectTouch&&(se=P.chartX-f.plotLeft,ue=P.chartY-f.plotTop),f.polar||ce.options.clip===!1||A.some(Ce=>b.isDirectTouch||Ce.series.shouldShowTooltip(se,ue)))P=this.getLabel(),g.style.width&&!pe||P.css({width:(this.outside?this.getPlayingField():f.spacingBox).width+"px"}),P.attr({text:J&&J.join?J.join(""):J}),P.addClass(this.getClassName(X),!0),pe||P.attr({stroke:g.borderColor||X.color||ce.color||"#666666"}),this.updatePosition({plotX:F,plotY:Q,negative:X.negative,ttBelow:X.ttBelow,h:x[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}S(this,"refresh")}}renderSplit(x,P){function f(Ke,ft,St,Ot,yi=!0){return St?(ft=Se?0:Qe,Ke=L(Ke-Ot/2,_e.left,_e.right-Ot-(g.outside?Re:0))):(ft-=$e,Ke=yi?Ke-Ot-Ce:Ke+Ce,Ke=L(Ke,yi?Ke:_e.left,_e.right)),{x:Ke,y:ft}}const g=this,{chart:b,chart:{chartWidth:A,chartHeight:X,plotHeight:Y,plotLeft:J,plotTop:ce,pointer:pe,scrollablePixelsY:fe=0,scrollablePixelsX:F,scrollingContainer:{scrollLeft:Q,scrollTop:se}={scrollLeft:0,scrollTop:0},styledMode:ue},distance:Ce,options:ne,options:{positioner:ve}}=g,_e=g.outside&&typeof F!="number"?K.documentElement.getBoundingClientRect():{left:Q,right:Q+A,top:se,bottom:se+X},oe=g.getLabel(),ye=this.renderer||b.renderer,Se=!(!b.xAxis[0]||!b.xAxis[0].opposite),{left:Re,top:Le}=pe.getChartPosition();let $e=ce+se,rt=0,Qe=Y-fe;U(x)&&(x=[!1,x]),x=x.slice(0,P.length+1).reduce(function(Ke,ft,St){if(ft!==!1&&ft!==""){St=P[St-1]||{isHeader:!0,plotX:P[0].plotX,plotY:Y,series:{}};const pt=St.isHeader;var Ot=pt?g:St.series,yi;{var Wt=St;ft=ft.toString();var fi=Ot.tt;const{isHeader:Pi,series:cn}=Wt;fi||(fi={padding:ne.padding,r:ne.borderRadius},ue||(fi.fill=ne.backgroundColor,fi["stroke-width"]=(yi=ne.borderWidth)!==null&&yi!==void 0?yi:1),fi=ye.label("",0,0,ne[Pi?"headerShape":"shape"],void 0,void 0,ne.useHTML).addClass(g.getClassName(Wt,!0,Pi)).attr(fi).add(oe)),fi.isActive=!0,fi.attr({text:ft}),ue||fi.css(ne.style).attr({stroke:ne.borderColor||Wt.color||cn.color||"#333333"}),yi=fi}yi=Ot.tt=yi,Wt=yi.getBBox(),Ot=Wt.width+yi.strokeWidth(),pt&&(rt=Wt.height,Qe+=rt,Se&&($e-=rt));{const{isHeader:Pi,plotX:cn=0,plotY:Wn=0,series:Kr}=St;if(Pi){ft=J+cn;var Hi=ce+Y/2}else{const{xAxis:ui,yAxis:Vi}=Kr;ft=ui.pos+L(cn,-Ce,ui.len+Ce),Kr.shouldShowTooltip(0,Vi.pos-ce+Wn,{ignoreX:!0})&&(Hi=Vi.pos+Wn)}ft=L(ft,_e.left-Ce,_e.right+Ce),Hi={anchorX:ft,anchorY:Hi}}const{anchorX:Lt,anchorY:ei}=Hi;typeof ei=="number"?(Hi=Wt.height+1,Wt=ve?ve.call(g,Ot,Hi,St):f(Lt,ei,pt,Ot),Ke.push({align:ve?0:void 0,anchorX:Lt,anchorY:ei,boxWidth:Ot,point:St,rank:ie(Wt.rank,pt?1:0),size:Hi,target:Wt.y,tt:yi,x:Wt.x})):yi.isActive=!1}return Ke},[]),!ve&&x.some(Ke=>{var{outside:ft}=g;return ft=(ft?Re:0)+Ke.anchorX,ft<_e.left&&ft+Ke.boxWidth<_e.right?!0:ft<Re-_e.left+Ke.boxWidth&&_e.right-ft>ft})&&(x=x.map(Ke=>{const{x:ft,y:St}=f(Ke.anchorX,Ke.anchorY,Ke.point.isHeader,Ke.boxWidth,!1);return M(Ke,{target:St,x:ft})})),g.cleanSplit(),z(x,Qe);var qe=Re,xe=Re;x.forEach(function(Ke){const{x:ft,boxWidth:St,isHeader:Ot}=Ke;Ot||(g.outside&&Re+ft<qe&&(qe=Re+ft),!Ot&&g.outside&&qe+St>xe&&(xe=Re+ft))}),x.forEach(function(Ke){const{x:ft,anchorX:St,anchorY:Ot,pos:yi,point:{isHeader:Wt}}=Ke,fi={visibility:typeof yi>"u"?"hidden":"inherit",x:ft,y:(yi||0)+$e,anchorX:St,anchorY:Ot};if(g.outside&&ft<St){const Hi=Re-qe;0<Hi&&(Wt||(fi.x=ft+Hi,fi.anchorX=St+Hi),Wt&&(fi.x=(xe-qe)/2,fi.anchorX=St+Hi))}Ke.tt.attr(fi)});const{container:Ie,outside:Be,renderer:Xe}=g;if(Be&&Ie&&Xe){const{width:Ke,height:ft,x:St,y:Ot}=oe.getBBox();Xe.setSize(Ke+St,ft+Ot,!1),Ie.style.left=qe+"px",Ie.style.top=Le+"px"}k&&oe.attr({opacity:oe.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var x=this.chart,P=this.label,f=this.shared?x.hoverPoints:x.hoverPoint;if(P&&f){var g={x:0,y:0,width:0,height:0};f=this.getAnchor(f);var b=P.getBBox();f[0]+=x.plotLeft-P.translateX,f[1]+=x.plotTop-P.translateY,g.x=Math.min(0,f[0]),g.y=Math.min(0,f[1]),g.width=0>f[0]?Math.max(Math.abs(f[0]),b.width-f[0]):Math.max(Math.abs(f[0]),b.width),g.height=0>f[1]?Math.max(Math.abs(f[1]),b.height-Math.abs(f[1])):Math.max(Math.abs(f[1]),b.height),this.tracker?this.tracker.attr(g):(this.tracker=P.renderer.rect(g).addClass("highcharts-tracker").add(P),x.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(x){return x.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(x,P){const f=x.series,g=f.tooltipOptions;var b=f.xAxis;const A=b&&b.dateTime;b={isFooter:P,labelConfig:x};let X=g.xDateFormat,Y=g[P?"footerFormat":"headerFormat"];return S(this,"headerFormatter",b,function(J){A&&!X&&H(x.key)&&(X=A.getXDateFormat(x.key,g.dateTimeLabelFormats)),A&&X&&(x.point&&x.point.tooltipDateKeys||["key"]).forEach(function(ce){Y=Y.replace("{point."+ce+"}","{point."+ce+":"+X+"}")}),f.chart.styledMode&&(Y=this.styledModeFormat(Y)),J.text=R(Y,{point:x,series:f},this.chart)}),b.text}update(x){this.destroy(),E(!0,this.chart.options.tooltip.userOptions,x),this.init(this.chart,E(!0,this.options,x))}updatePosition(x){const{chart:P,distance:f,options:g}=this;var b=P.pointer;const A=this.getLabel(),{left:X,top:Y,scaleX:J,scaleY:ce}=b.getChartPosition();b=(g.positioner||this.getPosition).call(this,A.width,A.height,x);let pe=(x.plotX||0)+P.plotLeft;x=(x.plotY||0)+P.plotTop;let fe;this.outside&&(g.positioner&&(b.x+=X-f,b.y+=Y-f),fe=(g.borderWidth||0)+2*f,this.renderer.setSize(A.width+fe,A.height+fe,!1),(J!==1||ce!==1)&&(O(this.container,{transform:`scale(${J}, ${ce})`}),pe*=J,x*=ce),pe+=X-b.x,x+=Y-b.y),this.move(Math.round(b.x),Math.round(b.y||0),pe,x)}}return function(j){const x=[];j.compose=function(P){v.pushUnique(x,P)&&q(P,"afterInit",function(){const f=this.chart;f.options.tooltip&&(f.tooltip=new j(f,f.options.tooltip))})}}(V||(V={})),V}),i(r,"Core/Series/Point.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(o,d,h,s,v){const{animObject:R}=d,{defaultOptions:K}=h,{format:k}=s,{addEvent:z,defined:q,erase:L,extend:O,fireEvent:G,getNestedProperty:M,isArray:S,isFunction:D,isNumber:H,isObject:U,merge:E,objectEach:ie,pick:te,syncTimeout:$,removeEvent:V,uniqueKey:j}=v;class x{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const f=this,g={x:f.startXPos,opacity:0},b=f.getGraphicalProps();b.singular.forEach(function(A){f[A]=f[A].animate(A==="dataLabel"?{x:f[A].startXPos,y:f[A].startYPos,opacity:0}:g)}),b.plural.forEach(function(A){f[A].forEach(function(X){X.element&&X.animate(O({x:f.startXPos},X.startYPos?{x:X.startXPos,y:X.startYPos}:{}))})})}applyOptions(f,g){const b=this.series,A=b.options.pointValKey||b.pointValKey;return f=x.prototype.optionsToObject.call(this,f),O(this,f),this.options=this.options?O(this.options,f):f,f.group&&delete this.group,f.dataLabels&&delete this.dataLabels,A&&(this.y=x.prototype.getNestedProperty.call(this,A)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof g>"u"&&b.xAxis&&b.xAxis.hasNames&&(this.x=b.xAxis.nameToX(this)),typeof this.x>"u"&&b?this.x=typeof g>"u"?b.autoIncrement():g:H(f.x)&&b.options.relativeXValue&&(this.x=b.autoIncrement(f.x)),this}destroy(){if(!this.destroyed){const g=this;var f=g.series;const b=f.chart;f=f.options.dataSorting;const A=b.hoverPoints,X=R(g.series.chart.renderer.globalAnimation),Y=()=>{(g.graphic||g.graphics||g.dataLabel||g.dataLabels)&&(V(g),g.destroyElements());for(const J in g)delete g[J]};g.legendItem&&b.legend.destroyItem(g),A&&(g.setState(),L(A,g),A.length||(b.hoverPoints=null)),g===b.hoverPoint&&g.onMouseOut(),f&&f.enabled?(this.animateBeforeDestroy(),$(Y,X.duration)):Y(),b.pointCount--}this.destroyed=!0}destroyElements(f){const g=this;f=g.getGraphicalProps(f),f.singular.forEach(function(b){g[b]=g[b].destroy()}),f.plural.forEach(function(b){g[b].forEach(function(A){A&&A.element&&A.destroy()}),delete g[b]})}firePointEvent(f,g,b){const A=this,X=this.series.options;(X.point.events[f]||A.options&&A.options.events&&A.options.events[f])&&A.importEvents(),f==="click"&&X.allowPointSelect&&(b=function(Y){A.select&&A.select(null,Y.ctrlKey||Y.metaKey||Y.shiftKey)}),G(A,f,g,b)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(f){const g=this,b=[],A={singular:[],plural:[]};let X,Y;for(f=f||{graphic:1,dataLabel:1},f.graphic&&b.push("graphic"),f.dataLabel&&b.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),Y=b.length;Y--;)X=b[Y],g[X]&&A.singular.push(X);return["graphic","dataLabel","connector"].forEach(function(J){const ce=J+"s";f[J]&&g[ce]&&A.plural.push(ce)}),A}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(f){if(f)return f.indexOf("custom.")===0?M(f,this.options):this[f]}getZone(){var f=this.series;const g=f.zones;f=f.zoneAxis||"y";let b,A=0;for(b=g[A];this[f]>=b.value;)b=g[++A];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=b&&b.color&&!this.options.color?b.color:this.nonZonedColor,b}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(f,g,b){return this.series=f,this.applyOptions(g,b),this.id=q(this.id)?this.id:j(),this.resolveColor(),f.chart.pointCount++,G(this,"afterInit"),this}isValid(){return this.x!==null&&H(this.y)}optionsToObject(f){var g=this.series;const b=g.options.keys,A=b||g.pointArrayMap||["y"],X=A.length;let Y={},J=0,ce=0;if(H(f)||f===null)Y[A[0]]=f;else if(S(f))for(!b&&f.length>X&&(g=typeof f[0],g==="string"?Y.name=f[0]:g==="number"&&(Y.x=f[0]),J++);ce<X;)b&&typeof f[J]>"u"||(0<A[ce].indexOf(".")?x.prototype.setNestedProperty(Y,f[J],A[ce]):Y[A[ce]]=f[J]),J++,ce++;else typeof f=="object"&&(Y=f,f.dataLabels&&(g._hasPointLabels=!0),f.marker&&(g._hasPointMarkers=!0));return Y}pos(f,g=this.plotY){if(!this.destroyed){const{plotX:b,series:A}=this,{chart:X,xAxis:Y,yAxis:J}=A;let ce=0,pe=0;if(H(b)&&H(g))return f&&(ce=Y?Y.pos:X.plotLeft,pe=J?J.pos:X.plotTop),X.inverted&&Y&&J?[J.len-g+pe,Y.len-b+ce]:[b+ce,g+pe]}}resolveColor(){const f=this.series;var g=f.chart.styledMode;let b;var A=f.chart.options.chart.colorCount;delete this.nonZonedColor,f.options.colorByPoint?(g||(A=f.options.colors||f.chart.options.colors,b=A[f.colorCounter],A=A.length),g=f.colorCounter,f.colorCounter++,f.colorCounter===A&&(f.colorCounter=0)):(g||(b=f.color),g=f.colorIndex),this.colorIndex=te(this.options.colorIndex,g),this.color=te(this.options.color,b)}setNestedProperty(f,g,b){return b.split(".").reduce(function(A,X,Y,J){return A[X]=J.length-1===Y?g:U(A[X],!0)?A[X]:{},A[X]},f),f}shouldDraw(){return!this.isNull}tooltipFormatter(f){const g=this.series,b=g.tooltipOptions,A=te(b.valueDecimals,""),X=b.valuePrefix||"",Y=b.valueSuffix||"";return g.chart.styledMode&&(f=g.chart.tooltip.styledModeFormat(f)),(g.pointArrayMap||["y"]).forEach(function(J){J="{point."+J,(X||Y)&&(f=f.replace(RegExp(J+"}","g"),X+J+"}"+Y)),f=f.replace(RegExp(J+"}","g"),J+":,."+A+"f}")}),k(f,{point:this,series:this.series},g.chart)}update(f,g,b,A){function X(){Y.applyOptions(f);var Q=ce&&Y.hasMockGraphic;Q=Y.y===null?!Q:Q,ce&&Q&&(Y.graphic=ce.destroy(),delete Y.hasMockGraphic),U(f,!0)&&(ce&&ce.element&&f&&f.marker&&typeof f.marker.symbol<"u"&&(Y.graphic=ce.destroy()),f&&f.dataLabels&&Y.dataLabel&&(Y.dataLabel=Y.dataLabel.destroy()),Y.connector&&(Y.connector=Y.connector.destroy())),F=Y.index,J.updateParallelArrays(Y,F),fe.data[F]=U(fe.data[F],!0)||U(f,!0)?Y.options:te(f,fe.data[F]),J.isDirty=J.isDirtyData=!0,!J.fixedBox&&J.hasCartesianSeries&&(pe.isDirtyBox=!0),fe.legendType==="point"&&(pe.isDirtyLegend=!0),g&&pe.redraw(b)}const Y=this,J=Y.series,ce=Y.graphic,pe=J.chart,fe=J.options;let F;g=te(g,!0),A===!1?X():Y.firePointEvent("update",{options:f},X)}remove(f,g){this.series.removePoint(this.series.data.indexOf(this),f,g)}select(f,g){const b=this,A=b.series,X=A.chart;this.selectedStaging=f=te(f,!b.selected),b.firePointEvent(f?"select":"unselect",{accumulate:g},function(){b.selected=b.options.selected=f,A.options.data[A.data.indexOf(b)]=b.options,b.setState(f&&"select"),g||X.getSelectedPoints().forEach(function(Y){const J=Y.series;Y.selected&&Y!==b&&(Y.selected=Y.options.selected=!1,J.options.data[J.data.indexOf(Y)]=Y.options,Y.setState(X.hoverPoints&&J.options.inactiveOtherPoints?"inactive":""),Y.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(f){const g=this.series.chart,b=g.pointer;f=f?b.normalize(f):b.getChartCoordinatesFromPoint(this,g.inverted),b.runPointActions(f,this)}onMouseOut(){const f=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(f.hoverPoints||[]).forEach(function(g){g.setState()}),f.hoverPoints=f.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const f=this,g=E(f.series.options.point,f.options).events;f.events=g,ie(g,function(b,A){D(b)&&z(f,A,b)}),this.hasImportedEvents=!0}}setState(f,g){const b=this.series;var A=this.state,X=b.options.states[f||"normal"]||{},Y=K.plotOptions[b.type].marker&&b.options.marker;const J=Y&&Y.enabled===!1,ce=Y&&Y.states&&Y.states[f||"normal"]||{},pe=ce.enabled===!1,fe=this.marker||{},F=b.chart,Q=Y&&b.markerAttribs;let se=b.halo;var ue;let Ce;var ne=b.stateMarkerGraphic;if(f=f||"",!(f===this.state&&!g||this.selected&&f!=="select"||X.enabled===!1||f&&(pe||J&&ce.enabled===!1)||f&&fe.states&&fe.states[f]&&fe.states[f].enabled===!1)){if(this.state=f,Q&&(ue=b.markerAttribs(this,f)),this.graphic&&!this.hasMockGraphic){if(A&&this.graphic.removeClass("highcharts-point-"+A),f&&this.graphic.addClass("highcharts-point-"+f),!F.styledMode){A=b.pointAttribs(this,f),Ce=te(F.options.chart.animation,X.animation);const ve=A.opacity;b.options.inactiveOtherPoints&&H(ve)&&((this.dataLabels||[]).forEach(function(_e){_e&&!_e.hasClass("highcharts-data-label-hidden")&&_e.animate({opacity:ve},Ce)}),this.connector&&this.connector.animate({opacity:ve},Ce)),this.graphic.animate(A,Ce)}ue&&this.graphic.animate(ue,te(F.options.chart.animation,ce.animation,Y.animation)),ne&&ne.hide()}else f&&ce&&(Y=fe.symbol||b.symbol,ne&&ne.currentSymbol!==Y&&(ne=ne.destroy()),ue&&(ne?ne[g?"animate":"attr"]({x:ue.x,y:ue.y}):Y&&(b.stateMarkerGraphic=ne=F.renderer.symbol(Y,ue.x,ue.y,ue.width,ue.height).add(b.markerGroup),ne.currentSymbol=Y)),!F.styledMode&&ne&&this.state!=="inactive"&&ne.attr(b.pointAttribs(this,f))),ne&&(ne[f&&this.isInside?"show":"hide"](),ne.element.point=this,ne.addClass(this.getClassName(),!0));X=X.halo,ue=(ne=this.graphic||ne)&&ne.visibility||"inherit",X&&X.size&&ne&&ue!=="hidden"&&!this.isCluster?(se||(b.halo=se=F.renderer.path().add(ne.parentGroup)),se.show()[g?"animate":"attr"]({d:this.haloPath(X.size)}),se.attr({class:"highcharts-halo highcharts-color-"+te(this.colorIndex,b.colorIndex)+(this.className?" "+this.className:""),visibility:ue,zIndex:-1}),se.point=this,F.styledMode||se.attr(O({fill:this.color||b.color,"fill-opacity":X.opacity},o.filterUserAttributes(X.attributes||{})))):se&&se.point&&se.point.haloPath&&se.animate({d:se.point.haloPath(0)},null,se.hide),G(this,"afterSetState",{state:f})}}haloPath(f){const g=this.pos();return g?this.series.chart.renderer.symbols.circle(Math.floor(g[0])-f,g[1]-f,2*f,2*f):[]}}return x}),i(r,"Core/Pointer.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{parse:s}=o,{charts:v,noop:R}=d,{addEvent:K,attr:k,css:z,defined:q,extend:L,find:O,fireEvent:G,isNumber:M,isObject:S,objectEach:D,offset:H,pick:U,splat:E}=h;class ie{constructor($,V){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=$,this.hasDragged=!1,this.options=V,this.init($,V)}applyInactiveState($){let V=[],j;($||[]).forEach(function(x){j=x.series,V.push(j),j.linkedParent&&V.push(j.linkedParent),j.linkedSeries&&(V=V.concat(j.linkedSeries)),j.navigatorSeries&&V.push(j.navigatorSeries)}),this.chart.series.forEach(function(x){V.indexOf(x)===-1?x.setState("inactive",!0):x.options.inactiveOtherPoints&&x.setAllPointsToState("inactive")})}destroy(){const $=this;this.eventsToUnbind.forEach(V=>V()),this.eventsToUnbind=[],d.chartCount||(ie.unbindDocumentMouseUp&&(ie.unbindDocumentMouseUp=ie.unbindDocumentMouseUp()),ie.unbindDocumentTouchEnd&&(ie.unbindDocumentTouchEnd=ie.unbindDocumentTouchEnd())),clearInterval($.tooltipTimeout),D($,function(V,j){$[j]=void 0})}getSelectionMarkerAttrs($,V){const j={args:{chartX:$,chartY:V},attrs:{},shapeType:"rect"};return G(this,"getSelectionMarkerAttrs",j,x=>{const{chart:P,mouseDownX:f=0,mouseDownY:g=0,zoomHor:b,zoomVert:A}=this;x=x.attrs;let X;x.x=P.plotLeft,x.y=P.plotTop,x.width=b?1:P.plotWidth,x.height=A?1:P.plotHeight,b&&(X=$-f,x.width=Math.abs(X),x.x=(0<X?0:X)+f),A&&(X=V-g,x.height=Math.abs(X),x.y=(0<X?0:X)+g)}),j}drag($){const V=this.chart,j=V.options.chart;var x=V.plotLeft;const P=V.plotTop,f=V.plotWidth,g=V.plotHeight,b=this.mouseDownX||0,A=this.mouseDownY||0,X=S(j.panning)?j.panning&&j.panning.enabled:j.panning,Y=j.panKey&&$[j.panKey+"Key"];let J=$.chartX,ce=$.chartY,pe=this.selectionMarker;if((!pe||!pe.touch)&&(J<x?J=x:J>x+f&&(J=x+f),ce<P?ce=P:ce>P+g&&(ce=P+g),this.hasDragged=Math.sqrt(Math.pow(b-J,2)+Math.pow(A-ce,2)),10<this.hasDragged)){x=V.isInsidePlot(b-x,A-P,{visiblePlotOnly:!0});const{shapeType:fe,attrs:F}=this.getSelectionMarkerAttrs(J,ce);!V.hasCartesianSeries&&!V.mapView||!this.zoomX&&!this.zoomY||!x||Y||pe||(this.selectionMarker=pe=V.renderer[fe](),pe.attr({class:"highcharts-selection-marker",zIndex:7}).add(),V.styledMode||pe.attr({fill:j.selectionMarkerFill||s("#334eff").setOpacity(.25).get()})),pe&&pe.attr(F),x&&!pe&&X&&V.pan($,j.panning)}}dragStart($){const V=this.chart;V.mouseIsDown=$.type,V.cancelClick=!1,V.mouseDownX=this.mouseDownX=$.chartX,V.mouseDownY=this.mouseDownY=$.chartY}getSelectionBox($){const V={args:{marker:$},result:{}};return G(this,"getSelectionBox",V,j=>{j.result={x:$.attr?+$.attr("x"):$.x,y:$.attr?+$.attr("y"):$.y,width:$.attr?$.attr("width"):$.width,height:$.attr?$.attr("height"):$.height}}),V.result}drop($){const V=this,j=this.chart,x=this.hasPinched;if(this.selectionMarker){const{x:P,y:f,width:g,height:b}=this.getSelectionBox(this.selectionMarker),A={originalEvent:$,xAxis:[],yAxis:[],x:P,y:f,width:g,height:b};let X=!!j.mapView;(this.hasDragged||x)&&(j.axes.forEach(function(Y){if(Y.zoomEnabled&&q(Y.min)&&(x||V[{xAxis:"zoomX",yAxis:"zoomY"}[Y.coll]])&&M(P)&&M(f)&&M(g)&&M(b)){var J=Y.horiz;const ce=$.type==="touchend"?Y.minPixelPadding:0,pe=Y.toValue((J?P:f)+ce);J=Y.toValue((J?P+g:f+b)-ce),A[Y.coll].push({axis:Y,min:Math.min(pe,J),max:Math.max(pe,J)}),X=!0}}),X&&G(j,"selection",A,function(Y){j.zoom(L(Y,x?{animation:!1}:null))})),M(j.index)&&(this.selectionMarker=this.selectionMarker.destroy()),x&&this.scaleGroups()}j&&M(j.index)&&(z(j.container,{cursor:j._cursor}),j.cancelClick=10<this.hasDragged,j.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint($,V,j){let x;return $.forEach(function(P){var f=!(P.noSharedTooltip&&V)&&0>P.options.findNearestPointBy.indexOf("y");if(P=P.searchPoint(j,f),(f=S(P,!0)&&P.series)&&!(f=!S(x,!0))){{f=x.distX-P.distX;const g=x.dist-P.dist,b=(P.series.group&&P.series.group.zIndex)-(x.series.group&&x.series.group.zIndex);f=f!==0&&V?f:g!==0?g:b!==0?b:x.series.index>P.series.index?-1:1}f=0<f}f&&(x=P)}),x}getChartCoordinatesFromPoint($,V){var j=$.series;const x=j.xAxis;j=j.yAxis;const P=$.shapeArgs;if(x&&j){let f=U($.clientX,$.plotX),g=$.plotY||0;return $.isNode&&P&&M(P.x)&&M(P.y)&&(f=P.x,g=P.y),V?{chartX:j.len+j.pos-g,chartY:x.len+x.pos-f}:{chartX:f+x.pos,chartY:g+j.pos}}if(P&&P.x&&P.y)return{chartX:P.x,chartY:P.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:$}=this.chart;const V=H($);this.chartPosition={left:V.left,top:V.top,scaleX:1,scaleY:1};const j=$.offsetWidth;return $=$.offsetHeight,2<j&&2<$&&(this.chartPosition.scaleX=V.width/j,this.chartPosition.scaleY=V.height/$),this.chartPosition}getCoordinates($){const V={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(j){V[j.isXAxis?"xAxis":"yAxis"].push({axis:j,value:j.toValue($[j.horiz?"chartX":"chartY"])})}),V}getHoverData($,V,j,x,P,f){const g=[];x=!(!x||!$);const b=function(J){return J.visible&&!(!P&&J.directTouch)&&U(J.options.enableMouseTracking,!0)};let A,X={chartX:f?f.chartX:void 0,chartY:f?f.chartY:void 0,shared:P};G(this,"beforeGetHoverData",X),A=V&&!V.stickyTracking?[V]:j.filter(J=>J.stickyTracking&&(X.filter||b)(J));const Y=x||!f?$:this.findNearestKDPoint(A,P,f);return V=Y&&Y.series,Y&&(P&&!V.noSharedTooltip?(A=j.filter(function(J){return X.filter?X.filter(J):b(J)&&!J.noSharedTooltip}),A.forEach(function(J){let ce=O(J.points,function(pe){return pe.x===Y.x&&!pe.isNull});S(ce)&&(J.boosted&&J.boost&&(ce=J.boost.getPoint(ce)),g.push(ce))})):g.push(Y)),X={hoverPoint:Y},G(this,"afterGetHoverData",X),{hoverPoint:X.hoverPoint,hoverSeries:V,hoverPoints:g}}getPointFromEvent($){$=$.target;let V;for(;$&&!V;)V=$.point,$=$.parentNode;return V}onTrackerMouseOut($){$=$.relatedTarget;const V=this.chart.hoverSeries;this.isDirectTouch=!1,!V||!$||V.stickyTracking||this.inClass($,"highcharts-tooltip")||this.inClass($,"highcharts-series-"+V.index)&&this.inClass($,"highcharts-tracker")||V.onMouseOut()}inClass($,V){let j;for(;$;){if(j=k($,"class")){if(j.indexOf(V)!==-1)return!0;if(j.indexOf("highcharts-container")!==-1)return!1}$=$.parentElement}}init($,V){this.options=V,this.chart=$,this.runChartClick=!(!V.chart.events||!V.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),G(this,"afterInit")}normalize($,V){var j=$.touches,x=j?j.length?j.item(0):U(j.changedTouches,$.changedTouches)[0]:$;return V||(V=this.getChartPosition()),j=x.pageX-V.left,x=x.pageY-V.top,j/=V.scaleX,x/=V.scaleY,L($,{chartX:Math.round(j),chartY:Math.round(x)})}onContainerClick($){const V=this.chart,j=V.hoverPoint;$=this.normalize($);const x=V.plotLeft,P=V.plotTop;V.cancelClick||(j&&this.inClass($.target,"highcharts-tracker")?(G(j.series,"click",L($,{point:j})),V.hoverPoint&&j.firePointEvent("click",$)):(L($,this.getCoordinates($)),V.isInsidePlot($.chartX-x,$.chartY-P,{visiblePlotOnly:!0})&&G(V,"click",$)))}onContainerMouseDown($){const V=(($.buttons||$.button)&1)===1;$=this.normalize($),d.isFirefox&&$.button!==0&&this.onContainerMouseMove($),(typeof $.button>"u"||V)&&(this.zoomOption($),V&&$.preventDefault&&$.preventDefault(),this.dragStart($))}onContainerMouseLeave($){const V=v[U(ie.hoverChartIndex,-1)];$=this.normalize($),V&&$.relatedTarget&&!this.inClass($.relatedTarget,"highcharts-tooltip")&&(V.pointer.reset(),V.pointer.chartPosition=void 0)}onContainerMouseEnter($){delete this.chartPosition}onContainerMouseMove($){const V=this.chart,j=V.tooltip;$=this.normalize($),this.setHoverChartIndex(),(V.mouseIsDown==="mousedown"||this.touchSelect($))&&this.drag($),V.openMenu||!this.inClass($.target,"highcharts-tracker")&&!V.isInsidePlot($.chartX-V.plotLeft,$.chartY-V.plotTop,{visiblePlotOnly:!0})||j&&j.shouldStickOnContact($)||(this.inClass($.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions($))}onDocumentTouchEnd($){const V=v[U(ie.hoverChartIndex,-1)];V&&V.pointer.drop($)}onContainerTouchMove($){this.touchSelect($)?this.onContainerMouseMove($):this.touch($)}onContainerTouchStart($){this.touchSelect($)?this.onContainerMouseDown($):(this.zoomOption($),this.touch($,!0))}onDocumentMouseMove($){const V=this.chart,j=V.tooltip,x=this.chartPosition;$=this.normalize($,x),!x||V.isInsidePlot($.chartX-V.plotLeft,$.chartY-V.plotTop,{visiblePlotOnly:!0})||j&&j.shouldStickOnContact($)||this.inClass($.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp($){const V=v[U(ie.hoverChartIndex,-1)];V&&V.pointer.drop($)}pinch($){const V=this,j=V.chart,x=V.pinchDown,P=$.touches||[],f=P.length,g=V.lastValidTouch,b=V.hasZoom,A={},X=f===1&&(V.inClass($.target,"highcharts-tracker")&&j.runTrackerClick||V.runChartClick),Y={};var J=V.chart.tooltip;J=f===1&&U(J&&J.options.followTouchMove,!0);let ce=V.selectionMarker;1<f?V.initiated=!0:J&&(V.initiated=!1),b&&V.initiated&&!X&&$.cancelable!==!1&&$.preventDefault(),[].map.call(P,function(pe){return V.normalize(pe)}),$.type==="touchstart"?([].forEach.call(P,function(pe,fe){x[fe]={chartX:pe.chartX,chartY:pe.chartY}}),g.x=[x[0].chartX,x[1]&&x[1].chartX],g.y=[x[0].chartY,x[1]&&x[1].chartY],j.axes.forEach(function(pe){if(pe.zoomEnabled){const fe=j.bounds[pe.horiz?"h":"v"],F=pe.minPixelPadding,Q=pe.toPixels(Math.min(U(pe.options.min,pe.dataMin),pe.dataMin)),se=pe.toPixels(Math.max(U(pe.options.max,pe.dataMax),pe.dataMax)),ue=Math.max(Q,se);fe.min=Math.min(pe.pos,Math.min(Q,se)-F),fe.max=Math.max(pe.pos+pe.len,ue+F)}}),V.res=!0):J?this.runPointActions(V.normalize($)):x.length&&(G(j,"touchpan",{originalEvent:$},()=>{ce||(V.selectionMarker=ce=L({destroy:R,touch:!0},j.plotBox)),V.pinchTranslate(x,P,A,ce,Y,g),V.hasPinched=b,V.scaleGroups(A,Y)}),V.res&&(V.res=!1,this.reset(!1,0)))}pinchTranslate($,V,j,x,P,f){this.zoomHor&&this.pinchTranslateDirection(!0,$,V,j,x,P,f),this.zoomVert&&this.pinchTranslateDirection(!1,$,V,j,x,P,f)}pinchTranslateDirection($,V,j,x,P,f,g,b){const A=this.chart,X=$?"x":"y",Y=$?"X":"Y",J="chart"+Y,ce=$?"width":"height",pe=A["plot"+($?"Left":"Top")],fe=A.inverted,F=A.bounds[$?"h":"v"],Q=V.length===1,se=V[0][J],ue=!Q&&V[1][J];V=function(){typeof oe=="number"&&20<Math.abs(se-ue)&&(ve=b||Math.abs(_e-oe)/Math.abs(se-ue)),ne=(pe-_e)/ve+se,Ce=A["plot"+($?"Width":"Height")]/ve};let Ce,ne,ve=b||1,_e=j[0][J],oe=!Q&&j[1][J],ye;V(),j=ne,j<F.min?(j=F.min,ye=!0):j+Ce>F.max&&(j=F.max-Ce,ye=!0),ye?(_e-=.8*(_e-g[X][0]),typeof oe=="number"&&(oe-=.8*(oe-g[X][1])),V()):g[X]=[_e,oe],fe||(f[X]=ne-pe,f[ce]=Ce),f=fe?1/ve:ve,P[ce]=Ce,P[X]=j,x[fe?$?"scaleY":"scaleX":"scale"+Y]=ve,x["translate"+Y]=f*pe+(_e-f*se)}reset($,V){const j=this.chart,x=j.hoverSeries,P=j.hoverPoint,f=j.hoverPoints,g=j.tooltip,b=g&&g.shared?f:P;$&&b&&E(b).forEach(function(A){A.series.isCartesian&&typeof A.plotX>"u"&&($=!1)}),$?g&&b&&E(b).length&&(g.refresh(b),g.shared&&f?f.forEach(function(A){A.setState(A.state,!0),A.series.isCartesian&&(A.series.xAxis.crosshair&&A.series.xAxis.drawCrosshair(null,A),A.series.yAxis.crosshair&&A.series.yAxis.drawCrosshair(null,A))}):P&&(P.setState(P.state,!0),j.axes.forEach(function(A){A.crosshair&&P.series[A.coll]===A&&A.drawCrosshair(null,P)}))):(P&&P.onMouseOut(),f&&f.forEach(function(A){A.setState()}),x&&x.onMouseOut(),g&&g.hide(V),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),j.axes.forEach(function(A){A.hideCrosshair()}),this.hoverX=j.hoverPoints=j.hoverPoint=null)}runPointActions($,V,j){const x=this.chart,P=x.tooltip&&x.tooltip.options.enabled?x.tooltip:void 0,f=P?P.shared:!1;let g=V||x.hoverPoint,b=g&&g.series||x.hoverSeries;V=this.getHoverData(g,b,x.series,(!$||$.type!=="touchmove")&&(!!V||b&&b.directTouch&&this.isDirectTouch),f,$),g=V.hoverPoint,b=V.hoverSeries;const A=V.hoverPoints;V=b&&b.tooltipOptions.followPointer&&!b.tooltipOptions.split;const X=f&&b&&!b.noSharedTooltip;if(g&&(j||g!==x.hoverPoint||P&&P.isHidden)){if((x.hoverPoints||[]).forEach(function(Y){A.indexOf(Y)===-1&&Y.setState()}),x.hoverSeries!==b&&b.onMouseOver(),this.applyInactiveState(A),(A||[]).forEach(function(Y){Y.setState("hover")}),x.hoverPoint&&x.hoverPoint.firePointEvent("mouseOut"),!g.series)return;x.hoverPoints=A,x.hoverPoint=g,g.firePointEvent("mouseOver",void 0,()=>{P&&g&&P.refresh(X?A:g,$)})}else V&&P&&!P.isHidden&&(j=P.getAnchor([{}],$),x.isInsidePlot(j[0],j[1],{visiblePlotOnly:!0})&&P.updatePosition({plotX:j[0],plotY:j[1]}));this.unDocMouseMove||(this.unDocMouseMove=K(x.container.ownerDocument,"mousemove",function(Y){const J=v[ie.hoverChartIndex];J&&J.pointer.onDocumentMouseMove(Y)}),this.eventsToUnbind.push(this.unDocMouseMove)),x.axes.forEach(function(Y){const J=U((Y.crosshair||{}).snap,!0);let ce;J&&((ce=x.hoverPoint)&&ce.series[Y.coll]===Y||(ce=O(A,pe=>pe.series&&pe.series[Y.coll]===Y))),ce||!J?Y.drawCrosshair($,ce):Y.hideCrosshair()})}scaleGroups($,V){const j=this.chart;j.series.forEach(function(x){const P=$||x.getPlotBox();x.group&&(x.xAxis&&x.xAxis.zoomEnabled||j.mapView)&&(x.group.attr(P),x.markerGroup&&(x.markerGroup.attr(P),x.markerGroup.clip(V?j.clipRect:null)),x.dataLabelsGroup&&x.dataLabelsGroup.attr(P))}),j.clipRect.attr(V||j.clipBox)}setDOMEvents(){const $=this.chart.container,V=$.ownerDocument;$.onmousedown=this.onContainerMouseDown.bind(this),$.onmousemove=this.onContainerMouseMove.bind(this),$.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(K($,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(K($,"mouseleave",this.onContainerMouseLeave.bind(this))),ie.unbindDocumentMouseUp||(ie.unbindDocumentMouseUp=K(V,"mouseup",this.onDocumentMouseUp.bind(this)));let j=this.chart.renderTo.parentElement;for(;j&&j.tagName!=="BODY";)this.eventsToUnbind.push(K(j,"scroll",()=>{delete this.chartPosition})),j=j.parentElement;d.hasTouch&&(this.eventsToUnbind.push(K($,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(K($,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ie.unbindDocumentTouchEnd||(ie.unbindDocumentTouchEnd=K(V,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const $=this.chart,V=d.charts[U(ie.hoverChartIndex,-1)];V&&V!==$&&V.pointer.onContainerMouseLeave({relatedTarget:$.container}),V&&V.mouseIsDown||(ie.hoverChartIndex=$.index)}touch($,V){const j=this.chart;let x;this.setHoverChartIndex(),$.touches.length===1?($=this.normalize($),j.isInsidePlot($.chartX-j.plotLeft,$.chartY-j.plotTop,{visiblePlotOnly:!0})&&!j.openMenu?(V&&this.runPointActions($),$.type==="touchmove"&&(V=this.pinchDown,x=V[0]?4<=Math.sqrt(Math.pow(V[0].chartX-$.chartX,2)+Math.pow(V[0].chartY-$.chartY,2)):!1),U(x,!0)&&this.pinch($)):V&&this.reset()):$.touches.length===2&&this.pinch($)}touchSelect($){return!(!this.chart.options.chart.zooming.singleTouch||!$.touches||$.touches.length!==1)}zoomOption($){var V=this.chart,j=V.options.chart;V=V.inverted;let x=j.zooming.type||"";/touch/.test($.type)&&(x=U(j.zooming.pinchType,x)),this.zoomX=$=/x/.test(x),this.zoomY=j=/y/.test(x),this.zoomHor=$&&!V||j&&V,this.zoomVert=j&&!V||$&&V,this.hasZoom=$||j}}return function(te){const $=[],V=[];te.compose=function(j){h.pushUnique(V,j)&&K(j,"beforeRender",function(){this.pointer=new te(this,this.options)})},te.dissolve=function(){for(let j=0,x=$.length;j<x;++j)$[j]();$.length=0}}(ie||(ie={})),ie}),i(r,"Core/Legend/Legend.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Series/Point.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R){const{animObject:K,setAnimation:k}=o,{format:z}=d,{marginNames:q}=h,{distribute:L}=v,{addEvent:O,createElement:G,css:M,defined:S,discardElement:D,find:H,fireEvent:U,isNumber:E,merge:ie,pick:te,relativeLength:$,stableSort:V,syncTimeout:j}=R;class x{constructor(f,g){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=f,this.init(f,g)}init(f,g){this.chart=f,this.setOptions(g),g.enabled&&(this.render(),O(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),O(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(f){const g=te(f.padding,8);this.options=f,this.chart.styledMode||(this.itemStyle=f.itemStyle,this.itemHiddenStyle=ie(this.itemStyle,f.itemHiddenStyle)),this.itemMarginTop=f.itemMarginTop,this.itemMarginBottom=f.itemMarginBottom,this.padding=g,this.initialItemY=g-5,this.symbolWidth=te(f.symbolWidth,16),this.pages=[],this.proximate=f.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(f,g){const b=this.chart;this.setOptions(ie(!0,this.options,f)),this.destroy(),b.isDirtyLegend=b.isDirtyBox=!0,te(g,!0)&&b.redraw(),U(this,"afterUpdate")}colorizeItem(f,g){const{group:b,label:A,line:X,symbol:Y}=f.legendItem||{};if(b&&b[g?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var J=this.options;const ce=this.itemHiddenStyle.color;J=g?J.itemStyle.color:ce;const pe=g&&f.color||ce,fe=f.options&&f.options.marker;let F={fill:pe};A&&A.css({fill:J}),X&&X.attr({stroke:pe}),Y&&(fe&&Y.isMarker&&(F=f.pointAttribs(),g||(F.stroke=F.fill=ce)),Y.attr(F))}U(this,"afterColorizeItem",{item:f,visible:g})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(f){const{group:g,x:b=0,y:A=0}=f.legendItem||{};var X=this.options,Y=X.symbolPadding;const J=!X.rtl;X=f.checkbox,g&&g.element&&(Y={translateX:J?b:this.legendWidth-b-2*Y-4,translateY:A},g[S(g.translateY)?"animate":"attr"](Y,void 0,()=>{U(this,"afterPositionItem",{item:f})})),X&&(X.x=b,X.y=A)}destroyItem(f){const g=f.checkbox,b=f.legendItem||{};for(const A of["group","label","line","symbol"])b[A]&&(b[A]=b[A].destroy());g&&D(g),f.legendItem=void 0}destroy(){for(const f of this.getAllItems())this.destroyItem(f);for(const f of"clipRect up down pager nav box title group".split(" "))this[f]&&(this[f]=this[f].destroy());this.display=null}positionCheckboxes(){const f=this.group&&this.group.alignAttr,g=this.clipHeight||this.legendHeight,b=this.titleHeight;let A;f&&(A=f.translateY,this.allItems.forEach(function(X){const Y=X.checkbox;let J;Y&&(J=A+b+Y.y+(this.scrollOffset||0)+3,M(Y,{left:f.translateX+X.checkboxOffset+Y.x-20+"px",top:J+"px",display:this.proximate||J>A-6&&J<A+g-6?"":"none"}))},this))}renderTitle(){var f=this.options;const g=this.padding,b=f.title;let A=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,g-3,g-4,void 0,void 0,void 0,f.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(b.style),this.title.add(this.group)),b.width||this.title.css({width:this.maxLegendWidth+"px"}),f=this.title.getBBox(),A=f.height,this.offsetWidth=f.width,this.contentGroup.attr({translateY:A})),this.titleHeight=A}setText(f){const g=this.options;f.legendItem.label.attr({text:g.labelFormat?z(g.labelFormat,f,this.chart):g.labelFormatter.call(f)})}renderItem(f){const g=f.legendItem=f.legendItem||{};var b=this.chart,A=b.renderer;const X=this.options,Y=this.symbolWidth,J=X.symbolPadding||0,ce=this.itemStyle,pe=this.itemHiddenStyle,fe=X.layout==="horizontal"?te(X.itemDistance,20):0,F=!X.rtl,Q=!f.series,se=!Q&&f.series.drawLegendSymbol?f.series:f;var ue=se.options;const Ce=this.createCheckboxForItem&&ue&&ue.showCheckbox,ne=X.useHTML,ve=f.options.className;let _e=g.label;ue=Y+J+fe+(Ce?20:0),_e||(g.group=A.g("legend-item").addClass("highcharts-"+se.type+"-series highcharts-color-"+f.colorIndex+(ve?" "+ve:"")+(Q?" highcharts-series-"+f.index:"")).attr({zIndex:1}).add(this.scrollGroup),g.label=_e=A.text("",F?Y+J:-J,this.baseline||0,ne),b.styledMode||_e.css(ie(f.visible?ce:pe)),_e.attr({align:F?"left":"right",zIndex:2}).add(g.group),this.baseline||(this.fontMetrics=A.fontMetrics(_e),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_e.attr("y",this.baseline),this.symbolHeight=te(X.symbolHeight,this.fontMetrics.f),X.squareSymbol&&(this.symbolWidth=te(X.symbolWidth,Math.max(this.symbolHeight,16)),ue=this.symbolWidth+J+fe+(Ce?20:0),F&&_e.attr("x",this.symbolWidth+J))),se.drawLegendSymbol(this,f),this.setItemEvents&&this.setItemEvents(f,_e,ne)),Ce&&!f.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(f),this.colorizeItem(f,f.visible),!b.styledMode&&ce.width||_e.css({width:(X.itemWidth||this.widthOption||b.spacingBox.width)-ue+"px"}),this.setText(f),b=_e.getBBox(),A=this.fontMetrics&&this.fontMetrics.h||0,f.itemWidth=f.checkboxOffset=X.itemWidth||g.labelWidth||b.width+ue,this.maxItemWidth=Math.max(this.maxItemWidth,f.itemWidth),this.totalItemWidth+=f.itemWidth,this.itemHeight=f.itemHeight=Math.round(g.labelHeight||(b.height>1.5*A?b.height:A))}layoutItem(f){var g=this.options;const b=this.padding,A=g.layout==="horizontal",X=f.itemHeight,Y=this.itemMarginBottom,J=this.itemMarginTop,ce=A?te(g.itemDistance,20):0,pe=this.maxLegendWidth;g=g.alignColumns&&this.totalItemWidth>pe?this.maxItemWidth:f.itemWidth;const fe=f.legendItem||{};A&&this.itemX-b+g>pe&&(this.itemX=b,this.lastLineHeight&&(this.itemY+=J+this.lastLineHeight+Y),this.lastLineHeight=0),this.lastItemY=J+this.itemY+Y,this.lastLineHeight=Math.max(X,this.lastLineHeight),fe.x=this.itemX,fe.y=this.itemY,A?this.itemX+=g:(this.itemY+=J+X+Y,this.lastLineHeight=X),this.offsetWidth=this.widthOption||Math.max((A?this.itemX-b-(f.checkbox?0:ce):g)+b,this.offsetWidth)}getAllItems(){let f=[];return this.chart.series.forEach(function(g){const b=g&&g.options;g&&te(b.showInLegend,S(b.linkedTo)?!1:void 0,!0)&&(f=f.concat((g.legendItem||{}).labels||(b.legendType==="point"?g.data:g)))}),U(this,"afterGetAllItems",{allItems:f}),f}getAlignment(){const f=this.options;return this.proximate?f.align.charAt(0)+"tv":f.floating?"":f.align.charAt(0)+f.verticalAlign.charAt(0)+f.layout.charAt(0)}adjustMargins(f,g){const b=this.chart,A=this.options,X=this.getAlignment();X&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(Y,J){Y.test(X)&&!S(f[J])&&(b[q[J]]=Math.max(b[q[J]],b.legend[(J+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][J]*A[J%2?"x":"y"]+te(A.margin,12)+g[J]+(b.titleOffset[J]||0)))})}proximatePositions(){const f=this.chart,g=[],b=this.options.align==="left";this.allItems.forEach(function(X){var Y,J=b;let ce;X.yAxis&&(X.xAxis.options.reversed&&(J=!J),X.points&&(Y=H(J?X.points:X.points.slice(0).reverse(),function(pe){return E(pe.plotY)})),J=this.itemMarginTop+X.legendItem.label.getBBox().height+this.itemMarginBottom,ce=X.yAxis.top-f.plotTop,X.visible?(Y=Y?Y.plotY:X.yAxis.height,Y+=ce-.3*J):Y=ce+X.yAxis.height,g.push({target:Y,size:J,item:X}))},this);let A;for(const X of L(g,f.plotHeight))A=X.item.legendItem||{},E(X.pos)&&(A.y=f.plotTop-f.spacing[0]+X.pos)}render(){const f=this.chart,g=f.renderer,b=this.options,A=this.padding;var X=this.getAllItems();let Y,J=this.group,ce=this.box;this.itemX=A,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=$(b.width,f.spacingBox.width-A);var pe=f.spacingBox.width-2*A-b.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(pe/=2),this.maxLegendWidth=this.widthOption||pe,J||(this.group=J=g.g("legend").addClass(b.className||"").attr({zIndex:7}).add(),this.contentGroup=g.g().attr({zIndex:1}).add(J),this.scrollGroup=g.g().add(this.contentGroup)),this.renderTitle(),V(X,(fe,F)=>(fe.options&&fe.options.legendIndex||0)-(F.options&&F.options.legendIndex||0)),b.reversed&&X.reverse(),this.allItems=X,this.display=pe=!!X.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,X.forEach(this.renderItem,this),X.forEach(this.layoutItem,this),X=(this.widthOption||this.offsetWidth)+A,Y=this.lastItemY+this.lastLineHeight+this.titleHeight,Y=this.handleOverflow(Y),Y+=A,ce||(this.box=ce=g.rect().addClass("highcharts-legend-box").attr({r:b.borderRadius}).add(J)),f.styledMode||ce.attr({stroke:b.borderColor,"stroke-width":b.borderWidth||0,fill:b.backgroundColor||"none"}).shadow(b.shadow),0<X&&0<Y&&ce[ce.placed?"animate":"attr"](ce.crisp.call({},{x:0,y:0,width:X,height:Y},ce.strokeWidth())),J[pe?"show":"hide"](),f.styledMode&&J.getStyle("display")==="none"&&(X=Y=0),this.legendWidth=X,this.legendHeight=Y,pe&&this.align(),this.proximate||this.positionItems(),U(this,"afterRender")}align(f=this.chart.spacingBox){const g=this.chart,b=this.options;let A=f.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<g.titleOffset[0]?A+=g.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<g.titleOffset[2]&&(A-=g.titleOffset[2]),A!==f.y&&(f=ie(f,{y:A})),g.hasRendered||(this.group.placed=!1),this.group.align(ie(b,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":b.verticalAlign}),!0,f)}handleOverflow(f){const g=this,b=this.chart,A=b.renderer,X=this.options;var Y=X.y;const J=X.verticalAlign==="top",ce=this.padding,pe=X.maxHeight,fe=X.navigation,F=te(fe.animation,!0),Q=fe.arrowSize||12,se=this.pages,ue=this.allItems,Ce=function(Re){typeof Re=="number"?Se.attr({height:Re}):Se&&(g.clipRect=Se.destroy(),g.contentGroup.clip()),g.contentGroup.div&&(g.contentGroup.div.style.clip=Re?"rect("+ce+"px,9999px,"+(ce+Re)+"px,0)":"auto")},ne=function(Re){return g[Re]=A.circle(0,0,1.3*Q).translate(Q/2,Q/2).add(ye),b.styledMode||g[Re].attr("fill","rgba(0,0,0,0.0001)"),g[Re]};let ve,_e,oe;Y=b.spacingBox.height+(J?-Y:Y)-ce;let ye=this.nav,Se=this.clipRect;return X.layout!=="horizontal"||X.verticalAlign==="middle"||X.floating||(Y/=2),pe&&(Y=Math.min(Y,pe)),se.length=0,f&&0<Y&&f>Y&&fe.enabled!==!1?(this.clipHeight=ve=Math.max(Y-20-this.titleHeight-ce,0),this.currentPage=te(this.currentPage,1),this.fullHeight=f,ue.forEach((Re,Le)=>{oe=Re.legendItem||{},Re=oe.y||0;const $e=Math.round(oe.label.getBBox().height);let rt=se.length;(!rt||Re-se[rt-1]>ve&&(_e||Re)!==se[rt-1])&&(se.push(_e||Re),rt++),oe.pageIx=rt-1,_e&&((ue[Le-1].legendItem||{}).pageIx=rt-1),Le===ue.length-1&&Re+$e-se[rt-1]>ve&&Re>se[rt-1]&&(se.push(Re),oe.pageIx=rt),Re!==_e&&(_e=Re)}),Se||(Se=g.clipRect=A.clipRect(0,ce-2,9999,0),g.contentGroup.clip(Se)),Ce(ve),ye||(this.nav=ye=A.g().attr({zIndex:1}).add(this.group),this.up=A.symbol("triangle",0,0,Q,Q).add(ye),ne("upTracker").on("click",function(){g.scroll(-1,F)}),this.pager=A.text("",15,10).addClass("highcharts-legend-navigation"),!b.styledMode&&fe.style&&this.pager.css(fe.style),this.pager.add(ye),this.down=A.symbol("triangle-down",0,0,Q,Q).add(ye),ne("downTracker").on("click",function(){g.scroll(1,F)})),g.scroll(0),f=Y):ye&&(Ce(),this.nav=ye.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),f}scroll(f,g){const b=this.chart,A=this.pages,X=A.length,Y=this.clipHeight,J=this.options.navigation,ce=this.pager,pe=this.padding;let fe=this.currentPage+f;fe>X&&(fe=X),0<fe&&(typeof g<"u"&&k(g,b),this.nav.attr({translateX:pe,translateY:Y+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(F){F.attr({class:fe===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),ce.attr({text:fe+"/"+X}),[this.down,this.downTracker].forEach(function(F){F.attr({x:18+this.pager.getBBox().width,class:fe===X?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),b.styledMode||(this.up.attr({fill:fe===1?J.inactiveColor:J.activeColor}),this.upTracker.css({cursor:fe===1?"default":"pointer"}),this.down.attr({fill:fe===X?J.inactiveColor:J.activeColor}),this.downTracker.css({cursor:fe===X?"default":"pointer"})),this.scrollOffset=-A[fe-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=fe,this.positionCheckboxes(),f=K(te(g,b.renderer.globalAnimation,!0)),j(()=>{U(this,"afterScroll",{currentPage:fe})},f.duration))}setItemEvents(f,g,b){const A=this,X=f.legendItem||{},Y=A.chart.renderer.boxWrapper,J=f instanceof s,ce="highcharts-legend-"+(J?"point":"series")+"-active",pe=A.chart.styledMode;b=b?[g,X.symbol]:[X.group];const fe=F=>{A.allItems.forEach(Q=>{f!==Q&&[Q].concat(Q.linkedSeries||[]).forEach(se=>{se.setState(F,!J)})})};for(const F of b)F&&F.on("mouseover",function(){f.visible&&fe("inactive"),f.setState("hover"),f.visible&&Y.addClass(ce),pe||g.css(A.options.itemHoverStyle)}).on("mouseout",function(){A.chart.styledMode||g.css(ie(f.visible?A.itemStyle:A.itemHiddenStyle)),fe(""),Y.removeClass(ce),f.setState()}).on("click",function(Q){const se=function(){f.setVisible&&f.setVisible(),fe(f.visible?"inactive":"")};Y.removeClass(ce),Q={browserEvent:Q},f.firePointEvent?f.firePointEvent("legendItemClick",Q,se):U(f,"legendItemClick",Q,se)})}createCheckboxForItem(f){f.checkbox=G("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:f.selected,defaultChecked:f.selected},this.options.itemCheckboxStyle,this.chart.container),O(f.checkbox,"click",function(g){U(f.series||f,"checkboxClick",{checked:g.target.checked,item:f},function(){f.select()})})}}return function(P){const f=[];P.compose=function(g){R.pushUnique(f,g)&&O(g,"beforeMargins",function(){this.legend=new P(this,this.options.legend)})}}(x||(x={})),x}),i(r,"Core/Series/SeriesRegistry.js",[r["Core/Globals.js"],r["Core/Defaults.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(o,d,h,s){const{defaultOptions:v}=d,{extendClass:R,merge:K}=s;var k;return function(z){function q(L,O){const G=v.plotOptions||{},M=O.defaultOptions,S=O.prototype;S.type=L,S.pointClass||(S.pointClass=h),M&&(G[L]=M),z.seriesTypes[L]=O}z.seriesTypes=o.seriesTypes,z.registerSeriesType=q,z.seriesType=function(L,O,G,M,S){const D=v.plotOptions||{};return O=O||"",D[L]=K(D[O],G),q(L,R(z.seriesTypes[O]||function(){},M)),z.seriesTypes[L].prototype.type=L,S&&(z.seriesTypes[L].prototype.pointClass=R(h,S)),z.seriesTypes[L]}}(k||(k={})),k}),i(r,"Core/Chart/Chart.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Time.js"],r["Core/Utilities.js"],r["Core/Renderer/HTML/AST.js"]],function(o,d,h,s,v,R,K,k,z,q,L,O){const{animate:G,animObject:M,setAnimation:S}=o,{defaultOptions:D,defaultTime:H}=h,{numberFormat:U}=s,{registerEventOptions:E}=v,{charts:ie,doc:te,marginNames:$,svg:V,win:j}=R,{seriesTypes:x}=k,{addEvent:P,attr:f,cleanRecursively:g,createElement:b,css:A,defined:X,discardElement:Y,erase:J,error:ce,extend:pe,find:fe,fireEvent:F,getStyle:Q,isArray:se,isNumber:ue,isObject:Ce,isString:ne,merge:ve,objectEach:_e,pick:oe,pInt:ye,relativeLength:Se,removeEvent:Re,splat:Le,syncTimeout:$e,uniqueKey:rt}=L;class Qe{static chart(xe,Ie,Be){return new Qe(xe,Ie,Be)}constructor(xe,Ie,Be){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(xe,Ie,Be)}getArgs(xe,Ie,Be){ne(xe)||xe.nodeName?(this.renderTo=xe,this.init(Ie,Be)):this.init(xe,Ie)}init(xe,Ie){const Be=xe.plotOptions||{};F(this,"init",{args:arguments},function(){const Xe=ve(D,xe),Ke=Xe.chart;_e(Xe.plotOptions,function(St,Ot){Ce(St)&&(St.tooltip=Be[Ot]&&ve(Be[Ot].tooltip)||void 0)}),Xe.tooltip.userOptions=xe.chart&&xe.chart.forExport&&xe.tooltip.userOptions||xe.tooltip,this.userOptions=xe,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Ie,this.isResizing=0;const ft=Ke.zooming=Ke.zooming||{};xe.chart&&!xe.chart.zooming&&(ft.resetButton=Ke.resetZoomButton),ft.key=oe(ft.key,Ke.zoomKey),ft.pinchType=oe(ft.pinchType,Ke.pinchType),ft.singleTouch=oe(ft.singleTouch,Ke.zoomBySingleTouch),ft.type=oe(ft.type,Ke.zoomType),this.options=Xe,this.axes=[],this.series=[],this.time=xe.time&&Object.keys(xe.time).length?new q(xe.time):R.time,this.numberFormatter=Ke.numberFormatter||U,this.styledMode=Ke.styledMode,this.hasCartesianSeries=Ke.showAxes,this.index=ie.length,ie.push(this),R.chartCount++,E(this,Ke),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,F(this,"afterInit"),this.firstRender()})}initSeries(xe){var Ie=this.options.chart;Ie=xe.type||Ie.type;const Be=x[Ie];return Be||ce(17,!0,this,{missingModuleFor:Ie}),Ie=new Be,typeof Ie.init=="function"&&Ie.init(this,xe),Ie}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(xe){xe.points||xe.data||!xe.enabledDataSorting||xe.setData(xe.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(xe,Ie){return xe.linkedSeries.length||Ie.linkedSeries.length?Ie.linkedSeries.length-xe.linkedSeries.length:0})}orderSeries(xe){const Ie=this.series;for(let Be=xe||0,Xe=Ie.length;Be<Xe;++Be)Ie[Be]&&(Ie[Be].index=Be,Ie[Be].name=Ie[Be].getName())}isInsidePlot(xe,Ie,Be={}){const{inverted:Xe,plotBox:Ke,plotLeft:ft,plotTop:St,scrollablePlotBox:Ot}=this;var yi=0;let Wt=0;Be.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:yi,scrollTop:Wt}=this.scrollingContainer);const fi=Be.series,Hi=Be.visiblePlotOnly&&Ot||Ke;var pt=Be.inverted?Ie:xe;if(Ie=Be.inverted?xe:Ie,xe={x:pt,y:Ie,isInsidePlot:!0,options:Be},!Be.ignoreX){const Lt=fi&&(Xe&&!this.polar?fi.yAxis:fi.xAxis)||{pos:ft,len:1/0};pt=Be.paneCoordinates?Lt.pos+pt:ft+pt,pt>=Math.max(yi+ft,Lt.pos)&&pt<=Math.min(yi+ft+Hi.width,Lt.pos+Lt.len)||(xe.isInsidePlot=!1)}return!Be.ignoreY&&xe.isInsidePlot&&(yi=!Xe&&Be.axis&&!Be.axis.isXAxis&&Be.axis||fi&&(Xe?fi.xAxis:fi.yAxis)||{pos:St,len:1/0},Be=Be.paneCoordinates?yi.pos+Ie:St+Ie,Be>=Math.max(Wt+St,yi.pos)&&Be<=Math.min(Wt+St+Hi.height,yi.pos+yi.len)||(xe.isInsidePlot=!1)),F(this,"afterIsInsidePlot",xe),xe.isInsidePlot}redraw(xe){F(this,"beforeRedraw");const Ie=this.hasCartesianSeries?this.axes:this.colorAxis||[],Be=this.series,Xe=this.pointer,Ke=this.legend,ft=this.userOptions.legend,St=this.renderer,Ot=St.isHidden(),yi=[];let Wt,fi,Hi=this.isDirtyBox,pt=this.isDirtyLegend,Lt;for(St.rootFontSize=St.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),S(this.hasRendered?xe:!1,this),Ot&&this.temporaryDisplay(),this.layOutTitles(),xe=Be.length;xe--;)if(Lt=Be[xe],(Lt.options.stacking||Lt.options.centerInCategory)&&(fi=!0,Lt.isDirty)){Wt=!0;break}if(Wt)for(xe=Be.length;xe--;)Lt=Be[xe],Lt.options.stacking&&(Lt.isDirty=!0);Be.forEach(function(ei){ei.isDirty&&(ei.options.legendType==="point"?(typeof ei.updateTotals=="function"&&ei.updateTotals(),pt=!0):ft&&(ft.labelFormatter||ft.labelFormat)&&(pt=!0)),ei.isDirtyData&&F(ei,"updatedData")}),pt&&Ke&&Ke.options.enabled&&(Ke.render(),this.isDirtyLegend=!1),fi&&this.getStacks(),Ie.forEach(function(ei){ei.updateNames(),ei.setScale()}),this.getMargins(),Ie.forEach(function(ei){ei.isDirty&&(Hi=!0)}),Ie.forEach(function(ei){const Pi=ei.min+","+ei.max;ei.extKey!==Pi&&(ei.extKey=Pi,yi.push(function(){F(ei,"afterSetExtremes",pe(ei.eventArgs,ei.getExtremes())),delete ei.eventArgs})),(Hi||fi)&&ei.redraw()}),Hi&&this.drawChartBox(),F(this,"predraw"),Be.forEach(function(ei){(Hi||ei.isDirty)&&ei.visible&&ei.redraw(),ei.isDirtyData=!1}),Xe&&Xe.reset(!0),St.draw(),F(this,"redraw"),F(this,"render"),Ot&&this.temporaryDisplay(!0),yi.forEach(function(ei){ei.call()})}get(xe){function Ie(Ke){return Ke.id===xe||Ke.options&&Ke.options.id===xe}const Be=this.series;let Xe=fe(this.axes,Ie)||fe(this.series,Ie);for(let Ke=0;!Xe&&Ke<Be.length;Ke++)Xe=fe(Be[Ke].points||[],Ie);return Xe}getAxes(){const xe=this;var Ie=this.options;const Be=Ie.xAxis=Le(Ie.xAxis||{});Ie=Ie.yAxis=Le(Ie.yAxis||{}),F(this,"getAxes"),Be.forEach(function(Xe,Ke){Xe.index=Ke,Xe.isX=!0}),Ie.forEach(function(Xe,Ke){Xe.index=Ke}),Be.concat(Ie).forEach(function(Xe){new d(xe,Xe)}),F(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((xe,Ie)=>(Ie.getPointsCollection().forEach(Be=>{oe(Be.selectedStaging,Be.selected)&&xe.push(Be)}),xe),[])}getSelectedSeries(){return this.series.filter(function(xe){return xe.selected})}setTitle(xe,Ie,Be){this.applyDescription("title",xe),this.applyDescription("subtitle",Ie),this.applyDescription("caption",void 0),this.layOutTitles(Be)}applyDescription(xe,Ie){const Be=this;var Xe=xe==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};Xe=this.options[xe]=ve(!this.styledMode&&{style:Xe},this.options[xe],Ie);let Ke=this[xe];Ke&&Ie&&(this[xe]=Ke=Ke.destroy()),Xe&&!Ke&&(Ke=this.renderer.text(Xe.text,0,0,Xe.useHTML).attr({align:Xe.align,class:"highcharts-"+xe,zIndex:Xe.zIndex||4}).add(),Ke.update=function(ft){Be[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[xe]](ft)},this.styledMode||Ke.css(Xe.style),this[xe]=Ke)}layOutTitles(xe){const Ie=[0,0,0],Be=this.renderer,Xe=this.spacingBox;["title","subtitle","caption"].forEach(function(ft){const St=this[ft],Ot=this.options[ft],yi=Ot.verticalAlign||"top";if(ft=ft==="title"?yi==="top"?-3:0:yi==="top"?Ie[0]+2:0,St){St.css({width:(Ot.width||Xe.width+(Ot.widthAdjust||0))+"px"});const Wt=Be.fontMetrics(St).b,fi=Math.round(St.getBBox(Ot.useHTML).height);St.align(pe({y:yi==="bottom"?Wt:ft+Wt,height:fi},Ot),!1,"spacingBox"),Ot.floating||(yi==="top"?Ie[0]=Math.ceil(Ie[0]+fi):yi==="bottom"&&(Ie[2]=Math.ceil(Ie[2]+fi)))}},this),Ie[0]&&(this.options.title.verticalAlign||"top")==="top"&&(Ie[0]+=this.options.title.margin),Ie[2]&&this.options.caption.verticalAlign==="bottom"&&(Ie[2]+=this.options.caption.margin);const Ke=!this.titleOffset||this.titleOffset.join(",")!==Ie.join(",");this.titleOffset=Ie,F(this,"afterLayOutTitles"),!this.isDirtyBox&&Ke&&(this.isDirtyBox=this.isDirtyLegend=Ke,this.hasRendered&&oe(xe,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:Q(this.renderTo,"width",!0)||0,height:Q(this.renderTo,"height",!0)||0}}getChartSize(){var xe=this.options.chart;const Ie=xe.width;xe=xe.height;const Be=this.getContainerBox();this.chartWidth=Math.max(0,Ie||Be.width||600),this.chartHeight=Math.max(0,Se(xe,this.chartWidth)||(1<Be.height?Be.height:400)),this.containerBox=Be}temporaryDisplay(xe){let Ie=this.renderTo;if(xe)for(;Ie&&Ie.style;)Ie.hcOrigStyle&&(A(Ie,Ie.hcOrigStyle),delete Ie.hcOrigStyle),Ie.hcOrigDetached&&(te.body.removeChild(Ie),Ie.hcOrigDetached=!1),Ie=Ie.parentNode;else for(;Ie&&Ie.style&&(te.body.contains(Ie)||Ie.parentNode||(Ie.hcOrigDetached=!0,te.body.appendChild(Ie)),(Q(Ie,"display",!1)==="none"||Ie.hcOricDetached)&&(Ie.hcOrigStyle={display:Ie.style.display,height:Ie.style.height,overflow:Ie.style.overflow},xe={display:"block",overflow:"hidden"},Ie!==this.renderTo&&(xe.height=0),A(Ie,xe),Ie.offsetWidth||Ie.style.setProperty("display","block","important")),Ie=Ie.parentNode,Ie!==te.body););}setClassName(xe){this.container.className="highcharts-container "+(xe||"")}getContainer(){const xe=this.options,Ie=xe.chart;var Be=rt();let Xe,Ke=this.renderTo;Ke||(this.renderTo=Ke=Ie.renderTo),ne(Ke)&&(this.renderTo=Ke=te.getElementById(Ke)),Ke||ce(13,!0,this);var ft=ye(f(Ke,"data-highcharts-chart"));ue(ft)&&ie[ft]&&ie[ft].hasRendered&&ie[ft].destroy(),f(Ke,"data-highcharts-chart",this.index),Ke.innerHTML=O.emptyHTML,Ie.skipClone||Ke.offsetWidth||this.temporaryDisplay(),this.getChartSize(),ft=this.chartWidth;const St=this.chartHeight;if(A(Ke,{overflow:"hidden"}),this.styledMode||(Xe=pe({position:"relative",overflow:"hidden",width:ft+"px",height:St+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Ie.style||{})),this.container=Be=b("div",{id:Be},Xe,Ke),this._cursor=Be.style.cursor,this.renderer=new(Ie.renderer||!V?K.getRendererType(Ie.renderer):z)(Be,ft,St,void 0,Ie.forExport,xe.exporting&&xe.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),S(void 0,this),this.setClassName(Ie.className),this.styledMode)for(const Ot in xe.defs)this.renderer.definition(xe.defs[Ot]);else this.renderer.setStyle(Ie.style);this.renderer.chartIndex=this.index,F(this,"afterGetContainer")}getMargins(xe){const{spacing:Ie,margin:Be,titleOffset:Xe}=this;this.resetMargins(),Xe[0]&&!X(Be[0])&&(this.plotTop=Math.max(this.plotTop,Xe[0]+Ie[0])),Xe[2]&&!X(Be[2])&&(this.marginBottom=Math.max(this.marginBottom,Xe[2]+Ie[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Be,Ie),F(this,"getMargins"),xe||this.getAxisMargins()}getAxisMargins(){const xe=this,Ie=xe.axisOffset=[0,0,0,0],Be=xe.colorAxis,Xe=xe.margin,Ke=function(ft){ft.forEach(function(St){St.visible&&St.getOffset()})};xe.hasCartesianSeries?Ke(xe.axes):Be&&Be.length&&Ke(Be),$.forEach(function(ft,St){X(Xe[St])||(xe[ft]+=Ie[St])}),xe.setChartSize()}reflow(xe){const Ie=this;var Be=Ie.options.chart;Be=X(Be.width)&&X(Be.height);const Xe=Ie.containerBox,Ke=Ie.getContainerBox();delete Ie.pointer.chartPosition,!Be&&!Ie.isPrinting&&Xe&&Ke.width&&((Ke.width!==Xe.width||Ke.height!==Xe.height)&&(L.clearTimeout(Ie.reflowTimeout),Ie.reflowTimeout=$e(function(){Ie.container&&Ie.setSize(void 0,void 0,!1)},xe?100:0)),Ie.containerBox=Ke)}setReflow(){const xe=this;var Ie=Be=>{var Xe;!((Xe=xe.options)===null||Xe===void 0)&&Xe.chart.reflow&&xe.hasLoaded&&xe.reflow(Be)};typeof ResizeObserver=="function"?new ResizeObserver(Ie).observe(xe.renderTo):(Ie=P(j,"resize",Ie),P(this,"destroy",Ie))}setSize(xe,Ie,Be){const Xe=this,Ke=Xe.renderer;Xe.isResizing+=1,S(Be,Xe),Be=Ke.globalAnimation,Xe.oldChartHeight=Xe.chartHeight,Xe.oldChartWidth=Xe.chartWidth,typeof xe<"u"&&(Xe.options.chart.width=xe),typeof Ie<"u"&&(Xe.options.chart.height=Ie),Xe.getChartSize(),Xe.styledMode||(Be?G:A)(Xe.container,{width:Xe.chartWidth+"px",height:Xe.chartHeight+"px"},Be),Xe.setChartSize(!0),Ke.setSize(Xe.chartWidth,Xe.chartHeight,Be),Xe.axes.forEach(function(ft){ft.isDirty=!0,ft.setScale()}),Xe.isDirtyLegend=!0,Xe.isDirtyBox=!0,Xe.layOutTitles(),Xe.getMargins(),Xe.redraw(Be),Xe.oldChartHeight=null,F(Xe,"resize"),$e(function(){Xe&&F(Xe,"endResize",null,function(){--Xe.isResizing})},M(Be).duration)}setChartSize(xe){var Ie=this.inverted;const Be=this.renderer;var Xe=this.chartWidth,Ke=this.chartHeight;const ft=this.options.chart,St=this.spacing,Ot=this.clipOffset;let yi,Wt,fi,Hi;this.plotLeft=yi=Math.round(this.plotLeft),this.plotTop=Wt=Math.round(this.plotTop),this.plotWidth=fi=Math.max(0,Math.round(Xe-yi-this.marginRight)),this.plotHeight=Hi=Math.max(0,Math.round(Ke-Wt-this.marginBottom)),this.plotSizeX=Ie?Hi:fi,this.plotSizeY=Ie?fi:Hi,this.plotBorderWidth=ft.plotBorderWidth||0,this.spacingBox=Be.spacingBox={x:St[3],y:St[0],width:Xe-St[3]-St[1],height:Ke-St[0]-St[2]},this.plotBox=Be.plotBox={x:yi,y:Wt,width:fi,height:Hi},Ie=2*Math.floor(this.plotBorderWidth/2),Xe=Math.ceil(Math.max(Ie,Ot[3])/2),Ke=Math.ceil(Math.max(Ie,Ot[0])/2),this.clipBox={x:Xe,y:Ke,width:Math.floor(this.plotSizeX-Math.max(Ie,Ot[1])/2-Xe),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Ie,Ot[2])/2-Ke))},xe||(this.axes.forEach(function(pt){pt.setAxisSize(),pt.setAxisTranslation()}),Be.alignElements()),F(this,"afterSetChartSize",{skipAxes:xe})}resetMargins(){F(this,"resetMargins");const xe=this,Ie=xe.options.chart;["margin","spacing"].forEach(function(Be){const Xe=Ie[Be],Ke=Ce(Xe)?Xe:[Xe,Xe,Xe,Xe];["Top","Right","Bottom","Left"].forEach(function(ft,St){xe[Be][St]=oe(Ie[Be+ft],Ke[St])})}),$.forEach(function(Be,Xe){xe[Be]=oe(xe.margin[Xe],xe.spacing[Xe])}),xe.axisOffset=[0,0,0,0],xe.clipOffset=[0,0,0,0]}drawChartBox(){const xe=this.options.chart,Ie=this.renderer,Be=this.chartWidth,Xe=this.chartHeight,Ke=this.styledMode,ft=this.plotBGImage;var St=xe.backgroundColor;const Ot=xe.plotBackgroundColor,yi=xe.plotBackgroundImage,Wt=this.plotLeft,fi=this.plotTop,Hi=this.plotWidth,pt=this.plotHeight,Lt=this.plotBox,ei=this.clipRect,Pi=this.clipBox;let cn=this.chartBackground,Wn=this.plotBackground,Kr=this.plotBorder,ui,Vi,qi="animate";cn||(this.chartBackground=cn=Ie.rect().addClass("highcharts-background").add(),qi="attr"),Ke?ui=Vi=cn.strokeWidth():(ui=xe.borderWidth||0,Vi=ui+(xe.shadow?8:0),St={fill:St||"none"},(ui||cn["stroke-width"])&&(St.stroke=xe.borderColor,St["stroke-width"]=ui),cn.attr(St).shadow(xe.shadow)),cn[qi]({x:Vi/2,y:Vi/2,width:Be-Vi-ui%2,height:Xe-Vi-ui%2,r:xe.borderRadius}),qi="animate",Wn||(qi="attr",this.plotBackground=Wn=Ie.rect().addClass("highcharts-plot-background").add()),Wn[qi](Lt),Ke||(Wn.attr({fill:Ot||"none"}).shadow(xe.plotShadow),yi&&(ft?(yi!==ft.attr("href")&&ft.attr("href",yi),ft.animate(Lt)):this.plotBGImage=Ie.image(yi,Wt,fi,Hi,pt).add())),ei?ei.animate({width:Pi.width,height:Pi.height}):this.clipRect=Ie.clipRect(Pi),qi="animate",Kr||(qi="attr",this.plotBorder=Kr=Ie.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Ke||Kr.attr({stroke:xe.plotBorderColor,"stroke-width":xe.plotBorderWidth||0,fill:"none"}),Kr[qi](Kr.crisp({x:Wt,y:fi,width:Hi,height:pt},-Kr.strokeWidth())),this.isDirtyBox=!1,F(this,"afterDrawChartBox")}propFromSeries(){const xe=this,Ie=xe.options.chart,Be=xe.options.series;let Xe,Ke,ft;["inverted","angular","polar"].forEach(function(St){for(Ke=x[Ie.type],ft=Ie[St]||Ke&&Ke.prototype[St],Xe=Be&&Be.length;!ft&&Xe--;)(Ke=x[Be[Xe].type])&&Ke.prototype[St]&&(ft=!0);xe[St]=ft})}linkSeries(xe){const Ie=this,Be=Ie.series;Be.forEach(function(Xe){Xe.linkedSeries.length=0}),Be.forEach(function(Xe){let Ke=Xe.options.linkedTo;ne(Ke)&&(Ke=Ke===":previous"?Ie.series[Xe.index-1]:Ie.get(Ke))&&Ke.linkedParent!==Xe&&(Ke.linkedSeries.push(Xe),Xe.linkedParent=Ke,Ke.enabledDataSorting&&Xe.setDataSortingOptions(),Xe.visible=oe(Xe.options.visible,Ke.options.visible,Xe.visible))}),F(this,"afterLinkSeries",{isUpdating:xe})}renderSeries(){this.series.forEach(function(xe){xe.translate(),xe.render()})}render(){const xe=this.axes,Ie=this.colorAxis,Be=this.renderer,Xe=function(Wt){Wt.forEach(function(fi){fi.visible&&fi.render()})};let Ke=0;this.setTitle(),F(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const ft=this.plotWidth;xe.some(function(Wt){if(Wt.horiz&&Wt.visible&&Wt.options.labels.enabled&&Wt.series.length)return Ke=21,!0});const St=this.plotHeight=Math.max(this.plotHeight-Ke,0);xe.forEach(function(Wt){Wt.setScale()}),this.getAxisMargins();const Ot=1.1<ft/this.plotWidth,yi=1.05<St/this.plotHeight;(Ot||yi)&&(xe.forEach(function(Wt){(Wt.horiz&&Ot||!Wt.horiz&&yi)&&Wt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?Xe(xe):Ie&&Ie.length&&Xe(Ie),this.seriesGroup||(this.seriesGroup=Be.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(xe){const Ie=this,Be=ve(!0,this.options.credits,xe);Be.enabled&&!this.credits&&(this.credits=this.renderer.text(Be.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Be.href&&(j.location.href=Be.href)}).attr({align:Be.position.align,zIndex:8}),Ie.styledMode||this.credits.css(Be.style),this.credits.add().align(Be.position),this.credits.update=function(Xe){Ie.credits=Ie.credits.destroy(),Ie.addCredits(Xe)})}destroy(){const xe=this,Ie=xe.axes,Be=xe.series,Xe=xe.container,Ke=Xe&&Xe.parentNode;let ft;for(F(xe,"destroy"),xe.renderer.forExport?J(ie,xe):ie[xe.index]=void 0,R.chartCount--,xe.renderTo.removeAttribute("data-highcharts-chart"),Re(xe),ft=Ie.length;ft--;)Ie[ft]=Ie[ft].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ft=Be.length;ft--;)Be[ft]=Be[ft].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(St){const Ot=xe[St];Ot&&Ot.destroy&&(xe[St]=Ot.destroy())}),Xe&&(Xe.innerHTML=O.emptyHTML,Re(Xe),Ke&&Y(Xe)),_e(xe,function(St,Ot){delete xe[Ot]})}firstRender(){const xe=this,Ie=xe.options;xe.getContainer(),xe.resetMargins(),xe.setChartSize(),xe.propFromSeries(),xe.getAxes(),(se(Ie.series)?Ie.series:[]).forEach(function(Be){xe.initSeries(Be)}),xe.linkSeries(),xe.setSeriesData(),F(xe,"beforeRender"),xe.render(),xe.pointer.getChartPosition(),!xe.renderer.imgCount&&!xe.hasLoaded&&xe.onload(),xe.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(xe){xe&&typeof this.index<"u"&&xe.apply(this,[this])},this),F(this,"load"),F(this,"render"),X(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:xe,title:Ie}=this;xe&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Ie&&Ie.element.textContent||"").replace(/</g,"&lt;")}),xe.accessibility&&xe.accessibility.enabled===!1||ce('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(xe,Ie,Be){const Xe=this;let Ke;return xe&&(Ie=oe(Ie,!0),F(Xe,"addSeries",{options:xe},function(){Ke=Xe.initSeries(xe),Xe.isDirtyLegend=!0,Xe.linkSeries(),Ke.enabledDataSorting&&Ke.setData(xe.data,!1),F(Xe,"afterAddSeries",{series:Ke}),Ie&&Xe.redraw(Be)})),Ke}addAxis(xe,Ie,Be,Xe){return this.createAxis(Ie?"xAxis":"yAxis",{axis:xe,redraw:Be,animation:Xe})}addColorAxis(xe,Ie,Be){return this.createAxis("colorAxis",{axis:xe,redraw:Ie,animation:Be})}createAxis(xe,Ie){return xe=new d(this,ve(Ie.axis,{index:this[xe].length,isX:xe==="xAxis"})),oe(Ie.redraw,!0)&&this.redraw(Ie.animation),xe}showLoading(xe){const Ie=this,Be=Ie.options,Xe=Be.loading,Ke=function(){ft&&A(ft,{left:Ie.plotLeft+"px",top:Ie.plotTop+"px",width:Ie.plotWidth+"px",height:Ie.plotHeight+"px"})};let ft=Ie.loadingDiv,St=Ie.loadingSpan;ft||(Ie.loadingDiv=ft=b("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Ie.container)),St||(Ie.loadingSpan=St=b("span",{className:"highcharts-loading-inner"},null,ft),P(Ie,"redraw",Ke)),ft.className="highcharts-loading",O.setElementHTML(St,oe(xe,Be.lang.loading,"")),Ie.styledMode||(A(ft,pe(Xe.style,{zIndex:10})),A(St,Xe.labelStyle),Ie.loadingShown||(A(ft,{opacity:0,display:""}),G(ft,{opacity:Xe.style.opacity||.5},{duration:Xe.showDuration||0}))),Ie.loadingShown=!0,Ke()}hideLoading(){const xe=this.options,Ie=this.loadingDiv;Ie&&(Ie.className="highcharts-loading highcharts-loading-hidden",this.styledMode||G(Ie,{opacity:0},{duration:xe.loading.hideDuration||100,complete:function(){A(Ie,{display:"none"})}})),this.loadingShown=!1}update(xe,Ie,Be,Xe){const Ke=this,ft={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},St=xe.isResponsiveOptions,Ot=[];let yi,Wt;F(Ke,"update",{options:xe}),St||Ke.setResponsive(!1,!0),xe=g(xe,Ke.options),Ke.userOptions=ve(Ke.userOptions,xe);var fi=xe.chart;if(fi){if(ve(!0,Ke.options.chart,fi),"className"in fi&&Ke.setClassName(fi.className),"inverted"in fi||"polar"in fi||"type"in fi){Ke.propFromSeries();var Hi=!0}"alignTicks"in fi&&(Hi=!0),"events"in fi&&E(this,fi),_e(fi,function(pt,Lt){Ke.propsRequireUpdateSeries.indexOf("chart."+Lt)!==-1&&(yi=!0),Ke.propsRequireDirtyBox.indexOf(Lt)!==-1&&(Ke.isDirtyBox=!0),Ke.propsRequireReflow.indexOf(Lt)!==-1&&(St?Ke.isDirtyBox=!0:Wt=!0)}),!Ke.styledMode&&fi.style&&Ke.renderer.setStyle(Ke.options.chart.style||{})}!Ke.styledMode&&xe.colors&&(this.options.colors=xe.colors),xe.time&&(this.time===H&&(this.time=new q(xe.time)),ve(!0,Ke.options.time,xe.time)),_e(xe,function(pt,Lt){Ke[Lt]&&typeof Ke[Lt].update=="function"?Ke[Lt].update(pt,!1):typeof Ke[ft[Lt]]=="function"?Ke[ft[Lt]](pt):Lt!=="colors"&&Ke.collectionsWithUpdate.indexOf(Lt)===-1&&ve(!0,Ke.options[Lt],xe[Lt]),Lt!=="chart"&&Ke.propsRequireUpdateSeries.indexOf(Lt)!==-1&&(yi=!0)}),this.collectionsWithUpdate.forEach(function(pt){let Lt;xe[pt]&&(Lt=[],Ke[pt].forEach(function(ei,Pi){ei.options.isInternal||Lt.push(oe(ei.options.index,Pi))}),Le(xe[pt]).forEach(function(ei,Pi){const cn=X(ei.id);let Wn;cn&&(Wn=Ke.get(ei.id)),!Wn&&Ke[pt]&&(Wn=Ke[pt][Lt?Lt[Pi]:Pi])&&cn&&X(Wn.options.id)&&(Wn=void 0),Wn&&Wn.coll===pt&&(Wn.update(ei,!1),Be&&(Wn.touched=!0)),!Wn&&Be&&Ke.collectionsWithInit[pt]&&(Ke.collectionsWithInit[pt][0].apply(Ke,[ei].concat(Ke.collectionsWithInit[pt][1]||[]).concat([!1])).touched=!0)}),Be&&Ke[pt].forEach(function(ei){ei.touched||ei.options.isInternal?delete ei.touched:Ot.push(ei)}))}),Ot.forEach(function(pt){pt.chart&&pt.remove&&pt.remove(!1)}),Hi&&Ke.axes.forEach(function(pt){pt.update({},!1)}),yi&&Ke.getSeriesOrderByLinks().forEach(function(pt){pt.chart&&pt.update({},!1)},this),Hi=fi&&fi.width,fi=fi&&(ne(fi.height)?Se(fi.height,Hi||Ke.chartWidth):fi.height),Wt||ue(Hi)&&Hi!==Ke.chartWidth||ue(fi)&&fi!==Ke.chartHeight?Ke.setSize(Hi,fi,Xe):oe(Ie,!0)&&Ke.redraw(Xe),F(Ke,"afterUpdate",{options:xe,redraw:Ie,animation:Xe})}setSubtitle(xe,Ie){this.applyDescription("subtitle",xe),this.layOutTitles(Ie)}setCaption(xe,Ie){this.applyDescription("caption",xe),this.layOutTitles(Ie)}showResetZoom(){function xe(){Ie.zoomOut()}const Ie=this,Be=D.lang,Xe=Ie.options.chart.zooming.resetButton,Ke=Xe.theme,ft=Xe.relativeTo==="chart"||Xe.relativeTo==="spacingBox"?null:"scrollablePlotBox";F(this,"beforeShowResetZoom",null,function(){Ie.resetZoomButton=Ie.renderer.button(Be.resetZoom,null,null,xe,Ke).attr({align:Xe.position.align,title:Be.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Xe.position,!1,ft)}),F(this,"afterShowResetZoom")}zoomOut(){F(this,"selection",{resetSelection:!0},this.zoom)}zoom(xe){const Ie=this,Be=Ie.pointer;let Xe=!1,Ke;!xe||xe.resetSelection?(Ie.axes.forEach(function(St){Ke=St.zoom()}),Be.initiated=!1):xe.xAxis.concat(xe.yAxis).forEach(function(St){const Ot=St.axis;(Be[Ot.isXAxis?"zoomX":"zoomY"]&&X(Be.mouseDownX)&&X(Be.mouseDownY)&&Ie.isInsidePlot(Be.mouseDownX-Ie.plotLeft,Be.mouseDownY-Ie.plotTop,{axis:Ot})||!X(Ie.inverted?Be.mouseDownX:Be.mouseDownY))&&(Ke=Ot.zoom(St.min,St.max),Ot.displayBtn&&(Xe=!0))});const ft=Ie.resetZoomButton;Xe&&!ft?Ie.showResetZoom():!Xe&&Ce(ft)&&(Ie.resetZoomButton=ft.destroy()),Ke&&Ie.redraw(oe(Ie.options.chart.animation,xe&&xe.animation,100>Ie.pointCount))}pan(xe,Ie){const Be=this,Xe=Be.hoverPoints;Ie=typeof Ie=="object"?Ie:{enabled:Ie,type:"x"};const Ke=Be.options.chart;Ke&&Ke.panning&&(Ke.panning=Ie);const ft=Ie.type;let St;F(this,"pan",{originalEvent:xe},function(){Xe&&Xe.forEach(function(Wt){Wt.setState()});let Ot=Be.xAxis;ft==="xy"?Ot=Ot.concat(Be.yAxis):ft==="y"&&(Ot=Be.yAxis);const yi={};Ot.forEach(function(Wt){if(Wt.options.panningEnabled&&!Wt.options.isInternal){var fi=Wt.horiz,Hi=xe[fi?"chartX":"chartY"];fi=fi?"mouseDownX":"mouseDownY";var pt=Be[fi],Lt=Wt.minPointOffset||0,ei=Wt.reversed&&!Be.inverted||!Wt.reversed&&Be.inverted?-1:1,Pi=Wt.getExtremes(),cn=Wt.toValue(pt-Hi,!0)+Lt*ei,Wn=Wt.toValue(pt+Wt.len-Hi,!0)-(Lt*ei||Wt.isXAxis&&Wt.pointRangePadding||0),Kr=Wn<cn;ei=Wt.hasVerticalPanning(),pt=Kr?Wn:cn,cn=Kr?cn:Wn;var ui=Wt.panningState;!ei||Wt.isXAxis||ui&&!ui.isDirty||Wt.series.forEach(function(Vi){var qi=Vi.getProcessedData(!0);qi=Vi.getExtremes(qi.yData,!0),ui||(ui={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),ue(qi.dataMin)&&ue(qi.dataMax)&&(ui.startMin=Math.min(oe(Vi.options.threshold,1/0),qi.dataMin,ui.startMin),ui.startMax=Math.max(oe(Vi.options.threshold,-1/0),qi.dataMax,ui.startMax))}),ei=Math.min(oe(ui&&ui.startMin,Pi.dataMin),Lt?Pi.min:Wt.toValue(Wt.toPixels(Pi.min)-Wt.minPixelPadding)),Wn=Math.max(oe(ui&&ui.startMax,Pi.dataMax),Lt?Pi.max:Wt.toValue(Wt.toPixels(Pi.max)+Wt.minPixelPadding)),Wt.panningState=ui,Wt.isOrdinal||(Lt=ei-pt,0<Lt&&(cn+=Lt,pt=ei),Lt=cn-Wn,0<Lt&&(cn=Wn,pt-=Lt),Wt.series.length&&pt!==Pi.min&&cn!==Pi.max&&pt>=ei&&cn<=Wn&&(Wt.setExtremes(pt,cn,!1,!1,{trigger:"pan"}),!Be.resetZoomButton&&pt!==ei&&cn!==Wn&&ft.match("y")&&(Be.showResetZoom(),Wt.displayBtn=!1),St=!0),yi[fi]=Hi)}}),_e(yi,(Wt,fi)=>{Be[fi]=Wt}),St&&Be.redraw(!1),A(Be.container,{cursor:"move"})})}}return pe(Qe.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Qe.prototype.addAxis,[!0]],yAxis:[Qe.prototype.addAxis,[!1]],series:[Qe.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Qe}),i(r,"Core/Legend/LegendSymbol.js",[r["Core/Utilities.js"]],function(o){const{extend:d,merge:h,pick:s}=o;var v;return function(R){R.lineMarker=function(K,k){k=this.legendItem=this.legendItem||{};var z=this.options;const q=K.symbolWidth,L=K.symbolHeight,O=L/2,G=this.chart.renderer,M=k.group;K=K.baseline-Math.round(.3*K.fontMetrics.b);let S={},D=z.marker,H=0;this.chart.styledMode||(S={"stroke-width":Math.min(z.lineWidth||0,24)},z.dashStyle?S.dashstyle=z.dashStyle:z.linecap!=="square"&&(S["stroke-linecap"]="round")),k.line=G.path().addClass("highcharts-graph").attr(S).add(M),S["stroke-linecap"]&&(H=Math.min(k.line.strokeWidth(),q)/2),q&&k.line.attr({d:[["M",H,K],["L",q-H,K]]}),D&&D.enabled!==!1&&q&&(z=Math.min(s(D.radius,O),O),this.symbol.indexOf("url")===0&&(D=h(D,{width:L,height:L}),z=0),k.symbol=k=G.symbol(this.symbol,q/2-z,K-z,2*z,2*z,d({context:"legend"},D)).addClass("highcharts-point").add(M),k.isMarker=!0)},R.rectangle=function(K,k){k=k.legendItem||{};const z=K.symbolHeight,q=K.options.squareSymbol;k.symbol=this.chart.renderer.rect(q?(K.symbolWidth-z)/2:0,K.baseline-z+1,q?z:K.symbolWidth,z,s(K.options.symbolRadius,z/2)).addClass("highcharts-point").attr({zIndex:3}).add(k.group)}}(v||(v={})),v}),i(r,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:o}=this.series.chart;return typeof this.y!="number"?"":o(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),i(r,"Core/Series/Series.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/Point.js"],r["Core/Series/SeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R,K,k,z,q){const{animObject:L,setAnimation:O}=o,{defaultOptions:G}=d,{registerEventOptions:M}=h,{hasTouch:S,svg:D,win:H}=s,{seriesTypes:U}=k,{arrayMax:E,arrayMin:ie,clamp:te,cleanRecursively:$,correctFloat:V,defined:j,erase:x,error:P,extend:f,find:g,fireEvent:b,getNestedProperty:A,isArray:X,isNumber:Y,isString:J,merge:ce,objectEach:pe,pick:fe,removeEvent:F,splat:Q,syncTimeout:se}=q;class ue{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(ne,ve){b(this,"init",{options:ve});const _e=this,oe=ne.series;this.eventsToUnbind=[],_e.chart=ne,_e.options=_e.setOptions(ve),ve=_e.options,_e.linkedSeries=[],_e.bindAxes(),f(_e,{name:ve.name,state:"",visible:ve.visible!==!1,selected:ve.selected===!0}),M(this,ve);const ye=ve.events;(ye&&ye.click||ve.point&&ve.point.events&&ve.point.events.click||ve.allowPointSelect)&&(ne.runTrackerClick=!0),_e.getColor(),_e.getSymbol(),_e.parallelArrays.forEach(function(Re){_e[Re+"Data"]||(_e[Re+"Data"]=[])}),_e.isCartesian&&(ne.hasCartesianSeries=!0);let Se;oe.length&&(Se=oe[oe.length-1]),_e._i=fe(Se&&Se._i,-1)+1,_e.opacity=_e.options.opacity,ne.orderSeries(this.insert(oe)),ve.dataSorting&&ve.dataSorting.enabled?_e.setDataSortingOptions():_e.points||_e.data||_e.setData(ve.data,!1),b(this,"afterInit")}is(ne){return U[ne]&&this instanceof U[ne]}insert(ne){const ve=this.options.index;let _e;if(Y(ve)){for(_e=ne.length;_e--;)if(ve>=fe(ne[_e].options.index,ne[_e]._i)){ne.splice(_e+1,0,this);break}_e===-1&&ne.unshift(this),_e+=1}else ne.push(this);return fe(_e,ne.length-1)}bindAxes(){const ne=this,ve=ne.options,_e=ne.chart;let oe;b(this,"bindAxes",null,function(){(ne.axisTypes||[]).forEach(function(ye){let Se=0;_e[ye].forEach(function(Re){oe=Re.options,(ve[ye]===Se&&!oe.isInternal||typeof ve[ye]<"u"&&ve[ye]===oe.id||typeof ve[ye]>"u"&&oe.index===0)&&(ne.insert(Re.series),ne[ye]=Re,Re.isDirty=!0),oe.isInternal||Se++}),ne[ye]||ne.optionalAxis===ye||P(18,!0,_e)})}),b(this,"afterBindAxes")}updateParallelArrays(ne,ve,_e){const oe=ne.series,ye=Y(ve)?function(Se){const Re=Se==="y"&&oe.toYData?oe.toYData(ne):ne[Se];oe[Se+"Data"][ve]=Re}:function(Se){Array.prototype[ve].apply(oe[Se+"Data"],_e)};oe.parallelArrays.forEach(ye)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(ne){var ve=this.options;const _e=ve.pointIntervalUnit,oe=ve.relativeXValue,ye=this.chart.time;let Se=this.xIncrement,Re;return Se=fe(Se,ve.pointStart,0),this.pointInterval=Re=fe(this.pointInterval,ve.pointInterval,1),oe&&Y(ne)&&(Re*=ne),_e&&(ve=new ye.Date(Se),_e==="day"?ye.set("Date",ve,ye.get("Date",ve)+Re):_e==="month"?ye.set("Month",ve,ye.get("Month",ve)+Re):_e==="year"&&ye.set("FullYear",ve,ye.get("FullYear",ve)+Re),Re=ve.getTime()-Se),oe&&Y(ne)?Se+Re:(this.xIncrement=Se+Re,Se)}setDataSortingOptions(){const ne=this.options;f(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),j(ne.pointRange)||(ne.pointRange=1)}setOptions(ne){var ve=this.chart,_e=ve.options,oe=_e.plotOptions,ye=ve.userOptions||{};ne=ce(ne),ve=ve.styledMode;const Se={plotOptions:oe,userOptions:ne};b(this,"setOptions",Se);const Re=Se.plotOptions[this.type],Le=ye.plotOptions||{};return this.userOptions=Se.userOptions,ye=ce(Re,oe.series,ye.plotOptions&&ye.plotOptions[this.type],ne),this.tooltipOptions=ce(G.tooltip,G.plotOptions.series&&G.plotOptions.series.tooltip,G.plotOptions[this.type].tooltip,_e.tooltip.userOptions,oe.series&&oe.series.tooltip,oe[this.type].tooltip,ne.tooltip),this.stickyTracking=fe(ne.stickyTracking,Le[this.type]&&Le[this.type].stickyTracking,Le.series&&Le.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:ye.stickyTracking),Re.marker===null&&delete ye.marker,this.zoneAxis=ye.zoneAxis,oe=this.zones=(ye.zones||[]).slice(),!ye.negativeColor&&!ye.negativeFillColor||ye.zones||(_e={value:ye[this.zoneAxis+"Threshold"]||ye.threshold||0,className:"highcharts-negative"},ve||(_e.color=ye.negativeColor,_e.fillColor=ye.negativeFillColor),oe.push(_e)),oe.length&&j(oe[oe.length-1].value)&&oe.push(ve?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:ye}),ye}getName(){return fe(this.options.name,"Series "+(this.index+1))}getCyclic(ne,ve,_e){const oe=this.chart,ye=this.userOptions,Se=ne+"Index",Re=ne+"Counter",Le=_e?_e.length:fe(oe.options.chart[ne+"Count"],oe[ne+"Count"]);if(!ve){var $e=fe(ye[Se],ye["_"+Se]);j($e)||(oe.series.length||(oe[Re]=0),ye["_"+Se]=$e=oe[Re]%Le,oe[Re]+=1),_e&&(ve=_e[$e])}typeof $e<"u"&&(this[Se]=$e),this[ne]=ve}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||G.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(ne,ve){const _e=ne.id,oe=ne.x,ye=this.points;var Se=this.options.dataSorting,Re;let Le,$e;if(_e)Se=this.chart.get(_e),Se instanceof R&&(Re=Se);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Re=rt=>!rt.touched&&rt.index===ne.index,Se&&Se.matchByName?Re=rt=>!rt.touched&&rt.name===ne.name:this.options.relativeXValue&&(Re=rt=>!rt.touched&&rt.options.x===ne.x),Re=g(ye,Re),!Re))return;return Re&&($e=Re&&Re.index,typeof $e<"u"&&(Le=!0)),typeof $e>"u"&&Y(oe)&&($e=this.xData.indexOf(oe,ve)),$e!==-1&&typeof $e<"u"&&this.cropped&&($e=$e>=this.cropStart?$e-this.cropStart:$e),!Le&&Y($e)&&ye[$e]&&ye[$e].touched&&($e=void 0),$e}updateData(ne,ve){const _e=this.options,oe=_e.dataSorting,ye=this.points,Se=[],Re=this.requireSorting,Le=ne.length===ye.length;let $e,rt,Qe,qe=!0;if(this.xIncrement=null,ne.forEach(function(xe,Ie){var Be=j(xe)&&this.pointClass.prototype.optionsToObject.call({series:this},xe)||{};const Xe=Be.x;Be.id||Y(Xe)?(Be=this.findPointIndex(Be,Qe),Be===-1||typeof Be>"u"?Se.push(xe):ye[Be]&&xe!==_e.data[Be]?(ye[Be].update(xe,!1,null,!1),ye[Be].touched=!0,Re&&(Qe=Be+1)):ye[Be]&&(ye[Be].touched=!0),(!Le||Ie!==Be||oe&&oe.enabled||this.hasDerivedData)&&($e=!0)):Se.push(xe)},this),$e)for(ne=ye.length;ne--;)(rt=ye[ne])&&!rt.touched&&rt.remove&&rt.remove(!1,ve);else!Le||oe&&oe.enabled?qe=!1:(ne.forEach(function(xe,Ie){xe===ye[Ie].y||ye[Ie].destroyed||ye[Ie].update(xe,!1,null,!1)}),Se.length=0);return ye.forEach(function(xe){xe&&(xe.touched=!1)}),qe?(Se.forEach(function(xe){this.addPoint(xe,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=E(this.xData),this.autoIncrement()),!0):!1}setData(ne,ve=!0,_e,oe){var ye;const Se=this,Re=Se.points,Le=Re&&Re.length||0,$e=Se.options,rt=Se.chart,Qe=$e.dataSorting,qe=Se.xAxis,xe=$e.turboThreshold,Ie=this.xData,Be=this.yData;var Xe=Se.pointArrayMap;Xe=Xe&&Xe.length;const Ke=$e.keys;let ft,St=0,Ot=1,yi=null;if(!rt.options.chart.allowMutatingData){$e.data&&delete Se.options.data,Se.userOptions.data&&delete Se.userOptions.data;var Wt=ce(!0,ne)}if(ne=Wt||ne||[],Wt=ne.length,Qe&&Qe.enabled&&(ne=this.sortData(ne)),rt.options.chart.allowMutatingData&&oe!==!1&&Wt&&Le&&!Se.cropped&&!Se.hasGroupedData&&Se.visible&&!Se.boosted&&(ft=this.updateData(ne,_e)),!ft){if(Se.xIncrement=null,Se.colorCounter=0,this.parallelArrays.forEach(function(fi){Se[fi+"Data"].length=0}),xe&&Wt>xe)if(yi=Se.getFirstValidPoint(ne),Y(yi))for(_e=0;_e<Wt;_e++)Ie[_e]=this.autoIncrement(),Be[_e]=ne[_e];else if(X(yi))if(Xe)if(yi.length===Xe)for(_e=0;_e<Wt;_e++)Ie[_e]=this.autoIncrement(),Be[_e]=ne[_e];else for(_e=0;_e<Wt;_e++)oe=ne[_e],Ie[_e]=oe[0],Be[_e]=oe.slice(1,Xe+1);else if(Ke&&(St=Ke.indexOf("x"),Ot=Ke.indexOf("y"),St=0<=St?St:0,Ot=0<=Ot?Ot:1),yi.length===1&&(Ot=0),St===Ot)for(_e=0;_e<Wt;_e++)Ie[_e]=this.autoIncrement(),Be[_e]=ne[_e][Ot];else for(_e=0;_e<Wt;_e++)oe=ne[_e],Ie[_e]=oe[St],Be[_e]=oe[Ot];else P(12,!1,rt);else for(_e=0;_e<Wt;_e++)oe={series:Se},Se.pointClass.prototype.applyOptions.apply(oe,[ne[_e]]),Se.updateParallelArrays(oe,_e);for(Be&&J(Be[0])&&P(14,!0,rt),Se.data=[],Se.options.data=Se.userOptions.data=ne,_e=Le;_e--;)(ye=Re[_e])===null||ye===void 0||ye.destroy();qe&&(qe.minRange=qe.userMinRange),Se.isDirty=rt.isDirtyBox=!0,Se.isDirtyData=!!Re,_e=!1}$e.legendType==="point"&&(this.processData(),this.generatePoints()),ve&&rt.redraw(_e)}sortData(ne){const ve=this,_e=ve.options.dataSorting.sortKey||"y",oe=function(ye,Se){return j(Se)&&ye.pointClass.prototype.optionsToObject.call({series:ye},Se)||{}};return ne.forEach(function(ye,Se){ne[Se]=oe(ve,ye),ne[Se].index=Se},this),ne.concat().sort((ye,Se)=>(ye=A(_e,ye),Se=A(_e,Se),Se<ye?-1:Se>ye?1:0)).forEach(function(ye,Se){ye.x=Se},this),ve.linkedSeries&&ve.linkedSeries.forEach(function(ye){const Se=ye.options,Re=Se.data;Se.dataSorting&&Se.dataSorting.enabled||!Re||(Re.forEach(function(Le,$e){Re[$e]=oe(ye,Le),ne[$e]&&(Re[$e].x=ne[$e].x,Re[$e].index=$e)}),ye.setData(Re,!1))}),ne}getProcessedData(ne){var ve=this.xAxis,_e=this.options,oe=_e.cropThreshold;const ye=ne||this.getExtremesFromAll||_e.getExtremesFromAll,Se=this.isCartesian;ne=ve&&ve.val2lin,_e=!(!ve||!ve.logarithmic);let Re=0,Le,$e,rt,Qe=this.xData,qe=this.yData,xe=this.requireSorting;var Ie=!1;const Be=Qe.length;if(ve&&(Ie=ve.getExtremes(),$e=Ie.min,rt=Ie.max,Ie=!(!ve.categories||ve.names.length)),Se&&this.sorted&&!ye&&(!oe||Be>oe||this.forceCrop)){if(Qe[Be-1]<$e||Qe[0]>rt)Qe=[],qe=[];else if(this.yData&&(Qe[0]<$e||Qe[Be-1]>rt)){var Xe=this.cropData(this.xData,this.yData,$e,rt);Qe=Xe.xData,qe=Xe.yData,Re=Xe.start,Xe=!0}}for(oe=Qe.length||1;--oe;)ve=_e?ne(Qe[oe])-ne(Qe[oe-1]):Qe[oe]-Qe[oe-1],0<ve&&(typeof Le>"u"||ve<Le)?Le=ve:0>ve&&xe&&!Ie&&(P(15,!1,this.chart),xe=!1);return{xData:Qe,yData:qe,cropped:Xe,cropStart:Re,closestPointRange:Le}}processData(ne){const ve=this.xAxis;if(this.isCartesian&&!this.isDirty&&!ve.isDirty&&!this.yAxis.isDirty&&!ne)return!1;ne=this.getProcessedData(),this.cropped=ne.cropped,this.cropStart=ne.cropStart,this.processedXData=ne.xData,this.processedYData=ne.yData,this.closestPointRange=this.basePointRange=ne.closestPointRange,b(this,"afterProcessData")}cropData(ne,ve,_e,oe,ye){const Se=ne.length;let Re,Le=0,$e=Se;for(ye=fe(ye,this.cropShoulder),Re=0;Re<Se;Re++)if(ne[Re]>=_e){Le=Math.max(0,Re-ye);break}for(_e=Re;_e<Se;_e++)if(ne[_e]>oe){$e=_e+ye;break}return{xData:ne.slice(Le,$e),yData:ve.slice(Le,$e),start:Le,end:$e}}generatePoints(){var ne=this.options;const ve=this.processedData||ne.data,_e=this.processedXData,oe=this.processedYData,ye=this.pointClass,Se=_e.length,Re=this.cropStart||0,Le=this.hasGroupedData,$e=ne.keys,rt=[];ne=ne.dataGrouping&&ne.dataGrouping.groupAll?Re:0;let Qe,qe,xe,Ie=this.data;if(!Ie&&!Le){var Be=[];Be.length=ve.length,Ie=this.data=Be}for($e&&Le&&(this.options.keys=!1),xe=0;xe<Se;xe++)Be=Re+xe,Le?(qe=new ye().init(this,[_e[xe]].concat(Q(oe[xe]))),qe.dataGroup=this.groupMap[ne+xe],qe.dataGroup.options&&(qe.options=qe.dataGroup.options,f(qe,qe.dataGroup.options),delete qe.dataLabels)):(qe=Ie[Be])||typeof ve[Be]>"u"||(Ie[Be]=qe=new ye().init(this,ve[Be],_e[xe])),qe&&(qe.index=Le?ne+xe:Be,rt[xe]=qe);if(this.options.keys=$e,Ie&&(Se!==(Qe=Ie.length)||Le))for(xe=0;xe<Qe;xe++)xe!==Re||Le||(xe+=Se),Ie[xe]&&(Ie[xe].destroyElements(),Ie[xe].plotX=void 0);this.data=Ie,this.points=rt,b(this,"afterGeneratePoints")}getXExtremes(ne){return{min:ie(ne),max:E(ne)}}getExtremes(ne,ve){const _e=this.xAxis;var oe=this.yAxis;const ye=this.processedXData||this.xData,Se=[],Re=this.requireSorting?this.cropShoulder:0;oe=oe?oe.positiveValuesOnly:!1;let Le,$e=0,rt=0,Qe=0;ne=ne||this.stackedYData||this.processedYData||[];const qe=ne.length;if(_e){var xe=_e.getExtremes();$e=xe.min,rt=xe.max}for(Le=0;Le<qe;Le++){var Ie=ye[Le];xe=ne[Le];var Be=(Y(xe)||X(xe))&&(xe.length||0<xe||!oe);if(Ie=ve||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!_e||(ye[Le+Re]||Ie)>=$e&&(ye[Le-Re]||Ie)<=rt,Be&&Ie)if(Be=xe.length)for(;Be--;)Y(xe[Be])&&(Se[Qe++]=xe[Be]);else Se[Qe++]=xe}return ne={activeYData:Se,dataMin:ie(Se),dataMax:E(Se)},b(this,"afterGetExtremes",{dataExtremes:ne}),ne}applyExtremes(){const ne=this.getExtremes();return this.dataMin=ne.dataMin,this.dataMax=ne.dataMax,ne}getFirstValidPoint(ne){const ve=ne.length;let _e=0,oe=null;for(;oe===null&&_e<ve;)oe=ne[_e],_e++;return oe}translate(){var ne;this.processedXData||this.processData(),this.generatePoints();const ve=this.options,_e=ve.stacking,oe=this.xAxis,ye=oe.categories,Se=this.enabledDataSorting,Re=this.yAxis,Le=this.points,$e=Le.length,rt=this.pointPlacementToXValue(),Qe=!!rt,qe=ve.threshold,xe=ve.startFromThreshold?qe:0,Ie=this.zoneAxis||"y";let Be,Xe,Ke,ft,St=Number.MAX_VALUE;for(Be=0;Be<$e;Be++){const Ot=Le[Be],yi=Ot.x;let Wt,fi,Hi=Ot.y,pt=Ot.low;const Lt=_e&&((ne=Re.stacking)===null||ne===void 0?void 0:ne.stacks[(this.negStacks&&Hi<(xe?0:qe)?"-":"")+this.stackKey]);Xe=oe.translate(yi,!1,!1,!1,!0,rt),Ot.plotX=Y(Xe)?V(te(Xe,-1e5,1e5)):void 0,_e&&this.visible&&Lt&&Lt[yi]&&(ft=this.getStackIndicator(ft,yi,this.index),!Ot.isNull&&ft.key&&(Wt=Lt[yi],fi=Wt.points[ft.key]),Wt&&X(fi)&&(pt=fi[0],Hi=fi[1],pt===xe&&ft.key===Lt[yi].base&&(pt=fe(Y(qe)?qe:Re.min)),Re.positiveValuesOnly&&j(pt)&&0>=pt&&(pt=void 0),Ot.total=Ot.stackTotal=fe(Wt.total),Ot.percentage=j(Ot.y)&&Wt.total?Ot.y/Wt.total*100:void 0,Ot.stackY=Hi,this.irregularWidths||Wt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Ot.yBottom=j(pt)?te(Re.translate(pt,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(Hi=this.dataModify.modifyValue(Hi,Be));let ei;Y(Hi)&&Ot.plotX!==void 0&&(ei=Re.translate(Hi,!1,!0,!1,!0),ei=Y(ei)?te(ei,-1e5,1e5):void 0),Ot.plotY=ei,Ot.isInside=this.isPointInside(Ot),Ot.clientX=Qe?V(oe.translate(yi,!1,!1,!1,!0,rt)):Xe,Ot.negative=Ot[Ie]<(ve[Ie+"Threshold"]||qe||0),Ot.category=fe(ye&&ye[Ot.x],Ot.x),Ot.isNull||Ot.visible===!1||(typeof Ke<"u"&&(St=Math.min(St,Math.abs(Xe-Ke))),Ke=Xe),Ot.zone=this.zones.length?Ot.getZone():void 0,!Ot.graphic&&this.group&&Se&&(Ot.isNew=!0)}this.closestPointRangePx=St,b(this,"afterTranslate")}getValidPoints(ne,ve,_e){const oe=this.chart;return(ne||this.points||[]).filter(function(ye){const{plotX:Se,plotY:Re}=ye;return!_e&&(ye.isNull||!Y(Re))||ve&&!oe.isInsidePlot(Se,Re,{inverted:oe.inverted})?!1:ye.visible!==!1})}getClipBox(){const{chart:ne,xAxis:ve,yAxis:_e}=this,oe=ce(ne.clipBox);return ve&&ve.len!==ne.plotSizeX&&(oe.width=ve.len),_e&&_e.len!==ne.plotSizeY&&(oe.height=_e.len),oe}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:ne,group:ve,markerGroup:_e}=this,oe=ne.sharedClips,ye=ne.renderer,Se=this.getClipBox(),Re=this.getSharedClipKey();let Le=oe[Re];Le?Le.animate(Se):oe[Re]=Le=ye.clipRect(Se),ve&&ve.clip(this.options.clip===!1?void 0:Le),_e&&_e.clip()}animate(ne){const{chart:ve,group:_e,markerGroup:oe}=this,ye=ve.inverted;var Se=L(this.options.animation),Re=[this.getSharedClipKey(),Se.duration,Se.easing,Se.defer].join();let Le=ve.sharedClips[Re],$e=ve.sharedClips[Re+"m"];if(ne&&_e)Se=this.getClipBox(),Le?Le.attr("height",Se.height):(Se.width=0,ye&&(Se.x=ve.plotHeight),Le=ve.renderer.clipRect(Se),ve.sharedClips[Re]=Le,$e=ve.renderer.clipRect({x:-99,y:-99,width:ye?ve.plotWidth+199:99,height:ye?99:ve.plotHeight+199}),ve.sharedClips[Re+"m"]=$e),_e.clip(Le),oe&&oe.clip($e);else if(Le&&!Le.hasClass("highcharts-animating")){Re=this.getClipBox();const rt=Se.step;oe&&oe.element.childNodes.length&&(Se.step=function(Qe,qe){rt&&rt.apply(qe,arguments),qe.prop==="width"&&$e&&$e.element&&$e.attr(ye?"height":"width",Qe+99)}),Le.addClass("highcharts-animating").animate(Re,Se)}}afterAnimate(){this.setClip(),pe(this.chart.sharedClips,(ne,ve,_e)=>{ne&&!this.chart.container.querySelector(`[clip-path="url(#${ne.id})"]`)&&(ne.destroy(),delete _e[ve])}),this.finishedAnimating=!0,b(this,"afterAnimate")}drawPoints(ne=this.points){const ve=this.chart,_e=ve.styledMode,{colorAxis:oe,options:ye}=this,Se=ye.marker,Re=this[this.specialGroup||"markerGroup"],Le=this.xAxis,$e=fe(Se.enabled,!Le||Le.isRadial?!0:null,this.closestPointRangePx>=Se.enabledThreshold*Se.radius);let rt,Qe,qe,xe,Ie,Be;if(Se.enabled!==!1||this._hasPointMarkers)for(rt=0;rt<ne.length;rt++){Qe=ne[rt],xe=(qe=Qe.graphic)?"animate":"attr";var Xe=Qe.marker||{};if(Ie=!!Qe.marker,($e&&typeof Xe.enabled>"u"||Xe.enabled)&&!Qe.isNull&&Qe.visible!==!1){const Ke=fe(Xe.symbol,this.symbol,"rect");Be=this.markerAttribs(Qe,Qe.selected&&"select"),this.enabledDataSorting&&(Qe.startXPos=Le.reversed?-(Be.width||0):Le.width);const ft=Qe.isInside!==!1;!qe&&ft&&(0<(Be.width||0)||Qe.hasImage)&&(Qe.graphic=qe=ve.renderer.symbol(Ke,Be.x,Be.y,Be.width,Be.height,Ie?Xe:Se).add(Re),this.enabledDataSorting&&ve.hasRendered&&(qe.attr({x:Qe.startXPos}),xe="animate")),qe&&xe==="animate"&&qe[ft?"show":"hide"](ft).animate(Be),qe&&(Xe=this.pointAttribs(Qe,_e||!Qe.selected?void 0:"select"),_e?oe&&qe.css({fill:Xe.fill}):qe[xe](Xe)),qe&&qe.addClass(Qe.getClassName(),!0)}else qe&&(Qe.graphic=qe.destroy())}}markerAttribs(ne,ve){const _e=this.options;var oe=_e.marker;const ye=ne.marker||{},Se=ye.symbol||oe.symbol,Re={};let Le=fe(ye.radius,oe&&oe.radius);return ve&&(oe=oe.states[ve],ve=ye.states&&ye.states[ve],Le=fe(ve&&ve.radius,oe&&oe.radius,Le&&Le+(oe&&oe.radiusPlus||0))),ne.hasImage=Se&&Se.indexOf("url")===0,ne.hasImage&&(Le=0),ne=ne.pos(),Y(Le)&&ne&&(Re.x=ne[0]-Le,Re.y=ne[1]-Le,_e.crisp&&(Re.x=Math.floor(Re.x))),Le&&(Re.width=Re.height=2*Le),Re}pointAttribs(ne,ve){var _e=this.options.marker,oe=ne&&ne.options;const ye=oe&&oe.marker||{};var Se=oe&&oe.color,Re=ne&&ne.color;const Le=ne&&ne.zone&&ne.zone.color;let $e=this.color;return ne=fe(ye.lineWidth,_e.lineWidth),oe=1,$e=Se||Le||Re||$e,Se=ye.fillColor||_e.fillColor||$e,Re=ye.lineColor||_e.lineColor||$e,ve=ve||"normal",_e=_e.states[ve]||{},ve=ye.states&&ye.states[ve]||{},ne=fe(ve.lineWidth,_e.lineWidth,ne+fe(ve.lineWidthPlus,_e.lineWidthPlus,0)),Se=ve.fillColor||_e.fillColor||Se,Re=ve.lineColor||_e.lineColor||Re,oe=fe(ve.opacity,_e.opacity,oe),{stroke:Re,"stroke-width":ne,fill:Se,opacity:oe}}destroy(ne){const ve=this,_e=ve.chart,oe=/AppleWebKit\/533/.test(H.navigator.userAgent),ye=ve.data||[];let Se,Re,Le,$e;for(b(ve,"destroy",{keepEventsForUpdate:ne}),this.removeEvents(ne),(ve.axisTypes||[]).forEach(function(rt){($e=ve[rt])&&$e.series&&(x($e.series,ve),$e.isDirty=$e.forceRedraw=!0)}),ve.legendItem&&ve.chart.legend.destroyItem(ve),Re=ye.length;Re--;)(Le=ye[Re])&&Le.destroy&&Le.destroy();ve.clips&&ve.clips.forEach(rt=>rt.destroy()),q.clearTimeout(ve.animationTimeout),pe(ve,function(rt,Qe){rt instanceof z&&!rt.survive&&(Se=oe&&Qe==="group"?"hide":"destroy",rt[Se]())}),_e.hoverSeries===ve&&(_e.hoverSeries=void 0),x(_e.series,ve),_e.orderSeries(),pe(ve,function(rt,Qe){ne&&Qe==="hcEvents"||delete ve[Qe]})}applyZones(){const ne=this,ve=this.chart,_e=ve.renderer,oe=this.zones,ye=this.clips||[],Se=this.graph,Re=this.area,Le=Math.max(ve.plotWidth,ve.plotHeight),$e=this[(this.zoneAxis||"y")+"Axis"],rt=ve.inverted;let Qe,qe,xe,Ie,Be,Xe,Ke,ft,St,Ot,yi,Wt=!1;oe.length&&(Se||Re)&&$e&&typeof $e.min<"u"?(Be=$e.reversed,Xe=$e.horiz,Se&&!this.showLine&&Se.hide(),Re&&Re.hide(),Ie=$e.getExtremes(),oe.forEach(function(fi,Hi){Qe=Be?Xe?ve.plotWidth:0:Xe?0:$e.toPixels(Ie.min)||0,Qe=te(fe(qe,Qe),0,Le),qe=te(Math.round($e.toPixels(fe(fi.value,Ie.max),!0)||0),0,Le),Wt&&(Qe=qe=$e.toPixels(Ie.max)),Ke=Math.abs(Qe-qe),ft=Math.min(Qe,qe),St=Math.max(Qe,qe),$e.isXAxis?(xe={x:rt?St:ft,y:0,width:Ke,height:Le},Xe||(xe.x=ve.plotHeight-xe.x)):(xe={x:0,y:rt?St:ft,width:Le,height:Ke},Xe&&(xe.y=ve.plotWidth-xe.y)),ye[Hi]?ye[Hi].animate(xe):ye[Hi]=_e.clipRect(xe),Ot=ne["zone-area-"+Hi],yi=ne["zone-graph-"+Hi],Se&&yi&&yi.clip(ye[Hi]),Re&&Ot&&Ot.clip(ye[Hi]),Wt=fi.value>Ie.max,ne.resetZones&&qe===0&&(qe=void 0)}),this.clips=ye):ne.visible&&(Se&&Se.show(),Re&&Re.show())}plotGroup(ne,ve,_e,oe,ye){let Se=this[ne];const Re=!Se;return _e={visibility:_e,zIndex:oe||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(_e.opacity=this.opacity),Re&&(this[ne]=Se=this.chart.renderer.g().add(ye)),Se.addClass("highcharts-"+ve+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(j(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Se.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Se.attr(_e)[Re?"attr":"animate"](this.getPlotBox(ve)),Se}getPlotBox(ne){let ve=this.xAxis,_e=this.yAxis;const oe=this.chart;return ne=oe.inverted&&!oe.polar&&ve&&this.invertible!==!1&&ne==="series",oe.inverted&&(ve=_e,_e=this.xAxis),{translateX:ve?ve.left:oe.plotLeft,translateY:_e?_e.top:oe.plotTop,rotation:ne?90:0,rotationOriginX:ne?(ve.len-_e.len)/2:0,rotationOriginY:ne?(ve.len+_e.len)/2:0,scaleX:ne?-1:1,scaleY:1}}removeEvents(ne){ne||F(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ve){ve()}),this.eventsToUnbind.length=0)}render(){const ne=this;var ve=ne.chart;const _e=ne.options,oe=L(_e.animation),ye=ne.visible?"inherit":"hidden",Se=_e.zIndex,Re=ne.hasRendered;ve=ve.seriesGroup;let Le=ne.finishedAnimating?0:oe.duration;b(this,"render"),ne.plotGroup("group","series",ye,Se,ve),ne.markerGroup=ne.plotGroup("markerGroup","markers",ye,Se,ve),_e.clip!==!1&&ne.setClip(),ne.animate&&Le&&ne.animate(!0),ne.drawGraph&&(ne.drawGraph(),ne.applyZones()),ne.visible&&ne.drawPoints(),ne.drawDataLabels&&ne.drawDataLabels(),ne.redrawPoints&&ne.redrawPoints(),ne.drawTracker&&ne.options.enableMouseTracking!==!1&&ne.drawTracker(),ne.animate&&Le&&ne.animate(),Re||(Le&&oe.defer&&(Le+=oe.defer),ne.animationTimeout=se(function(){ne.afterAnimate()},Le||0)),ne.isDirty=!1,ne.hasRendered=!0,b(ne,"afterRender")}redraw(){const ne=this.isDirty||this.isDirtyData;this.translate(),this.render(),ne&&delete this.kdTree}searchPoint(ne,ve){const _e=this.xAxis,oe=this.yAxis,ye=this.chart.inverted;return this.searchKDTree({clientX:ye?_e.len-ne.chartY+_e.pos:ne.chartX-_e.pos,plotY:ye?oe.len-ne.chartX+oe.pos:ne.chartY-oe.pos},ve,ne)}buildKDTree(ne){function ve(ye,Se,Re){var Le=ye&&ye.length;let $e;if(Le)return $e=_e.kdAxisArray[Se%Re],ye.sort(function(rt,Qe){return rt[$e]-Qe[$e]}),Le=Math.floor(Le/2),{point:ye[Le],left:ve(ye.slice(0,Le),Se+1,Re),right:ve(ye.slice(Le+1),Se+1,Re)}}this.buildingKdTree=!0;const _e=this,oe=-1<_e.options.findNearestPointBy.indexOf("y")?2:1;delete _e.kdTree,se(function(){_e.kdTree=ve(_e.getValidPoints(null,!_e.directTouch),oe,oe),_e.buildingKdTree=!1},_e.options.kdNow||ne&&ne.type==="touchstart"?0:1)}searchKDTree(ne,ve,_e){function oe($e,rt,Qe,qe){const xe=rt.point;var Ie=ye.kdAxisArray[Qe%qe];let Be=xe;var Xe=j($e[Se])&&j(xe[Se])?Math.pow($e[Se]-xe[Se],2):null,Ke=j($e[Re])&&j(xe[Re])?Math.pow($e[Re]-xe[Re],2):null;return Ke=(Xe||0)+(Ke||0),xe.dist=j(Ke)?Math.sqrt(Ke):Number.MAX_VALUE,xe.distX=j(Xe)?Math.sqrt(Xe):Number.MAX_VALUE,Ie=$e[Ie]-xe[Ie],Ke=0>Ie?"left":"right",Xe=0>Ie?"right":"left",rt[Ke]&&(Ke=oe($e,rt[Ke],Qe+1,qe),Be=Ke[Le]<Be[Le]?Ke:xe),rt[Xe]&&Math.sqrt(Ie*Ie)<Be[Le]&&($e=oe($e,rt[Xe],Qe+1,qe),Be=$e[Le]<Be[Le]?$e:Be),Be}const ye=this,Se=this.kdAxisArray[0],Re=this.kdAxisArray[1],Le=ve?"distX":"dist";if(ve=-1<ye.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(_e),this.kdTree)return oe(ne,this.kdTree,ve,ve)}pointPlacementToXValue(){const{options:{pointPlacement:ne,pointRange:ve},xAxis:_e}=this;let oe=ne;return oe==="between"&&(oe=_e.reversed?-.5:.5),Y(oe)?oe*(ve||_e.pointRange):0}isPointInside(ne){const{chart:ve,xAxis:_e,yAxis:oe}=this;return typeof ne.plotY<"u"&&typeof ne.plotX<"u"&&0<=ne.plotY&&ne.plotY<=(oe?oe.len:ve.plotHeight)&&0<=ne.plotX&&ne.plotX<=(_e?_e.len:ve.plotWidth)}drawTracker(){const ne=this,ve=ne.options,_e=ve.trackByArea,oe=[].concat(_e?ne.areaPath:ne.graphPath),ye=ne.chart,Se=ye.pointer,Re=ye.renderer,Le=ye.options.tooltip.snap,$e=ne.tracker,rt=function(qe){ye.hoverSeries!==ne&&ne.onMouseOver()},Qe="rgba(192,192,192,"+(D?1e-4:.002)+")";$e?$e.attr({d:oe}):ne.graph&&(ne.tracker=Re.path(oe).attr({visibility:ne.visible?"inherit":"hidden",zIndex:2}).addClass(_e?"highcharts-tracker-area":"highcharts-tracker-line").add(ne.group),ye.styledMode||ne.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Qe,fill:_e?Qe:"none","stroke-width":ne.graph.strokeWidth()+(_e?0:2*Le)}),[ne.tracker,ne.markerGroup,ne.dataLabelsGroup].forEach(function(qe){qe&&(qe.addClass("highcharts-tracker").on("mouseover",rt).on("mouseout",function(xe){Se.onTrackerMouseOut(xe)}),ve.cursor&&!ye.styledMode&&qe.css({cursor:ve.cursor}),S)&&qe.on("touchstart",rt)})),b(this,"afterDrawTracker")}addPoint(ne,ve,_e,oe,ye){const Se=this.options,Re=this.data,Le=this.chart;var $e=this.xAxis;$e=$e&&$e.hasNames&&$e.names;const rt=Se.data,Qe=this.xData;let qe,xe;ve=fe(ve,!0);const Ie={series:this};this.pointClass.prototype.applyOptions.apply(Ie,[ne]);const Be=Ie.x;if(xe=Qe.length,this.requireSorting&&Be<Qe[xe-1])for(qe=!0;xe&&Qe[xe-1]>Be;)xe--;this.updateParallelArrays(Ie,"splice",[xe,0,0]),this.updateParallelArrays(Ie,xe),$e&&Ie.name&&($e[Be]=Ie.name),rt.splice(xe,0,ne),(qe||this.processedData)&&(this.data.splice(xe,0,null),this.processData()),Se.legendType==="point"&&this.generatePoints(),_e&&(Re[0]&&Re[0].remove?Re[0].remove(!1):(Re.shift(),this.updateParallelArrays(Ie,"shift"),rt.shift())),ye!==!1&&b(this,"addPoint",{point:Ie}),this.isDirtyData=this.isDirty=!0,ve&&Le.redraw(oe)}removePoint(ne,ve,_e){const oe=this,ye=oe.data,Se=ye[ne],Re=oe.points,Le=oe.chart,$e=function(){Re&&Re.length===ye.length&&Re.splice(ne,1),ye.splice(ne,1),oe.options.data.splice(ne,1),oe.updateParallelArrays(Se||{series:oe},"splice",[ne,1]),Se&&Se.destroy(),oe.isDirty=!0,oe.isDirtyData=!0,ve&&Le.redraw()};O(_e,Le),ve=fe(ve,!0),Se?Se.firePointEvent("remove",null,$e):$e()}remove(ne,ve,_e,oe){function ye(){Se.destroy(oe),Re.isDirtyLegend=Re.isDirtyBox=!0,Re.linkSeries(oe),fe(ne,!0)&&Re.redraw(ve)}const Se=this,Re=Se.chart;_e!==!1?b(Se,"remove",null,ye):ye()}update(ne,ve){ne=$(ne,this.userOptions),b(this,"update",{options:ne});const _e=this,oe=_e.chart;var ye=_e.userOptions;const Se=_e.initialType||_e.type;var Re=oe.options.plotOptions;const Le=U[Se].prototype;var $e=_e.finishedAnimating&&{animation:!1};const rt={};let Qe,qe=["eventOptions","navigatorSeries","baseSeries"],xe=ne.type||ye.type||oe.options.chart.type;const Ie=!(this.hasDerivedData||xe&&xe!==this.type||typeof ne.pointStart<"u"||typeof ne.pointInterval<"u"||typeof ne.relativeXValue<"u"||ne.joinBy||ne.mapData||_e.hasOptionChanged("dataGrouping")||_e.hasOptionChanged("pointStart")||_e.hasOptionChanged("pointInterval")||_e.hasOptionChanged("pointIntervalUnit")||_e.hasOptionChanged("keys"));if(xe=xe||Se,Ie&&(qe.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),ne.visible!==!1&&qe.push("area","graph"),_e.parallelArrays.forEach(function(Be){qe.push(Be+"Data")}),ne.data&&(ne.dataSorting&&f(_e.options.dataSorting,ne.dataSorting),this.setData(ne.data,!1))),ne=ce(ye,$e,{index:typeof ye.index>"u"?_e.index:ye.index,pointStart:fe(Re&&Re.series&&Re.series.pointStart,ye.pointStart,_e.xData[0])},!Ie&&{data:_e.options.data},ne),Ie&&ne.data&&(ne.data=_e.options.data),qe=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(qe),qe.forEach(function(Be){qe[Be]=_e[Be],delete _e[Be]}),Re=!1,U[xe]){if(Re=xe!==_e.type,_e.remove(!1,!1,!1,!0),Re)if(Object.setPrototypeOf)Object.setPrototypeOf(_e,U[xe].prototype);else{$e=Object.hasOwnProperty.call(_e,"hcEvents")&&_e.hcEvents;for(Qe in Le)_e[Qe]=void 0;f(_e,U[xe].prototype),$e?_e.hcEvents=$e:delete _e.hcEvents}}else P(17,!0,oe,{missingModuleFor:xe});if(qe.forEach(function(Be){_e[Be]=qe[Be]}),_e.init(oe,ne),Ie&&this.points){if(ne=_e.options,ne.visible===!1)rt.graphic=1,rt.dataLabel=1;else if(!_e._hasPointLabels){const{marker:Be,dataLabels:Xe}=ne;ye=ye.marker||{},!Be||Be.enabled!==!1&&ye.symbol===Be.symbol&&ye.height===Be.height&&ye.width===Be.width||(rt.graphic=1),Xe&&Xe.enabled===!1&&(rt.dataLabel=1)}for(const Be of this.points)Be&&Be.series&&(Be.resolveColor(),Object.keys(rt).length&&Be.destroyElements(rt),ne.showInLegend===!1&&Be.legendItem&&oe.legend.destroyItem(Be))}_e.initialType=Se,oe.linkSeries(),Re&&_e.linkedSeries.length&&(_e.isDirtyData=!0),b(this,"afterUpdate"),fe(ve,!0)&&oe.redraw(Ie?void 0:!1)}setName(ne){this.name=this.options.name=this.userOptions.name=ne,this.chart.isDirtyLegend=!0}hasOptionChanged(ne){const ve=this.options[ne],_e=this.chart.options.plotOptions,oe=this.userOptions[ne];return oe?ve!==oe:ve!==fe(_e&&_e[this.type]&&_e[this.type][ne],_e&&_e.series&&_e.series[ne],ve)}onMouseOver(){const ne=this.chart,ve=ne.hoverSeries;ne.pointer.setHoverChartIndex(),ve&&ve!==this&&ve.onMouseOut(),this.options.events.mouseOver&&b(this,"mouseOver"),this.setState("hover"),ne.hoverSeries=this}onMouseOut(){const ne=this.options,ve=this.chart,_e=ve.tooltip,oe=ve.hoverPoint;ve.hoverSeries=null,oe&&oe.onMouseOut(),this&&ne.events.mouseOut&&b(this,"mouseOut"),!_e||this.stickyTracking||_e.shared&&!this.noSharedTooltip||_e.hide(),ve.series.forEach(function(ye){ye.setState("",!0)})}setState(ne,ve){const _e=this;var oe=_e.options;const ye=_e.graph,Se=oe.inactiveOtherPoints,Re=oe.states,Le=fe(Re[ne||"normal"]&&Re[ne||"normal"].animation,_e.chart.options.chart.animation);let $e=oe.lineWidth,rt=0,Qe=oe.opacity;if(ne=ne||"",_e.state!==ne&&([_e.group,_e.markerGroup,_e.dataLabelsGroup].forEach(function(qe){qe&&(_e.state&&qe.removeClass("highcharts-series-"+_e.state),ne&&qe.addClass("highcharts-series-"+ne))}),_e.state=ne,!_e.chart.styledMode)){if(Re[ne]&&Re[ne].enabled===!1)return;if(ne&&($e=Re[ne].lineWidth||$e+(Re[ne].lineWidthPlus||0),Qe=fe(Re[ne].opacity,Qe)),ye&&!ye.dashstyle&&Y($e))for(oe={"stroke-width":$e},ye.animate(oe,Le);_e["zone-graph-"+rt];)_e["zone-graph-"+rt].animate(oe,Le),rt+=1;Se||[_e.group,_e.markerGroup,_e.dataLabelsGroup,_e.labelBySeries].forEach(function(qe){qe&&qe.animate({opacity:Qe},Le)})}ve&&Se&&_e.points&&_e.setAllPointsToState(ne||void 0)}setAllPointsToState(ne){this.points.forEach(function(ve){ve.setState&&ve.setState(ne)})}setVisible(ne,ve){const _e=this,oe=_e.chart,ye=oe.options.chart.ignoreHiddenSeries,Se=_e.visible,Re=(_e.visible=ne=_e.options.visible=_e.userOptions.visible=typeof ne>"u"?!Se:ne)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Le){_e[Le]&&_e[Le][Re]()}),(oe.hoverSeries===_e||(oe.hoverPoint&&oe.hoverPoint.series)===_e)&&_e.onMouseOut(),_e.legendItem&&oe.legend.colorizeItem(_e,ne),_e.isDirty=!0,_e.options.stacking&&oe.series.forEach(function(Le){Le.options.stacking&&Le.visible&&(Le.isDirty=!0)}),_e.linkedSeries.forEach(function(Le){Le.setVisible(ne,!1)}),ye&&(oe.isDirtyBox=!0),b(_e,Re),ve!==!1&&oe.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(ne){this.selected=ne=this.options.selected=typeof ne>"u"?!this.selected:ne,this.checkbox&&(this.checkbox.checked=ne),b(this,ne?"select":"unselect")}shouldShowTooltip(ne,ve,_e={}){return _e.series=this,_e.visiblePlotOnly=!0,this.chart.isInsidePlot(ne,ve,_e)}drawLegendSymbol(ne,ve){var _e;(_e=v[this.options.legendSymbol||"rectangle"])===null||_e===void 0||_e.call(this,ne,ve)}}return ue.defaultOptions=K,ue.types=k.seriesTypes,ue.registerType=k.registerSeriesType,f(ue.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:R,requireSorting:!0,sorted:!0}),k.series=ue,ue}),i(r,"Extensions/ScrollablePlotArea.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Chart/Chart.js"],r["Core/Series/Series.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R){const{stop:K}=o,{addEvent:k,createElement:z,defined:q,merge:L,pick:O}=R;k(h,"afterSetChartSize",function(G){var M=this.options.chart.scrollablePlotArea,S=M&&M.minWidth;M=M&&M.minHeight;let D;this.renderer.forExport||(S?(this.scrollablePixelsX=S=Math.max(0,S-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=L(this.plotBox),this.plotBox.width=this.plotWidth+=S,this.inverted?this.clipBox.height+=S:this.clipBox.width+=S,D={1:{name:"right",value:S}}):M&&(this.scrollablePixelsY=S=Math.max(0,M-this.chartHeight),q(S)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=L(this.plotBox),this.plotBox.height=this.plotHeight+=S,this.inverted?this.clipBox.width+=S:this.clipBox.height+=S,D={2:{name:"bottom",value:S}})),D&&!G.skipAxes&&this.axes.forEach(function(H){D[H.side]?H.getPlotLinePath=function(){let U=D[H.side].name,E=this[U],ie;return this[U]=E-D[H.side].value,ie=d.prototype.getPlotLinePath.apply(this,arguments),this[U]=E,ie}:(H.setAxisSize(),H.setAxisTranslation())}))}),k(h,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),h.prototype.setUpScrolling=function(){const G={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(G.overflowX="auto"),this.scrollablePixelsY&&(G.overflowY="auto"),this.scrollingParent=z("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=z("div",{className:"highcharts-scrolling"},G,this.scrollingParent);let M;k(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(M=this.hoverPoint),this.pointer.runPointActions(void 0,M,!0))}),this.innerContainer=z("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},h.prototype.moveFixedElements=function(){let G=this.container,M=this.fixedRenderer,S=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),D;this.scrollablePixelsX&&!this.inverted?D=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?D=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(D=".highcharts-yaxis"),D&&S.push(`${D}:not(.highcharts-radial-axis)`,`${D}-labels:not(.highcharts-radial-axis-labels)`),S.forEach(function(H){[].forEach.call(G.querySelectorAll(H),function(U){(U.namespaceURI===M.SVG_NS?M.box:M.box.parentNode).appendChild(U),U.style.pointerEvents="auto"})})},h.prototype.applyFixed=function(){var G=!this.fixedDiv,M=this.options.chart,S=M.scrollablePlotArea,D=v.getRendererType();G?(this.fixedDiv=z("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(M.style&&M.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=M=new D(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=M.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":O(S.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),k(this,"afterShowResetZoom",this.moveFixedElements),k(this,"afterApplyDrilldown",this.moveFixedElements),k(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||G)&&(this.scrollableDirty=!1,this.moveFixedElements()),M=this.chartWidth+(this.scrollablePixelsX||0),D=this.chartHeight+(this.scrollablePixelsY||0),K(this.container),this.container.style.width=M+"px",this.container.style.height=D+"px",this.renderer.boxWrapper.attr({width:M,height:D,viewBox:[0,0,M,D].join(" ")}),this.chartBackground.attr({width:M,height:D}),this.scrollingContainer.style.height=this.chartHeight+"px",G&&(S.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*S.scrollPositionX),S.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*S.scrollPositionY)),D=this.axisOffset,G=this.plotTop-D[0]-1,S=this.plotLeft-D[3]-1,M=this.plotTop+this.plotHeight+D[2]+1,D=this.plotLeft+this.plotWidth+D[1]+1;let H=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),U=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);G=this.scrollablePixelsX?[["M",0,G],["L",this.plotLeft-1,G],["L",this.plotLeft-1,M],["L",0,M],["Z"],["M",H,G],["L",this.chartWidth,G],["L",this.chartWidth,M],["L",H,M],["Z"]]:this.scrollablePixelsY?[["M",S,0],["L",S,this.plotTop-1],["L",D,this.plotTop-1],["L",D,0],["Z"],["M",S,U],["L",S,this.chartHeight],["L",D,this.chartHeight],["L",D,U],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:G})},k(d,"afterInit",function(){this.chart.scrollableDirty=!0}),k(s,"show",function(){this.chart.scrollableDirty=!0})}),i(r,"Core/Axis/Stacking/StackItem.js",[r["Core/FormatUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{format:s}=o,{series:v}=d,{destroyObjectProperties:R,fireEvent:K,isNumber:k,pick:z}=h;class q{constructor(O,G,M,S,D){const H=O.chart.inverted,U=O.reversed;this.axis=O,O=this.isNegative=!!M!=!!U,this.options=G=G||{},this.x=S,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=D,this.rightCliff=this.leftCliff=0,this.alignOptions={align:G.align||(H?O?"left":"right":"center"),verticalAlign:G.verticalAlign||(H?"middle":O?"bottom":"top"),y:G.y,x:G.x},this.textAlign=G.textAlign||(H?O?"right":"left":"center")}destroy(){R(this,this.axis)}render(O){const G=this.axis.chart,M=this.options;var S=M.format;S=S?s(S,this,G):M.formatter.call(this),this.label?this.label.attr({text:S,visibility:"hidden"}):(this.label=G.renderer.label(S,null,void 0,M.shape,void 0,void 0,M.useHTML,!1,"stack-labels"),S={r:M.borderRadius||0,text:S,padding:z(M.padding,5),visibility:"hidden"},G.styledMode||(S.fill=M.backgroundColor,S.stroke=M.borderColor,S["stroke-width"]=M.borderWidth,this.label.css(M.style||{})),this.label.attr(S),this.label.added||this.label.add(O)),this.label.labelrank=G.plotSizeY,K(this,"afterRender")}setOffset(O,G,M,S,D,H){const{alignOptions:U,axis:E,label:ie,options:te,textAlign:$}=this,V=E.chart;M=this.getStackBox({xOffset:O,width:G,boxBottom:M,boxTop:S,defaultX:D,xAxis:H});var{verticalAlign:j}=U;if(ie&&M){S=ie.getBBox(),D=ie.padding,H=z(te.overflow,"justify")==="justify",U.x=te.x||0,U.y=te.y||0;const{x,y:P}=this.adjustStackPosition({labelBox:S,verticalAlign:j,textAlign:$});M.x-=x,M.y-=P,ie.align(U,!1,M),(j=V.isInsidePlot(ie.alignAttr.x+U.x+x,ie.alignAttr.y+U.y+P))||(H=!1),H&&v.prototype.justifyDataLabel.call(E,ie,U,ie.alignAttr,S,M),ie.attr({x:ie.alignAttr.x,y:ie.alignAttr.y,rotation:te.rotation,rotationOriginX:S.width/2,rotationOriginY:S.height/2}),z(!H&&te.crop,!0)&&(j=k(ie.x)&&k(ie.y)&&V.isInsidePlot(ie.x-D+ie.width,ie.y)&&V.isInsidePlot(ie.x+D,ie.y)),ie[j?"show":"hide"]()}K(this,"afterSetOffset",{xOffset:O,width:G})}adjustStackPosition({labelBox:O,verticalAlign:G,textAlign:M}){const S={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:O.width/2+O.width/2*S[M],y:O.height/2*S[G]}}getStackBox(O){var G=this.axis;const M=G.chart,{boxTop:S,defaultX:D,xOffset:H,width:U,boxBottom:E}=O;var ie=G.stacking.usePercentage?100:z(S,this.total,0);ie=G.toPixels(ie),O=O.xAxis||M.xAxis[0];const te=z(D,O.translate(this.x))+H;G=G.toPixels(E||k(G.min)&&G.logarithmic&&G.logarithmic.lin2log(G.min)||0),G=Math.abs(ie-G);const $=this.isNegative;return M.inverted?{x:($?ie:ie-G)-M.plotLeft,y:O.height-te-U,width:G,height:U}:{x:te+O.transB-M.plotLeft,y:($?ie-G:ie)-M.plotTop,width:U,height:G}}}return q}),i(r,"Core/Axis/Stacking/StackingAxis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Utilities.js"]],function(o,d,h,s,v){function R(){const f=this,g=f.inverted;f.yAxis.forEach(b=>{b.stacking&&b.stacking.stacks&&b.hasVisibleSeries&&(b.stacking.oldStacks=b.stacking.stacks)}),f.series.forEach(b=>{const A=b.xAxis&&b.xAxis.options||{};!b.options.stacking||b.visible!==!0&&f.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=[b.type,j(b.options.stack,""),g?A.top:A.left,g?A.height:A.width].join())})}function K(){const f=this.stacking;if(f){var g=f.stacks;V(g,function(b,A){E(b),g[A]=null}),f&&f.stackTotalGroup&&f.stackTotalGroup.destroy()}}function k(){this.coll!=="yAxis"||this.stacking||(this.stacking=new x(this))}function z(f,g,b,A){return!U(f)||f.x!==g||A&&f.stackKey!==A?f={x:g,index:0,key:A,stackKey:A}:f.index++,f.key=[b,g,f.index].join(),f}function q(){const f=this,g=f.stackKey,b=f.yAxis.stacking.stacks,A=f.processedXData,X=f[f.options.stacking+"Stacker"];let Y;X&&[g,"-"+g].forEach(J=>{let ce=A.length,pe;for(;ce--;){var fe=A[ce];Y=f.getStackIndicator(Y,fe,f.index,J),(pe=(fe=b[J]&&b[J][fe])&&fe.points[Y.key])&&X.call(f,pe,fe,ce)}})}function L(f,g,b){g=g.total?100/g.total:0,f[0]=H(f[0]*g),f[1]=H(f[1]*g),this.stackedYData[b]=f[1]}function O(){const f=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?S.setStackedPoints.call(this,"group"):f&&V(f.stacks,(g,b)=>{b.slice(-5)==="group"&&(V(g,A=>A.destroy()),delete f.stacks[b])})}function G(f){var g=this.chart;const b=f||this.options.stacking;if(b&&(this.visible===!0||g.options.chart.ignoreHiddenSeries===!1)){var A=this.processedXData,X=this.processedYData,Y=[],J=X.length,ce=this.options,pe=ce.threshold,fe=j(ce.startFromThreshold&&pe,0);ce=ce.stack,f=f?`${this.type},${b}`:this.stackKey;var F="-"+f,Q=this.negStacks;g=b==="group"?g.yAxis[0]:this.yAxis;var se=g.stacking.stacks,ue=g.stacking.oldStacks,Ce,ne;for(g.stacking.stacksTouched+=1,ne=0;ne<J;ne++){var ve=A[ne],_e=X[ne],oe=this.getStackIndicator(oe,ve,this.index),ye=oe.key,Se=(Ce=Q&&_e<(fe?0:pe))?F:f;se[Se]||(se[Se]={}),se[Se][ve]||(ue[Se]&&ue[Se][ve]?(se[Se][ve]=ue[Se][ve],se[Se][ve].total=null):se[Se][ve]=new s(g,g.options.stackLabels,!!Ce,ve,ce)),Se=se[Se][ve],_e!==null?(Se.points[ye]=Se.points[this.index]=[j(Se.cumulative,fe)],U(Se.cumulative)||(Se.base=ye),Se.touched=g.stacking.stacksTouched,0<oe.index&&this.singleStacks===!1&&(Se.points[ye][0]=Se.points[this.index+","+ve+",0"][0])):Se.points[ye]=Se.points[this.index]=null,b==="percent"?(Ce=Ce?f:F,Q&&se[Ce]&&se[Ce][ve]?(Ce=se[Ce][ve],Se.total=Ce.total=Math.max(Ce.total,Se.total)+Math.abs(_e)||0):Se.total=H(Se.total+(Math.abs(_e)||0))):b==="group"?(te(_e)&&(_e=_e[0]),_e!==null&&(Se.total=(Se.total||0)+1)):Se.total=H(Se.total+(_e||0)),Se.cumulative=b==="group"?(Se.total||1)-1:H(j(Se.cumulative,fe)+(_e||0)),_e!==null&&(Se.points[ye].push(Se.cumulative),Y[ne]=Se.cumulative,Se.hasValidPoints=!0)}b==="percent"&&(g.stacking.usePercentage=!0),b!=="group"&&(this.stackedYData=Y),g.stacking.oldStacks={}}}const{getDeferredAnimation:M}=o,{series:{prototype:S}}=h,{addEvent:D,correctFloat:H,defined:U,destroyObjectProperties:E,fireEvent:ie,isArray:te,isNumber:$,objectEach:V,pick:j}=v;class x{constructor(g){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=g}buildStacks(){const g=this.axis,b=g.series,A=g.options.reversedStacks,X=b.length;let Y,J;for(this.usePercentage=!1,J=X;J--;)Y=b[A?J:X-J-1],Y.setStackedPoints(),Y.setGroupedPoints();for(J=0;J<X;J++)b[J].modifyStacks();ie(g,"afterBuildStacks")}cleanStacks(){let g;this.oldStacks&&(g=this.stacks=this.oldStacks),V(g,function(b){V(b,function(A){A.cumulative=A.total})})}resetStacks(){V(this.stacks,g=>{V(g,(b,A)=>{$(b.touched)&&b.touched<this.stacksTouched?(b.destroy(),delete g[A]):(b.total=null,b.cumulative=null)})})}renderStackTotals(){var g=this.axis;const b=g.chart,A=b.renderer,X=this.stacks;g=M(b,g.options.stackLabels&&g.options.stackLabels.animation||!1);const Y=this.stackTotalGroup=this.stackTotalGroup||A.g("stack-labels").attr({zIndex:6,opacity:0}).add();Y.translate(b.plotLeft,b.plotTop),V(X,function(J){V(J,function(ce){ce.render(Y)})}),Y.animate({opacity:1},g)}}var P;return function(f){const g=[];f.compose=function(b,A,X){v.pushUnique(g,b)&&(D(b,"init",k),D(b,"destroy",K)),v.pushUnique(g,A)&&(A.prototype.getStacks=R),v.pushUnique(g,X)&&(b=X.prototype,b.getStackIndicator=z,b.modifyStacks=q,b.percentStacker=L,b.setGroupedPoints=O,b.setStackedPoints=G)}}(P||(P={})),P}),i(r,"Series/Line/LineSeries.js",[r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{defined:s,merge:v}=h;class R extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const k=this,z=this.options,q=(this.gappedPath||this.getGraphPath).call(this),L=this.chart.styledMode;let O=[["graph","highcharts-graph"]];L||O[0].push(z.lineColor||this.color||"#cccccc",z.dashStyle),O=k.getZonesGraphs(O),O.forEach(function(G,M){var S=G[0];let D=k[S];const H=D?"animate":"attr";D?(D.endX=k.preventGraphAnimation?null:q.xMap,D.animate({d:q})):q.length&&(k[S]=D=k.chart.renderer.path(q).addClass(G[1]).attr({zIndex:1}).add(k.group)),D&&!L&&(S={stroke:G[2],"stroke-width":z.lineWidth||0,fill:k.fillGraph&&k.color||"none"},G[3]?S.dashstyle=G[3]:z.linecap!=="square"&&(S["stroke-linecap"]=S["stroke-linejoin"]="round"),D[H](S).shadow(2>M&&z.shadow)),D&&(D.startX=q.xMap,D.isArea=q.isArea)})}getGraphPath(k,z,q){const L=this,O=L.options,G=[],M=[];let S,D=O.step;k=k||L.points;const H=k.reversed;return H&&k.reverse(),(D={right:1,center:2}[D]||D&&3)&&H&&(D=4-D),k=this.getValidPoints(k,!1,!(O.connectNulls&&!z&&!q)),k.forEach(function(U,E){const ie=U.plotX,te=U.plotY,$=k[E-1],V=U.isNull||typeof te!="number";(U.leftCliff||$&&$.rightCliff)&&!q&&(S=!0),V&&!s(z)&&0<E?S=!O.connectNulls:V&&!z?S=!0:(E===0||S?E=[["M",U.plotX,U.plotY]]:L.getPointSpline?E=[L.getPointSpline(k,U,E)]:D?(E=D===1?[["L",$.plotX,te]]:D===2?[["L",($.plotX+ie)/2,$.plotY],["L",($.plotX+ie)/2,te]]:[["L",ie,$.plotY]],E.push(["L",ie,te])):E=[["L",ie,te]],M.push(U.x),D&&(M.push(U.x),D===2&&M.push(U.x)),G.push.apply(G,E),S=!1)}),G.xMap=M,L.graphPath=G}getZonesGraphs(k){return this.zones.forEach(function(z,q){q=["zone-graph-"+q,"highcharts-graph highcharts-zone-graph-"+q+" "+(z.className||"")],this.chart.styledMode||q.push(z.color||this.color,z.dashStyle||this.options.dashStyle),k.push(q)},this),k}}return R.defaultOptions=v(o.defaultOptions,{legendSymbol:"lineMarker"}),d.registerSeriesType("line",R),R}),i(r,"Series/Area/AreaSeries.js",[r["Core/Color/Color.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{parse:s}=o,{seriesTypes:{line:v}}=d,{extend:R,merge:K,objectEach:k,pick:z}=h;class q extends v{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const O=this,G=this.areaPath,M=this.options,S=[["area","highcharts-area",this.color,M.fillColor]];this.zones.forEach(function(D,H){S.push(["zone-area-"+H,"highcharts-area highcharts-zone-area-"+H+" "+D.className,D.color||O.color,D.fillColor||M.fillColor])}),S.forEach(function(D){const H=D[0],U={};let E=O[H];const ie=E?"animate":"attr";E?(E.endX=O.preventGraphAnimation?null:G.xMap,E.animate({d:G})):(U.zIndex=0,E=O[H]=O.chart.renderer.path(G).addClass(D[1]).add(O.group),E.isArea=!0),O.chart.styledMode||(U.fill=z(D[3],s(D[2]).setOpacity(z(M.fillOpacity,.75)).get())),E[ie](U),E.startX=G.xMap,E.shiftUnit=M.step?2:1})}getGraphPath(O){var G=v.prototype.getGraphPath,M=this.options;const S=M.stacking,D=this.yAxis,H=[],U=[],E=this.index,ie=D.stacking.stacks[this.stackKey],te=M.threshold,$=Math.round(D.getThreshold(M.threshold));M=z(M.connectNulls,S==="percent");var V=function(f,g,b){var A=O[f];f=S&&ie[A.x].points[E];const X=A[b+"Null"]||0;b=A[b+"Cliff"]||0;let Y,J;A=!0,b||X?(Y=(X?f[0]:f[1])+b,J=f[0]+b,A=!!X):!S&&O[g]&&O[g].isNull&&(Y=J=te),typeof Y<"u"&&(U.push({plotX:j,plotY:Y===null?$:D.getThreshold(Y),isNull:A,isCliff:!0}),H.push({plotX:j,plotY:J===null?$:D.getThreshold(J),doCurve:!1}))};let j;O=O||this.points,S&&(O=this.getStackPoints(O));for(let f=0,g=O.length;f<g;++f){S||(O[f].leftCliff=O[f].rightCliff=O[f].leftNull=O[f].rightNull=void 0);var x=O[f].isNull;j=z(O[f].rectPlotX,O[f].plotX);var P=S?z(O[f].yBottom,$):$;(!x||M)&&(M||V(f,f-1,"left"),x&&!S&&M||(U.push(O[f]),H.push({x:f,plotX:j,plotY:P})),M||V(f,f+1,"right"))}return V=G.call(this,U,!0,!0),H.reversed=!0,x=G.call(this,H,!0,!0),(P=x[0])&&P[0]==="M"&&(x[0]=["L",P[1],P[2]]),x=V.concat(x),x.length&&x.push(["Z"]),G=G.call(this,U,!1,M),x.xMap=V.xMap,this.areaPath=x,G}getStackPoints(O){const G=this,M=[],S=[],D=this.xAxis,H=this.yAxis,U=H.stacking.stacks[this.stackKey],E={},ie=H.series,te=ie.length,$=H.options.reversedStacks?1:-1,V=ie.indexOf(G);if(O=O||this.points,this.options.stacking){for(let x=0;x<O.length;x++)O[x].leftNull=O[x].rightNull=void 0,E[O[x].x]=O[x];k(U,function(x,P){x.total!==null&&S.push(P)}),S.sort(function(x,P){return x-P});const j=ie.map(x=>x.visible);S.forEach(function(x,P){let f=0,g,b;if(E[x]&&!E[x].isNull)M.push(E[x]),[-1,1].forEach(function(A){const X=A===1?"rightNull":"leftNull",Y=U[S[P+A]];let J=0;if(Y){let ce=V;for(;0<=ce&&ce<te;){const pe=ie[ce].index;g=Y.points[pe],g||(pe===G.index?E[x][X]=!0:j[ce]&&(b=U[x].points[pe])&&(J-=b[1]-b[0])),ce+=$}}E[x][A===1?"rightCliff":"leftCliff"]=J});else{let A=V;for(;0<=A&&A<te;){if(g=U[x].points[ie[A].index]){f=g[1];break}A+=$}f=z(f,0),f=H.translate(f,0,1,0,1),M.push({isNull:!0,plotX:D.translate(x,0,0,0,1),x,plotY:f,yBottom:f})}})}return M}}return q.defaultOptions=K(v.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),R(q.prototype,{singleStacks:!1}),d.registerSeriesType("area",q),q}),i(r,"Series/Spline/SplineSeries.js",[r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d){const{line:h}=o.seriesTypes,{merge:s,pick:v}=d;class R extends h{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(k,z,q){const L=z.plotX||0,O=z.plotY||0,G=k[q-1];q=k[q+1];let M,S,D;if(G&&!G.isNull&&G.doCurve!==!1&&!z.isCliff&&q&&!q.isNull&&q.doCurve!==!1&&!z.isCliff){k=G.plotY||0;var H=q.plotX||0;q=q.plotY||0;let U=0;M=(1.5*L+(G.plotX||0))/2.5,S=(1.5*O+k)/2.5,H=(1.5*L+H)/2.5,D=(1.5*O+q)/2.5,H!==M&&(U=(D-S)*(H-L)/(H-M)+O-D),S+=U,D+=U,S>k&&S>O?(S=Math.max(k,O),D=2*O-S):S<k&&S<O&&(S=Math.min(k,O),D=2*O-S),D>q&&D>O?(D=Math.max(q,O),S=2*O-D):D<q&&D<O&&(D=Math.min(q,O),S=2*O-D),z.rightContX=H,z.rightContY=D}return z=["C",v(G.rightContX,G.plotX,0),v(G.rightContY,G.plotY,0),v(M,L,0),v(S,O,0),L,O],G.rightContX=G.rightContY=void 0,z}}return R.defaultOptions=s(h.defaultOptions),o.registerSeriesType("spline",R),R}),i(r,"Series/AreaSpline/AreaSplineSeries.js",[r["Series/Spline/SplineSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{area:s,area:{prototype:v}}=d.seriesTypes,{extend:R,merge:K}=h;class k extends o{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return k.defaultOptions=K(o.defaultOptions,s.defaultOptions),R(k.prototype,{getGraphPath:v.getGraphPath,getStackPoints:v.getStackPoints,drawGraph:v.drawGraph}),d.registerSeriesType("areaspline",k),k}),i(r,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),i(r,"Series/Column/ColumnSeries.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Series/Column/ColumnSeriesDefaults.js"],r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R,K){const{animObject:k}=o,{parse:z}=d,{hasTouch:q,noop:L}=s,{clamp:O,defined:G,extend:M,fireEvent:S,isArray:D,isNumber:H,merge:U,pick:E,objectEach:ie}=K;class te extends v{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(V){const j=this,x=this.yAxis,P=x.pos,f=j.options,g=this.chart.inverted,b={},A=g?"translateX":"translateY";let X;V?(b.scaleY=.001,V=O(x.toPixels(f.threshold),P,P+x.len),g?b.translateX=V-x.len:b.translateY=V,j.clipBox&&j.setClip(),j.group.attr(b)):(X=Number(j.group.attr(A)),j.group.animate({scaleY:1},M(k(j.options.animation),{step:function(Y,J){j.group&&(b[A]=X+J.pos*(P-X),j.group.attr(b))}})))}init(V,j){super.init.apply(this,arguments);const x=this;V=x.chart,V.hasRendered&&V.series.forEach(function(P){P.type===x.type&&(P.isDirty=!0)})}getColumnMetrics(){const V=this;var j=V.options;const x=V.xAxis,P=V.yAxis;var f=x.options.reversedStacks;f=x.reversed&&!f||!x.reversed&&f;const g={};let b,A=0;j.grouping===!1?A=1:V.chart.series.forEach(function(ce){const pe=ce.yAxis,fe=ce.options;let F;ce.type!==V.type||!ce.visible&&V.chart.options.chart.ignoreHiddenSeries||P.len!==pe.len||P.pos!==pe.pos||(fe.stacking&&fe.stacking!=="group"?(b=ce.stackKey,typeof g[b]>"u"&&(g[b]=A++),F=g[b]):fe.grouping!==!1&&(F=A++),ce.columnIndex=F)});const X=Math.min(Math.abs(x.transA)*(x.ordinal&&x.ordinal.slope||j.pointRange||x.closestPointRange||x.tickInterval||1),x.len),Y=X*j.groupPadding,J=(X-2*Y)/(A||1);return j=Math.min(j.maxPointWidth||x.len,E(j.pointWidth,J*(1-2*j.pointPadding))),V.columnMetrics={width:j,offset:(J-j)/2+(Y+((V.columnIndex||0)+(f?1:0))*J-X/2)*(f?-1:1),paddedWidth:J,columnCount:A},V.columnMetrics}crispCol(V,j,x,P){var f=this.borderWidth,g=-(f%2?.5:0);return f=f%2?.5:1,this.options.crisp&&(x=Math.round(V+x)+g,V=Math.round(V)+g,x-=V),P=Math.round(j+P)+f,g=.5>=Math.abs(j)&&.5<P,j=Math.round(j)+f,P-=j,g&&P&&(--j,P+=1),{x:V,y:j,width:x,height:P}}adjustForMissingColumns(V,j,x,P){const f=this.options.stacking;if(!x.isNull&&1<P.columnCount){const g=this.yAxis.options.reversedStacks;let b=0,A=g?0:-P.columnCount;ie(this.yAxis.stacking&&this.yAxis.stacking.stacks,X=>{if(typeof x.x=="number"){const Y=X[x.x.toString()];Y&&(X=Y.points[this.index],f?(X&&(b=A),Y.hasValidPoints&&(g?A++:A--)):D(X)&&(X=Object.keys(Y.points).filter(J=>!J.match(",")&&Y.points[J]&&1<Y.points[J].length).map(parseFloat).sort((J,ce)=>ce-J),b=X.indexOf(this.index),A=X.length))}}),V=(x.plotX||0)+((A-1)*P.paddedWidth+j)/2-j-b*P.paddedWidth}return V}translate(){const V=this,j=V.chart,x=V.options;var P=V.dense=2>V.closestPointRange*V.xAxis.transA;P=V.borderWidth=E(x.borderWidth,P?0:1);const f=V.xAxis,g=V.yAxis,b=x.threshold,A=E(x.minPointLength,5),X=V.getColumnMetrics(),Y=X.width,J=V.pointXOffset=X.offset,ce=V.dataMin,pe=V.dataMax;let fe=V.barW=Math.max(Y,1+2*P),F=V.translatedThreshold=g.getThreshold(b);j.inverted&&(F-=.5),x.pointPadding&&(fe=Math.ceil(fe)),v.prototype.translate.apply(V),V.points.forEach(function(Q){const se=E(Q.yBottom,F);var ue=999+Math.abs(se),Ce=Q.plotX||0;ue=O(Q.plotY,-ue,g.len+ue);let ne=Math.min(ue,se),ve=Math.max(ue,se)-ne,_e=Y,oe=Ce+J,ye=fe;A&&Math.abs(ve)<A&&(ve=A,Ce=!g.reversed&&!Q.negative||g.reversed&&Q.negative,H(b)&&H(pe)&&Q.y===b&&pe<=b&&(g.min||0)<b&&(ce!==pe||(g.max||0)<=b)&&(Ce=!Ce),ne=Math.abs(ne-F)>A?se-A:F-(Ce?A:0)),G(Q.options.pointWidth)&&(_e=ye=Math.ceil(Q.options.pointWidth),oe-=Math.round((_e-Y)/2)),x.centerInCategory&&(oe=V.adjustForMissingColumns(oe,_e,Q,X)),Q.barX=oe,Q.pointWidth=_e,Q.tooltipPos=j.inverted?[O(g.len+g.pos-j.plotLeft-ue,g.pos-j.plotLeft,g.len+g.pos-j.plotLeft),f.len+f.pos-j.plotTop-oe-ye/2,ve]:[f.left-j.plotLeft+oe+ye/2,O(ue+g.pos-j.plotTop,g.pos-j.plotTop,g.len+g.pos-j.plotTop),ve],Q.shapeType=V.pointClass.prototype.shapeType||"roundedRect",Q.shapeArgs=V.crispCol(oe,Q.isNull?F:ne,ye,Q.isNull?0:ve)}),S(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(V,j){const x=this.options;var P=this.pointAttrToOptions||{},f=P.stroke||"borderColor";const g=P["stroke-width"]||"borderWidth";let b,A=V&&V.color||this.color,X=V&&V[f]||x[f]||A;P=V&&V.options.dashStyle||x.dashStyle;let Y=V&&V[g]||x[g]||this[g]||0,J=E(V&&V.opacity,x.opacity,1);return V&&this.zones.length&&(b=V.getZone(),A=V.options.color||b&&(b.color||V.nonZonedColor)||this.color,b&&(X=b.borderColor||X,P=b.dashStyle||P,Y=b.borderWidth||Y)),j&&V&&(V=U(x.states[j],V.options.states&&V.options.states[j]||{}),j=V.brightness,A=V.color||typeof j<"u"&&z(A).brighten(V.brightness).get()||A,X=V[f]||X,Y=V[g]||Y,P=V.dashStyle||P,J=E(V.opacity,J)),f={fill:A,stroke:X,"stroke-width":Y,opacity:J},P&&(f.dashstyle=P),f}drawPoints(V=this.points){const j=this,x=this.chart,P=j.options,f=x.renderer,g=P.animationLimit||250;let b;V.forEach(function(A){let X=A.graphic,Y=!!X,J=X&&x.pointCount<g?"animate":"attr";H(A.plotY)&&A.y!==null?(b=A.shapeArgs,X&&A.hasNewShapeType()&&(X=X.destroy()),j.enabledDataSorting&&(A.startXPos=j.xAxis.reversed?-(b&&b.width||0):j.xAxis.width),X||(A.graphic=X=f[A.shapeType](b).add(A.group||j.group))&&j.enabledDataSorting&&x.hasRendered&&x.pointCount<g&&(X.attr({x:A.startXPos}),Y=!0,J="animate"),X&&Y&&X[J](U(b)),x.styledMode||X[J](j.pointAttribs(A,A.selected&&"select")).shadow(A.allowShadow!==!1&&P.shadow),X&&(X.addClass(A.getClassName(),!0),X.attr({visibility:A.visible?"inherit":"hidden"}))):X&&(A.graphic=X.destroy())})}drawTracker(V=this.points){const j=this,x=j.chart,P=x.pointer,f=function(b){const A=P.getPointFromEvent(b);typeof A<"u"&&(P.isDirectTouch=!0,A.onMouseOver(b))};let g;V.forEach(function(b){g=D(b.dataLabels)?b.dataLabels:b.dataLabel?[b.dataLabel]:[],b.graphic&&(b.graphic.element.point=b),g.forEach(function(A){A.div?A.div.point=b:A.element.point=b})}),j._hasTracking||(j.trackerGroups.forEach(function(b){j[b]&&(j[b].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(A){P.onTrackerMouseOut(A)}),q&&j[b].on("touchstart",f),!x.styledMode&&j.options.cursor&&j[b].css({cursor:j.options.cursor}))}),j._hasTracking=!0),S(this,"afterDrawTracker")}remove(){const V=this,j=V.chart;j.hasRendered&&j.series.forEach(function(x){x.type===V.type&&(x.isDirty=!0)}),v.prototype.remove.apply(V,arguments)}}return te.defaultOptions=U(v.defaultOptions,h),M(te.prototype,{cropShoulder:0,directTouch:!0,getSymbol:L,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),R.registerSeriesType("column",te),te}),i(r,"Core/Series/DataLabel.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(o,d,h){const{getDeferredAnimation:s}=o,{format:v}=d,{defined:R,extend:K,fireEvent:k,isArray:z,isString:q,merge:L,objectEach:O,pick:G,splat:M}=h;var S;return function(D){function H(P,f,g,b,A){const X=this.chart;var Y=this.isCartesian&&X.inverted;const J=this.enabledDataSorting;var ce=P.plotX,pe=P.plotY;const fe=g.rotation;var F=g.align;pe=R(ce)&&R(pe)&&X.isInsidePlot(ce,Math.round(pe),{inverted:Y,paneCoordinates:!0,series:this});let Q=G(g.overflow,J?"none":"justify")==="justify";if(Y=this.visible&&P.visible!==!1&&R(ce)&&(P.series.forceDL||J&&!Q||pe||G(g.inside,!!this.options.stacking)&&b&&X.isInsidePlot(ce,Y?b.x+1:b.y+b.height-1,{inverted:Y,paneCoordinates:!0,series:this})),ce=P.pos(),Y&&ce){fe&&f.attr({align:F}),F=f.getBBox(!0);var se=[0,0],ue=X.renderer.fontMetrics(f).b;if(b=K({x:ce[0],y:Math.round(ce[1]),width:0,height:0},b),K(g,{width:F.width,height:F.height}),fe?(Q=!1,se=X.renderer.rotCorr(ue,fe),ue={x:b.x+(g.x||0)+b.width/2+se.x,y:b.y+(g.y||0)+{top:0,middle:.5,bottom:1}[g.verticalAlign]*b.height},se=[F.x-Number(f.attr("x")),F.y-Number(f.attr("y"))],J&&this.xAxis&&!Q&&this.setDataLabelStartPos(P,f,A,pe,ue),f[A?"attr":"animate"](ue)):(J&&this.xAxis&&!Q&&this.setDataLabelStartPos(P,f,A,pe,b),f.align(g,void 0,b),ue=f.alignAttr),Q&&0<=b.height)this.justifyDataLabel(f,g,ue,F,b,A);else if(G(g.crop,!0)){let{x:Ce,y:ne}=ue;Ce+=se[0],ne+=se[1],Y=X.isInsidePlot(Ce,ne,{paneCoordinates:!0,series:this})&&X.isInsidePlot(Ce+F.width,ne+F.height,{paneCoordinates:!0,series:this})}g.shape&&!fe&&f[A?"attr":"animate"]({anchorX:ce[0],anchorY:ce[1]})}A&&J&&(f.placed=!1),Y||J&&!Q?f.show():(f.hide(),f.placed=!1)}function U(P,f){var g=f.filter;return g?(f=g.operator,P=P[g.property],g=g.value,f===">"&&P>g||f==="<"&&P<g||f===">="&&P>=g||f==="<="&&P<=g||f==="=="&&P==g||f==="==="&&P===g):!0}function E(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function ie(P){const f=this.hasRendered||0,g=this.initDataLabelsGroup().attr({opacity:+f});return!f&&g&&(this.visible&&g.show(),this.options.animation?g.animate({opacity:1},P):g.attr({opacity:1})),g}function te(P=this.points){const f=this,g=f.chart,b=f.options,A=g.renderer,{backgroundColor:X,plotBackgroundColor:Y}=g.options.chart,J=A.getContrast(q(Y)&&Y||q(X)&&X||"#000000");let ce=b.dataLabels,pe,fe;var F=M(ce)[0];const Q=F.animation;F=F.defer?s(g,Q,f):{defer:0,duration:0},ce=V(V(g.options.plotOptions&&g.options.plotOptions.series&&g.options.plotOptions.series.dataLabels,g.options.plotOptions&&g.options.plotOptions[f.type]&&g.options.plotOptions[f.type].dataLabels),ce),k(this,"drawDataLabels"),(z(ce)||ce.enabled||f._hasPointLabels)&&(fe=this.initDataLabels(F),P.forEach(se=>{pe=M(V(ce,se.dlOptions||se.options&&se.options.dataLabels)),pe.forEach((ue,Ce)=>{const ne=ue.enabled&&(!se.isNull||se.dataLabelOnNull)&&U(se,ue),ve=se.connectors?se.connectors[Ce]:se.connector;let _e,oe,ye=se.dataLabels?se.dataLabels[Ce]:se.dataLabel,Se=!ye;const Re=G(ue.distance,se.labelDistance);if(ne){var Le=se.getLabelConfig(),$e=G(ue[se.formatPrefix+"Format"],ue.format);if(Le=R($e)?v($e,Le,g):(ue[se.formatPrefix+"Formatter"]||ue.formatter).call(Le,ue),$e=ue.style,_e=ue.rotation,g.styledMode||($e.color=G(ue.color,$e.color,f.color,"#000000"),$e.color==="contrast"?(se.contrastColor=A.getContrast(se.color||f.color),$e.color=!R(Re)&&ue.inside||0>Re||b.stacking?se.contrastColor:J):delete se.contrastColor,b.cursor&&($e.cursor=b.cursor)),oe={r:ue.borderRadius||0,rotation:_e,padding:ue.padding,zIndex:1},!g.styledMode){const{backgroundColor:rt,borderColor:Qe}=ue;oe.fill=rt==="auto"?se.color:rt,oe.stroke=Qe==="auto"?se.color:Qe,oe["stroke-width"]=ue.borderWidth}O(oe,function(rt,Qe){typeof rt>"u"&&delete oe[Qe]})}!ye||ne&&R(Le)&&!!ye.div==!!ue.useHTML&&(ye.rotation&&ue.rotation||ye.rotation===ue.rotation)||(Se=!0,se.dataLabel=ye=se.dataLabel&&se.dataLabel.destroy(),se.dataLabels&&(se.dataLabels.length===1?delete se.dataLabels:delete se.dataLabels[Ce]),Ce||delete se.dataLabel,ve&&(se.connector=se.connector.destroy(),se.connectors&&(se.connectors.length===1?delete se.connectors:delete se.connectors[Ce]))),ne&&R(Le)?(ye?oe.text=Le:(se.dataLabels=se.dataLabels||[],ye=se.dataLabels[Ce]=_e?A.text(Le,0,0,ue.useHTML).addClass("highcharts-data-label"):A.label(Le,0,0,ue.shape,null,null,ue.useHTML,null,"data-label"),Ce||(se.dataLabel=ye),ye.addClass(" highcharts-data-label-color-"+se.colorIndex+" "+(ue.className||"")+(ue.useHTML?" highcharts-tracker":""))),ye.options=ue,ye.attr(oe),g.styledMode||ye.css($e).shadow(ue.shadow),(Ce=ue[se.formatPrefix+"TextPath"]||ue.textPath)&&!ue.useHTML&&(ye.setTextPath(se.getDataLabelPath&&se.getDataLabelPath(ye)||se.graphic,Ce),se.dataLabelPath&&!Ce.enabled&&(se.dataLabelPath=se.dataLabelPath.destroy())),ye.added||ye.add(fe),f.alignDataLabel(se,ye,ue,null,Se)):ye&&ye.hide()})})),k(this,"afterDrawDataLabels")}function $(P,f,g,b,A,X){const Y=this.chart,J=f.align,ce=f.verticalAlign,pe=P.box?0:P.padding||0;let{x:fe=0,y:F=0}=f,Q,se;return Q=(g.x||0)+pe,0>Q&&(J==="right"&&0<=fe?(f.align="left",f.inside=!0):fe-=Q,se=!0),Q=(g.x||0)+b.width-pe,Q>Y.plotWidth&&(J==="left"&&0>=fe?(f.align="right",f.inside=!0):fe+=Y.plotWidth-Q,se=!0),Q=g.y+pe,0>Q&&(ce==="bottom"&&0<=F?(f.verticalAlign="top",f.inside=!0):F-=Q,se=!0),Q=(g.y||0)+b.height-pe,Q>Y.plotHeight&&(ce==="top"&&0>=F?(f.verticalAlign="bottom",f.inside=!0):F+=Y.plotHeight-Q,se=!0),se&&(f.x=fe,f.y=F,P.placed=!X,P.align(f,void 0,A)),se}function V(P,f){let g=[],b;if(z(P)&&!z(f))g=P.map(function(A){return L(A,f)});else if(z(f)&&!z(P))g=f.map(function(A){return L(P,A)});else if(z(P)||z(f))for(b=Math.max(P.length,f.length);b--;)g[b]=L(P[b],f[b]);else g=L(P,f);return g}function j(P,f,g,b,A){const X=this.chart,Y=X.inverted,J=this.xAxis,ce=J.reversed,pe=Y?f.height/2:f.width/2;P=(P=P.pointWidth)?P/2:0,f.startXPos=Y?A.x:ce?-pe-P:J.width-pe+P,f.startYPos=Y?ce?this.yAxis.height-pe+P:-pe-P:A.y,b?f.visibility==="hidden"&&(f.show(),f.attr({opacity:0}).animate({opacity:1})):f.attr({opacity:1}).animate({opacity:0},void 0,f.hide),X.hasRendered&&(g&&f.attr({x:f.startXPos,y:f.startYPos}),f.placed=!0)}const x=[];D.compose=function(P){h.pushUnique(x,P)&&(P=P.prototype,P.initDataLabelsGroup=E,P.initDataLabels=ie,P.alignDataLabel=H,P.drawDataLabels=te,P.justifyDataLabel=$,P.setDataLabelStartPos=j)}}(S||(S={})),S}),i(r,"Series/Column/ColumnDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{series:s}=d,{merge:v,pick:R}=h;var K;return function(k){function z(L,O,G,M,S){let D=this.chart.inverted;var H=L.series;let U=(H.xAxis?H.xAxis.len:this.chart.plotSizeX)||0;H=(H.yAxis?H.yAxis.len:this.chart.plotSizeY)||0;var E=L.dlBox||L.shapeArgs;let ie=R(L.below,L.plotY>R(this.translatedThreshold,H)),te=R(G.inside,!!this.options.stacking);E&&(M=v(E),0>M.y&&(M.height+=M.y,M.y=0),E=M.y+M.height-H,0<E&&E<M.height&&(M.height-=E),D&&(M={x:H-M.y-M.height,y:U-M.x-M.width,width:M.height,height:M.width}),te||(D?(M.x+=ie?0:M.width,M.width=0):(M.y+=ie?M.height:0,M.height=0))),G.align=R(G.align,!D||te?"center":ie?"right":"left"),G.verticalAlign=R(G.verticalAlign,D||te?"middle":ie?"top":"bottom"),s.prototype.alignDataLabel.call(this,L,O,G,M,S),G.inside&&L.contrastColor&&O.css({color:L.contrastColor})}const q=[];k.compose=function(L){o.compose(s),h.pushUnique(q,L)&&(L.prototype.alignDataLabel=z)}}(K||(K={})),K}),i(r,"Series/Bar/BarSeries.js",[r["Series/Column/ColumnSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{extend:s,merge:v}=h;class R extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return R.defaultOptions=v(o.defaultOptions,{}),s(R.prototype,{inverted:!0}),d.registerSeriesType("bar",R),R}),i(r,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),i(r,"Series/Scatter/ScatterSeries.js",[r["Series/Scatter/ScatterSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{column:s,line:v}=d.seriesTypes,{addEvent:R,extend:K,merge:k}=h;class z extends v{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const L=this,O=this.options.jitter,G=this.points.length;O&&this.points.forEach(function(M,S){["x","y"].forEach(function(D,H){let U="plot"+D.toUpperCase(),E,ie;if(O[D]&&!M.isNull){var te=L[D+"Axis"];ie=O[D]*te.transA,te&&!te.isLog&&(E=Math.max(0,M[U]-ie),te=Math.min(te.len,M[U]+ie),H=1e4*Math.sin(S+H*G),H-=Math.floor(H),M[U]=E+(te-E)*H,D==="x"&&(M.clientX=M.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return z.defaultOptions=k(v.defaultOptions,o),K(z.prototype,{drawTracker:s.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),R(z,"afterTranslate",function(){this.applyJitter()}),d.registerSeriesType("scatter",z),z}),i(r,"Series/CenteredUtilities.js",[r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(o,d,h){const{deg2rad:s}=o,{fireEvent:v,isNumber:R,pick:K,relativeLength:k}=h;var z;return function(q){q.getCenter=function(){var L=this.options,O=this.chart;const G=2*(L.slicedOffset||0),M=O.plotWidth-2*G,S=O.plotHeight-2*G;var D=L.center;const H=Math.min(M,S),U=L.thickness;var E=L.size;let ie=L.innerSize||0;for(typeof E=="string"&&(E=parseFloat(E)),typeof ie=="string"&&(ie=parseFloat(ie)),L=[K(D[0],"50%"),K(D[1],"50%"),K(E&&0>E?void 0:L.size,"100%"),K(ie&&0>ie?void 0:L.innerSize||0,"0%")],!O.angular||this instanceof d||(L[3]=0),D=0;4>D;++D)E=L[D],O=2>D||D===2&&/%$/.test(E),L[D]=k(E,[M,S,H,L[2]][D])+(O?G:0);return L[3]>L[2]&&(L[3]=L[2]),R(U)&&2*U<L[2]&&0<U&&(L[3]=L[2]-2*U),v(this,"afterGetCenter",{positions:L}),L},q.getStartAndEndRadians=function(L,O){return L=R(L)?L:0,O=R(O)&&O>L&&360>O-L?O:L+360,{start:s*(L+-90),end:s*(O+-90)}}}(z||(z={})),z}),i(r,"Series/Pie/PiePoint.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(o,d,h){const{setAnimation:s}=o,{addEvent:v,defined:R,extend:K,isNumber:k,pick:z,relativeLength:q}=h;class L extends d{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const G=this.labelPosition,M=this.series.options.dataLabels,S=this.connectorShapes;let D=M.connectorShape;return S[D]&&(D=S[D]),D.call(this,{x:G.computed.x,y:G.computed.y,alignment:G.alignment},G.connectorPosition,M)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(G){const M=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(M.x,M.y,M.r+G,M.r+G,{innerR:M.r-1,start:M.start,end:M.end,borderRadius:M.borderRadius})}init(){super.init.apply(this,arguments),this.name=z(this.name,"Slice");const G=M=>{this.slice(M.type==="select")};return v(this,"select",G),v(this,"unselect",G),this}isValid(){return k(this.y)&&0<=this.y}setVisible(G,M){const S=this.series,D=S.chart,H=S.options.ignoreHiddenPoint;M=z(M,H),G!==this.visible&&(this.visible=this.options.visible=G=typeof G>"u"?!this.visible:G,S.options.data[S.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(U=>{this[U]&&this[U][G?"show":"hide"](G)}),this.legendItem&&D.legend.colorizeItem(this,G),G||this.state!=="hover"||this.setState(""),H&&(S.isDirty=!0),M&&D.redraw())}slice(G,M,S){const D=this.series;s(S,D.chart),z(M,!0),this.sliced=this.options.sliced=R(G)?G:!this.sliced,D.options.data[D.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return K(L.prototype,{connectorShapes:{fixedOffset:function(O,G,M){const S=G.breakAt;return G=G.touchingSliceAt,[["M",O.x,O.y],M.softConnector?["C",O.x+(O.alignment==="left"?-5:5),O.y,2*S.x-G.x,2*S.y-G.y,S.x,S.y]:["L",S.x,S.y],["L",G.x,G.y]]},straight:function(O,G){return G=G.touchingSliceAt,[["M",O.x,O.y],["L",G.x,G.y]]},crookedLine:function(O,G,M){const{breakAt:S,touchingSliceAt:D}=G;({series:G}=this);const[H,U,E]=G.center,ie=E/2,te=G.chart.plotWidth,$=G.chart.plotLeft;G=O.alignment==="left";const{x:V,y:j}=O;return M.crookDistance?(O=q(M.crookDistance,1),O=G?H+ie+(te+$-H-ie)*(1-O):$+(H-ie)*O):O=H+(U-j)*Math.tan((this.angle||0)-Math.PI/2),M=[["M",V,j]],(G?O<=V&&O>=S.x:O>=V&&O<=S.x)&&M.push(["L",O,j]),M.push(["L",S.x,S.y],["L",D.x,D.y]),M}}}),L}),i(r,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),i(r,"Series/Pie/PieSeries.js",[r["Series/CenteredUtilities.js"],r["Series/Column/ColumnSeries.js"],r["Core/Globals.js"],r["Series/Pie/PiePoint.js"],r["Series/Pie/PieSeriesDefaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R,K,k,z){const{getStartAndEndRadians:q}=o;({noop:h}=h);const{clamp:L,extend:O,fireEvent:G,merge:M,pick:S,relativeLength:D}=z;class H extends R{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(E){const ie=this,te=ie.points,$=ie.startAngleRad;E||te.forEach(function(V){const j=V.graphic,x=V.shapeArgs;j&&x&&(j.attr({r:S(V.startR,ie.center&&ie.center[3]/2),start:$,end:$}),j.animate({r:x.r,start:x.start,end:x.end},ie.options.animation))})}drawEmpty(){const E=this.startAngleRad,ie=this.endAngleRad,te=this.options;let $,V;this.total===0&&this.center?($=this.center[0],V=this.center[1],this.graph||(this.graph=this.chart.renderer.arc($,V,this.center[1]/2,0,E,ie).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:k.arc($,V,this.center[2]/2,0,{start:E,end:ie,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":te.borderWidth,fill:te.fillColor||"none",stroke:te.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const E=this.chart.renderer;this.points.forEach(function(ie){ie.graphic&&ie.hasNewShapeType()&&(ie.graphic=ie.graphic.destroy()),ie.graphic||(ie.graphic=E[ie.shapeType](ie.shapeArgs).add(ie.series.group),ie.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(E,ie,te){const $=this.center,V=this.radii?this.radii[te.index]||0:$[2]/2;return E=Math.asin(L((E-$[1])/(V+te.labelDistance),-1,1)),$[0]+(ie?-1:1)*Math.cos(E)*(V+te.labelDistance)+(0<te.labelDistance?(ie?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const E=this,ie=E.chart;let te,$,V,j;this.drawEmpty(),E.group&&!ie.styledMode&&E.group.shadow(E.options.shadow),E.points.forEach(function(x){const P={};$=x.graphic,!x.isNull&&$?(j=x.shapeArgs,te=x.getTranslate(),ie.styledMode||(V=E.pointAttribs(x,x.selected&&"select")),x.delayedRendering?($.setRadialReference(E.center).attr(j).attr(te),ie.styledMode||$.attr(V).attr({"stroke-linejoin":"round"}),x.delayedRendering=!1):($.setRadialReference(E.center),ie.styledMode||M(!0,P,V),M(!0,P,j,te),$.animate(P)),$.attr({visibility:x.visible?"inherit":"hidden"}),$.addClass(x.getClassName(),!0)):$&&(x.graphic=$.destroy())})}sortByAngle(E,ie){E.sort(function(te,$){return typeof te.angle<"u"&&($.angle-te.angle)*ie})}translate(E){G(this,"translate"),this.generatePoints();var ie=this.options;const te=ie.slicedOffset,$=te+(ie.borderWidth||0);var V=q(ie.startAngle,ie.endAngle);const j=this.startAngleRad=V.start;V=(this.endAngleRad=V.end)-j;const x=this.points,P=ie.dataLabels.distance;ie=ie.ignoreHiddenPoint;const f=x.length;let g,b,A,X=0;for(E||(this.center=E=this.getCenter()),b=0;b<f;b++){A=x[b];var Y=j+X*V;!A.isValid()||ie&&!A.visible||(X+=A.percentage/100);var J=j+X*V,ce={x:E[0],y:E[1],r:E[2]/2,innerR:E[3]/2,start:Math.round(1e3*Y)/1e3,end:Math.round(1e3*J)/1e3};A.shapeType="arc",A.shapeArgs=ce,A.labelDistance=S(A.options.dataLabels&&A.options.dataLabels.distance,P),A.labelDistance=D(A.labelDistance,ce.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,A.labelDistance),J=(J+Y)/2,J>1.5*Math.PI?J-=2*Math.PI:J<-Math.PI/2&&(J+=2*Math.PI),A.slicedTranslation={translateX:Math.round(Math.cos(J)*te),translateY:Math.round(Math.sin(J)*te)},ce=Math.cos(J)*E[2]/2,g=Math.sin(J)*E[2]/2,A.tooltipPos=[E[0]+.7*ce,E[1]+.7*g],A.half=J<-Math.PI/2||J>Math.PI/2?1:0,A.angle=J,Y=Math.min($,A.labelDistance/5),A.labelPosition={natural:{x:E[0]+ce+Math.cos(J)*A.labelDistance,y:E[1]+g+Math.sin(J)*A.labelDistance},computed:{},alignment:0>A.labelDistance?"center":A.half?"right":"left",connectorPosition:{breakAt:{x:E[0]+ce+Math.cos(J)*Y,y:E[1]+g+Math.sin(J)*Y},touchingSliceAt:{x:E[0]+ce,y:E[1]+g}}}}G(this,"afterTranslate")}updateTotals(){const E=this.points,ie=E.length,te=this.options.ignoreHiddenPoint;let $,V,j=0;for($=0;$<ie;$++)V=E[$],!V.isValid()||te&&!V.visible||(j+=V.y);for(this.total=j,$=0;$<ie;$++)V=E[$],V.percentage=0<j&&(V.visible||!te)?V.y/j*100:0,V.total=j}}return H.defaultOptions=M(R.defaultOptions,v),O(H.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:d.prototype.drawTracker,getCenter:o.getCenter,getSymbol:h,isCartesian:!1,noSharedTooltip:!0,pointAttribs:d.prototype.pointAttribs,pointClass:s,requireSorting:!1,searchPoint:h,trackerGroups:["group","dataLabelsGroup"]}),K.registerSeriesType("pie",H),H}),i(r,"Series/Pie/PieDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,v){const{noop:R}=d,{distribute:K}=h,{series:k}=s,{arrayMax:z,clamp:q,defined:L,merge:O,pick:G,relativeLength:M}=v;var S;return function(D){function H(){const $=this,V=$.data,j=$.chart,x=$.options.dataLabels||{},P=x.connectorPadding,f=j.plotWidth,g=j.plotHeight,b=j.plotLeft,A=Math.round(j.chartWidth/3),X=$.center,Y=X[2]/2,J=X[1],ce=[[],[]],pe=[0,0,0,0],fe=$.dataLabelPositioners;let F,Q,se,ue,Ce,ne,ve,_e,oe,ye,Se,Re;$.visible&&(x.enabled||$._hasPointLabels)&&(V.forEach(function(Le){Le.dataLabel&&Le.visible&&Le.dataLabel.shortened&&(Le.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Le.dataLabel.shortened=!1)}),k.prototype.drawDataLabels.apply($),V.forEach(function(Le){Le.dataLabel&&(Le.visible?(ce[Le.half].push(Le),Le.dataLabel._pos=null,!L(x.style.width)&&!L(Le.options.dataLabels&&Le.options.dataLabels.style&&Le.options.dataLabels.style.width)&&Le.dataLabel.getBBox().width>A&&(Le.dataLabel.css({width:Math.round(.7*A)+"px"}),Le.dataLabel.shortened=!0)):(Le.dataLabel=Le.dataLabel.destroy(),Le.dataLabels&&Le.dataLabels.length===1&&delete Le.dataLabels))}),ce.forEach((Le,$e)=>{const rt=Le.length,Qe=[];let qe,xe=0;if(rt){if($.sortByAngle(Le,$e-.5),0<$.maxLabelDistance){var Ie=Math.max(0,J-Y-$.maxLabelDistance);qe=Math.min(J+Y+$.maxLabelDistance,j.plotHeight),Le.forEach(function(Be){0<Be.labelDistance&&Be.dataLabel&&(Be.top=Math.max(0,J-Y-Be.labelDistance),Be.bottom=Math.min(J+Y+Be.labelDistance,j.plotHeight),xe=Be.dataLabel.getBBox().height||21,Be.distributeBox={target:Be.labelPosition.natural.y-Be.top+xe/2,size:xe,rank:Be.y},Qe.push(Be.distributeBox))}),Ie=qe+xe-Ie,K(Qe,Ie,Ie/5)}for(Se=0;Se<rt;Se++){if(F=Le[Se],ne=F.labelPosition,ue=F.dataLabel,ye=F.visible===!1?"hidden":"inherit",oe=Ie=ne.natural.y,Qe&&L(F.distributeBox)&&(typeof F.distributeBox.pos>"u"?ye="hidden":(ve=F.distributeBox.size,oe=fe.radialDistributionY(F))),delete F.positionIndex,x.justify)_e=fe.justify(F,Y,X);else switch(x.alignTo){case"connectors":_e=fe.alignToConnectors(Le,$e,f,b);break;case"plotEdges":_e=fe.alignToPlotEdges(ue,$e,f,b);break;default:_e=fe.radialDistributionX($,F,oe,Ie)}ue._attr={visibility:ye,align:ne.alignment},Re=F.options.dataLabels||{},ue._pos={x:_e+G(Re.x,x.x)+({left:P,right:-P}[ne.alignment]||0),y:oe+G(Re.y,x.y)-ue.getBBox().height/2},ne&&(ne.computed.x=_e,ne.computed.y=oe),G(x.crop,!0)&&(Ce=ue.getBBox().width,Ie=null,_e-Ce<P&&$e===1?(Ie=Math.round(Ce-_e+P),pe[3]=Math.max(Ie,pe[3])):_e+Ce>f-P&&$e===0&&(Ie=Math.round(_e+Ce-f+P),pe[1]=Math.max(Ie,pe[1])),0>oe-ve/2?pe[0]=Math.max(Math.round(-oe+ve/2),pe[0]):oe+ve/2>g&&(pe[2]=Math.max(Math.round(oe+ve/2-g),pe[2])),ue.sideOverflow=Ie)}}}),z(pe)===0||this.verifyDataLabelOverflow(pe))&&(this.placeDataLabels(),this.points.forEach(function(Le){if(Re=O(x,Le.options.dataLabels),Q=G(Re.connectorWidth,1)){let $e;se=Le.connector,(ue=Le.dataLabel)&&ue._pos&&Le.visible&&0<Le.labelDistance?(ye=ue._attr.visibility,($e=!se)&&(Le.connector=se=j.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Le.colorIndex+(Le.className?" "+Le.className:"")).add($.dataLabelsGroup),j.styledMode||se.attr({"stroke-width":Q,stroke:Re.connectorColor||Le.color||"#666666"})),se[$e?"attr":"animate"]({d:Le.getConnectorPath()}),se.attr("visibility",ye)):se&&(Le.connector=se.destroy())}}))}function U(){this.points.forEach(function($){let V=$.dataLabel,j;V&&$.visible&&((j=V._pos)?(V.sideOverflow&&(V._attr.width=Math.max(V.getBBox().width-V.sideOverflow,0),V.css({width:V._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),V.shortened=!0),V.attr(V._attr),V[V.moved?"animate":"attr"](j),V.moved=!0):V&&V.attr({y:-9999})),delete $.distributeBox},this)}function E($){let V=this.center,j=this.options,x=j.center,P=j.minSize||80,f,g=j.size!==null;return g||(x[0]!==null?f=Math.max(V[2]-Math.max($[1],$[3]),P):(f=Math.max(V[2]-$[1]-$[3],P),V[0]+=($[3]-$[1])/2),x[1]!==null?f=q(f,P,V[2]-Math.max($[0],$[2])):(f=q(f,P,V[2]-$[0]-$[2]),V[1]+=($[0]-$[2])/2),f<V[2]?(V[2]=f,V[3]=Math.min(j.thickness?Math.max(0,f-2*j.thickness):Math.max(0,M(j.innerSize||0,f)),f),this.translate(V),this.drawDataLabels&&this.drawDataLabels()):g=!0),g}const ie=[],te={radialDistributionY:function($){return $.top+$.distributeBox.pos},radialDistributionX:function($,V,j,x){return $.getX(j<V.top+2||j>V.bottom-2?x:j,V.half,V)},justify:function($,V,j){return j[0]+($.half?-1:1)*(V+$.labelDistance)},alignToPlotEdges:function($,V,j,x){return $=$.getBBox().width,V?$+x:j-$-x},alignToConnectors:function($,V,j,x){let P=0,f;return $.forEach(function(g){f=g.dataLabel.getBBox().width,f>P&&(P=f)}),V?P+x:j-P-x}};D.compose=function($){o.compose(k),v.pushUnique(ie,$)&&($=$.prototype,$.dataLabelPositioners=te,$.alignDataLabel=R,$.drawDataLabels=H,$.placeDataLabels=U,$.verifyDataLabelOverflow=E)}}(S||(S={})),S}),i(r,"Extensions/OverlappingDataLabels.js",[r["Core/Chart/Chart.js"],r["Core/Utilities.js"]],function(o,d){function h(q,L){let O,G=!1;return q&&(O=q.newOpacity,q.oldOpacity!==O&&(q.alignAttr&&q.placed?(q[O?"removeClass":"addClass"]("highcharts-data-label-hidden"),G=!0,q.alignAttr.opacity=O,q[q.isOld?"animate":"attr"](q.alignAttr,null,function(){L.styledMode||q.css({pointerEvents:O?"auto":"none"})}),v(L,"afterHideOverlappingLabel")):q.attr({opacity:O})),q.isOld=!0),G}const{addEvent:s,fireEvent:v,isArray:R,isNumber:K,objectEach:k,pick:z}=d;s(o,"render",function(){let q=this,L=[];(this.labelCollectors||[]).forEach(function(O){L=L.concat(O())}),(this.yAxis||[]).forEach(function(O){O.stacking&&O.options.stackLabels&&!O.options.stackLabels.allowOverlap&&k(O.stacking.stacks,function(G){k(G,function(M){M.label&&L.push(M.label)})})}),(this.series||[]).forEach(function(O){var G=O.options.dataLabels;O.visible&&(G.enabled!==!1||O._hasPointLabels)&&(G=M=>M.forEach(S=>{S.visible&&(R(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[]).forEach(function(D){const H=D.options;D.labelrank=z(H.labelrank,S.labelrank,S.shapeArgs&&S.shapeArgs.height),H.allowOverlap?(D.oldOpacity=D.opacity,D.newOpacity=1,h(D,q)):L.push(D)})}),G(O.nodes||[]),G(O.points))}),this.hideOverlappingLabels(L)}),o.prototype.hideOverlappingLabels=function(q){let L=this,O=q.length,G=L.renderer;var M;let S,D,H,U,E=!1;var ie=function(te){let $,V;var j;let x=te.box?0:te.padding||0,P=j=0,f,g;if(te&&(!te.alignAttr||te.placed))return $=te.alignAttr||{x:te.attr("x"),y:te.attr("y")},V=te.parentGroup,te.width||(j=te.getBBox(),te.width=j.width,te.height=j.height,j=G.fontMetrics(te.element).h),f=te.width-2*x,(g={left:"0",center:"0.5",right:"1"}[te.alignValue])?P=+g*f:K(te.x)&&Math.round(te.x)!==te.translateX&&(P=te.x-te.translateX),{x:$.x+(V.translateX||0)+x-(P||0),y:$.y+(V.translateY||0)+x-j,width:te.width-2*x,height:te.height-2*x}};for(S=0;S<O;S++)(M=q[S])&&(M.oldOpacity=M.opacity,M.newOpacity=1,M.absoluteBox=ie(M));for(q.sort(function(te,$){return($.labelrank||0)-(te.labelrank||0)}),S=0;S<O;S++)for(H=(ie=q[S])&&ie.absoluteBox,M=S+1;M<O;++M)U=(D=q[M])&&D.absoluteBox,!H||!U||ie===D||ie.newOpacity===0||D.newOpacity===0||ie.visibility==="hidden"||D.visibility==="hidden"||U.x>=H.x+H.width||U.x+U.width<=H.x||U.y>=H.y+H.height||U.y+U.height<=H.y||((ie.labelrank<D.labelrank?ie:D).newOpacity=0);q.forEach(function(te){h(te,L)&&(E=!0)}),E&&v(L,"afterHideAllOverlappingLabels")}}),i(r,"Extensions/BorderRadius.js",[r["Core/Defaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(o,d,h,s,v,R){const{defaultOptions:K}=o;({seriesTypes:o}=h);const{addEvent:k,extend:z,isObject:q,merge:L,relativeLength:O}=R,G={radius:0,scope:"stack",where:void 0},M=(S,D)=>(q(S)||(S={radius:S||0}),L(G,D,S));if(s.symbolCustomAttribs.indexOf("borderRadius")===-1){s.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const S=v.prototype.symbols.arc;v.prototype.symbols.arc=function(H,U,E,ie,te={}){H=S(H,U,E,ie,te);const{innerR:$=0,r:V=E,start:j=0,end:x=0}=te;if(te.open||!te.borderRadius)return H;for(E=x-j,U=Math.sin(E/2),te=Math.max(Math.min(O(te.borderRadius||0,V-$),(V-$)/2,V*U/(1+U)),0),E=Math.min(te,E/Math.PI*2*$),U=H.length-1;U--;){let Y,J,ce;ie=H;var P=U,f=1<U?E:te,g=ie[P],b=ie[P+1];if(b[0]==="Z"&&(b=ie[0]),g[0]!=="M"&&g[0]!=="L"||b[0]!=="A"?g[0]!=="A"||b[0]!=="M"&&b[0]!=="L"||(ce=b,J=g):(ce=g,J=b,Y=!0),ce&&J&&J.params){g=J[1];var A=J[5];b=J.params;const{start:pe,end:fe,cx:F,cy:Q}=b;var X=A?g-f:g+f;const se=X?Math.asin(f/X):0;A=A?se:-se,X*=Math.cos(se),Y?(b.start=pe+A,ce[1]=F+X*Math.cos(pe),ce[2]=Q+X*Math.sin(pe),ie.splice(P+1,0,["A",f,f,0,0,1,F+g*Math.cos(b.start),Q+g*Math.sin(b.start)])):(b.end=fe-A,J[6]=F+g*Math.cos(b.end),J[7]=Q+g*Math.sin(b.end),ie.splice(P+1,0,["A",f,f,0,0,1,F+X*Math.cos(fe),Q+X*Math.sin(fe)])),J[4]=Math.abs(b.end-b.start)<Math.PI?0:1}}return H};const D=v.prototype.symbols.roundedRect;v.prototype.symbols.roundedRect=function(H,U,E,ie,te={}){const $=D(H,U,E,ie,te),{r:V=0,brBoxHeight:j=ie,brBoxY:x=U}=te;var P=U-x,f=x+j-(U+ie);te=-.1<P-V?0:V;const g=-.1<f-V?0:V;var b=Math.max(te&&P,0);const A=Math.max(g&&f,0);f=[H+te,U],P=[H+E-te,U];const X=[H+E,U+te],Y=[H+E,U+ie-g],J=[H+E-g,U+ie],ce=[H+g,U+ie],pe=[H,U+ie-g],fe=[H,U+te];if(b){const F=Math.sqrt(Math.pow(te,2)-Math.pow(te-b,2));f[0]-=F,P[0]+=F,X[1]=fe[1]=U+te-b}return ie<te-b&&(b=Math.sqrt(Math.pow(te,2)-Math.pow(te-b-ie,2)),X[0]=Y[0]=H+E-te+b,J[0]=Math.min(X[0],J[0]),ce[0]=Math.max(Y[0],ce[0]),pe[0]=fe[0]=H+te-b,X[1]=fe[1]=U+ie),A&&(b=Math.sqrt(Math.pow(g,2)-Math.pow(g-A,2)),J[0]+=b,ce[0]-=b,Y[1]=pe[1]=U+ie-g+A),ie<g-A&&(ie=Math.sqrt(Math.pow(g,2)-Math.pow(g-A-ie,2)),X[0]=Y[0]=H+E-g+ie,P[0]=Math.min(X[0],P[0]),f[0]=Math.max(Y[0],f[0]),pe[0]=fe[0]=H+g-ie,Y[1]=pe[1]=U),$.length=0,$.push(["M",...f],["L",...P],["A",te,te,0,0,1,...X],["L",...Y],["A",g,g,0,0,1,...J],["L",...ce],["A",g,g,0,0,1,...pe],["L",...fe],["A",te,te,0,0,1,...f],["Z"]),$},k(o.pie,"afterTranslate",function(){const H=M(this.options.borderRadius);for(const U of this.points){const E=U.shapeArgs;E&&(E.borderRadius=O(H.radius,(E.r||0)-(E.innerR||0)))}}),k(d,"afterColumnTranslate",function(){var H,U;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:$,yAxis:V}=this,j=$.stacking==="percent";var E=(U=(H=K.plotOptions)===null||H===void 0?void 0:H[this.type])===null||U===void 0?void 0:U.borderRadius;H=M($.borderRadius,q(E)?E:{}),U=V.options.reversed;for(const x of this.points)if({shapeArgs:E}=x,x.shapeType==="roundedRect"&&E){const{width:P=0,height:f=0,y:g=0}=E;var ie=g,te=f;H.scope==="stack"&&x.stackTotal&&(ie=V.translate(j?100:x.stackTotal,!1,!0,!1,!0),te=V.translate($.threshold||0,!1,!0,!1,!0),te=this.crispCol(0,Math.min(ie,te),0,Math.abs(ie-te)),ie=te.y,te=te.height);const b=(x.negative?-1:1)*(U?-1:1)===-1;let A=H.where;!A&&this.is("waterfall")&&Math.abs((x.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(A="all"),A||(A="end");const X=Math.min(O(H.radius,P),P/2,A==="all"?f/2:1/0)||0;A==="end"&&(b&&(ie-=X),te+=X),z(E,{brBoxHeight:te,brBoxY:ie,r:X})}}},{order:9})}return d={optionsToObject:M},d}),i(r,"Core/Responsive.js",[r["Core/Utilities.js"]],function(o){const{extend:d,find:h,isArray:s,isObject:v,merge:R,objectEach:K,pick:k,splat:z,uniqueKey:q}=o;var L;return function(O){function G(H){function U(te,$,V,j){let x;K(te,function(P,f){if(!j&&-1<E.collectionsWithUpdate.indexOf(f)&&$[f])for(P=z(P),V[f]=[],x=0;x<Math.max(P.length,$[f].length);x++)$[f][x]&&(P[x]===void 0?V[f][x]=$[f][x]:(V[f][x]={},U(P[x],$[f][x],V[f][x],j+1)));else v(P)?(V[f]=s(P)?[]:{},U(P,$[f]||{},V[f],j+1)):V[f]=typeof $[f]>"u"?null:$[f]})}const E=this,ie={};return U(H,this.options,ie,0),ie}function M(H,U){const E=H.condition;(E.callback||function(){return this.chartWidth<=k(E.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=k(E.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=k(E.minWidth,0)&&this.chartHeight>=k(E.minHeight,0)}).call(this)&&U.push(H._id)}function S(H,U){const E=this.options.responsive;var ie=this.currentResponsive;let te=[];!U&&E&&E.rules&&E.rules.forEach($=>{typeof $._id>"u"&&($._id=q()),this.matchResponsiveRule($,te)},this),U=R(...te.map($=>h((E||{}).rules||[],V=>V._id===$)).map($=>$&&$.chartOptions)),U.isResponsiveOptions=!0,te=te.toString()||void 0,te!==(ie&&ie.ruleIds)&&(ie&&this.update(ie.undoOptions,H,!0),te?(ie=this.currentOptions(U),ie.isResponsiveOptions=!0,this.currentResponsive={ruleIds:te,mergedOptions:U,undoOptions:ie},this.update(U,H,!0)):this.currentResponsive=void 0)}const D=[];O.compose=function(H){return o.pushUnique(D,H)&&d(H.prototype,{currentOptions:G,matchResponsiveRule:M,setResponsive:S}),H}}(L||(L={})),L}),i(r,"masters/highcharts.src.js",[r["Core/Globals.js"],r["Core/Utilities.js"],r["Core/Defaults.js"],r["Core/Animation/Fx.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Renderer/HTML/AST.js"],r["Core/FormatUtilities.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Renderer/HTML/HTMLElement.js"],r["Core/Renderer/HTML/HTMLRenderer.js"],r["Core/Axis/Axis.js"],r["Core/Axis/DateTimeAxis.js"],r["Core/Axis/LogarithmicAxis.js"],r["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],r["Core/Axis/Tick.js"],r["Core/Tooltip.js"],r["Core/Series/Point.js"],r["Core/Pointer.js"],r["Core/Legend/Legend.js"],r["Core/Chart/Chart.js"],r["Core/Axis/Stacking/StackingAxis.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Series/Column/ColumnSeries.js"],r["Series/Column/ColumnDataLabel.js"],r["Series/Pie/PieSeries.js"],r["Series/Pie/PieDataLabel.js"],r["Core/Series/DataLabel.js"],r["Core/Responsive.js"],r["Core/Color/Color.js"],r["Core/Time.js"]],function(o,d,h,s,v,R,K,k,z,q,L,O,G,M,S,D,H,U,E,ie,te,$,V,j,x,P,f,g,b,A,X,Y,J,ce){return o.animate=v.animate,o.animObject=v.animObject,o.getDeferredAnimation=v.getDeferredAnimation,o.setAnimation=v.setAnimation,o.stop=v.stop,o.timers=s.timers,o.AST=R,o.Axis=G,o.Chart=$,o.chart=$.chart,o.Fx=s,o.Legend=te,o.PlotLineOrBand=D,o.Point=E,o.Pointer=ie,o.Series=x,o.StackItem=j,o.SVGElement=z,o.SVGRenderer=q,o.Tick=H,o.Time=ce,o.Tooltip=U,o.Color=J,o.color=J.parse,O.compose(q),L.compose(z),ie.compose($),te.compose($),o.defaultOptions=h.defaultOptions,o.getOptions=h.getOptions,o.time=h.defaultTime,o.setOptions=h.setOptions,o.dateFormat=K.dateFormat,o.format=K.format,o.numberFormat=K.numberFormat,o.addEvent=d.addEvent,o.arrayMax=d.arrayMax,o.arrayMin=d.arrayMin,o.attr=d.attr,o.clearTimeout=d.clearTimeout,o.correctFloat=d.correctFloat,o.createElement=d.createElement,o.css=d.css,o.defined=d.defined,o.destroyObjectProperties=d.destroyObjectProperties,o.discardElement=d.discardElement,o.distribute=k.distribute,o.erase=d.erase,o.error=d.error,o.extend=d.extend,o.extendClass=d.extendClass,o.find=d.find,o.fireEvent=d.fireEvent,o.getMagnitude=d.getMagnitude,o.getStyle=d.getStyle,o.inArray=d.inArray,o.isArray=d.isArray,o.isClass=d.isClass,o.isDOMElement=d.isDOMElement,o.isFunction=d.isFunction,o.isNumber=d.isNumber,o.isObject=d.isObject,o.isString=d.isString,o.keys=d.keys,o.merge=d.merge,o.normalizeTickInterval=d.normalizeTickInterval,o.objectEach=d.objectEach,o.offset=d.offset,o.pad=d.pad,o.pick=d.pick,o.pInt=d.pInt,o.relativeLength=d.relativeLength,o.removeEvent=d.removeEvent,o.seriesType=P.seriesType,o.splat=d.splat,o.stableSort=d.stableSort,o.syncTimeout=d.syncTimeout,o.timeUnits=d.timeUnits,o.uniqueKey=d.uniqueKey,o.useSerialIds=d.useSerialIds,o.wrap=d.wrap,g.compose(f),X.compose(x),M.compose(G),S.compose(G),A.compose(b),D.compose(G),Y.compose($),V.compose(G,$,x),U.compose(ie),o}),r["masters/highcharts.src.js"]._modules=r,r["masters/highcharts.src.js"]})}(W3)),W3.exports}(function(e,t){(function(i,r){e.exports=r(z6(),I4)})(window,function(i,r){return h={},o.m=d=[function(s,v){s.exports=i},function(s,v){s.exports=r},function(s,K,R){R.r(K),R.d(K,"Chart",function(){return H}),R.d(K,"default",function(){return U});var K=R(0),k=R.n(K);function z(E,ie){return function te($,V,j){function x(P,f){!k.a.isObject(P,!j)||k.a.isClass(P)||k.a.isDOMElement(P)?$[f]=V[f]:$[f]=te($[f]||k.a.isArray(P)?[]:{},P,j)}return k.a.isArray(V)?V.forEach(x):k.a.objectEach(V,x),$}({},E,ie)}var q=R(1);function L(E){return function(ie){if(Array.isArray(ie))return O(ie)}(E)||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(E)||function(ie,te){if(ie){if(typeof ie=="string")return O(ie,te);var $=Object.prototype.toString.call(ie).slice(8,-1);return($=$==="Object"&&ie.constructor?ie.constructor.name:$)==="Map"||$==="Set"?Array.from(ie):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?O(ie,te):void 0}}(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O(E,ie){(ie==null||ie>E.length)&&(ie=E.length);for(var te=0,$=new Array(ie);te<ie;te++)$[te]=E[te];return $}function G(E,ie){var te,$=Object.keys(E);return Object.getOwnPropertySymbols&&(te=Object.getOwnPropertySymbols(E),ie&&(te=te.filter(function(V){return Object.getOwnPropertyDescriptor(E,V).enumerable})),$.push.apply($,te)),$}function M(E){for(var ie=1;ie<arguments.length;ie++){var te=arguments[ie]!=null?arguments[ie]:{};ie%2?G(Object(te),!0).forEach(function($){var V,j;V=E,$=te[j=$],j in V?Object.defineProperty(V,j,{value:$,enumerable:!0,configurable:!0,writable:!0}):V[j]=$}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(te)):G(Object(te)).forEach(function($){Object.defineProperty(E,$,Object.getOwnPropertyDescriptor(te,$))})}return E}function S(){this.chart&&this.chart.destroy()}var D=function(E,ie){return ie=ie.split(".")[0]<3?{render:function(te){return te("div",{ref:"chart"})},beforeDestroy:S}:{render:function(){return Object(q.h)("div",{ref:"chart"})},beforeUnmount:S},M({template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(te){var $;($=this.chart).update.apply($,[z(te,this.deepCopyOnUpdate)].concat(L(this.updateArgs)))},deep:!0}},mounted:function(){var te=this.highcharts||E;this.options&&te[this.constructorType]?this.chart=te[this.constructorType](this.$refs.chart,z(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}},ie)},H=D(k.a,q.version||R.n(q).a.version);function U(E){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};E.component(ie.tagName||"highcharts",D(ie.highcharts||k.a,E.version))}}],o.c=h,o.d=function(s,v,R){o.o(s,v)||Object.defineProperty(s,v,{enumerable:!0,get:R})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,v){if(1&v&&(s=o(s)),8&v||4&v&&typeof s=="object"&&s&&s.__esModule)return s;var R=Object.create(null);if(o.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:s}),2&v&&typeof s!="string")for(var K in s)o.d(R,K,(function(k){return s[k]}).bind(null,K));return R},o.n=function(s){var v=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(v,"a",v),v},o.o=function(s,v){return Object.prototype.hasOwnProperty.call(s,v)},o.p="",o(o.s=2);function o(s){if(h[s])return h[s].exports;var v=h[s]={i:s,l:!1,exports:{}};return d[s].call(v.exports,v,v.exports,o),v.l=!0,v.exports}var d,h})})(B6);var rm=B6.exports,VK=z6();const yc=tu(VK);var N6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},i(t,"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){function v(M,S,D,H,U){let E=!0;const ie=D[0],te=D[1],$=Math.sqrt(Math.pow(M-ie,2)+Math.pow(S-te,2));return k(H)&&k(U)&&(M=Math.atan2(K(S-te,8),K(M-ie,8)),U!==H&&(E=H>U?M>=H&&M<=Math.PI||M<=U&&M>=-Math.PI:M>=H&&M<=K(U,8))),$<=Math.ceil(D[2]/2)&&E}const{addEvent:R,correctFloat:K,defined:k,extend:z,merge:q,pick:L,splat:O}=s;r.prototype.collectionsWithUpdate.push("pane");class G{constructor(S,D){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(S,D)}init(S,D){this.chart=D,this.background=[],D.pane.push(this),this.setOptions(S)}setOptions(S){this.options=q(this.defaultOptions,this.chart.angular?{background:{}}:void 0,S)}render(){var S=this.options;let D=this.options.background;var H=this.chart.renderer;if(this.group||(this.group=H.g("pane-group").attr({zIndex:S.zIndex||0}).add()),this.updateCenter(),D)for(D=O(D),S=Math.max(D.length,this.background.length||0),H=0;H<S;H++)D[H]&&this.axis?this.renderBackground(q(this.defaultBackgroundOptions,D[H]),H):this.background[H]&&(this.background[H]=this.background[H].destroy(),this.background.splice(H,1))}renderBackground(S,D){let H="animate",U={class:"highcharts-pane "+(S.className||"")};this.chart.styledMode||z(U,{fill:S.backgroundColor,stroke:S.borderColor,"stroke-width":S.borderWidth}),this.background[D]||(this.background[D]=this.chart.renderer.path().add(this.group),H="attr"),this.background[D][H]({d:this.axis.getPlotBandPath(S.from,S.to,S)}).attr(U)}updateCenter(S){this.center=(S||this.axis||{}).center=o.getCenter.call(this)}update(S,D){q(!0,this.options,S),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(H){H.pane===this&&(H.pane=null,H.update({},D))},this)}}return r.prototype.getHoverPane=function(M){const S=this;let D;return M&&S.pane.forEach(H=>{v(M.chartX-S.plotLeft,M.chartY-S.plotTop,H.center)&&(D=H)}),D},R(r,"afterIsInsidePlot",function(M){this.polar&&(M.options.inverted&&([M.x,M.y]=[M.y,M.x]),M.isInsidePlot=this.pane.some(S=>v(M.x,M.y,S.center,S.axis&&S.axis.normalizedStartAngleRad,S.axis&&S.axis.normalizedEndAngleRad)))}),R(h,"beforeGetHoverData",function(M){const S=this.chart;S.polar?(S.hoverPane=S.getHoverPane(M),M.filter=function(D){return D.visible&&!(!M.shared&&D.directTouch)&&L(D.options.enableMouseTracking,!0)&&(!S.hoverPane||D.xAxis.pane===S.hoverPane)}):S.hoverPane=void 0}),R(h,"afterGetHoverData",function(M){const S=this.chart;M.hoverPoint&&M.hoverPoint.plotX&&M.hoverPoint.plotY&&S.hoverPane&&!v(M.hoverPoint.plotX,M.hoverPoint.plotY,S.hoverPane.center)&&(M.hoverPoint=void 0)}),d.Pane=G,d.Pane}),i(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){const{area:{prototype:{pointClass:d,pointClass:{prototype:h}}}}=r.seriesTypes,{defined:s,isNumber:v}=o;class R extends d{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const k=this.state,z=this.series,q=z.chart.polar;s(this.plotHigh)||(this.plotHigh=z.yAxis.toPixels(this.high,!0)),s(this.plotLow)||(this.plotLow=this.plotY=z.yAxis.toPixels(this.low,!0)),z.stateMarkerGraphic&&(z.lowerStateMarkerGraphic=z.stateMarkerGraphic,z.stateMarkerGraphic=z.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,q&&v(this.plotHighX)&&(this.plotX=this.plotHighX),h.setState.apply(this,arguments),this.state=k,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],q&&v(this.plotLowX)&&(this.plotX=this.plotLowX),z.stateMarkerGraphic&&(z.upperStateMarkerGraphic=z.stateMarkerGraphic,z.stateMarkerGraphic=z.lowerStateMarkerGraphic,z.lowerStateMarkerGraphic=void 0),h.setState.apply(this,arguments)}haloPath(){const k=this.series.chart.polar;let z=[];return this.plotY=this.plotLow,k&&v(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(z=h.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,k&&v(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(z=z.concat(h.haloPath.apply(this,arguments))),z}isValid(){return v(this.low)&&v(this.high)}}return R}),i(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{area:s,area:{prototype:v},column:{prototype:R}}=d.seriesTypes,{addEvent:K,defined:k,extend:z,isArray:q,isNumber:L,pick:O,merge:G}=h;class M extends s{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(D){return[D.low,D.high]}highToXY(D){const H=this.chart,U=this.xAxis.postTranslate(D.rectPlotX||0,this.yAxis.len-(D.plotHigh||0));D.plotHighX=U.x-H.plotLeft,D.plotHigh=U.y-H.plotTop,D.plotLowX=D.plotX}getGraphPath(D){var H=[],U=[];const E=v.getGraphPath;var ie=this.options;const te=this.chart.polar,$=te&&ie.connectEnds!==!1,V=ie.connectNulls;let j,x,P,f=ie.step;for(D=D||this.points,j=D.length;j--;){x=D[j];const g=te?{plotX:x.rectPlotX,plotY:x.yBottom,doCurve:!1}:{plotX:x.plotX,plotY:x.plotY,doCurve:!1};x.isNull||$||V||D[j+1]&&!D[j+1].isNull||U.push(g),P={polarPlotY:x.polarPlotY,rectPlotX:x.rectPlotX,yBottom:x.yBottom,plotX:O(x.plotHighX,x.plotX),plotY:x.plotHigh,isNull:x.isNull},U.push(P),H.push(P),x.isNull||$||V||D[j-1]&&!D[j-1].isNull||U.push(g)}return D=E.call(this,D),f&&(f===!0&&(f="left"),ie.step={left:"right",center:"center",right:"left"}[f]),H=E.call(this,H),U=E.call(this,U),ie.step=f,ie=[].concat(D,H),!this.chart.polar&&U[0]&&U[0][0]==="M"&&(U[0]=["L",U[0][1],U[0][2]]),this.graphPath=ie,this.areaPath=D.concat(U),ie.isArea=!0,ie.xMap=D.xMap,this.areaPath.xMap=D.xMap,ie}drawDataLabels(){const D=this.points,H=D.length,U=[],E=this.options.dataLabels,ie=this.chart.inverted;let te,$,V,j,x;if(E){if(q(E)?(j=E[0]||{enabled:!1},x=E[1]||{enabled:!1}):(j=z({},E),j.x=E.xHigh,j.y=E.yHigh,x=z({},E),x.x=E.xLow,x.y=E.yLow),j.enabled||this._hasPointLabels){for(te=H;te--;)if($=D[te]){const{plotHigh:P=0,plotLow:f=0}=$;V=j.inside?P<f:P>f,$.y=$.high,$._plotY=$.plotY,$.plotY=P,U[te]=$.dataLabel,$.dataLabel=$.dataLabelUpper,$.below=V,ie?j.align||(j.align=V?"right":"left"):j.verticalAlign||(j.verticalAlign=V?"top":"bottom")}for(this.options.dataLabels=j,v.drawDataLabels&&v.drawDataLabels.apply(this,arguments),te=H;te--;)($=D[te])&&($.dataLabelUpper=$.dataLabel,$.dataLabel=U[te],delete $.dataLabels,$.y=$.low,$.plotY=$._plotY)}if(x.enabled||this._hasPointLabels){for(te=H;te--;)if($=D[te]){const{plotHigh:P=0,plotLow:f=0}=$;V=x.inside?P<f:P>f,$.below=!V,ie?x.align||(x.align=V?"left":"right"):x.verticalAlign||(x.verticalAlign=V?"bottom":"top")}this.options.dataLabels=x,v.drawDataLabels&&v.drawDataLabels.apply(this,arguments)}if(j.enabled)for(te=H;te--;)($=D[te])&&($.dataLabels=[$.dataLabelUpper,$.dataLabel].filter(function(P){return!!P}));this.options.dataLabels=E}}alignDataLabel(){R.alignDataLabel.apply(this,arguments)}drawPoints(){const D=this.points.length;let H,U;for(v.drawPoints.apply(this,arguments),H=0;H<D;)U=this.points[H],U.graphics=U.graphics||[],U.origProps={plotY:U.plotY,plotX:U.plotX,isInside:U.isInside,negative:U.negative,zone:U.zone,y:U.y},(U.graphic||U.graphics[0])&&(U.graphics[0]=U.graphic),U.graphic=U.graphics[1],U.plotY=U.plotHigh,k(U.plotHighX)&&(U.plotX=U.plotHighX),U.y=O(U.high,U.origProps.y),U.negative=U.y<(this.options.threshold||0),this.zones.length&&(U.zone=U.getZone()),this.chart.polar||(U.isInside=U.isTopInside=typeof U.plotY<"u"&&0<=U.plotY&&U.plotY<=this.yAxis.len&&0<=U.plotX&&U.plotX<=this.xAxis.len),H++;for(v.drawPoints.apply(this,arguments),H=0;H<D;)U=this.points[H],U.graphics=U.graphics||[],(U.graphic||U.graphics[1])&&(U.graphics[1]=U.graphic),U.graphic=U.graphics[0],U.origProps&&(z(U,U.origProps),delete U.origProps),H++}}return M.defaultOptions=G(s.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),K(M,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(S=>{const D=S.high,H=S.plotY;S.isNull?S.plotY=void 0:(S.plotLow=H,S.plotHigh=L(D)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(D):D,!1,!0,void 0,!0):void 0,this.dataModify&&(S.yBottom=S.plotHigh))})},{order:0}),K(M,"afterTranslate",function(){this.points.forEach(S=>{if(this.chart.polar)this.highToXY(S),S.plotLow=S.plotY,S.tooltipPos=[((S.plotHighX||0)+(S.plotLowX||0))/2,((S.plotHigh||0)+(S.plotLow||0))/2];else{const D=S.pos(!1,S.plotLow),H=S.pos(!1,S.plotHigh);D&&H&&(D[0]=(D[0]+H[0])/2,D[1]=(D[1]+H[1])/2),S.tooltipPos=D}})},{order:3}),z(M.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:r,pointValKey:"low",setStackedPoints:o}),d.registerSeriesType("arearange",M),M}),i(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){const{spline:{prototype:h}}=o.seriesTypes,{merge:s,extend:v}=d;class R extends r{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return R.defaultOptions=s(r.defaultOptions),v(R.prototype,{getPointSpline:h.getPointSpline}),o.registerSeriesType("areasplinerange",R),R}),i(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{extend:s,merge:v,pick:R}=h;class K extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const z=this.yAxis,q=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(L){q.forEach(function(O){L[O]!==null&&(L[O+"Plot"]=z.translate(L[O],0,1,0,1))}),L.plotHigh=L.highPlot})}drawPoints(){let z=this,q=z.options,L=z.chart,O=L.renderer,G,M,S,D,H,U,E=0,ie,te,$,V,j=z.doQuartiles!==!1,x,P=z.options.whiskerLength;z.points.forEach(function(f){var g=f.graphic;let b=g?"animate":"attr",A=f.shapeArgs,X={},Y={},J={},ce={},pe=f.color||z.color;typeof f.plotY<"u"&&(ie=Math.round(A.width),te=Math.floor(A.x),$=te+ie,V=Math.round(ie/2),G=Math.floor(j?f.q1Plot:f.lowPlot),M=Math.floor(j?f.q3Plot:f.lowPlot),S=Math.floor(f.highPlot),D=Math.floor(f.lowPlot),g||(f.graphic=g=O.g("point").add(z.group),f.stem=O.path().addClass("highcharts-boxplot-stem").add(g),P&&(f.whiskers=O.path().addClass("highcharts-boxplot-whisker").add(g)),j&&(f.box=O.path(void 0).addClass("highcharts-boxplot-box").add(g)),f.medianShape=O.path(void 0).addClass("highcharts-boxplot-median").add(g)),L.styledMode||(Y.stroke=f.stemColor||q.stemColor||pe,Y["stroke-width"]=R(f.stemWidth,q.stemWidth,q.lineWidth),Y.dashstyle=f.stemDashStyle||q.stemDashStyle||q.dashStyle,f.stem.attr(Y),P&&(J.stroke=f.whiskerColor||q.whiskerColor||pe,J["stroke-width"]=R(f.whiskerWidth,q.whiskerWidth,q.lineWidth),J.dashstyle=f.whiskerDashStyle||q.whiskerDashStyle||q.dashStyle,f.whiskers.attr(J)),j&&(X.fill=f.fillColor||q.fillColor||pe,X.stroke=q.lineColor||pe,X["stroke-width"]=q.lineWidth||0,X.dashstyle=f.boxDashStyle||q.boxDashStyle||q.dashStyle,f.box.attr(X)),ce.stroke=f.medianColor||q.medianColor||pe,ce["stroke-width"]=R(f.medianWidth,q.medianWidth,q.lineWidth),ce.dashstyle=f.medianDashStyle||q.medianDashStyle||q.dashStyle,f.medianShape.attr(ce)),U=f.stem.strokeWidth()%2/2,E=te+V+U,g=[["M",E,M],["L",E,S],["M",E,G],["L",E,D]],f.stem[b]({d:g}),j&&(U=f.box.strokeWidth()%2/2,G=Math.floor(G)+U,M=Math.floor(M)+U,te+=U,$+=U,g=[["M",te,M],["L",te,G],["L",$,G],["L",$,M],["L",te,M],["Z"]],f.box[b]({d:g})),P&&(U=f.whiskers.strokeWidth()%2/2,S+=U,D+=U,x=/%$/.test(P)?V*parseFloat(P)/100:P/2,g=[["M",E-x,S],["L",E+x,S],["M",E-x,D],["L",E+x,D]],f.whiskers[b]({d:g})),H=Math.round(f.medianPlot),U=f.medianShape.strokeWidth()%2/2,H+=U,g=[["M",te,H],["L",$,H]],f.medianShape[b]({d:g}))})}toYData(z){return[z.low,z.q1,z.median,z.q3,z.high]}}return K.defaultOptions=v(r.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),s(K.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:o,setStackedPoints:o}),d.registerSeriesType("boxplot",K),K}),i(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),i(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{parse:s}=r,{noop:v}=d,{arrayMax:R,arrayMin:K,isNumber:k,merge:z,pick:q,stableSort:L}=h;class O{constructor(M,S){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=v,this.init(M,S)}init(M,S){this.options=M,this.visible=!0,this.chart=S.chart,this.legend=S}addToLegend(M){M.splice(this.options.legendIndex,0,this)}drawLegendSymbol(M){const S=q(M.options.itemDistance,20),D=this.legendItem||{},H=this.options;var U=H.ranges,E=H.connectorDistance;if(U&&U.length&&k(U[0].value)){L(U,function(te,$){return $.value-te.value}),this.ranges=U,this.setOptions(),this.render(),M=this.getMaxLabelSize();var ie=this.ranges[0].radius;U=2*ie,E=E-ie+M.width,E=0<E?E:0,this.maxLabel=M,this.movementX=H.labels.align==="left"?E:0,D.labelWidth=U+E+S,D.labelHeight=U+M.height/2}else M.options.bubbleLegend.autoRanges=!0}setOptions(){const M=this.ranges,S=this.options,D=this.chart.series[S.seriesIndex],H=this.legend.baseline,U={zIndex:S.zIndex,"stroke-width":S.borderWidth},E={zIndex:S.zIndex,"stroke-width":S.connectorWidth},ie={align:this.legend.options.rtl||S.labels.align==="left"?"right":"left",zIndex:S.zIndex},te=D.options.marker.fillOpacity,$=this.chart.styledMode;M.forEach(function(V,j){$||(U.stroke=q(V.borderColor,S.borderColor,D.color),U.fill=q(V.color,S.color,te!==1?s(D.color).setOpacity(te).get("rgba"):D.color),E.stroke=q(V.connectorColor,S.connectorColor,D.color)),M[j].radius=this.getRangeRadius(V.value),M[j]=z(M[j],{center:M[0].radius-M[j].radius+H}),$||z(!0,M[j],{bubbleAttribs:z(U),connectorAttribs:z(E),labelAttribs:ie})},this)}getRangeRadius(M){const S=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,S.ranges[S.ranges.length-1].value,S.ranges[0].value,S.minSize,S.maxSize,M)}render(){const M=this.legendItem||{},S=this.chart.renderer,D=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),M.symbol=S.g("bubble-legend"),M.label=S.g("bubble-legend-item"),M.symbol.translateX=0,M.symbol.translateY=0,M.symbol.add(M.label),M.label.add(M.group);for(const H of this.ranges)H.value>=D&&this.renderRange(H);this.hideOverlappingLabels()}renderRange(M){var S=this.options;const D=S.labels;var H=this.chart;const U=H.series[S.seriesIndex],E=H.renderer,ie=this.symbols;H=ie.labels;const te=M.center,$=Math.abs(M.radius);var V=S.connectorDistance||0;const j=D.align,x=S.connectorWidth,P=this.ranges[0].radius||0,f=te-$-S.borderWidth/2+x/2,g=E.styledMode;V=this.legend.options.rtl||j==="left"?-V:V,j==="center"&&(V=0,S.connectorDistance=0,M.labelAttribs.align="center"),ie.bubbleItems.push(E.circle(P,te+((f%1?1:.5)-(x%2?0:.5)),$).attr(g?{}:M.bubbleAttribs).addClass((g?"highcharts-color-"+U.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(S.className||"")).add(this.legendItem.symbol)),ie.connectors.push(E.path(E.crispLine([["M",P,f],["L",P+V,f]],S.connectorWidth)).attr(g?{}:M.connectorAttribs).addClass((g?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(S.connectorClassName||"")).add(this.legendItem.symbol)),M=E.text(this.formatLabel(M)).attr(g?{}:M.labelAttribs).css(g?{}:D.style).addClass("highcharts-bubble-legend-labels "+(S.labels.className||"")).add(this.legendItem.symbol),S={x:P+V+S.labels.x,y:f+S.labels.y+.4*M.getBBox().height},M.attr(S),H.push(M),M.placed=!0,M.alignAttr=S}getMaxLabelSize(){let M,S;return this.symbols.labels.forEach(function(D){S=D.getBBox(!0),M=M?S.width>M.width?S:M:S}),M||{}}formatLabel(M){var S=this.options;const D=S.labels.formatter;S=S.labels.format;const{numberFormatter:H}=this.chart;return S?o.format(S,M):D?D.call(M):H(M.value,1)}hideOverlappingLabels(){const M=this.chart,S=this.symbols;!this.options.labels.allowOverlap&&S&&(M.hideOverlappingLabels(S.labels),S.labels.forEach(function(D,H){D.newOpacity?D.newOpacity!==D.oldOpacity&&S.connectors[H].show():S.connectors[H].hide()}))}getRanges(){const M=this.legend.bubbleLegend,S=M.options.ranges;let D,H,U=Number.MAX_VALUE,E=-Number.MAX_VALUE;return M.chart.series.forEach(function(ie){ie.isBubble&&!ie.ignoreSeries&&(H=ie.zData.filter(k),H.length&&(U=q(ie.options.zMin,Math.min(U,Math.max(K(H),ie.options.displayNegative===!1?ie.options.zThreshold:-Number.MAX_VALUE))),E=q(ie.options.zMax,Math.max(E,R(H)))))}),D=U===E?[{value:E}]:[{value:U},{value:(U+E)/2},{value:E,autoRanges:!0}],S.length&&S[0].radius&&D.reverse(),D.forEach(function(ie,te){S&&S[te]&&(D[te]=z(S[te],ie))}),D}predictBubbleSizes(){var M=this.chart,S=M.legend.options,D=S.floating;const H=(S=S.layout==="horizontal")?M.legend.lastLineHeight:0,U=M.plotSizeX,E=M.plotSizeY;var ie=M.series[this.options.seriesIndex],te=ie.getPxExtremes();M=Math.ceil(te.minPxSize),te=Math.ceil(te.maxPxSize);const $=Math.min(E,U);return ie=ie.options.maxSize,D||!/%$/.test(ie)?D=te:(ie=parseFloat(ie),D=($+H)*ie/100/(ie/100+1),(S&&E-D>=U||!S&&U-D>=E)&&(D=te)),[M,Math.ceil(D)]}updateRanges(M,S){const D=this.legend.options.bubbleLegend;D.minSize=M,D.maxSize=S,D.ranges=this.getRanges()}correctSizes(){const M=this.legend,S=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(S.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,S.maxPxSize),M.render())}}return O}),i(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(r,o,d,h){function s(S,D,H){const U=this.legend;var E=0<=v(this);let ie,te;U&&U.options.enabled&&U.bubbleLegend&&U.options.bubbleLegend.autoRanges&&E?(ie=U.bubbleLegend.options,E=U.bubbleLegend.predictBubbleSizes(),U.bubbleLegend.updateRanges(E[0],E[1]),ie.placed||(U.group.placed=!1,U.allItems.forEach($=>{te=$.legendItem||{},te.group&&(te.group.translateY=null)})),U.render(),this.getMargins(),this.axes.forEach(function($){$.visible&&$.render(),ie.placed||($.setScale(),$.updateNames(),O($.ticks,function(V){V.isNew=!0,V.isNewLabel=!0}))}),ie.placed=!0,this.getMargins(),S.call(this,D,H),U.bubbleLegend.correctSizes(),z(U,R(U))):(S.call(this,D,H),U&&U.options.enabled&&U.bubbleLegend&&(U.render(),z(U,R(U))))}function v(S){S=S.series;let D=0;for(;D<S.length;){if(S[D]&&S[D].isBubble&&S[D].visible&&S[D].zData.length)return D;D++}return-1}function R(S){S=S.allItems;const D=[],H=S.length;let U,E,ie=0;for(E=0;E<H;E++){var te=S[E].legendItem||{};if(U=(S[E+1]||{}).legendItem||{},te.labelHeight&&(S[E].itemHeight=te.labelHeight),S[E]===S[H-1]||te.y!==U.y){for(D.push({height:0}),te=D[D.length-1],ie;ie<=E;ie++)S[ie].itemHeight>te.height&&(te.height=S[ie].itemHeight);te.step=E}}return D}function K(S){const D=this.bubbleLegend,H=this.options,U=H.bubbleLegend,E=v(this.chart);D&&D.ranges&&D.ranges.length&&(U.ranges.length&&(U.autoRanges=!!U.ranges[0].autoRanges),this.destroyItem(D)),0<=E&&H.enabled&&U.enabled&&(U.seriesIndex=E,this.bubbleLegend=new o(U,this),this.bubbleLegend.addToLegend(S.allItems))}function k(S){if(S.defaultPrevented)return!1;var D=this.chart;S=this.visible;const H=this.chart.legend;H&&H.bubbleLegend&&(this.visible=!S,this.ignoreSeries=S,D=0<=v(D),H.bubbleLegend.visible!==D&&(H.update({bubbleLegend:{enabled:D}}),H.bubbleLegend.visible=D),this.visible=S)}function z(S,D){const H=S.options.rtl;let U,E,ie,te,$=0;S.allItems.forEach((V,j)=>{te=V.legendItem||{},te.group&&(U=te.group.translateX||0,E=te.y||0,((ie=V.movementX)||H&&V.ranges)&&(ie=H?U-V.options.maxSize/2:U+ie,te.group.attr({translateX:ie})),j>D[$].step&&$++,te.group.attr({translateY:Math.round(E+D[$].height/2)}),te.y=E+D[$].height/2)})}const{setOptions:q}=d,{addEvent:L,objectEach:O,wrap:G}=h,M=[];return{compose:function(S,D,H){h.pushUnique(M,S)&&(q({legend:{bubbleLegend:r}}),G(S.prototype,"drawChartBox",s)),h.pushUnique(M,D)&&L(D,"afterGetAllItems",K),h.pushUnique(M,H)&&L(H,"legendItemClick",k)}}}),i(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){({seriesTypes:{scatter:{prototype:{pointClass:o}}}}=o),{extend:d}=d;class h extends o{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(v){return r.prototype.haloPath.call(this,v===0?0:(this.marker&&this.marker.radius||0)+v)}}return d(h.prototype,{ttBelow:!1}),h}),i(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){function R(){const te=this.len,$=this.chart,V=this.isXAxis,j=V?"xData":"yData",x=this.min,P=this.max-x;let f=0,g=te,b=te/P,A;this.series.forEach(X=>{if(X.bubblePadding&&(X.visible||!$.options.chart.ignoreHiddenSeries)){A=this.allowZoomOutside=!0;const Y=X[j];if(V&&((X.onPoint||X).getRadii(0,0,X),X.onPoint&&(X.radii=X.onPoint.radii)),0<P){let J=Y.length;for(;J--;)if(D(Y[J])&&this.dataMin<=Y[J]&&Y[J]<=this.max){const ce=X.radii&&X.radii[J]||0;f=Math.min((Y[J]-x)*b-ce,f),g=Math.max((Y[J]-x)*b+ce,g)}}}}),A&&0<P&&!this.logarithmic&&(g-=te,b*=(te+Math.max(0,f)-Math.min(g,te))/te,[["min","userMin",f],["max","userMax",g]].forEach(X=>{typeof U(this.options[X[0]],this[X[1]])>"u"&&(this[X[0]]+=X[2]/b)}))}const{parse:K}=d;({noop:d}=h);const{series:k,seriesTypes:{column:{prototype:z},scatter:q}}=s,{addEvent:L,arrayMax:O,arrayMin:G,clamp:M,extend:S,isNumber:D,merge:H,pick:U}=v,E=[];class ie extends q{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose($,V,j,x){r.compose(V,j,x),v.pushUnique(E,$)&&($.prototype.beforePadding=R)}animate($){!$&&this.points.length<this.options.animationLimit&&this.points.forEach(function(V){const{graphic:j}=V;j&&j.width&&(this.hasRendered||j.attr({x:V.plotX,y:V.plotY,width:1,height:1}),j.animate(this.markerAttribs(V),this.options.animation))},this)}getRadii(){const $=this.zData,V=this.yData,j=[];let x,P,f,g=this.chart.bubbleZExtremes;const{minPxSize:b,maxPxSize:A}=this.getPxExtremes();if(!g){let X=Number.MAX_VALUE,Y=-Number.MAX_VALUE,J;this.chart.series.forEach(ce=>{ce.bubblePadding&&(ce.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(ce=(ce.onPoint||ce).getZExtremes())&&(X=Math.min(U(X,ce.zMin),ce.zMin),Y=Math.max(U(Y,ce.zMax),ce.zMax),J=!0)}),J?(g={zMin:X,zMax:Y},this.chart.bubbleZExtremes=g):g={zMin:0,zMax:0}}for(P=0,x=$.length;P<x;P++)f=$[P],j.push(this.getRadius(g.zMin,g.zMax,b,A,f,V&&V[P]));this.radii=j}getRadius($,V,j,x,P,f){const g=this.options,b=g.sizeBy!=="width",A=g.zThreshold;let X=V-$,Y=.5;if(f===null||P===null)return null;if(D(P)){if(g.sizeByAbsoluteValue&&(P=Math.abs(P-A),X=Math.max(V-A,Math.abs($-A)),$=0),P<$)return j/2-1;0<X&&(Y=(P-$)/X)}return b&&0<=Y&&(Y=Math.sqrt(Y)),Math.ceil(j+Y*(x-j))/2}hasData(){return!!this.processedXData.length}pointAttribs($,V){const j=this.options.marker.fillOpacity;return $=k.prototype.pointAttribs.call(this,$,V),j!==1&&($.fill=K($.fill).setOpacity(j).get("rgba")),$}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:$,radii:V}=this,{minPxSize:j}=this.getPxExtremes();let x=$.length;for(;x--;){const P=$[x],f=V?V[x]:0;D(f)&&f>=j/2?(P.marker=S(P.marker,{radius:f,width:2*f,height:2*f}),P.dlBox={x:P.plotX-f,y:P.plotY-f,width:2*f,height:2*f}):(P.shapeArgs=P.plotY=P.dlBox=void 0,P.isInside=!1)}}getPxExtremes(){const $=Math.min(this.chart.plotWidth,this.chart.plotHeight);var V=x=>{let P;return typeof x=="string"&&(P=/%$/.test(x),x=parseInt(x,10)),P?$*x/100:x};const j=V(U(this.options.minSize,8));return V=Math.max(V(U(this.options.maxSize,"20%")),j),{minPxSize:j,maxPxSize:V}}getZExtremes(){var $=this.options;const V=(this.zData||[]).filter(D);if(V.length){const j=U($.zMin,M(G(V),$.displayNegative===!1?$.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if($=U($.zMax,O(V)),D(j)&&D($))return{zMin:j,zMax:$}}}}return ie.defaultOptions=H(q.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:te}=this.series.chart,{z:$}=this.point;return D($)?te($,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),S(ie.prototype,{alignDataLabel:z.alignDataLabel,applyZones:d,bubblePadding:!0,buildKDTree:d,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:o,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),L(ie,"updatedData",te=>{delete te.target.chart.bubbleZExtremes}),L(ie,"remove",te=>{delete te.target.chart.bubbleZExtremes}),s.registerSeriesType("bubble",ie),ie}),i(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){const{seriesTypes:{column:{prototype:{pointClass:{prototype:d}}},arearange:{prototype:{pointClass:h}}}}=r,{extend:s,isNumber:v}=o;class R extends h{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return v(this.low)}}return s(R.prototype,{setState:d.setState}),R}),i(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{seriesTypes:{arearange:s,column:v,column:{prototype:R}}}=d,{addEvent:K,clamp:k,extend:z,isNumber:q,merge:L,pick:O}=h;class G extends s{setOptions(){return L(!0,arguments[0],{stacking:void 0}),s.prototype.setOptions.apply(this,arguments)}translate(){return R.translate.apply(this)}pointAttribs(){return R.pointAttribs.apply(this,arguments)}translate3dPoints(){return R.translate3dPoints.apply(this,arguments)}translate3dShapes(){return R.translate3dShapes.apply(this,arguments)}}return G.defaultOptions=L(v.defaultOptions,s.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),K(G,"afterColumnTranslate",function(){const M=this.yAxis,S=this.xAxis,D=S.startAngleRad,H=this.chart,U=this.xAxis.isRadial,E=Math.max(H.chartWidth,H.chartHeight)+999;let ie,te,$,V;this.points.forEach(j=>{const x=j.shapeArgs||{},P=this.options.minPointLength,f=j.plotY,g=M.translate(j.high,0,1,0,1);if(q(g)&&q(f))if(j.plotHigh=k(g,-E,E),j.plotLow=k(f,-E,E),V=j.plotHigh,ie=O(j.rectPlotY,j.plotY)-j.plotHigh,Math.abs(ie)<P?(te=P-ie,ie+=te,V-=te/2):0>ie&&(ie*=-1,V-=ie),U&&this.polar)$=j.barX+D,j.shapeType="arc",j.shapeArgs=this.polar.arc(V+ie,V,$,$+j.pointWidth);else{x.height=ie,x.y=V;const{x:b=0,width:A=0}=x;j.shapeArgs=L(j.shapeArgs,this.crispCol(b,V,A,ie)),j.tooltipPos=H.inverted?[M.len+M.pos-H.plotLeft-V-ie/2,S.len+S.pos-H.plotTop-b-A/2,ie]:[S.left-H.plotLeft+b+A/2,M.pos-H.plotTop+V+ie/2,ie]}})},{order:5}),z(G.prototype,{directTouch:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:R.adjustForMissingColumns,animate:R.animate,crispCol:R.crispCol,drawGraph:o,drawPoints:R.drawPoints,getSymbol:o,drawTracker:R.drawTracker,getColumnMetrics:R.getColumnMetrics}),d.registerSeriesType("columnrange",G),G}),i(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){const{prototype:h}=r,{clamp:s,merge:v,pick:R}=d;class K extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let z=this,q=z.chart,L=z.options;var O=z.dense=2>z.closestPointRange*z.xAxis.transA;O=z.borderWidth=R(L.borderWidth,O?0:1);let G=z.yAxis,M=L.threshold,S=z.translatedThreshold=G.getThreshold(M),D=R(L.minPointLength,5),H=z.getColumnMetrics(),U=H.width,E=z.barW=Math.max(U,1+2*O),ie=z.pointXOffset=H.offset;q.inverted&&(S-=.5),L.pointPadding&&(E=Math.ceil(E)),h.translate.apply(z),z.points.forEach(function(te){var $=R(te.yBottom,S),V=999+Math.abs($),j=s(te.plotY,-V,G.len+V);V=te.plotX+ie;let x=E/2,P=Math.min(j,$);$=Math.max(j,$)-P;var f;let g,b;te.barX=V,te.pointWidth=U,te.tooltipPos=q.inverted?[G.len+G.pos-q.plotLeft-j,z.xAxis.len-V-x,$]:[V+x,j+G.pos-q.plotTop,$],j=M+(te.total||te.y),L.stacking==="percent"&&(j=M+(0>te.y)?-100:100),j=G.toPixels(j,!0);var A=(f=q.plotHeight-j-(q.plotHeight-S))?x*(P-j)/f:0,X=f?x*(P+$-j)/f:0;f=V-A+x,A=V+A+x;var Y=V+X+x;X=V-X+x,g=P-D,b=P+$,0>te.y&&(g=P,b=P+$+D),q.inverted&&(Y=G.width-P,f=j-(G.width-S),A=x*(j-Y)/f,X=x*(j-(Y-$))/f,f=V+x+A,A=f-2*A,Y=V-X+x,X=V+X+x,g=P,b=P+$-D,0>te.y&&(b=P+$+D)),te.shapeType="path",te.shapeArgs={x:f,y:g,width:A-f,height:$,d:[["M",f,g],["L",A,g],["L",Y,b],["L",X,b],["Z"]]}})}}return K.defaultOptions=v(r.defaultOptions,{}),o.registerSeriesType("columnpyramid",K),K}),i(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),i(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{arearange:v}=h.seriesTypes,{addEvent:R,merge:K,extend:k}=s;class z extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||o.prototype.getColumnMetrics.call(this)}drawDataLabels(){const L=this.pointValKey;v&&(v.prototype.drawDataLabels.call(this),this.data.forEach(function(O){O.y=O[L]}))}toYData(L){return[L.low,L.high]}}return z.defaultOptions=K(r.defaultOptions,d),R(z,"afterTranslate",function(){this.points.forEach(q=>{q.plotLow=q.plotY})},{order:0}),k(z.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),h.registerSeriesType("errorbar",z),z}),i(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({series:{prototype:{pointClass:r}}}=r);class o extends r{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(h){this.state=h}}return o}),i(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{series:s,seriesTypes:{column:v}}=d,{clamp:R,isNumber:K,extend:k,merge:z,pick:q,pInt:L,defined:O}=h;class G extends s{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const S=this.yAxis,D=this.options,H=S.center;this.generatePoints(),this.points.forEach(U=>{const E=z(D.dial,U.dial),ie=L(E.radius)*H[2]/200,te=L(E.baseLength)*ie/100,$=L(E.rearLength)*ie/100,V=E.baseWidth,j=E.topWidth;let x=D.overshoot,P=S.startAngleRad+S.translate(U.y,void 0,void 0,void 0,!0);(K(x)||D.wrap===!1)&&(x=K(x)?x/180*Math.PI:0,P=R(P,S.startAngleRad-x,S.endAngleRad+x)),P=180*P/Math.PI,U.shapeType="path",U.shapeArgs={d:E.path||[["M",-$,-V/2],["L",te,-V/2],["L",ie,-j/2],["L",ie,j/2],["L",te,V/2],["L",-$,V/2],["Z"]],translateX:H[0],translateY:H[1],rotation:P},U.plotX=H[0],U.plotY=H[1],O(U.y)&&S.max-S.min&&(U.percentage=(U.y-S.min)/(S.max-S.min)*100)})}drawPoints(){const S=this,D=S.chart,H=S.yAxis.center,U=S.pivot,E=S.options,ie=E.pivot,te=D.renderer;S.points.forEach($=>{const V=$.graphic,j=$.shapeArgs,x=j.d,P=z(E.dial,$.dial);V?(V.animate(j),j.d=x):$.graphic=te[$.shapeType](j).addClass("highcharts-dial").add(S.group),D.styledMode||$.graphic[V?"animate":"attr"]({stroke:P.borderColor,"stroke-width":P.borderWidth,fill:P.backgroundColor})}),U?U.animate({translateX:H[0],translateY:H[1]}):ie&&(S.pivot=te.circle(0,0,ie.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(H[0],H[1]).add(S.group),D.styledMode||S.pivot.attr({fill:ie.backgroundColor,stroke:ie.borderColor,"stroke-width":ie.borderWidth}))}animate(S){const D=this;S||D.points.forEach(H=>{const U=H.graphic;U&&(U.attr({rotation:180*D.yAxis.startAngleRad/Math.PI}),U.animate({rotation:H.shapeArgs.rotation},D.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),s.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(S,D){s.prototype.setData.call(this,S,!1),this.processData(),this.generatePoints(),q(D,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return G.defaultOptions=z(s.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),k(G.prototype,{angular:!0,directTouch:!0,drawGraph:o,drawTracker:v.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"]}),d.registerSeriesType("gauge",G),G}),i(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(r){function o(){const s=this;let v,R,K;s.container&&(v=d(s.container,"mousedown",k=>{const z=s.hoverPoint;z&&z.series&&z.series.hasDraggableNodes&&z.series.options.draggable&&(z.series.onMouseDown(z,k),R=d(s.container,"mousemove",q=>z&&z.series&&z.series.onMouseMove(z,q)),K=d(s.container.ownerDocument,"mouseup",q=>(R(),K(),z&&z.series&&z.series.onMouseUp(z,q))))})),d(s,"destroy",function(){v()})}const{addEvent:d}=r,h=[];return{compose:function(s){r.pushUnique(h,s)&&d(s,"load",o)},onMouseDown:function(s,v){v=this.chart.pointer.normalize(v),s.fixedPosition={chartX:v.chartX,chartY:v.chartY,plotX:s.plotX,plotY:s.plotY},s.inDragMode=!0},onMouseMove:function(s,v){if(s.fixedPosition&&s.inDragMode){const k=this.chart;v=k.pointer.normalize(v);var R=s.fixedPosition.chartX-v.chartX,K=s.fixedPosition.chartY-v.chartY;v=k.graphLayoutsLookup,(5<Math.abs(R)||5<Math.abs(K))&&(R=s.fixedPosition.plotX-R,K=s.fixedPosition.plotY-K,k.isInsidePlot(R,K)&&(s.plotX=R,s.plotY=K,s.hasDragged=!0,this.redrawHalo(s),v.forEach(z=>{z.restartSimulation()})))}},onMouseUp:function(s,v){s.fixedPosition&&(s.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),s.inDragMode=s.hasDragged=!1,this.options.fixedDraggable||delete s.fixedPosition)},redrawHalo:function(s){s&&this.halo&&this.halo.attr({d:s.haloPath(this.options.states.hover.halo.size)})}}}),i(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(r,o){function d(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(z=>{z.updateSimulation()}),this.redraw())}function h(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(z=>{z.updateSimulation(!1)}),this.redraw())}function s(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(z=>{z.stop()})}function v(){let z,q=!1;const L=O=>{O.maxIterations--&&isFinite(O.temperature)&&!O.isStable()&&!O.enableSimulation&&(O.beforeStep&&O.beforeStep(),O.step(),z=!1,q=!0)};if(this.graphLayoutsLookup){for(R(!1,this),this.graphLayoutsLookup.forEach(O=>O.start());!z;)z=!0,this.graphLayoutsLookup.forEach(L);q&&this.series.forEach(O=>{O&&O.layout&&O.render()})}}const{setAnimation:R}=r,{addEvent:K}=o,k=[];return{compose:function(z){o.pushUnique(k,z)&&(K(z,"afterPrint",d),K(z,"beforePrint",h),K(z,"predraw",s),K(z,"render",v))},integrations:{},layouts:{}}}),i(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(r,o,d){({seriesTypes:{bubble:{prototype:{pointClass:d}}}}=d);class h extends d{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),o.prototype.destroy.apply(this,arguments)}firePointEvent(){const v=this.series.options;if(this.isParentNode&&v.parentNode){const R=v.allowPointSelect;v.allowPointSelect=v.parentNode.allowPointSelect,o.prototype.firePointEvent.apply(this,arguments),v.allowPointSelect=R}else o.prototype.firePointEvent.apply(this,arguments)}select(){const v=this.series.chart;this.isParentNode?(v.getSelectedPoints=v.getSelectedParentNodes,o.prototype.select.apply(this,arguments),v.getSelectedPoints=r.prototype.getSelectedPoints):o.prototype.select.apply(this,arguments)}}return h}),i(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(r){const{isNumber:o}=r;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:d}=this.series.chart,{value:h}=this.point;return o(h)?d(h,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),i(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(r,o,d){const h=r.getMass(),s=-d.x*o*this.diffTemperature;o=-d.y*o*this.diffTemperature,r.fromNode.fixedPosition||(r.fromNode.plotX-=s*h.fromNode/r.fromNode.degree,r.fromNode.plotY-=o*h.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.plotX+=s*h.toNode/r.toNode.degree,r.toNode.plotY+=o*h.toNode/r.toNode.degree)},attractiveForceFunction:function(r,o){return(o-r)/r},barycenter:function(){let r=this.options.gravitationalConstant,o=this.barycenter.xFactor,d=this.barycenter.yFactor;o=(o-(this.box.left+this.box.width)/2)*r,d=(d-(this.box.top+this.box.height)/2)*r,this.nodes.forEach(function(h){h.fixedPosition||(h.plotX-=o/h.mass/h.degree,h.plotY-=d/h.mass/h.degree)})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.5)},integrate:function(r,o){var d=-r.options.friction;let h=r.options.maxSpeed,s=(o.plotX+o.dispX-o.prevX)*d;d*=o.plotY+o.dispY-o.prevY;var v=Math.abs;let R=v(s)/(s||1);v=v(d)/(d||1),s=R*Math.min(h,Math.abs(s)),d=v*Math.min(h,Math.abs(d)),o.prevX=o.plotX+o.dispX,o.prevY=o.plotY+o.dispY,o.plotX+=s,o.plotY+=d,o.temperature=r.vectorLength({x:s,y:d})},repulsive:function(r,o,d){o=o*this.diffTemperature/r.mass/r.degree,r.fixedPosition||(r.plotX+=d.x*o,r.plotY+=d.y*o)},repulsiveForceFunction:function(r,o){return(o-r)/r*(o>r?1:0)}}}),i(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,o){return{noop:r}=r,{barycenter:function(){const d=this.options.gravitationalConstant,h=this.box,s=this.nodes;let v,R;for(const K of s)this.options.splitSeries&&!K.isParentNode?(v=K.series.parentNode.plotX,R=K.series.parentNode.plotY):(v=h.width/2,R=h.height/2),K.fixedPosition||(K.plotX-=(K.plotX-v)*d/(K.mass*Math.sqrt(s.length)),K.plotY-=(K.plotY-R)*d/(K.mass*Math.sqrt(s.length)))},getK:r,integrate:o.integrate,repulsive:function(d,h,s,v){const R=h*this.diffTemperature/d.mass/d.degree;h=s.x*R,s=s.y*R,d.fixedPosition||(d.plotX+=h,d.plotY+=s),v.fixedPosition||(v.plotX-=h,v.plotY-=s)},repulsiveForceFunction:function(d,h,s,v){return Math.min(d,(s.marker.radius+v.marker.radius)/2)}}}),i(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(r,o,d,h){const s=r.getMass(),v=d.x/h*o;o*=d.y/h,r.fromNode.fixedPosition||(r.fromNode.dispX-=v*s.fromNode/r.fromNode.degree,r.fromNode.dispY-=o*s.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.dispX+=v*s.toNode/r.toNode.degree,r.toNode.dispY+=o*s.toNode/r.toNode.degree)},attractiveForceFunction:function(r,o){return r*r/o},barycenter:function(){const r=this.options.gravitationalConstant,o=this.barycenter.xFactor,d=this.barycenter.yFactor;this.nodes.forEach(function(h){if(!h.fixedPosition){var s=h.getDegree();s*=1+s/2,h.dispX+=(o-h.plotX)*r*s/h.degree,h.dispY+=(d-h.plotY)*r*s/h.degree}})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.3)},integrate:function(r,o){let d;o.dispX+=o.dispX*r.options.friction,o.dispY+=o.dispY*r.options.friction,d=o.temperature=r.vectorLength({x:o.dispX,y:o.dispY}),d!==0&&(o.plotX+=o.dispX/d*Math.min(Math.abs(o.dispX),r.temperature),o.plotY+=o.dispY/d*Math.min(Math.abs(o.dispY),r.temperature))},repulsive:function(r,o,d,h){r.dispX+=d.x/h*o/r.degree,r.dispY+=d.y/h*o/r.degree},repulsiveForceFunction:function(r,o){return o*o/r}}}),i(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class r{constructor(d){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=d,this.boxSize=Math.min(d.width,d.height)}divideBox(){const d=this.box.width/2,h=this.box.height/2;this.nodes[0]=new r({left:this.box.left,top:this.box.top,width:d,height:h}),this.nodes[1]=new r({left:this.box.left+d,top:this.box.top,width:d,height:h}),this.nodes[2]=new r({left:this.box.left+d,top:this.box.top+h,width:d,height:h}),this.nodes[3]=new r({left:this.box.left,top:this.box.top+h,width:d,height:h})}getBoxPosition(d){const h=d.plotY<this.box.top+this.box.height/2;return d.plotX<this.box.left+this.box.width/2?h?0:3:h?1:2}insert(d,h){this.isInternal?this.nodes[this.getBoxPosition(d)].insert(d,h-1):(this.isEmpty=!1,this.body?h?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,h-1),this.body=!0),this.nodes[this.getBoxPosition(d)].insert(d,h-1)):(h=new r({top:d.plotX||NaN,left:d.plotY||NaN,width:.1,height:.1}),h.body=d,h.isInternal=!1,this.nodes.push(h)):(this.isInternal=!1,this.body=d))}updateMassAndCenter(){let d=0,h=0,s=0;if(this.isInternal){for(const v of this.nodes)v.isEmpty||(d+=v.mass,h+=v.plotX*v.mass,s+=v.plotY*v.mass);h/=d,s/=d}else this.body&&(d=this.body.mass,h=this.body.plotX,s=this.body.plotY);this.mass=d,this.plotX=h,this.plotY=s}}return r}),i(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(r){class o{constructor(h,s,v,R){this.box={left:h,top:s,width:v,height:R},this.maxDepth=25,this.root=new r(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(h){h.updateMassAndCenter()})}insertNodes(h){for(const s of h)this.root.insert(s,this.maxDepth)}visitNodeRecursive(h,s,v){let R;if(h||(h=this.root),h===this.root&&s&&(R=s(h)),R!==!1){for(const K of h.nodes){if(K.isInternal){if(s&&(R=s(K)),R===!1)continue;this.visitNodeRecursive(K,s,v)}else K.body&&s&&s(K.body);v&&v(K)}h===this.root&&v&&v(h)}}}return o}),i(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,o,d,h,s,v){const{win:R}=o,{clamp:K,defined:k,isFunction:z,fireEvent:q,pick:L}=s;class O{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(M){d.compose(M),d.integrations.euler=r,d.integrations.verlet=v,d.layouts["reingold-fruchterman"]=O}init(M){this.options=M,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=d.integrations[M.integration],this.enableSimulation=M.enableSimulation,this.attractiveForce=L(M.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=L(M.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=M.approximation}updateSimulation(M){this.enableSimulation=L(M,this.options.enableSimulation)}start(){const M=this.series,S=this.options;this.currentStep=0,this.forces=M[0]&&M[0].forces||[],this.chart=M[0]&&M[0].chart,this.initialRendering&&(this.initPositions(),M.forEach(function(D){D.finishedAnimating=!0,D.render()})),this.setK(),this.resetSimulation(S),this.enableSimulation&&this.step()}step(){const M=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const S of this.forces||[])this[S+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const S of M)S.chart&&S.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&R.cancelAnimationFrame(this.simulation),this.simulation=R.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(S=>{q(S,"afterSimulation")}))}}stop(){this.simulation&&R.cancelAnimationFrame(this.simulation)}setArea(M,S,D,H){this.box={left:M,top:S,width:D,height:H}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(M,S){for(const D of M)S.indexOf(D)===-1&&S.push(D)}removeElementFromCollection(M,S){M=S.indexOf(M),M!==-1&&S.splice(M,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(M){this.maxIterations=L(M,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(M){this.initialRendering=M}createQuadTree(){this.quadTree=new h(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const M=this.options.initialPositions;if(z(M)){M.call(this);for(const S of this.nodes)k(S.prevX)||(S.prevX=S.plotX),k(S.prevY)||(S.prevY=S.plotY),S.dispX=0,S.dispY=0}else M==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const M=this.box;var S=this.nodes;const D=2*Math.PI/(S.length+1),H=S.filter(function($){return $.linksTo.length===0}),U={},E=this.options.initialPositionRadius,ie=$=>{for(const V of $.linksFrom||[])U[V.toNode.id]||(U[V.toNode.id]=!0,te.push(V.toNode),ie(V.toNode))};let te=[];for(const $ of H)te.push($),ie($);if(te.length)for(const $ of S)te.indexOf($)===-1&&te.push($);else te=S;for(let $=0,V=te.length;$<V;++$)S=te[$],S.plotX=S.prevX=L(S.plotX,M.width/2+E*Math.cos($*D)),S.plotY=S.prevY=L(S.plotY,M.height/2+E*Math.sin($*D)),S.dispX=0,S.dispY=0}setRandomPositions(){const M=this.box,S=this.nodes,D=S.length+1,H=E=>(E=E*E/Math.PI,E-=Math.floor(E));let U;for(let E=0,ie=S.length;E<ie;++E)U=S[E],U.plotX=U.prevX=L(U.plotX,M.width*H(E)),U.plotY=U.prevY=L(U.plotY,M.height*H(D+E)),U.dispX=0,U.dispY=0}force(M,...S){this.integration[M].apply(this,S)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let M=0,S=0,D=0;for(const H of this.nodes)S+=H.plotX*H.mass,D+=H.plotY*H.mass,M+=H.mass;return this.barycenter={x:S,y:D,xFactor:S/M,yFactor:D/M}}barnesHutApproximation(M,S){const D=this.getDistXY(M,S),H=this.vectorLength(D);let U,E;return M!==S&&H!==0&&(S.isInternal?S.boxSize/H<this.options.theta&&H!==0?(E=this.repulsiveForce(H,this.k),this.force("repulsive",M,E*S.mass,D,H),U=!1):U=!0:(E=this.repulsiveForce(H,this.k),this.force("repulsive",M,E*S.mass,D,H))),U}repulsiveForces(){if(this.approximation==="barnes-hut")for(const M of this.nodes)this.quadTree.visitNodeRecursive(null,S=>this.barnesHutApproximation(M,S));else{let M,S,D;for(const H of this.nodes)for(const U of this.nodes)H===U||H.fixedPosition||(D=this.getDistXY(H,U),S=this.vectorLength(D),S!==0&&(M=this.repulsiveForce(S,this.k),this.force("repulsive",H,M*U.mass,D,S)))}}attractiveForces(){let M,S,D;for(const H of this.links)H.fromNode&&H.toNode&&(M=this.getDistXY(H.fromNode,H.toNode),S=this.vectorLength(M),S!==0&&(D=this.attractiveForce(S,this.k),this.force("attractive",H,D,M,S)))}applyLimits(){const M=this.nodes;for(const S of M){if(S.fixedPosition)break;this.integration.integrate(this,S),this.applyLimitBox(S,this.box),S.dispX=0,S.dispY=0}}applyLimitBox(M,S){const D=M.radius;M.plotX=K(M.plotX,S.left+D,S.width-D),M.plotY=K(M.plotY,S.top+D,S.height-D)}coolDown(M,S,D){return M-S*D}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let M=0;for(const S of this.nodes)M+=S.temperature;return M}vectorLength(M){return Math.sqrt(M.x*M.x+M.y*M.y)}getDistR(M,S){return M=this.getDistXY(M,S),this.vectorLength(M)}getDistXY(M,S){const D=M.plotX-S.plotX;return M=M.plotY-S.plotY,{x:D,y:M,absX:Math.abs(D),absY:Math.abs(M)}}}return O}),i(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(r,o,d,h){function s(){const q=[];return this.series.forEach(L=>{L.parentNode&&L.parentNode.selected&&q.push(L.parentNode)}),q}function v(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:R,pick:K}=h,k=[];class z extends d{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(L){d.compose(L),r.integrations.packedbubble=o,r.layouts.packedbubble=z,h.pushUnique(k,L)&&(R(L,"beforeRedraw",v),L.prototype.getSelectedParentNodes=s)}beforeStep(){this.options.marker&&this.series.forEach(L=>{L&&L.calculateParentRadius()})}isStable(){const L=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>L||0>=this.temperature}setCircularPositions(){const L=this.box;var O=this.nodes;const G=2*Math.PI/(O.length+1),M=this.options.initialPositionRadius;let S,D=0;for(const H of O)this.options.splitSeries&&!H.isParentNode?(O=H.series.parentNode.plotX,S=H.series.parentNode.plotY):(O=L.width/2,S=L.height/2),H.plotX=H.prevX=K(H.plotX,O+M*Math.cos(H.index||D*G)),H.plotY=H.prevY=K(H.plotY,S+M*Math.sin(H.index||D*G)),H.dispX=0,H.dispY=0,D++}repulsiveForces(){const L=this,O=L.options.bubblePadding;let G,M,S;L.nodes.forEach(D=>{D.degree=D.mass,D.neighbours=0,L.nodes.forEach(H=>{G=0,D===H||D.fixedPosition||!L.options.seriesInteraction&&D.series!==H.series||(S=L.getDistXY(D,H),M=L.vectorLength(S)-(D.marker.radius+H.marker.radius+O),0>M&&(D.degree+=.01,D.neighbours++,G=L.repulsiveForce(-M/Math.sqrt(D.neighbours),L.k,D,H)),L.force("repulsive",D,G*H.mass,S,H,M))})})}applyLimitBox(L,O){let G,M;this.options.splitSeries&&!L.isParentNode&&this.options.parentNodeLimit&&(G=this.getDistXY(L,L.series.parentNode),M=L.series.parentNodeRadius-L.marker.radius-this.vectorLength(G),0>M&&M>-2*L.marker.radius&&(L.plotX-=.01*G.x,L.plotY-=.01*G.y)),super.applyLimitBox(L,O)}}return r.layouts.packedbubble=z}),i(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(r,o){const{syncTimeout:d}=r,{animObject:h}=o;return{initDataLabels:function(){const s=this.options.dataLabels;if(!this.dataLabelsGroup){const v=this.initDataLabelsGroup();return!this.chart.styledMode&&(s!=null&&s.style)&&v.css(s.style),v.attr({opacity:0}),this.visible&&v.show(),v}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var s;const v=this.options.dataLabels;v!=null&&v.defer&&(!((s=this.options.layoutAlgorithm)===null||s===void 0)&&s.enableSimulation)?d(()=>{this.deferDataLabels=!1},v?h(v.animation).defer:0):this.deferDataLabels=!1}}}),i(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(r,o,d,h,s,v,R,K,k,z,q){const{parse:L}=r;({noop:r}=h);const{series:{prototype:O},seriesTypes:{bubble:G}}=K,{initDataLabels:M,initDataLabelsDefer:S}=k,{addEvent:D,clamp:H,defined:U,extend:E,fireEvent:ie,isArray:te,isNumber:$,merge:V,pick:j}=z;class x extends G{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(f,g,b,A){G.compose(f,g,b,A),o.compose(g),R.compose(g)}accumulateAllPoints(){const f=this.chart,g=[];let b;for(const A of f.series)if(A.is("packedbubble")&&A.visible||!f.options.chart.ignoreHiddenSeries){b=A.yData||[];for(let X=0;X<b.length;X++)g.push([null,null,b[X],A.index,X,{id:X,marker:{radius:0}}])}return g}addLayout(){const f=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},g=f.type||"packedbubble",b=this.chart.options.chart;let A=this.chart.graphLayoutsStorage,X=this.chart.graphLayoutsLookup,Y;A||(this.chart.graphLayoutsStorage=A={},this.chart.graphLayoutsLookup=X=[]),Y=A[g],Y||(f.enableSimulation=U(b.forExport)?!b.forExport:f.enableSimulation,A[g]=Y=new d.layouts[g],Y.init(f),X.splice(Y.index,0,Y)),this.layout=Y,this.points.forEach(J=>{J.mass=2,J.degree=1,J.collisionNmb=1}),Y.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),Y.addElementsToCollection([this],Y.series),Y.addElementsToCollection(this.points,Y.nodes)}addSeriesLayout(){var f=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const g=f.type||"packedbubble",b=this.chart.graphLayoutsStorage,A=this.chart.graphLayoutsLookup;f=V(f,f.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let X=b[g+"-series"];X||(b[g+"-series"]=X=new d.layouts[g],X.init(f),A.splice(X.index,0,X)),this.parentNodeLayout=X,this.createParentNodes()}calculateParentRadius(){const f=this.seriesBox();this.parentNodeRadius=H(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,f?Math.max(Math.sqrt(Math.pow(f.width,2)+Math.pow(f.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let f=this.options.zMin,g=this.options.zMax,b=1/0,A=-1/0;return f&&g?[f,g]:(this.chart.series.forEach(X=>{X.yData.forEach(Y=>{U(Y)&&(Y>A&&(A=Y),Y<b&&(b=Y))})}),f=j(f,b),g=j(g,A),[f,g])}checkOverlap(f,g){const b=f[0]-g[0],A=f[1]-g[1];return-.001>Math.sqrt(b*b+A*A)-Math.abs(f[2]+g[2])}createParentNodes(){const f=this.pointClass,g=this.chart,b=this.parentNodeLayout,A=this.layout.options;let X,Y=this.parentNode,J={radius:this.parentNodeRadius,lineColor:this.color,fillColor:L(this.color).brighten(.4).get()};A.parentNodeOptions&&(J=V(A.parentNodeOptions.marker||{},J)),this.parentNodeMass=0,this.points.forEach(ce=>{this.parentNodeMass+=Math.PI*Math.pow(ce.marker.radius,2)}),this.calculateParentRadius(),b.nodes.forEach(ce=>{ce.seriesIndex===this.index&&(X=!0)}),b.setArea(0,0,g.plotWidth,g.plotHeight),X||(Y||(Y=new f().init(this,{mass:this.parentNodeRadius/2,marker:J,dataLabels:{inside:!1},states:{normal:{marker:J},hover:{marker:J}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(Y.plotX=this.parentNode.plotX,Y.plotY=this.parentNode.plotY),this.parentNode=Y,b.addElementsToCollection([this],b.series),b.addElementsToCollection([Y],b.nodes))}deferLayout(){const f=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),f.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(f=>{f.removeElementFromCollection(this,f.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),O.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(O.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",O.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var f=this.chart,g=this.layout.options.parentNodeOptions.marker;g={fill:g.fillColor||L(this.color).brighten(.4).get(),opacity:g.fillOpacity,stroke:g.lineColor||this.color,"stroke-width":j(g.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,f.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var b=V({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},g);this.parentNode.graphic||(this.graph=this.parentNode.graphic=f.renderer.symbol(g.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(b)}}drawTracker(){const f=this.parentNode;let g;super.drawTracker(),f&&(g=te(f.dataLabels)?f.dataLabels:f.dataLabel?[f.dataLabel]:[],f.graphic&&(f.graphic.element.point=f),g.forEach(b=>{b.div?b.div.point=f:b.element.point=f}))}getPointRadius(){const f=this.chart,g=this.options,b=g.useSimulation,A=Math.min(f.plotWidth,f.plotHeight),X={},Y=[],J=f.allDataPoints||[],ce=J.length;let pe,fe,F,Q;["minSize","maxSize"].forEach(ue=>{const Ce=parseInt(g[ue],10),ne=/%$/.test(g[ue]);X[ue]=ne?A*Ce/100:Ce*Math.sqrt(ce)}),f.minRadius=pe=X.minSize/Math.sqrt(ce),f.maxRadius=fe=X.maxSize/Math.sqrt(ce);const se=b?this.calculateZExtremes():[pe,fe];J.forEach((ue,Ce)=>{F=b?H(ue[2],se[0],se[1]):ue[2],Q=this.getRadius(se[0],se[1],pe,fe,F),Q===0&&(Q=null),J[Ce][2]=Q,Y.push(Q)}),this.radii=Y}init(){return O.init.apply(this,arguments),S.call(this),this.eventsToUnbind.push(D(this,"updatedData",function(){this.chart.series.forEach(f=>{f.type===this.type&&(f.isDirty=!0)},this)})),this}onMouseUp(f){const g=f;if(g.fixedPosition&&!g.removed){const b=this.layout,A=this.parentNodeLayout;let X,Y;A&&b.options.dragBetweenSeries&&A.nodes.forEach(J=>{g&&g.marker&&J!==g.series.parentNode&&(X=b.getDistXY(g,J),Y=b.vectorLength(X)-J.marker.radius-g.marker.radius,0>Y&&(J.series.addPoint(V(g.options,{plotX:g.plotX,plotY:g.plotY}),!1),b.removeElementFromCollection(g,b.nodes),g.remove()))}),o.onMouseUp.apply(this,arguments)}}placeBubbles(f){const g=this.checkOverlap,b=this.positionBubble,A=[];let X=1,Y=0,J=0;var ce=[];let pe;if(f=f.sort((fe,F)=>F[2]-fe[2]),f.length){if(A.push([[0,0,f[0][2],f[0][3],f[0][4]]]),1<f.length)for(A.push([[0,0-f[1][2]-f[0][2],f[1][2],f[1][3],f[1][4]]]),pe=2;pe<f.length;pe++)f[pe][2]=f[pe][2]||1,ce=b(A[X][Y],A[X-1][J],f[pe]),g(ce,A[X][0])?(A.push([]),J=0,A[X+1].push(b(A[X][Y],A[X][0],f[pe])),X++,Y=0):1<X&&A[X-1][J+1]&&g(ce,A[X-1][J+1])?(J++,A[X].push(b(A[X][Y],A[X-1][J],f[pe])),Y++):(Y++,A[X].push(ce));this.chart.stages=A,this.chart.rawPositions=[].concat.apply([],A),this.resizeRadius(),ce=this.chart.rawPositions}return ce}pointAttribs(f,g){var b=this.options;let A=b.marker;return f&&f.isParentNode&&b.layoutAlgorithm&&b.layoutAlgorithm.parentNodeOptions&&(A=b.layoutAlgorithm.parentNodeOptions.marker),b=A.fillOpacity,f=O.pointAttribs.call(this,f,g),b!==1&&(f["fill-opacity"]=b),f}positionBubble(f,g,b){var A=Math.sqrt,X=Math.asin,Y=Math.acos;const J=Math.pow,ce=Math.abs;return A=A(J(f[0]-g[0],2)+J(f[1]-g[1],2)),Y=Y((J(A,2)+J(b[2]+g[2],2)-J(b[2]+f[2],2))/(2*(b[2]+g[2])*A)),X=X(ce(f[0]-g[0])/A),f=(0>f[1]-g[1]?0:Math.PI)+Y+X*(0>(f[0]-g[0])*(f[1]-g[1])?1:-1),[g[0]+(g[2]+b[2])*Math.sin(f),g[1]-(g[2]+b[2])*Math.cos(f),b[2],b[3],b[4]]}render(){const f=[];O.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(g=>{te(g.dataLabels)&&g.dataLabels.forEach(b=>{f.push(b)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(f))}resizeRadius(){const f=this.chart,g=f.rawPositions;var b=Math.min,A=Math.max;const X=f.plotLeft,Y=f.plotTop,J=f.plotHeight,ce=f.plotWidth;let pe,fe,F,Q,se;pe=F=Number.POSITIVE_INFINITY,fe=Q=Number.NEGATIVE_INFINITY;for(const ue of g)se=ue[2],pe=b(pe,ue[0]-se),fe=A(fe,ue[0]+se),F=b(F,ue[1]-se),Q=A(Q,ue[1]+se);if(A=[fe-pe,Q-F],b=b.apply([],[(ce-X)/A[0],(J-Y)/A[1]]),1e-10<Math.abs(b-1)){for(const ue of g)ue[2]*=b;this.placeBubbles(g)}else f.diffY=J/2+Y-F-(Q-F)/2,f.diffX=ce/2+X-pe-(fe-pe)/2}seriesBox(){const f=this.chart,g=Math.max,b=Math.min,A=[f.plotLeft,f.plotLeft+f.plotWidth,f.plotTop,f.plotTop+f.plotHeight];let X;return this.data.forEach(Y=>{U(Y.plotX)&&U(Y.plotY)&&Y.marker.radius&&(X=Y.marker.radius,A[0]=b(A[0],Y.plotX-X),A[1]=g(A[1],Y.plotX+X),A[2]=b(A[2],Y.plotY-X),A[3]=g(A[3],Y.plotY+X))}),$(A.width/A.height)?A:null}setVisible(){const f=this;O.setVisible.apply(f,arguments),f.parentNodeLayout&&f.graph?f.visible?(f.graph.show(),f.parentNode.dataLabel&&f.parentNode.dataLabel.show()):(f.graph.hide(),f.parentNodeLayout.removeElementFromCollection(f.parentNode,f.parentNodeLayout.nodes),f.parentNode.dataLabel&&f.parentNode.dataLabel.hide()):f.layout&&(f.visible?f.layout.addElementsToCollection(f.points,f.layout.nodes):f.points.forEach(g=>{f.layout.removeElementFromCollection(g,f.layout.nodes)}))}translate(){const f=this.chart,g=this.data,b=this.index,A=this.options.useSimulation;let X;if(this.processedXData=this.xData,this.generatePoints(),U(f.allDataPoints)||(f.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),A)var Y=f.allDataPoints;else Y=this.placeBubbles(f.allDataPoints),this.options.draggable=!1;for(const J of Y)J[3]===b&&(Y=g[J[4]],X=j(J[2],void 0),A||(Y.plotX=J[0]-f.plotLeft+f.diffX,Y.plotY=J[1]-f.plotTop+f.diffY),$(X)&&(Y.marker=E(Y.marker,{radius:X,width:2*X,height:2*X}),Y.radius=X));A&&this.deferLayout(),ie(this,"afterTranslate")}}return x.defaultOptions=V(G.defaultOptions,v),E(x.prototype,{pointClass:s,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:M,alignDataLabel:O.alignDataLabel,indexateNodes:r,onMouseDown:o.onMouseDown,onMouseMove:o.onMouseMove,redrawHalo:o.redrawHalo,searchPoint:r}),K.registerSeriesType("packedbubble",x),x}),i(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){({noop:r}=r);const{series:h,seriesTypes:{area:s,line:v,scatter:R}}=o,{extend:K,merge:k}=d;class z extends R{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let L=v.prototype.getGraphPath.call(this),O=L.length+1;for(;O--;)(O===L.length||L[O][0]==="M")&&0<O&&L.splice(O,0,["Z"]);return this.areaPath=L}drawGraph(){this.options.fillColor=this.color,s.prototype.drawGraph.call(this)}}return z.defaultOptions=k(R.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),K(z.prototype,{type:"polygon",drawTracker:h.prototype.drawTracker,setStackedPoints:r}),o.registerSeriesType("polygon",z),z}),i(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d,objectEach:h}=o;var s;return function(v){function R(){const L=this.waterfall.stacks;L&&(L.changed=!1,delete L.alreadyChanged)}function K(){const L=this.options.stackLabels;L&&L.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function k(){let L=this.axes,O=this.series,G=O.length;for(;G--;)O[G].options.stacking&&(L.forEach(function(M){M.isXAxis||(M.waterfall.stacks.changed=!0)}),G=0)}function z(){this.waterfall||(this.waterfall=new q(this))}class q{constructor(O){this.axis=O,this.stacks={changed:!1}}renderStackTotals(){const O=this.axis,G=O.waterfall.stacks,M=O.stacking&&O.stacking.stackTotalGroup,S=new r(O,O.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=S,M&&h(G,function(D){h(D,function(H,U){S.total=H.stackTotal,S.x=+U,H.label&&(S.label=H.label),r.prototype.render.call(S,M),H.label=S.label,delete S.label})}),S.total=null}}v.Composition=q,v.compose=function(L,O){d(L,"init",z),d(L,"afterBuildStacks",R),d(L,"afterRender",K),d(O,"beforeRedraw",k)}}(s||(s={})),s}),i(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(r,o,d){const{isNumber:h}=d;class s extends r.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let R=o.prototype.getClassName.call(this);return this.isSum?R+=" highcharts-sum":this.isIntermediateSum&&(R+=" highcharts-intermediate-sum"),R}isValid(){return h(this.y)||this.isSum||!!this.isIntermediateSum}}return s}),i(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],function(r,o,d,h,s,v){const{seriesTypes:{column:R,line:K}}=d,{addEvent:k,arrayMax:z,arrayMin:q,correctFloat:L,extend:O,isNumber:G,merge:M,objectEach:S,pick:D}=h;class H extends R{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){R.prototype.generatePoints.apply(this);for(let E=0,ie=this.points.length;E<ie;E++){const te=this.points[E],$=this.processedYData[E];G($)&&(te.isIntermediateSum||te.isSum)&&(te.y=L($))}}processData(E){let ie=this.options,te=this.yData,$=ie.data,V,j=te.length,x=ie.threshold||0,P,f,g,b,A,X;for(X=f=P=g=b=0;X<j;X++)A=te[X],V=$&&$[X]?$[X]:{},A==="sum"||V.isSum?te[X]=L(f):A==="intermediateSum"||V.isIntermediateSum?(te[X]=L(P),P=0):(f+=A,P+=A),g=Math.min(f,g),b=Math.max(f,b);super.processData.call(this,E),ie.stacking||(this.dataMin=g+x,this.dataMax=b)}toYData(E){return E.isSum?"sum":E.isIntermediateSum?"intermediateSum":E.y}updateParallelArrays(E,ie){super.updateParallelArrays.call(this,E,ie),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(E,ie){const te=this.options.upColor;return te&&!E.options.color&&G(E.y)&&(E.color=0<E.y?te:void 0),E=R.prototype.pointAttribs.call(this,E,ie),delete E.dashstyle,E}getGraphPath(){return[["M",0,0]]}getCrispPath(){let E=this.data.filter(X=>G(X.y)),ie=this.yAxis,te=E.length,$=Math.round(this.graph.strokeWidth())%2/2,V=Math.round(this.borderWidth)%2/2,j=this.xAxis.reversed,x=this.yAxis.reversed,P=this.options.stacking,f=[];for(let X=1;X<te;X++){if(!this.options.connectNulls&&!G(this.data[E[X].index-1].y))continue;var g=E[X].box,b=E[X-1];const Y=b.y||0,J=E[X-1].box;if(!g||!J)continue;var A=ie.waterfall.stacks[this.stackKey];const ce=0<Y?-J.height:0;A&&J&&g&&(A=A[X-1],b=P?Math.round(ie.translate(A.connectorThreshold,!1,!0,!1,!0)+(x?ce:0))-$:J.y+b.minPointLengthOffset+V-$,f.push(["M",(J.x||0)+(j?0:J.width||0),b],["L",(g.x||0)+(j&&g.width||0),b])),J&&f.length&&(!P&&0>Y&&!x||0<Y&&x)&&((g=f[f.length-2])&&typeof g[2]=="number"&&(g[2]+=J.height||0),(g=f[f.length-1])&&typeof g[2]=="number"&&(g[2]+=J.height||0))}return f}drawGraph(){K.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function E(se,ue,Ce,ne){if(g){if(Y)for(Ce;Ce<Y;Ce++)g.stackState[Ce]+=ne;else g.stackState[0]=se,Y=g.stackState.length;g.stackState.push(g.stackState[Y-1]+ue)}}let ie=this.options,te=this.yAxis.waterfall.stacks,$=ie.threshold||0,V=$,j=V,x=this.stackKey,P=this.xData,f=P.length,g,b,A,X,Y,J,ce,pe;var fe;let F;if(this.yAxis.stacking.usePercentage=!1,b=A=X=V,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(F=te.changed,(fe=te.alreadyChanged)&&0>fe.indexOf(x)&&(F=!0),te[x]||(te[x]={}),fe=te[x])for(let se=0;se<f;se++){var Q=P[se];(!fe[Q]||F)&&(fe[Q]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:F&&fe[Q]?fe[Q].label:void 0}),g=fe[Q],pe=this.yData[se],0<=pe?g.posTotal+=pe:g.negTotal+=pe,ce=ie.data[se],Q=g.absolutePos=g.posTotal,J=g.absoluteNeg=g.negTotal,g.stackTotal=Q+J,Y=g.stackState.length,ce&&ce.isIntermediateSum?(E(X,A,0,X),X=A,A=$,V^=j,j^=V,V^=j):ce&&ce.isSum?(E($,b,Y,0),V=$):(E(V,pe,0,b),ce&&(b+=pe,A+=pe)),g.stateIndex++,g.threshold=V,V+=g.stackTotal}te.changed=!1,te.alreadyChanged||(te.alreadyChanged=[]),te.alreadyChanged.push(x)}}getExtremes(){let E=this.options.stacking,ie,te;if(E){var $=this.yAxis;return $=$.waterfall.stacks,ie=this.stackedYNeg=[],te=this.stackedYPos=[],E==="overlap"?S($[this.stackKey],function(V){ie.push(q(V.stackState)),te.push(z(V.stackState))}):S($[this.stackKey],function(V){ie.push(V.negTotal+V.threshold),te.push(V.posTotal+V.threshold)}),{dataMin:q(ie),dataMax:z(te)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return H.defaultOptions=M(R.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),k(H,"afterColumnTranslate",function(){const{options:U,points:E,yAxis:ie}=this,te=D(U.minPointLength,5),$=te/2,V=U.threshold||0,j=U.stacking,x=ie.waterfall.stacks[this.stackKey];let P=V,f=V;for(let Y=0;Y<E.length;Y++){const J=E[Y];var g=this.processedYData[Y];const ce=O({x:0,y:0,width:0,height:0},J.shapeArgs||{});J.box=ce;var b=[0,g],A=J.y||0;if(j){if(x){if(b=x[Y],j==="overlap"){var X=b.stackState[b.stateIndex--];X=0<=A?X:X-A,Object.hasOwnProperty.call(b,"absolutePos")&&delete b.absolutePos,Object.hasOwnProperty.call(b,"absoluteNeg")&&delete b.absoluteNeg}else 0<=A?(X=b.threshold+b.posTotal,b.posTotal-=A):(X=b.threshold+b.negTotal,b.negTotal-=A,X-=A),!b.posTotal&&G(b.absolutePos)&&Object.hasOwnProperty.call(b,"absolutePos")&&(b.posTotal=b.absolutePos,delete b.absolutePos),!b.negTotal&&G(b.absoluteNeg)&&Object.hasOwnProperty.call(b,"absoluteNeg")&&(b.negTotal=b.absoluteNeg,delete b.absoluteNeg);J.isSum||(b.connectorThreshold=b.threshold+b.stackTotal),ie.reversed?g=0<=A?X-A:X+A:(g=X,X-=A),J.below=g<=V,ce.y=ie.translate(g,!1,!0,!1,!0),ce.height=Math.abs(ce.y-ie.translate(X,!1,!0,!1,!0)),(X=ie.waterfall.dummyStackItem)&&(X.x=Y,X.label=x[Y].label,X.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[Y],this.stackedYPos[Y],void 0,this.xAxis))}}else X=Math.max(f,f+A)+b[0],ce.y=ie.translate(X,!1,!0,!1,!0),J.isSum?(ce.y=ie.translate(b[1],!1,!0,!1,!0),ce.height=Math.min(ie.translate(b[0],!1,!0,!1,!0),ie.len)-ce.y,J.below=b[1]<=V):J.isIntermediateSum?(0<=A?(g=b[1]+P,X=P):(g=P,X=b[1]+P),ie.reversed&&(g^=X,X^=g,g^=X),ce.y=ie.translate(g,!1,!0,!1,!0),ce.height=Math.abs(ce.y-Math.min(ie.translate(X,!1,!0,!1,!0),ie.len)),P+=b[1],J.below=g<=V):(ce.height=0<g?ie.translate(f,!1,!0,!1,!0)-ce.y:ie.translate(f,!1,!0,!1,!0)-ie.translate(f-g,!1,!0,!1,!0),f+=g,J.below=f<V),0>ce.height&&(ce.y+=ce.height,ce.height*=-1);J.plotY=ce.y=Math.round(ce.y||0)-this.borderWidth%2/2,ce.height=Math.max(Math.round(ce.height||0),.001),J.yBottom=ce.y+ce.height,ce.height<=te&&!J.isNull?(ce.height=te,ce.y-=$,J.plotY=ce.y,J.minPointLengthOffset=0>A?-$:$):(J.isNull&&(ce.width=0),J.minPointLengthOffset=0),A=J.plotY+(J.negative?ce.height:0),J.below&&(J.plotY+=ce.height),J.tooltipPos&&(this.chart.inverted?J.tooltipPos[0]=ie.len-A:J.tooltipPos[1]=A),J.isInside=this.isPointInside(J),M(!0,J.shapeArgs,ce)}},{order:2}),O(H.prototype,{getZonesGraphs:K.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:v}),d.registerSeriesType("waterfall",H),s.compose(r,o),H}),i(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{defaultOptions:s}=o,{noop:v}=d,{addEvent:R,correctFloat:K,defined:k,extend:z,fireEvent:q,merge:L,pick:O,relativeLength:G,wrap:M}=h;var S;return function(D){function H(){this.autoConnect=this.isCircular&&typeof O(this.userMax,this.options.max)>"u"&&K(this.endAngleRad-this.startAngleRad)===K(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function U(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(oe=>this.ticks[oe]&&this.ticks[oe].label).filter(oe=>!!oe)}}function E(){return v}function ie(oe,ye,Se){const Re=this.pane.center;let Le=oe.value,$e;if(this.isCircular){if(k(Le))oe.point&&(rt=oe.point.shapeArgs||{},rt.start&&(Le=this.chart.inverted?this.translate(oe.point.rectPlotY,!0):oe.point.x));else{var rt=oe.chartX||0;$e=oe.chartY||0,Le=this.translate(Math.atan2($e-Se,rt-ye)-this.startAngleRad,!0)}oe=this.getPosition(Le),rt=oe.x,$e=oe.y}else k(Le)||(rt=oe.chartX,$e=oe.chartY),k(rt)&&k($e)&&(Se=Re[1]+this.chart.plotTop,Le=this.translate(Math.min(Math.sqrt(Math.pow(rt-ye,2)+Math.pow($e-Se,2)),Re[2]/2)-Re[3]/2,!0));return[Le,rt||0,$e||0]}function te(oe,ye,Se){oe=this.pane.center;const Re=this.chart,Le=this.left||0,$e=this.top||0;let rt=O(ye,oe[2]/2-this.offset);return typeof Se>"u"&&(Se=this.horiz?0:this.center&&-this.center[3]/2),Se&&(rt+=Se),this.isCircular||typeof ye<"u"?(ye=this.chart.renderer.symbols.arc(Le+oe[0],$e+oe[1],rt,rt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),ye.xBounds=[Le+oe[0]],ye.yBounds=[$e+oe[1]-rt]):(ye=this.postTranslate(this.angleRad,rt),ye=[["M",this.center[0]+Re.plotLeft,this.center[1]+Re.plotTop],["L",ye.x,ye.y]]),ye}function $(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function V(oe,ye,Se){const Re=this.chart;var Le=Ot=>{if(typeof Ot=="string"){let yi=parseInt(Ot,10);return Be.test(Ot)&&(yi=yi*Qe/100),yi}return Ot};const $e=this.center;var rt=this.startAngleRad;const Qe=$e[2]/2;var qe=Math.min(this.offset,0),xe=this.left||0;const Ie=this.top||0,Be=/%$/;var Xe=this.isCircular;let Ke,ft=O(Le(Se.outerRadius),Qe),St=Le(Se.innerRadius);return Le=O(Le(Se.thickness),10),this.options.gridLineInterpolation==="polygon"?qe=this.getPlotLinePath({value:oe}).concat(this.getPlotLinePath({value:ye,reverse:!0})):(oe=Math.max(oe,this.min),ye=Math.min(ye,this.max),oe=this.translate(oe),ye=this.translate(ye),Xe||(ft=oe||0,St=ye||0),Se.shape!=="circle"&&Xe?(Se=rt+(oe||0),rt+=ye||0):(Se=-Math.PI/2,rt=1.5*Math.PI,Ke=!0),ft-=qe,qe=Re.renderer.symbols.arc(xe+$e[0],Ie+$e[1],ft,ft,{start:Math.min(Se,rt),end:Math.max(Se,rt),innerR:O(St,ft-(Le-qe)),open:Ke}),Xe&&(Xe=(rt+Se)/2,xe=xe+$e[0]+$e[2]/2*Math.cos(Xe),qe.xBounds=Xe>-Math.PI/2&&Xe<Math.PI/2?[xe,Re.plotWidth]:[0,xe],qe.yBounds=[Ie+$e[1]+$e[2]/2*Math.sin(Xe)],qe.yBounds[0]+=Xe>-Math.PI&&0>Xe||Xe>Math.PI?-10:10)),qe}function j(oe){var ye=this.pane.center,Se=this.chart;const Re=Se.inverted;var Le=oe.reverse,$e=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const rt=$e.innerRadius||"0%",Qe=$e.outerRadius||"100%";var qe=ye[0]+Se.plotLeft,xe=ye[1]+Se.plotTop;const Ie=this.height,Be=oe.isCrosshair;$e=ye[3]/2;var Xe=oe.value;let Ke;var ft=this.getPosition(Xe);let St=ft.x;if(ft=ft.y,Be&&(ft=this.getCrosshairPosition(oe,qe,xe),Xe=ft[0],St=ft[1],ft=ft[2]),this.isCircular)Xe=Math.sqrt(Math.pow(St-qe,2)+Math.pow(ft-xe,2)),Le=typeof rt=="string"?G(rt,1):rt/Xe,Se=typeof Qe=="string"?G(Qe,1):Qe/Xe,ye&&$e&&($e/=Xe,Le<$e&&(Le=$e),Se<$e&&(Se=$e)),ye=[["M",qe+Le*(St-qe),xe-Le*(xe-ft)],["L",St-(1-Se)*(St-qe),ft+(1-Se)*(xe-ft)]];else if((Xe=this.translate(Xe))&&(0>Xe||Xe>Ie)&&(Xe=0),this.options.gridLineInterpolation==="circle")ye=this.getLinePath(0,Xe,$e);else if(ye=[],Se[Re?"yAxis":"xAxis"].forEach(Ot=>{Ot.pane===this.pane&&(Ke=Ot)}),Ke)for(qe=Ke.tickPositions,Ke.autoConnect&&(qe=qe.concat([qe[0]])),Le&&(qe=qe.slice().reverse()),Xe&&(Xe+=$e),xe=0;xe<qe.length;xe++)$e=Ke.getPosition(qe[xe],Xe),ye.push(xe?["L",$e.x,$e.y]:["M",$e.x,$e.y]);return ye}function x(oe,ye){return oe=this.translate(oe),this.postTranslate(this.isCircular?oe:this.angleRad,O(this.isCircular?ye:0>oe?0:oe,this.center[2]/2)-this.offset)}function P(){const oe=this.center,ye=this.chart,Se=this.options.title;return{x:ye.plotLeft+oe[0]+(Se.x||0),y:ye.plotTop+oe[1]-{high:.5,middle:.25,low:0}[Se.align]*oe[2]+(Se.y||0)}}function f(oe){oe.beforeSetTickPositions=H,oe.createLabelCollector=U,oe.getCrosshairPosition=ie,oe.getLinePath=te,oe.getOffset=$,oe.getPlotBandPath=V,oe.getPlotLinePath=j,oe.getPosition=x,oe.getTitlePosition=P,oe.postTranslate=pe,oe.setAxisSize=F,oe.setAxisTranslation=Q,oe.setOptions=se}function g(){var oe=this.chart,ye=this.options,Se=this.pane,Re=Se&&Se.options;oe.angular&&this.isXAxis||!Se||!oe.angular&&!oe.polar||(oe=2*Math.PI,Se=(O(Re.startAngle,0)-90)*Math.PI/180,Re=(O(Re.endAngle,O(Re.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(ye.angle||0)*Math.PI/180,this.startAngleRad=Se,this.endAngleRad=Re,this.offset=ye.offset||0,ye=(Se%oe+oe)%oe,Re=(Re%oe+oe)%oe,ye>Math.PI&&(ye-=oe),Re>Math.PI&&(Re-=oe),this.normalizedStartAngleRad=ye,this.normalizedEndAngleRad=Re)}function b(oe){this.isRadial&&(oe.align=void 0,oe.preventDefault())}function A(){if(this.chart&&this.chart.labelCollectors){const oe=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=oe&&this.chart.labelCollectors.splice(oe,1)}}function X(oe){const ye=this.chart,Se=ye.inverted,Re=ye.angular,Le=ye.polar,$e=this.isXAxis,rt=this.coll,Qe=Re&&$e;oe=oe.userOptions.pane||0,oe=this.pane=ye.pane&&ye.pane[oe];let qe;rt==="colorAxis"?this.isRadial=!1:(Re?(Qe?(this.isHidden=!0,this.createLabelCollector=E,this.getOffset=v,this.render=this.redraw=fe,this.setTitle=this.setCategories=this.setScale=v):f(this),(qe=!$e)&&(this.defaultPolarOptions=ve)):Le&&(f(this),this.defaultPolarOptions=(qe=this.horiz)?ne:L(rt==="xAxis"?r.defaultXAxisOptions:r.defaultYAxisOptions,_e),Se&&rt==="yAxis"&&(this.defaultPolarOptions.stackLabels=r.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Re||Le?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&ye.labelCollectors.push(this.labelCollector)):this.isRadial=!1,oe&&qe&&(oe.axis=this),this.isCircular=qe)}function Y(){this.isRadial&&this.beforeSetTickPositions()}function J(oe){const ye=this.label;if(ye){var Se=this.axis,Re=ye.getBBox(),Le=Se.options.labels,$e=(Se.translate(this.pos)+Se.startAngleRad+Math.PI/2)/Math.PI*180%360,rt=Math.round($e),Qe=k(Le.y)?0:.3*-Re.height,qe=Le.y,xe=20,Ie=Le.align,Be="end",Xe=0>rt?rt+360:rt,Ke=Xe,ft=0,St=0;if(Se.isRadial){var Ot=Se.getPosition(this.pos,Se.center[2]/2+G(O(Le.distance,-25),Se.center[2]/2,-Se.center[2]/2));Le.rotation==="auto"?ye.attr({rotation:$e}):k(qe)||(qe=Se.chart.renderer.fontMetrics(ye).b-Re.height/2),k(Ie)||(Se.isCircular?(Re.width>Se.len*Se.tickInterval/(Se.max-Se.min)&&(xe=0),Ie=$e>xe&&$e<180-xe?"left":$e>180+xe&&$e<360-xe?"right":"center"):Ie="center",ye.attr({align:Ie})),Ie==="auto"&&Se.tickPositions.length===2&&Se.isCircular&&(90<Xe&&180>Xe?Xe=180-Xe:270<Xe&&360>=Xe&&(Xe=540-Xe),180<Ke&&360>=Ke&&(Ke=360-Ke),(Se.pane.options.startAngle===rt||Se.pane.options.startAngle===rt+360||Se.pane.options.startAngle===rt-360)&&(Be="start"),Ie=-90<=rt&&90>=rt||-360<=rt&&-270>=rt||270<=rt&&360>=rt?Be==="start"?"right":"left":Be==="start"?"left":"right",70<Ke&&110>Ke&&(Ie="center"),15>Xe||180<=Xe&&195>Xe?ft=.3*Re.height:15<=Xe&&35>=Xe?ft=Be==="start"?0:.75*Re.height:195<=Xe&&215>=Xe?ft=Be==="start"?.75*Re.height:0:35<Xe&&90>=Xe?ft=Be==="start"?.25*-Re.height:Re.height:215<Xe&&270>=Xe&&(ft=Be==="start"?Re.height:.25*-Re.height),15>Ke?St=Be==="start"?.15*-Re.height:.15*Re.height:165<Ke&&180>=Ke&&(St=Be==="start"?.15*Re.height:.15*-Re.height),ye.attr({align:Ie}),ye.translate(St,ft+Qe)),oe.pos.x=Ot.x+(Le.x||0),oe.pos.y=Ot.y+(qe||0)}}}function ce(oe){this.axis.getPosition&&z(oe.pos,this.axis.getPosition(this.pos))}function pe(oe,ye){const Se=this.chart,Re=this.center;return oe=this.startAngleRad+oe,{x:Se.plotLeft+Re[0]+Math.cos(oe)*ye,y:Se.plotTop+Re[1]+Math.sin(oe)*ye}}function fe(){this.isDirty=!1}function F(){let oe,ye;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),oe=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(ye=this.postTranslate(this.angleRad,oe[3]/2),oe[0]=ye.x-this.chart.plotLeft,oe[1]=ye.y-this.chart.plotTop),this.len=this.width=this.height=(oe[2]-oe[3])*O(this.sector,1)/2)}function Q(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function se(oe){oe=this.options=L(this.constructor.defaultOptions,this.defaultPolarOptions,s[this.coll],oe),oe.plotBands||(oe.plotBands=[]),q(this,"afterSetOptions")}function ue(oe,ye,Se,Re,Le,$e,rt){const Qe=this.axis;return Qe.isRadial?(oe=Qe.getPosition(this.pos,Qe.center[2]/2+Re),ye=["M",ye,Se,"L",oe.x,oe.y]):ye=oe.call(this,ye,Se,Re,Le,$e,rt),ye}const Ce=[],ne={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},ve={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},_e={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};D.compose=function(oe,ye){return h.pushUnique(Ce,oe)&&(R(oe,"afterInit",g),R(oe,"autoLabelAlign",b),R(oe,"destroy",A),R(oe,"init",X),R(oe,"initialAxisTranslation",Y)),h.pushUnique(Ce,ye)&&(R(ye,"afterGetLabelPosition",J),R(ye,"afterGetPosition",ce),M(ye.prototype,"getMarkPath",ue)),oe}}(S||(S={})),S}),i(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){function R(F,Q,se,ue){var Ce=ue?1:0,ne=0<=Q&&Q<=F.length-1?Q:0>Q?F.length-1+Q:0;Q=0>ne-1?F.length-(1+Ce):ne-1;var ve=F[Q];Ce=F[ne+1>F.length-1?Ce:ne+1];var _e=ve.plotY,oe=Ce.plotX,ye=Ce.plotY;Ce=F[ne].plotX,ne=F[ne].plotY,ve=(1.5*Ce+ve.plotX)/2.5,_e=(1.5*ne+_e)/2.5,oe=(1.5*Ce+oe)/2.5;var Se=(1.5*ne+ye)/2.5;ye=Math.sqrt(Math.pow(ve-Ce,2)+Math.pow(_e-ne,2));const Re=Math.sqrt(Math.pow(oe-Ce,2)+Math.pow(Se-ne,2));return ve=Math.atan2(_e-ne,ve-Ce),Se=Math.PI/2+(ve+Math.atan2(Se-ne,oe-Ce))/2,Math.abs(ve-Se)>Math.PI/2&&(Se-=Math.PI),ve=Ce+Math.cos(Se)*ye,_e=ne+Math.sin(Se)*ye,oe=Ce+Math.cos(Math.PI+Se)*Re,Se=ne+Math.sin(Math.PI+Se)*Re,Ce={rightContX:oe,rightContY:Se,leftContX:ve,leftContY:_e,plotX:Ce,plotY:ne},se&&(Ce.prevPointCont=R(F,Q,!1,ue)),Ce}function K(){(this.pane||[]).forEach(F=>{F.render()})}function k(F){const Q=F.args[0].xAxis,se=F.args[0].yAxis;F=F.args[0].chart,Q&&se&&(se.gridLineInterpolation==="polygon"?(Q.startOnTick=!0,Q.endOnTick=!0):Q.gridLineInterpolation==="polygon"&&F.inverted&&(se.startOnTick=!0,se.endOnTick=!0))}function z(){this.pane||(this.pane=[]),this.options.pane=Y(this.options.pane),this.options.pane.forEach(F=>{new h(F,this)},this)}function q(F){var Q=F.args.marker,se=this.chart.xAxis[0],ue=this.chart.yAxis[0],Ce=this.chart.inverted;const ne=Ce?ue:se;if(se=Ce?se:ue,this.chart.polar){F.preventDefault(),ue=(Q.attr?Q.attr("start"):Q.start)-ne.startAngleRad,Ce=Q.attr?Q.attr("r"):Q.r;let ve=(Q.attr?Q.attr("end"):Q.end)-ne.startAngleRad;Q=Q.attr?Q.attr("innerR"):Q.innerR,F.result.x=ue+ne.pos,F.result.width=ve-ue,F.result.y=se.len+se.pos-Q,F.result.height=Q-Ce}}function L(F){var Q=this.chart;if(Q.polar&&Q.hoverPane&&Q.hoverPane.axis){F.preventDefault();var se=Q.hoverPane.center,ue=this.mouseDownX||0;const $e=this.mouseDownY||0;var Ce=F.args.chartY;const rt=F.args.chartX;var ne=2*Math.PI,ve=Q.hoverPane.axis.startAngleRad,_e=Q.hoverPane.axis.endAngleRad,oe=Q.inverted?Q.xAxis[0]:Q.yAxis[0];const Qe={};var ye="arc";if(Qe.x=se[0]+Q.plotLeft,Qe.y=se[1]+Q.plotTop,this.zoomHor){var Se=0<ve?_e-ve:Math.abs(ve)+Math.abs(_e),Re=Math.atan2($e-Q.plotTop-se[1],ue-Q.plotLeft-se[0])-ve,Le=Math.atan2(Ce-Q.plotTop-se[1],rt-Q.plotLeft-se[0])-ve;if(Qe.r=se[2]/2,Qe.innerR=se[3]/2,0>=Re&&(Re+=ne),0>=Le&&(Le+=ne),Le<Re&&(Le=[Re,Re=Le][0]),Se<ne&&ve+Le>_e+(ne-Se)/2&&(Le=Re,Re=0>=ve?ve:0),ne=Qe.start=Math.max(Re+ve,ve),Se=Qe.end=Math.min(Le+ve,_e),oe.options.gridLineInterpolation==="polygon"){if(ye=Q.hoverPane.axis,Le=ne-ye.startAngleRad+ye.pos,Re=Se-ne,ne=oe.getPlotLinePath({value:oe.max}),Se=ye.toValue(Le),Le=ye.toValue(Le+Re),Se<ye.getExtremes().min){const{min:qe,max:xe}=ye.getExtremes();Se=xe-(qe-Se)}if(Le<ye.getExtremes().min){const{min:qe,max:xe}=ye.getExtremes();Le=xe-(qe-Le)}Le<Se&&(Le=[Se,Se=Le][0]),ne=S(ne,Se,Le,ye),ne.push(["L",se[0]+Q.plotLeft,Q.plotTop+se[1]]),Qe.d=ne,ye="path"}}this.zoomVert&&(Le=Q.inverted?Q.xAxis[0]:Q.yAxis[0],ue=Math.sqrt(Math.pow(ue-Q.plotLeft-se[0],2)+Math.pow($e-Q.plotTop-se[1],2)),Ce=Math.sqrt(Math.pow(rt-Q.plotLeft-se[0],2)+Math.pow(Ce-Q.plotTop-se[1],2)),Ce<ue&&(ue=[Ce,Ce=ue][0]),Ce>se[2]/2&&(Ce=se[2]/2),ue<se[3]/2&&(ue=se[3]/2),this.zoomHor||(Qe.start=ve,Qe.end=_e),Qe.r=Ce,Qe.innerR=ue,Le.options.gridLineInterpolation==="polygon"&&(se=Le.toValue(Le.len+Le.pos-ue),ve=Le.toValue(Le.len+Le.pos-Ce),se=Le.getPlotLinePath({value:ve}).concat(Le.getPlotLinePath({value:se,reverse:!0})),Qe.d=se,ye="path")),this.zoomHor&&this.zoomVert&&oe.options.gridLineInterpolation==="polygon"&&(se=Q.hoverPane.axis,oe=Qe.start||0,ve=oe-se.startAngleRad+se.pos,_e=(Qe.end||0)-oe,oe=se.toValue(ve),se=se.toValue(ve+_e),Qe.d instanceof Array&&(ve=Qe.d.slice(0,Qe.d.length/2),_e=Qe.d.slice(Qe.d.length/2,Qe.d.length),_e=[..._e].reverse(),Q=Q.hoverPane.axis,ve=S(ve,oe,se,Q),(_e=S(_e,oe,se,Q))&&(_e[0][0]="L"),_e=[..._e].reverse(),Qe.d=ve.concat(_e),ye="path")),F.attrs=Qe,F.shapeType=ye}}function O(){const F=this.chart;F.polar&&(this.polar=new fe(this),F.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function G(){if(this.chart.polar&&this.xAxis){const{xAxis:F,yAxis:Q}=this,se=this.chart;(this.kdByAngle=se.tooltip&&se.tooltip.shared)?this.searchPoint=M:this.options.findNearestPointBy="xy";const ue=this.points;let Ce=ue.length;for(;Ce--;)this.is("column")||this.is("columnrange")||this.polar.toXY(ue[Ce]),se.hasParallelCoordinates||this.yAxis.reversed||(A(ue[Ce].y,Number.MIN_VALUE)<Q.min||ue[Ce].x<F.min||ue[Ce].x>F.max?(ue[Ce].isNull=!0,ue[Ce].plotY=NaN):ue[Ce].isNull=ue[Ce].isValid&&!ue[Ce].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(x(this,"afterRender",function(){if(se.polar){var ne=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:ne[0],y:ne[1],r:ne[2]/2,innerR:ne[3]/2});else{{var ve=se.renderer,_e=ne[0],oe=ne[1],ye=ne[2]/2,Se=ne[3]/2;ne=J();const Re=ve.createElement("clipPath").attr({id:ne}).add(ve.defs);ve=Se?ve.arc(_e,oe,ye,Se,0,2*Math.PI).add(Re):ve.circle(_e,oe,ye).add(Re),ve.id=ne,ve.clipPath=Re}this.clipCircle=ve}this.group.clip(this.clipCircle),this.setClip=o.noop}})))}}function M(F){const Q=this.chart;var se=this.xAxis;return se=se.pane&&se.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(F.chartX-(se&&se[0]||0)-Q.plotLeft,F.chartY-(se&&se[1]||0)-Q.plotTop)})}function S(F,Q,se,ue){const Ce=ue.tickInterval;ue=ue.tickPositions;let ne=f(ue,_e=>_e>=se),ve=f([...ue].reverse(),_e=>_e<=Q);return P(ne)||(ne=ue[ue.length-1]),P(ve)||(ve=ue[0],ne+=Ce,F[0][0]="L",F.unshift(F[F.length-3])),F=F.slice(ue.indexOf(ve),ue.indexOf(ne)+1),F[0][0]="M",F}function D(F,Q){return f(this.pane||[],function(se){return se.options.id===Q})||F.call(this,Q)}function H(F,Q,se,ue,Ce,ne){const ve=this.chart;var _e=A(ue.inside,!!this.options.stacking);ve.polar?(F=Q.rectPlotX/Math.PI*180,ve.inverted?(this.forceDL=ve.isInsidePlot(Q.plotX,Q.plotY),_e&&Q.shapeArgs?(_e=Q.shapeArgs,_e=this.yAxis.postTranslate(((_e.start||0)+(_e.end||0))/2-this.xAxis.startAngleRad,Q.barX+Q.pointWidth/2),Ce=b(Ce,{x:_e.x-ve.plotLeft,y:_e.y-ve.plotTop})):Q.tooltipPos&&(Ce=b(Ce,{x:Q.tooltipPos[0],y:Q.tooltipPos[1]})),ue.align=A(ue.align,"center"),ue.verticalAlign=A(ue.verticalAlign,"middle")):(ue.align===null&&(ue.align=20<F&&160>F?"left":200<F&&340>F?"right":"center"),ue.verticalAlign===null&&(ue.verticalAlign=45>F||315<F?"bottom":135<F&&225>F?"top":"middle")),d.prototype.alignDataLabel.call(this,Q,se,ue,Ce,ne),this.isRadialBar&&Q.shapeArgs&&Q.shapeArgs.start===Q.shapeArgs.end?se.hide():se.show()):F.call(this,Q,se,ue,Ce,ne)}function U(){const F=this.options,Q=F.stacking,se=this.chart;var ue=this.xAxis;const Ce=this.yAxis,ne=Ce.reversed,ve=Ce.center,_e=ue.startAngleRad,oe=ue.endAngleRad-_e;let ye=0,Se,Re,Le,$e=0;var rt=0;if(ue.isRadial){ue=this.points,Se=ue.length,Re=Ce.translate(Ce.min),Le=Ce.translate(Ce.max);var Qe=F.threshold||0;for(se.inverted&&g(Qe)&&(ye=Ce.translate(Qe),P(ye)&&(0>ye?ye=0:ye>oe&&(ye=oe),this.translatedThreshold=ye+_e));Se--;){Qe=ue[Se];var qe=Qe.barX,xe=Qe.x,Ie=Qe.y;if(Qe.shapeType="arc",se.inverted){Qe.plotY=Ce.translate(Ie),Q&&Ce.stacking?(Ie=Ce.stacking.stacks[(0>Ie?"-":"")+this.stackKey],this.visible&&Ie&&Ie[xe]&&!Qe.isNull&&(rt=Ie[xe].points[this.getStackIndicator(void 0,xe,this.index).key],$e=Ce.translate(rt[0]),rt=Ce.translate(rt[1]),P($e)&&($e=v.clamp($e,0,oe)))):($e=ye,rt=Qe.plotY),$e>rt&&(rt=[$e,$e=rt][0]),ne?rt>Re?rt=Re:$e<Le?$e=Le:($e>Re||rt<Le)&&($e=rt=oe):$e<Re?$e=Re:rt>Le?rt=Le:(rt<Re||$e>Le)&&($e=rt=0),Ce.min>Ce.max&&($e=rt=ne?oe:0),$e+=_e,rt+=_e,ve&&(Qe.barX=qe+=ve[3]/2),xe=Math.max(qe,0),Ie=Math.max(qe+Qe.pointWidth,0);var Be=F.borderRadius;Be=X((typeof Be=="object"?Be.radius:Be)||0,Ie-xe),Qe.shapeArgs={x:ve[0],y:ve[1],r:Ie,innerR:xe,start:$e,end:rt,borderRadius:Be},Qe.opacity=$e===rt?0:void 0,Qe.plotY=(P(this.translatedThreshold)&&($e<this.translatedThreshold?$e:rt))-_e}else $e=qe+_e,Qe.shapeArgs=this.polar.arc(Qe.yBottom,Qe.plotY,$e,$e+Qe.pointWidth),Qe.shapeArgs.borderRadius=0;this.polar.toXY(Qe),se.inverted?(qe=Ce.postTranslate(Qe.rectPlotY,qe+Qe.pointWidth/2),Qe.tooltipPos=[qe.x-se.plotLeft,qe.y-se.plotTop]):Qe.tooltipPos=[Qe.plotX,Qe.plotY],ve&&(Qe.ttBelow=Qe.plotY>ve[1])}}}function E(F,Q){const se=this;let ue;if(this.chart.polar){Q=Q||this.points;for(let ne=0;ne<Q.length;ne++)if(!Q[ne].isNull){var Ce=ne;break}this.options.connectEnds!==!1&&typeof Ce<"u"&&(this.connectEnds=!0,Q.splice(Q.length,0,Q[Ce]),ue=!0),Q.forEach(ne=>{typeof ne.polarPlotY>"u"&&se.polar.toXY(ne)})}return Ce=F.apply(this,[].slice.call(arguments,1)),ue&&Q.pop(),Ce}function ie(F,Q){const se=this.chart;let ue={xAxis:[],yAxis:[]};return se.polar?se.axes.forEach(Ce=>{if(Ce.coll!=="colorAxis"){var ne=Ce.isXAxis,ve=Ce.center,_e=Q.chartX-ve[0]-se.plotLeft;ve=Q.chartY-ve[1]-se.plotTop,ue[ne?"xAxis":"yAxis"].push({axis:Ce,value:Ce.translate(ne?Math.PI-Math.atan2(_e,ve):Math.sqrt(Math.pow(_e,2)+Math.pow(ve,2)),!0)})}}):ue=F.call(this,Q),ue}function te(F,Q){this.chart.polar||F.call(this,Q)}function $(F,Q){const se=this,ue=this.chart,Ce=this.group,ne=this.markerGroup,ve=this.xAxis&&this.xAxis.center,_e=ue.plotLeft,oe=ue.plotTop;let ye=this.options.animation,Se,Re,Le,$e,rt;ue.polar?se.isRadialBar?Q||(se.startAngleRad=A(se.translatedThreshold,se.xAxis.startAngleRad),o.seriesTypes.pie.prototype.animate.call(se,Q)):(ye=j(ye),se.is("column")?Q||(Se=ve[3]/2,se.points.forEach(Qe=>{Re=Qe.graphic,$e=(Le=Qe.shapeArgs)&&Le.r,rt=Le&&Le.innerR,Re&&Le&&(Re.attr({r:Se,innerR:Se}),Re.animate({r:$e,innerR:rt},se.options.animation))})):Q?(F={translateX:ve[0]+_e,translateY:ve[1]+oe,scaleX:.001,scaleY:.001},Ce.attr(F),ne&&ne.attr(F)):(F={translateX:_e,translateY:oe,scaleX:1,scaleY:1},Ce.animate(F,ye),ne&&ne.animate(F,ye))):F.call(this,Q)}function V(F,Q,se,ue){return this.chart.polar?ue?(F=R(Q,ue,!0,this.connectEnds),Q=F.prevPointCont&&F.prevPointCont.rightContX,se=F.prevPointCont&&F.prevPointCont.rightContY,F=["C",g(Q)?Q:F.plotX,g(se)?se:F.plotY,g(F.leftContX)?F.leftContX:F.plotX,g(F.leftContY)?F.leftContY:F.plotY,F.plotX,F.plotY]):F=["M",se.plotX,se.plotY]:F=F.call(this,Q,se,ue),F}const{animObject:j}=r,{addEvent:x,defined:P,find:f,isNumber:g,merge:b,pick:A,relativeLength:X,splat:Y,uniqueKey:J,wrap:ce}=v,pe=[];class fe{static compose(Q,se,ue,Ce,ne,ve,_e,oe,ye){s.compose(Q,ne),v.pushUnique(pe,se)&&(x(se,"afterDrawChartBox",K),x(se,"getAxes",z),x(se,"init",k),ce(se.prototype,"get",D)),v.pushUnique(pe,ue)&&(Q=ue.prototype,ce(Q,"getCoordinates",ie),ce(Q,"pinch",te),x(ue,"getSelectionMarkerAttrs",L),x(ue,"getSelectionBox",q)),v.pushUnique(pe,Ce)&&(x(Ce,"afterInit",O),x(Ce,"afterTranslate",G,{order:2}),x(Ce,"afterColumnTranslate",U,{order:4}),ce(Ce.prototype,"animate",$)),_e&&v.pushUnique(pe,_e)&&(ue=_e.prototype,ce(ue,"alignDataLabel",H),ce(ue,"animate",$)),oe&&v.pushUnique(pe,oe)&&ce(oe.prototype,"getGraphPath",E),ye&&v.pushUnique(pe,ye)&&(oe=ye.prototype,ce(oe,"getPointSpline",V),ve&&v.pushUnique(pe,ve)&&(ve.prototype.getPointSpline=oe.getPointSpline))}constructor(Q){this.series=Q}arc(Q,se,ue,Ce){const ne=this.series,ve=ne.xAxis.center,_e=ne.yAxis.len,oe=ve[3]/2;return se=_e-se+oe,Q=_e-A(Q,_e)+oe,ne.yAxis.reversed&&(0>se&&(se=oe),0>Q&&(Q=oe)),{x:ve[0],y:ve[1],r:se,innerR:Q,start:ue,end:Ce}}toXY(Q){var se=this.series;const ue=se.chart,Ce=se.xAxis;var ne=se.yAxis;const ve=Q.plotX,_e=ue.inverted,oe=Q.y;let ye=Q.plotY,Se=_e?ve:ne.len-ye;_e&&se&&!se.isRadialBar&&(Q.plotY=ye=g(oe)?ne.translate(oe):0),Q.rectPlotX=ve,Q.rectPlotY=ye,ne.center&&(Se+=ne.center[3]/2),g(ye)&&(ne=_e?ne.postTranslate(ye,Se):Ce.postTranslate(ve,Se),Q.plotX=Q.polarPlotX=ne.x-ue.plotLeft,Q.plotY=Q.polarPlotY=ne.y-ue.plotTop),se.kdByAngle?(se=(ve/Math.PI*180+Ce.pane.options.startAngle)%360,0>se&&(se+=360),Q.clientX=se):Q.clientX=Q.plotX}}return fe}),i(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],function(r,o,d,h,s){d.compose(r.Axis,r.Chart,r.Legend,r.Series),h.compose(r.Axis,r.Chart,r.Legend,r.Series),s.compose(r.Axis,r.Chart,r.Pointer,r.Series,r.Tick,o.seriesTypes.areasplinerange,o.seriesTypes.column,o.seriesTypes.line,o.seriesTypes.spline)})})})(N6);var GK=N6.exports;const F6=tu(GK);F6(yc);const HK={components:{highcharts:rm.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var t=e.series[0].points[0],i,r=Math.round((Math.random()-.5)*20);i=t.y+r,(i<0||i>200)&&(i=t.y-r),t.update(i)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10,enabled:!1},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},gh=e=>(dp("data-v-7c7fa323"),e=e(),up(),e),WK={class:"row"},YK={class:"col position-relative"},qK=gh(()=>Ne("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HFO (KL)",-1)),XK=gh(()=>Ne("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"15.08 KL",-1)),ZK={class:"col position-relative"},KK=gh(()=>Ne("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total LS HFO (KL)",-1)),JK=gh(()=>Ne("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.94",-1)),QK={class:"col position-relative"},eJ=gh(()=>Ne("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total MDO (KL)",-1)),tJ=gh(()=>Ne("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"1.22",-1)),iJ={class:"col position-relative"},nJ=gh(()=>Ne("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HSD (KL)",-1)),rJ=gh(()=>Ne("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.01",-1)),sJ={class:"col position-relative"},oJ=gh(()=>Ne("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total (KL)",-1)),aJ=gh(()=>Ne("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"21.25",-1));function lJ(e,t,i,r,o,d){const h=ur("highcharts");return dt(),vt("div",WK,[Ne("div",YK,[an(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),qK,XK]),Ne("div",ZK,[an(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),KK,JK]),Ne("div",QK,[an(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),eJ,tJ]),Ne("div",iJ,[an(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),nJ,rJ]),Ne("div",sJ,[an(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),oJ,aJ])])}const cJ=Cr(HK,[["render",lJ],["__scopeId","data-v-7c7fa323"]]);var j6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},i(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d,find:h,fireEvent:s,isArray:v,isNumber:R,pick:K}=o;var k;return function(z){function q(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function L(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function O(){const ie=this.brokenAxis;if(ie&&ie.hasBreaks){const te=this.tickPositions,$=this.tickPositions.info,V=[];for(let j=0;j<te.length;j++)ie.isInAnyBreak(te[j])||V.push(te[j]);this.tickPositions=V,this.tickPositions.info=$}}function G(){this.brokenAxis||(this.brokenAxis=new E(this))}function M(){const{isDirty:ie,options:{connectNulls:te},points:$,xAxis:V,yAxis:j}=this;if(ie){let x=$.length;for(;x--;){const P=$[x],f=!(P.y===null&&te===!1)&&(V&&V.brokenAxis&&V.brokenAxis.isInAnyBreak(P.x,!0)||j&&j.brokenAxis&&j.brokenAxis.isInAnyBreak(P.y,!0));P.visible=f?!1:P.options.visible!==!1}}}function S(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,K(this.pointArrayMap,["y"]))}function D(ie,te){const $=this,V=$.points;let j,x,P,f;if(ie&&ie.brokenAxis&&ie.brokenAxis.hasBreaks){const g=ie.brokenAxis;te.forEach(function(b){j=g&&g.breakArray||[],x=ie.isXAxis?ie.min:K($.options.threshold,ie.min),V.forEach(function(A){f=K(A["stack"+b.toUpperCase()],A[b]),j.forEach(function(X){R(x)&&R(f)&&(P=!1,x<X.from&&f>X.to||x>X.from&&f<X.from?P="pointBreak":(x<X.from&&f>X.from&&f<X.to||x>X.from&&f>X.to&&f<X.from)&&(P="pointInBreak"),P&&s(ie,P,{point:A,brk:X}))})})})}}function H(){var ie=this.currentDataGrouping,te=ie&&ie.gapSize;ie=this.points.slice();const $=this.yAxis;let V=this.options.gapSize,j=ie.length-1;var x;if(V&&0<j)for(this.options.gapUnit!=="value"&&(V*=this.basePointRange),te&&te>V&&te>=this.basePointRange&&(V=te);j--;)x&&x.visible!==!1||(x=ie[j+1]),te=ie[j],x.visible!==!1&&te.visible!==!1&&(x.x-te.x>V&&(x=(te.x+x.x)/2,ie.splice(j+1,0,{isNull:!0,x}),$.stacking&&this.options.stacking&&(x=$.stacking.stacks[this.stackKey][x]=new r($,$.options.stackLabels,!1,x,this.stack),x.total=0)),x=te);return this.getGraphPath(ie)}const U=[];z.compose=function(ie,te){if(o.pushUnique(U,ie)&&(ie.keepProps.push("brokenAxis"),d(ie,"init",G),d(ie,"afterInit",q),d(ie,"afterSetTickPositions",O),d(ie,"afterSetOptions",L)),o.pushUnique(U,te)){const $=te.prototype;$.drawBreaks=D,$.gappedPath=H,d(te,"afterGeneratePoints",M),d(te,"afterRender",S)}return ie};class E{static isInBreak(te,$){const V=te.repeat||1/0,j=te.from,x=te.to-te.from;return $=$>=j?($-j)%V:V-(j-$)%V,te.inclusive?$<=x:$<x&&$!==0}static lin2Val(te){var $=this.brokenAxis;if($=$&&$.breakArray,!$||!R(te))return te;let V,j;for(j=0;j<$.length&&(V=$[j],!(V.from>=te));j++)(V.to<te||E.isInBreak(V,te))&&(te+=V.len);return te}static val2Lin(te){var $=this.brokenAxis;if($=$&&$.breakArray,!$||!R(te))return te;let V=te,j,x;for(x=0;x<$.length;x++)if(j=$[x],j.to<=te)V-=j.len;else{if(j.from>=te)break;if(E.isInBreak(j,te)){V-=te-j.from;break}}return V}constructor(te){this.hasBreaks=!1,this.axis=te}findBreakAt(te,$){return h($,function(V){return V.from<te&&te<V.to})}isInAnyBreak(te,$){const V=this.axis,j=V.options.breaks||[];let x=j.length,P,f,g;if(x&&R(te)){for(;x--;)E.isInBreak(j[x],te)&&(P=!0,f||(f=K(j[x].showPoints,!V.isXAxis)));g=P&&$?P&&!f:P}return g}setBreaks(te,$){const V=this,j=V.axis,x=v(te)&&!!te.length;j.isDirty=V.hasBreaks!==x,V.hasBreaks=x,j.options.breaks=j.userOptions.breaks=te,j.forceRedraw=!0,j.series.forEach(function(P){P.isDirty=!0}),x||j.val2lin!==E.val2Lin||(delete j.val2lin,delete j.lin2val),x&&(j.userOptions.ordinal=!1,j.lin2val=E.lin2Val,j.val2lin=E.val2Lin,j.setExtremes=function(P,f,g,b,A){if(V.hasBreaks){const X=this.options.breaks||[];let Y;for(;Y=V.findBreakAt(P,X);)P=Y.to;for(;Y=V.findBreakAt(f,X);)f=Y.from;f<P&&(f=P)}j.constructor.prototype.setExtremes.call(this,P,f,g,b,A)},j.setAxisTranslation=function(){if(j.constructor.prototype.setAxisTranslation.call(this),V.unitLength=void 0,V.hasBreaks){const P=j.options.breaks||[],f=[],g=[],b=K(j.pointRangePadding,0);let A=0,X,Y,J=j.userMin||j.min,ce=j.userMax||j.max,pe,fe;P.forEach(function(F){Y=F.repeat||1/0,R(J)&&R(ce)&&(E.isInBreak(F,J)&&(J+=F.to%Y-J%Y),E.isInBreak(F,ce)&&(ce-=ce%Y-F.from%Y))}),P.forEach(function(F){if(pe=F.from,Y=F.repeat||1/0,R(J)&&R(ce)){for(;pe-Y>J;)pe-=Y;for(;pe<J;)pe+=Y;for(fe=pe;fe<ce;fe+=Y)f.push({value:fe,move:"in"}),f.push({value:fe+F.to-F.from,move:"out",size:F.breakSize})}}),f.sort(function(F,Q){return F.value===Q.value?(F.move==="in"?0:1)-(Q.move==="in"?0:1):F.value-Q.value}),X=0,pe=J,f.forEach(function(F){X+=F.move==="in"?1:-1,X===1&&F.move==="in"&&(pe=F.value),X===0&&R(pe)&&(g.push({from:pe,to:F.value,len:F.value-pe-(F.size||0)}),A+=F.value-pe-(F.size||0))}),V.breakArray=g,R(J)&&R(ce)&&R(j.min)&&(V.unitLength=ce-J-A+b,s(j,"afterBreaks"),j.staticScale?j.transA=j.staticScale:V.unitLength&&(j.transA*=(ce-j.min+b)/V.unitLength),b&&(j.minPixelPadding=j.transA*(j.minPointOffset||0)),j.min=J,j.max=ce)}}),K($,!0)&&j.chart.redraw()}}z.Additions=E}(k||(k={})),k}),i(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(r,o){o.compose(r.Axis,r.Series)}),i(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),i(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(r,o){function d(z){const q=z.length;return z=h(z),k(z)&&q&&(z=R(z/q)),z}function h(z){let q=z.length,L;if(!q&&z.hasNulls)L=null;else if(q)for(L=0;q--;)L+=z[q];return L}const{arrayMax:s,arrayMin:v,correctFloat:R,extend:K,isNumber:k}=o;return o={average:d,averages:function(){const z=[];return[].forEach.call(arguments,function(q){z.push(d(q))}),typeof z[0]>"u"?void 0:z},close:function(z){return z.length?z[z.length-1]:z.hasNulls?null:void 0},high:function(z){return z.length?s(z):z.hasNulls?null:void 0},hlc:function(z,q,L){if(z=r.high(z),q=r.low(q),L=r.close(L),k(z)||k(q)||k(L))return[z,q,L]},low:function(z){return z.length?v(z):z.hasNulls?null:void 0},ohlc:function(z,q,L,O){if(z=r.open(z),q=r.high(q),L=r.low(L),O=r.close(O),k(z)||k(q)||k(L)||k(O))return[z,q,L,O]},open:function(z){return z.length?z[0]:z.hasNulls?null:void 0},range:function(z,q){if(z=r.low(z),q=r.high(q),k(z)||k(q))return[z,q];if(z===null&&q===null)return null},sum:h},K(r,o),o}),i(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),i(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(r,o){function d(O){const G=this,M=G.series;M.forEach(function(S){S.groupPixelWidth=void 0}),M.forEach(function(S){S.groupPixelWidth=G.getGroupPixelWidth&&G.getGroupPixelWidth(),S.groupPixelWidth&&(S.hasProcessed=!0),S.applyGrouping(!!O.hasExtremesChanged)})}function h(){const O=this.series;let G=O.length,M=0,S=!1,D,H;for(;G--;)(H=O[G].options.dataGrouping)&&(M=Math.max(M,z(H.groupPixelWidth,r.common.groupPixelWidth)),D=(O[G].processedXData||O[G].data).length,(O[G].groupPixelWidth||D>this.chart.plotSizeX/M||D&&H.forced)&&(S=!0));return S?M:0}function s(){this.series.forEach(function(O){O.hasProcessed=!1})}function v(O,G){let M;if(G=z(G,!0),O||(O={forced:!1,units:null}),this instanceof L)for(M=this.series.length;M--;)this.series[M].update({dataGrouping:O},!1);else this.chart.options.series.forEach(function(S){S.dataGrouping=typeof O=="boolean"?O:k(O,S.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),G&&this.chart.redraw()}const{addEvent:R,extend:K,merge:k,pick:z}=o,q=[];let L;return{compose:function(O){L=O,o.pushUnique(q,O)&&(R(O,"afterSetScale",s),R(O,"postProcessData",d),K(O.prototype,{applyGrouping:d,getGroupPixelWidth:h,setDataGrouping:v}))}}}),i(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){function R($){var V=this.chart,j=this.options.dataGrouping,x=this.allowDG!==!1&&j&&E(j.enabled,V.options.isStock),P=this.visible||!V.options.chart.ignoreHiddenSeries;const f=this.currentDataGrouping;var g=!1;if(x&&!this.requireSorting&&(this.requireSorting=g=!0),$=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!$)||!x,g&&(this.requireSorting=!1),!$){this.destroyGroupedData(),$=j.groupAll?this.xData:this.processedXData,x=j.groupAll?this.yData:this.processedYData;var b=V.plotSizeX;g=this.xAxis;var A=g.options.ordinal,X=this.groupPixelWidth,Y;let se;if(X&&$&&$.length&&b){this.isDirty=se=!0,this.points=null;var J=g.getExtremes(),ce=J.min;J=J.max,A=A&&g.ordinal&&g.ordinal.getGroupIntervalFactor(ce,J,this)||1,b=g.getTimeTicks(d.Additions.prototype.normalizeTimeTickInterval(X*(J-ce)/b*A,j.units||o.units),Math.min(ce,$[0]),Math.max(J,$[$.length-1]),g.options.startOfWeek,$,this.closestPointRange),X=O.groupData.apply(this,[$,x,b,j.approximation]),$=X.groupedXData,x=X.groupedYData,A=0,j&&j.smoothed&&$.length&&(j.firstAnchor="firstPoint",j.anchor="middle",j.lastAnchor="lastPoint",S(32,!1,V,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),V=$;var pe=J,fe=this.options.dataGrouping;if(J=this.currentDataGrouping&&this.currentDataGrouping.gapSize,fe&&this.xData&&J&&this.groupMap){ce=V.length-1;var F=fe.anchor;const ue=E(fe.firstAnchor,F);if(fe=E(fe.lastAnchor,F),F&&F!=="start"){var Q=J*{middle:.5,end:1}[F];for(F=V.length-1;F--&&0<F;)V[F]+=Q}ue&&ue!=="start"&&this.xData[0]>=V[0]&&(F=this.groupMap[0].start,Q=this.groupMap[0].length,H(F)&&H(Q)&&(Y=F+(Q-1)),V[0]={middle:V[0]+.5*J,end:V[0]+J,firstPoint:this.xData[0],lastPoint:Y&&this.xData[Y]}[ue]),fe&&fe!=="start"&&J&&V[ce]>=pe-J&&(Y=this.groupMap[this.groupMap.length-1].start,V[ce]={middle:V[ce]+.5*J,end:V[ce]+J,firstPoint:Y&&this.xData[Y],lastPoint:this.xData[this.xData.length-1]}[fe])}for(Y=1;Y<b.length;Y++)b.info.segmentStarts&&b.info.segmentStarts.indexOf(Y)!==-1||(A=Math.max(b[Y]-b[Y-1],A));J=b.info,J.gapSize=A,this.closestPointRange=b.info.totalRange,this.groupMap=X.groupMap,P&&(P=g,Y=$,M(Y[0])&&H(P.min)&&H(P.dataMin)&&Y[0]<P.min&&((!M(P.options.min)&&P.min<=P.dataMin||P.min===P.dataMin)&&(P.min=Math.min(Y[0],P.min)),P.dataMin=Math.min(Y[0],P.dataMin)),M(Y[Y.length-1])&&H(P.max)&&H(P.dataMax)&&Y[Y.length-1]>P.max&&((!M(P.options.max)&&H(P.dataMax)&&P.max>=P.dataMax||P.max===P.dataMax)&&(P.max=Math.max(Y[Y.length-1],P.max)),P.dataMax=Math.max(Y[Y.length-1],P.dataMax))),j.groupAll&&(this.allGroupedData=x,j=this.cropData($,x,g.min,g.max,1),$=j.xData,x=j.yData,this.cropStart=j.start),this.processedXData=$,this.processedYData=x}else this.groupMap=null;this.hasGroupedData=se,this.currentDataGrouping=J,this.preventGraphAnimation=(f&&f.totalRange)!==(J&&J.totalRange)}}function K(){this.groupedData&&(this.groupedData.forEach(function($,V){$&&(this.groupedData[V]=$.destroy?$.destroy():null)},this),this.groupedData.length=0)}function k(){ie.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function z(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function q($,V,j,x){const P=this,f=P.data,g=P.options&&P.options.data,b=[],A=[],X=[],Y=$.length,J=!!V,ce=[],pe=P.pointArrayMap,fe=pe&&pe.length,F=["x"].concat(pe||["y"]),Q=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let se=0,ue=0;if(x=typeof x=="function"?x:x&&r[x]?r[x]:r[P.getDGApproximation&&P.getDGApproximation()||"average"],fe)for(var Ce=pe.length;Ce--;)ce.push([]);else ce.push([]);Ce=fe||1;for(let _e=0;_e<=Y;_e++)if(!($[_e]<j[0])){for(;typeof j[se+1]<"u"&&$[_e]>=j[se+1]||_e===Y;){var ne=j[se];P.dataGroupInfo={start:Q?ue:P.cropStart+ue,length:ce[0].length};var ve=x.apply(P,ce);for(P.pointClass&&!M(P.dataGroupInfo.options)&&(P.dataGroupInfo.options=U(P.pointClass.prototype.optionsToObject.call({series:P},P.options.data[P.cropStart+ue])),F.forEach(function(oe){delete P.dataGroupInfo.options[oe]})),typeof ve<"u"&&(b.push(ne),A.push(ve),X.push(P.dataGroupInfo)),ue=_e,ne=0;ne<Ce;ne++)ce[ne].length=0,ce[ne].hasNulls=!1;if(se+=1,_e===Y)break}if(_e===Y)break;if(pe){ne=P.options.dataGrouping&&P.options.dataGrouping.groupAll?_e:P.cropStart+_e,ne=f&&f[ne]||P.pointClass.prototype.applyOptions.apply({series:P},[g[ne]]);for(let oe=0;oe<fe;oe++)ve=ne[pe[oe]],H(ve)?ce[oe].push(ve):ve===null&&(ce[oe].hasNulls=!0)}else ne=J?V[_e]:null,H(ne)?ce[0].push(ne):ne===null&&(ce[0].hasNulls=!0)}return{groupedXData:b,groupedYData:A,groupMap:X}}function L($){$=$.options;const V=this.type,j=this.chart.options.plotOptions,x=this.useCommonDataGrouping&&o.common,P=o.seriesSpecific;let f=h.defaultOptions.plotOptions[V].dataGrouping;if(j&&(P[V]||x)){const g=this.chart.rangeSelector;f||(f=U(o.common,P[V])),$.dataGrouping=U(x,f,j.series&&j.series.dataGrouping,j[V].dataGrouping,this.userOptions.dataGrouping,!$.isInternal&&g&&H(g.selected)&&g.buttonOptions[g.selected].dataGrouping)}}const{series:{prototype:O}}=s,{addEvent:G,defined:M,error:S,extend:D,isNumber:H,merge:U,pick:E}=v,ie=O.generatePoints,te=[];return{compose:function($){const V=$.prototype.pointClass;v.pushUnique(te,V)&&G(V,"update",function(){if(this.dataGroup)return S(24,!1,this.series.chart),!1}),v.pushUnique(te,$)&&(G($,"afterSetOptions",L),G($,"destroy",K),D($.prototype,{applyGrouping:R,destroyGroupedData:K,generatePoints:k,getDGApproximation:z,groupData:q}))},groupData:q}}),i(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){function v(L){const O=this.chart,G=O.time,M=L.labelConfig,S=M.series;var D=S.tooltipOptions,H=S.options.dataGrouping;const U=S.xAxis;var E=D.xDateFormat;let ie,te,$=D[L.isFooter?"footerFormat":"headerFormat"];U&&U.options.type==="datetime"&&H&&z(M.key)&&(te=S.currentDataGrouping,H=H.dateTimeLabelFormats||o.common.dateTimeLabelFormats,te?(D=H[te.unitName],te.count===1?E=D[0]:(E=D[1],ie=D[2])):!E&&H&&U.dateTime&&(E=U.dateTime.getXDateFormat(M.x,D.dateTimeLabelFormats)),E=G.dateFormat(E,M.key),ie&&(E+=G.dateFormat(ie,M.key+te.totalRange-1)),S.chart.styledMode&&($=this.styledModeFormat($)),L.text=R($,{point:k(M.point,{key:E}),series:S},O),L.preventDefault())}const{format:R}=h,{addEvent:K,extend:k,isNumber:z}=s,q=[];return h={compose:function(L,O,G){r.compose(L),d.compose(O),G&&s.pushUnique(q,G)&&K(G,"headerFormatter",v)},groupData:d.groupData},h}),i(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(r,o,d,h){r.dataGrouping={approximationDefaults:o,approximations:d},h.compose(r.Axis,r.Series,r.Tooltip)}),i(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{prototype:{tooltipFormatter:s}}=o,{addEvent:v,arrayMax:R,arrayMin:K,correctFloat:k,defined:z,isArray:q,isNumber:L,isString:O,pick:G}=h;var M;return function(S){function D(f,g,b){this.isXAxis||(this.series.forEach(function(A){f==="compare"&&typeof g!="boolean"?A.setCompare(g,!1):f!=="cumulative"||O(g)||A.setCumulative(g,!1)}),G(b,!0)&&this.chart.redraw())}function H(f){const g=this,{numberFormatter:b}=g.series.chart,A=function(X){f=f.replace("{point."+X+"}",(0<g[X]&&X==="change"?"+":"")+b(g[X],G(g.series.tooltipOptions.changeDecimals,2)))};return z(g.change)&&A("change"),z(g.cumulativeSum)&&A("cumulativeSum"),s.apply(this,[f])}function U(){const f=this.options.compare;let g;(f==="percent"||f==="value"||this.options.cumulative)&&(g=new P(this),f==="percent"||f==="value"?g.initCompare(f):g.initCumulative()),this.dataModify=g}function E(f){f=f.dataExtremes;const g=f.activeYData;if(this.dataModify&&f){let b;this.options.compare?b=[this.dataModify.modifyValue(f.dataMin),this.dataModify.modifyValue(f.dataMax)]:this.options.cumulative&&q(g)&&2<=g.length&&(b=P.getCumulativeExtremes(g)),b&&(f.dataMin=K(b),f.dataMax=R(b))}}function ie(f,g){this.options.compare=this.userOptions.compare=f,this.update({},G(g,!0)),!this.dataModify||f!=="value"&&f!=="percent"?this.points.forEach(b=>{delete b.change}):this.dataModify.initCompare(f)}function te(){if(this.xAxis&&this.processedYData&&this.dataModify){const f=this.processedXData,g=this.processedYData,b=g.length,A=this.options.compareStart===!0?0:1;let X=-1,Y;for(this.pointArrayMap&&(X=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),Y=0;Y<b-A;Y++){const J=g[Y]&&-1<X?g[Y][X]:g[Y];if(L(J)&&J!==0&&f[Y+A]>=(this.xAxis.min||0)){this.dataModify.compareValue=J;break}}}}function $(f,g){this.setModifier("compare",f,g)}function V(f,g){f=G(f,!1),this.options.cumulative=this.userOptions.cumulative=f,this.update({},G(g,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(b=>{delete b.cumulativeSum})}function j(f,g){this.setModifier("cumulative",f,g)}const x=[];S.compose=function(f,g,b){if(h.pushUnique(x,f)){const A=f.prototype;A.setCompare=ie,A.setCumulative=V,v(f,"afterInit",U),v(f,"afterGetExtremes",E),v(f,"afterProcessData",te)}return h.pushUnique(x,g)&&(g=g.prototype,g.setCompare=$,g.setModifier=D,g.setCumulative=j),h.pushUnique(x,b)&&(b.prototype.tooltipFormatter=H),f};class P{constructor(g){this.series=g}modifyValue(){return 0}static getCumulativeExtremes(g){let b=1/0,A=-1/0;return g.reduce((X,Y)=>(Y=X+Y,b=Math.min(b,Y,X),A=Math.max(A,Y,X),Y)),[b,A]}initCompare(g){this.modifyValue=function(b,A){b===null&&(b=0);const X=this.compareValue;return typeof b<"u"&&typeof X<"u"?(b=g==="value"?b-X:b/X*100-(this.series.options.compareBase===100?0:100),typeof A<"u"&&(A=this.series.points[A])&&(A.change=b),b):0}}initCumulative(){this.modifyValue=function(g,b){if(g===null&&(g=0),g!==void 0&&b!==void 0){const A=0<b?this.series.points[b-1]:null;return A&&A.cumulativeSum&&(g=k(A.cumulativeSum+g)),(b=this.series.points[b])&&(b.cumulativeSum=g),g}return 0}}}S.Additions=P}(M||(M={})),M}),i(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){function d(){this.navigatorAxis||(this.navigatorAxis=new L(this))}function h(O){var G=this.chart.options,M=G.navigator;const S=this.navigatorAxis,D=G.chart.zooming.pinchType,H=G.rangeSelector;G=G.chart.zooming.type,this.isXAxis&&(M&&M.enabled||H&&H.enabled)&&(G==="y"?O.zoomed=!1:(!s&&G==="xy"||s&&D==="xy")&&this.options.range&&(M=S.previousZoom,K(O.newMin)?S.previousZoom=[this.min,this.max]:M&&(O.newMin=M[0],O.newMax=M[1],S.previousZoom=void 0))),typeof O.zoomed<"u"&&O.preventDefault()}const{isTouchDevice:s}=r,{addEvent:v,correctFloat:R,defined:K,isNumber:k,pick:z}=o,q=[];class L{static compose(G){o.pushUnique(q,G)&&(G.keepProps.push("navigatorAxis"),v(G,"init",d),v(G,"zoom",h))}constructor(G){this.axis=G}destroy(){this.axis=void 0}toFixedRange(G,M,S,D){var H=this.axis,U=H.chart;G=z(S,H.translate(G,!0,!H.horiz)),M=z(D,H.translate(M,!0,!H.horiz)),U=U&&U.fixedRange,H=(H.pointRange||0)/2;const E=U&&(M-G)/U;return K(S)||(G=R(G+H)),K(D)||(M=R(M-H)),.7<E&&1.3>E&&(D?G=M-U:M=G+U),k(G)&&k(M)||(G=M=void 0),{min:G,max:M}}}return L}),i(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(r,o){return{parse:r}=r,{seriesTypes:o}=o,o={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:r("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof o.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},o}),i(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(r,o,d,h,s={}){return r=s.width?s.width/2:d,o=Math.round(r/3)+.5,h=s.height||h,[["M",-r-1,.5],["L",r,.5],["L",r,h+.5],["L",-r-1,h+.5],["L",-r-1,.5],["M",-o,4],["L",-o,h-3],["M",o-1,4],["L",o-1,h-3]]}}}),i(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R){function K(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function k(){var x;const P=this.legend,f=this.navigator;let g,b,A;if(f){g=P&&P.options,b=f.xAxis,A=f.yAxis;const{scrollbarHeight:X,scrollButtonSize:Y}=f;this.inverted?(f.left=f.opposite?this.chartWidth-X-f.height:this.spacing[3]+X,f.top=this.plotTop+Y):(f.left=$(b.left,this.plotLeft+Y),f.top=f.navigatorOptions.top||this.chartHeight-f.height-X-(((x=this.scrollbar)===null||x===void 0?void 0:x.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(g&&g.verticalAlign==="bottom"&&g.layout!=="proximate"&&g.enabled&&!g.floating?P.legendHeight+$(g.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),b&&A&&(this.inverted?b.options.left=A.options.left=f.left:b.options.top=A.options.top=f.top,b.setAxisSize(),A.setAxisSize())}}function z(x){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new j(this),$(x.redraw,!0)&&this.redraw(x.animation))}function q(){const x=this.options;(x.navigator.enabled||x.scrollbar.enabled)&&(this.scroller=this.navigator=new j(this))}function L(){const x=this.options,P=x.navigator,f=x.rangeSelector;if((P&&P.enabled||f&&f.enabled)&&(!H&&x.chart.zooming.type==="x"||H&&x.chart.zooming.pinchType==="x"))return!1}function O(x){const P=x.navigator;P&&x.xAxis[0]&&(x=x.xAxis[0].getExtremes(),P.render(x.min,x.max))}function G(x){const P=x.options.navigator||{},f=x.options.scrollbar||{};this.navigator||this.scroller||!P.enabled&&!f.enabled||(te(!0,this.options.navigator,P),te(!0,this.options.scrollbar,f),delete x.options.navigator,delete x.options.scrollbar)}function M(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:S,setOptions:D}=r,{isTouchDevice:H}=o,{getRendererType:U}=v,{addEvent:E,extend:ie,merge:te,pick:$}=R,V=[];let j;return{compose:function(x,P,f,g){d.compose(x),j=f,R.pushUnique(V,P)&&(P.prototype.callbacks.push(O),E(P,"afterAddSeries",K),E(P,"afterSetChartSize",k),E(P,"afterUpdate",z),E(P,"beforeRender",q),E(P,"beforeShowResetZoom",L),E(P,"update",G)),R.pushUnique(V,g)&&E(g,"afterUpdate",M),R.pushUnique(V,U)&&ie(U().prototype.symbols,s),R.pushUnique(V,D)&&ie(S,{navigator:h})}}}),i(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(r){const{addEvent:o,defined:d,pick:h}=r,s=[];class v{static compose(K,k){if(!r.pushUnique(s,K))return K;const z=q=>{const L=h(q.options&&q.options.min,q.min),O=h(q.options&&q.options.max,q.max);return{axisMin:L,axisMax:O,scrollMin:d(q.dataMin)?Math.min(L,q.min,q.dataMin,h(q.threshold,1/0)):L,scrollMax:d(q.dataMax)?Math.max(O,q.max,q.dataMax,h(q.threshold,-1/0)):O}};return o(K,"afterInit",function(){const q=this;q.options&&q.options.scrollbar&&q.options.scrollbar.enabled&&(q.options.scrollbar.vertical=!q.horiz,q.options.startOnTick=q.options.endOnTick=!1,q.scrollbar=new k(q.chart.renderer,q.options.scrollbar,q.chart),o(q.scrollbar,"changed",function(L){let{axisMin:O,axisMax:G,scrollMin:M,scrollMax:S}=z(q);var D=S-M;let H;d(O)&&d(G)&&(q.horiz&&!q.reversed||!q.horiz&&q.reversed?(H=M+D*this.to,D=M+D*this.from):(H=M+D*(1-this.from),D=M+D*(1-this.to)),this.shouldUpdateExtremes(L.DOMType)?q.setExtremes(D,H,!0,L.DOMType==="mousemove"||L.DOMType==="touchmove"?!1:void 0,L):this.setRange(this.from,this.to))}))}),o(K,"afterRender",function(){let{scrollMin:q,scrollMax:L}=z(this),O=this.scrollbar;var G=this.axisTitleMargin+(this.titleOffset||0),M=this.chart.scrollbarsOffsets;let S=this.options.margin||0;O&&(this.horiz?(this.opposite||(M[1]+=G),O.position(this.left,this.top+this.height+2+M[1]-(this.opposite?S:0),this.width,this.height),this.opposite||(M[1]+=S),G=1):(this.opposite&&(M[0]+=G),O.position(O.options.opposite?this.left+this.width+2+M[0]-(this.opposite?0:S):this.opposite?0:S,this.top,this.width,this.height),this.opposite&&(M[0]+=S),G=0),M[G]+=O.size+(O.options.margin||0),isNaN(q)||isNaN(L)||!d(this.min)||!d(this.max)||this.min===this.max?O.setRange(0,1):(M=(this.min-q)/(L-q),G=(this.max-q)/(L-q),this.horiz&&!this.reversed||!this.horiz&&this.reversed?O.setRange(M,G):O.setRange(1-G,1-M)))}),o(K,"afterGetOffset",function(){const q=this.scrollbar;var L=q&&!q.options.opposite;L=this.horiz?2:L?3:1,q&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[L]+=q.size+(q.options.margin||0))}),K}}return v}),i(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(r){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),i(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{defaultOptions:v}=r,{addEvent:R,correctFloat:K,defined:k,destroyObjectProperties:z,fireEvent:q,merge:L,pick:O,removeEvent:G}=s;class M{static compose(D){d.compose(D,M)}static swapXY(D,H){return H&&D.forEach(U=>{const E=U.length;let ie;for(let te=0;te<E;te+=2)ie=U[te+1],typeof ie=="number"&&(U[te+1]=U[te+2],U[te+2]=ie)}),D}constructor(D,H,U){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(D,H,U)}addEvents(){var D=this.options.inverted?[1,0]:[0,1];const H=this.scrollbarButtons,U=this.scrollbarGroup.element,E=this.track.element,ie=this.mouseDownHandler.bind(this),te=this.mouseMoveHandler.bind(this),$=this.mouseUpHandler.bind(this);D=[[H[D[0]].element,"click",this.buttonToMinClick.bind(this)],[H[D[1]].element,"click",this.buttonToMaxClick.bind(this)],[E,"click",this.trackClick.bind(this)],[U,"mousedown",ie],[U.ownerDocument,"mousemove",te],[U.ownerDocument,"mouseup",$]],o.hasTouch&&D.push([U,"touchstart",ie],[U.ownerDocument,"touchmove",te],[U.ownerDocument,"touchend",$]),D.forEach(function(V){R.apply(null,V)}),this._events=D}buttonToMaxClick(D){const H=(this.to-this.from)*O(this.options.step,.2);this.updatePosition(this.from+H,this.to+H),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:D})}buttonToMinClick(D){const H=K(this.to-this.from)*O(this.options.step,.2);this.updatePosition(K(this.from-H),K(this.to-H)),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:D})}cursorToScrollbarPosition(D){var H=this.options;return H=H.minWidth>this.calculatedWidth?H.minWidth:0,{chartX:(D.chartX-this.x-this.xOffset)/(this.barWidth-H),chartY:(D.chartY-this.y-this.yOffset)/(this.barWidth-H)}}destroy(){const D=this,H=D.chart.scroller;D.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(U){D[U]&&D[U].destroy&&(D[U]=D[U].destroy())}),H&&D===H.scrollbar&&(H.scrollbar=null,z(H.scrollbarButtons))}drawScrollbarButton(D){const H=this.renderer,U=this.scrollbarButtons,E=this.options,ie=this.size;var te=H.g().add(this.group);U.push(te),E.buttonsEnabled&&(te=H.rect().addClass("highcharts-scrollbar-button").add(te),this.chart.styledMode||te.attr({stroke:E.buttonBorderColor,"stroke-width":E.buttonBorderWidth,fill:E.buttonBackgroundColor}),te.attr(te.crisp({x:-.5,y:-.5,width:ie+1,height:ie+1,r:E.buttonBorderRadius},te.strokeWidth())),D=H.path(M.swapXY([["M",ie/2+(D?-1:1),ie/2-3],["L",ie/2+(D?-1:1),ie/2+3],["L",ie/2+(D?2:-2),ie/2]],E.vertical)).addClass("highcharts-scrollbar-arrow").add(U[D]),this.chart.styledMode||D.attr({fill:E.buttonArrowColor}))}init(D,H,U){this.scrollbarButtons=[],this.renderer=D,this.userOptions=H,this.options=L(h,v.scrollbar,H),this.options.margin=O(this.options.margin,10),this.chart=U,this.size=O(this.options.size,this.options.height),H.enabled&&(this.render(),this.addEvents())}mouseDownHandler(D){D=this.chart.pointer.normalize(D),D=this.cursorToScrollbarPosition(D),this.chartX=D.chartX,this.chartY=D.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(D){var H=this.chart.pointer.normalize(D),U=this.options.vertical?"chartY":"chartX";const E=this.initPositions||[];!this.grabbedCenter||D.touches&&D.touches[0][U]===0||(H=this.cursorToScrollbarPosition(H)[U],U=this[U],U=H-U,this.hasDragged=!0,this.updatePosition(E[0]+U,E[1]+U),this.hasDragged&&q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:D.type,DOMEvent:D}))}mouseUpHandler(D){this.hasDragged&&q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:D.type,DOMEvent:D}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(D,H,U,E){const{buttonsEnabled:ie,margin:te=0,vertical:$}=this.options,V=this.rendered?"animate":"attr";let j=E,x=0;this.group.show(),this.x=D,this.y=H+this.trackBorderWidth,this.width=U,this.height=E,this.xOffset=j,this.yOffset=x,$?(this.width=this.yOffset=U=this.size,this.xOffset=j=0,this.yOffset=x=ie?this.size:0,this.barWidth=E-(ie?2*U:0),this.x=D+=te):(this.height=E=this.size,this.xOffset=j=ie?this.size:0,this.barWidth=U-(ie?2*E:0),this.y+=te),this.group[V]({translateX:D,translateY:this.y}),this.track[V]({width:U,height:E}),this.scrollbarButtons[1][V]({translateX:$?0:U-j,translateY:$?E-x:0})}removeEvents(){this._events.forEach(function(D){G.apply(null,D)}),this._events.length=0}render(){const D=this.renderer,H=this.options,U=this.size,E=this.chart.styledMode,ie=D.g("scrollbar").attr({zIndex:H.zIndex}).hide().add();this.group=ie,this.track=D.rect().addClass("highcharts-scrollbar-track").attr({r:H.trackBorderRadius||0,height:U,width:U}).add(ie),E||this.track.attr({fill:H.trackBackgroundColor,stroke:H.trackBorderColor,"stroke-width":H.trackBorderWidth});const te=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-te%2/2,y:-te%2/2}),this.scrollbarGroup=D.g().add(ie),this.scrollbar=D.rect().addClass("highcharts-scrollbar-thumb").attr({height:U-te,width:U-te,r:H.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=D.path(M.swapXY([["M",-3,U/4],["L",-3,2*U/3],["M",0,U/4],["L",0,2*U/3],["M",3,U/4],["L",3,2*U/3]],H.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),E||(this.scrollbar.attr({fill:H.barBackgroundColor,stroke:H.barBorderColor,"stroke-width":H.barBorderWidth}),this.scrollbarRifles.attr({stroke:H.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(D,H){const U=this.options,E=U.vertical;var ie=U.minWidth,te=this.barWidth;const $=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(k(te)){var V=te*Math.min(H,1);D=Math.max(D,0);var j=Math.ceil(te*D);this.calculatedWidth=V=K(V-j),V<ie&&(j=(te-ie+V)*D,V=ie),ie=Math.floor(j+this.xOffset+this.yOffset),te=V/2-.5,this.from=D,this.to=H,E?(this.scrollbarGroup[$]({translateY:ie}),this.scrollbar[$]({height:V}),this.scrollbarRifles[$]({translateY:te}),this.scrollbarTop=ie,this.scrollbarLeft=0):(this.scrollbarGroup[$]({translateX:ie}),this.scrollbar[$]({width:V}),this.scrollbarRifles[$]({translateX:te}),this.scrollbarLeft=ie,this.scrollbarTop=0),12>=V?this.scrollbarRifles.hide():this.scrollbarRifles.show(),U.showFull===!1&&(0>=D&&1<=H?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(D){return O(this.options.liveRedraw,o.svg&&!o.isTouchDevice&&!this.chart.boosted)||D==="mouseup"||D==="touchend"||!k(D)}trackClick(D){const H=this.chart.pointer.normalize(D),U=this.to-this.from,E=this.y+this.scrollbarTop,ie=this.x+this.scrollbarLeft;this.options.vertical&&H.chartY>E||!this.options.vertical&&H.chartX>ie?this.updatePosition(this.from+U,this.to+U):this.updatePosition(this.from-U,this.to-U),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:D})}update(D){this.destroy(),this.init(this.chart.renderer,L(!0,this.options,D),this.chart)}updatePosition(D,H){1<H&&(D=K(1-K(H-D)),H=1),0>D&&(H=K(H-D),D=0),this.from=D,this.to=H}}return M.defaultOptions=h,v.scrollbar=L(!0,M.defaultOptions,v.scrollbar),M}),i(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R){function K(P,...f){if(f=[].filter.call(f,ie),f.length)return Math[P].apply(0,f)}const{defaultOptions:k}=o,{hasTouch:z,isTouchDevice:q}=d,{addEvent:L,clamp:O,correctFloat:G,defined:M,destroyObjectProperties:S,erase:D,extend:H,find:U,isArray:E,isNumber:ie,merge:te,pick:$,removeEvent:V,splat:j}=R;class x{static compose(f,g,b){s.compose(f,g,x,b)}constructor(f){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(f)}drawHandle(f,g,b,A){const X=this.navigatorOptions.handles.height;this.handles[g][A](b?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(f,10)+.5-X)}:{translateX:Math.round(this.left+parseInt(f,10)),translateY:Math.round(this.top+this.height/2-X/2-1)})}drawOutline(f,g,b,A){const X=this.navigatorOptions.maskInside;var Y=this.outline.strokeWidth();const J=Y/2;var ce=Y%2/2;const pe=this.scrollButtonSize,fe=this.size,F=this.top;Y=this.height;const Q=F-J,se=F+Y;let ue=this.left;b?(b=F+g+ce,g=F+f+ce,ce=[["M",ue+Y,F-pe-ce],["L",ue+Y,b],["L",ue,b],["M",ue,g],["L",ue+Y,g],["L",ue+Y,F+fe+pe]],X&&ce.push(["M",ue+Y,b-J],["L",ue+Y,g+J])):(ue-=pe,f+=ue+pe-ce,g+=ue+pe-ce,ce=[["M",ue,Q],["L",f,Q],["L",f,se],["M",g,se],["L",g,Q],["L",ue+fe+2*pe,F+J]],X&&ce.push(["M",f-J,Q],["L",g+J,Q])),this.outline[A]({d:ce})}drawMasks(f,g,b,A){const X=this.left,Y=this.top,J=this.height;let ce,pe,fe,F;b?(fe=[X,X,X],F=[Y,Y+f,Y+g],pe=[J,J,J],ce=[f,g-f,this.size-g]):(fe=[X,X+f,X+g],F=[Y,Y,Y],pe=[f,g-f,this.size-g],ce=[J,J,J]),this.shades.forEach((Q,se)=>{Q[A]({x:fe[se],y:F[se],width:pe[se],height:ce[se]})})}renderElements(){const f=this,g=f.navigatorOptions,b=g.maskInside,A=f.chart,X=A.renderer,Y={cursor:A.inverted?"ns-resize":"ew-resize"},J=f.navigatorGroup=X.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!b,b,!b].forEach((ce,pe)=>{const fe=X.rect().addClass("highcharts-navigator-mask"+(pe===1?"-inside":"-outside")).add(J);A.styledMode||(fe.attr({fill:ce?g.maskFill:"rgba(0,0,0,0)"}),pe===1&&fe.css(Y)),f.shades[pe]=fe}),f.outline=X.path().addClass("highcharts-navigator-outline").add(J),A.styledMode||f.outline.attr({"stroke-width":g.outlineWidth,stroke:g.outlineColor}),g.handles&&g.handles.enabled){const ce=g.handles,{height:pe,width:fe}=ce;[0,1].forEach(F=>{f.handles[F]=X.symbol(ce.symbols[F],-fe/2-1,0,fe,pe,ce),A.inverted&&f.handles[F].attr({rotation:90,rotationOriginX:Math.floor(-fe/2),rotationOriginY:(pe+fe)/2}),f.handles[F].attr({zIndex:7-F}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][F]).add(J),A.styledMode||f.handles[F].attr({fill:ce.backgroundColor,stroke:ce.borderColor,"stroke-width":ce.lineWidth}).css(Y)})}}update(f){(this.series||[]).forEach(g=>{g.baseSeries&&delete g.baseSeries.navigatorSeries}),this.destroy(),te(!0,this.chart.options.navigator,f),this.init(this.chart)}render(f,g,b,A){var X=this.chart;const Y=this.xAxis,J=Y.pointRange||0;var ce=Y.navigatorAxis.fake?X.xAxis[0]:Y;const pe=this.navigatorEnabled;var fe=this.rendered,F=X.inverted;const Q=X.xAxis[0].minRange,se=X.xAxis[0].options.maxRange,ue=this.scrollButtonSize;let Ce=this.scrollbarHeight,ne;if(!this.hasDragged||M(b)){if(f=G(f-J/2),g=G(g+J/2),!ie(f)||!ie(g))if(fe)b=0,A=$(Y.width,ce.width);else return;this.left=$(Y.left,X.plotLeft+ue+(F?X.plotWidth:0));var ve=this.size=ne=$(Y.len,(F?X.plotHeight:X.plotWidth)-2*ue);X=F?Ce:ne+2*ue,b=$(b,Y.toPixels(f,!0)),A=$(A,Y.toPixels(g,!0)),ie(b)&&Math.abs(b)!==1/0||(b=0,A=X),f=Y.toValue(b,!0),g=Y.toValue(A,!0);var _e=Math.abs(G(g-f));_e<Q?this.grabbedLeft?b=Y.toPixels(g-Q-J,!0):this.grabbedRight&&(A=Y.toPixels(f+Q+J,!0)):M(se)&&G(_e-J)>se&&(this.grabbedLeft?b=Y.toPixels(g-se-J,!0):this.grabbedRight&&(A=Y.toPixels(f+se+J,!0))),this.zoomedMax=O(Math.max(b,A),0,ve),this.zoomedMin=O(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(b,A),0,ve),this.range=this.zoomedMax-this.zoomedMin,ve=Math.round(this.zoomedMax),b=Math.round(this.zoomedMin),pe&&(this.navigatorGroup.attr({visibility:"inherit"}),fe=fe&&!this.hasDragged?"animate":"attr",this.drawMasks(b,ve,F,fe),this.drawOutline(b,ve,F,fe),this.navigatorOptions.handles.enabled&&(this.drawHandle(b,0,F,fe),this.drawHandle(ve,1,F,fe))),this.scrollbar&&(F?(F=this.top-ue,ce=this.left-Ce+(pe||!ce.opposite?0:(ce.titleOffset||0)+ce.axisTitleMargin),Ce=ne+2*ue):(F=this.top+(pe?this.height:-Ce),ce=this.left-ue),this.scrollbar.position(ce,F,X,Ce),this.scrollbar.setRange(this.zoomedMin/(ne||1),this.zoomedMax/(ne||1))),this.rendered=!0}}addMouseEvents(){const f=this,g=f.chart,b=g.container;let A=[],X,Y;f.mouseMoveHandler=X=function(J){f.onMouseMove(J)},f.mouseUpHandler=Y=function(J){f.onMouseUp(J)},A=f.getPartsEvents("mousedown"),A.push(L(g.renderTo,"mousemove",X),L(b.ownerDocument,"mouseup",Y)),z&&(A.push(L(g.renderTo,"touchmove",X),L(b.ownerDocument,"touchend",Y)),A.concat(f.getPartsEvents("touchstart"))),f.eventsToUnbind=A,f.series&&f.series[0]&&A.push(L(f.series[0].xAxis,"foundExtremes",function(){g.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(f){const g=this,b=[];return["shades","handles"].forEach(function(A){g[A].forEach(function(X,Y){b.push(L(X.element,f,function(J){g[A+"Mousedown"](J,Y)}))})}),b}shadesMousedown(f,g){f=this.chart.pointer.normalize(f);const b=this.chart,A=this.xAxis,X=this.zoomedMin,Y=this.size,J=this.range;let ce=this.left,pe=f.chartX,fe,F;b.inverted&&(pe=f.chartY,ce=this.top),g===1?(this.grabbedCenter=pe,this.fixedWidth=J,this.dragOffset=pe-X):(f=pe-ce-J/2,g===0?f=Math.max(0,f):g===2&&f+J>=Y&&(f=Y-J,this.reversedExtremes?(f-=J,F=this.getUnionExtremes().dataMin):fe=this.getUnionExtremes().dataMax),f!==X&&(this.fixedWidth=J,g=A.navigatorAxis.toFixedRange(f,f+J,F,fe),M(g.min)&&b.xAxis[0].setExtremes(Math.min(g.min,g.max),Math.max(g.min,g.max),!0,null,{trigger:"navigator"})))}handlesMousedown(f,g){this.chart.pointer.normalize(f),f=this.chart;const b=f.xAxis[0],A=this.reversedExtremes;g===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=A?b.min:b.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=A?b.max:b.min),f.fixedRange=null}onMouseMove(f){const g=this;var b=g.chart;const A=g.navigatorSize,X=g.range,Y=g.dragOffset,J=b.inverted;let ce=g.left;f.touches&&f.touches[0].pageX===0||(f=b.pointer.normalize(f),b=f.chartX,J&&(ce=g.top,b=f.chartY),g.grabbedLeft?(g.hasDragged=!0,g.render(0,0,b-ce,g.otherHandlePos)):g.grabbedRight?(g.hasDragged=!0,g.render(0,0,g.otherHandlePos,b-ce)):g.grabbedCenter&&(g.hasDragged=!0,b<Y?b=Y:b>A+Y-X&&(b=A+Y-X),g.render(0,0,b-Y,b-Y+X)),g.hasDragged&&g.scrollbar&&$(g.scrollbar.options.liveRedraw,!q&&!this.chart.boosted)&&(f.DOMType=f.type,setTimeout(function(){g.onMouseUp(f)},0)))}onMouseUp(f){var g=this.chart,b=this.xAxis,A=this.scrollbar;const X=f.DOMEvent||f,Y=g.inverted,J=this.rendered&&!this.hasDragged?"animate":"attr";let ce,pe;(!this.hasDragged||A&&A.hasDragged)&&f.trigger!=="scrollbar"||(A=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?ce=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(pe=this.fixedExtreme),this.zoomedMax===this.size&&(pe=this.reversedExtremes?A.dataMin:A.dataMax),this.zoomedMin===0&&(ce=this.reversedExtremes?A.dataMax:A.dataMin),b=b.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,ce,pe),M(b.min)&&g.xAxis[0].setExtremes(Math.min(b.min,b.max),Math.max(b.min,b.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:X})),f.DOMType!=="mousemove"&&f.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ie(this.zoomedMin)&&ie(this.zoomedMax)&&(g=Math.round(this.zoomedMin),f=Math.round(this.zoomedMax),this.shades&&this.drawMasks(g,f,Y,J),this.outline&&this.drawOutline(g,f,Y,J),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(g,0,Y,J),this.drawHandle(f,1,Y,J)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(f){f()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const f=this.baseSeries||[];this.navigatorEnabled&&f[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&f.forEach(function(g){V(g,"updatedData",this.updatedDataHandler)},this),f[0].xAxis&&V(f[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(f){var g=f.options,b=g.navigator||{},A=b.enabled,X=g.scrollbar||{},Y=X.enabled;g=A&&b.height||0;var J=Y&&X.height||0;const ce=X.buttonsEnabled&&J||0;this.handles=[],this.shades=[],this.chart=f,this.setBaseSeries(),this.height=g,this.scrollbarHeight=J,this.scrollButtonSize=ce,this.scrollbarEnabled=Y,this.navigatorEnabled=A,this.navigatorOptions=b,this.scrollbarOptions=X,this.opposite=$(b.opposite,!(A||!f.inverted));const pe=this;A=pe.baseSeries,X=f.xAxis.length,Y=f.yAxis.length,J=A&&A[0]&&A[0].xAxis||f.xAxis[0]||{options:{}},f.isDirtyBox=!0,pe.navigatorEnabled?(pe.xAxis=new r(f,te({breaks:J.options.breaks,ordinal:J.options.ordinal},b.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:X,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},f.inverted?{offsets:[ce,0,-ce,0],width:g}:{offsets:[0,-ce,0,ce],height:g})),pe.yAxis=new r(f,te(b.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:Y,isInternal:!0,reversed:$(b.yAxis&&b.yAxis.reversed,f.yAxis[0]&&f.yAxis[0].reversed,!1),zoomEnabled:!1},f.inverted?{width:g}:{height:g})),A||b.series.data?pe.updateNavigatorSeries(!1):f.series.length===0&&(pe.unbindRedraw=L(f,"beforeRedraw",function(){0<f.series.length&&!pe.series&&(pe.setBaseSeries(),pe.unbindRedraw())})),pe.reversedExtremes=f.inverted&&!pe.xAxis.reversed||!f.inverted&&pe.xAxis.reversed,pe.renderElements(),pe.addMouseEvents()):(pe.xAxis={chart:f,navigatorAxis:{fake:!0},translate:function(fe,F){var Q=f.xAxis[0];const se=Q.getExtremes(),ue=Q.len-2*ce,Ce=K("min",Q.options.min,se.dataMin);return Q=K("max",Q.options.max,se.dataMax)-Ce,F?fe*Q/ue+Ce:ue*(fe-Ce)/Q},toPixels:function(fe){return this.translate(fe)},toValue:function(fe){return this.translate(fe,!0)}},pe.xAxis.navigatorAxis.axis=pe.xAxis,pe.xAxis.navigatorAxis.toFixedRange=h.prototype.toFixedRange.bind(pe.xAxis.navigatorAxis)),f.options.scrollbar.enabled&&(b=te(f.options.scrollbar,{vertical:f.inverted}),!ie(b.margin)&&pe.navigatorEnabled&&(b.margin=f.inverted?-3:3),f.scrollbar=pe.scrollbar=new v(f.renderer,b,f),L(pe.scrollbar,"changed",function(fe){var F=pe.size;const Q=F*this.to;F*=this.from,pe.hasDragged=pe.scrollbar.hasDragged,pe.render(0,0,F,Q),this.shouldUpdateExtremes(fe.DOMType)&&setTimeout(function(){pe.onMouseUp(fe)})})),pe.addBaseSeriesEvents(),pe.addChartEvents()}getUnionExtremes(f){const g=this.chart.xAxis[0],b=this.xAxis,A=b.options,X=g.options;let Y;return f&&g.dataMin===null||(Y={dataMin:$(A&&A.min,K("min",X.min,g.dataMin,b.dataMin,b.min)),dataMax:$(A&&A.max,K("max",X.max,g.dataMax,b.dataMax,b.max))}),Y}setBaseSeries(f,g){const b=this.chart,A=this.baseSeries=[];f=f||b.options&&b.options.navigator.baseSeries||(b.series.length?U(b.series,X=>!X.options.isInternal).index:0),(b.series||[]).forEach((X,Y)=>{X.options.isInternal||!X.options.showInNavigator&&(Y!==f&&X.options.id!==f||X.options.showInNavigator===!1)||A.push(X)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,g)}updateNavigatorSeries(f,g){const b=this,A=b.chart,X=b.baseSeries,Y={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},J=b.series=(b.series||[]).filter(Q=>{const se=Q.baseSeries;return 0>X.indexOf(se)?(se&&(V(se,"updatedData",b.updatedDataHandler),delete se.navigatorSeries),Q.chart&&Q.destroy(),!1):!0});let ce,pe,fe=b.navigatorOptions.series,F;X&&X.length&&X.forEach(Q=>{const se=Q.navigatorSeries;var ue=H({color:Q.color,visible:Q.visible},E(fe)?k.navigator.series:fe);se&&b.navigatorOptions.adaptToUpdatedData===!1||(Y.name="Navigator "+X.length,ce=Q.options||{},F=ce.navigatorOptions||{},ue.dataLabels=j(ue.dataLabels),pe=te(ce,Y,ue,F),pe.pointRange=$(ue.pointRange,F.pointRange,k.plotOptions[pe.type||"line"].pointRange),ue=F.data||ue.data,b.hasNavigatorData=b.hasNavigatorData||!!ue,pe.data=ue||ce.data&&ce.data.slice(0),se&&se.options?se.update(pe,g):(Q.navigatorSeries=A.initSeries(pe),Q.navigatorSeries.baseSeries=Q,J.push(Q.navigatorSeries)))}),(fe.data&&(!X||!X.length)||E(fe))&&(b.hasNavigatorData=!1,fe=j(fe),fe.forEach((Q,se)=>{Y.name="Navigator "+(J.length+1),pe=te(k.navigator.series,{color:A.series[se]&&!A.series[se].options.isInternal&&A.series[se].color||A.options.colors[se]||A.options.colors[0]},Y,Q),pe.data=Q.data,pe.data&&(b.hasNavigatorData=!0,J.push(A.initSeries(pe)))})),f&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const f=this,g=f.baseSeries||[];g[0]&&g[0].xAxis&&g[0].eventsToUnbind.push(L(g[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),g.forEach(b=>{b.eventsToUnbind.push(L(b,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),b.eventsToUnbind.push(L(b,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&b.xAxis&&b.eventsToUnbind.push(L(b,"updatedData",this.updatedDataHandler)),b.eventsToUnbind.push(L(b,"remove",function(){this.navigatorSeries&&(D(f.series,this.navigatorSeries),M(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(f){return this.baseSeries.reduce(function(g,b){return Math.min(g,b.xData&&b.xData.length?b.xData[0]:g)},f)}modifyNavigatorAxisExtremes(){const f=this.xAxis;if(typeof f.getExtremes<"u"){const g=this.getUnionExtremes(!0);!g||g.dataMin===f.min&&g.dataMax===f.max||(f.min=g.dataMin,f.max=g.dataMax)}}modifyBaseAxisExtremes(){const f=this.chart.navigator;var g=this.getExtremes();const b=g.dataMin,A=g.dataMax;g=g.max-g.min;const X=f.stickToMin,Y=f.stickToMax,J=$(this.options.overscroll,0),ce=f.series&&f.series[0],pe=!!this.setExtremes;let fe,F;this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton"||(X&&(F=b,fe=F+g),Y&&(fe=A+J,X||(F=Math.max(b,fe-g,f.getBaseSeriesMin(ce&&ce.xData?ce.xData[0]:-Number.MAX_VALUE)))),pe&&(X||Y)&&ie(F)&&(this.min=this.userMin=F,this.max=this.userMax=fe)),f.stickToMin=f.stickToMax=null}updatedDataHandler(){const f=this.chart.navigator,g=this.navigatorSeries;f.stickToMax=$(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,f.reversedExtremes?Math.round(f.zoomedMin)===0:Math.round(f.zoomedMax)>=Math.round(f.size)),f.stickToMin=f.shouldStickToMin(this,f),g&&!f.hasNavigatorData&&(g.options.pointStart=this.xData[0],g.setData(this.options.data,!1,null,!1))}shouldStickToMin(f,g){g=g.getBaseSeriesMin(f.xData[0]);var b=f.xAxis;f=b.max;const A=b.min;return b=b.options.range,ie(f)&&ie(A)?b&&0<f-g?f-g<b:A<=g:!1}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(L(this.chart,"redraw",function(){const f=this.navigator,g=f&&(f.baseSeries&&f.baseSeries[0]&&f.baseSeries[0].xAxis||this.xAxis[0]);g&&f.render(g.min,g.max)}),L(this.chart,"getMargins",function(){let f=this.navigator,g=f.opposite?"plotTop":"marginBottom";this.inverted&&(g=f.opposite?"marginRight":"plotLeft"),this[g]=(this[g]||0)+(f.navigatorEnabled||!this.inverted?f.height+f.scrollbarHeight:0)+f.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(D(this.chart.xAxis,this.xAxis),D(this.chart.axes,this.xAxis)),this.yAxis&&(D(this.chart.yAxis,this.yAxis),D(this.chart.axes,this.yAxis)),(this.series||[]).forEach(f=>{f.destroy&&f.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(f=>{this[f]&&this[f].destroy&&this[f].destroy(),this[f]=null}),[this.handles].forEach(f=>{S(f)})}}return x}),i(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),i(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(r,o,d){function h(){const V=this.range,j=V.type,x=this.max,P=this.chart.time,f=function(X,Y){const J=j==="year"?"FullYear":"Month",ce=new P.Date(X),pe=P.get(J,ce);return P.set(J,ce,pe+Y),pe===P.get(J,ce)&&P.set("Date",ce,0),ce.getTime()-X};let g,b;H(V)?(g=x-V,b=V):V&&(g=x+f(x,-(V.count||1)),this.chart&&(this.chart.fixedRange=x-g));const A=E(this.dataMin,Number.MIN_VALUE);return H(g)||(g=A),g<=A&&(g=A,typeof b>"u"&&(b=f(g,V.count)),this.newMax=Math.min(g+b,E(this.dataMax,Number.MAX_VALUE))),H(x)?!H(V)&&V&&V._offsetMin&&(g+=V._offsetMin):g=void 0,g}function s(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new $(this))}function v(){var V=this.axes;const j=this.rangeSelector;j&&(H(j.deferredYTDClick)&&(j.clickButton(j.deferredYTDClick),delete j.deferredYTDClick),V.forEach(x=>{x.updateNames(),x.setScale()}),this.getAxisMargins(),j.render(),V=j.options.verticalAlign,j.options.floating||(V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0)))}function R(V){let j,x,P,f;const g=V.rangeSelector,b=()=>{g&&(j=V.xAxis[0].getExtremes(),x=V.legend,f=g&&g.options.verticalAlign,H(j.min)&&g.render(j.min,j.max),x.display&&f==="top"&&f===x.options.verticalAlign&&(P=U(V.spacingBox),P.y=x.options.layout==="vertical"?V.plotTop:P.y+g.getHeight(),x.group.placed=!1,x.align(P)))};g&&(D(ie,A=>A[0]===V)||ie.push([V,[G(V.xAxis[0],"afterSetExtremes",function(A){g&&g.render(A.min,A.max)}),G(V,"redraw",b)]]),b())}function K(){for(let V=0,j=ie.length;V<j;++V){const x=ie[V];if(x[0]===this){x[1].forEach(P=>P()),ie.splice(V,1);break}}}function k(){var V=this.rangeSelector;V&&(V=V.getHeight(),this.extraTopMargin&&(this.plotTop+=V),this.extraBottomMargin&&(this.marginBottom+=V))}function z(){var V=this.rangeSelector;V&&!V.options.floating&&(V.render(),V=V.options.verticalAlign,V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0))}function q(V){var j=V.options.rangeSelector;V=this.extraBottomMargin;const x=this.extraTopMargin;let P=this.rangeSelector;j&&j.enabled&&!M(P)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=P=new $(this)),this.extraTopMargin=this.extraBottomMargin=!1,P&&(R(this),j=j&&j.verticalAlign||P.options&&P.options.verticalAlign,P.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==V||this.extraTopMargin!==x)&&(this.isDirtyBox=!0)}const{defaultOptions:L,setOptions:O}=r,{addEvent:G,defined:M,extend:S,find:D,isNumber:H,merge:U,pick:E}=d,ie=[],te=[];let $;return{compose:function(V,j,x){$=x,d.pushUnique(te,V)&&(V.prototype.minFromRange=h),d.pushUnique(te,j)&&(G(j,"afterGetContainer",s),G(j,"beforeRender",v),G(j,"destroy",K),G(j,"getMargins",k),G(j,"render",z),G(j,"update",q),j.prototype.callbacks.push(R)),d.pushUnique(te,O)&&(S(L,{rangeSelector:o.rangeSelector}),S(L.lang,o.lang))}}}),i(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){function R(j){if(j.indexOf("%L")!==-1)return"text";const x="aAdewbBmoyY".split("").some(f=>j.indexOf("%"+f)!==-1),P="HkIlMS".split("").some(f=>j.indexOf("%"+f)!==-1);return x&&P?"datetime-local":x?"date":P?"time":"text"}const{defaultOptions:K}=o,{addEvent:k,createElement:z,css:q,defined:L,destroyObjectProperties:O,discardElement:G,extend:M,fireEvent:S,isNumber:D,merge:H,objectEach:U,pad:E,pick:ie,pInt:te,splat:$}=v;class V{static compose(x,P){h.compose(x,P,V)}constructor(x){this.buttons=void 0,this.buttonOptions=V.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=x,this.init(x)}clickButton(x,P){const f=this.chart,g=this.buttonOptions[x],b=f.xAxis[0];var A=f.scroller&&f.scroller.getUnionExtremes()||b||{},X=g.type;const Y=g.dataGrouping;let J=A.dataMin,ce=A.dataMax,pe,fe=b&&Math.round(Math.min(b.max,ie(ce,b.max))),F;A=g._range;let Q,se,ue,Ce=!0;if(J!==null&&ce!==null){if(f.fixedRange=A,this.setSelected(x),Y&&(this.forcedDataGrouping=!0,r.prototype.setDataGrouping.call(b||{chart:this.chart},Y,!1),this.frozenStates=g.preserveDataGrouping),X==="month"||X==="year")b?(X={range:g,max:fe,chart:f,dataMin:J,dataMax:ce},pe=b.minFromRange.call(X),D(X.newMax)&&(fe=X.newMax),Ce=!1):A=g;else if(A)pe=Math.max(fe-A,J),fe=Math.min(pe+A,ce),Ce=!1;else if(X==="ytd")if(b)(typeof ce>"u"||typeof J>"u")&&(J=Number.MAX_VALUE,ce=Number.MIN_VALUE,f.series.forEach(ne=>{(ne=ne.xData)&&(J=Math.min(ne[0],J),ce=Math.max(ne[ne.length-1],ce))}),P=!1),X=this.getYTDExtremes(ce,J,f.time.useUTC),pe=Q=X.min,fe=X.max;else{this.deferredYTDClick=x;return}else X==="all"&&b&&(f.navigator&&f.navigator.baseSeries[0]&&(f.navigator.baseSeries[0].xAxis.options.range=void 0),pe=J,fe=ce);Ce&&g._offsetMin&&L(pe)&&(pe+=g._offsetMin),g._offsetMax&&L(fe)&&(fe+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=x+1),b?b.setExtremes(pe,fe,ie(P,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(F=$(f.options.xAxis)[0],ue=F.range,F.range=A,se=F.min,F.min=Q,k(f,"load",function(){F.range=ue,F.min=se})),S(this,"afterBtnClick")}}setSelected(x){this.selected=this.options.selected=x}init(x){const P=this,f=x.options.rangeSelector,g=f.buttons||P.defaultButtons.slice(),b=f.selected,A=function(){const X=P.minInput,Y=P.maxInput;X&&X.blur&&S(X,"blur"),Y&&Y.blur&&S(Y,"blur")};P.chart=x,P.options=f,P.buttons=[],P.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(k(x.container,"mousedown",A)),this.eventsToUnbind.push(k(x,"resize",A)),g.forEach(P.computeButtonRange),typeof b<"u"&&g[b]&&this.clickButton(b,!1),this.eventsToUnbind.push(k(x,"load",function(){x.xAxis&&x.xAxis[0]&&k(x.xAxis[0],"setExtremes",function(X){this.max-this.min!==x.fixedRange&&X.trigger!=="rangeSelectorButton"&&X.trigger!=="updatedData"&&P.forcedDataGrouping&&!P.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const x=this;var P=this.chart;const f=this.dropdown,g=P.xAxis[0],b=Math.round(g.max-g.min),A=!g.hasVisibleSeries,X=P.scroller&&P.scroller.getUnionExtremes()||g,Y=X.dataMin,J=X.dataMax;P=x.getYTDExtremes(J,Y,P.time.useUTC);const ce=P.min,pe=P.max,fe=x.selected,F=x.options.allButtonsEnabled,Q=x.buttons;let se=D(fe);x.buttonOptions.forEach((ue,Ce)=>{var ne=ue._range,ve=ue.type,_e=ue.count||1;const oe=Q[Ce],ye=ue._offsetMax-ue._offsetMin,Se=Ce===fe,Re=ne>J-Y,Le=ne<g.minRange;ue=0;let $e=!1,rt=!1;ne=ne===b,(ve==="month"||ve==="year")&&b+36e5>=864e5*{month:28,year:365}[ve]*_e-ye&&b-36e5<=864e5*{month:31,year:366}[ve]*_e+ye?ne=!0:ve==="ytd"?(ne=pe-ce+ye===b,$e=!Se):ve==="all"&&(ne=g.max-g.min>=J-Y,rt=!Se&&se&&ne),ve=!F&&(Re||Le||rt||A),_e=Se&&ne||ne&&!se&&!$e||Se&&x.frozenStates,ve?ue=3:_e&&(se=!0,ue=2),oe.state!==ue&&(oe.setState(ue),f&&(f.options[Ce+1].disabled=ve,ue===2&&(f.selectedIndex=Ce+1)),ue===0&&fe===Ce&&x.setSelected())})}computeButtonRange(x){const P=x.type,f=x.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[P]?x._range=g[P]*f:(P==="month"||P==="year")&&(x._range=864e5*{month:30,year:365}[P]*f),x._offsetMin=ie(x.offsetMin,0),x._offsetMax=ie(x.offsetMax,0),x._range+=x._offsetMax-x._offsetMin}getInputValue(x){x=x==="min"?this.minInput:this.maxInput;const P=this.chart.options.rangeSelector,f=this.chart.time;return x?(x.type==="text"&&P.inputDateParser||this.defaultInputDateParser)(x.value,f.useUTC,f):0}setInputValue(x,P){const f=this.options,g=this.chart.time,b=x==="min"?this.minInput:this.maxInput;if(x=x==="min"?this.minDateBox:this.maxDateBox,b){var A=b.getAttribute("data-hc-time");A=L(A)?Number(A):void 0,L(P)&&(L(A)&&b.setAttribute("data-hc-time-previous",A),b.setAttribute("data-hc-time",P),A=P),b.value=g.dateFormat(this.inputTypeFormats[b.type]||f.inputEditDateFormat,A),x&&x.attr({text:g.dateFormat(f.inputDateFormat,A)})}}setInputExtremes(x,P,f){if(x=x==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[x.type],b=this.chart.time;g&&(P=b.dateFormat(g,P),x.min!==P&&(x.min=P),f=b.dateFormat(g,f),x.max!==f&&(x.max=f))}}showInput(x){const P=x==="min"?this.minDateBox:this.maxDateBox;if((x=x==="min"?this.minInput:this.maxInput)&&P&&this.inputGroup){const f=x.type==="text",{translateX:g,translateY:b}=this.inputGroup,{inputBoxWidth:A}=this.options;q(x,{width:f?P.width+(A?-2:20)+"px":"auto",height:P.height-2+"px",border:"2px solid silver"}),f&&A?q(x,{left:g+P.x+"px",top:b+"px"}):q(x,{left:Math.min(Math.round(P.x+g-(x.offsetWidth-P.width)/2),this.chart.chartWidth-x.offsetWidth)+"px",top:b-(x.offsetHeight-P.height)/2+"px"})}}hideInput(x){(x=x==="min"?this.minInput:this.maxInput)&&q(x,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(x,P,f){var g=x.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),P)g+="Z";else{var b;(b=d.isSafari)&&(b=g,b=!(6<b.length&&(b.lastIndexOf("-")===b.length-6||b.lastIndexOf("+")===b.length-6))),b&&(b=new Date(g).getTimezoneOffset()/60,g+=0>=b?`+${E(-b)}:00`:`-${E(b)}:00`)}return g=Date.parse(g),D(g)||(x=x.split("-"),g=Date.UTC(te(x[0]),te(x[1])-1,te(x[2]))),f&&P&&D(g)&&(g+=f.getTimezoneOffset(g)),g}drawInput(x){function P(){const{maxInput:Q,minInput:se}=A,ue=f.xAxis[0];var Ce=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:ue;const ne=Ce.dataMin;Ce=Ce.dataMax;let ve=A.getInputValue(x);ve!==Number(fe.getAttribute("data-hc-time-previous"))&&D(ve)&&(fe.setAttribute("data-hc-time-previous",ve),ce&&Q&&D(ne)?ve>Number(Q.getAttribute("data-hc-time"))?ve=void 0:ve<ne&&(ve=ne):se&&D(Ce)&&(ve<Number(se.getAttribute("data-hc-time"))?ve=void 0:ve>Ce&&(ve=Ce)),typeof ve<"u"&&ue.setExtremes(ce?ve:ue.min,ce?ue.max:ve,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:f,div:g,inputGroup:b}=this,A=this,X=f.renderer.style||{};var Y=f.renderer;const J=f.options.rangeSelector,ce=x==="min";var pe=K.lang[ce?"rangeSelectorFrom":"rangeSelectorTo"]||"";pe=Y.label(pe,0).addClass("highcharts-range-label").attr({padding:pe?2:0,height:pe?J.inputBoxHeight:0}).add(b),Y=Y.label("",0).addClass("highcharts-range-input").attr({padding:2,width:J.inputBoxWidth,height:J.inputBoxHeight,"text-align":"center"}).on("click",function(){A.showInput(x),A[x+"Input"].focus()}),f.styledMode||Y.attr({stroke:J.inputBoxBorderColor,"stroke-width":1}),Y.add(b);const fe=z("input",{name:x,className:"highcharts-range-selector"},void 0,g);fe.setAttribute("type",R(J.inputDateFormat||"%e %b %Y")),f.styledMode||(pe.css(H(X,J.labelStyle)),Y.css(H({color:"#333333"},X,J.inputStyle)),q(fe,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:X.fontSize,fontFamily:X.fontFamily,top:"-9999em"},J.inputStyle))),fe.onfocus=()=>{A.showInput(x)},fe.onblur=()=>{fe===d.doc.activeElement&&P(),A.hideInput(x),A.setInputValue(x),fe.blur()};let F=!1;return fe.onchange=()=>{F||(P(),A.hideInput(x),fe.blur())},fe.onkeypress=Q=>{Q.keyCode===13&&P()},fe.onkeydown=Q=>{F=!0,Q.keyCode!==38&&Q.keyCode!==40||P()},fe.onkeyup=()=>{F=!1},{dateBox:Y,input:fe,label:pe}}getPosition(){var x=this.chart;const P=x.options.rangeSelector;return x=P.verticalAlign==="top"?x.plotTop-x.axisOffset[0]:0,{buttonTop:x+P.buttonPosition.y,inputTop:x+P.inputPosition.y-10}}getYTDExtremes(x,P,f){const g=this.chart.time;var b=new g.Date(x);const A=g.get("FullYear",b);return f=f?g.Date.UTC(A,0,1):+new g.Date(A,0,1),P=Math.max(P,f),b=b.getTime(),{max:Math.min(x||b,b),min:P}}render(x,P){var f=this.chart,g=f.renderer;const b=f.container;var A=f.options;const X=A.rangeSelector,Y=ie(A.chart.style&&A.chart.style.zIndex,0)+1;if(A=X.inputEnabled,X.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=z("div",void 0,{position:"relative",height:0,zIndex:Y}),this.buttonOptions.length&&this.renderButtons(),b.parentNode&&b.parentNode.insertBefore(this.div,b),A&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),A&&(this.setInputValue("min",x),this.setInputValue("max",P),x=f.scroller&&f.scroller.getUnionExtremes()||f.xAxis[0]||{},L(x.dataMin)&&L(x.dataMax)&&(f=f.xAxis[0].minRange||0,this.setInputExtremes("min",x.dataMin,Math.min(x.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(x.dataMin,this.getInputValue("min"))+f,x.dataMax)),this.inputGroup)){let J=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(ce=>{if(ce){const{width:pe}=ce.getBBox();pe&&(ce.attr({x:J}),J+=pe+X.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:x,chart:P,options:f}=this,g=K.lang,b=P.renderer,A=H(f.buttonTheme),X=A&&A.states,Y=A.width||28;delete A.width,delete A.states,this.buttonGroup=b.g("range-selector-buttons").add(this.group);const J=this.dropdown=z("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);k(J,"touchstart",()=>{J.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([ce,pe])=>{k(J,ce,()=>{const fe=x[this.currentButtonIndex()];fe&&S(fe.element,pe||ce)})}),this.zoomText=b.label(g&&g.rangeSelectorZoom||"",0).attr({padding:f.buttonTheme.padding,height:f.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(f.labelStyle),A["stroke-width"]=ie(A["stroke-width"],0)),z("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,J),this.buttonOptions.forEach((ce,pe)=>{z("option",{textContent:ce.title||ce.text},void 0,J),x[pe]=b.button(ce.text,0,0,fe=>{const F=ce.events&&ce.events.click;let Q;F&&(Q=F.call(ce,fe)),Q!==!1&&this.clickButton(pe),this.isActive=!0},A,X&&X.hover,X&&X.select,X&&X.disabled).attr({"text-align":"center",width:Y}).add(this.buttonGroup),ce.title&&x[pe].attr("title",ce.title)})}alignElements(){const{buttonGroup:x,buttons:P,chart:f,group:g,inputGroup:b,options:A,zoomText:X}=this;var Y=f.options;const J=Y.exporting&&Y.exporting.enabled!==!1&&Y.navigation&&Y.navigation.buttonOptions,{buttonPosition:ce,inputPosition:pe,verticalAlign:fe}=A;Y=(ue,Ce)=>J&&this.titleCollision(f)&&fe==="top"&&Ce.align==="right"&&Ce.y-ue.getBBox().height-12<(J.y||0)+(J.height||0)+f.spacing[0]?-40:0;var F=f.plotLeft;if(g&&ce&&pe){var Q=ce.x-f.spacing[3];if(x){if(this.positionButtons(),!this.initialButtonGroupWidth){let ve=0;X&&(ve+=X.getBBox().width+5),P.forEach((_e,oe)=>{ve+=_e.width,oe!==P.length-1&&(ve+=A.buttonSpacing)}),this.initialButtonGroupWidth=ve}F-=f.spacing[3],this.updateButtonStates();var se=Y(x,ce);this.alignButtonGroup(se),g.placed=x.placed=f.hasLoaded}se=0,b&&(se=Y(b,pe),pe.align==="left"?Q=F:pe.align==="right"&&(Q=-Math.max(f.axisOffset[1],-se)),b.align({y:pe.y,width:b.getBBox().width,align:pe.align,x:pe.x+Q-2},!0,f.spacingBox),b.placed=f.hasLoaded),this.handleCollision(se),g.align({verticalAlign:fe},!0,f.spacingBox),Y=g.alignAttr.translateY,F=g.getBBox().height+20,Q=0,fe==="bottom"&&(Q=(Q=f.legend&&f.legend.options)&&Q.verticalAlign==="bottom"&&Q.enabled&&!Q.floating?f.legend.legendHeight+ie(Q.margin,10):0,F=F+Q-20,Q=Y-F-(A.floating?0:A.y)-(f.titleOffset?f.titleOffset[2]:0)-10),fe==="top"?(A.floating&&(Q=0),f.titleOffset&&f.titleOffset[0]&&(Q=f.titleOffset[0]),Q+=f.margin[0]-f.spacing[0]||0):fe==="middle"&&(pe.y===ce.y?Q=Y:(pe.y||ce.y)&&(Q=0>pe.y||0>ce.y?Q-Math.min(pe.y,ce.y):Y-F)),g.translate(A.x,A.y+Math.floor(Q));const{minInput:ue,maxInput:Ce,dropdown:ne}=this;A.inputEnabled&&ue&&Ce&&(ue.style.marginTop=g.translateY+"px",Ce.style.marginTop=g.translateY+"px"),ne&&(ne.style.marginTop=g.translateY+"px")}}alignButtonGroup(x,P){const{chart:f,options:g,buttonGroup:b}=this,{buttonPosition:A}=g,X=f.plotLeft-f.spacing[3];let Y=A.x-f.spacing[3];A.align==="right"?Y+=x-X:A.align==="center"&&(Y-=X/2),b&&b.align({y:A.y,width:ie(P,this.initialButtonGroupWidth),align:A.align,x:Y},!0,f.spacingBox)}positionButtons(){const{buttons:x,chart:P,options:f,zoomText:g}=this,b=P.hasLoaded?"animate":"attr",{buttonPosition:A}=f,X=P.plotLeft;let Y=X;g&&g.visibility!=="hidden"&&(g[b]({x:ie(X+A.x,X)}),Y+=A.x+g.getBBox().width+5);for(let J=0,ce=this.buttonOptions.length;J<ce;++J)x[J].visibility!=="hidden"?(x[J][b]({x:Y}),Y+=x[J].width+f.buttonSpacing):x[J][b]({x:X})}handleCollision(x){const{chart:P,buttonGroup:f,inputGroup:g}=this,{buttonPosition:b,dropdown:A,inputPosition:X}=this.options,Y=()=>{let pe=0;return this.buttons.forEach(fe=>{fe=fe.getBBox(),fe.width>pe&&(pe=fe.width)}),pe},J=pe=>{if(g&&f){const fe=g.alignAttr.translateX+g.alignOptions.x-x+g.getBBox().x+2,F=g.alignOptions.width,Q=f.alignAttr.translateX+f.getBBox().x;return Q+pe>fe&&fe+F>Q&&b.y<X.y+g.getBBox().height}return!1},ce=()=>{g&&f&&g.attr({translateX:g.alignAttr.translateX+(P.axisOffset[1]>=-x?0:-x),translateY:g.alignAttr.translateY+f.getBBox().height+10})};if(f){if(A==="always"){this.collapseButtons(x),J(Y())&&ce();return}A==="never"&&this.expandButtons()}g&&f?X.align===b.align||J(this.initialButtonGroupWidth+20)?A==="responsive"?(this.collapseButtons(x),J(Y())&&ce()):ce():A==="responsive"&&this.expandButtons():f&&A==="responsive"&&(this.initialButtonGroupWidth>P.plotWidth?this.collapseButtons(x):this.expandButtons())}collapseButtons(x){const{buttons:P,buttonOptions:f,chart:g,dropdown:b,options:A,zoomText:X}=this,Y=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},J=fe=>({text:fe?`${fe} ▾`:"▾",width:"auto",paddingLeft:ie(A.buttonTheme.paddingLeft,Y.padding,8),paddingRight:ie(A.buttonTheme.paddingRight,Y.padding,8)});X&&X.hide();let ce=!1;f.forEach((fe,F)=>{F=P[F],F.state!==2?F.hide():(F.show(),F.attr(J(fe.text)),ce=!0)}),ce||(b&&(b.selectedIndex=0),P[0].show(),P[0].attr(J(this.zoomText&&this.zoomText.textStr)));const{align:pe}=A.buttonPosition;this.positionButtons(),pe!=="right"&&pe!=="center"||this.alignButtonGroup(x,P[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:x,buttonOptions:P,options:f,zoomText:g}=this;this.hideDropdown(),g&&g.show(),P.forEach((b,A)=>{A=x[A],A.show(),A.attr({text:b.text,width:f.buttonTheme.width||28,paddingLeft:ie(f.buttonTheme.paddingLeft,"unset"),paddingRight:ie(f.buttonTheme.paddingRight,"unset")}),2>A.state&&A.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:x}=this;return x&&0<x.selectedIndex?x.selectedIndex-1:0}showDropdown(){const{buttonGroup:x,buttons:P,chart:f,dropdown:g}=this;if(x&&g){const{translateX:b,translateY:A}=x,X=P[this.currentButtonIndex()].getBBox();q(g,{left:f.plotLeft+b+"px",top:A+.5+"px",width:X.width+"px",height:X.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:x}=this;x&&(q(x,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var x=this.options,P=this.group;const f=x.y,g=x.buttonPosition.y,b=x.inputPosition.y;return x.height?x.height:(this.alignElements(),x=P?P.getBBox(!0).height+13+f:0,P=Math.min(b,g),(0>b&&0>g||0<b&&0<g)&&(x+=Math.abs(P)),x)}titleCollision(x){return!(x.options.title.text||x.options.subtitle.text)}update(x){const P=this.chart;H(!0,P.options.rangeSelector,x),this.destroy(),this.init(P),this.render()}destroy(){const x=this,P=x.minInput,f=x.maxInput;x.eventsToUnbind&&(x.eventsToUnbind.forEach(g=>g()),x.eventsToUnbind=void 0),O(x.buttons),P&&(P.onfocus=P.onblur=P.onchange=null),f&&(f.onfocus=f.onblur=f.onchange=null),U(x,function(g,b){g&&b!=="chart"&&(g instanceof s?g.destroy():g instanceof window.HTMLElement&&G(g)),g!==V.prototype[b]&&(x[b]=null)},this)}}return M(V.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),V}),i(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{addEvent:s,correctFloat:v,css:R,defined:K,error:k,pick:z,timeUnits:q}=h,L=[];var O;return function(G){function M(P,f,g,b,A=[],X=0,Y){const J={},ce=this.options.tickPixelInterval;var pe=this.chart.time,fe=[],F;let Q,se;var ue=0;let Ce=[],ne=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!A||3>A.length||typeof f>"u")return pe.getTimeTicks.apply(pe,arguments);const ve=A.length;for(F=0;F<ve;F++){if(se=F&&A[F-1]>g,A[F]<f&&(ue=F),F===ve-1||A[F+1]-A[F]>5*X||se){if(A[F]>ne){for(Q=pe.getTimeTicks(P,A[ue],A[F],b);Q.length&&Q[0]<=ne;)Q.shift();Q.length&&(ne=Q[Q.length-1]),fe.push(Ce.length),Ce=Ce.concat(Q)}ue=F+1}if(se)break}if(Q){if(A=Q.info,Y&&A.unitRange<=q.hour){for(F=Ce.length-1,ue=1;ue<F;ue++)if(pe.dateFormat("%d",Ce[ue])!==pe.dateFormat("%d",Ce[ue-1])){J[Ce[ue]]="day";var _e=!0}_e&&(J[Ce[0]]="day"),A.higherRanks=J}A.segmentStarts=fe,Ce.info=A}else k(12,!1,this.chart);if(Y&&K(ce)){ue=Ce.length,pe=[],_e=[];let oe;for(F=ue;F--;)fe=this.translate(Ce[F]),oe&&(_e[F]=oe-fe),pe[F]=oe=fe;for(_e.sort(),_e=_e[Math.floor(_e.length/2)],_e<.6*ce&&(_e=null),F=Ce[ue-1]>g?ue-1:ue,oe=void 0;F--;)fe=pe[F],ue=Math.abs(oe-fe),oe&&ue<.8*ce&&(_e===null||ue<.8*_e)?(J[Ce[F]]&&!J[Ce[F+1]]?(ue=F+1,oe=fe):ue=F,Ce.splice(ue,1)):oe=fe}return Ce}function S(P){const f=this.ordinal.positions;if(!f)return P;let g=f.length-1,b;return 0>P?P=f[0]:P>g?P=f[g]:(g=Math.floor(P),b=P-g),typeof b<"u"&&typeof f[g]<"u"?f[g]+(b?b*(f[g+1]-f[g]):0):P}function D(P){var f=this.ordinal,g=f.positions;if(!g)return P;var b=(P-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<b&&b<this.left+this.len||(f.extendedOrdinalPositions||(f.extendedOrdinalPositions=f.getExtendedPositions()),g=f.extendedOrdinalPositions),g&&g.length){if(P=f.getIndexOfPoint(b,g),f=v(P%1),0<=P&&P<g.length-1)return g[Math.floor(P)]+f*(g[Math.ceil(P)]-g[Math.floor(P)]);f=g.length,b=g[0],g=g[f-1];const A=(g-b)/(f-1);return 0>P?b+A*P:g+A*(P-f)}return P}function H(P,f){const g=G.Additions.findIndexOf(P,f,!0);return P[g]===f?g:g+(f-P[g])/(P[g+1]-P[g])}function U(){this.ordinal||(this.ordinal=new G.Additions(this))}function E(){this.isXAxis&&K(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&K(this.userMin)&&(this.min+=this.options.overscroll))}function ie(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function te(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function $(P){const f=this.xAxis[0],g=f.options.overscroll,b=P.originalEvent.chartX,A=this.options.chart.panning;let X=!1;if(A&&A.type!=="y"&&f.options.ordinal&&f.series.length){var Y=this.mouseDownX;const fe=f.getExtremes(),F=fe.dataMax,Q=fe.min,se=fe.max;var J=this.hoverPoints,ce=f.closestPointRange||f.ordinal&&f.ordinal.overscrollPointsRange;Y=(Y-b)/(f.translationSlope*(f.ordinal.slope||ce)),ce=f.ordinal.getExtendedPositions();var pe={ordinal:{positions:ce,extendedOrdinalPositions:ce}};ce=f.index2val;const ue=f.val2lin;let Ce;pe.ordinal.positions?1<Math.abs(Y)&&(J&&J.forEach(function(ne){ne.setState()}),0>Y?(J=pe,Ce=f.ordinal.positions?f:pe):(J=f.ordinal.positions?f:pe,Ce=pe),pe=Ce.ordinal.positions,F>pe[pe.length-1]&&pe.push(F),this.fixedRange=se-Q,Y=f.navigatorAxis.toFixedRange(void 0,void 0,ce.apply(J,[ue.apply(J,[Q,!0])+Y]),ce.apply(Ce,[ue.apply(Ce,[se,!0])+Y])),Y.min>=Math.min(fe.dataMin,Q)&&Y.max<=Math.max(F,se)+g&&f.setExtremes(Y.min,Y.max,!0,!1,{trigger:"pan"}),this.mouseDownX=b,R(this.container,{cursor:"move"})):X=!0}else X=!0;X||A&&/y/.test(A.type)?g&&(f.max=f.dataMax+g):P.preventDefault()}function V(){const P=this.xAxis;P&&P.options.ordinal&&(delete P.ordinal.index,delete P.ordinal.extendedOrdinalPositions)}function j(P,f){const g=this.ordinal;var b=g.positions;let A=g.slope,X=g.extendedOrdinalPositions;if(!b)return P;var Y=b.length;if(b[0]<=P&&b[Y-1]>=P)P=H(b,P);else{if(X||(X=g.getExtendedPositions&&g.getExtendedPositions(),g.extendedOrdinalPositions=X),!X||!X.length)return P;Y=X.length,A||(A=(X[Y-1]-X[0])/Y),b=H(X,b[0]),P=P>=X[0]&&P<=X[Y-1]?H(X,P)-b:P<X[0]?-b-(X[0]-P)/A:(P-X[Y-1])/A+Y-b}return f?P:A*(P||0)+g.offset}G.compose=function(P,f,g){if(h.pushUnique(L,P)){const b=P.prototype;b.getTimeTicks=M,b.index2val=S,b.lin2val=D,b.val2lin=j,b.ordinal2lin=b.val2lin,s(P,"afterInit",U),s(P,"foundExtremes",E),s(P,"afterSetScale",ie),s(P,"initialAxisTranslation",te)}return h.pushUnique(L,g)&&s(g,"pan",$),h.pushUnique(L,f)&&s(f,"updatedData",V),P};class x{constructor(f){this.index={},this.axis=f}beforeSetTickPositions(){const f=this.axis,g=f.ordinal;var b=f.getExtremes();const A=b.min;var X=b.max;const Y=f.isXAxis&&!!f.options.breaks;b=f.options.ordinal;const J=f.chart.options.chart.ignoreHiddenSeries;let ce,pe;var fe;let F=[],Q=Number.MAX_VALUE,se=!1,ue=!1,Ce=!1;if(b||Y){let ve=0;if(f.series.forEach(function(_e,oe){if(pe=[],0<oe&&_e.options.id!=="highcharts-navigator-series"&&1<_e.processedXData.length&&(ue=ve!==_e.processedXData[1]-_e.processedXData[0]),ve=_e.processedXData[1]-_e.processedXData[0],_e.boosted&&(Ce=_e.boosted),!(J&&_e.visible===!1||_e.takeOrdinalPosition===!1&&!Y)&&(F=F.concat(_e.processedXData),ce=F.length,F.sort(function(ye,Se){return ye-Se}),Q=Math.min(Q,z(_e.closestPointRange,Q)),ce)){for(oe=0;oe<ce-1;)F[oe]!==F[oe+1]&&pe.push(F[oe+1]),oe++;pe[0]!==F[0]&&pe.unshift(F[0]),F=pe}}),ue&&Ce&&(F.pop(),F.shift()),ce=F.length,2<ce){var ne=F[1]-F[0];for(fe=ce-1;fe--&&!se;)F[fe+1]-F[fe]!==ne&&(se=!0);!f.options.keepOrdinalPadding&&(F[0]-A>ne||X-F[F.length-1]>ne)&&(se=!0)}else f.options.overscroll&&(ce===2?Q=F[1]-F[0]:ce===1?(Q=f.options.overscroll,F=[F[0],F[0]+Q]):Q=g.overscrollPointsRange);se||f.forceOrdinal?(f.options.overscroll&&(g.overscrollPointsRange=Q,F=F.concat(g.getOverscrollPositions())),g.positions=F,ne=f.ordinal2lin(Math.max(A,F[0]),!0),fe=Math.max(f.ordinal2lin(Math.min(X,F[F.length-1]),!0),1),g.slope=X=(X-A)/(fe-ne),g.offset=A-ne*X):(g.overscrollPointsRange=z(f.closestPointRange,g.overscrollPointsRange),g.positions=f.ordinal.slope=g.offset=void 0)}f.isOrdinal=b&&se,g.groupIntervalFactor=null}static findIndexOf(f,g,b){let A=0,X=f.length-1,Y;for(;A<X;)Y=Math.ceil((A+X)/2),f[Y]<=g?A=Y:X=Y-1;return f[A]===g||b?A:-1}getExtendedPositions(){const f=this,g=f.axis,b=g.constructor.prototype,A=g.chart,X=g.series[0].currentDataGrouping,Y=X?X.count+X.unitName:"raw",J=g.options.overscroll,ce=g.getExtremes();let pe,fe,F=f.index;return F||(F=f.index={}),F[Y]||(pe={series:[],chart:A,forceOrdinal:!1,getExtremes:function(){return{min:ce.dataMin,max:ce.dataMax+J}},getGroupPixelWidth:b.getGroupPixelWidth,getTimeTicks:b.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:b.ordinal2lin,getIndexOfPoint:b.getIndexOfPoint,val2lin:b.val2lin},pe.ordinal.axis=pe,g.series.forEach(function(Q){fe={xAxis:pe,xData:Q.xData.slice(),chart:A,destroyGroupedData:o.noop,getProcessedData:d.prototype.getProcessedData,applyGrouping:d.prototype.applyGrouping},fe.xData=fe.xData.concat(f.getOverscrollPositions()),fe.options={dataGrouping:X?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[X.unitName,[X.count]]]}:{enabled:!1}},pe.series.push(fe),Q.processData.apply(fe)}),fe.closestPointRange!==fe.basePointRange&&fe.currentDataGrouping&&(pe.forceOrdinal=!0),g.ordinal.beforeSetTickPositions.apply({axis:pe}),F[Y]=pe.ordinal.positions),F[Y]}getGroupIntervalFactor(f,g,b){b=b.processedXData;const A=b.length;var X=[],Y=this.groupIntervalFactor;if(!Y){for(Y=0;Y<A-1;Y++)X[Y]=b[Y+1]-b[Y];X.sort(function(J,ce){return J-ce}),X=X[Math.floor(A/2)],f=Math.max(f,b[0]),g=Math.min(g,b[A-1]),this.groupIntervalFactor=Y=A*X/(g-f)}return Y}getIndexOfPoint(f,g){const b=this.axis,A=this.positions?this.positions[0]:0;let X=b.series[0].points&&b.series[0].points[0]&&b.series[0].points[0].plotX||b.minPixelPadding;return 1<b.series.length&&b.series.forEach(function(Y){Y.points&&K(Y.points[0])&&K(Y.points[0].plotX)&&Y.points[0].plotX<X&&Y.points[0].plotX>=z(b.min,-1/0)&&(X=Y.points[0].plotX)}),f=(f-X)/(b.translationSlope*(this.slope||b.closestPointRange||this.overscrollPointsRange)),x.findIndexOf(g,A)+f}getOverscrollPositions(){const f=this.axis,g=f.options.overscroll,b=this.overscrollPointsRange,A=[];let X=f.dataMax;if(K(b))for(;X<=f.dataMax+g;)X+=b,A.push(X);return A}postProcessTickInterval(f){const g=this.axis,b=this.slope;return b?g.options.breaks?g.closestPointRange||f:f/(b/g.closestPointRange):f}}G.Additions=x}(O||(O={})),O}),i(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({column:{prototype:{pointClass:r}}}=r.seriesTypes);class o extends r{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}return o}),i(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),i(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{column:s}=d.seriesTypes,{extend:v,merge:R}=h;class K extends s{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(z,q,L){const O=z[0];z=z[1],typeof O[2]=="number"&&(O[2]=Math.max(L+q,O[2])),typeof z[2]=="number"&&(z[2]=Math.min(L-q,z[2]))}getPointPath(z,q){q=q.strokeWidth();const L=z.series,O=q%2/2,G=Math.round(z.plotX)-O,M=Math.round(z.shapeArgs.width/2),S=[["M",G,Math.round(z.yBottom)],["L",G,Math.round(z.plotHigh)]];return z.close!==null&&(z=Math.round(z.plotClose)+O,S.push(["M",G,z],["L",G+M,z]),L.extendStem(S,q/2,z)),S}drawSinglePoint(z){var q=z.series;const L=q.chart;let O=z.graphic;typeof z.plotY<"u"&&(O||(z.graphic=O=L.renderer.path().add(q.group)),L.styledMode||O.attr(q.pointAttribs(z,z.selected&&"select")),q=q.getPointPath(z,O),O[O?"animate":"attr"]({d:q}).addClass(z.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(z,q){return z=super.pointAttribs.call(this,z,q),delete z.fill,z}toYData(z){return[z.high,z.low,z.close]}translate(){const z=this,q=z.yAxis,L=this.pointArrayMap&&this.pointArrayMap.slice()||[],O=L.map(G=>`plot${G.charAt(0).toUpperCase()+G.slice(1)}`);O.push("yBottom"),L.push("low"),super.translate.apply(z),z.points.forEach(function(G){L.forEach(function(M,S){M=G[M],M!==null&&(z.dataModify&&(M=z.dataModify.modifyValue(M)),G[O[S]]=q.toPixels(M,!0))}),G.tooltipPos[1]=G.plotHigh+q.pos-z.chart.plotTop})}}return K.defaultOptions=R(s.defaultOptions,o),v(K.prototype,{pointClass:r,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),d.registerSeriesType("hlc",K),K}),i(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({seriesTypes:{hlc:r}}=r);class o extends r.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const h=super.getZone();return this.resolveUpColor(),h}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return o}),i(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),i(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){function s(O){O=O.options;const G=O.dataGrouping;G&&O.useOhlcData&&O.id!=="highcharts-navigator-series"&&(G.approximation="ohlc")}function v(O){O=O.options,O.useOhlcData&&O.id!=="highcharts-navigator-series"&&k(this,{pointValKey:L.prototype.pointValKey,pointArrayMap:L.prototype.pointArrayMap,toYData:L.prototype.toYData})}const{seriesTypes:{hlc:R}}=d,{addEvent:K,extend:k,merge:z}=h,q=[];class L extends R{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(G,...M){h.pushUnique(q,G)&&(K(G,"afterSetOptions",s),K(G,"init",v))}getPointPath(G,M){const S=super.getPointPath(G,M);M=M.strokeWidth();const D=M%2/2,H=Math.round(G.plotX)-D,U=Math.round(G.shapeArgs.width/2);return G.open!==null&&(G=Math.round(G.plotOpen)+D,S.push(["M",H,G],["L",H-U,G]),super.extendStem(S,M/2,G)),S}pointAttribs(G,M){M=super.pointAttribs.call(this,G,M);const S=this.options;return delete M.fill,!G.options.color&&S.upColor&&G.open<G.close&&(M.stroke=S.upColor),M}toYData(G){return[G.open,G.high,G.low,G.close]}}return L.defaultOptions=z(R.defaultOptions,o),k(L.prototype,{pointClass:r,pointArrayMap:["open","high","low","close"]}),d.registerSeriesType("ohlc",L),L}),i(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(r,o){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),i(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({defaultOptions:o}=o);const{column:s,ohlc:v}=d.seriesTypes;({merge:h}=h);class R extends v{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(k,z){const q=s.prototype.pointAttribs.call(this,k,z),L=this.options,O=k.open<k.close,G=L.lineColor||this.color,M=k.color||this.color;return q["stroke-width"]=L.lineWidth,q.fill=k.options.color||O&&L.upColor||M,q.stroke=k.options.lineColor||O&&L.upLineColor||G,z&&(k=L.states[z],q.fill=k.color||q.fill,q.stroke=k.lineColor||q.stroke,q["stroke-width"]=k.lineWidth||q["stroke-width"]),q}drawPoints(){var k=this.points;const z=this.chart,q=this.yAxis.reversed;for(const M of k){k=M.graphic;var L=void 0,O=void 0;let S,D;var G=void 0;let H,U;const E=!k;typeof M.plotY<"u"&&(k||(M.graphic=k=z.renderer.path().add(this.group)),this.chart.styledMode||k.attr(this.pointAttribs(M,M.selected&&"select")).shadow(this.options.shadow),G=k.strokeWidth()%2/2,H=Math.round(M.plotX)-G,L=M.plotOpen,O=M.plotClose,S=Math.min(L,O),L=Math.max(L,O),U=Math.round(M.shapeArgs.width/2),O=q?L!==M.yBottom:Math.round(S)!==Math.round(M.plotHigh),D=q?Math.round(S)!==Math.round(M.plotHigh):L!==M.yBottom,S=Math.round(S)+G,L=Math.round(L)+G,G=[],G.push(["M",H-U,L],["L",H-U,S],["L",H+U,S],["L",H+U,L],["Z"],["M",H,S],["L",H,O?Math.round(q?M.yBottom:M.plotHigh):S],["M",H,L],["L",H,D?Math.round(q?M.plotHigh:M.yBottom):L]),k[E?"attr":"animate"]({d:G}).addClass(M.getClassName(),!0))}}}return R.defaultOptions=h(v.defaultOptions,o.plotOptions,{tooltip:v.defaultOptions.tooltip},r),d.registerSeriesType("candlestick",R),R}),i(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){({column:{prototype:{pointClass:r}}}=r.seriesTypes);const{isNumber:d}=o;class h extends r{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return d(this.y)||typeof this.y>"u"}hasNewShapeType(){const v=this.options.shape||this.series.options.shape;return this.graphic&&v&&v!==this.graphic.symbolKey}}return h}),i(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),i(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(r){var o;return function(d){function h(R,K,k,z,q){const L=q&&q.anchorX||R;q=q&&q.anchorY||K;const O=this.circle(L-1,q-1,2,2);return O.push(["M",L,q],["L",R,K+z],["L",R,K],["L",R+k,K],["L",R+k,K+z],["L",R,K+z],["Z"]),O}function s(R,K){R[K+"pin"]=function(k,z,q,L,O){const G=O&&O.anchorX;O=O&&O.anchorY;let M;if(K==="circle"&&L>q&&(k-=Math.round((L-q)/2),q=L),M=R[K](k,z,q,L),G&&O){let S=G;K==="circle"?S=k+q/2:(k=M[0],q=M[1],k[0]==="M"&&q[0]==="L"&&(S=(k[1]+q[1])/2)),M.push(["M",S,z>O?z:z+L],["L",G,O]),M=M.concat(R.circle(G-1,O-1,2,2))}return M}}const v=[];d.compose=function(R){v.indexOf(R)===-1&&(v.push(R),R=R.prototype.symbols,R.flag=h,s(R,"circle"),s(R,"square")),R=r.getRendererType(),v.indexOf(R)&&v.push(R)}}(o||(o={})),o}),i(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,d){const{prototype:h}=r,{prototype:s}=o,{defined:v,stableSort:R}=d;var K;return function(k){function z(O){return s.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,O)}function q(){h.translate.apply(this);const O=this;var G=O.options,M=O.chart;const S=O.points;var D=G.onSeries;const H=(D=D&&M.get(D))&&D.options.step,U=D&&D.points,E=M.inverted,ie=O.xAxis,te=O.yAxis;M=S.length-1;let $;G=G.onKey||"y";let V=U&&U.length,j=0,x,P,f,g;if(D&&D.visible&&V){j=(D.pointXOffset||0)+(D.barW||0)/2;var b=D.currentDataGrouping;for(P=U[V-1].x+(b?b.totalRange:0),R(S,(A,X)=>A.x-X.x),G="plot"+G[0].toUpperCase()+G.substr(1);V--&&S[M]&&(x=U[V],b=S[M],b.y=x.y,!(x.x<=b.x&&typeof x[G]<"u"&&(b.x<=P&&(b.plotY=x[G],x.x<b.x&&!H&&(f=U[V+1])&&typeof f[G]<"u"&&(g=(b.x-x.x)/(f.x-x.x),b.plotY+=g*(f[G]-x[G]),b.y+=g*(f.y-x.y))),M--,V++,0>M))););}S.forEach((A,X)=>{let Y;A.plotX+=j,(typeof A.plotY>"u"||E)&&(0<=A.plotX&&A.plotX<=ie.len?E?(A.plotY=ie.translate(A.x,0,1,0,1),A.plotX=v(A.y)?te.translate(A.y,0,0,0,1):0):A.plotY=(ie.opposite?0:O.yAxis.len)+ie.offset:A.shapeArgs={}),($=S[X-1])&&$.plotX===A.plotX&&(typeof $.stackIndex>"u"&&($.stackIndex=0),Y=$.stackIndex+1),A.stackIndex=Y}),this.onSeries=D}const L=[];k.compose=function(O){if(d.pushUnique(L,O)){const G=O.prototype;G.getPlotBox=z,G.translate=q}return O},k.getPlotBox=z,k.translate=q}(K||(K={})),K}),i(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R,K,k){({noop:h}=h);const{distribute:z}=v,{series:q,seriesTypes:{column:L}}=R,{addEvent:O,defined:G,extend:M,merge:S,objectEach:D,wrap:H}=k;class U extends L{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(ie){ie&&this.setClip()}drawPoints(){var ie=this.points,te=this.chart;const $=te.renderer,V=te.inverted,j=this.options,x=j.y,P=this.yAxis,f={},g=[];let b,A,X,Y,J,ce,pe;for(X=ie.length;X--;){Y=ie[X],ce=(V?Y.plotY:Y.plotX)>this.xAxis.len,b=Y.plotX;var fe=Y.stackIndex,F=Y.options.shape||j.shape;A=Y.plotY,typeof A<"u"&&(A=Y.plotY+x-(typeof fe<"u"&&fe*j.stackDistance)),Y.anchorX=fe?void 0:Y.plotX,J=fe?void 0:Y.plotY,pe=F!=="flag",fe=Y.graphic,typeof A<"u"&&0<=b&&!ce?(fe&&Y.hasNewShapeType()&&(fe=fe.destroy()),fe||(fe=Y.graphic=$.label("",null,null,F,null,null,j.useHTML).addClass("highcharts-point").add(this.markerGroup),Y.graphic.div&&(Y.graphic.div.point=Y),fe.isNew=!0),fe.attr({align:pe?"center":"left",width:j.width,height:j.height,"text-align":j.textAlign}),te.styledMode||fe.attr(this.pointAttribs(Y)).css(S(j.style,Y.style)).shadow(j.shadow),0<b&&(b-=fe.strokeWidth()%2),F={y:A,anchorY:J},j.allowOverlapX&&(F.x=b,F.anchorX=Y.anchorX),fe.attr({text:Y.options.title||j.title||"A"})[fe.isNew?"attr":"animate"](F),j.allowOverlapX||(f[Y.plotX]?f[Y.plotX].size=Math.max(f[Y.plotX].size,fe.width):f[Y.plotX]={align:pe?.5:0,size:fe.width,target:b,anchorX:b}),Y.tooltipPos=[b,A+P.pos-te.plotTop]):fe&&(Y.graphic=fe.destroy())}if(!j.allowOverlapX){let Q=100;D(f,function(se){se.plotX=se.anchorX,g.push(se),Q=Math.max(se.size,Q)}),z(g,V?P.len:this.xAxis.len,Q);for(const se of ie)te=se.plotX,(te=(ie=se.graphic)&&f[te])&&ie&&(G(te.pos)?ie[ie.isNew?"attr":"animate"]({x:te.pos+(te.align||0)*te.size,anchorX:se.anchorX}).show().isNew=!1:ie.hide().isNew=!0)}j.useHTML&&this.markerGroup&&H(this.markerGroup,"on",function(Q){return K.prototype.on.apply(Q.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const ie=this.points;super.drawTracker();for(const te of ie){const $=te.graphic;$&&(te.unbindMouseOver&&te.unbindMouseOver(),te.unbindMouseOver=O($.element,"mouseover",function(){0<te.stackIndex&&!te.raised&&(te._y=$.y,$.attr({y:te._y-8}),te.raised=!0);for(const V of ie)V!==te&&V.raised&&V.graphic&&(V.graphic.attr({y:V._y}),V.raised=!1)}))}}pointAttribs(ie,te){const $=this.options,V=ie&&ie.color||this.color;let j=$.lineColor,x=ie&&ie.lineWidth;return ie=ie&&ie.fillColor||$.fillColor,te&&(ie=$.states[te].fillColor,j=$.states[te].lineColor,x=$.states[te].lineWidth),{fill:ie||V,stroke:j||V,"stroke-width":x||$.lineWidth||0}}setClip(){q.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return U.compose=d.compose,U.defaultOptions=S(L.defaultOptions,o),s.compose(U),M(U.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:r,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:h,init:q.prototype.init}),R.registerSeriesType("flags",U),U}),i(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R,K,k,z){function q(x,P){return x==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:x==="yAxis"?{labels:{y:-2},opposite:$(P.opposite,!0),showLastLabel:!(!P.categories&&P.type!=="category"),title:{text:null}}:{}}function L(x,P){return x==="xAxis"?(x={type:"datetime",categories:void 0},$(P.navigator&&P.navigator.enabled,s.enabled,!0)&&(x.startOnTick=!1,x.endOnTick=!1),x):{}}const{format:O}=d,{getOptions:G}=h,{addEvent:M,clamp:S,defined:D,extend:H,find:U,isNumber:E,isString:ie,merge:te,pick:$,splat:V}=z;class j extends o{init(P,f){const g=G(),b=P.xAxis,A=P.yAxis;var X=$(P.navigator&&P.navigator.enabled,s.enabled,!0);P.xAxis=P.yAxis=void 0,X=te({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:X},scrollbar:{enabled:$(R.enabled,!0)},rangeSelector:{enabled:$(v.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:$(g.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},P,{isStock:!0}),P.xAxis=b,P.yAxis=A,X.xAxis=V(P.xAxis||{}).map(function(Y,J){return te(q("xAxis",Y),g.xAxis,g.xAxis&&g.xAxis[J],Y,L("xAxis",P))}),X.yAxis=V(P.yAxis||{}).map(function(Y,J){return te(q("yAxis",Y),g.yAxis,g.yAxis&&g.yAxis[J],Y)}),super.init(X,f)}createAxis(P,f){return f.axis=te(q(P,f.axis),f.axis,L(P,this.userOptions)),super.createAxis(P,f)}}return function(x){x.stockChart=function(P,f,g){return new x(P,f,g)}}(j||(j={})),M(K,"setOptions",function(x){let P;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?P={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(P={marker:{enabled:!1,radius:2}}),P&&(x.plotOptions[this.type]=te(x.plotOptions[this.type],P)))}),M(r,"autoLabelAlign",function(x){const{chart:P,options:f}=this,g=P._labelPanes=P._labelPanes||{},b=f.labels;if(P.options.isStock&&this.coll==="yAxis"){const A=f.top+","+f.height;!g[A]&&b.enabled&&(b.distance===15&&this.side===1&&(b.distance=0),typeof b.align>"u"&&(b.align="right"),g[A]=this,x.align="right",x.preventDefault())}}),M(r,"destroy",function(){const x=this.chart,P=this.options&&this.options.top+","+this.options.height;P&&x._labelPanes&&x._labelPanes[P]===this&&delete x._labelPanes[P]}),M(r,"getPlotLinePath",function(x){function P(oe){const ye=oe==="xAxis"?"yAxis":"xAxis";return oe=f.options[ye],E(oe)?[b[ye][oe]]:ie(oe)?[b.get(oe)]:g.map(function(Se){return Se[ye]})}let f=this,g=this.isLinked&&!this.series?this.linkedParent.series:this.series,b=f.chart,A=b.renderer,X=f.left,Y=f.top,J,ce,pe,fe,F=[],Q=[],se,ue,Ce=x.translatedValue,ne=x.value,ve=x.force,_e;(b.options.isStock&&x.acrossPanes!==!1&&f.coll==="xAxis"||f.coll==="yAxis")&&(x.preventDefault(),Q=P(f.coll),se=f.isXAxis?b.yAxis:b.xAxis,se.forEach(function(oe){if(!D(oe.options.id)||oe.options.id.indexOf("navigator")===-1){var ye=oe.isXAxis?"yAxis":"xAxis";ye=D(oe.options[ye])?b[ye][oe.options[ye]]:b[ye][0],f===ye&&Q.push(oe)}}),ue=Q.length?[]:[f.isXAxis?b.yAxis[0]:b.xAxis[0]],Q.forEach(function(oe){ue.indexOf(oe)!==-1||U(ue,function(ye){return ye.pos===oe.pos&&ye.len===oe.len})||ue.push(oe)}),_e=$(Ce,f.translate(ne,void 0,void 0,x.old)),E(_e)&&(f.horiz?ue.forEach(function(oe){let ye;ce=oe.pos,fe=ce+oe.len,J=pe=Math.round(_e+f.transB),ve!=="pass"&&(J<X||J>X+f.width)&&(ve?J=pe=S(J,X,X+f.width):ye=!0),ye||F.push(["M",J,ce],["L",pe,fe])}):ue.forEach(function(oe){let ye;J=oe.pos,pe=J+oe.len,ce=fe=Math.round(Y+f.height-_e),ve!=="pass"&&(ce<Y||ce>Y+f.height)&&(ve?ce=fe=S(ce,Y,Y+f.height):ye=!0),ye||F.push(["M",J,ce],["L",pe,fe])})),x.path=0<F.length?A.crispPolyLine(F,x.lineWidth||1):null)}),k.prototype.crispPolyLine=function(x,P){for(let f=0;f<x.length;f+=2){const g=x[f],b=x[f+1];g[1]===b[1]&&(g[1]=b[1]=Math.round(g[1])-P%2/2),g[2]===b[2]&&(g[2]=b[2]=Math.round(g[2])+P%2/2)}return x},M(r,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),M(r,"afterDrawCrosshair",function(x){var P,f;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&E(this.min)&&E(this.max)){var g=this.chart,b=this.logarithmic,A=this.crosshair.label,X=this.horiz,Y=this.opposite,J=this.left,ce=this.top,pe=this.width,fe=this.crossLabel,F=A.format,Q="",se=this.options.tickPosition==="inside",ue=this.crosshair.snap!==!1,Ce=0,ne=x.e||this.cross&&this.cross.e;x=x.point;var ve=this.min,_e=this.max;b&&(ve=b.lin2log(ve),_e=b.lin2log(_e)),b=X?"center":Y?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",fe||(fe=this.crossLabel=g.renderer.label("",0,void 0,A.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(x&&x.series?x.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:A.align||b,padding:$(A.padding,8),r:$(A.borderRadius,3),zIndex:2}).add(this.labelGroup),g.styledMode||fe.attr({fill:A.backgroundColor||x&&x.series&&x.series.color||"#666666",stroke:A.borderColor||"","stroke-width":A.borderWidth||0}).css(H({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},A.style||{}))),X?(pe=ue?(x.plotX||0)+J:ne.chartX,ce+=Y?0:this.height):(pe=J+this.offset+(Y?pe:0),ce=ue?(x.plotY||0)+ce:ne.chartY),F||A.formatter||(this.dateTime&&(Q="%b %d, %Y"),F="{value"+(Q?":"+Q:"")+"}"),Q=ue?this.isXAxis?x.x:x.y:this.toValue(X?ne.chartX:ne.chartY),ue=x&&x.series?x.series.isPointInside(x):E(Q)&&Q>ve&&Q<_e,ne="",F?ne=O(F,{value:Q},g):A.formatter&&E(Q)&&(ne=A.formatter.call(this,Q)),fe.attr({text:ne,x:pe,y:ce,visibility:ue?"inherit":"hidden"}),A=fe.getBBox(),!E(fe.x)||X||Y||(pe=fe.x-A.width/2),E(fe.y)&&(X?(se&&!Y||!se&&Y)&&(ce=fe.y-A.height):ce=fe.y-A.height/2),X?(P=J-A.x,f=J+this.width-A.x):(P=this.labelAlign==="left"?J:0,f=this.labelAlign==="right"?J+this.width:g.chartWidth),fe.translateX<P&&(Ce=P-fe.translateX),fe.translateX+A.width>=f&&(Ce=-(fe.translateX+A.width-f)),fe.attr({x:pe+Ce,y:ce,anchorX:X?pe:this.opposite?0:g.chartWidth,anchorY:X?this.opposite?g.chartHeight:0:ce+A.height/2})}}),K.prototype.forceCropping=function(){const x=this.chart,P=this.options.dataGrouping;return this.allowDG!==!1&&P&&$(P.enabled,x.options.isStock)},M(o,"update",function(x){x=x.options,"scrollbar"in x&&this.navigator&&(te(!0,this.options.scrollbar,x.scrollbar),this.navigator.update({}),delete x.scrollbar)}),j}),i(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Axis/OrdinalAxis.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"],t["Core/Chart/StockChart.js"]],function(r,o,d,h,s,v,R,K,k){r.Navigator=d,r.RangeSelector=h,r.Scrollbar=s,r.StockChart=r.stockChart=k.stockChart,o.compose(r.Series,r.Axis,r.Point),K.compose(r.Renderer),d.compose(r.Axis,r.Chart,r.Series),R.compose(r.Series),v.compose(r.Axis,r.Series,r.Chart),h.compose(r.Axis,r.Chart),s.compose(r.Axis)})})})(j6);var dJ=j6.exports;const uJ=tu(dJ);uJ(yc);const hJ={name:"graph",components:{Chart:rm.Chart},data(){return{chartOptions:{chart:{zoomType:"xy"},title:{text:"",align:""},subtitle:{text:"",align:""},xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}°C",style:{color:yc.getOptions().colors[2]}},title:{text:"Temperature",style:{color:yc.getOptions().colors[2]}},opposite:!0},{gridLineWidth:0,title:{text:"Rainfall",style:{color:yc.getOptions().colors[0]}},labels:{format:"{value} mm",style:{color:yc.getOptions().colors[0]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:yc.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:yc.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:yc.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{name:"Rainfall",type:"column",yAxis:1,data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Sea-Level Pressure",type:"spline",yAxis:2,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},dashStyle:"shortdot",tooltip:{valueSuffix:" mb"}},{name:"Temperature",type:"spline",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}}}}};function pJ(e,t,i,r,o,d){const h=ur("Chart");return dt(),Dr(h,{options:o.chartOptions,constructorType:"stockChart"},null,8,["options"])}const fJ=Cr(hJ,[["render",pJ]]);var U6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},i(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){function d(k){if(typeof v.MouseEvent=="function")return new v.MouseEvent(k.type,k);if(s.createEvent){const z=s.createEvent("MouseEvent");if(z.initMouseEvent)return z.initMouseEvent(k.type,k.bubbles,k.cancelable,k.view||v,k.detail,k.screenX,k.screenY,k.clientX,k.clientY,k.ctrlKey,k.altKey,k.shiftKey,k.metaKey,k.button,k.relatedTarget),z}return h(k.type)}function h(k,z,q){return z=z||{x:0,y:0},typeof v.MouseEvent=="function"?new v.MouseEvent(k,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:q||K,view:v,detail:k==="click"?1:0,screenX:z.x,screenY:z.y,clientX:z.x,clientY:z.y}):s.createEvent&&(q=s.createEvent("MouseEvent"),q.initMouseEvent)?(q.initMouseEvent(k,!0,!0,v,k==="click"?1:0,z.x,z.y,z.x,z.y,!1,!1,!1,!1,0,null),q):{type:k}}const{doc:s,win:v}=r,{css:R}=o,K=v.EventTarget&&new v.EventTarget||"none";return{addClass:function(k,z){k.classList?k.classList.add(z):0>k.className.indexOf(z)&&(k.className+=" "+z)},cloneMouseEvent:d,cloneTouchEvent:function(k){var z=q=>{const L=[];for(let O=0;O<q.length;++O){const G=q.item(O);G&&L.push(G)}return L};return typeof v.TouchEvent=="function"?(z=new v.TouchEvent(k.type,{touches:z(k.touches),targetTouches:z(k.targetTouches),changedTouches:z(k.changedTouches),ctrlKey:k.ctrlKey,shiftKey:k.shiftKey,altKey:k.altKey,metaKey:k.metaKey,bubbles:k.bubbles,cancelable:k.cancelable,composed:k.composed,detail:k.detail,view:k.view}),k.defaultPrevented&&z.preventDefault(),z):(z=d(k),z.touches=k.touches,z.changedTouches=k.changedTouches,z.targetTouches=k.targetTouches,z)},escapeStringForHTML:function(k){return k.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(k){return s.getElementById(k)},getFakeMouseEvent:h,getHeadingTagNameForElement:function(k){const z=L=>(L=parseInt(L.slice(1),10),"h"+Math.min(6,L+1)),q=L=>{var O;e:{for(O=L;O=O.previousSibling;){const G=O.tagName||"";if(/H[1-6]/.test(G)){O=G;break e}}O=""}return O?z(O):(L=L.parentElement,L?(O=L.tagName,/H[1-6]/.test(O)?z(O):q(L)):"p")};return q(k)},removeChildNodes:function(k){for(;k.lastChild;)k.removeChild(k.lastChild)},removeClass:function(k,z){k.classList?k.classList.remove(z):k.className=k.className.replace(new RegExp(z,"g"),"")},removeElement:function(k){k&&k.parentNode&&k.parentNode.removeChild(k)},reverseChildNodes:function(k){let z=k.childNodes.length;for(;z--;)k.appendChild(k.childNodes[z])},simulatedEventTarget:K,stripHTMLTagsFromString:function(k){return typeof k=="string"?k.replace(/<\/?[^>]+(>|$)/g,""):k},visuallyHideElement:function(k){R(k,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),i(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(r,o){const{format:d}=r,{getNestedProperty:h,pick:s}=o;var v;return function(R){function K(L,O){var G=L.indexOf("#each("),M=L.indexOf("#plural("),S=L.indexOf("[");const D=L.indexOf("]");if(-1<G){S=L.slice(G).indexOf(")")+G;var H=L.substring(0,G);if(M=L.substring(S+1),S=L.substring(G+6,S).split(","),G=Number(S[1]),L="",O=h(S[0],O))for(G=isNaN(G)?O.length:G,G=0>G?O.length+G:Math.min(G,O.length),S=0;S<G;++S)L+=H+O[S]+M;return L.length?L:""}if(-1<M){switch(H=L.slice(M).indexOf(")")+M,L=L.substring(M+8,H).split(","),Number(h(L[0],O))){case 0:L=s(L[4],L[1]);break;case 1:L=s(L[2],L[1]);break;case 2:L=s(L[3],L[1]);break;default:L=L[1]}return L?(O=L,O=O.trim&&O.trim()||O.replace(/^\s+|\s+$/g,"")):O="",O}return-1<S?(M=L.substring(0,S),L=Number(L.substring(S+1,D)),O=h(M,O),!isNaN(L)&&O&&(0>L?(H=O[O.length+L],typeof H>"u"&&(H=O[0])):(H=O[L],typeof H>"u"&&(H=O[O.length-1]))),typeof H<"u"?H:""):"{"+L+"}"}function k(L,O,G){const M=(E,ie)=>{E=E.slice(ie||0);const te=E.indexOf("{"),$=E.indexOf("}");if(-1<te&&$>te)return{statement:E.substring(te+1,$),begin:ie+te+1,end:ie+$}},S=[];let D,H,U=0;do D=M(L,U),H=L.substring(U,D&&D.begin-1),H.length&&S.push({value:H,type:"constant"}),D&&S.push({value:D.statement,type:"statement"}),U=D?D.end+1:U+1;while(D);return S.forEach(E=>{E.type==="statement"&&(E.value=K(E.value,O))}),d(S.reduce((E,ie)=>E+ie.value,""),O,G)}function z(L,O){L=L.split(".");let G=this.options.lang,M=0;for(;M<L.length;++M)G=G&&G[L[M]];return typeof G=="string"?k(G,O,this):""}const q=[];R.compose=function(L){return o.pushUnique(q,L)&&(L.prototype.langFormat=z),L},R.i18nFormat=k}(v||(v={})),v}),i(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d){function h(M,S){const D=S.type,H=M.hcEvents;z.createEvent&&(M.dispatchEvent||M.fireEvent)?M.dispatchEvent?M.dispatchEvent(S):M.fireEvent(D,S):H&&H[D]?G(M,D,S):M.element&&h(M.element,S)}function s(M){const S=M.chart,D={};let H="Seconds";D.Seconds=((M.dataMax||M.max||0)-(M.dataMin||M.min||0))/1e3,D.Minutes=D.Seconds/60,D.Hours=D.Minutes/60,D.Days=D.Hours/24,["Minutes","Hours","Days"].forEach(function(E){2<D[E]&&(H=E)});const U=D[H].toFixed(H!=="Seconds"&&H!=="Minutes"?1:0);return S.langFormat("accessibility.axis.timeRange"+H,{chart:S,axis:M,range:U.replace(".0","")})}function v(M){const S=M.chart;var D=S.options;const H=D&&D.accessibility&&D.accessibility.screenReaderSection.axisRangeDateFormat||"",U={min:M.dataMin||M.min||0,max:M.dataMax||M.max||0};return D=function(E){return M.dateTime?S.time.dateFormat(H,U[E]):U[E].toString()},S.langFormat("accessibility.axis.rangeFromTo",{chart:S,axis:M,rangeFrom:D("min"),rangeTo:D("max")})}function R(M){if(M.points&&M.points.length)return(M=O(M.points,S=>!!S.graphic))&&M.graphic&&M.graphic.element}function K(M){const S=R(M);return S&&S.parentNode||M.graph&&M.graph.element||M.group&&M.group.element}function k(M,S){S.setAttribute("aria-hidden",!1),S!==M.renderTo&&S.parentNode&&S.parentNode!==z.body&&(Array.prototype.forEach.call(S.parentNode.childNodes,function(D){D.hasAttribute("aria-hidden")||D.setAttribute("aria-hidden",!0)}),k(M,S.parentNode))}const{doc:z}=r,{stripHTMLTagsFromString:q}=o,{defined:L,find:O,fireEvent:G}=d;return{fireEventOnWrappedOrUnwrappedElement:h,getChartTitle:function(M){return q(M.options.title.text||M.langFormat("accessibility.defaultChartTitle",{chart:M}))},getAxisDescription:function(M){return M&&(M.userOptions&&M.userOptions.accessibility&&M.userOptions.accessibility.description||M.axisTitle&&M.axisTitle.textStr||M.options.id||M.categories&&"categories"||M.dateTime&&"Time"||"values")},getAxisRangeDescription:function(M){var S=M.options||{};return S.accessibility&&typeof S.accessibility.rangeDescription<"u"?S.accessibility.rangeDescription:M.categories?(S=M.chart,M=M.dataMax&&M.dataMin?S.langFormat("accessibility.axis.rangeCategories",{chart:S,axis:M,numCategories:M.dataMax-M.dataMin+1}):"",M):!M.dateTime||M.min!==0&&M.dataMin!==0?v(M):s(M)},getPointFromXY:function(M,S,D){let H=M.length,U;for(;H--;)if(U=O(M[H].points||[],function(E){return E.x===S&&E.y===D}))return U},getSeriesFirstPointElement:R,getSeriesFromName:function(M,S){return S?(M.series||[]).filter(function(D){return D.name===S}):M.series},getSeriesA11yElement:K,unhideChartElementFromAT:k,hideSeriesFromAT:function(M){(M=K(M))&&M.setAttribute("aria-hidden",!0)},scrollToPoint:function(M){var S=M.series.xAxis,D=M.series.yAxis;const H=S&&S.scrollbar?S:D;if((S=H&&H.scrollbar)&&L(S.to)&&L(S.from)){if(D=S.to-S.from,L(H.dataMin)&&L(H.dataMax)){var U=H.toPixels(H.dataMin),E=H.toPixels(H.dataMax);M=(H.toPixels(M[H.coll==="xAxis"?"x":"y"]||0)-U)/(E-U)}else M=0;S.updatePosition(M-D/2,M+D/2),G(S,"changed",{from:S.from,to:S.to,trigger:"scrollbar",DOMEvent:null})}}}}),i(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o){const{doc:d}=r,{removeElement:h}=o;class s{constructor(){this.elements=[]}createElement(){const R=d.createElement.apply(d,arguments);return this.elements.push(R),R}destroyCreatedElements(){this.elements.forEach(function(R){h(R)}),this.elements=[]}}return s}),i(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d}=o;class h{constructor(){this.eventRemovers=[]}addEvent(){const v=d.apply(r,arguments);return this.eventRemovers.push(v),v}removeAddedEvents(){this.eventRemovers.forEach(v=>v()),this.eventRemovers=[]}}return h}),i(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{fireEventOnWrappedOrUnwrappedElement:v}=r,{getFakeMouseEvent:R}=h;({extend:r}=s);class K{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(z,q){this.chart=z,this.eventProvider=new d,this.domElementProvider=new o,this.proxyProvider=q,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(z,q,L,O){return this.eventProvider.addEvent(z,q,L,O)}createElement(z,q){return this.domElementProvider.createElement(z,q)}fakeClickEvent(z){const q=R("click");v(z,q)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return r(K.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),K}),i(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(r){const{find:o}=r;class d{constructor(s,v){this.chart=s,this.keyCodeMap=v.keyCodeMap||[],this.validate=v.validate,this.init=v.init,this.terminate=v.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(s){const v=s.which||s.keyCode;let R=this.response.noHandler;const K=o(this.keyCodeMap,function(k){return-1<k[0].indexOf(v)});return K?R=K[1].call(this,v,s):v===9&&(R=this.response[s.shiftKey?"prev":"next"]),R}}return d}),i(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s){const{unhideChartElementFromAT:v,getChartTitle:R}=d,{doc:K}=h,{stripHTMLTagsFromString:k}=s;class z extends r{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const L=this.chart,O="highcharts-title-"+L.index,G=k(L.langFormat("accessibility.svgContainerTitle",{chartTitle:R(L)}));if(G.length){const M=this.svgTitleElement=this.svgTitleElement||K.createElementNS("http://www.w3.org/2000/svg","title");M.textContent=G,M.id=O,L.renderTo.insertBefore(M,L.renderTo.firstChild)}}setSVGContainerLabel(){const L=this.chart,O=L.langFormat("accessibility.svgContainerLabel",{chartTitle:R(L)});L.renderer.box&&O.length&&L.renderer.box.setAttribute("aria-label",O)}setGraphicContainerAttrs(){const L=this.chart,O=L.langFormat("accessibility.graphicContainerLabel",{chartTitle:R(L)});O.length&&L.container.setAttribute("aria-label",O)}setRenderToAttrs(){const L=this.chart,O=L.options.accessibility.landmarkVerbosity!=="disabled",G=L.langFormat("accessibility.chartContainerLabel",{title:R(L),chart:L});G&&(L.renderTo.setAttribute("role",O?"region":"group"),L.renderTo.setAttribute("aria-label",G))}makeCreditsAccessible(){const L=this.chart,O=L.credits;O&&(O.textStr&&O.element.setAttribute("aria-label",L.langFormat("accessibility.credits",{creditsStr:k(O.textStr)})),v(L,O.element))}getKeyboardNavigation(){const L=this.chart;return new o(L,{keyCodeMap:[],validate:function(){return!0},init:function(){const O=L.accessibility;O&&O.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return z}),i(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d,pick:h}=o;var s;return function(v){function R(){const S=this.focusElement,D=this.options.accessibility.keyboardNavigation.focusBorder;S&&(S.removeFocusBorder(),D.enabled&&S.addFocusBorder(D.margin,{stroke:D.style.color,strokeWidth:D.style.lineWidth,r:D.style.borderRadius}))}function K(S,D){const H=this.options.accessibility.keyboardNavigation.focusBorder;(D=D||S.element)&&D.focus&&(D.hcEvents&&D.hcEvents.focusin||d(D,"focusin",function(){}),D.focus(),H.hideBrowserFocusOutline&&(D.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=S,this.renderFocusBorder()}function k(S){if(!S.focusBorderDestroyHook){var D=S.destroy;S.destroy=function(){return S.focusBorder&&S.focusBorder.destroy&&S.focusBorder.destroy(),D.apply(S,arguments)},S.focusBorderDestroyHook=D}}function z(S,D){this.focusBorder&&this.removeFocusBorder();const H=this.getBBox(),U=h(S,3),E=this.parentGroup;var ie=this.scaleX||E&&E.scaleX,te=this.scaleY||E&&E.scaleY;ie=(ie?!te:te)?Math.abs(ie||te||1):(Math.abs(ie||1)+Math.abs(te||1))/2,H.x+=this.translateX?this.translateX:0,H.y+=this.translateY?this.translateY:0,te=H.x-U;let $=H.y-U,V=H.width+2*U,j=H.height+2*U;var x=this instanceof r;if(this.element.nodeName==="text"||x){const g=!!this.rotation;if(x)var P={x:g?1:0,y:0};else{var f=P=0;this.attr("text-anchor")==="middle"?P=f=.5:this.rotation?P=.25:f=.75,P={x:P,y:f}}f=+this.attr("x");const b=+this.attr("y");isNaN(f)||(te=f-H.width*P.x-U),isNaN(b)||($=b-H.height*P.y-U),x&&g&&(x=V,V=j,j=x,isNaN(f)||(te=f-H.height*P.x-U),isNaN(b)||($=b-H.width*P.y-U))}this.focusBorder=this.renderer.rect(te,$,V,j,parseInt((D&&D.r||0).toString(),10)/ie).addClass("highcharts-focus-border").attr({zIndex:99}).add(E),this.renderer.styledMode||this.focusBorder.attr({stroke:D&&D.stroke,"stroke-width":(D&&D.strokeWidth||0)/ie}),q(this,S,D),k(this)}function q(S,...D){S.focusBorderUpdateHooks||(S.focusBorderUpdateHooks={},M.forEach(H=>{H+="Setter";const U=S[H]||S._defaultSetter;S.focusBorderUpdateHooks[H]=U,S[H]=function(){const E=U.apply(S,arguments);return S.addFocusBorder.apply(S,D),E}}))}function L(){O(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function O(S){S.focusBorderUpdateHooks&&(Object.keys(S.focusBorderUpdateHooks).forEach(D=>{const H=S.focusBorderUpdateHooks[D];H===S._defaultSetter?delete S[D]:S[D]=H}),delete S.focusBorderUpdateHooks)}const G=[],M="x y transform width height r d stroke-width".split(" ");v.compose=function(S,D){o.pushUnique(G,S)&&(S=S.prototype,S.renderFocusBorder=R,S.setFocusToElement=K),o.pushUnique(G,D)&&(D=D.prototype,D.addFocusBorder=z,D.removeFocusBorder=L)}}(s||(s={})),s}),i(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{doc:v}=d,{addClass:R,visuallyHideElement:K}=h,{attr:k}=s;class z{constructor(L,O){this.chart=L,this.domElementProvider=new o,this.announceRegion=this.addAnnounceRegion(O)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(L){r.setElementHTML(this.announceRegion,L),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=r.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(L){const O=this.chart.announcerContainer||this.createAnnouncerContainer(),G=this.domElementProvider.createElement("div");return k(G,{"aria-hidden":!1,"aria-live":L}),this.chart.styledMode?R(G,"highcharts-visually-hidden"):K(G),O.appendChild(G),G}createAnnouncerContainer(){const L=this.chart,O=v.createElement("div");return k(O,{"aria-hidden":!1,class:"highcharts-announcer-container"}),O.style.position="relative",L.renderTo.insertBefore(O,L.renderTo.firstChild),L.announcerContainer=O}}return z}),i(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(r){function o(K){return(K.annotations||[]).reduce((k,z)=>(z.options&&z.options.visible!==!1&&(k=k.concat(z.labels)),k),[])}function d(K){return K.options&&K.options.accessibility&&K.options.accessibility.description||K.graphic&&K.graphic.text&&K.graphic.text.textStr||""}function h(K){var k=K.options&&K.options.accessibility&&K.options.accessibility.description;if(k)return k;k=K.chart;const z=d(K),q=K.points.filter(G=>!!G.graphic).map(G=>{const M=G.accessibility&&G.accessibility.valueDescription||G.graphic&&G.graphic.element&&G.graphic.element.getAttribute("aria-label")||"";return G=G&&G.series.name||"",(G?G+", ":"")+"data point "+M}).filter(G=>!!G),L=q.length,O="accessibility.screenReaderSection.annotations.description"+(1<L?"MultiplePoints":L?"SinglePoint":"NoPoints");return K={annotationText:z,annotation:K,numPoints:L,annotationPoint:q[0],additionalAnnotationPoints:q.slice(1)},k.langFormat(O,K)}function s(K){return o(K).map(k=>(k=v(R(h(k))))?`<li>${k}</li>`:"")}const{escapeStringForHTML:v,stripHTMLTagsFromString:R}=r;return{getAnnotationsInfoHTML:function(K){const k=K.annotations;return k&&k.length?`<ul style="list-style-type: none">${s(K).join(" ")}</ul>`:""},getAnnotationLabelDescription:h,getAnnotationListItems:s,getPointAnnotationTexts:function(K){const k=o(K.series.chart).filter(z=>-1<z.points.indexOf(K));return k.length?k.map(z=>`${d(z)}`):[]}}}),i(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R,K,k,z){function q(P,f){var g=f[0],b=P.series&&P.series[0]||{};if(b={numSeries:P.series.length,numPoints:b.points&&b.points.length,chart:P,mapTitle:P.mapView&&P.mapView.geoMap&&P.mapView.geoMap.title},!g)return P.langFormat("accessibility.chartTypes.emptyChart",b);if(g==="map")return b.mapTitle?P.langFormat("accessibility.chartTypes.mapTypeDescription",b):P.langFormat("accessibility.chartTypes.unknownMap",b);if(1<P.types.length)return P.langFormat("accessibility.chartTypes.combinationChart",b);{f=f[0],g=P.langFormat("accessibility.seriesTypeDescriptions."+f,b);const A=P.series&&2>P.series.length?"Single":"Multiple";P=(P.langFormat("accessibility.chartTypes."+f+A,b)||P.langFormat("accessibility.chartTypes.default"+A,b))+(g?" "+g:"")}return P}const{getAnnotationsInfoHTML:L}=h,{getAxisDescription:O,getAxisRangeDescription:G,getChartTitle:M,unhideChartElementFromAT:S}=v,{format:D}=R,{doc:H}=K,{addClass:U,getElement:E,getHeadingTagNameForElement:ie,stripHTMLTagsFromString:te,visuallyHideElement:$}=k,{attr:V,pick:j}=z;class x extends o{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const f=this.chart,g=this;this.initRegionsDefinitions(),this.addEvent(f,"aftergetTableAST",function(b){g.onDataTableCreated(b)}),this.addEvent(f,"afterViewData",function(b){b.wasHidden&&(g.dataTableDiv=b.element,setTimeout(function(){g.focusDataTable()},300))}),this.announcer=new d(f,"assertive")}initRegionsDefinitions(){const f=this;this.screenReaderSections={before:{element:null,buildContent:function(g){const b=g.options.accessibility.screenReaderSection.beforeChartFormatter;return b?b(g):f.defaultBeforeChartFormatter(g)},insertIntoDOM:function(g,b){b.renderTo.insertBefore(g,b.renderTo.firstChild)},afterInserted:function(){typeof f.sonifyButtonId<"u"&&f.initSonifyButton(f.sonifyButtonId),typeof f.dataTableButtonId<"u"&&f.initDataTableButton(f.dataTableButtonId)}},after:{element:null,buildContent:function(g){const b=g.options.accessibility.screenReaderSection.afterChartFormatter;return b?b(g):f.defaultAfterChartFormatter()},insertIntoDOM:function(g,b){b.renderTo.insertBefore(g,b.container.nextSibling)},afterInserted:function(){f.chart.accessibility&&f.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const f=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(g){f.updateScreenReaderSection(g)})}getLinkedDescriptionElement(){var f=this.chart.options.accessibility.linkedDescription;if(f){if(typeof f!="string")return f;if(f=D(f,this.chart),f=H.querySelectorAll(f),f.length===1)return f[0]}}setLinkedDescriptionAttrs(){const f=this.linkedDescriptionElement;f&&(f.setAttribute("aria-hidden","true"),U(f,"highcharts-linked-description"))}updateScreenReaderSection(f){const g=this.chart,b=this.screenReaderSections[f],A=b.buildContent(g),X=b.element=b.element||this.createElement("div"),Y=X.firstChild||this.createElement("div");A?(this.setScreenReaderSectionAttribs(X,f),s.setElementHTML(Y,A),X.appendChild(Y),b.insertIntoDOM(X,g),g.styledMode?U(Y,"highcharts-visually-hidden"):$(Y),S(g,Y),b.afterInserted&&b.afterInserted()):(X.parentNode&&X.parentNode.removeChild(X),b.element=null)}setScreenReaderSectionAttribs(f,g){const b=this.chart,A=b.langFormat("accessibility.screenReaderSection."+g+"RegionLabel",{chart:b,chartTitle:M(b)});V(f,{id:`highcharts-screen-reader-region-${g}-${b.index}`,"aria-label":A||void 0}),f.style.position="relative",A&&f.setAttribute("role",b.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var f=this.chart;const g=f.options.accessibility.screenReaderSection.beforeChartFormat;if(!g)return"";var b=this.getAxesDescription();const A=f.sonify&&f.options.sonification&&f.options.sonification.enabled,X="highcharts-a11y-sonify-data-btn-"+f.index,Y="hc-linkto-highcharts-data-table-"+f.index,J=L(f),ce=f.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:f});return b={headingTagName:ie(f.renderTo),chartTitle:M(f),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:b.xAxis,yAxisDescription:b.yAxis,playAsSoundButton:A?this.getSonifyButtonText(X):"",viewTableButton:f.getCSV?this.getDataTableButtonText(Y):"",annotationsTitle:J?ce:"",annotationsList:J},f=r.i18nFormat(g,b,f),this.dataTableButtonId=Y,this.sonifyButtonId=X,f.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){const f=this.chart,g=f.options.accessibility.screenReaderSection.afterChartFormat;if(!g)return"";const b={endOfChartMarker:this.getEndOfChartMarkerText()};return r.i18nFormat(g,b,f).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){const f=this.linkedDescriptionElement;return te(f&&f.innerHTML||"")}getLongdescText(){const f=this.chart.options;var g=f.caption;g=g&&g.text;const b=this.getLinkedDescription();return f.accessibility.description||b||g||""}getTypeDescriptionText(){const f=this.chart;return f.types?f.options.accessibility.typeDescription||q(f,f.types):""}getDataTableButtonText(f){var g=this.chart;return g=g.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:g,chartTitle:M(g)}),'<button id="'+f+'">'+g+"</button>"}getSonifyButtonText(f){var g=this.chart;return g.options.sonification&&g.options.sonification.enabled===!1?"":(g=g.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:g,chartTitle:M(g)}),'<button id="'+f+'">'+g+"</button>")}getSubtitleText(){const f=this.chart.options.subtitle;return te(f&&f.text||"")}getEndOfChartMarkerText(){const f=this.chart,g=f.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:f});return'<div id="highcharts-end-of-chart-marker-'+f.index+'">'+g+"</div>"}onDataTableCreated(f){const g=this.chart;if(g.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const b=f.tree.attributes||{};b.tabindex=-1,b.summary=g.langFormat("accessibility.table.tableSummary",{chart:g}),f.tree.attributes=b}}focusDataTable(){var f=this.dataTableDiv;(f=f&&f.getElementsByTagName("table")[0])&&f.focus&&f.focus()}initSonifyButton(f){const g=this.sonifyButton=E(f),b=this.chart,A=X=>{g&&(g.setAttribute("aria-hidden","true"),g.setAttribute("aria-label","")),X.preventDefault(),X.stopPropagation(),X=b.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:b}),this.announcer.announce(X),setTimeout(()=>{g&&(g.removeAttribute("aria-hidden"),g.removeAttribute("aria-label")),b.sonify&&b.sonify()},1e3)};g&&b&&(g.setAttribute("tabindex",-1),g.onclick=function(X){(b.options.accessibility&&b.options.accessibility.screenReaderSection.onPlayAsSoundClick||A).call(this,X,b)})}initDataTableButton(f){const g=this.viewDataTableButton=E(f),b=this.chart;f=f.replace("hc-linkto-",""),g&&(V(g,{tabindex:-1,"aria-expanded":!!E(f)}),g.onclick=b.options.accessibility.screenReaderSection.onViewDataTableClick||function(){b.viewData()})}getAxesDescription(){const f=this.chart;var g=function(Y,J){return Y=f[Y],1<Y.length||Y[0]&&j(Y[0].options.accessibility&&Y[0].options.accessibility.enabled,J)},b=!!f.types&&0>f.types.indexOf("map")&&0>f.types.indexOf("treemap")&&0>f.types.indexOf("tilemap");const A=!!f.hasCartesianSeries,X=g("xAxis",!f.angular&&A&&b);return g=g("yAxis",A&&b),b={},X&&(b.xAxis=this.getAxisDescriptionText("xAxis")),g&&(b.yAxis=this.getAxisDescriptionText("yAxis")),b}getAxisDescriptionText(f){const g=this.chart,b=g[f];return g.langFormat("accessibility.axis."+f+"Description"+(1<b.length?"Plural":"Singular"),{chart:g,names:b.map(function(A){return O(A)}),ranges:b.map(function(A){return G(A)}),numAxes:b.length})}destroy(){this.announcer&&this.announcer.destroy()}}return x}),i(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s,v){const{attr:R}=o,{getChartTitle:K,unhideChartElementFromAT:k}=s,{getFakeMouseEvent:z}=v;class q extends d{init(){const O=this.chart,G=this;this.addEvent(O,"exportMenuShown",function(){G.onMenuShown()}),this.addEvent(O,"exportMenuHidden",function(){G.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const O=this.chart.exportContextMenu;O&&O.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const O=this.chart,G=O.exportContextMenu;G&&(this.addAccessibleContextMenuAttribs(),k(O,G)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(O){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",O)}onChartRender(){const O=this.chart,G=O.focusElement,M=O.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&G&&G===O.exportingGroup&&(G.focusBorder?O.setFocusToElement(G,this.exportButtonProxy.buttonElement):M&&M.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const O=this.chart,G=this.proxyProvider,M=O.exportSVGElements&&O.exportSVGElements[0];{var S=O.options.exporting;const D=O.exportSVGElements&&O.exportSVGElements[0];S=!!(S&&S.enabled!==!1&&S.accessibility&&S.accessibility.enabled&&D&&D.element)}S&&M&&(this.exportButtonProxy=G.addProxyElement("chartMenu",{click:M},{"aria-label":O.langFormat("accessibility.exporting.menuButtonLabel",{chart:O,chartTitle:K(O)}),"aria-expanded":!1,title:O.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const O=this.chart;var G=O.exportDivElements;G&&G.length&&(G.forEach(M=>{M&&(M.tagName!=="LI"||M.children&&M.children.length?M.setAttribute("aria-hidden","true"):M.setAttribute("tabindex",-1))}),(G=G[0]&&G[0].parentNode)&&R(G,{"aria-hidden":void 0,"aria-label":O.langFormat("accessibility.exporting.chartMenuLabel",{chart:O}),role:"list"}))}getKeyboardNavigation(){const O=this.keyCodes,G=this.chart,M=this;return new h(G,{keyCodeMap:[[[O.left,O.up],function(){return M.onKbdPrevious(this)}],[[O.right,O.down],function(){return M.onKbdNext(this)}],[[O.enter,O.space],function(){return M.onKbdClick(this)}]],validate:function(){return!!G.exporting&&G.options.exporting.enabled!==!1&&G.options.exporting.accessibility.enabled!==!1},init:function(){const S=M.exportButtonProxy,D=M.chart.exportingGroup;S&&D&&G.setFocusToElement(D,S.buttonElement)},terminate:function(){G.hideExportMenu()}})}onKbdPrevious(O){const G=this.chart,M=G.options.accessibility;O=O.response;let S=G.highlightedExportItemIx||0;for(;S--;)if(G.highlightExportItem(S))return O.success;return M.keyboardNavigation.wrapAround?(G.highlightLastExportItem(),O.success):O.prev}onKbdNext(O){const G=this.chart,M=G.options.accessibility;O=O.response;for(let S=(G.highlightedExportItemIx||0)+1;S<G.exportDivElements.length;++S)if(G.highlightExportItem(S))return O.success;return M.keyboardNavigation.wrapAround?(G.highlightExportItem(0),O.success):O.next}onKbdClick(O){const G=this.chart,M=G.exportDivElements[G.highlightedExportItemIx],S=(G.exportSVGElements&&G.exportSVGElements[0]).element;return G.openMenu?this.fakeClickEvent(M):(this.fakeClickEvent(S),G.highlightExportItem(0)),O.response.success}}return function(L){function O(){var H=this.exportSVGElements&&this.exportSVGElements[0];H&&(H=H.element,H.onclick)&&H.onclick(z("click"))}function G(){const H=this.exportDivElements;H&&this.exportContextMenu&&this.openMenu&&(H.forEach(U=>{U&&U.className==="highcharts-menu-item"&&U.onmouseout&&U.onmouseout(z("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function M(H){const U=this.exportDivElements&&this.exportDivElements[H],E=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(U&&U.tagName==="LI"&&(!U.children||!U.children.length)){const ie=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return U.focus&&ie&&U.focus(),E&&E.onmouseout&&E.onmouseout(z("mouseout")),U.onmouseover&&U.onmouseover(z("mouseover")),this.highlightedExportItemIx=H,!0}return!1}function S(){if(this.exportDivElements){let H=this.exportDivElements.length;for(;H--;)if(this.highlightExportItem(H))return!0}return!1}const D=[];L.compose=function(H){o.pushUnique(D,H)&&(H=r.prototype,H.hideExportMenu=G,H.highlightExportItem=M,H.highlightLastExportItem=S,H.showExportMenu=O)}}(q||(q={})),q}),i(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s){const{doc:v,win:R}=r,{addEvent:K,fireEvent:k}=d,{getElement:z,simulatedEventTarget:q}=s;class L{constructor(G,M){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(G,M)}init(G,M){const S=this.eventProvider=new h;this.chart=G,this.components=M,this.modules=[],this.currentModuleIx=0,this.update(),S.addEvent(this.tabindexContainer,"keydown",D=>this.onKeydown(D)),S.addEvent(this.tabindexContainer,"focus",D=>this.onFocus(D)),["mouseup","touchend"].forEach(D=>S.addEvent(v,D,H=>this.onMouseUp(H))),["mousedown","touchstart"].forEach(D=>S.addEvent(G.renderTo,D,()=>{this.isClickingChart=!0}))}update(G){var M=this.chart.options.accessibility;M=M&&M.keyboardNavigation;const S=this.components;this.updateContainerTabindex(),M&&M.enabled&&G&&G.length?(this.modules=G.reduce(function(D,H){return H=S[H].getKeyboardNavigation(),D.concat(H)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const G=z(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),G?(this.makeElementAnExitAnchor(G),this.exitAnchor=G):this.createExitAnchor()}move(G){var M=this.modules&&this.modules[this.currentModuleIx];if(M&&M.terminate&&M.terminate(G),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=G,M=this.modules&&this.modules[this.currentModuleIx]){if(M.validate&&!M.validate())return this.move(G);if(M.init)return M.init(G),!0}return this.currentModuleIx=0,this.exiting=!0,0<G?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(G){var M=this.chart;G=G.relatedTarget&&M.container.contains(G.relatedTarget),!(M=(M=M.options.accessibility)&&M.keyboardNavigation)||!M.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||G||(G=this.getFirstValidModuleIx(),G!==null&&(this.currentModuleIx=G,this.modules[G].init(1))),this.exiting=!1}onMouseUp(G){if(delete this.isClickingChart,!this.keyboardReset&&G.relatedTarget!==q){const M=this.chart;G.target&&M.container.contains(G.target)||((G=this.modules&&this.modules[this.currentModuleIx||0])&&G.terminate&&G.terminate(),this.currentModuleIx=0),M.focusElement&&(M.focusElement.removeFocusBorder(),delete M.focusElement),this.keyboardReset=!0}}onKeydown(G){G=G||R.event;const M=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let S;if(this.exiting=this.keyboardReset=!1,M){const D=M.run(G);D===M.response.success?S=!0:D===M.response.prev?S=this.move(-1):D===M.response.next&&(S=this.move(1)),S&&(G.preventDefault(),G.stopPropagation())}}updateContainerTabindex(){var G=this.chart.options.accessibility;G=G&&G.keyboardNavigation,G=!(G&&G.enabled===!1);const M=this.chart;var S=M.container;M.renderTo.hasAttribute("tabindex")&&(S.removeAttribute("tabindex"),S=M.renderTo),this.tabindexContainer=S;const D=S.getAttribute("tabindex");G&&!D?S.setAttribute("tabindex","0"):G||M.container.removeAttribute("tabindex")}createExitAnchor(){const G=this.chart,M=this.exitAnchor=v.createElement("div");G.renderTo.appendChild(M),this.makeElementAnExitAnchor(M)}makeElementAnExitAnchor(G){const M=this.tabindexContainer.getAttribute("tabindex")||0;G.setAttribute("class","highcharts-exit-anchor"),G.setAttribute("tabindex",M),G.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(G)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(G){const M=this.chart,S=this;this.eventProvider.addEvent(G,"focus",function(D){D=D||R.event;const H=!(D.relatedTarget&&M.container.contains(D.relatedTarget)||S.exiting);M.focusElement&&delete M.focusElement,H?(S.tabbingInBackwards=!0,S.tabindexContainer.focus(),delete S.tabbingInBackwards,D.preventDefault(),S.modules&&S.modules.length&&(S.currentModuleIx=S.modules.length-1,(D=S.modules[S.currentModuleIx])&&D.validate&&!D.validate()?S.move(-1):D&&D.init(-1))):S.exiting=!1})}getFirstValidModuleIx(){const G=this.modules.length;for(let M=0;M<G;++M){const S=this.modules[M];if(!S.validate||S.validate())return M}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(O){function G(){const D=this;k(this,"dismissPopupContent",{},function(){D.tooltip&&D.tooltip.hide(0),D.hideExportMenu()})}function M(D){(D.which||D.keyCode)===27&&r.charts&&r.charts.forEach(H=>{H&&H.dismissPopupContent&&H.dismissPopupContent()})}const S=[];O.compose=function(D){return o.compose(D),d.pushUnique(S,D)&&(D.prototype.dismissPopupContent=G),d.pushUnique(S,v)&&K(v,"keydown",M),D}}(L||(L={})),L}),i(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s,v,R,K){function k($){const V=$.legend&&$.legend.allItems,j=$.options.legend.accessibility||{};return $=$.colorAxis&&$.colorAxis.some(x=>!x.dataClasses||!x.dataClasses.length),!(!V||!V.length||$||j.enabled===!1)}function z($,V){const j=V.legendItem||{};V.setState($?"hover":"",!0);for(const x of["group","label","symbol"])(V=(V=j[x])&&V.element||V)&&G(V,$?"mouseover":"mouseout")}const{animObject:q}=r,{doc:L}=o,{addEvent:O,fireEvent:G,isNumber:M,pick:S,syncTimeout:D}=h,{getChartTitle:H}=R,{stripHTMLTagsFromString:U,addClass:E,removeClass:ie}=K;class te extends s{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const V=this;this.recreateProxies(),this.addEvent(d,"afterScroll",function(){this.chart===V.chart&&(V.proxyProvider.updateGroupProxyElementPositions("legend"),V.updateLegendItemProxyVisibility(),-1<V.highlightedLegendItemIx&&this.chart.highlightLegendItem(V.highlightedLegendItemIx))}),this.addEvent(d,"afterPositionItem",function(j){this.chart===V.chart&&this.chart.renderer&&V.updateProxyPositionForItem(j.item)}),this.addEvent(d,"afterRender",function(){this.chart===V.chart&&this.chart.renderer&&V.recreateProxies()&&D(()=>V.proxyProvider.updateGroupProxyElementPositions("legend"),q(S(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const V=this.chart,j=V.legend,x=j.currentPage||1,P=j.clipHeight||0;let f;(j.allItems||[]).forEach(g=>{if(g.a11yProxyElement){var b=j.pages&&j.pages.length;const X=g.a11yProxyElement.element;var A=!1;f=g.legendItem||{},b&&(g=f.pageIx||0,b=f.y||0,A=f.label?Math.round(f.label.getBBox().height):0,A=b+A-j.pages[g]>P||g!==x-1),A?V.styledMode?E(X,"highcharts-a11y-invisible"):X.style.visibility="hidden":(ie(X,"highcharts-a11y-invisible"),X.style.visibility="")}})}onChartRender(){k(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(V){const j=this.chart;var x=j.legend;V=(x.currentPage||1)+V;var P=x.pages||[];if(0<V&&V<=P.length){P=0;for(const f of x.allItems)((f.legendItem||{}).pageIx||0)+1===V&&(x=j.highlightLegendItem(P))&&(this.highlightedLegendItemIx=P),++P}}updateProxyPositionForItem(V){V.a11yProxyElement&&V.a11yProxyElement.refreshPosition()}recreateProxies(){var V=L.activeElement;const j=this.proxyGroup;return V=V&&j&&j.contains(V),this.removeProxies(),k(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),V&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0):!1}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var V=this.chart;const j=U((V.legend&&V.legend.options.title&&V.legend.options.title.text||"").replace(/<br ?\/?>/g," "));V=V.langFormat("accessibility.legend.legendLabel"+(j?"":"NoTitle"),{chart:V,legendTitle:j,chartTitle:H(V)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":V})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null})}proxyLegendItems(){const V=this;let j;((this.chart.legend||{}).allItems||[]).forEach(x=>{j=x.legendItem||{},j.label&&j.label.element&&V.proxyLegendItem(x)})}proxyLegendItem(V){const j=V.legendItem||{};if(j.label&&j.group){var x=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:U(V.name),item:V});V.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:j.label,visual:(j.group.div?j.label:j.group).element},{tabindex:-1,"aria-pressed":V.visible,"aria-label":x})}}getKeyboardNavigation(){const V=this.keyCodes,j=this,x=this.chart;return new v(x,{keyCodeMap:[[[V.left,V.right,V.up,V.down],function(P){return j.onKbdArrowKey(this,P)}],[[V.enter,V.space],function(){return j.onKbdClick(this)}],[[V.pageDown,V.pageUp],function(P){return j.highlightAdjacentLegendPage(P===V.pageDown?1:-1),this.response.success}]],validate:function(){return j.shouldHaveLegendNavigation()},init:function(){x.highlightLegendItem(0),j.highlightedLegendItemIx=0},terminate:function(){j.highlightedLegendItemIx=-1,x.legend.allItems.forEach(P=>z(!1,P))}})}onKbdArrowKey(V,j){const x=this.keyCodes,P=V.response,f=this.chart,g=f.options.accessibility,b=f.legend.allItems.length;return j=j===x.left||j===x.up?-1:1,f.highlightLegendItem(this.highlightedLegendItemIx+j)?(this.highlightedLegendItemIx+=j,P.success):(1<b&&g.keyboardNavigation.wrapAround&&V.init(j),P.success)}onKbdClick(V){const j=this.chart.legend.allItems[this.highlightedLegendItemIx];return j&&j.a11yProxyElement&&j.a11yProxyElement.click(),V.response.success}shouldHaveLegendNavigation(){if(!k(this.chart))return!1;const V=this.chart,j=(V.options.legend||{}).accessibility||{};return!!(V.legend.display&&j.keyboardNavigation&&j.keyboardNavigation.enabled)}}return function($){function V(P){var f=this.legend.allItems,g=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const b=f[P];var A=b.legendItem||{};return b?(M(g)&&f[g]&&z(!1,f[g]),f=this.legend,P=(f.allItems[P].legendItem||{}).pageIx,g=f.currentPage,typeof P<"u"&&P+1!==g&&f.scroll(1+P-g),A=A.label,P=b.a11yProxyElement&&b.a11yProxyElement.buttonElement,A&&A.element&&P&&this.setFocusToElement(A,P),z(!0,b),!0):!1}function j(P){const f=P.item;this.chart.options.accessibility.enabled&&f&&f.a11yProxyElement&&f.a11yProxyElement.buttonElement.setAttribute("aria-pressed",P.visible?"true":"false")}const x=[];$.compose=function(P,f){h.pushUnique(x,P)&&(P.prototype.highlightLegendItem=V),h.pushUnique(x,f)&&O(f,"afterColorizeItem",j)}}(te||(te={})),te}),i(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){function v(b){const A=b.index;return b.series&&b.series.data&&g(A)&&x(b.series.data,function(X){return!!(X&&typeof X.index<"u"&&X.index>A&&X.graphic&&X.graphic.element)})||null}function R(b){const A=b.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(A!==!1&&b.points&&b.points.length>=A)}function K(b){const A=b.options.accessibility||{};return!R(b)&&!A.exposeAsGroupOnly}function k(b){const A=b.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!b.points||!(b.points.length<A.pointNavigationEnabledThreshold||A.pointNavigationEnabledThreshold===!1))}function z(b,A){var X=b.series,Y=X.chart;b=Y.options.accessibility.point||{};const J=X.options.accessibility&&X.options.accessibility.point||{};return X=X.tooltipOptions||{},Y=Y.options.lang,P(A)?$(A,J.valueDecimals||b.valueDecimals||X.valueDecimals||-1,Y.decimalPoint,Y.accessibility.thousandsSep||Y.thousandsSep):A}function q(b){const A=(b.options.accessibility||{}).description;return A&&b.chart.langFormat("accessibility.series.description",{description:A,series:b})||""}function L(b,A){return b.chart.langFormat("accessibility.series."+A+"Description",{name:H(b[A]),series:b})}function O(b,A,X){const Y=A||"",J=X||"";return b.series.pointArrayMap.reduce(function(ce,pe){{const fe=z(b,f(b[pe],b.options[pe]));pe=fe!==void 0?pe+": "+Y+fe+J:fe}return pe?ce+(ce.length?", ":"")+pe:ce},"")}function G(b){var A=b.series,X=1<A.chart.series.length||A.options.name,Y=b.series,J=Y.chart,ce=Y.options.accessibility;if(ce=ce&&ce.point&&ce.point.valueDescriptionFormat||J.options.accessibility.point.valueDescriptionFormat,Y=f(Y.xAxis&&Y.xAxis.options.accessibility&&Y.xAxis.options.accessibility.enabled,!J.angular&&Y.type!=="flowmap"),Y){var pe=b.series,fe=pe.chart,F=pe.options.accessibility&&pe.options.accessibility.point||{},Q=fe.options.accessibility.point||{};(pe=pe.xAxis&&pe.xAxis.dateTime)?(pe=pe.getXDateFormat(b.x||0,fe.options.tooltip.dateTimeLabelFormats),F=F.dateFormatter&&F.dateFormatter(b)||Q.dateFormatter&&Q.dateFormatter(b)||F.dateFormat||Q.dateFormat||pe,fe=fe.time.dateFormat(F,b.x||0,void 0)):fe=void 0,F=(b.series.xAxis||{}).categories&&g(b.category)&&(""+b.category).replace("<br/>"," "),Q=g(b.id)&&0>(""+b.id).indexOf("highcharts-"),pe="x, "+b.x,fe=b.name||fe||F||(Q?b.id:pe)}else fe="";F=fe,fe=g(b.index)?b.index+1:"";{Q=b.series;var se=Q.chart.options.accessibility.point||{},ue=Q.chart.options.accessibility&&Q.chart.options.accessibility.point||{};const Ce=Q.tooltipOptions||{};pe=ue.valuePrefix||se.valuePrefix||Ce.valuePrefix||"",se=ue.valueSuffix||se.valueSuffix||Ce.valueSuffix||"",ue=z(b,b[typeof b.value<"u"?"value":"y"]),Q=b.isNull?Q.chart.langFormat("accessibility.series.nullPointValue",{point:b}):Q.pointArrayMap?O(b,pe,se):pe+ue+se}return J=te(ce,{point:b,index:fe,xDescription:F,value:Q,separator:Y?", ":""},J),ce=(ce=b.options&&b.options.accessibility&&b.options.accessibility.description)?" "+ce:"",A=X?" "+A.name+".":"",X=b.series.chart,Y=D(b),fe={point:b,annotations:Y},X=Y.length?X.langFormat("accessibility.series.pointAnnotationsDescription",fe):"",b.accessibility=b.accessibility||{},b.accessibility.valueDescription=J,J+ce+A+(X?" "+X:"")}function M(b){const A=K(b),X=k(b),Y=b.chart.options.accessibility.point.describeNull;(A||X)&&b.points.forEach(J=>{var ce;if(!(ce=J.graphic&&J.graphic.element)){var pe=J.series;if(ce=pe&&pe.chart,pe=pe&&pe.is("sunburst"),ce=ce&&ce.options.accessibility.point.describeNull,ce=J.isNull&&!pe&&ce){pe=J.series;var fe=v(J);pe=(ce=fe&&fe.graphic)?ce.parentGroup:pe.graph||pe.group,fe=fe?{x:f(J.plotX,fe.plotX,0),y:f(J.plotY,fe.plotY,0)}:{x:f(J.plotX,0),y:f(J.plotY,0)},fe=J.series.chart.renderer.rect(fe.x,fe.y,1,1),fe.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),pe&&pe.element?(J.graphic=fe,J.hasMockGraphic=!0,fe.add(pe),pe.element.insertBefore(fe.element,ce?ce.element:null),ce=fe.element):ce=void 0}}pe=J.options&&J.options.accessibility&&J.options.accessibility.enabled===!1,ce&&(J.isNull&&!Y?ce.setAttribute("aria-hidden",!0):(ce.setAttribute("tabindex","-1"),b.chart.styledMode||(ce.style.outline="none"),A&&!pe?(fe=J.series,pe=fe.chart.options.accessibility.point||{},fe=fe.options.accessibility&&fe.options.accessibility.point||{},J=j(fe.descriptionFormatter&&fe.descriptionFormatter(J)||pe.descriptionFormatter&&pe.descriptionFormatter(J)||G(J)),ce.setAttribute("role","img"),ce.setAttribute("aria-label",J)):ce.setAttribute("aria-hidden",!0)))})}function S(b){const A=b.chart;var X=A.types||[];const Y=q(b);var J=function(Q){return A[Q]&&1<A[Q].length&&b[Q]};const ce=b.index+1;var pe=L(b,"xAxis");const fe=L(b,"yAxis");var F={seriesNumber:ce,series:b,chart:A};return X=1<X.length?"Combination":"",F=A.langFormat("accessibility.series.summary."+b.type+X,F)||A.langFormat("accessibility.series.summary.default"+X,F),J=(J("yAxis")?" "+fe+".":"")+(J("xAxis")?" "+pe+".":""),pe=f(b.options.accessibility&&b.options.accessibility.descriptionFormat,A.options.accessibility.series.descriptionFormat,""),te(pe,{seriesDescription:F,authorDescription:Y?" "+Y:"",axisDescription:J,series:b,chart:A,seriesNumber:ce},void 0)}const{getPointAnnotationTexts:D}=r,{getAxisDescription:H,getSeriesFirstPointElement:U,getSeriesA11yElement:E,unhideChartElementFromAT:ie}=o,{format:te,numberFormat:$}=d,{reverseChildNodes:V,stripHTMLTagsFromString:j}=h,{find:x,isNumber:P,pick:f,defined:g}=s;return{defaultPointDescriptionFormatter:G,defaultSeriesDescriptionFormatter:S,describeSeries:function(b){var A=b.chart,X=U(b);const Y=E(b);var J=A.is3d&&A.is3d();if(Y){Y.lastChild!==X||J||V(Y),M(b),ie(A,Y);{J=b.chart,A=J.options.chart,X=1<J.series.length,J=J.options.accessibility.series.describeSingleSeries;const ce=(b.options.accessibility||{}).exposeAsGroupOnly;A=!(A.options3d&&A.options3d.enabled&&X)&&(X||J||ce||R(b))}A?(A=b.chart.options.accessibility,X=A.landmarkVerbosity,(b.options.accessibility||{}).exposeAsGroupOnly?Y.setAttribute("role","img"):X==="all"?Y.setAttribute("role","region"):Y.setAttribute("role","group"),Y.setAttribute("tabindex","-1"),b.chart.styledMode||(Y.style.outline="none"),Y.setAttribute("aria-label",j(A.series.descriptionFormatter&&A.series.descriptionFormatter(b)||S(b)))):Y.removeAttribute("aria-label")}}}}),i(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,o,d,h,s,v){function R(M){const S=M.series.data.filter(D=>M.x===D.x&&M.y===D.y);return S.length===1?S[0]:M}function K(M,S){const D=(M||[]).concat(S||[]).reduce((H,U)=>(H[U.name+U.index]=U,H),{});return Object.keys(D).map(H=>D[H])}const{addEvent:k,defined:z}=o,{getChartTitle:q}=h,{defaultPointDescriptionFormatter:L,defaultSeriesDescriptionFormatter:O}=v;class G{constructor(S){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=S}init(){const S=this.chart,D=S.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new s,this.announcer=new d(S,D),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const S=this,D=this.chart,H=this.eventProvider;H.addEvent(D,"afterApplyDrilldown",function(){S.lastAnnouncementTime=0}),H.addEvent(D,"afterAddSeries",function(U){S.onSeriesAdded(U.series)}),H.addEvent(D,"redraw",function(){S.announceDirtyData()})}onSeriesAdded(S){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[S.name+S.index]=S,this.dirty.newSeries=z(this.dirty.newSeries)?void 0:S)}announceDirtyData(){const S=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let D=this.dirty.newPoint;D&&(D=R(D)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(H=>S.dirty.allSeries[H]),this.dirty.newSeries,D),this.dirty={allSeries:{}}}}queueAnnouncement(S,D,H){var U=this.chart.options.accessibility.announceNewData;if(U.enabled){const E=+new Date;U=Math.max(0,U.minAnnounceInterval-(E-this.lastAnnouncementTime)),S=K(this.queuedAnnouncement&&this.queuedAnnouncement.series,S),(D=this.buildAnnouncementMessage(S,D,H))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:E,message:D,series:S},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},U))}}buildAnnouncementMessage(S,D,H){const U=this.chart;var E=U.options.accessibility.announceNewData;return E.announcementFormatter&&(S=E.announcementFormatter(S,D,H),S!==!1)?S.length?S:null:(S=r.charts&&1<r.charts.length?"Multiple":"Single",S=D?"newSeriesAnnounce"+S:H?"newPointAnnounce"+S:"newDataAnnounce",E=q(U),U.langFormat("accessibility.announceNewData."+S,{chartTitle:E,seriesDesc:D?O(D):null,pointDesc:H?L(H):null,point:H,series:D}))}}return function(M){function S(H){const U=this.chart,E=this.newDataAnnouncer;E&&E.chart===U&&U.options.accessibility.announceNewData.enabled&&(E.dirty.newPoint=z(E.dirty.newPoint)?void 0:H.point)}function D(){const H=this.chart,U=this.newDataAnnouncer;U&&U.chart===H&&H.options.accessibility.announceNewData.enabled&&(U.dirty.hasDirty=!0,U.dirty.allSeries[this.name+this.index]=this)}M.composedMembers=[],M.compose=function(H){o.pushUnique(M.composedMembers,H)&&(k(H,"addPoint",S),k(H,"updatedData",D))}}(G||(G={})),G}),i(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s){const{doc:v}=r,{attr:R,css:K,merge:k}=o,{fireEventOnWrappedOrUnwrappedElement:z}=h,{cloneMouseEvent:q,cloneTouchEvent:L,getFakeMouseEvent:O,removeElement:G}=s;class M{constructor(D,H,U,E){this.chart=D,this.target=H,this.groupType=U,U=U==="ul",this.eventProvider=new d;const ie=U?v.createElement("li"):null,te=this.buttonElement=v.createElement("button");D.styledMode||this.hideButtonVisually(te),ie?(U&&!D.styledMode&&(ie.style.listStyle="none"),ie.appendChild(te),this.element=ie):this.element=te,this.updateTarget(H,E)}click(){var D=this.getTargetPosition();D.x+=D.width/2,D.y+=D.height/2,D=O("click",D),z(this.target.click,D)}updateTarget(D,H){this.target=D,this.updateCSSClassName();const U=H||{};Object.keys(U).forEach(E=>{U[E]===null&&delete U[E]}),R(this.buttonElement,k({"aria-label":this.getTargetAttr(D.click,"aria-label")},U)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,D.click),this.refreshPosition()}refreshPosition(){const D=this.getTargetPosition();K(this.buttonElement,{width:(D.width||1)+"px",height:(D.height||1)+"px",left:(Math.round(D.x)||0)+"px",top:(Math.round(D.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),G(this.element)}updateCSSClassName(){var D=this.chart.legend;D=D.group&&D.group.div,D=-1<(D&&D.className||"").indexOf("highcharts-no-tooltip");const H=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=D||H?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(D,H){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(U=>{const E=U.indexOf("touch")===0;this.eventProvider.addEvent(D,U,ie=>{const te=E?L(ie):q(ie);H&&z(H,te),ie.stopPropagation(),E||ie.preventDefault()},{passive:!1})})}hideButtonVisually(D){K(D,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var D=this.target.click;if(D=D.element?D.element:D,D=this.target.visual||D,this.chart.renderTo&&D&&D.getBoundingClientRect){D=D.getBoundingClientRect();const H=this.chart.pointer.getChartPosition();return{x:(D.left-H.left)/H.scaleX,y:(D.top-H.top)/H.scaleY,width:D.right/H.scaleX-D.left/H.scaleX,height:D.bottom/H.scaleY-D.top/H.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(D,H){return D.element?D.element.getAttribute(H):D.getAttribute(H)}}return M}),i(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(r,o,d,h,s,v){const{doc:R}=r,{attr:K,css:k}=o,{unhideChartElementFromAT:z}=d,{removeElement:q,removeChildNodes:L}=s;class O{constructor(M){this.chart=M,this.domElementProvider=new h,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(M,S,D){const H=this.groups[M];if(!H)throw Error("ProxyProvider.addProxyElement: Invalid group key "+M);return M=new v(this.chart,S,H.type,D),H.proxyContainerElement.appendChild(M.element),H.proxyElements.push(M),M}addGroup(M,S,D){var H=this.groups[M];if(H)return H.groupElement;H=this.domElementProvider.createElement(S);let U;return D&&D.role&&S!=="div"?(U=this.domElementProvider.createElement("div"),U.appendChild(H)):U=H,U.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+M.replace(/\W/g,"-"),this.groups[M]={proxyContainerElement:H,groupElement:U,type:S,proxyElements:[]},K(U,D||{}),S==="ul"&&H.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(U),this.updateGroupOrder(this.groupOrder),U}updateGroupAttrs(M,S){const D=this.groups[M];if(!D)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+M);K(D.groupElement,S)}updateGroupOrder(M){if(this.groupOrder=M.slice(),!this.isDOMOrderGroupOrder()){var S=M.indexOf("series"),D=-1<S?M.slice(0,S):M,H=-1<S?M.slice(S+1):[];M=R.activeElement,["before","after"].forEach(U=>{const E=this[U==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];U=U==="before"?D:H,L(E),U.forEach(ie=>{(ie=this.groups[ie])&&E.appendChild(ie.groupElement)})}),(this.beforeChartProxyPosContainer.contains(M)||this.afterChartProxyPosContainer.contains(M))&&M&&M.focus&&M.focus()}}clearGroup(M){const S=this.groups[M];if(!S)throw Error("ProxyProvider.clearGroup: Invalid group key "+M);L(S.proxyContainerElement)}removeGroup(M){const S=this.groups[M];S&&(q(S.groupElement),delete this.groups[M])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(M){(M=this.groups[M])&&M.proxyElements.forEach(S=>S.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(M){const S=this.domElementProvider.createElement("div");return S.setAttribute("aria-hidden","false"),S.className="highcharts-a11y-proxy-container"+(M?"-"+M:""),k(S,{top:"0",left:"0"}),this.chart.styledMode||(S.style.whiteSpace="nowrap",S.style.position="absolute"),S}getCurrentGroupOrderInDOM(){const M=H=>{const U=Object.keys(this.groups);let E=U.length;for(;E--;){const ie=U[E],te=this.groups[ie];if(te&&H===te.groupElement)return ie}};var S=H=>{const U=[];H=H.children;for(let E=0;E<H.length;++E){const ie=M(H[E]);ie&&U.push(ie)}return U};const D=S(this.beforeChartProxyPosContainer);return S=S(this.afterChartProxyPosContainer),D.push("series"),D.concat(S)}isDOMOrderGroupOrder(){const M=this.getCurrentGroupOrderInDOM(),S=this.groupOrder.filter(H=>H==="series"||!!this.groups[H]);let D=M.length;if(D!==S.length)return!1;for(;D--;)if(M[D]!==S[D])return!1;return!0}updatePosContainerPositions(){const M=this.chart;if(!M.renderer.forExport){var S=M.renderer.box;M.container.insertBefore(this.afterChartProxyPosContainer,S.nextSibling),M.container.insertBefore(this.beforeChartProxyPosContainer,S),z(this.chart,this.afterChartProxyPosContainer),z(this.chart,this.beforeChartProxyPosContainer)}}}return O}),i(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),i(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(r,o,d){function h(){const V=this.range,j=V.type,x=this.max,P=this.chart.time,f=function(X,Y){const J=j==="year"?"FullYear":"Month",ce=new P.Date(X),pe=P.get(J,ce);return P.set(J,ce,pe+Y),pe===P.get(J,ce)&&P.set("Date",ce,0),ce.getTime()-X};let g,b;H(V)?(g=x-V,b=V):V&&(g=x+f(x,-(V.count||1)),this.chart&&(this.chart.fixedRange=x-g));const A=E(this.dataMin,Number.MIN_VALUE);return H(g)||(g=A),g<=A&&(g=A,typeof b>"u"&&(b=f(g,V.count)),this.newMax=Math.min(g+b,E(this.dataMax,Number.MAX_VALUE))),H(x)?!H(V)&&V&&V._offsetMin&&(g+=V._offsetMin):g=void 0,g}function s(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new $(this))}function v(){var V=this.axes;const j=this.rangeSelector;j&&(H(j.deferredYTDClick)&&(j.clickButton(j.deferredYTDClick),delete j.deferredYTDClick),V.forEach(x=>{x.updateNames(),x.setScale()}),this.getAxisMargins(),j.render(),V=j.options.verticalAlign,j.options.floating||(V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0)))}function R(V){let j,x,P,f;const g=V.rangeSelector,b=()=>{g&&(j=V.xAxis[0].getExtremes(),x=V.legend,f=g&&g.options.verticalAlign,H(j.min)&&g.render(j.min,j.max),x.display&&f==="top"&&f===x.options.verticalAlign&&(P=U(V.spacingBox),P.y=x.options.layout==="vertical"?V.plotTop:P.y+g.getHeight(),x.group.placed=!1,x.align(P)))};g&&(D(ie,A=>A[0]===V)||ie.push([V,[G(V.xAxis[0],"afterSetExtremes",function(A){g&&g.render(A.min,A.max)}),G(V,"redraw",b)]]),b())}function K(){for(let V=0,j=ie.length;V<j;++V){const x=ie[V];if(x[0]===this){x[1].forEach(P=>P()),ie.splice(V,1);break}}}function k(){var V=this.rangeSelector;V&&(V=V.getHeight(),this.extraTopMargin&&(this.plotTop+=V),this.extraBottomMargin&&(this.marginBottom+=V))}function z(){var V=this.rangeSelector;V&&!V.options.floating&&(V.render(),V=V.options.verticalAlign,V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0))}function q(V){var j=V.options.rangeSelector;V=this.extraBottomMargin;const x=this.extraTopMargin;let P=this.rangeSelector;j&&j.enabled&&!M(P)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=P=new $(this)),this.extraTopMargin=this.extraBottomMargin=!1,P&&(R(this),j=j&&j.verticalAlign||P.options&&P.options.verticalAlign,P.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==V||this.extraTopMargin!==x)&&(this.isDirtyBox=!0)}const{defaultOptions:L,setOptions:O}=r,{addEvent:G,defined:M,extend:S,find:D,isNumber:H,merge:U,pick:E}=d,ie=[],te=[];let $;return{compose:function(V,j,x){$=x,d.pushUnique(te,V)&&(V.prototype.minFromRange=h),d.pushUnique(te,j)&&(G(j,"afterGetContainer",s),G(j,"beforeRender",v),G(j,"destroy",K),G(j,"getMargins",k),G(j,"render",z),G(j,"update",q),j.prototype.callbacks.push(R)),d.pushUnique(te,O)&&(S(L,{rangeSelector:o.rangeSelector}),S(L.lang,o.lang))}}}),i(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){function R(j){if(j.indexOf("%L")!==-1)return"text";const x="aAdewbBmoyY".split("").some(f=>j.indexOf("%"+f)!==-1),P="HkIlMS".split("").some(f=>j.indexOf("%"+f)!==-1);return x&&P?"datetime-local":x?"date":P?"time":"text"}const{defaultOptions:K}=o,{addEvent:k,createElement:z,css:q,defined:L,destroyObjectProperties:O,discardElement:G,extend:M,fireEvent:S,isNumber:D,merge:H,objectEach:U,pad:E,pick:ie,pInt:te,splat:$}=v;class V{static compose(x,P){h.compose(x,P,V)}constructor(x){this.buttons=void 0,this.buttonOptions=V.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=x,this.init(x)}clickButton(x,P){const f=this.chart,g=this.buttonOptions[x],b=f.xAxis[0];var A=f.scroller&&f.scroller.getUnionExtremes()||b||{},X=g.type;const Y=g.dataGrouping;let J=A.dataMin,ce=A.dataMax,pe,fe=b&&Math.round(Math.min(b.max,ie(ce,b.max))),F;A=g._range;let Q,se,ue,Ce=!0;if(J!==null&&ce!==null){if(f.fixedRange=A,this.setSelected(x),Y&&(this.forcedDataGrouping=!0,r.prototype.setDataGrouping.call(b||{chart:this.chart},Y,!1),this.frozenStates=g.preserveDataGrouping),X==="month"||X==="year")b?(X={range:g,max:fe,chart:f,dataMin:J,dataMax:ce},pe=b.minFromRange.call(X),D(X.newMax)&&(fe=X.newMax),Ce=!1):A=g;else if(A)pe=Math.max(fe-A,J),fe=Math.min(pe+A,ce),Ce=!1;else if(X==="ytd")if(b)(typeof ce>"u"||typeof J>"u")&&(J=Number.MAX_VALUE,ce=Number.MIN_VALUE,f.series.forEach(ne=>{(ne=ne.xData)&&(J=Math.min(ne[0],J),ce=Math.max(ne[ne.length-1],ce))}),P=!1),X=this.getYTDExtremes(ce,J,f.time.useUTC),pe=Q=X.min,fe=X.max;else{this.deferredYTDClick=x;return}else X==="all"&&b&&(f.navigator&&f.navigator.baseSeries[0]&&(f.navigator.baseSeries[0].xAxis.options.range=void 0),pe=J,fe=ce);Ce&&g._offsetMin&&L(pe)&&(pe+=g._offsetMin),g._offsetMax&&L(fe)&&(fe+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=x+1),b?b.setExtremes(pe,fe,ie(P,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(F=$(f.options.xAxis)[0],ue=F.range,F.range=A,se=F.min,F.min=Q,k(f,"load",function(){F.range=ue,F.min=se})),S(this,"afterBtnClick")}}setSelected(x){this.selected=this.options.selected=x}init(x){const P=this,f=x.options.rangeSelector,g=f.buttons||P.defaultButtons.slice(),b=f.selected,A=function(){const X=P.minInput,Y=P.maxInput;X&&X.blur&&S(X,"blur"),Y&&Y.blur&&S(Y,"blur")};P.chart=x,P.options=f,P.buttons=[],P.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(k(x.container,"mousedown",A)),this.eventsToUnbind.push(k(x,"resize",A)),g.forEach(P.computeButtonRange),typeof b<"u"&&g[b]&&this.clickButton(b,!1),this.eventsToUnbind.push(k(x,"load",function(){x.xAxis&&x.xAxis[0]&&k(x.xAxis[0],"setExtremes",function(X){this.max-this.min!==x.fixedRange&&X.trigger!=="rangeSelectorButton"&&X.trigger!=="updatedData"&&P.forcedDataGrouping&&!P.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const x=this;var P=this.chart;const f=this.dropdown,g=P.xAxis[0],b=Math.round(g.max-g.min),A=!g.hasVisibleSeries,X=P.scroller&&P.scroller.getUnionExtremes()||g,Y=X.dataMin,J=X.dataMax;P=x.getYTDExtremes(J,Y,P.time.useUTC);const ce=P.min,pe=P.max,fe=x.selected,F=x.options.allButtonsEnabled,Q=x.buttons;let se=D(fe);x.buttonOptions.forEach((ue,Ce)=>{var ne=ue._range,ve=ue.type,_e=ue.count||1;const oe=Q[Ce],ye=ue._offsetMax-ue._offsetMin,Se=Ce===fe,Re=ne>J-Y,Le=ne<g.minRange;ue=0;let $e=!1,rt=!1;ne=ne===b,(ve==="month"||ve==="year")&&b+36e5>=864e5*{month:28,year:365}[ve]*_e-ye&&b-36e5<=864e5*{month:31,year:366}[ve]*_e+ye?ne=!0:ve==="ytd"?(ne=pe-ce+ye===b,$e=!Se):ve==="all"&&(ne=g.max-g.min>=J-Y,rt=!Se&&se&&ne),ve=!F&&(Re||Le||rt||A),_e=Se&&ne||ne&&!se&&!$e||Se&&x.frozenStates,ve?ue=3:_e&&(se=!0,ue=2),oe.state!==ue&&(oe.setState(ue),f&&(f.options[Ce+1].disabled=ve,ue===2&&(f.selectedIndex=Ce+1)),ue===0&&fe===Ce&&x.setSelected())})}computeButtonRange(x){const P=x.type,f=x.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[P]?x._range=g[P]*f:(P==="month"||P==="year")&&(x._range=864e5*{month:30,year:365}[P]*f),x._offsetMin=ie(x.offsetMin,0),x._offsetMax=ie(x.offsetMax,0),x._range+=x._offsetMax-x._offsetMin}getInputValue(x){x=x==="min"?this.minInput:this.maxInput;const P=this.chart.options.rangeSelector,f=this.chart.time;return x?(x.type==="text"&&P.inputDateParser||this.defaultInputDateParser)(x.value,f.useUTC,f):0}setInputValue(x,P){const f=this.options,g=this.chart.time,b=x==="min"?this.minInput:this.maxInput;if(x=x==="min"?this.minDateBox:this.maxDateBox,b){var A=b.getAttribute("data-hc-time");A=L(A)?Number(A):void 0,L(P)&&(L(A)&&b.setAttribute("data-hc-time-previous",A),b.setAttribute("data-hc-time",P),A=P),b.value=g.dateFormat(this.inputTypeFormats[b.type]||f.inputEditDateFormat,A),x&&x.attr({text:g.dateFormat(f.inputDateFormat,A)})}}setInputExtremes(x,P,f){if(x=x==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[x.type],b=this.chart.time;g&&(P=b.dateFormat(g,P),x.min!==P&&(x.min=P),f=b.dateFormat(g,f),x.max!==f&&(x.max=f))}}showInput(x){const P=x==="min"?this.minDateBox:this.maxDateBox;if((x=x==="min"?this.minInput:this.maxInput)&&P&&this.inputGroup){const f=x.type==="text",{translateX:g,translateY:b}=this.inputGroup,{inputBoxWidth:A}=this.options;q(x,{width:f?P.width+(A?-2:20)+"px":"auto",height:P.height-2+"px",border:"2px solid silver"}),f&&A?q(x,{left:g+P.x+"px",top:b+"px"}):q(x,{left:Math.min(Math.round(P.x+g-(x.offsetWidth-P.width)/2),this.chart.chartWidth-x.offsetWidth)+"px",top:b-(x.offsetHeight-P.height)/2+"px"})}}hideInput(x){(x=x==="min"?this.minInput:this.maxInput)&&q(x,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(x,P,f){var g=x.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),P)g+="Z";else{var b;(b=d.isSafari)&&(b=g,b=!(6<b.length&&(b.lastIndexOf("-")===b.length-6||b.lastIndexOf("+")===b.length-6))),b&&(b=new Date(g).getTimezoneOffset()/60,g+=0>=b?`+${E(-b)}:00`:`-${E(b)}:00`)}return g=Date.parse(g),D(g)||(x=x.split("-"),g=Date.UTC(te(x[0]),te(x[1])-1,te(x[2]))),f&&P&&D(g)&&(g+=f.getTimezoneOffset(g)),g}drawInput(x){function P(){const{maxInput:Q,minInput:se}=A,ue=f.xAxis[0];var Ce=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:ue;const ne=Ce.dataMin;Ce=Ce.dataMax;let ve=A.getInputValue(x);ve!==Number(fe.getAttribute("data-hc-time-previous"))&&D(ve)&&(fe.setAttribute("data-hc-time-previous",ve),ce&&Q&&D(ne)?ve>Number(Q.getAttribute("data-hc-time"))?ve=void 0:ve<ne&&(ve=ne):se&&D(Ce)&&(ve<Number(se.getAttribute("data-hc-time"))?ve=void 0:ve>Ce&&(ve=Ce)),typeof ve<"u"&&ue.setExtremes(ce?ve:ue.min,ce?ue.max:ve,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:f,div:g,inputGroup:b}=this,A=this,X=f.renderer.style||{};var Y=f.renderer;const J=f.options.rangeSelector,ce=x==="min";var pe=K.lang[ce?"rangeSelectorFrom":"rangeSelectorTo"]||"";pe=Y.label(pe,0).addClass("highcharts-range-label").attr({padding:pe?2:0,height:pe?J.inputBoxHeight:0}).add(b),Y=Y.label("",0).addClass("highcharts-range-input").attr({padding:2,width:J.inputBoxWidth,height:J.inputBoxHeight,"text-align":"center"}).on("click",function(){A.showInput(x),A[x+"Input"].focus()}),f.styledMode||Y.attr({stroke:J.inputBoxBorderColor,"stroke-width":1}),Y.add(b);const fe=z("input",{name:x,className:"highcharts-range-selector"},void 0,g);fe.setAttribute("type",R(J.inputDateFormat||"%e %b %Y")),f.styledMode||(pe.css(H(X,J.labelStyle)),Y.css(H({color:"#333333"},X,J.inputStyle)),q(fe,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:X.fontSize,fontFamily:X.fontFamily,top:"-9999em"},J.inputStyle))),fe.onfocus=()=>{A.showInput(x)},fe.onblur=()=>{fe===d.doc.activeElement&&P(),A.hideInput(x),A.setInputValue(x),fe.blur()};let F=!1;return fe.onchange=()=>{F||(P(),A.hideInput(x),fe.blur())},fe.onkeypress=Q=>{Q.keyCode===13&&P()},fe.onkeydown=Q=>{F=!0,Q.keyCode!==38&&Q.keyCode!==40||P()},fe.onkeyup=()=>{F=!1},{dateBox:Y,input:fe,label:pe}}getPosition(){var x=this.chart;const P=x.options.rangeSelector;return x=P.verticalAlign==="top"?x.plotTop-x.axisOffset[0]:0,{buttonTop:x+P.buttonPosition.y,inputTop:x+P.inputPosition.y-10}}getYTDExtremes(x,P,f){const g=this.chart.time;var b=new g.Date(x);const A=g.get("FullYear",b);return f=f?g.Date.UTC(A,0,1):+new g.Date(A,0,1),P=Math.max(P,f),b=b.getTime(),{max:Math.min(x||b,b),min:P}}render(x,P){var f=this.chart,g=f.renderer;const b=f.container;var A=f.options;const X=A.rangeSelector,Y=ie(A.chart.style&&A.chart.style.zIndex,0)+1;if(A=X.inputEnabled,X.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=z("div",void 0,{position:"relative",height:0,zIndex:Y}),this.buttonOptions.length&&this.renderButtons(),b.parentNode&&b.parentNode.insertBefore(this.div,b),A&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),A&&(this.setInputValue("min",x),this.setInputValue("max",P),x=f.scroller&&f.scroller.getUnionExtremes()||f.xAxis[0]||{},L(x.dataMin)&&L(x.dataMax)&&(f=f.xAxis[0].minRange||0,this.setInputExtremes("min",x.dataMin,Math.min(x.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(x.dataMin,this.getInputValue("min"))+f,x.dataMax)),this.inputGroup)){let J=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(ce=>{if(ce){const{width:pe}=ce.getBBox();pe&&(ce.attr({x:J}),J+=pe+X.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:x,chart:P,options:f}=this,g=K.lang,b=P.renderer,A=H(f.buttonTheme),X=A&&A.states,Y=A.width||28;delete A.width,delete A.states,this.buttonGroup=b.g("range-selector-buttons").add(this.group);const J=this.dropdown=z("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);k(J,"touchstart",()=>{J.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([ce,pe])=>{k(J,ce,()=>{const fe=x[this.currentButtonIndex()];fe&&S(fe.element,pe||ce)})}),this.zoomText=b.label(g&&g.rangeSelectorZoom||"",0).attr({padding:f.buttonTheme.padding,height:f.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(f.labelStyle),A["stroke-width"]=ie(A["stroke-width"],0)),z("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,J),this.buttonOptions.forEach((ce,pe)=>{z("option",{textContent:ce.title||ce.text},void 0,J),x[pe]=b.button(ce.text,0,0,fe=>{const F=ce.events&&ce.events.click;let Q;F&&(Q=F.call(ce,fe)),Q!==!1&&this.clickButton(pe),this.isActive=!0},A,X&&X.hover,X&&X.select,X&&X.disabled).attr({"text-align":"center",width:Y}).add(this.buttonGroup),ce.title&&x[pe].attr("title",ce.title)})}alignElements(){const{buttonGroup:x,buttons:P,chart:f,group:g,inputGroup:b,options:A,zoomText:X}=this;var Y=f.options;const J=Y.exporting&&Y.exporting.enabled!==!1&&Y.navigation&&Y.navigation.buttonOptions,{buttonPosition:ce,inputPosition:pe,verticalAlign:fe}=A;Y=(ue,Ce)=>J&&this.titleCollision(f)&&fe==="top"&&Ce.align==="right"&&Ce.y-ue.getBBox().height-12<(J.y||0)+(J.height||0)+f.spacing[0]?-40:0;var F=f.plotLeft;if(g&&ce&&pe){var Q=ce.x-f.spacing[3];if(x){if(this.positionButtons(),!this.initialButtonGroupWidth){let ve=0;X&&(ve+=X.getBBox().width+5),P.forEach((_e,oe)=>{ve+=_e.width,oe!==P.length-1&&(ve+=A.buttonSpacing)}),this.initialButtonGroupWidth=ve}F-=f.spacing[3],this.updateButtonStates();var se=Y(x,ce);this.alignButtonGroup(se),g.placed=x.placed=f.hasLoaded}se=0,b&&(se=Y(b,pe),pe.align==="left"?Q=F:pe.align==="right"&&(Q=-Math.max(f.axisOffset[1],-se)),b.align({y:pe.y,width:b.getBBox().width,align:pe.align,x:pe.x+Q-2},!0,f.spacingBox),b.placed=f.hasLoaded),this.handleCollision(se),g.align({verticalAlign:fe},!0,f.spacingBox),Y=g.alignAttr.translateY,F=g.getBBox().height+20,Q=0,fe==="bottom"&&(Q=(Q=f.legend&&f.legend.options)&&Q.verticalAlign==="bottom"&&Q.enabled&&!Q.floating?f.legend.legendHeight+ie(Q.margin,10):0,F=F+Q-20,Q=Y-F-(A.floating?0:A.y)-(f.titleOffset?f.titleOffset[2]:0)-10),fe==="top"?(A.floating&&(Q=0),f.titleOffset&&f.titleOffset[0]&&(Q=f.titleOffset[0]),Q+=f.margin[0]-f.spacing[0]||0):fe==="middle"&&(pe.y===ce.y?Q=Y:(pe.y||ce.y)&&(Q=0>pe.y||0>ce.y?Q-Math.min(pe.y,ce.y):Y-F)),g.translate(A.x,A.y+Math.floor(Q));const{minInput:ue,maxInput:Ce,dropdown:ne}=this;A.inputEnabled&&ue&&Ce&&(ue.style.marginTop=g.translateY+"px",Ce.style.marginTop=g.translateY+"px"),ne&&(ne.style.marginTop=g.translateY+"px")}}alignButtonGroup(x,P){const{chart:f,options:g,buttonGroup:b}=this,{buttonPosition:A}=g,X=f.plotLeft-f.spacing[3];let Y=A.x-f.spacing[3];A.align==="right"?Y+=x-X:A.align==="center"&&(Y-=X/2),b&&b.align({y:A.y,width:ie(P,this.initialButtonGroupWidth),align:A.align,x:Y},!0,f.spacingBox)}positionButtons(){const{buttons:x,chart:P,options:f,zoomText:g}=this,b=P.hasLoaded?"animate":"attr",{buttonPosition:A}=f,X=P.plotLeft;let Y=X;g&&g.visibility!=="hidden"&&(g[b]({x:ie(X+A.x,X)}),Y+=A.x+g.getBBox().width+5);for(let J=0,ce=this.buttonOptions.length;J<ce;++J)x[J].visibility!=="hidden"?(x[J][b]({x:Y}),Y+=x[J].width+f.buttonSpacing):x[J][b]({x:X})}handleCollision(x){const{chart:P,buttonGroup:f,inputGroup:g}=this,{buttonPosition:b,dropdown:A,inputPosition:X}=this.options,Y=()=>{let pe=0;return this.buttons.forEach(fe=>{fe=fe.getBBox(),fe.width>pe&&(pe=fe.width)}),pe},J=pe=>{if(g&&f){const fe=g.alignAttr.translateX+g.alignOptions.x-x+g.getBBox().x+2,F=g.alignOptions.width,Q=f.alignAttr.translateX+f.getBBox().x;return Q+pe>fe&&fe+F>Q&&b.y<X.y+g.getBBox().height}return!1},ce=()=>{g&&f&&g.attr({translateX:g.alignAttr.translateX+(P.axisOffset[1]>=-x?0:-x),translateY:g.alignAttr.translateY+f.getBBox().height+10})};if(f){if(A==="always"){this.collapseButtons(x),J(Y())&&ce();return}A==="never"&&this.expandButtons()}g&&f?X.align===b.align||J(this.initialButtonGroupWidth+20)?A==="responsive"?(this.collapseButtons(x),J(Y())&&ce()):ce():A==="responsive"&&this.expandButtons():f&&A==="responsive"&&(this.initialButtonGroupWidth>P.plotWidth?this.collapseButtons(x):this.expandButtons())}collapseButtons(x){const{buttons:P,buttonOptions:f,chart:g,dropdown:b,options:A,zoomText:X}=this,Y=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},J=fe=>({text:fe?`${fe} ▾`:"▾",width:"auto",paddingLeft:ie(A.buttonTheme.paddingLeft,Y.padding,8),paddingRight:ie(A.buttonTheme.paddingRight,Y.padding,8)});X&&X.hide();let ce=!1;f.forEach((fe,F)=>{F=P[F],F.state!==2?F.hide():(F.show(),F.attr(J(fe.text)),ce=!0)}),ce||(b&&(b.selectedIndex=0),P[0].show(),P[0].attr(J(this.zoomText&&this.zoomText.textStr)));const{align:pe}=A.buttonPosition;this.positionButtons(),pe!=="right"&&pe!=="center"||this.alignButtonGroup(x,P[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:x,buttonOptions:P,options:f,zoomText:g}=this;this.hideDropdown(),g&&g.show(),P.forEach((b,A)=>{A=x[A],A.show(),A.attr({text:b.text,width:f.buttonTheme.width||28,paddingLeft:ie(f.buttonTheme.paddingLeft,"unset"),paddingRight:ie(f.buttonTheme.paddingRight,"unset")}),2>A.state&&A.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:x}=this;return x&&0<x.selectedIndex?x.selectedIndex-1:0}showDropdown(){const{buttonGroup:x,buttons:P,chart:f,dropdown:g}=this;if(x&&g){const{translateX:b,translateY:A}=x,X=P[this.currentButtonIndex()].getBBox();q(g,{left:f.plotLeft+b+"px",top:A+.5+"px",width:X.width+"px",height:X.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:x}=this;x&&(q(x,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var x=this.options,P=this.group;const f=x.y,g=x.buttonPosition.y,b=x.inputPosition.y;return x.height?x.height:(this.alignElements(),x=P?P.getBBox(!0).height+13+f:0,P=Math.min(b,g),(0>b&&0>g||0<b&&0<g)&&(x+=Math.abs(P)),x)}titleCollision(x){return!(x.options.title.text||x.options.subtitle.text)}update(x){const P=this.chart;H(!0,P.options.rangeSelector,x),this.destroy(),this.init(P),this.render()}destroy(){const x=this,P=x.minInput,f=x.maxInput;x.eventsToUnbind&&(x.eventsToUnbind.forEach(g=>g()),x.eventsToUnbind=void 0),O(x.buttons),P&&(P.onfocus=P.onblur=P.onchange=null),f&&(f.onfocus=f.onblur=f.onchange=null),U(x,function(g,b){g&&b!=="chart"&&(g instanceof s?g.destroy():g instanceof window.HTMLElement&&G(g)),g!==V.prototype[b]&&(x[b]=null)},this)}}return M(V.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),V}),i(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v){const{unhideChartElementFromAT:R,getAxisRangeDescription:K}=d,{addEvent:k,attr:z}=v;class q extends o{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new h(this.chart,"polite")}onChartUpdate(){const O=this.chart,G=this,M=O.rangeSelector;M&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),M.buttons&&M.buttons.length&&M.buttons.forEach(S=>{G.setRangeButtonAttrs(S)}),M.maxInput&&M.minInput&&["minInput","maxInput"].forEach(function(S,D){(S=M[S])&&(R(O,S),G.setRangeInputAttrs(S,"accessibility.rangeSelector."+(D?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const O=this.chart,G=O.rangeSelector,M=G&&G.dropdown,S=G&&G.buttons||[];G&&G.hasVisibleDropdown&&M?(R(O,M),S.forEach(D=>D.element.setAttribute("aria-hidden",!0))):(M&&M.setAttribute("aria-hidden",!0),S.forEach(D=>R(O,D.element)))}setDropdownAttrs(){var O=this.chart;const G=O.rangeSelector&&O.rangeSelector.dropdown;G&&(O=O.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:O.options.lang.rangeSelectorZoom}),G.setAttribute("aria-label",O),G.setAttribute("tabindex",-1))}setRangeButtonAttrs(O){z(O.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(O,G){const M=this.chart;z(O,{tabindex:-1,"aria-label":M.langFormat(G,{chart:M})})}onButtonNavKbdArrowKey(O,G){const M=O.response,S=this.keyCodes,D=this.chart,H=D.options.accessibility.keyboardNavigation.wrapAround;return G=G===S.left||G===S.up?-1:1,D.highlightRangeSelectorButton(D.highlightedRangeSelectorItemIx+G)?M.success:H?(O.init(G),M.success):M[0<G?"next":"prev"]}onButtonNavKbdClick(O){O=O.response;const G=this.chart;return G.oldRangeSelectorItemState!==3&&this.fakeClickEvent(G.rangeSelector.buttons[G.highlightedRangeSelectorItemIx].element),O.success}onAfterBtnClick(){var O=this.chart;const G=K(O.xAxis[0]);(O=O.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:O,axisRangeDescription:G}))&&this.announcer.announce(O)}onInputKbdMove(O){const G=this.chart;var M=G.rangeSelector;const S=G.highlightedInputRangeIx=(G.highlightedInputRangeIx||0)+O;if(1<S||0>S){if(G.accessibility)return G.accessibility.keyboardNavigation.exiting=!0,G.accessibility.keyboardNavigation.tabindexContainer.focus(),G.accessibility.keyboardNavigation.move(O)}else M&&(O=M[S?"maxDateBox":"minDateBox"],M=M[S?"maxInput":"minInput"],O&&M&&G.setFocusToElement(O,M));return!0}onInputNavInit(O){const G=this;var M=this.chart;const S=0<O?0:1;var D=M.rangeSelector;const H=D&&D[S?"maxDateBox":"minDateBox"];if(O=D&&D.minInput,D=D&&D.maxInput,M.highlightedInputRangeIx=S,H&&O&&D){M.setFocusToElement(H,S?D:O),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),M=ie=>{(ie.which||ie.keyCode)===this.keyCodes.tab&&G.onInputKbdMove(ie.shiftKey?-1:1)&&(ie.preventDefault(),ie.stopPropagation())};const U=k(O,"keydown",M),E=k(D,"keydown",M);this.removeInputKeydownHandler=()=>{U(),E()}}}onInputNavTerminate(){const O=this.chart.rangeSelector||{};O.maxInput&&O.hideInput("max"),O.minInput&&O.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const O=this.chart,G=O.rangeSelector,M=G&&G.dropdown;G&&M&&(O.setFocusToElement(G.buttonGroup,M),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=k(M,"keydown",S=>{const D=O.accessibility;(S.which||S.keyCode)===this.keyCodes.tab&&(S.preventDefault(),S.stopPropagation(),D&&(D.keyboardNavigation.tabindexContainer.focus(),D.keyboardNavigation.move(S.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const O=this.chart,G=this.keyCodes,M=this;return new s(O,{keyCodeMap:[[[G.left,G.right,G.up,G.down],function(S){return M.onButtonNavKbdArrowKey(this,S)}],[[G.enter,G.space],function(){return M.onButtonNavKbdClick(this)}]],validate:function(){return!!(O.rangeSelector&&O.rangeSelector.buttons&&O.rangeSelector.buttons.length)},init:function(S){var D=O.rangeSelector;D&&D.hasVisibleDropdown?M.initDropdownNav():D&&(D=D.buttons.length-1,O.highlightRangeSelectorButton(0<S?0:D))},terminate:function(){M.removeDropdownKeydownHandler&&(M.removeDropdownKeydownHandler(),delete M.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const O=this.chart,G=this;return new s(O,{keyCodeMap:[],validate:function(){return!!(O.rangeSelector&&O.rangeSelector.inputGroup&&O.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&O.options.rangeSelector.inputEnabled!==!1&&O.rangeSelector.minInput&&O.rangeSelector.maxInput)},init:function(M){G.onInputNavInit(M)},terminate:function(){G.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(L){function O(S){const D=this.rangeSelector&&this.rangeSelector.buttons||[],H=this.highlightedRangeSelectorItemIx,U=this.rangeSelector&&this.rangeSelector.selected;return typeof H<"u"&&D[H]&&H!==U&&D[H].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=S,D[S]?(this.setFocusToElement(D[S].box,D[S].element),S!==U&&(this.oldRangeSelectorItemState=D[S].state,D[S].setState(1)),!0):!1}function G(){const S=this.chart.accessibility;if(S&&S.components.rangeSelector)return S.components.rangeSelector.onAfterBtnClick()}const M=[];L.compose=function(S,D){v.pushUnique(M,S)&&(S.prototype.highlightRangeSelectorButton=O),v.pushUnique(M,D)&&k(r,"afterBtnClick",G)}}(q||(q={})),q}),i(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(r){const{addEvent:o,merge:d}=r;var h;return function(s){function v(L){d(!0,L,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function R(L){return L.marker.states&&L.marker.states.normal&&L.marker.states.normal.opacity}function K(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(L=>{L.graphic&&(L.graphic[L.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),L.graphic[L.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function k(L){this.resetA11yMarkerOptions=d(L.options.marker||{},this.userOptions.marker||{})}function z(){var L=this.options,O=(this.options.accessibility&&this.options.accessibility.enabled)!==!1;if((O=this.chart.options.accessibility.enabled&&O)&&(O=this.chart.options.accessibility,O=this.points.length<O.series.pointDescriptionEnabledThreshold||O.series.pointDescriptionEnabledThreshold===!1),O){if(L.marker&&L.marker.enabled===!1&&(this.a11yMarkersForced=!0,v(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(L=this.points.length;L--;){O=this.points[L];const M=O.options;var G=O.hasForcedA11yMarker;delete O.hasForcedA11yMarker,M.marker&&(G=G&&R(M)===0,M.marker.enabled&&!G?(d(!0,M.marker,{states:{normal:{opacity:R(M)||1}}}),O.hasForcedA11yMarker=!1):M.marker.enabled===!1&&(v(M),O.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(L=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:L.enabled,states:{normal:{opacity:L.states&&L.states.normal&&L.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const q=[];s.compose=function(L){r.pushUnique(q,L)&&(o(L,"afterSetOptions",k),o(L,"render",z),o(L,"afterRender",K))}}(h||(h={})),h}),i(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(r,o,d,h,s,v,R,K){function k($){const V=$.index,j=$.series.points;let x=j.length;if(j[V]!==$){for(;x--;)if(j[x]===$)return x}else return V}function z($){const V=$.chart.options.accessibility.keyboardNavigation.seriesNavigation,j=$.options.accessibility||{},x=j.keyboardNavigation;return x&&x.enabled===!1||j.enabled===!1||$.options.enableMouseTracking===!1||!$.visible||V.pointNavigationEnabledThreshold&&V.pointNavigationEnabledThreshold<=$.points.length}function q($){const V=$.series.chart.options.accessibility,j=$.options.accessibility&&$.options.accessibility.enabled===!1;return $.isNull&&V.keyboardNavigation.seriesNavigation.skipNullPoints||$.visible===!1||$.isInside===!1||j||z($.series)}function L($){$=$.series||[];const V=$.length;for(let x=0;x<V;++x)if(!z($[x])){e:{var j=$[x].points||[];const P=j.length;for(let f=0;f<P;++f)if(!q(j[f])){j=j[f];break e}j=null}if(j)return j}return null}function O($){let V=$.series.length,j=!1;for(;V--&&($.highlightedPoint=$.series[V].points[$.series[V].points.length-1],!(j=$.series[V].highlightNextValidPoint())););return j}function G($){return delete $.highlightedPoint,($=L($))?$.highlight():!1}const{seriesTypes:M}=d,{doc:S}=h,{defined:D,fireEvent:H}=s,{getPointFromXY:U,getSeriesFromName:E,scrollToPoint:ie}=K;class te{constructor(V,j){this.keyCodes=j,this.chart=V}init(){const V=this,j=this.chart,x=this.eventProvider=new R;x.addEvent(o,"destroy",function(){return V.onSeriesDestroy(this)}),x.addEvent(j,"afterApplyDrilldown",function(){{const P=L(this);P&&P.highlight(!1)}}),x.addEvent(j,"drilldown",function(P){P=P.point;const f=P.series;V.lastDrilledDownPoint={x:P.x,y:P.y,seriesName:f?f.name:""}}),x.addEvent(j,"drillupall",function(){setTimeout(function(){V.onDrillupAll()},10)}),x.addEvent(r,"afterSetState",function(){const P=this.graphic&&this.graphic.element,f=S.activeElement;var g=f&&f.getAttribute("class");g=g&&-1<g.indexOf("highcharts-a11y-proxy-button"),j.highlightedPoint===this&&f!==P&&!g&&P&&P.focus&&P.focus()})}onDrillupAll(){const V=this.lastDrilledDownPoint,j=this.chart,x=V&&E(j,V.seriesName);let P;V&&x&&D(V.x)&&D(V.y)&&(P=U(x,V.x,V.y)),P=P||L(j),j.container&&j.container.focus(),P&&P.highlight&&P.highlight(!1)}getKeyboardNavigationHandler(){const V=this,j=this.keyCodes,x=this.chart,P=x.inverted;return new v(x,{keyCodeMap:[[P?[j.up,j.down]:[j.left,j.right],function(f){return V.onKbdSideways(this,f)}],[P?[j.left,j.right]:[j.up,j.down],function(f){return V.onKbdVertical(this,f)}],[[j.enter,j.space],function(f,g){return(f=x.highlightedPoint)&&(g.point=f,H(f.series,"click",g),f.firePointEvent("click")),this.response.success}],[[j.home],function(){return G(x),this.response.success}],[[j.end],function(){return O(x),this.response.success}],[[j.pageDown,j.pageUp],function(f){return x.highlightAdjacentSeries(f===j.pageDown),this.response.success}]],init:function(){return V.onHandlerInit(this)},validate:function(){return!!L(x)},terminate:function(){return V.onHandlerTerminate()}})}onKbdSideways(V,j){const x=this.keyCodes;return this.attemptHighlightAdjacentPoint(V,j===x.right||j===x.down)}onHandlerInit(V){const j=this.chart;return j.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&j.highlightedPoint?j.highlightedPoint.highlight():G(j),V.response.success}onKbdVertical(V,j){const x=this.chart;var P=this.keyCodes;return j=j===P.down||j===P.right,P=x.options.accessibility.keyboardNavigation.seriesNavigation,P.mode&&P.mode==="serialize"?this.attemptHighlightAdjacentPoint(V,j):(x[x.highlightedPoint&&x.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](j),V.response.success)}onHandlerTerminate(){const V=this.chart,j=V.options.accessibility.keyboardNavigation;V.tooltip&&V.tooltip.hide(0);const x=V.highlightedPoint&&V.highlightedPoint.series;x&&x.onMouseOut&&x.onMouseOut(),V.highlightedPoint&&V.highlightedPoint.onMouseOut&&V.highlightedPoint.onMouseOut(),j.seriesNavigation.rememberPointFocus||delete V.highlightedPoint}attemptHighlightAdjacentPoint(V,j){const x=this.chart,P=x.options.accessibility.keyboardNavigation.wrapAround;return x.highlightAdjacentPoint(j)||P&&(j?G(x):O(x))?V.response.success:V.response[j?"next":"prev"]}onSeriesDestroy(V){const j=this.chart;j.highlightedPoint&&j.highlightedPoint.series===V&&(delete j.highlightedPoint,j.focusElement&&j.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function($){function V(A){var X=this.series;const Y=this.highlightedPoint;var J=Y&&k(Y)||0;const ce=Y&&Y.series.points||[];var pe=this.series&&this.series[this.series.length-1];if(pe=pe&&pe.points&&pe.points[pe.points.length-1],!X[0]||!X[0].points)return!1;if(Y){if(X=X[Y.series.index+(A?1:-1)],J=ce[J+(A?1:-1)],!J&&X&&(J=X.points[A?0:X.points.length-1]),!J)return!1}else J=A?X[0].points[0]:pe;return q(J)?(X=J.series,z(X)?this.highlightedPoint=A?X.points[X.points.length-1]:X.points[0]:this.highlightedPoint=J,this.highlightAdjacentPoint(A)):J.highlight()}function j(A){const X=this.highlightedPoint;let Y=1/0,J;return!D(X.plotX)||!D(X.plotY)?!1:(this.series.forEach(ce=>{z(ce)||ce.points.forEach(pe=>{if(D(pe.plotY)&&D(pe.plotX)&&pe!==X){var fe=pe.plotY-X.plotY,F=Math.abs(pe.plotX-X.plotX);F=Math.abs(fe)*Math.abs(fe)+F*F*4,ce.yAxis&&ce.yAxis.reversed&&(fe*=-1),!(0>=fe&&A||0<=fe&&!A||5>F||q(pe))&&F<Y&&(Y=F,J=pe)}})}),J?J.highlight():!1)}function x(A){const X=this.highlightedPoint;var Y=this.series&&this.series[this.series.length-1],J=Y&&Y.points&&Y.points[Y.points.length-1];return this.highlightedPoint?(Y=this.series[X.series.index+(A?-1:1)],!Y||(J=P(X,Y,4),!J)?!1:z(Y)?(J.highlight(),A=this.highlightAdjacentSeries(A),A||(X.highlight(),!1)):(J.highlight(),J.series.highlightNextValidPoint())):(Y=A?this.series&&this.series[0]:Y,(J=A?Y&&Y.points&&Y.points[0]:J)?J.highlight():!1)}function P(A,X,Y,J){let ce=1/0,pe,fe=X.points.length;const F=se=>!(D(se.plotX)&&D(se.plotY));if(!F(A)){for(;fe--;){var Q=X.points[fe];F(Q)||(Q=(A.plotX-Q.plotX)*(A.plotX-Q.plotX)*(Y||1)+(A.plotY-Q.plotY)*(A.plotY-Q.plotY)*(J||1),Q<ce&&(ce=Q,pe=fe))}return D(pe)?X.points[pe]:void 0}}function f(A=!0){const X=this.series.chart;return!this.isNull&&A?this.onMouseOver():X.tooltip&&X.tooltip.hide(0),ie(this),this.graphic&&(X.setFocusToElement(this.graphic),!A&&X.focusElement&&X.focusElement.removeFocusBorder()),X.highlightedPoint=this,this}function g(){var A=this.chart.highlightedPoint,X=(A&&A.series)===this?k(A):0;A=this.points;const Y=A.length;if(A&&Y){for(let J=X;J<Y;++J)if(!q(A[J]))return A[J].highlight();for(;0<=X;--X)if(!q(A[X]))return A[X].highlight()}return!1}const b=[];$.compose=function(A,X,Y){s.pushUnique(b,A)&&(A=A.prototype,A.highlightAdjacentPoint=V,A.highlightAdjacentPointVertical=j,A.highlightAdjacentSeries=x),s.pushUnique(b,X)&&(X.prototype.highlight=f),s.pushUnique(b,Y)&&(X=Y.prototype,X.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(J=>{M[J]&&(M[J].prototype.keyboardMoveVertical=!1)}),X.highlightNextValidPoint=g)}}(te||(te={})),te}),i(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(r,o,d,h,s,v){const{hideSeriesFromAT:R}=o,{describeSeries:K}=s;class k extends r{static compose(q,L,O){h.compose(O),d.compose(O),v.compose(q,L,O)}init(){this.newDataAnnouncer=new h(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new v(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const q=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===q.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(q){q.labelBySeries&&q.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(q){(q.options.accessibility&&q.options.accessibility.enabled)!==!1&&q.visible?K(q):R(q)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return k}),i(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{unhideChartElementFromAT:v}=o,{getFakeMouseEvent:R}=d,{attr:K,pick:k}=s;class z extends r{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const L=this,O=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(G=>{L.addEvent(O,G,function(){L.updateProxyOverlays()})})}onChartUpdate(){const L=this.chart,O=this;L.mapNavigation&&L.mapNavigation.navButtons.forEach((G,M)=>{v(L,G.element),O.setMapNavButtonAttrs(G.element,"accessibility.zoom.mapZoom"+(M?"Out":"In"))})}setMapNavButtonAttrs(L,O){const G=this.chart;O=G.langFormat(O,{chart:G}),K(L,{tabindex:-1,role:"button","aria-label":O})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const L=this.chart;this.proxyProvider.clearGroup("zoom"),L.resetZoomButton&&this.createZoomProxyButton(L.resetZoomButton,"resetZoomProxyButton",L.langFormat("accessibility.zoom.resetZoomButton",{chart:L})),L.drillUpButton&&L.breadcrumbs&&L.breadcrumbs.list&&this.createZoomProxyButton(L.drillUpButton,"drillUpProxyButton",L.langFormat("accessibility.drillUpButton",{chart:L,buttonText:L.breadcrumbs.getButtonText(L.breadcrumbs.list[L.breadcrumbs.list.length-1])}))}createZoomProxyButton(L,O,G){this[O]=this.proxyProvider.addProxyElement("zoom",{click:L},{"aria-label":G,tabindex:-1})}getMapZoomNavigation(){const L=this.keyCodes,O=this.chart,G=this;return new h(O,{keyCodeMap:[[[L.up,L.down,L.left,L.right],function(M){return G.onMapKbdArrow(this,M)}],[[L.tab],function(M,S){return G.onMapKbdTab(this,S)}],[[L.space,L.enter],function(){return G.onMapKbdClick(this)}]],validate:function(){return!!(O.mapView&&O.mapNavigation&&O.mapNavigation.navButtons.length)},init:function(M){return G.onMapNavInit(M)}})}onMapKbdArrow(L,O){var G=this.chart,M=this.keyCodes;const S=G.container;var D=O===M.up||O===M.down;return O=(D?G.plotHeight:G.plotWidth)/10*(O===M.left||O===M.up?1:-1),M=10*Math.random(),G={x:S.offsetLeft+G.plotLeft+G.plotWidth/2+M,y:S.offsetTop+G.plotTop+G.plotHeight/2+M},D=D?{x:G.x,y:G.y+O}:{x:G.x+O,y:G.y},[R("mousedown",G),R("mousemove",D),R("mouseup",D)].forEach(H=>S.dispatchEvent(H)),L.response.success}onMapKbdTab(L,O){const G=this.chart;L=L.response;const M=(O=O.shiftKey)&&!this.focusedMapNavButtonIx||!O&&this.focusedMapNavButtonIx;return G.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),M?(G.mapView&&G.mapView.zoomBy(),L[O?"prev":"next"]):(this.focusedMapNavButtonIx+=O?-1:1,O=G.mapNavigation.navButtons[this.focusedMapNavButtonIx],G.setFocusToElement(O.box,O.element),O.setState(2),L.success)}onMapKbdClick(L){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),L.response.success}onMapNavInit(L){const O=this.chart;var G=O.mapNavigation.navButtons[0];const M=O.mapNavigation.navButtons[1];G=0<L?G:M,O.setFocusToElement(G.box,G.element),G.setState(2),this.focusedMapNavButtonIx=0<L?0:1}simpleButtonNavigation(L,O,G){const M=this.keyCodes,S=this,D=this.chart;return new h(D,{keyCodeMap:[[[M.tab,M.up,M.down,M.left,M.right],function(H,U){return this.response[H===M.tab&&U.shiftKey||H===M.left||H===M.up?"prev":"next"]}],[[M.space,M.enter],function(){const H=G(this,D);return k(H,this.response.success)}]],validate:function(){return D[L]&&D[L].box&&S[O].buttonElement},init:function(){D.setFocusToElement(D[L].box,S[O].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(L,O){O.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(L,O){return O.drillUp(),L.response.prev}),this.getMapZoomNavigation()]}}return z}),i(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(r){const{doc:o,isMS:d,win:h}=r;return{isHighContrastModeActive:function(){var s=/(Edg)/.test(h.navigator.userAgent);if(h.matchMedia&&s)return h.matchMedia("(-ms-high-contrast: active)").matches;if(d&&h.getComputedStyle){s=o.createElement("div"),s.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",o.body.appendChild(s);const v=(s.currentStyle||h.getComputedStyle(s)).backgroundImage;return o.body.removeChild(s),v==="none"}return h.matchMedia&&h.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(s){s.highContrastModeActive=!0;const v=s.options.accessibility.highContrastTheme;s.update(v,!1),s.series.forEach(function(R){const K=v.plotOptions[R.type]||{};R.update({color:K.color||"windowText",colors:[K.color||"windowText"],borderColor:K.borderColor||"window"}),R.points.forEach(function(k){k.options&&k.options.color&&k.update({color:K.color||"windowText",borderColor:K.borderColor||"window"},!1)})}),s.redraw()}}}),i(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),i(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),i(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),i(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(r){function o(k,z,q){let L,O=0;for(;O<z.length-1;++O)L=z[O],k=k[L]=K(k[L],{});k[z[z.length-1]]=q}function d(k,z,q,L){function O(S,D){return D.reduce(function(H,U){return H[U]},S)}const G=O(k.options,z),M=O(k.options,q);Object.keys(L).forEach(function(S){const D=G[S];typeof D<"u"&&(o(M,L[S],D),R(32,!1,k,{[z.join(".")+"."+S]:q.join(".")+"."+L[S].join(".")}))})}function h(k){const z=k.options.chart,q=k.options.accessibility||{};["description","typeDescription"].forEach(function(L){z[L]&&(q[L]=z[L],R(32,!1,k,{[`chart.${L}`]:`use accessibility.${L}`}))})}function s(k){k.axes.forEach(function(z){(z=z.options)&&z.description&&(z.accessibility=z.accessibility||{},z.accessibility.description=z.description,R(32,!1,k,{"axis.description":"use axis.accessibility.description"}))})}function v(k){const z={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};k.series.forEach(function(q){Object.keys(z).forEach(function(L){let O=q.options[L];L==="accessibility.pointDescriptionFormatter"&&(O=q.options.accessibility&&q.options.accessibility.pointDescriptionFormatter),typeof O<"u"&&(o(q.options,z[L],L==="skipKeyboardNavigation"?!O:O),R(32,!1,k,{[`series.${L}`]:"series."+z[L].join(".")}))})})}const{error:R,pick:K}=r;return function(k){h(k),s(k),k.series&&v(k),d(k,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),d(k,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),d(k,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),i(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(r,o,d,h,s,v,R,K,k,z,q,L,O,G,M,S,D,H,U,E,ie){({defaultOptions:r}=r);const{doc:te}=o,{addEvent:$,extend:V,fireEvent:j,merge:x}=d,{removeElement:P}=h;class f{constructor(b){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(b)}init(b){this.chart=b,te.addEventListener?(ie(b),this.proxyProvider=new O(this.chart),this.initComponents(),this.keyboardNavigation=new k(b,this.components)):(this.zombie=!0,this.components={},b.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const b=this.chart,A=this.proxyProvider,X=b.options.accessibility;this.components={container:new v,infoRegions:new K,legend:new z,chartMenu:new q,rangeSelector:new G,series:new M,zoom:new S},X.customComponents&&V(this.components,X.customComponents);const Y=this.components;this.getComponentOrder().forEach(function(J){Y[J].initBase(b,A),Y[J].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const b=Object.keys(this.components).filter(A=>A!=="series");return["series"].concat(b)}update(){const b=this.components,A=this.chart;var X=A.options.accessibility;j(A,"beforeA11yUpdate"),A.types=this.getChartTypes(),X=X.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(X),this.getComponentOrder().forEach(function(Y){b[Y].onChartUpdate(),j(A,"afterA11yComponentUpdate",{name:Y,component:b[Y]})}),this.keyboardNavigation.update(X),!A.highContrastModeActive&&D.isHighContrastModeActive()&&D.setHighContrastTheme(A),j(A,"afterA11yUpdate",{accessibility:this})}destroy(){const b=this.chart||{},A=this.components;Object.keys(A).forEach(function(X){A[X].destroy(),A[X].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),b.announcerContainer&&P(b.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),b.renderTo&&b.renderTo.setAttribute("aria-hidden",!0),b.focusElement&&b.focusElement.removeFocusBorder()}getChartTypes(){const b={};return this.chart.series.forEach(function(A){b[A.type]=1}),Object.keys(b)}}return function(g){function b(){this.accessibility&&this.accessibility.destroy()}function A(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const pe=this.accessibility;pe&&!pe.zombie&&(pe.proxyProvider.updateProxyElementPositions(),pe.getComponentOrder().forEach(function(fe){pe.components[fe].onChartRender()}))}function X(pe){(pe=pe.options.accessibility)&&(pe.customComponents&&(this.options.accessibility.customComponents=pe.customComponents,delete pe.customComponents),x(!0,this.options.accessibility,pe),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function Y(){let pe=this.accessibility;const fe=this.options.accessibility;fe&&fe.enabled?pe&&!pe.zombie?pe.update():(this.accessibility=pe=new g(this),!pe.zombie&&pe.update()):pe?(pe.destroy&&pe.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function J(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const ce=[];g.i18nFormat=s.i18nFormat,g.compose=function(pe,fe,F,Q,se,ue){k.compose(pe),L.compose(Q),z.compose(pe,fe),q.compose(pe),M.compose(pe,F,Q),s.compose(pe),R.compose(pe,se),ue&&G.compose(pe,ue),d.pushUnique(ce,pe)&&(pe.prototype.updateA11yEnabled=Y,$(pe,"destroy",b),$(pe,"render",A),$(pe,"update",X),["addSeries","init"].forEach(Ce=>{$(pe,Ce,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(Ce=>{$(pe,Ce,function(){const ne=this.accessibility;ne&&!ne.zombie&&ne.update()})})),d.pushUnique(ce,F)&&$(F,"update",J),d.pushUnique(ce,Q)&&["update","updatedData","remove"].forEach(Ce=>{$(Q,Ce,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(f||(f={})),x(!0,r,U,{accessibility:{highContrastTheme:H},lang:E}),f}),i(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,o,d,h,s,v,R){r.i18nFormat=o.i18nFormat,r.A11yChartUtilities=h,r.A11yHTMLUtilities=s,r.AccessibilityComponent=d,r.KeyboardNavigationHandler=v,r.SeriesAccessibilityDescriber=R,o.compose(r.Chart,r.Legend,r.Point,r.Series,r.SVGElement,r.RangeSelector)})})})(U6);var mJ=U6.exports;const UC=tu(mJ);UC(yc);const gJ={name:"spline",components:{Chart:rm.Chart},data(){return{chartOptions:{chart:{type:"spline",scrollablePlotArea:{minWidth:600,scrollPositionX:1}},title:{text:"Wind speed during two days",align:"left"},subtitle:{text:"13th & 14th of June, 2022 at two locations in Vik i Sogn, Norway",align:"left"},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{title:{text:"Wind speed (m/s)"},minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:.3,to:1.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Light air",style:{color:"#606060"}}},{from:1.5,to:3.3,color:"rgba(0, 0, 0, 0)",label:{text:"Light breeze",style:{color:"#606060"}}},{from:3.3,to:5.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Gentle breeze",style:{color:"#606060"}}},{from:5.5,to:8,color:"rgba(0, 0, 0, 0)",label:{text:"Moderate breeze",style:{color:"#606060"}}},{from:8,to:11,color:"rgba(68, 170, 213, 0.1)",label:{text:"Fresh breeze",style:{color:"#606060"}}},{from:11,to:14,color:"rgba(0, 0, 0, 0)",label:{text:"Strong breeze",style:{color:"#606060"}}},{from:14,to:15,color:"rgba(68, 170, 213, 0.1)",label:{text:"High wind",style:{color:"#606060"}}}]},tooltip:{valueSuffix:" m/s"},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1},pointInterval:36e5,pointStart:Date.UTC(2022,5,13,0,0,0)}},series:[{name:"Hestavollane",data:[4.5,5.1,4.4,3.7,4.2,3.7,4.3,4,5,4.9,4.8,4.6,3.9,3.8,2.7,3.1,2.6,3.3,3.8,4.1,1,1.9,3.2,3.8,4.2]},{name:"Vik",data:[.1,.1,.1,.2,.4,.4,.3,.4,.1,0,.2,.3,0,0,0,0,0,.1,.1,.1,0,.1,0,0,0]}],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function yJ(e,t,i,r,o,d){const h=ur("Chart");return dt(),Dr(h,{options:o.chartOptions,constructorType:"stockChart"},null,8,["options"])}const _J=Cr(gJ,[["render",yJ]]);F6(yc);const vJ={components:{highcharts:rm.Chart},props:{min:{type:Number,default:0},max:{type:Number,default:32},value:{type:Number,default:0},title:String},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:this.min,max:this.max,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:this.title,y:150},plotBands:[{from:0,to:this.max/8,color:"#576D7E",thickness:40},{from:this.max/8,to:this.max/8*2,color:"#34485C",thickness:40},{from:this.max/8*2,to:this.max/8*3,color:"#60C5B8",thickness:40},{from:this.max/8*3,to:this.max/8*4,color:"#25B39E",thickness:40},{from:this.max/8*4,to:this.max/8*5,color:"#FCD062",thickness:40},{from:this.max/8*5,to:this.max/8*6,color:"#F8B84E",thickness:40},{from:this.max/8*6,to:this.max/8*7,color:"#F17F53",thickness:40},{from:this.max/8*7,to:this.max/8*8,color:"#F05542",thickness:40}]}],series:[{name:this.title,data:[this.value],tooltip:{valueSuffix:" "}}]}}},methods:{},watch:{value:function(e,t){this.options.series[0].data=[e]}}};function xJ(e,t,i,r,o,d){const h=ur("highcharts");return dt(),vt("div",null,[an(h,{options:o.options},null,8,["options"])])}const bJ=Cr(vJ,[["render",xJ]]),wJ={props:{value:Number,title:String},components:{highcharts:rm.Chart},watch:{value:function(e,t){this.options.series[0].data=[e]}},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:0,endAngle:360,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{title:{text:this.title},min:1,max:360,lineColor:"#333",offset:-20,tickInterval:30,labels:{step:1,distance:5,rotation:"auto"}}],series:[{name:this.title,yAxis:0,data:[this.value],dial:{radius:"88%",baseWidth:10,baseLength:"0%",rearLength:0,borderWidth:1,borderColor:"#9A0000",backgroundColor:"#CC0000"},tooltip:{valueSuffix:"°"}}]}}}};function TJ(e,t,i,r,o,d){const h=ur("highcharts");return dt(),vt("div",null,[an(h,{options:o.options},null,8,["options"])])}const $6=Cr(wJ,[["render",TJ]]),SJ={props:{url:String,fleet:Object},components:{SpeedoMeter:bJ,Compass:$6},methods:{scaleBeafort(e){let t="";return e<=1?t="Calm":e>1&&e<3.9?t="Light Air":e>4&&e<6.9?t="Light Breeze":e>7&&e<10.9?t="Gentle breeze":e>11&&e<16.9?t="Moderate breeze":e>17&&e<21.9?t="Fresh breeze":e>22&&e<27.9?t="Strong breeze":e>28&&e<33.9?t="High wind":e>34&&e<40.9?t="Gale":e>41&&e<47.9?t="Strong/severe gale":e>48&&e<55.9?t="Storm":e>56&&e<63.9?t="Violent storm":t="Hurricane force",t}}},CJ={class:"row"},EJ={class:"col-3"},MJ={class:"col-3"},kJ={class:"col-3"},AJ={class:"col-3"};function PJ(e,t,i,r,o,d){const h=ur("speedo-meter"),s=ur("compass");return dt(),vt("div",CJ,[Ne("div",EJ,[an(h,{value:i.fleet.navigation.sog,max:32,title:"Speed (knot)"},null,8,["value"])]),Ne("div",MJ,[an(s,{value:i.fleet.navigation.cog,title:"Course (°)"},null,8,["value"])]),Ne("div",kJ,[an(h,{value:i.fleet.navigation.wind_speed,max:80,title:d.scaleBeafort(i.fleet.navigation.wind_speed)},null,8,["value","title"])]),Ne("div",AJ,[an(s,{value:i.fleet.navigation.wind_direction,title:"Wind Direction"},null,8,["value"])])])}const DJ=Cr(SJ,[["render",PJ]]),IJ={components:{FleetSpeedometer:DJ},props:{url:String},data(){return{fleet:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(e=>e.data)}}},LJ={key:0},OJ={class:"p-3"},RJ={class:"row"},BJ={class:"col-12"},zJ=Ne("div",{class:"table-title"},[Ne("h6",null,"Navigation information")],-1),NJ={class:"table table-sm"},FJ=Ne("th",{scope:"row"},"•",-1),jJ=Ne("td",null,"Updated at",-1),UJ={class:"text-end"},$J=Ne("th",{scope:"row"},"•",-1),VJ=Ne("td",null,"Coordinate",-1),GJ={class:"text-end"},HJ=Ne("th",{scope:"row"},"•",-1),WJ=Ne("td",null,"Heading",-1),YJ={class:"text-end"},qJ=Ne("th",{scope:"row"},"•",-1),XJ=Ne("td",null,"Course / COG",-1),ZJ={class:"text-end"},KJ=Ne("th",{scope:"row"},"•",-1),JJ=Ne("td",null,"Speed / SOG",-1),QJ={class:"text-end"},eQ=Ne("th",{scope:"row"},"•",-1),tQ=Ne("td",null,"Depth",-1),iQ={class:"text-end"},nQ=Ne("th",{scope:"row"},"•",-1),rQ=Ne("td",null,"Wind Speed",-1),sQ={class:"text-end"},oQ=Ne("th",{scope:"row"},"•",-1),aQ=Ne("td",null,"Wind Direction",-1),lQ={class:"text-end"},cQ=Ne("th",{scope:"row"},"•",-1),dQ=Ne("td",null,"Travel Distance",-1),uQ={class:"text-end"},hQ=Ne("th",{scope:"row"},"•",-1),pQ=Ne("td",null,"Total Travel Distance",-1),fQ={class:"text-end"};function mQ(e,t,i,r,o,d){const h=ur("fleet-speedometer");return o.fleet?(dt(),vt("div",LJ,[an(h,{fleet:o.fleet},null,8,["fleet"]),Ne("div",OJ,[Ne("div",RJ,[Ne("div",BJ,[zJ,Ne("table",NJ,[Ne("tbody",null,[Ne("tr",null,[FJ,jJ,Ne("td",UJ,$i(o.fleet.last_connection),1)]),Ne("tr",null,[$J,VJ,Ne("td",GJ,$i(o.fleet.navigation.lat.toFixed(5))+" "+$i(o.fleet.navigation.lat_dir)+", "+$i(o.fleet.navigation.lng.toFixed(5))+" "+$i(o.fleet.navigation.lng_dir),1)]),Ne("tr",null,[HJ,WJ,Ne("td",YJ,$i(o.fleet.navigation.heading)+" °",1)]),Ne("tr",null,[qJ,XJ,Ne("td",ZJ,$i(o.fleet.navigation.cog)+" °",1)]),Ne("tr",null,[KJ,JJ,Ne("td",QJ,$i(o.fleet.navigation.sog)+" knot",1)]),Ne("tr",null,[eQ,tQ,Ne("td",iQ,$i(o.fleet.navigation.depth)+" meter",1)]),Ne("tr",null,[nQ,rQ,Ne("td",sQ,$i(o.fleet.navigation.wind_speed)+" knot",1)]),Ne("tr",null,[oQ,aQ,Ne("td",lQ,$i(o.fleet.navigation.wind_direction)+" °",1)]),Ne("tr",null,[cQ,dQ,Ne("td",uQ,$i(o.fleet.navigation.distance)+" NM",1)]),Ne("tr",null,[hQ,pQ,Ne("td",fQ,$i(o.fleet.navigation.total_distance)+" NM",1)])])])])])])])):di("",!0)}const gQ=Cr(IJ,[["render",mQ]]),yQ={props:{min:Number,max:Number,value:Number,normal:Number,danger:Number},data(){return{}},computed:{percentage(){return this.value/this.max*100},color(){let e="bg-success",t=this.value/this.max*100;return t>this.normal&&t<this.danger?e="bg-warning":t>this.danger&&(e="bg-danger"),e}}},_Q={class:"progress"};function vQ(e,t,i,r,o,d){return dt(),vt("div",_Q,[Ne("div",{class:Ln(["progress-bar",d.color]),style:$o({width:`${d.percentage}%`}),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,6)])}const xQ=Cr(yQ,[["render",vQ]]),bQ={components:{"progress-bar":xQ},props:{fleet:Object,display:Boolean},data(){return{}},methods:{toggleText(){this.display=!this.display}}},wQ={class:"voyage-section"},TQ={key:0,class:"card voyage-card"},SQ={class:"card-header justify-content-between"},CQ=["src"],EQ=Ne("h5",{class:"fw-normal m-0"},"Fleet Information",-1),MQ={class:"card-body"},kQ=Ne("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-left active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),AQ={class:"tab-content",id:"pills-tabContent"},PQ={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},DQ={class:"m12"},IQ=Ne("div",{class:"st21"},"Name",-1),LQ={class:"st22"},OQ=["href"],RQ=Ne("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),BQ={class:"m12"},zQ=Ne("div",{class:"st21"},"IMO Number",-1),NQ={class:"st22"},FQ={class:"m12"},jQ=Ne("div",{class:"st21"},"Last Update",-1),UQ={class:"st22"},$Q={class:"m12"},VQ=Ne("div",{class:"st21"},"Last Coordinates",-1),GQ={class:"st22"},HQ=["href"],WQ=Ne("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),YQ={class:"m12"},qQ=Ne("div",{class:"st21"},"Status",-1),XQ={class:"st22"},ZQ={key:0,class:"m12"},KQ=Ne("div",{class:"st21"},"At Port",-1),JQ={class:"st22"},QQ=nu('<div class="m12"><div class="st21">Origin</div><div class="st22"></div></div><div class="m12"><div class="st21">Destination</div><div class="st22"></div></div><div class="m12"><div class="st21">ETA</div><div class="st22"></div></div><br>',4),eee=Ne("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-left active",id:"pills-main-engine-tab","data-bs-toggle":"pill","data-bs-target":"#pills-main-engine",type:"button",role:"tab","aria-controls":"pills-main-engine","aria-selected":"true"},"Main Engine")]),Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-center",id:"pills-pump-tab","data-bs-toggle":"pill","data-bs-target":"#pills-pump",type:"button",role:"tab","aria-controls":"pills-pump","aria-selected":"false"},"Pump Status")])],-1),tee={class:"tab-content",id:"pills-tabContent"},iee={class:"tab-pane fade show active",id:"pills-main-engine",role:"tabpanel","aria-labelledby":"pills-main-engine-tab"},nee=Ne("div",{class:"tt01"},"Main Engine Latest Status",-1),ree={class:"st21"},see={key:0},oee=["innerHTML"],aee={key:1},lee={class:"st22"},cee={class:"tab-pane",id:"pills-pump",role:"tabpanel","aria-labelledby":"pills-pump-tab"},dee=Ne("div",{class:"tt01"},"Cargo/Ballast/Stripping/Vacuum Pump",-1),uee={class:"st21"},hee={key:0},pee=["innerHTML"],fee={key:1},mee={class:"st22"};function gee(e,t,i,r,o,d){const h=ur("progress-bar");return dt(),vt("div",wQ,[i.display?(dt(),vt("div",TQ,[Ne("div",SQ,[Ne("button",{onClick:t[0]||(t[0]=s=>e.$emit("close",!0)),class:"btn btn-link bg-transparent p-0"},[Ne("img",{src:"/img/icons/close-fill.png",alt:""},null,8,CQ)]),EQ]),Ne("div",MQ,[kQ,Ne("div",AQ,[Ne("div",PQ,[Ne("div",DQ,[IQ,Ne("div",LQ,[Ne("a",{href:`/fleet/${i.fleet.id}`,class:"d-flex align-items-center"},[rs($i(i.fleet.name)+" ",1),RQ],8,OQ)])]),Ne("div",BQ,[zQ,Ne("div",NQ,$i(i.fleet.imo_number),1)]),Ne("div",FQ,[jQ,Ne("div",UQ,$i(e.$filters.dateformat(i.fleet.last_connection))+" WIB",1)]),Ne("div",$Q,[VQ,Ne("div",GQ,[Ne("a",{href:`/fleet/${i.fleet.id}/track`,class:"d-flex align-items-center"},[rs($i(i.fleet.navigation.lat.toFixed(4))+" "+$i(i.fleet.navigation.lat_dir)+", "+$i(i.fleet.navigation.lng.toFixed(4))+" "+$i(i.fleet.navigation.lng_dir)+" ",1),WQ],8,HQ)])]),Ne("div",YQ,[qQ,Ne("div",XQ,$i(i.fleet.fleet_status.replace("_"," ").toUpperCase()),1)]),i.fleet.fleet_status=="at_port"?(dt(),vt("div",ZQ,[KQ,Ne("div",JQ,$i(i.fleet.last_port),1)])):di("",!0),QQ,eee,Ne("div",tee,[Ne("div",iee,[nee,(dt(!0),vt(Yi,null,Xn(i.fleet.engine_info,(s,v)=>(dt(),vt("div",{class:"m13",key:v},[Ne("div",ree,[rs($i(s.title)+" ",1),s.value>0?(dt(),vt("span",see,[rs($i(e.$filters.number(s.value))+" ",1),Ne("span",{innerHTML:s.unit},null,8,oee)])):di("",!0),rs(),s.value==0?(dt(),vt("span",aee,"OFF")):di("",!0)]),Ne("div",lee,[an(h,{min:s.min,warning:s.warning,danger:s.danger,max:s.max,value:s.value},null,8,["min","warning","danger","max","value"])])]))),128))]),Ne("div",cee,[dee,(dt(!0),vt(Yi,null,Xn(i.fleet.cargo_pump_info,(s,v)=>(dt(),vt("div",{class:"m13",key:v},[Ne("div",uee,[rs($i(s.title)+" ",1),s.value>0?(dt(),vt("span",hee,[rs($i(e.$filters.number(s.value))+" ",1),Ne("span",{innerHTML:s.unit},null,8,pee)])):di("",!0),rs(),s.value==0?(dt(),vt("span",fee,"OFF")):di("",!0)]),Ne("div",mee,[an(h,{min:s.min,normal:s.normal,danger:s.danger,max:s.max,value:s.value},null,8,["min","normal","danger","max","value"])])]))),128))])])])])])])):di("",!0)])}const yee=Cr(bQ,[["render",gee]]),_ee={name:"ChartSvg",props:{path:String,svgData:Object,height:Number},data(){return{scadavis:null,tags:[]}},async mounted(){await this.init(),Object.keys(this.svgData).forEach(e=>{this.setValue(e,this.svgData[e])})},created(){window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},watch:{svgData:function(e,t){let i=this;Object.keys(e).forEach(r=>{i.setValue(r,e[r])})}},methods:{async init(){this.scadavis=await scadavisInit({container:"scada-svg",svgurl:this.path}),this.scadavis.enableTools(!1,!0),this.scadavis.hideWatermark(),this.tags=this.scadavis.getTagsList().split(","),this.tags.forEach(e=>{this.scadavis.setValue(e,0)}),this.resize()},resize(){this.scadavis.zoomToOriginal();let e=this.$refs.cnsvg;this.scadavis.zoomTo(1*(e.clientWidth<e.clientHeight?e.clientWidth/600:e.clientHeight/600))},setValue(e,t){this.scadavis&&this.scadavis.setValue(e,t)}}};function vee(e,t,i,r,o,d){return dt(),vt("div",null,[Ne("div",{id:"scada-svg",class:"scada",ref:"cnsvg",style:$o({height:this.height+"px"})},null,4)])}const M_=Cr(_ee,[["render",vee]]),xee={props:{url:String},components:{ChartSvg:M_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)})}}}},bee={key:0},wee={class:"container"},Tee={class:"row"},See={class:"col-12"};function Cee(e,t,i,r,o,d){const h=ur("chart-svg");return o.fleet?(dt(),vt("div",bee,[Ne("div",wee,[Ne("div",Tee,[Ne("div",See,[an(h,{path:"/svg/cargo_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):di("",!0)}const Eee=Cr(xee,[["render",Cee]]),Mee={props:{url:String},components:{ChartSvg:M_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}},kee={key:0},Aee={class:"container"},Pee={class:"row"},Dee={class:"col-12"};function Iee(e,t,i,r,o,d){const h=ur("chart-svg");return o.fleet?(dt(),vt("div",kee,[Ne("div",Aee,[Ne("div",Pee,[Ne("div",Dee,[an(h,{path:"/svg/bunker_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):di("",!0)}const Lee=Cr(Mee,[["render",Iee]]),Oee={props:{url:String},components:{ChartSvg:M_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}},Ree={key:0},Bee={class:"container"},zee={class:"row"},Nee={class:"col-12"};function Fee(e,t,i,r,o,d){const h=ur("chart-svg");return o.fleet?(dt(),vt("div",Ree,[Ne("div",Bee,[Ne("div",zee,[Ne("div",Nee,[an(h,{path:"/svg/water_ballast_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):di("",!0)}const jee=Cr(Oee,[["render",Fee]]),Uee={props:{url:String},components:{ChartSvg:M_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.engine;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function $ee(e,t,i,r,o,d){const h=ur("chart-svg");return dt(),vt("div",null,[an(h,{path:"/svg/engine-2.svg",svgData:o.data,height:550},null,8,["svgData"])])}const Vee=Cr(Uee,[["render",$ee]]),Gee={name:"UserPermission",props:{url:String},data(){return{permissions:[],checked:[],user_id:null}},mounted(){this.loadRole(),this.loadData()},methods:{async loadData(){let{data:e}=await axios.get(this.url);this.user_id=e.data.id,this.checked=e.data.permissions},async loadRole(){let{data:e}=await axios.get("/master/permission/json");this.permissions=e.data},async assignTo(){this.user_id&&(await axios.post(`/master/user/${this.user_id}/update-permission`,{permission:this.checked}),window.$vmapp.$refs.vuetable.getData())}}},Hee={class:"form-group mb-3"},Wee=Ne("label",null,"Permissions",-1),Yee={class:"checkbox"},qee={class:"ui-check"},Xee=["value"],Zee=Ne("i",{class:"dark-white"},null,-1),Kee={class:"float-end"};function Jee(e,t,i,r,o,d){return dt(),vt("div",null,[Ne("div",Hee,[Wee,(dt(!0),vt(Yi,null,Xn(o.permissions,h=>(dt(),vt("div",Yee,[Ne("label",qee,[Ms(Ne("input",{type:"checkbox",value:h.name,"onUpdate:modelValue":t[0]||(t[0]=s=>o.checked=s)},null,8,Xee),[[ip,o.checked]]),Zee,rs(" "+$i(h.name),1)])]))),256))]),Ne("div",Kee,[Ne("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...h)=>d.assignTo&&d.assignTo(...h))},"Assign Permissions")])])}const Qee=Cr(Gee,[["render",Jee]]),ete={props:{title:String,url:String,fields:Array,show:Boolean,fleet:Object},data(){return{data:{}}},mounted(){this.fields.forEach(e=>{this.data[e.field]=null}),this.fleet&&(this.data.fleet_id=this.fleet.fleetId,this.data.group=this.fleet.group)},methods:{async save(){let e=await axios.post(this.url,this.data).then(t=>t.data);e.error?this.$emit("saved",!1):this.$emit("saved",e)}}},tte={class:"modal-dialog modal-dialog-centered",role:"document"},ite={class:"modal-content"},nte={class:"modal-header"},rte={class:"modal-title"},ste={class:"modal-body"},ote={key:0,class:"mb-2"},ate={class:"form-label"},lte=["onUpdate:modelValue"],cte=["value"],dte={key:1,class:"mb-2"},ute={class:"form-label"},hte=["onUpdate:modelValue"],pte={class:"modal-footer"};function fte(e,t,i,r,o,d){return dt(),vt("div",{class:Ln(["modal modal-blur fade",{show:i.show}]),style:$o({display:i.show?"block":"none"}),id:"modal-team",tabindex:"-1",role:"dialog","aria-hidden":"true"},[Ne("div",tte,[Ne("div",ite,[Ne("div",nte,[Ne("h5",rte,$i(i.title),1),Ne("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=h=>i.show=!1)})]),Ne("div",ste,[(dt(!0),vt(Yi,null,Xn(i.fields,(h,s)=>(dt(),vt(Yi,{key:s},[h.editType=="select"?(dt(),vt("div",ote,[Ne("label",ate,$i(h.name),1),Ms(Ne("select",{"onUpdate:modelValue":v=>o.data[h.field]=v,class:"form-select"},[(dt(!0),vt(Yi,null,Xn(h.options,(v,R)=>(dt(),vt("option",{value:v,key:R},$i(v),9,cte))),128))],8,lte),[[yd,o.data[h.field]]])])):(dt(),vt("div",dte,[Ne("label",ute,$i(h.name),1),Ms(Ne("input",{type:"text",class:"form-control","onUpdate:modelValue":v=>o.data[h.field]=v},null,8,hte),[[Hc,o.data[h.field]]])]))],64))),128))]),Ne("div",pte,[Ne("button",{onClick:t[1]||(t[1]=h=>i.show=!1),type:"button",class:"btn me-auto","data-bs-dismiss":"modal"},"Close"),Ne("button",{onClick:t[2]||(t[2]=(...h)=>d.save&&d.save(...h)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Add")])])])],6)}const mte=Cr(ete,[["render",fte]]),gte={components:{FormModal:mte},props:{columns:Array,data:Array,editUrl:String,delUrl:String,fleet:Object},data(){return{formShow:!1,items:[]}},mounted(){this.data.forEach(e=>this.items.push(e)),this.items=this.items.map(e=>({...e,isEdit:!1}))},methods:{saved(e){e.isEdit=!1,this.items.push(e),this.formShow=!1},editRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit},async saveRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit,await axios.post(this.editUrl,e)},isFieldSlot(e){return!!this.$slots[e]},del(e,t){let i=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&(axios.delete(i.delUrl+"/"+e.id),i.items.splice(t,1),i.$swal("Deleted!","Your file has been deleted.","success"))})}}},yte={class:"action-edit"},_te={class:"table-responsive"},vte={class:"table table-vcenter card-table"},xte=Ne("th",null,"No",-1),bte=Ne("th",null,null,-1),wte=["onUpdate:modelValue"],Tte=["value"],Ste=["onUpdate:modelValue"],Cte=["innerHTML"],Ete={key:1},Mte=["onClick"],kte=["onClick"],Ate=["onClick"];function Pte(e,t,i,r,o,d){const h=ur("form-modal");return dt(),vt(Yi,null,[an(h,{fields:i.columns,title:"Add Data",url:i.editUrl,show:o.formShow,fleet:i.fleet,onSaved:d.saved},null,8,["fields","url","show","fleet","onSaved"]),Ne("div",yte,[Ne("button",{type:"button",class:"btn btn-info",onClick:t[0]||(t[0]=s=>o.formShow=!0)},"Add Data")]),Ne("div",_te,[Ne("table",vte,[Ne("thead",null,[Ne("tr",null,[xte,(dt(!0),vt(Yi,null,Xn(i.columns,(s,v)=>(dt(),vt("th",{key:v},$i(s.name),1))),128)),bte])]),Ne("tbody",null,[(dt(!0),vt(Yi,null,Xn(o.items,(s,v)=>(dt(),vt("tr",{key:s.id},[Ne("td",null,$i(1+v),1),(dt(!0),vt(Yi,null,Xn(i.columns,(R,K)=>(dt(),vt("td",{key:K},[d.isFieldSlot(R.field)?vn(e.$slots,R.field,{key:0,rowData:s,rowIndex:v,rowField:R}):R.editType=="select"&&s.isEdit?Ms((dt(),vt("select",{key:1,"onUpdate:modelValue":k=>o.items[v][R.field]=k,class:"form-select"},[(dt(!0),vt(Yi,null,Xn(R.options,(k,z)=>(dt(),vt("option",{value:k,key:z},$i(k),9,Tte))),128))],8,wte)),[[yd,o.items[v][R.field]]]):s.isEdit?Ms((dt(),vt("input",{key:2,type:"text",class:"form-control","onUpdate:modelValue":k=>o.items[v][R.field]=k},null,8,Ste)),[[Hc,o.items[v][R.field]]]):(dt(),vt(Yi,{key:3},[R.isHtml?(dt(),vt("span",{key:0,innerHTML:s[R.field]},null,8,Cte)):(dt(),vt("span",Ete,$i(s[R.field]),1))],64))]))),128)),Ne("td",null,[s.isEdit?di("",!0):(dt(),vt("a",{key:0,href:"#",onClick:R=>d.editRowHandler(s,v)},"Edit",8,Mte)),s.isEdit?(dt(),vt("a",{key:1,href:"#",onClick:R=>d.saveRowHandler(s,v)},"Done",8,kte)):di("",!0),rs(" | "),Ne("a",{href:"#",onClick:R=>d.del(s,v)},"Delete",8,Ate)])]))),128))])])])],64)}const Dte=Cr(gte,[["render",Pte]]);var V6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},i(t,"Core/Chart/ChartNavigationComposition.js",[],function(){var r;return function(o){o.compose=function(h){return h.navigation||(h.navigation=new d(h)),h};class d{constructor(s){this.updates=[],this.chart=s}addUpdate(s){this.chart.navigation.updates.push(s)}update(s,v){this.updates.forEach(R=>{R.call(this.chart,s,v)})}}o.Additions=d}(r||(r={})),r}),i(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],function(r){return{isTouchDevice:r}=r,{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:r?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}}),i(t,"Extensions/Exporting/ExportingSymbols.js",[],function(){var r;return function(o){function d(v,R,K,k){return[["M",v,R+2.5],["L",v+K,R+2.5],["M",v,R+k/2+.5],["L",v+K,R+k/2+.5],["M",v,R+k-1.5],["L",v+K,R+k-1.5]]}function h(v,R,K,k){return v=k/3-2,k=[],k=k.concat(this.circle(K-v,R,v,v),this.circle(K-v,R+v+4,v,v),this.circle(K-v,R+2*(v+4),v,v))}const s=[];o.compose=function(v){s.indexOf(v)===-1&&(s.push(v),v=v.prototype.symbols,v.menu=d,v.menuball=h.bind(v))}}(r||(r={})),r}),i(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],function(r,o){function d(){this.fullscreen=new R(this)}const{addEvent:h,fireEvent:s}=o,v=[];class R{static compose(k){o.pushUnique(v,k)&&h(k,"beforeRender",d)}constructor(k){this.chart=k,this.isOpen=!1,k=k.renderTo,this.browserProps||(typeof k.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:k.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:k.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:k.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const k=this,z=k.chart,q=z.options.chart;s(z,"fullscreenClose",null,function(){k.isOpen&&k.browserProps&&z.container.ownerDocument instanceof Document&&z.container.ownerDocument[k.browserProps.exitFullscreen](),k.unbindFullscreenEvent&&(k.unbindFullscreenEvent=k.unbindFullscreenEvent()),z.setSize(k.origWidth,k.origHeight,!1),k.origWidth=void 0,k.origHeight=void 0,q.width=k.origWidthOption,q.height=k.origHeightOption,k.origWidthOption=void 0,k.origHeightOption=void 0,k.isOpen=!1,k.setButtonText()})}open(){const k=this,z=k.chart,q=z.options.chart;s(z,"fullscreenOpen",null,function(){if(q&&(k.origWidthOption=q.width,k.origHeightOption=q.height),k.origWidth=z.chartWidth,k.origHeight=z.chartHeight,k.browserProps){const L=h(z.container.ownerDocument,k.browserProps.fullscreenChange,function(){k.isOpen?(k.isOpen=!1,k.close()):(z.setSize(null,null,!1),k.isOpen=!0,k.setButtonText())}),O=h(z,"destroy",L);k.unbindFullscreenEvent=()=>{L(),O()};const G=z.renderTo[k.browserProps.requestFullscreen]();G&&G.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var k=this.chart,z=k.exportDivElements;const q=k.options.exporting,L=q&&q.buttons&&q.buttons.contextButton.menuItems;k=k.options.lang,q&&q.menuItemDefinitions&&k&&k.exitFullscreen&&k.viewFullscreen&&L&&z&&(z=z[L.indexOf("viewFullscreen")])&&r.setElementHTML(z,this.isOpen?k.exitFullscreen:q.menuItemDefinitions.viewFullscreen.text||k.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return R}),i(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){const{doc:d}=r,{createElement:h,discardElement:s,merge:v,objectEach:R}=o,K={ajax:function(k){const z={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},q=new XMLHttpRequest;if(!k.url)return!1;q.open((k.type||"get").toUpperCase(),k.url,!0),k.headers&&k.headers["Content-Type"]||q.setRequestHeader("Content-Type",z[k.dataType||"json"]||z.text),R(k.headers,function(L,O){q.setRequestHeader(O,L)}),k.responseType&&(q.responseType=k.responseType),q.onreadystatechange=function(){let L;if(q.readyState===4){if(q.status===200){if(k.responseType!=="blob"&&(L=q.responseText,k.dataType==="json"))try{L=JSON.parse(L)}catch(O){if(O instanceof Error){k.error&&k.error(q,O);return}}return k.success&&k.success(L,q)}k.error&&k.error(q,q.responseText)}},k.data&&typeof k.data!="string"&&(k.data=JSON.stringify(k.data)),q.send(k.data)},getJSON:function(k,z){K.ajax({url:k,success:z,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(k,z,q){const L=h("form",v({method:"post",action:k,enctype:"multipart/form-data"},q),{display:"none"},d.body);R(z,function(O,G){h("input",{type:"hidden",name:G,value:O},void 0,L)}),L.submit(),s(L)}};return K}),i(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,v,R,K,k,z){const{defaultOptions:q,setOptions:L}=h,{doc:O,SVG_NS:G,win:M}=K,{addEvent:S,css:D,createElement:H,discardElement:U,extend:E,find:ie,fireEvent:te,isObject:$,merge:V,objectEach:j,pick:x,removeEvent:P,uniqueKey:f}=z;var g;return function(b){function A(qe){const xe=this,Ie=xe.renderer,Be=V(xe.options.navigation.buttonOptions,qe),Xe=Be.onclick,Ke=Be.menuItems,ft=Be.symbolSize||12;let St;if(xe.btnCount||(xe.btnCount=0),xe.exportDivElements||(xe.exportDivElements=[],xe.exportSVGElements=[]),Be.enabled!==!1&&Be.theme){var Ot=Be.theme,yi;xe.styledMode||(Ot.fill=x(Ot.fill,"#ffffff"),Ot.stroke=x(Ot.stroke,"none")),Xe?yi=function(fi){fi&&fi.stopPropagation(),Xe.call(xe,fi)}:Ke&&(yi=function(fi){fi&&fi.stopPropagation(),xe.contextMenu(Wt.menuClassName,Ke,Wt.translateX,Wt.translateY,Wt.width,Wt.height,Wt),Wt.setState(2)}),Be.text&&Be.symbol?Ot.paddingLeft=x(Ot.paddingLeft,30):Be.text||E(Ot,{width:Be.width,height:Be.height,padding:0}),xe.styledMode||(Ot["stroke-linecap"]="round",Ot.fill=x(Ot.fill,"#ffffff"),Ot.stroke=x(Ot.stroke,"none"));var Wt=Ie.button(Be.text,0,0,yi,Ot,void 0,void 0,void 0,void 0,Be.useHTML).addClass(qe.className).attr({title:x(xe.options.lang[Be._titleKey||Be.titleKey],"")});Wt.menuClassName=qe.menuClassName||"highcharts-menu-"+xe.btnCount++,Be.symbol&&(St=Ie.symbol(Be.symbol,Be.symbolX-ft/2,Be.symbolY-ft/2,ft,ft,{width:ft,height:ft}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Wt),xe.styledMode||St.attr({stroke:Be.symbolStroke,fill:Be.symbolFill,"stroke-width":Be.symbolStrokeWidth||1})),Wt.add(xe.exportingGroup).align(E(Be,{width:Wt.width,x:x(Be.x,xe.buttonOffset)}),!0,"spacingBox"),xe.buttonOffset+=(Wt.width+Be.buttonSpacing)*(Be.align==="right"?-1:1),xe.exportSVGElements.push(Wt,St)}}function X(){if(this.printReverseInfo){var{childNodes:qe,origDisplay:xe,resetParams:Ie}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(qe,function(Be,Xe){Be.nodeType===1&&(Be.style.display=xe[Xe]||"")}),this.isPrinting=!1,Ie&&this.setSize.apply(this,Ie),delete this.printReverseInfo,Qe=void 0,te(this,"afterPrint")}}function Y(){const qe=O.body,xe=this.options.exporting.printMaxWidth,Ie={childNodes:qe.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),te(this,"beforePrint"),xe&&this.chartWidth>xe&&(Ie.resetParams=[this.options.chart.width,void 0,!1],this.setSize(xe,void 0,!1)),[].forEach.call(Ie.childNodes,function(Be,Xe){Be.nodeType===1&&(Ie.origDisplay[Xe]=Be.style.display,Be.style.display="none")}),this.moveContainers(qe),this.printReverseInfo=Ie}function J(qe){qe.renderExporting(),S(qe,"redraw",qe.renderExporting),S(qe,"destroy",qe.destroyExport)}function ce(qe,xe,Ie,Be,Xe,Ke,ft){const St=this,Ot=St.options.navigation,yi=St.chartWidth,Wt=St.chartHeight,fi="cache-"+qe,Hi=Math.max(Xe,Ke);let pt,Lt=St[fi];Lt||(St.exportContextMenu=St[fi]=Lt=H("div",{className:qe},{position:"absolute",zIndex:1e3,padding:Hi+"px",pointerEvents:"auto"},St.fixedDiv||St.container),pt=H("ul",{className:"highcharts-menu"},St.styledMode?{}:{listStyle:"none",margin:0,padding:0},Lt),St.styledMode||D(pt,E({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},Ot.menuStyle)),Lt.hideMenu=function(){D(Lt,{display:"none"}),ft&&ft.setState(0),St.openMenu=!1,D(St.renderTo,{overflow:"hidden"}),D(St.container,{overflow:"hidden"}),z.clearTimeout(Lt.hideTimer),te(St,"exportMenuHidden")},St.exportEvents.push(S(Lt,"mouseleave",function(){Lt.hideTimer=M.setTimeout(Lt.hideMenu,500)}),S(Lt,"mouseenter",function(){z.clearTimeout(Lt.hideTimer)}),S(O,"mouseup",function(ei){St.pointer.inClass(ei.target,qe)||Lt.hideMenu()}),S(Lt,"click",function(){St.openMenu&&Lt.hideMenu()})),xe.forEach(function(ei){if(typeof ei=="string"&&(ei=St.options.exporting.menuItemDefinitions[ei]),$(ei,!0)){let Pi;ei.separator?Pi=H("hr",void 0,void 0,pt):(ei.textKey==="viewData"&&St.isDataTableVisible&&(ei.textKey="hideData"),Pi=H("li",{className:"highcharts-menu-item",onclick:function(cn){cn&&cn.stopPropagation(),Lt.hideMenu(),ei.onclick&&ei.onclick.apply(St,arguments)}},void 0,pt),r.setElementHTML(Pi,ei.text||St.options.lang[ei.textKey]),St.styledMode||(Pi.onmouseover=function(){D(this,Ot.menuItemHoverStyle)},Pi.onmouseout=function(){D(this,Ot.menuItemStyle)},D(Pi,E({cursor:"pointer"},Ot.menuItemStyle||{})))),St.exportDivElements.push(Pi)}}),St.exportDivElements.push(pt,Lt),St.exportMenuWidth=Lt.offsetWidth,St.exportMenuHeight=Lt.offsetHeight),xe={display:"block"},Ie+St.exportMenuWidth>yi?xe.right=yi-Ie-Xe-Hi+"px":xe.left=Ie-Hi+"px",Be+Ke+St.exportMenuHeight>Wt&&ft.alignOptions.verticalAlign!=="top"?xe.bottom=Wt-Be-Hi+"px":xe.top=Be+Ke-Hi+"px",D(Lt,xe),D(St.renderTo,{overflow:""}),D(St.container,{overflow:""}),St.openMenu=!0,te(St,"exportMenuShown")}function pe(qe){const xe=qe?qe.target:this,Ie=xe.exportSVGElements,Be=xe.exportDivElements;qe=xe.exportEvents;let Xe;Ie&&(Ie.forEach((Ke,ft)=>{Ke&&(Ke.onclick=Ke.ontouchstart=null,Xe="cache-"+Ke.menuClassName,xe[Xe]&&delete xe[Xe],Ie[ft]=Ke.destroy())}),Ie.length=0),xe.exportingGroup&&(xe.exportingGroup.destroy(),delete xe.exportingGroup),Be&&(Be.forEach(function(Ke,ft){Ke&&(z.clearTimeout(Ke.hideTimer),P(Ke,"mouseleave"),Be[ft]=Ke.onmouseout=Ke.onmouseover=Ke.ontouchstart=Ke.onclick=null,U(Ke))}),Be.length=0),qe&&(qe.forEach(function(Ke){Ke()}),qe.length=0)}function fe(qe,xe){xe=this.getSVGForExport(qe,xe),qe=V(this.options.exporting,qe),k.post(qe.url,{filename:qe.filename?qe.filename.replace(/\//g,"-"):this.getFilename(),type:qe.type,width:qe.width,scale:qe.scale,svg:xe},qe.formAttributes)}function F(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function Q(){const qe=this.userOptions.title&&this.userOptions.title.text;let xe=this.options.exporting.filename;return xe?xe.replace(/\//g,"-"):(typeof qe=="string"&&(xe=qe.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!xe||5>xe.length)&&(xe="chart"),xe)}function se(qe){let xe,Ie=V(this.options,qe);Ie.plotOptions=V(this.userOptions.plotOptions,qe&&qe.plotOptions),Ie.time=V(this.userOptions.time,qe&&qe.time);const Be=H("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},O.body);var Xe=this.renderTo.style.width,Ke=this.renderTo.style.height;Xe=Ie.exporting.sourceWidth||Ie.chart.width||/px$/.test(Xe)&&parseInt(Xe,10)||(Ie.isGantt?800:600),Ke=Ie.exporting.sourceHeight||Ie.chart.height||/px$/.test(Ke)&&parseInt(Ke,10)||400,E(Ie.chart,{animation:!1,renderTo:Be,forExport:!0,renderer:"SVGRenderer",width:Xe,height:Ke}),Ie.exporting.enabled=!1,delete Ie.data,Ie.series=[],this.series.forEach(function(Ot){xe=V(Ot.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Ot.visible}),xe.isInternal||Ie.series.push(xe)});const ft={};this.axes.forEach(function(Ot){Ot.userOptions.internalKey||(Ot.userOptions.internalKey=f()),Ot.options.isInternal||(ft[Ot.coll]||(ft[Ot.coll]=!0,Ie[Ot.coll]=[]),Ie[Ot.coll].push(V(Ot.userOptions,{visible:Ot.visible})))});const St=new this.constructor(Ie,this.callback);return qe&&["xAxis","yAxis","series"].forEach(function(Ot){const yi={};qe[Ot]&&(yi[Ot]=qe[Ot],St.update(yi))}),this.axes.forEach(function(Ot){const yi=ie(St.axes,function(Hi){return Hi.options.internalKey===Ot.userOptions.internalKey});var Wt=Ot.getExtremes();const fi=Wt.userMin;Wt=Wt.userMax,yi&&(typeof fi<"u"&&fi!==yi.min||typeof Wt<"u"&&Wt!==yi.max)&&yi.setExtremes(fi,Wt,!0,!1)}),Ke=St.getChartHTML(),te(this,"getSVG",{chartCopy:St}),Ke=this.sanitizeSVG(Ke,Ie),Ie=null,St.destroy(),U(Be),Ke}function ue(qe,xe){const Ie=this.options.exporting;return this.getSVG(V({chart:{borderRadius:0}},Ie.chartOptions,xe,{exporting:{sourceWidth:qe&&qe.sourceWidth||Ie.sourceWidth,sourceHeight:qe&&qe.sourceHeight||Ie.sourceHeight}}))}function Ce(qe){return qe.replace(/([A-Z])/g,function(xe,Ie){return"-"+Ie.toLowerCase()})}function ne(){function qe(St){const Ot={};let yi,Wt;if(ft&&St.nodeType===1&&rt.indexOf(St.nodeName)===-1){if(yi=M.getComputedStyle(St,null),Wt=St.nodeName==="svg"?{}:M.getComputedStyle(St.parentNode,null),!Be[St.nodeName]){Xe=ft.getElementsByTagName("svg")[0];var fi=ft.createElementNS(St.namespaceURI,St.nodeName);Xe.appendChild(fi);var Hi=M.getComputedStyle(fi,null),pt={};for(var Lt in Hi)typeof Hi[Lt]!="string"||/^[0-9]+$/.test(Lt)||(pt[Lt]=Hi[Lt]);Be[St.nodeName]=pt,St.nodeName==="text"&&delete Be.text.fill,Xe.removeChild(fi)}for(const Pi in yi)if(K.isFirefox||K.isMS||K.isSafari||Object.hasOwnProperty.call(yi,Pi)){Lt=yi[Pi];var ei=Pi;if(fi=Hi=!1,Ie.length){for(pt=Ie.length;pt--&&!Hi;)Hi=Ie[pt].test(ei);fi=!Hi}for(ei==="transform"&&Lt==="none"&&(fi=!0),pt=xe.length;pt--&&!fi;)fi=xe[pt].test(ei)||typeof Lt=="function";fi||Wt[ei]===Lt&&St.nodeName!=="svg"||Be[St.nodeName][ei]===Lt||($e&&$e.indexOf(ei)===-1?Ot[ei]=Lt:Lt&&St.setAttribute(Ce(ei),Lt))}D(St,Ot),St.nodeName==="svg"&&St.setAttribute("stroke-width","1px"),St.nodeName!=="text"&&[].forEach.call(St.children||St.childNodes,qe)}}const xe=Le,Ie=b.inlineAllowlist,Be={};let Xe;const Ke=O.createElement("iframe");D(Ke,{width:"1px",height:"1px",visibility:"hidden"}),O.body.appendChild(Ke);const ft=Ke.contentWindow&&Ke.contentWindow.document;ft&&ft.body.appendChild(ft.createElementNS(G,"svg")),qe(this.container.querySelector("svg")),Xe.parentNode.removeChild(Xe),Ke.parentNode.removeChild(Ke)}function ve(qe){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(xe){qe.appendChild(xe)})}function _e(){const qe=this;qe.exporting={update:function(xe,Ie){qe.isDirtyExporting=!0,V(!0,qe.options.exporting,xe),x(Ie,!0)&&qe.redraw()}},d.compose(qe).navigation.addUpdate((xe,Ie)=>{qe.isDirtyExporting=!0,V(!0,qe.options.navigation,xe),x(Ie,!0)&&qe.redraw()})}function oe(){const qe=this;qe.isPrinting||(Qe=qe,K.isSafari||qe.beforePrint(),setTimeout(()=>{M.focus(),M.print(),K.isSafari||setTimeout(()=>{qe.afterPrint()},1e3)},1))}function ye(){const qe=this,xe=qe.options.exporting,Ie=xe.buttons,Be=qe.isDirtyExporting||!qe.exportSVGElements;qe.buttonOffset=0,qe.isDirtyExporting&&qe.destroyExport(),Be&&xe.enabled!==!1&&(qe.exportEvents=[],qe.exportingGroup=qe.exportingGroup||qe.renderer.g("exporting-group").attr({zIndex:3}).add(),j(Ie,function(Xe){qe.addButton(Xe)}),qe.isDirtyExporting=!1)}function Se(qe,xe){const Ie=qe.indexOf("</svg>")+6;let Be=qe.substr(Ie);return qe=qe.substr(0,Ie),xe&&xe.exporting&&xe.exporting.allowHTML&&Be&&(Be='<foreignObject x="0" y="0" width="'+xe.chart.width+'" height="'+xe.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Be.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",qe=qe.replace("</svg>",Be+"</svg>")),qe=qe.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}const Re=[],Le=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],$e="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");b.inlineAllowlist=[];const rt=["clipPath","defs","desc"];let Qe;b.compose=function(qe,xe){v.compose(xe),R.compose(qe),z.pushUnique(Re,qe)&&(xe=qe.prototype,xe.afterPrint=X,xe.exportChart=fe,xe.inlineStyles=ne,xe.print=oe,xe.sanitizeSVG=Se,xe.getChartHTML=F,xe.getSVG=se,xe.getSVGForExport=ue,xe.getFilename=Q,xe.moveContainers=ve,xe.beforePrint=Y,xe.contextMenu=ce,xe.addButton=A,xe.destroyExport=pe,xe.renderExporting=ye,xe.callbacks.push(J),S(qe,"init",_e),K.isSafari&&K.win.matchMedia("print").addListener(function(Ie){Qe&&(Ie.matches?Qe.beforePrint():Qe.afterPrint())})),z.pushUnique(Re,L)&&(q.exporting=V(s.exporting,q.exporting),q.lang=V(s.lang,q.lang),q.navigation=V(s.navigation,q.navigation))}}(g||(g={})),g}),i(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],function(r,o,d){r.HttpUtilities=d,r.ajax=d.ajax,r.getJSON=d.getJSON,r.post=d.post,o.compose(r.Chart,r.Renderer)})})})(V6);var Ite=V6.exports;const G6=tu(Ite),H6=["#2f7ed8","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#0d233a"];var W6={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(za,function(){var i="__v-click-outside",r=typeof window<"u",o=typeof navigator<"u",d=r&&("ontouchstart"in window||o&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],h=function(K){var k=K.event,z=K.handler;(0,K.middleware)(k)&&z(k)},s=function(K,k){var z=function(S){var D=typeof S=="function";if(!D&&typeof S!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:D?S:S.handler,middleware:S.middleware||function(H){return H},events:S.events||d,isActive:S.isActive!==!1,detectIframe:S.detectIframe!==!1,capture:!!S.capture}}(k.value),q=z.handler,L=z.middleware,O=z.detectIframe,G=z.capture;if(z.isActive){if(K[i]=z.events.map(function(S){return{event:S,srcTarget:document.documentElement,handler:function(D){return function(H){var U=H.el,E=H.event,ie=H.handler,te=H.middleware,$=E.path||E.composedPath&&E.composedPath();($?$.indexOf(U)<0:!U.contains(E.target))&&h({event:E,handler:ie,middleware:te})}({el:K,event:D,handler:q,middleware:L})},capture:G}}),O){var M={event:"blur",srcTarget:window,handler:function(S){return function(D){var H=D.el,U=D.event,E=D.handler,ie=D.middleware;setTimeout(function(){var te=document.activeElement;te&&te.tagName==="IFRAME"&&!H.contains(te)&&h({event:U,handler:E,middleware:ie})},0)}({el:K,event:S,handler:q,middleware:L})},capture:G};K[i]=[].concat(K[i],[M])}K[i].forEach(function(S){var D=S.event,H=S.srcTarget,U=S.handler;return setTimeout(function(){K[i]&&H.addEventListener(D,U,G)},0)})}},v=function(K){(K[i]||[]).forEach(function(k){return k.srcTarget.removeEventListener(k.event,k.handler,k.capture)}),delete K[i]},R=r?{beforeMount:s,updated:function(K,k){var z=k.value,q=k.oldValue;JSON.stringify(z)!==JSON.stringify(q)&&(v(K),s(K,{value:z}))},unmounted:v}:{};return{install:function(K){K.directive("click-outside",R)},directive:R}})})(W6);var Lte=W6.exports;const Ote=tu(Lte),Rte={props:{options:Array,type:{type:String,default:"select"},default:{type:Array,default:()=>[]}},data(){return{show:!1,selected:[]}},methods:{showDropdown(){this.show=!this.show},hide(){this.show=!1},groupBy(e,t){return e.reduce((i,r,o)=>{var d;return(i[d=t(r,o,e)]||(i[d]=[])).push(r),i},{})}},computed:{groups(){return this.options.length>0&&this.options[0].hasOwnProperty("group")?this.groupBy(this.options,e=>e.group):this.options},selectAll:{get(){return this.options?this.selected.length==this.options.length:!1},set(e){e?this.selected=this.options:this.selected=[]}}},watch:{selected(e){this.$emit("checked",e)},default(e){this.selected=e}},directives:{clickOutside:Ote.directive}},Bte={class:"dd"},zte={id:"list1",class:"dropdown-check-list",tabindex:"100"},Nte=nu('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-adjustments-horizontal" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 6l8 0"></path><path d="M16 6l4 0"></path><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 12l2 0"></path><path d="M10 12l10 0"></path><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 18l11 0"></path><path d="M19 18l1 0"></path></svg>',1),Fte=[Nte],jte={key:2,class:"items"},Ute={class:"bb"},$te={for:"check-all"},Vte={key:0},Gte=["id","value"],Hte=["for"],Wte={key:1},Yte=["id","value"],qte=["for"];function Xte(e,t,i,r,o,d){const h=jb("click-outside");return Ms((dt(),vt("div",Bte,[Ne("div",zte,[i.type=="select"?(dt(),vt("span",{key:0,class:"anchor form-control",onClick:t[0]||(t[0]=(...s)=>d.showDropdown&&d.showDropdown(...s))}," Select Parameter ")):di("",!0),i.type=="icon"?(dt(),vt("span",{key:1,class:"icon",onClick:t[1]||(t[1]=(...s)=>d.showDropdown&&d.showDropdown(...s))},Fte)):di("",!0),o.show?(dt(),vt("ul",jte,[Ne("li",Ute,[Ne("div",null,[Ms(Ne("input",{id:"check-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=s=>d.selectAll=s)},null,512),[[ip,d.selectAll]]),Ne("label",$te,[d.selectAll?(dt(),vt(Yi,{key:1},[rs("Uncheck All")],64)):(dt(),vt(Yi,{key:0},[rs("Check All")],64))])])]),(dt(!0),vt(Yi,null,Xn(d.groups,(s,v)=>(dt(),vt("li",{key:v},[Array.isArray(s)?(dt(),vt("div",Vte,[Ne("span",null,$i(v),1),(dt(!0),vt(Yi,null,Xn(s,(R,K)=>(dt(),vt("div",{key:K},[Ms(Ne("input",{type:"checkbox",id:K,value:R,"onUpdate:modelValue":t[3]||(t[3]=k=>o.selected=k)},null,8,Gte),[[ip,o.selected]]),Ne("label",{for:K},$i(R.text),9,Hte)]))),128))])):di("",!0),Array.isArray(s)?di("",!0):(dt(),vt("div",Wte,[Ms(Ne("input",{type:"checkbox",id:v,value:s,"onUpdate:modelValue":t[4]||(t[4]=R=>o.selected=R)},null,8,Yte),[[ip,o.selected]]),Ne("label",{for:v},$i(s.text),9,qte)]))]))),128))])):di("",!0)])])),[[h,d.hide]])}const Y6=Cr(Rte,[["render",Xte]]),Ba=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g;return function(r,o,d,h){if(arguments.length===1&&Kte(r)==="string"&&!/\d/.test(r)&&(o=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");o=String(Ba.masks[o]||o||Ba.masks.default);var s=o.slice(0,4);(s==="UTC:"||s==="GMT:")&&(o=o.slice(4),d=!0,s==="GMT:"&&(h=!0));var v=d?"getUTC":"get",R=r[v+"Date"](),K=r[v+"Day"](),k=r[v+"Month"](),z=r[v+"FullYear"](),q=r[v+"Hours"](),L=r[v+"Minutes"](),O=r[v+"Seconds"](),G=r[v+"Milliseconds"](),M=d?0:r.getTimezoneOffset(),S=q6(r),D=Zte(r),H={d:R,dd:Vh(R),ddd:Ba.i18n.dayNames[K],dddd:Ba.i18n.dayNames[K+7],m:k+1,mm:Vh(k+1),mmm:Ba.i18n.monthNames[k],mmmm:Ba.i18n.monthNames[k+12],yy:String(z).slice(2),yyyy:z,h:q%12||12,hh:Vh(q%12||12),H:q,HH:Vh(q),M:L,MM:Vh(L),s:O,ss:Vh(O),l:Vh(G,3),L:Vh(Math.round(G/10)),t:q<12?Ba.i18n.timeNames[0]:Ba.i18n.timeNames[1],tt:q<12?Ba.i18n.timeNames[2]:Ba.i18n.timeNames[3],T:q<12?Ba.i18n.timeNames[4]:Ba.i18n.timeNames[5],TT:q<12?Ba.i18n.timeNames[6]:Ba.i18n.timeNames[7],Z:h?"GMT":d?"UTC":(String(r).match(t)||[""]).pop().replace(i,""),o:(M>0?"-":"+")+Vh(Math.floor(Math.abs(M)/60)*100+Math.abs(M)%60,4),S:["th","st","nd","rd"][R%10>3?0:(R%100-R%10!=10)*R%10],W:S,N:D};return o.replace(e,function(U){return U in H?H[U]:U.slice(1,U.length-1)})}}();Ba.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};Ba.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function Vh(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function q6(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var i=new Date(t.getFullYear(),0,4);i.setDate(i.getDate()-(i.getDay()+6)%7+3);var r=t.getTimezoneOffset()-i.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-i)/(864e5*7);return 1+Math.floor(o)}function Zte(e){var t=e.getDay();return t===0&&(t=7),t}function Kte(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}const X6={isSame:(e,t,i)=>{let r=new Date(e),o=new Date(t);return i==="date"&&(r.setHours(0,0,0,0),o.setHours(0,0,0,0)),r.getTime()===o.getTime()},daysInMonth:(e,t)=>new Date(e,t,0).getDate(),weekNumber:e=>q6(e),format:(e,t)=>Ba(e,t),nextMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t},prevMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()-1),t},validateDateRange:(e,t,i)=>{let r=new Date(i),o=new Date(t);return i&&e.getTime()>r.getTime()?r:t&&e.getTime()<o.getTime()?o:e},localeData:e=>({...{direction:"ltr",format:"mm/dd/yyyy",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Ba.i18n.dayNames.slice(0,7).map(i=>i.substring(0,2)),monthNames:Ba.i18n.monthNames.slice(0,12),firstDay:0},...e}),yearMonth:e=>{let t=e.getMonth()+1;return e.getFullYear()+(t<10?"0":"")+t},isValidDate:e=>e instanceof Date&&!isNaN(e)},$C={props:{dateUtil:{type:[Object,String],default:"native"}},created(){this.$dateUtil=X6}},Jte={mixins:[$C],name:"calendar",props:{monthDate:Date,localeData:Object,start:Date,end:Date,minDate:Date,maxDate:Date,showDropdowns:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},dateFormat:{type:Function,default:null}},data(){let e=this.monthDate||this.start||new Date;return{currentMonthDate:e,year_text:e.getFullYear()}},methods:{prevMonthClick(){this.changeMonthDate(this.$dateUtil.prevMonth(this.currentMonthDate))},nextMonthClick(){this.changeMonthDate(this.$dateUtil.nextMonth(this.currentMonthDate))},changeMonthDate(e,t=!0){let i=this.$dateUtil.yearMonth(this.currentMonthDate);this.currentMonthDate=this.$dateUtil.validateDateRange(e,this.minDate,this.maxDate),t&&i!==this.$dateUtil.yearMonth(this.currentMonthDate)&&this.$emit("change-month",{month:this.currentMonthDate.getMonth()+1,year:this.currentMonthDate.getFullYear()}),this.checkYear()},dayClass(e){let t=new Date(e);t.setHours(0,0,0,0);let i=new Date(this.start);i.setHours(0,0,0,0);let r=new Date(this.end);r.setHours(0,0,0,0);let o={off:e.getMonth()+1!==this.month,weekend:e.getDay()===6||e.getDay()===0,today:t.setHours(0,0,0,0)==new Date().setHours(0,0,0,0),active:t.setHours(0,0,0,0)==new Date(this.start).setHours(0,0,0,0)||t.setHours(0,0,0,0)==new Date(this.end).setHours(0,0,0,0),"in-range":t>=i&&t<=r,"start-date":t.getTime()===i.getTime(),"end-date":t.getTime()===r.getTime(),disabled:this.minDate&&t.getTime()<this.minDate.getTime()||this.maxDate&&t.getTime()>this.maxDate.getTime()};return this.dateFormat?this.dateFormat(o,e):o},checkYear(){this.$refs.yearSelect!==document.activeElement&&this.$nextTick(()=>{this.year_text=this.monthDate.getFullYear()})}},computed:{monthName(){return this.locale.monthNames[this.currentMonthDate.getMonth()]},year:{get(){return this.year_text},set(e){this.year_text=e;let t=this.$dateUtil.validateDateRange(new Date(e,this.month,1),this.minDate,this.maxDate);this.$dateUtil.isValidDate(t)&&this.$emit("change-month",{month:t.getMonth(),year:t.getFullYear()})}},month:{get(){return this.currentMonthDate.getMonth()+1},set(e){let t=this.$dateUtil.validateDateRange(new Date(this.year,e-1,1),this.minDate,this.maxDate);this.$emit("change-month",{month:t.getMonth()+1,year:t.getFullYear()})}},calendar(){let e=this.month,t=this.currentMonthDate.getFullYear(),i=new Date(t,e-1,1),r=this.$dateUtil.prevMonth(i).getMonth()+1,o=this.$dateUtil.prevMonth(i).getFullYear(),d=new Date(o,e-1,0).getDate(),h=i.getDay(),s=[];for(let K=0;K<6;K++)s[K]=[];let v=d-h+this.locale.firstDay+1;v>d&&(v-=7),h===this.locale.firstDay&&(v=d-6);let R=new Date(o,r-1,v,12,0,0);for(let K=0,k=0,z=0;K<6*7;K++,k++,R.setDate(R.getDate()+1))K>0&&k%7===0&&(k=0,z++),s[z][k]=new Date(R.getTime());return s},months(){let e=this.locale.monthNames.map((t,i)=>({label:t,value:i}));if(this.maxDate&&this.minDate){let t=this.maxDate.getFullYear()-this.minDate.getFullYear();if(t<2){let i=[];if(t<1)for(let r=this.minDate.getMonth();r<=this.maxDate.getMonth();r++)i.push(r);else{for(let r=0;r<=this.maxDate.getMonth();r++)i.push(r);for(let r=this.minDate.getMonth();r<12;r++)i.push(r)}if(i.length>0)return e.filter(r=>i.find(o=>r.value===o)>-1)}}return e},locale(){return this.$dateUtil.localeData(this.localeData)}},watch:{monthDate(e){this.currentMonthDate.getTime()!==e.getTime()&&this.changeMonthDate(e,!1)}}},Z6=e=>(dp("data-v-66e2a2e7"),e=e(),up(),e),Qte={class:"table-condensed"},eie=Z6(()=>Ne("span",null,null,-1)),tie=[eie],iie=["colspan"],nie={class:"row mx-1"},rie=["value"],sie=["colspan"],oie=Z6(()=>Ne("span",null,null,-1)),aie=[oie],lie={key:0,class:"week"},cie={key:0,class:"week"},die=["onClick","onMouseover"];function uie(e,t,i,r,o,d){return dt(),vt("table",Qte,[Ne("thead",null,[Ne("tr",null,[Ne("th",{class:"prev available",onClick:t[0]||(t[0]=(...h)=>d.prevMonthClick&&d.prevMonthClick(...h)),tabindex:"0"},tie),i.showDropdowns?(dt(),vt("th",{key:0,colspan:i.showWeekNumbers?6:5,class:"month"},[Ne("div",nie,[Ms(Ne("select",{"onUpdate:modelValue":t[1]||(t[1]=h=>d.month=h),class:"monthselect col"},[(dt(!0),vt(Yi,null,Xn(d.months,h=>(dt(),vt("option",{key:h.value,value:h.value+1},$i(h.label),9,rie))),128))],512),[[yd,d.month]]),Ms(Ne("input",{ref:"yearSelect",type:"number","onUpdate:modelValue":t[2]||(t[2]=h=>d.year=h),onBlur:t[3]||(t[3]=(...h)=>d.checkYear&&d.checkYear(...h)),class:"yearselect col"},null,544),[[Hc,d.year]])])],8,iie)):(dt(),vt("th",{key:1,colspan:i.showWeekNumbers?6:5,class:"month"},$i(d.monthName)+" "+$i(d.year),9,sie)),Ne("th",{class:"next available",onClick:t[4]||(t[4]=(...h)=>d.nextMonthClick&&d.nextMonthClick(...h)),tabindex:"0"},aie)])]),Ne("tbody",null,[Ne("tr",null,[i.showWeekNumbers?(dt(),vt("th",lie,$i(d.locale.weekLabel),1)):di("",!0),(dt(!0),vt(Yi,null,Xn(d.locale.daysOfWeek,h=>(dt(),vt("th",{key:h},$i(h),1))),128))]),(dt(!0),vt(Yi,null,Xn(d.calendar,(h,s)=>(dt(),vt("tr",{key:s},[i.showWeekNumbers&&(s%7||s===0)?(dt(),vt("td",cie,$i(e.$dateUtil.weekNumber(h[0])),1)):di("",!0),(dt(!0),vt(Yi,null,Xn(h,(v,R)=>(dt(),vt("td",{class:Ln(d.dayClass(v)),onClick:K=>e.$emit("dateClick",v),onMouseover:K=>e.$emit("hoverDate",v),key:R},[vn(e.$slots,"date-slot",{date:v},()=>[rs($i(v.getDate()),1)],!0)],42,die))),128))]))),128))])])}const hie=Cr(Jte,[["render",uie],["__scopeId","data-v-66e2a2e7"]]),pie={props:{miniuteIncrement:{type:Number,default:5},hour24:{type:Boolean,default:!0},secondPicker:{type:Boolean,default:!1},currentTime:{default(){return new Date}},readonly:{type:Boolean,default:!1}},data(){let e=this.currentTime?this.currentTime:new Date,t=e.getHours();return{hour:this.hour24?t:t%12||12,minute:e.getMinutes()-e.getMinutes()%this.miniuteIncrement,second:e.getSeconds(),ampm:t<12?"AM":"PM"}},computed:{hours(){let e=[],t=this.hour24?24:12;for(let i=0;i<t;i++)e.push(this.hour24?i:i+1);return e},minutes(){let e=[],t=60;for(let i=0;i<t;i=i+this.miniuteIncrement)e.push(i);return e}},watch:{hour(){this.onChange()},minute(){this.onChange()},second(){this.onChange()},ampm(){this.onChange()}},methods:{formatNumber:e=>e<10?"0"+e.toString():e.toString(),getHour(){return this.hour24?this.hour:this.hour===12?this.ampm==="AM"?0:12:this.hour+(this.ampm==="PM"?12:0)},onChange(){this.$emit("update",{hours:this.getHour(),minutes:this.minute,seconds:this.second})}}},fie={class:"calendar-time"},mie=["disabled"],gie=["value"],yie=["disabled"],_ie=["value"],vie=["disabled"],xie=["value"],bie=["disabled"],wie=Ne("option",{value:"AM"},"AM",-1),Tie=Ne("option",{value:"PM"},"PM",-1),Sie=[wie,Tie];function Cie(e,t,i,r,o,d){return dt(),vt("div",fie,[Ms(Ne("select",{"onUpdate:modelValue":t[0]||(t[0]=h=>o.hour=h),class:"hourselect form-control mr-1",disabled:i.readonly},[(dt(!0),vt(Yi,null,Xn(d.hours,h=>(dt(),vt("option",{key:h,value:h},$i(d.formatNumber(h)),9,gie))),128))],8,mie),[[yd,o.hour]]),rs(" :"),Ms(Ne("select",{"onUpdate:modelValue":t[1]||(t[1]=h=>o.minute=h),class:"minuteselect form-control ml-1",disabled:i.readonly},[(dt(!0),vt(Yi,null,Xn(d.minutes,h=>(dt(),vt("option",{key:h,value:h},$i(d.formatNumber(h)),9,_ie))),128))],8,yie),[[yd,o.minute]]),i.secondPicker?(dt(),vt(Yi,{key:0},[rs(" :"),Ms(Ne("select",{"onUpdate:modelValue":t[2]||(t[2]=h=>o.second=h),class:"secondselect form-control ml-1",disabled:i.readonly},[(dt(),vt(Yi,null,Xn(60,h=>Ne("option",{key:h-1,value:h-1},$i(d.formatNumber(h-1)),9,xie)),64))],8,vie),[[yd,o.second]])],64)):di("",!0),i.hour24?di("",!0):Ms((dt(),vt("select",{key:1,"onUpdate:modelValue":t[3]||(t[3]=h=>o.ampm=h),class:"ampmselect",disabled:i.readonly},Sie,8,bie)),[[yd,o.ampm]])])}const Eie=Cr(pie,[["render",Cie]]),Mie={mixins:[$C],props:{ranges:Object,selected:Object,localeData:Object,alwaysShowCalendars:Boolean},data(){return{customRangeActive:!1}},methods:{clickRange(e){this.customRangeActive=!1,this.$emit("clickRange",e)},clickCustomRange(){this.customRangeActive=!0,this.$emit("showCustomRange")},range_class(e){return{active:e.selected===!0}}},computed:{listedRanges(){return this.ranges?Object.keys(this.ranges).map(e=>({label:e,value:this.ranges[e],selected:this.$dateUtil.isSame(this.selected.startDate,this.ranges[e][0])&&this.$dateUtil.isSame(this.selected.endDate,this.ranges[e][1])})):!1},selectedRange(){return this.listedRanges.find(e=>e.selected===!0)},showCustomRangeLabel(){return!this.alwaysShowCalendars}}},kie={class:"ranges"},Aie={key:0},Pie=["onClick","data-range-key"];function Die(e,t,i,r,o,d){return dt(),vt("div",kie,[i.ranges?(dt(),vt("ul",Aie,[(dt(!0),vt(Yi,null,Xn(d.listedRanges,h=>(dt(),vt("li",{onClick:s=>d.clickRange(h.value),"data-range-key":h.label,key:h.label,class:Ln(d.range_class(h)),tabindex:"0"},$i(h.label),11,Pie))),128)),d.showCustomRangeLabel?(dt(),vt("li",{key:0,class:Ln({active:o.customRangeActive||!d.selectedRange}),onClick:t[0]||(t[0]=(...h)=>d.clickCustomRange&&d.clickCustomRange(...h)),tabindex:"0"},$i(i.localeData.customRangeLabel),3)):di("",!0)])):di("",!0)])}const Iie=Cr(Mie,[["render",Die]]),Lie={mounted(e,{instance:t}){if(t.appendToBody){const{height:i,top:r,left:o,width:d,right:h}=t.$refs.toggle.getBoundingClientRect();e.unbindPosition=t.calculatePosition(e,t,{width:d,top:window.scrollY+r+i,left:window.scrollX+o,right:h}),document.body.appendChild(e)}else t.$el.appendChild(e)},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},Oie={inheritAttrs:!1,components:{Calendar:hie,CalendarTime:Eie,CalendarRanges:Iie},mixins:[$C],directives:{appendToBody:Lie},emits:["update:modelValue","toggle","hoverDate","startSelection","select","change-month","finishSelection"],props:{modelValue:{type:Object},minDate:{type:[String,Date],default(){return null}},maxDate:{type:[String,Date],default(){return null}},showWeekNumbers:{type:Boolean,default:!1},linkedCalendars:{type:Boolean,default:!0},singleDatePicker:{type:[Boolean,String],default:!1},showDropdowns:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},timePickerIncrement:{type:Number,default:5},timePicker24Hour:{type:Boolean,default:!0},timePickerSeconds:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},localeData:{type:Object,default(){return{}}},dateRange:{type:[Object],default:null,required:!0},ranges:{type:[Object,Boolean],default(){let e=new Date;e.setHours(0,0,0,0);let t=new Date;t.setHours(11,59,59,999);let i=new Date;i.setDate(e.getDate()-1),i.setHours(0,0,0,0);let r=new Date;r.setDate(e.getDate()-1),r.setHours(11,59,59,999);let o=new Date(e.getFullYear(),e.getMonth(),1),d=new Date(e.getFullYear(),e.getMonth()+1,0,11,59,59,999);return{Today:[e,t],Yesterday:[i,r],"This month":[o,d],"This year":[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31,11,59,59,999)],"Last month":[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0,11,59,59,999)]}}},opens:{type:String,default:"center"},dateFormat:Function,alwaysShowCalendars:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},controlContainerClass:{type:[Object,String],default:"form-control reportrange-text"},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:i,top:r,left:o,right:d}){t.opens==="center"?e.style.left=o+i/2+"px":t.opens==="left"?e.style.right=window.innerWidth-d+"px":t.opens==="right"&&(e.style.left=o+"px"),e.style.top=r+"px"}},closeOnEsc:{type:Boolean,default:!0},readonly:{type:Boolean}},data(){const e=X6;let t={locale:e.localeData({...this.localeData})},i=this.dateRange.startDate||null,r=this.dateRange.endDate||null;if(t.monthDate=i?new Date(i):new Date,t.nextMonthDate=e.nextMonth(t.monthDate),t.start=i?new Date(i):null,this.singleDatePicker&&this.singleDatePicker!=="range"?t.end=t.start:t.end=r?new Date(r):null,t.in_selection=!1,t.open=!1,t.showCustomRangeCalendars=!1,t.locale.firstDay!==0){let o=t.locale.firstDay,d=[...t.locale.daysOfWeek];for(;o>0;)d.push(d.shift()),o--;t.locale.daysOfWeek=d}return t},methods:{dateFormatFn(e,t){let i=new Date(t);i.setHours(0,0,0,0);let r=new Date(this.start);r.setHours(0,0,0,0);let o=new Date(this.end);return o.setHours(0,0,0,0),e["in-range"]=i>=r&&i<=o,this.dateFormat?this.dateFormat(e,t):e},changeLeftMonth(e){let t=new Date(e.year,e.month-1,1);this.monthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.monthDate)>=this.$dateUtil.yearMonth(this.nextMonthDate))&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(t),this.minDate,this.maxDate),(!this.singleDatePicker||this.singleDatePicker==="range")&&this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(this.monthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,0)},changeRightMonth(e){let t=new Date(e.year,e.month-1,1);this.nextMonthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.nextMonthDate)<=this.$dateUtil.yearMonth(this.monthDate))&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(t),this.minDate,this.maxDate),this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(this.nextMonthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,1)},normalizeDatetime(e,t){let i=new Date(e);return this.timePicker&&t&&(i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),i.setSeconds(t.getSeconds()),i.setMilliseconds(t.getMilliseconds())),i},dateClick(e){if(this.readonly)return!1;this.in_selection?(this.in_selection=!1,this.end=this.normalizeDatetime(e,this.end),this.end<this.start&&(this.in_selection=!0,this.start=this.normalizeDatetime(e,this.start),this.$emit("startSelection",this.start)),this.in_selection||(this.$emit("finishSelection",this.end),this.onSelect(),this.autoApply&&this.clickedApply())):(this.start=this.normalizeDatetime(e,this.start),this.end=this.normalizeDatetime(e,this.end),!this.singleDatePicker||this.singleDatePicker==="range"?(this.in_selection=!0,this.$emit("startSelection",this.start)):(this.onSelect(),this.autoApply&&this.clickedApply()))},hoverDate(e){if(this.readonly)return!1;let t=this.normalizeDatetime(e,this.end);this.in_selection&&t>=this.start&&(this.end=t),this.$emit("hoverDate",e)},onClickPicker(){this.disabled||this.togglePicker(null,!0)},togglePicker(e,t){typeof e=="boolean"?this.open=e:this.open=!this.open,t===!0&&this.$emit("toggle",this.open,this.togglePicker)},clickedApply(){this.togglePicker(!1,!0),this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},clickCancel(){if(this.open){let e=this.dateRange.startDate,t=this.dateRange.endDate;this.start=e?new Date(e):null,this.end=t?new Date(t):null,this.in_selection=!1,this.togglePicker(!1,!0)}},onSelect(){this.$emit("select",{startDate:this.start,endDate:this.end})},clickAway(e){e&&e.target&&!this.$el.contains(e.target)&&this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&this.clickCancel()},clickRange(e){this.in_selection=!1,this.$dateUtil.isValidDate(e[0])&&this.$dateUtil.isValidDate(e[1])?(this.start=this.$dateUtil.validateDateRange(new Date(e[0]),this.minDate,this.maxDate),this.end=this.$dateUtil.validateDateRange(new Date(e[1]),this.minDate,this.maxDate),this.changeLeftMonth({month:this.start.getMonth()+1,year:this.start.getFullYear()}),this.linkedCalendars===!1&&this.changeRightMonth({month:this.end.getMonth()+1,year:this.end.getFullYear()})):(this.start=null,this.end=null),this.onSelect(),this.autoApply&&this.clickedApply()},onUpdateStartTime(e){let t=new Date(this.start);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.start=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},onUpdateEndTime(e){let t=new Date(this.end);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.end=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.end})},handleEscape(e){this.open&&e.keyCode===27&&this.closeOnEsc&&this.clickCancel()}},computed:{showRanges(){return this.ranges!==!1&&!this.readonly},showCalendars(){return this.alwaysShowCalendars||this.showCustomRangeCalendars},startText(){return this.start===null?"":this.$dateUtil.format(this.start,this.locale.format)},endText(){return this.end===null?"":this.$dateUtil.format(this.end,this.locale.format)},rangeText(){let e=this.startText;return(!this.singleDatePicker||this.singleDatePicker==="range")&&(e+=this.locale.separator+this.endText),e},min(){return this.minDate?new Date(this.minDate):null},max(){return this.maxDate?new Date(this.maxDate):null},pickerStyles(){return{"show-calendar":this.open||this.opens==="inline","show-ranges":this.showRanges,"show-weeknumbers":this.showWeekNumbers,single:this.singleDatePicker,["opens"+this.opens]:!0,linked:this.linkedCalendars,"hide-calendars":!this.showCalendars}},isClear(){return!this.dateRange.startDate||!this.dateRange.endDate},isDirty(){let e=new Date(this.dateRange.startDate),t=new Date(this.dateRange.endDate);return!this.isClear&&(this.start.getTime()!==e.getTime()||this.end.getTime()!==t.getTime())}},watch:{minDate(){let e=this.$dateUtil.validateDateRange(this.monthDate,this.minDate||new Date,this.maxDate);this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},maxDate(){let e=this.$dateUtil.validateDateRange(this.nextMonthDate,this.minDate,this.maxDate||new Date);this.changeRightMonth({year:e.getFullYear(),month:e.getMonth()+1})},"dateRange.startDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.start=e&&!this.isClear&&this.$dateUtil.isValidDate(new Date(e))?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},"dateRange.endDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.end=e&&!this.isClear?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},open:{handler(e){typeof document=="object"&&this.$nextTick(()=>{e?document.body.addEventListener("click",this.clickAway):document.body.removeEventListener("click",this.clickAway),e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape),!this.alwaysShowCalendars&&this.ranges&&(this.showCustomRangeCalendars=!Object.keys(this.ranges).find(t=>this.$dateUtil.isSame(this.start,this.ranges[t][0],"date")&&this.$dateUtil.isSame(this.end,this.ranges[t][1],"date")))})},immediate:!0}}},K6=e=>(dp("data-v-577c3804"),e=e(),up(),e),Rie=K6(()=>Ne("i",{class:"glyphicon glyphicon-calendar fa fa-calendar"},null,-1)),Bie=K6(()=>Ne("b",{class:"caret"},null,-1)),zie={class:"calendars"},Nie={key:1,class:"calendars-container"},Fie={class:"calendar-table"},jie={key:0,class:"drp-calendar col right"},Uie={class:"calendar-table"},$ie={key:0,class:"drp-buttons"},Vie={key:0,class:"drp-selected"},Gie=["disabled"];function Hie(e,t,i,r,o,d){const h=ur("calendar-ranges"),s=ur("calendar"),v=ur("calendar-time"),R=jb("append-to-body");return dt(),vt("div",{class:Ln(["vue-daterange-picker",{inline:i.opens==="inline"}])},[Ne("div",{class:Ln(i.controlContainerClass),onClick:t[0]||(t[0]=(...K)=>d.onClickPicker&&d.onClickPicker(...K)),ref:"toggle"},[vn(e.$slots,"input",{startDate:e.start,endDate:e.end,ranges:i.ranges,rangeText:d.rangeText},()=>[Rie,rs("  "),Ne("span",null,$i(d.rangeText),1),Bie],!0)],2),an(Au,{name:"slide-fade",mode:"out-in"},{default:Hn(()=>[e.open||i.opens==="inline"?Ms((dt(),vt("div",{key:0,class:Ln(["daterangepicker ltr",d.pickerStyles]),ref:"dropdown"},[vn(e.$slots,"header",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:i.autoApply},void 0,!0),Ne("div",zie,[d.showRanges?vn(e.$slots,"ranges",{key:0,startDate:e.start,endDate:e.end,ranges:i.ranges,clickRange:d.clickRange},()=>[an(h,{onClickRange:d.clickRange,onShowCustomRange:t[1]||(t[1]=K=>e.showCustomRangeCalendars=!0),"always-show-calendars":i.alwaysShowCalendars,"locale-data":e.locale,ranges:i.ranges,selected:{startDate:e.start,endDate:e.end}},null,8,["onClickRange","always-show-calendars","locale-data","ranges","selected"])],!0):di("",!0),d.showCalendars?(dt(),vt("div",Nie,[Ne("div",{class:Ln(["drp-calendar col left",{single:i.singleDatePicker}])},[di("",!0),Ne("div",Fie,[an(s,{monthDate:e.monthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":i.showDropdowns,onChangeMonth:d.changeLeftMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:i.showWeekNumbers},{default:Hn(()=>[vn(e.$slots,"date",Ca(Bl(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),i.timePicker&&e.start?(dt(),Dr(v,{key:1,onUpdate:d.onUpdateStartTime,"miniute-increment":i.timePickerIncrement,hour24:i.timePicker24Hour,"second-picker":i.timePickerSeconds,"current-time":e.start,readonly:i.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):di("",!0)],2),i.singleDatePicker?di("",!0):(dt(),vt("div",jie,[di("",!0),Ne("div",Uie,[an(s,{monthDate:e.nextMonthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":i.showDropdowns,onChangeMonth:d.changeRightMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:i.showWeekNumbers},{default:Hn(()=>[vn(e.$slots,"date",Ca(Bl(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),i.timePicker&&e.end?(dt(),Dr(v,{key:1,onUpdate:d.onUpdateEndTime,"miniute-increment":i.timePickerIncrement,hour24:i.timePicker24Hour,"second-picker":i.timePickerSeconds,"current-time":e.end,readonly:i.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):di("",!0)]))])):di("",!0)]),vn(e.$slots,"footer",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:i.autoApply},()=>[i.autoApply?di("",!0):(dt(),vt("div",$ie,[d.showCalendars?(dt(),vt("span",Vie,$i(d.rangeText),1)):di("",!0),i.readonly?di("",!0):(dt(),vt("button",{key:1,class:"cancelBtn btn btn-sm btn-secondary",type:"button",onClick:t[2]||(t[2]=(...K)=>d.clickCancel&&d.clickCancel(...K))},$i(e.locale.cancelLabel),1)),i.readonly?di("",!0):(dt(),vt("button",{key:2,class:"applyBtn btn btn-sm btn-success",disabled:e.in_selection,type:"button",onClick:t[3]||(t[3]=(...K)=>d.clickedApply&&d.clickedApply(...K))},$i(e.locale.applyLabel),9,Gie))]))],!0)],2)),[[R]]):di("",!0)]),_:3})],2)}const Wie=Cr(Oie,[["render",Hie],["__scopeId","data-v-577c3804"]]),Yie={name:"DateRange",components:{DateRangePicker:Wie},data(){return{dateRange:{startDate:new Date,endDate:new Date},locale:{direction:"ltr",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:bn.weekdaysMin(),monthNames:bn.monthsShort(),firstDay:1}}},methods:{updatePicker(e){this.$emit("selected",e)}}};function qie(e,t,i,r,o,d){const h=ur("date-range-picker");return dt(),Dr(h,{ref:"picker",modelValue:o.dateRange,"onUpdate:modelValue":t[0]||(t[0]=s=>o.dateRange=s),dateRange:o.dateRange,"locale-data":o.locale,timePicker:"",timePicker24Hour:"",onUpdate:d.updatePicker,onSelect:d.updatePicker},{input:Hn(s=>[rs($i(e.$filters.dateformat(s.startDate))+" - "+$i(e.$filters.dateformat(s.endDate)),1)]),_:1},8,["modelValue","dateRange","locale-data","onUpdate","onSelect"])}const J6=Cr(Yie,[["render",qie]]);UC(yc);G6(yc);const Xie={components:{Chart:rm.Chart,DateRange:J6,DropdownSelect:Y6},props:{url:String,title:String,columns:Array},data(){return{params:{from:new Date(new Date().setDate(new Date().getDate()-1)),to:new Date,interval:60},defColumns:[],items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},mounted(){this.defColumns=mb.sampleSize(this.columns,5)},methods:{selected(e){this.items=e,this.showChart()},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],i=[];this.items.forEach((o,d)=>{let h=H6[d];t[d]={title:{text:o.text,style:{color:h,fontSize:"10px"}},lineColor:h,labels:{style:{color:h},align:"left",x:14},lineWidth:1,opposite:!0},o.range&&(t[d].min=o.range[0],t[d].max=o.range[1]),e[d]={id:o.data,row:o.data,yAxis:d,type:o.type?o.type:"spline",name:o.text,color:h,lineWidth:1,data:[]},i[d]=o.data}),this.options.series=e,this.options.yAxis=t,this.params.select=i,(await axios.get(this.url,{params:this.params}).then(o=>o.data)).forEach(o=>{let d=o.unix_time;this.options.series.forEach((h,s)=>{let v=o[h.row];this.options.series[s].data.push([d,v])})}),this.$refs.chart.chart.hideLoading()}}},Zie={class:"row"},Kie={class:"col-12"},Jie={class:"table-title mb-4 mt-2"},Qie={class:"row justify-content-end"},ene={class:"col-6"},tne={class:"col-6"},ine={class:"d-flex align-items-center justify-content-end gap-1"},nne=Ne("option",{value:"5"},"5m",-1),rne=Ne("option",{value:"30"},"30m",-1),sne=Ne("option",{value:"60"},"1 H",-1),one=Ne("option",{value:"1440"},"1 D",-1),ane=[nne,rne,sne,one];function lne(e,t,i,r,o,d){const h=ur("dropdown-select"),s=ur("VueDatePicker"),v=ur("Chart");return dt(),vt("div",Zie,[Ne("div",Kie,[Ne("div",Jie,[Ne("h6",null,$i(i.title),1)]),Ne("div",Qie,[Ne("div",ene,[an(h,{options:i.columns,onChecked:d.selected,default:o.defColumns},null,8,["options","onChecked","default"])]),Ne("div",tne,[Ne("div",ine,[an(s,{modelValue:o.params.from,"onUpdate:modelValue":t[0]||(t[0]=R=>o.params.from=R)},null,8,["modelValue"]),an(s,{modelValue:o.params.to,"onUpdate:modelValue":t[1]||(t[1]=R=>o.params.to=R)},null,8,["modelValue"]),Ms(Ne("select",{class:"form-control w-5 bordered","onUpdate:modelValue":t[2]||(t[2]=R=>o.params.interval=R)},ane,512),[[yd,o.params.interval]]),Ne("button",{onClick:t[3]||(t[3]=(...R)=>d.showChart&&d.showChart(...R)),class:"btn btn-primary"},"SHOW")])])]),an(v,{ref:"chart",options:o.options,constructorType:"stockChart"},null,8,["options"])])])}const cne=Cr(Xie,[["render",lne]]);UC(yc);G6(yc);const dne={components:{Chart:rm.Chart,DateRange:J6,DropdownSelect:Y6},props:{url:String,title:String,columns:Array,socketConfig:Object,fleet:Object},data(){return{socket:null,connected:!1,defColumns:[],params:{},items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},async mounted(){this.socket=io(this.socketConfig.url,{transports:["websocket"]}),this.socket.on("connect",()=>this.connected=!0),this.socket.on("disconnect",()=>this.connected=!1),this.socket.emit("subscribe",`fleet-${this.fleet.id}`),this.socket.on(this.socketConfig.event,this.onMessage),this.defColumns=await mb.sampleSize(this.columns,3),await this.showChart()},methods:{selected(e){this.items=e,this.showChart()},onMessage(e){let t=JSON.parse(e.toString()),i=parseInt(new Date(t.terminal_time).getTime().toFixed(0));this.options.series.forEach((r,o)=>{this.options.series[o].data.shift();let d=t[r.row];this.options.series[o].data.push([i,d])})},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],i=[];this.items.forEach((o,d)=>{let h=H6[d];t[d]={title:{text:o.text,style:{color:h,fontSize:"10px"}},lineColor:h,labels:{style:{color:h},align:"left",x:14},lineWidth:1,opposite:!0},o.range&&(t[d].min=o.range[0],t[d].max=o.range[1]),e[d]={id:o.data,row:o.data,yAxis:d,type:o.type?o.type:"spline",name:o.text,color:h,lineWidth:1,data:[]},i[d]=o.data}),this.options.series=e,this.options.yAxis=t,this.params.select=i,(await axios.get(this.url).then(o=>o.data)).forEach(o=>{let d=parseInt(new Date(o.terminal_time).getTime().toFixed(0));this.options.series.forEach((h,s)=>{let v=parseFloat(o.data[h.row]);this.options.series[s].data.push([d,v])})}),this.$refs.chart.chart.hideLoading()}}},une={class:"row"},hne={class:"col-12"},pne={class:"table-title mb-4 mt-2"},fne={class:"row justify-content-end"},mne={class:"col-12"};function gne(e,t,i,r,o,d){const h=ur("dropdown-select"),s=ur("Chart");return dt(),vt("div",une,[Ne("div",hne,[Ne("div",pne,[Ne("h6",null,$i(i.title),1)]),Ne("div",fne,[Ne("div",mne,[an(h,{options:i.columns,onChecked:d.selected,default:o.defColumns},null,8,["options","onChecked","default"])])]),an(s,{ref:"chart",options:o.options,constructorType:"stockChart"},null,8,["options"])])])}const yne=Cr(dne,[["render",gne]]),_ne={props:{title:String,fleet:Object,sensors:Array},data(){return{}}},vne={class:"row"},xne={class:"col-12"},bne={class:"table-title"},wne={class:"table table-sm"},Tne=Ne("th",{scope:"row"},"•",-1),Sne={class:"text-end"};function Cne(e,t,i,r,o,d){return dt(),vt("div",vne,[Ne("div",xne,[Ne("div",bne,[Ne("h6",null,$i(i.title),1)]),Ne("table",wne,[Ne("tbody",null,[(dt(!0),vt(Yi,null,Xn(i.sensors,(h,s)=>(dt(),vt("tr",null,[Tne,Ne("td",null,$i(h.name),1),Ne("td",Sne,$i(h.value)+" "+$i(h.unit),1)]))),256))])])])])}const Ene=Cr(_ne,[["render",Cne]]),Mne={props:{svgPath:String,url:String,group:String},components:{ChartSvg:M_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet[this.group];if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=engine[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function kne(e,t,i,r,o,d){const h=ur("chart-svg");return dt(),vt("div",null,[an(h,{path:i.svgPath,svgData:o.data,height:550},null,8,["path","svgData"])])}const Ane=Cr(Mne,[["render",kne]]),Pne={props:{url:String,mapping:Array},data(){return{data:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.data=await axios.get(this.url).then(e=>e.data)}}},Dne={class:"row"},Ine={class:"col-12"},Lne=Ne("div",{class:"table-title"},[Ne("h6",null,"Data Information")],-1),One={key:0,class:"table table-sm"},Rne=Ne("th",{scope:"row"},"•",-1),Bne=Ne("td",null,"Updated at",-1),zne={class:"text-end"},Nne=Ne("th",{scope:"row"},"•",-1),Fne={class:"text-end"},jne=["innerHTML"];function Une(e,t,i,r,o,d){return dt(),vt("div",Dne,[Ne("div",Ine,[Lne,o.data?(dt(),vt("table",One,[Ne("tbody",null,[Ne("tr",null,[Rne,Bne,Ne("td",zne,$i(o.data.terminal_time),1)]),(dt(!0),vt(Yi,null,Xn(i.mapping,h=>(dt(),vt("tr",{key:h.data},[Nne,Ne("td",null,$i(h.text),1),Ne("td",Fne,[rs($i(o.data[h.data])+" ",1),Ne("span",{innerHTML:h.unit},null,8,jne)])]))),128))])])):di("",!0)])])}const $ne=Cr(Pne,[["render",Une]]),Vne={components:{MapboxMap:C_,MapboxNavigationControl:E_},props:{lat:String,lng:String,style:Object},data(){return{map:null,location:{lat:0,lng:0},marker:null}},methods:{loaded(){this.location={lat:this.lat,lng:this.lng},this.marker=new Vl.Marker,this.marker.setLngLat(this.location).addTo(this.map),this.map.on("click",this.addMarker.bind(this))},addMarker(e){this.location=e.lngLat,this.marker.setLngLat(this.location).addTo(this.map)}}},Gne={class:"col-12"},Hne={class:"mapbox-pinned"},Wne={class:"col-12"},Yne={class:"form-group mb-3"},qne=Ne("label",null,"Latitude",-1),Xne={class:"col-12"},Zne={class:"form-group mb-3"},Kne=Ne("label",null,"Longitude",-1);function Jne(e,t,i,r,o,d){const h=ur("MapboxNavigationControl"),s=ur("MapboxMap");return dt(),vt(Yi,null,[Ne("div",Gne,[Ne("div",Hne,[an(s,{onMbCreated:t[0]||(t[0]=v=>o.map=v),onMbLoad:d.loaded,style:$o(i.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[o.location.lng,o.location.lat],zoom:7},{default:Hn(()=>[an(h,{position:"bottom-right"})]),_:1},8,["onMbLoad","style","center"])])]),Ne("div",Wne,[Ne("div",Yne,[qne,Ms(Ne("input",{name:"lat",type:"text","onUpdate:modelValue":t[1]||(t[1]=v=>o.location.lat=v),class:"form-control"},null,512),[[Hc,o.location.lat]])])]),Ne("div",Xne,[Ne("div",Zne,[Kne,Ms(Ne("input",{name:"lng",type:"text","onUpdate:modelValue":t[2]||(t[2]=v=>o.location.lng=v),class:"form-control"},null,512),[[Hc,o.location.lng]])])])],64)}const Qne=Cr(Vne,[["render",Jne]]),Ws=zS({});Ws.use(T$);Ws.use(zz);Ws.component("VueDatePicker",IC);Ws.component("map-dashboard",Jq);Ws.component("map-history",pX);Ws.component("map-default",_X);Ws.component("map-voyage",$X);Ws.component("map-bridge",JX);Ws.component("slider-submenu",$K);Ws.component("charts-fuel",cJ);Ws.component("charts-graph",fJ);Ws.component("charts-spline",_J);Ws.component("fleet-information",gQ);Ws.component("fleet-side-info",yee);Ws.component("fleet-cargo",Eee);Ws.component("fleet-bunker",Lee);Ws.component("fleet-ballast",jee);Ws.component("compass",$6);Ws.component("engine-type-s",Vee);Ws.component("user-permission",Qee);Ws.component("table-editable",Dte);Ws.component("trend-view",cne);Ws.component("trend-live",yne);Ws.component("sensor-info",Ene);Ws.component("mimic-svg",Ane);Ws.component("data-info",$ne);Ws.component("map-pinned",Qne);Ws.config.globalProperties.$filters={dateformat(e,t="DD/MM/YYYY HH:mm"){return bn(e,"YYYY-MM-DD HH:mm:ss").format(t)},str_limit(e,t=7){return e.toString().substring(0,t)},textFormat(e){return e.toLowerCase().capitalize()},number(e){let t=Number.parseFloat(e).toFixed(2);return Number.parseFloat(t).toLocaleString()}};Ws.mount("#app")});export default ere();
